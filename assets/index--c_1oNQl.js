(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var fR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xg={exports:{}},df={};var ry;function E3(){if(ry)return df;ry=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return df.Fragment=e,df.jsx=t,df.jsxs=t,df}var ay;function T3(){return ay||(ay=1,xg.exports=E3()),xg.exports}var g=T3(),_g={exports:{}},tn={};var sy;function C3(){if(sy)return tn;sy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function _(J){return J===null||typeof J!="object"?null:(J=C&&J[C]||J["@@iterator"],typeof J=="function"?J:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function F(J,k,O){this.props=J,this.context=k,this.refs=U,this.updater=O||P}F.prototype.isReactComponent={},F.prototype.setState=function(J,k){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,k,"setState")},F.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function ie(){}ie.prototype=F.prototype;function K(J,k,O){this.props=J,this.context=k,this.refs=U,this.updater=O||P}var ae=K.prototype=new ie;ae.constructor=K,q(ae,F.prototype),ae.isPureReactComponent=!0;var Se=Array.isArray;function Ne(){}var $={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function w(J,k,O){var Y=O.ref;return{$$typeof:n,type:J,key:k,ref:Y!==void 0?Y:null,props:O}}function V(J,k){return w(J.type,k,J.props)}function I(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function N(J){var k={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(O){return k[O]})}var E=/\/+/g;function X(J,k){return typeof J=="object"&&J!==null&&J.key!=null?N(""+J.key):k.toString(36)}function pe(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(Ne,Ne):(J.status="pending",J.then(function(k){J.status==="pending"&&(J.status="fulfilled",J.value=k)},function(k){J.status==="pending"&&(J.status="rejected",J.reason=k)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function re(J,k,O,Y,G){var se=typeof J;(se==="undefined"||se==="boolean")&&(J=null);var fe=!1;if(J===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(J.$$typeof){case n:case e:fe=!0;break;case v:return fe=J._init,re(fe(J._payload),k,O,Y,G)}}if(fe)return G=G(J),fe=Y===""?"."+X(J,0):Y,Se(G)?(O="",fe!=null&&(O=fe.replace(E,"$&/")+"/"),re(G,k,O,"",function(Oe){return Oe})):G!=null&&(I(G)&&(G=V(G,O+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace(E,"$&/")+"/")+fe)),k.push(G)),1;fe=0;var _e=Y===""?".":Y+":";if(Se(J))for(var ge=0;ge<J.length;ge++)Y=J[ge],se=_e+X(Y,ge),fe+=re(Y,k,O,se,G);else if(ge=_(J),typeof ge=="function")for(J=ge.call(J),ge=0;!(Y=J.next()).done;)Y=Y.value,se=_e+X(Y,ge++),fe+=re(Y,k,O,se,G);else if(se==="object"){if(typeof J.then=="function")return re(pe(J),k,O,Y,G);throw k=String(J),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return fe}function he(J,k,O){if(J==null)return J;var Y=[],G=0;return re(J,Y,"","",function(se){return k.call(O,se,G++)}),Y}function te(J){if(J._status===-1){var k=J._result;k=k(),k.then(function(O){(J._status===0||J._status===-1)&&(J._status=1,J._result=O)},function(O){(J._status===0||J._status===-1)&&(J._status=2,J._result=O)}),J._status===-1&&(J._status=0,J._result=k)}if(J._status===1)return J._result.default;throw J._result}var de=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Re={map:he,forEach:function(J,k,O){he(J,function(){k.apply(this,arguments)},O)},count:function(J){var k=0;return he(J,function(){k++}),k},toArray:function(J){return he(J,function(k){return k})||[]},only:function(J){if(!I(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return tn.Activity=A,tn.Children=Re,tn.Component=F,tn.Fragment=t,tn.Profiler=s,tn.PureComponent=K,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,tn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return $.H.useMemoCache(J)}},tn.cache=function(J){return function(){return J.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(J,k,O){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Y=q({},J.props),G=J.key;if(k!=null)for(se in k.key!==void 0&&(G=""+k.key),k)!M.call(k,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&k.ref===void 0||(Y[se]=k[se]);var se=arguments.length-2;if(se===1)Y.children=O;else if(1<se){for(var fe=Array(se),_e=0;_e<se;_e++)fe[_e]=arguments[_e+2];Y.children=fe}return w(J.type,G,Y)},tn.createContext=function(J){return J={$$typeof:c,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},tn.createElement=function(J,k,O){var Y,G={},se=null;if(k!=null)for(Y in k.key!==void 0&&(se=""+k.key),k)M.call(k,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(G[Y]=k[Y]);var fe=arguments.length-2;if(fe===1)G.children=O;else if(1<fe){for(var _e=Array(fe),ge=0;ge<fe;ge++)_e[ge]=arguments[ge+2];G.children=_e}if(J&&J.defaultProps)for(Y in fe=J.defaultProps,fe)G[Y]===void 0&&(G[Y]=fe[Y]);return w(J,se,G)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(J){return{$$typeof:h,render:J}},tn.isValidElement=I,tn.lazy=function(J){return{$$typeof:v,_payload:{_status:-1,_result:J},_init:te}},tn.memo=function(J,k){return{$$typeof:d,type:J,compare:k===void 0?null:k}},tn.startTransition=function(J){var k=$.T,O={};$.T=O;try{var Y=J(),G=$.S;G!==null&&G(O,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ne,de)}catch(se){de(se)}finally{k!==null&&O.types!==null&&(k.types=O.types),$.T=k}},tn.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},tn.use=function(J){return $.H.use(J)},tn.useActionState=function(J,k,O){return $.H.useActionState(J,k,O)},tn.useCallback=function(J,k){return $.H.useCallback(J,k)},tn.useContext=function(J){return $.H.useContext(J)},tn.useDebugValue=function(){},tn.useDeferredValue=function(J,k){return $.H.useDeferredValue(J,k)},tn.useEffect=function(J,k){return $.H.useEffect(J,k)},tn.useEffectEvent=function(J){return $.H.useEffectEvent(J)},tn.useId=function(){return $.H.useId()},tn.useImperativeHandle=function(J,k,O){return $.H.useImperativeHandle(J,k,O)},tn.useInsertionEffect=function(J,k){return $.H.useInsertionEffect(J,k)},tn.useLayoutEffect=function(J,k){return $.H.useLayoutEffect(J,k)},tn.useMemo=function(J,k){return $.H.useMemo(J,k)},tn.useOptimistic=function(J,k){return $.H.useOptimistic(J,k)},tn.useReducer=function(J,k,O){return $.H.useReducer(J,k,O)},tn.useRef=function(J){return $.H.useRef(J)},tn.useState=function(J){return $.H.useState(J)},tn.useSyncExternalStore=function(J,k,O){return $.H.useSyncExternalStore(J,k,O)},tn.useTransition=function(){return $.H.useTransition()},tn.version="19.2.4",tn}var oy;function W0(){return oy||(oy=1,_g.exports=C3()),_g.exports}var Ze=W0();const ax=A3(Ze);var wg={exports:{}},pf={},Sg={exports:{}},Ag={};var ly;function N3(){return ly||(ly=1,(function(n){function e(re,he){var te=re.length;re.push(he);e:for(;0<te;){var de=te-1>>>1,Re=re[de];if(0<s(Re,he))re[de]=he,re[te]=Re,te=de;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var he=re[0],te=re.pop();if(te!==he){re[0]=te;e:for(var de=0,Re=re.length,J=Re>>>1;de<J;){var k=2*(de+1)-1,O=re[k],Y=k+1,G=re[Y];if(0>s(O,te))Y<Re&&0>s(G,O)?(re[de]=G,re[Y]=te,de=Y):(re[de]=O,re[k]=te,de=k);else if(Y<Re&&0>s(G,te))re[de]=G,re[Y]=te,de=Y;else break e}}return he}function s(re,he){var te=re.sortIndex-he.sortIndex;return te!==0?te:re.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,A=null,C=3,_=!1,P=!1,q=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ae(re){for(var he=t(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=re)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(d)}}function Se(re){if(q=!1,ae(re),!P)if(t(f)!==null)P=!0,Ne||(Ne=!0,N());else{var he=t(d);he!==null&&pe(Se,he.startTime-re)}}var Ne=!1,$=-1,M=5,w=-1;function V(){return U?!0:!(n.unstable_now()-w<M)}function I(){if(U=!1,Ne){var re=n.unstable_now();w=re;var he=!0;try{e:{P=!1,q&&(q=!1,ie($),$=-1),_=!0;var te=C;try{t:{for(ae(re),A=t(f);A!==null&&!(A.expirationTime>re&&V());){var de=A.callback;if(typeof de=="function"){A.callback=null,C=A.priorityLevel;var Re=de(A.expirationTime<=re);if(re=n.unstable_now(),typeof Re=="function"){A.callback=Re,ae(re),he=!0;break t}A===t(f)&&r(f),ae(re)}else r(f);A=t(f)}if(A!==null)he=!0;else{var J=t(d);J!==null&&pe(Se,J.startTime-re),he=!1}}break e}finally{A=null,C=te,_=!1}he=void 0}}finally{he?N():Ne=!1}}}var N;if(typeof K=="function")N=function(){K(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,X=E.port2;E.port1.onmessage=I,N=function(){X.postMessage(null)}}else N=function(){F(I,0)};function pe(re,he){$=F(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(re){switch(C){case 1:case 2:case 3:var he=3;break;default:he=C}var te=C;C=he;try{return re()}finally{C=te}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var te=C;C=re;try{return he()}finally{C=te}},n.unstable_scheduleCallback=function(re,he,te){var de=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,re){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=te+Re,re={id:v++,callback:he,priorityLevel:re,startTime:te,expirationTime:Re,sortIndex:-1},te>de?(re.sortIndex=te,e(d,re),t(f)===null&&re===t(d)&&(q?(ie($),$=-1):q=!0,pe(Se,te-de))):(re.sortIndex=Re,e(f,re),P||_||(P=!0,Ne||(Ne=!0,N()))),re},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(re){var he=C;return function(){var te=C;C=he;try{return re.apply(this,arguments)}finally{C=te}}}})(Ag)),Ag}var uy;function I3(){return uy||(uy=1,Sg.exports=N3()),Sg.exports}var Eg={exports:{}},fa={};var cy;function R3(){if(cy)return fa;cy=1;var n=W0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fa.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,v)},fa.flushSync=function(f){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=v,r.d.f()}},fa.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fa.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),C=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:_}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:C,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fa.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fa.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fa.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fa.requestFormReset=function(f){r.d.r(f)},fa.unstable_batchedUpdates=function(f,d){return f(d)},fa.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},fa.useFormStatus=function(){return c.H.useHostTransitionStatus()},fa.version="19.2.4",fa}var hy;function j3(){if(hy)return Eg.exports;hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eg.exports=R3(),Eg.exports}var fy;function L3(){if(fy)return pf;fy=1;var n=I3(),e=W0(),t=j3();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return f(y),i;if(x===u)return f(y),a;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=y,u=x;else{for(var L=!1,Q=y.child;Q;){if(Q===l){L=!0,l=y,u=x;break}if(Q===u){L=!0,u=y,l=x;break}Q=Q.sibling}if(!L){for(Q=x.child;Q;){if(Q===l){L=!0,l=x,u=y;break}if(Q===u){L=!0,u=x,l=y;break}Q=Q.sibling}if(!L)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case F:return"Profiler";case U:return"StrictMode";case Se:return"Suspense";case Ne:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case K:return i.displayName||"Context";case ie:return(i._context.displayName||"Context")+".Consumer";case ae:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:X(i.type)||"Memo";case M:a=i._payload,i=i._init;try{return X(i(a))}catch{}}return null}var pe=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},de=[],Re=-1;function J(i){return{current:i}}function k(i){0>Re||(i.current=de[Re],de[Re]=null,Re--)}function O(i,a){Re++,de[Re]=i.current,i.current=a}var Y=J(null),G=J(null),se=J(null),fe=J(null);function _e(i,a){switch(O(se,a),O(G,i),O(Y,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?C5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=C5(a),i=N5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(Y),O(Y,i)}function ge(){k(Y),k(G),k(se)}function Oe(i){i.memoizedState!==null&&O(fe,i);var a=Y.current,l=N5(a,i.type);a!==l&&(O(G,i),O(Y,l))}function ye(i){G.current===i&&(k(Y),k(G)),fe.current===i&&(k(fe),uf._currentValue=te)}var Qe,et;function lt(i){if(Qe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+et}var oe=!1;function nt(i,a){if(!i||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Pe){var Me=Pe}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Pe){Me=Pe}i.call(Ge.prototype)}}else{try{throw Error()}catch(Pe){Me=Pe}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Pe){if(Pe&&Me&&typeof Pe.stack=="string")return[Pe.stack,Me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],Q=x[1];if(L&&Q){var me=L.split(`
`),De=Q.split(`
`);for(y=u=0;u<me.length&&!me[u].includes("DetermineComponentFrameRoot");)u++;for(;y<De.length&&!De[y].includes("DetermineComponentFrameRoot");)y++;if(u===me.length||y===De.length)for(u=me.length-1,y=De.length-1;1<=u&&0<=y&&me[u]!==De[y];)y--;for(;1<=u&&0<=y;u--,y--)if(me[u]!==De[y]){if(u!==1||y!==1)do if(u--,y--,0>y||me[u]!==De[y]){var Ve=`
`+me[u].replace(" at new "," at ");return i.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",i.displayName)),Ve}while(1<=u&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?lt(l):""}function Wt(i,a){switch(i.tag){case 26:case 27:case 5:return lt(i.type);case 16:return lt("Lazy");case 13:return i.child!==a&&a!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return nt(i.type,!1);case 11:return nt(i.type.render,!1);case 1:return nt(i.type,!0);case 31:return lt("Activity");default:return""}}function Tt(i){try{var a="",l=null;do a+=Wt(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var qe=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,_t=n.unstable_requestPaint,$t=n.unstable_now,Jt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,on=n.unstable_UserBlockingPriority,Qt=n.unstable_NormalPriority,mt=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,vt=n.log,fi=n.unstable_setDisableYieldValue,Xt=null,Ct=null;function Pt(i){if(typeof vt=="function"&&fi(i),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Xt,i)}catch{}}var Kt=Math.clz32?Math.clz32:Mt,St=Math.log,Ln=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(St(i)/Ln|0)|0}var Ot=256,Mn=262144,wt=4194304;function bt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ln(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var y=0,x=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?y=bt(u):(L&=Q,L!==0?y=bt(L):l||(l=Q&~i,l!==0&&(y=bt(l))))):(Q=u&~x,Q!==0?y=bt(Q):L!==0?y=bt(L):l||(l=u&~i,l!==0&&(y=bt(l)))),y===0?0:a!==0&&a!==y&&(a&x)===0&&(x=y&-y,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:y}function dr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function er(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function Gi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function At(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ts(i,a,l,u,y,x){var L=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Q=i.entanglements,me=i.expirationTimes,De=i.hiddenUpdates;for(l=L&~l;0<l;){var Ve=31-Kt(l),Ge=1<<Ve;Q[Ve]=0,me[Ve]=-1;var Me=De[Ve];if(Me!==null)for(De[Ve]=null,Ve=0;Ve<Me.length;Ve++){var Pe=Me[Ve];Pe!==null&&(Pe.lane&=-536870913)}l&=~Ge}u!==0&&Ur(i,u,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(L&~a))}function Ur(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Kt(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Cr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Kt(l),y=1<<u;y&a|i[u]&a&&(i[u]|=a),l&=~y}}function Nr(i,a){var l=a&-a;return l=(l&42)!==0?1:Hn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Hn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mi(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:X5(i.type))}function pr(i,a){var l=he.p;try{return he.p=i,a()}finally{he.p=l}}var tr=Math.random().toString(36).slice(2),On="__reactFiber$"+tr,Wn="__reactProps$"+tr,Oi="__reactContainer$"+tr,Ir="__reactEvents$"+tr,aa="__reactListeners$"+tr,vs="__reactHandles$"+tr,xa="__reactResources$"+tr,Rr="__reactMarker$"+tr;function ns(i){delete i[On],delete i[Wn],delete i[Ir],delete i[aa],delete i[vs]}function qr(i){var a=i[On];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[On]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=M5(i);i!==null;){if(l=i[On])return l;i=M5(i)}return a}i=l,l=i.parentNode}return null}function gr(i){if(i=i[On]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Hr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function sa(i){var a=i[xa];return a||(a=i[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pi(i){i[Rr]=!0}var yo=new Set,jr={};function oa(i,a){_a(i,a),_a(i+"Capture",a)}function _a(i,a){for(jr[i]=a,i=0;i<a.length;i++)yo.add(a[i])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},bo={};function Jo(i){return qe.call(bo,i)?!0:qe.call(vo,i)?!1:Bs.test(i)?bo[i]=!0:(vo[i]=!0,!1)}function Gr(i,a,l){if(Jo(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function nr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function _i(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function is(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function la(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function vn(i){if(!i._valueTracker){var a=is(i)?"checked":"value";i._valueTracker=la(i,a,""+i[a])}}function bs(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=is(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oi=/[\n"\\]/g;function wi(i){return i.replace(oi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vs(i,a,l,u,y,x,L,Q){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),a!=null?L==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+fn(a)):i.value!==""+fn(a)&&(i.value=""+fn(a)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),a!=null?el(i,L,fn(a)):l!=null?el(i,L,fn(l)):u!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+fn(Q):i.removeAttribute("name")}function Bl(i,a,l,u,y,x,L,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){vn(i);return}l=l!=null?""+fn(l):"",a=a!=null?""+fn(a):l,Q||a===i.value||(i.value=a),i.defaultValue=a}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=Q?i.checked:!!u,i.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),vn(i)}function el(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function mr(i,a,l,u){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&u&&(i[l].defaultSelected=!0)}else{for(l=""+fn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,u&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function tl(i,a,l){if(a!=null&&(a=""+fn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+fn(l):""}function rs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(pe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=fn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),vn(i)}function Yi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||xs.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function il(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var y in a)u=a[y],a.hasOwnProperty(y)&&l[y]!==u&&nl(i,y,u)}else for(var x in a)a.hasOwnProperty(x)&&nl(i,x,a[x])}function xo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(i){return as.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wa(){}var ss=null;function Dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,It=null;function Us(i){var a=gr(i);if(a&&(i=a.stateNode)){var l=i[Wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Vs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var y=u[Wn]||null;if(!y)throw Error(r(90));Vs(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&bs(u)}break e;case"textarea":tl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&mr(i,!!l.multiple,a,!1)}}}var wo=!1;function ws(i,a,l){if(wo)return i(a,l);wo=!0;try{var u=i(a);return u}finally{if(wo=!1,(_s!==null||It!==null)&&(_d(),_s&&(a=_s,i=It,It=_s=null,Us(a),i)))for(a=0;a<i.length;a++)Us(i[a])}}function Wi(i,a){var l=i.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Pi)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{qs=!1}var Yr=null,Hs=null,Sa=null;function rl(){if(Sa)return Sa;var i,a=Hs,l=a.length,u,y="value"in Yr?Yr.value:Yr.textContent,x=y.length;for(i=0;i<l&&a[i]===y[i];i++);var L=l-i;for(u=1;u<=L&&a[l-u]===y[x-u];u++);return Sa=y.slice(i,1<u?1-u:void 0)}function Wr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function $r(){return!1}function Ii(i){function a(l,u,y,x,L){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?os:$r,this.isPropagationStopped=$r,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Ii(La),Da=A({},La,{view:0,detail:0}),Ss=Ii(Da),ka,Ma,ua,Gs=A({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ua&&(ua&&i.type==="mousemove"?(ka=i.screenX-ua.screenX,Ma=i.screenY-ua.screenY):Ma=ka=0,ua=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Ma}}),So=Ii(Gs),Kr=A({},Gs,{dataTransfer:0}),Oa=Ii(Kr),al=A({},Da,{relatedTarget:0}),Aa=Ii(al),Ao=A({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ii(Ao),z=A({},La,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ue=Ii(z),ve=A({},La,{data:0}),Ae=Ii(ve),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ut[i])?!!a[i]:!1}function jt(){return dt}var Et=A({},Da,{key:function(i){if(i.key){var a=Be[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$e[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jt,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dn=Ii(Et),ei=A({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=Ii(ei),m=A({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jt}),R=Ii(m),D=A({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Ii(D),Te=A({},Gs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=Ii(Te),Je=A({},La,{newState:0,oldState:0}),qt=Ii(Je),ti=[9,13,27,32],cn=Pi&&"CompositionEvent"in window,zn=null;Pi&&"documentMode"in document&&(zn=document.documentMode);var rr=Pi&&"TextEvent"in window&&!zn,yr=Pi&&(!cn||zn&&8<zn&&11>=zn),$n=" ",vr=!1;function Ea(i,a){switch(i){case"keyup":return ti.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Es=!1;function Qr(i,a){switch(i){case"compositionend":return As(a);case"keypress":return a.which!==32?null:(vr=!0,$n);case"textInput":return i=a.data,i===$n&&vr?null:i;default:return null}}function Ys(i,a){if(Es)return i==="compositionend"||!cn&&Ea(i,a)?(i=rl(),Sa=Hs=Yr=null,Es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yr&&a.locale!=="ko"?null:a.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ou(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Vl[i.type]:a==="textarea"}function Ta(i,a,l,u){_s?It?It.push(u):It=[u]:_s=u,a=Nd(a,"onChange"),0<a.length&&(l=new ir("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var ls=null,Ws=null;function Pu(i){_5(i,0)}function us(i){var a=Hr(i);if(bs(a))return i}function Eo(i,a){if(i==="change")return a}var ca=!1;if(Pi){var Xr;if(Pi){var Ts="oninput"in document;if(!Ts){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),Ts=typeof Cs.oninput=="function"}Xr=Ts}else Xr=!1;ca=Xr&&(!document.documentMode||9<document.documentMode)}function $s(){ls&&(ls.detachEvent("onpropertychange",Ul),Ws=ls=null)}function Ul(i){if(i.propertyName==="value"&&us(Ws)){var a=[];Ta(a,Ws,i,Dr(i)),ws(Pu,a)}}function ql(i,a,l){i==="focusin"?($s(),ls=a,Ws=l,ls.attachEvent("onpropertychange",Ul)):i==="focusout"&&$s()}function Ri(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return us(Ws)}function vc(i,a){if(i==="click")return us(a)}function Ns(i,a){if(i==="input"||i==="change")return us(a)}function Is(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var br=typeof Object.is=="function"?Object.is:Is;function Ks(i,a){if(br(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!qe.call(a,y)||!br(i[y],a[y]))return!1}return!0}function Hl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gl(i,a){var l=Hl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hl(l)}}function Qs(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Qs(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Xs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function Rs(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var sl=Pi&&"documentMode"in document&&11>=document.documentMode,Ca=null,Zs=null,kr=null,Pa=!1;function Dn(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pa||Ca==null||Ca!==Ni(u)||(u=Ca,"selectionStart"in u&&Rs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kr&&Ks(kr,u)||(kr=u,u=Nd(Zs,"onSelect"),0<u.length&&(a=new ir("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Ca)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ni={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},ji={},js={};Pi&&(js=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function cs(i){if(ji[i])return ji[i];if(!ni[i])return i;var a=ni[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in js)return ji[i]=a[l];return i}var ol=cs("animationend"),zu=cs("animationiteration"),jh=cs("animationstart"),Xf=cs("transitionrun"),Zf=cs("transitionstart"),Jf=cs("transitioncancel"),Lh=cs("transitionend"),Dh=new Map,ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ll.push("scrollEnd");function za(i,a){Dh.set(i,a),oa(a,[i])}var Fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Na=[],ul=0,bc=0;function Bu(){for(var i=ul,a=bc=ul=0;a<i;){var l=Na[a];Na[a++]=null;var u=Na[a];Na[a++]=null;var y=Na[a];Na[a++]=null;var x=Na[a];if(Na[a++]=null,u!==null&&y!==null){var L=u.pending;L===null?y.next=y:(y.next=L.next,L.next=y),u.pending=y}x!==0&&Uu(l,y,x)}}function Vu(i,a,l,u){Na[ul++]=i,Na[ul++]=a,Na[ul++]=l,Na[ul++]=u,bc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xc(i,a,l,u){return Vu(i,a,l,u),Mr(i)}function Js(i,a){return Vu(i,null,null,a),Mr(i)}function Uu(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&a!==null&&(y=31-Kt(l),i=x.hiddenUpdates,u=i[y],u===null?i[y]=[a]:u.push(a),a.lane=l|536870912),x):null}function Mr(i){if(50<tf)throw tf=0,H1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var xr={};function _c(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,a,l,u){return new _c(i,a,l,u)}function wc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fa(i,a){var l=i.alternate;return l===null?(l=Or(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function qu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Yl(i,a,l,u,y,x){var L=0;if(u=i,typeof i=="function")wc(i)&&(L=1);else if(typeof i=="string")L=f3(i,l,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Or(31,l,a,y),i.elementType=w,i.lanes=x,i;case q:return To(l.children,y,x,a);case U:L=8,y|=24;break;case F:return i=Or(12,l,a,y|2),i.elementType=F,i.lanes=x,i;case Se:return i=Or(13,l,a,y),i.elementType=Se,i.lanes=x,i;case Ne:return i=Or(19,l,a,y),i.elementType=Ne,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:L=10;break e;case ie:L=9;break e;case ae:L=11;break e;case $:L=14;break e;case M:L=16,u=null;break e}L=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Or(L,l,a,y),a.elementType=i,a.type=u,a.lanes=x,a}function To(i,a,l,u){return i=Or(7,i,u,a),i.lanes=l,i}function Hu(i,a,l){return i=Or(6,i,null,a),i.lanes=l,i}function Sc(i){var a=Or(18,null,null,0);return a.stateNode=i,a}function Wl(i,a,l){return a=Or(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ac=new WeakMap;function Ba(i,a){if(typeof i=="object"&&i!==null){var l=Ac.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Tt(a)},Ac.set(i,a),a)}return{value:i,source:a,stack:Tt(a)}}var $l=[],cl=0,Ec=null,Gu=0,Va=[],Ua=0,Co=null,qa=1,Ha="";function Ia(i,a){$l[cl++]=Gu,$l[cl++]=Ec,Ec=i,Gu=a}function ed(i,a,l){Va[Ua++]=qa,Va[Ua++]=Ha,Va[Ua++]=Co,Co=i;var u=qa;i=Ha;var y=32-Kt(u)-1;u&=~(1<<y),l+=1;var x=32-Kt(a)+y;if(30<x){var L=y-y%5;x=(u&(1<<L)-1).toString(32),u>>=L,y-=L,qa=1<<32-Kt(a)+y|l<<y|u,Ha=x+i}else qa=1<<x|l<<y|u,Ha=i}function kh(i){i.return!==null&&(Ia(i,1),ed(i,1,0))}function Tc(i){for(;i===Ec;)Ec=$l[--cl],$l[cl]=null,Gu=$l[--cl],$l[cl]=null;for(;i===Co;)Co=Va[--Ua],Va[Ua]=null,Ha=Va[--Ua],Va[Ua]=null,qa=Va[--Ua],Va[Ua]=null}function td(i,a){Va[Ua++]=qa,Va[Ua++]=Ha,Va[Ua++]=Co,qa=a.id,Ha=a.overflow,Co=i}var _r=null,li=null,gn=!1,Zr=null,Si=!1,hs=Error(r(519));function No(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Ba(a,i)),hs}function Mh(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[On]=i,a[Wn]=u,l){case"dialog":yn("cancel",a),yn("close",a);break;case"iframe":case"object":case"embed":yn("load",a);break;case"video":case"audio":for(l=0;l<rf.length;l++)yn(rf[l],a);break;case"source":yn("error",a);break;case"img":case"image":case"link":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"input":yn("invalid",a),Bl(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":yn("invalid",a);break;case"textarea":yn("invalid",a),rs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||E5(a.textContent,l)?(u.popover!=null&&(yn("beforetoggle",a),yn("toggle",a)),u.onScroll!=null&&yn("scroll",a),u.onScrollEnd!=null&&yn("scrollend",a),u.onClick!=null&&(a.onclick=wa),a=!0):a=!1,a||No(i,!0)}function eo(i){for(_r=i.return;_r;)switch(_r.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:_r=_r.return}}function wr(i){if(i!==_r)return!1;if(!gn)return eo(i),gn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ag(i.type,i.memoizedProps)),l=!l),l&&li&&No(i),eo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=k5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=k5(i)}else a===27?(a=li,uu(i.type)?(i=cg,cg=null,li=i):li=a):li=_r?Ms(i.stateNode.nextSibling):null;return!0}function hl(){li=_r=null,gn=!1}function Oh(){var i=Zr;return i!==null&&(Qa===null?Qa=i:Qa.push.apply(Qa,i),Zr=null),i}function Kl(i){Zr===null?Zr=[i]:Zr.push(i)}var Cc=J(null),Io=null,Ls=null;function Ro(i,a,l){O(Cc,a._currentValue),a._currentValue=l}function Ga(i){i._currentValue=Cc.current,k(Cc)}function Ql(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function fl(i,a,l,u){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var L=y.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=y;for(var me=0;me<a.length;me++)if(Q.context===a[me]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Ql(x.return,l,i),u||(L=null);break e}x=Q.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(r(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Ql(L,l,i),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===i){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function jo(i,a,l,u){i=null;for(var y=a,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var Q=y.type;br(y.pendingProps.value,L.value)||(i!==null?i.push(Q):i=[Q])}}else if(y===fe.current){if(L=y.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(uf):i=[uf])}y=y.return}i!==null&&fl(a,i,l,u),a.flags|=262144}function Nc(i){for(i=i.firstContext;i!==null;){if(!br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lo(i){Io=i,Ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sr(i){return nd(Io,i)}function Ic(i,a){return Io===null&&Lo(i),nd(i,a)}function nd(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ls===null){if(i===null)throw Error(r(308));Ls=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ls=Ls.next=a;return l}var u1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},c1=n.unstable_scheduleCallback,h1=n.unstable_NormalPriority,Li={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new u1,data:new Map,refCount:0}}function Yu(i){i.refCount--,i.refCount===0&&c1(h1,function(){i.controller.abort()})}var Wu=null,Rc=0,p=0,b=null;function T(i,a){if(Wu===null){var l=Wu=[];Rc=0,p=Q1(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Rc++,a.then(j,j),a}function j(){if(--Rc===0&&Wu!==null){b!==null&&(b.status="fulfilled");var i=Wu;Wu=null,p=0,b=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function B(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var H=re.S;re.S=function(i,a){K2=$t(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T(i,a),H!==null&&H(i,a)};var W=J(null);function Z(){var i=W.current;return i!==null?i:ci.pooledCache}function ne(i,a){a===null?O(W,W.current):O(W,a.pool)}function ce(){var i=Z();return i===null?null:{parent:Li._currentValue,pool:i}}var be=Error(r(460)),je=Error(r(474)),le=Error(r(542)),we={then:function(){}};function Ce(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fe(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(wa,wa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i;default:if(typeof a.status=="string")a.then(wa,wa);else{if(i=ci,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=u}},function(u){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i}throw ze=a,be}}function Ie(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,be):l}}var ze=null;function Ue(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function Xe(i){if(i===be||i===le)throw Error(r(483))}var We=null,pt=0;function st(i){var a=pt;return pt+=1,We===null&&(We=[]),Fe(We,i,a)}function Gt(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ht(i,a){throw a.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function pn(i){function a(Ee,xe){if(i){var Le=Ee.deletions;Le===null?(Ee.deletions=[xe],Ee.flags|=16):Le.push(xe)}}function l(Ee,xe){if(!i)return null;for(;xe!==null;)a(Ee,xe),xe=xe.sibling;return null}function u(Ee){for(var xe=new Map;Ee!==null;)Ee.key!==null?xe.set(Ee.key,Ee):xe.set(Ee.index,Ee),Ee=Ee.sibling;return xe}function y(Ee,xe){return Ee=Fa(Ee,xe),Ee.index=0,Ee.sibling=null,Ee}function x(Ee,xe,Le){return Ee.index=Le,i?(Le=Ee.alternate,Le!==null?(Le=Le.index,Le<xe?(Ee.flags|=67108866,xe):Le):(Ee.flags|=67108866,xe)):(Ee.flags|=1048576,xe)}function L(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function Q(Ee,xe,Le,He){return xe===null||xe.tag!==6?(xe=Hu(Le,Ee.mode,He),xe.return=Ee,xe):(xe=y(xe,Le),xe.return=Ee,xe)}function me(Ee,xe,Le,He){var Dt=Le.type;return Dt===q?Ve(Ee,xe,Le.props.children,He,Le.key):xe!==null&&(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&Ie(Dt)===xe.type)?(xe=y(xe,Le.props),Gt(xe,Le),xe.return=Ee,xe):(xe=Yl(Le.type,Le.key,Le.props,null,Ee.mode,He),Gt(xe,Le),xe.return=Ee,xe)}function De(Ee,xe,Le,He){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Le.containerInfo||xe.stateNode.implementation!==Le.implementation?(xe=Wl(Le,Ee.mode,He),xe.return=Ee,xe):(xe=y(xe,Le.children||[]),xe.return=Ee,xe)}function Ve(Ee,xe,Le,He,Dt){return xe===null||xe.tag!==7?(xe=To(Le,Ee.mode,He,Dt),xe.return=Ee,xe):(xe=y(xe,Le),xe.return=Ee,xe)}function Ge(Ee,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Hu(""+xe,Ee.mode,Le),xe.return=Ee,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case _:return Le=Yl(xe.type,xe.key,xe.props,null,Ee.mode,Le),Gt(Le,xe),Le.return=Ee,Le;case P:return xe=Wl(xe,Ee.mode,Le),xe.return=Ee,xe;case M:return xe=Ie(xe),Ge(Ee,xe,Le)}if(pe(xe)||N(xe))return xe=To(xe,Ee.mode,Le,null),xe.return=Ee,xe;if(typeof xe.then=="function")return Ge(Ee,st(xe),Le);if(xe.$$typeof===K)return Ge(Ee,Ic(Ee,xe),Le);ht(Ee,xe)}return null}function Me(Ee,xe,Le,He){var Dt=xe!==null?xe.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Dt!==null?null:Q(Ee,xe,""+Le,He);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:return Le.key===Dt?me(Ee,xe,Le,He):null;case P:return Le.key===Dt?De(Ee,xe,Le,He):null;case M:return Le=Ie(Le),Me(Ee,xe,Le,He)}if(pe(Le)||N(Le))return Dt!==null?null:Ve(Ee,xe,Le,He,null);if(typeof Le.then=="function")return Me(Ee,xe,st(Le),He);if(Le.$$typeof===K)return Me(Ee,xe,Ic(Ee,Le),He);ht(Ee,Le)}return null}function Pe(Ee,xe,Le,He,Dt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Ee=Ee.get(Le)||null,Q(xe,Ee,""+He,Dt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case _:return Ee=Ee.get(He.key===null?Le:He.key)||null,me(xe,Ee,He,Dt);case P:return Ee=Ee.get(He.key===null?Le:He.key)||null,De(xe,Ee,He,Dt);case M:return He=Ie(He),Pe(Ee,xe,Le,He,Dt)}if(pe(He)||N(He))return Ee=Ee.get(Le)||null,Ve(xe,Ee,He,Dt,null);if(typeof He.then=="function")return Pe(Ee,xe,Le,st(He),Dt);if(He.$$typeof===K)return Pe(Ee,xe,Le,Ic(xe,He),Dt);ht(xe,He)}return null}function ft(Ee,xe,Le,He){for(var Dt=null,Fn=null,xt=xe,un=xe=0,xn=null;xt!==null&&un<Le.length;un++){xt.index>un?(xn=xt,xt=null):xn=xt.sibling;var Bn=Me(Ee,xt,Le[un],He);if(Bn===null){xt===null&&(xt=xn);break}i&&xt&&Bn.alternate===null&&a(Ee,xt),xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn,xt=xn}if(un===Le.length)return l(Ee,xt),gn&&Ia(Ee,un),Dt;if(xt===null){for(;un<Le.length;un++)xt=Ge(Ee,Le[un],He),xt!==null&&(xe=x(xt,xe,un),Fn===null?Dt=xt:Fn.sibling=xt,Fn=xt);return gn&&Ia(Ee,un),Dt}for(xt=u(xt);un<Le.length;un++)xn=Pe(xt,Ee,un,Le[un],He),xn!==null&&(i&&xn.alternate!==null&&xt.delete(xn.key===null?un:xn.key),xe=x(xn,xe,un),Fn===null?Dt=xn:Fn.sibling=xn,Fn=xn);return i&&xt.forEach(function(pu){return a(Ee,pu)}),gn&&Ia(Ee,un),Dt}function Ft(Ee,xe,Le,He){if(Le==null)throw Error(r(151));for(var Dt=null,Fn=null,xt=xe,un=xe=0,xn=null,Bn=Le.next();xt!==null&&!Bn.done;un++,Bn=Le.next()){xt.index>un?(xn=xt,xt=null):xn=xt.sibling;var pu=Me(Ee,xt,Bn.value,He);if(pu===null){xt===null&&(xt=xn);break}i&&xt&&pu.alternate===null&&a(Ee,xt),xe=x(pu,xe,un),Fn===null?Dt=pu:Fn.sibling=pu,Fn=pu,xt=xn}if(Bn.done)return l(Ee,xt),gn&&Ia(Ee,un),Dt;if(xt===null){for(;!Bn.done;un++,Bn=Le.next())Bn=Ge(Ee,Bn.value,He),Bn!==null&&(xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn);return gn&&Ia(Ee,un),Dt}for(xt=u(xt);!Bn.done;un++,Bn=Le.next())Bn=Pe(xt,Ee,un,Bn.value,He),Bn!==null&&(i&&Bn.alternate!==null&&xt.delete(Bn.key===null?un:Bn.key),xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn);return i&&xt.forEach(function(S3){return a(Ee,S3)}),gn&&Ia(Ee,un),Dt}function si(Ee,xe,Le,He){if(typeof Le=="object"&&Le!==null&&Le.type===q&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:e:{for(var Dt=Le.key;xe!==null;){if(xe.key===Dt){if(Dt=Le.type,Dt===q){if(xe.tag===7){l(Ee,xe.sibling),He=y(xe,Le.props.children),He.return=Ee,Ee=He;break e}}else if(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&Ie(Dt)===xe.type){l(Ee,xe.sibling),He=y(xe,Le.props),Gt(He,Le),He.return=Ee,Ee=He;break e}l(Ee,xe);break}else a(Ee,xe);xe=xe.sibling}Le.type===q?(He=To(Le.props.children,Ee.mode,He,Le.key),He.return=Ee,Ee=He):(He=Yl(Le.type,Le.key,Le.props,null,Ee.mode,He),Gt(He,Le),He.return=Ee,Ee=He)}return L(Ee);case P:e:{for(Dt=Le.key;xe!==null;){if(xe.key===Dt)if(xe.tag===4&&xe.stateNode.containerInfo===Le.containerInfo&&xe.stateNode.implementation===Le.implementation){l(Ee,xe.sibling),He=y(xe,Le.children||[]),He.return=Ee,Ee=He;break e}else{l(Ee,xe);break}else a(Ee,xe);xe=xe.sibling}He=Wl(Le,Ee.mode,He),He.return=Ee,Ee=He}return L(Ee);case M:return Le=Ie(Le),si(Ee,xe,Le,He)}if(pe(Le))return ft(Ee,xe,Le,He);if(N(Le)){if(Dt=N(Le),typeof Dt!="function")throw Error(r(150));return Le=Dt.call(Le),Ft(Ee,xe,Le,He)}if(typeof Le.then=="function")return si(Ee,xe,st(Le),He);if(Le.$$typeof===K)return si(Ee,xe,Ic(Ee,Le),He);ht(Ee,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,xe!==null&&xe.tag===6?(l(Ee,xe.sibling),He=y(xe,Le),He.return=Ee,Ee=He):(l(Ee,xe),He=Hu(Le,Ee.mode,He),He.return=Ee,Ee=He),L(Ee)):l(Ee,xe)}return function(Ee,xe,Le,He){try{pt=0;var Dt=si(Ee,xe,Le,He);return We=null,Dt}catch(xt){if(xt===be||xt===le)throw xt;var Fn=Or(29,xt,null,Ee.mode);return Fn.lanes=He,Fn.return=Ee,Fn}}}var ui=pn(!0),en=pn(!1),ot=!1;function tt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gi(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function an(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qn&2)!==0){var y=u.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),u.pending=a,a=Mr(i),Uu(i,null,l),a}return Vu(i,u,a,l),Mr(i)}function Vn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Cr(i,l)}}function $i(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?y=x=a:x=x.next=a}else y=x=a;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ar=!1;function ii(){if(Ar){var i=b;if(i!==null)throw i}}function zi(i,a,l,u){Ar=!1;var y=i.updateQueue;ot=!1;var x=y.firstBaseUpdate,L=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var me=Q,De=me.next;me.next=null,L===null?x=De:L.next=De,L=me;var Ve=i.alternate;Ve!==null&&(Ve=Ve.updateQueue,Q=Ve.lastBaseUpdate,Q!==L&&(Q===null?Ve.firstBaseUpdate=De:Q.next=De,Ve.lastBaseUpdate=me))}if(x!==null){var Ge=y.baseState;L=0,Ve=De=me=null,Q=x;do{var Me=Q.lane&-536870913,Pe=Me!==Q.lane;if(Pe?(bn&Me)===Me:(u&Me)===Me){Me!==0&&Me===p&&(Ar=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var ft=i,Ft=Q;Me=a;var si=l;switch(Ft.tag){case 1:if(ft=Ft.payload,typeof ft=="function"){Ge=ft.call(si,Ge,Me);break e}Ge=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Ft.payload,Me=typeof ft=="function"?ft.call(si,Ge,Me):ft,Me==null)break e;Ge=A({},Ge,Me);break e;case 2:ot=!0}}Me=Q.callback,Me!==null&&(i.flags|=64,Pe&&(i.flags|=8192),Pe=y.callbacks,Pe===null?y.callbacks=[Me]:Pe.push(Me))}else Pe={lane:Me,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ve===null?(De=Ve=Pe,me=Ge):Ve=Ve.next=Pe,L|=Me;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;Pe=Q,Q=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);Ve===null&&(me=Ge),y.baseState=me,y.firstBaseUpdate=De,y.lastBaseUpdate=Ve,x===null&&(y.shared.lanes=0),ru|=L,i.lanes=L,i.memoizedState=Ge}}function Pr(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Fi(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Pr(l[i],a)}var hn=J(null),En=J(0);function mi(i,a){i=wl,O(En,i),O(hn,a),wl=i|a.baseLanes}function kn(){O(En,wl),O(hn,hn.current)}function Ki(){wl=En.current,k(hn),k(En)}var yi=J(null),Tn=null;function Di(i){var a=i.alternate;O(An,An.current&1),O(yi,i),Tn===null&&(a===null||hn.current!==null||a.memoizedState!==null)&&(Tn=i)}function Un(i){O(An,An.current),O(yi,i),Tn===null&&(Tn=i)}function Bi(i){i.tag===22?(O(An,An.current),O(yi,i),Tn===null&&(Tn=i)):Vi()}function Vi(){O(An,An.current),O(yi,yi.current)}function Kn(i){k(yi),Tn===i&&(Tn=null),k(An)}var An=J(0);function zr(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||lg(l)||ug(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ai=0,Rt=null,Lt=null,Cn=null,ha=!1,Ya=!1,Jr=!1,Ui=0,Do=0,ko=null,jc=0;function ri(){throw Error(r(321))}function Ph(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!br(i[l],a[l]))return!1;return!0}function zh(i,a,l,u,y,x){return Ai=x,Rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,re.H=i===null||i.memoizedState===null?s2:b1,Jr=!1,x=l(u,y),Jr=!1,Ya&&(x=to(a,l,u,y)),Lc(i),x}function Lc(i){re.H=Yh;var a=Lt!==null&&Lt.next!==null;if(Ai=0,Cn=Lt=Rt=null,ha=!1,Do=0,ko=null,a)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Nc(i)&&(sr=!0))}function to(i,a,l,u){Rt=i;var y=0;do{if(Ya&&(ko=null),Do=0,Ya=!1,25<=y)throw Error(r(301));if(y+=1,Cn=Lt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}re.H=o2,x=a(l,u)}while(Ya);return x}function f1(){var i=re.H,a=i.useState()[0];return a=typeof a.then=="function"?Mo(a):a,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(Rt.flags|=1024),a}function Fh(){var i=Ui!==0;return Ui=0,i}function Bh(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Dc(i){if(ha){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ha=!1}Ai=0,Cn=Lt=Rt=null,Ya=!1,Do=Ui=0,ko=null}function ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Rt.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Ei(){if(Lt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var a=Cn===null?Rt.memoizedState:Cn.next;if(a!==null)Cn=a,Lt=i;else{if(i===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Cn===null?Rt.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var a=Do;return Do+=1,ko===null&&(ko=[]),i=Fe(ko,i,a),a=Rt,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,re.H=a===null||a.memoizedState===null?s2:b1),i}function Zl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===K)return Sr(i)}throw Error(r(438,String(i)))}function dl(i){var a=null,l=Rt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=$u(),Rt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=V;return a.index++,l}function Ds(i,a){return typeof a=="function"?a(i):a}function kc(i){var a=Ei();return Jl(a,Lt,i)}function Jl(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var y=i.baseQueue,x=u.pending;if(x!==null){if(y!==null){var L=y.next;y.next=x.next,x.next=L}a.baseQueue=y=x,u.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{a=y.next;var Q=L=null,me=null,De=a,Ve=!1;do{var Ge=De.lane&-536870913;if(Ge!==De.lane?(bn&Ge)===Ge:(Ai&Ge)===Ge){var Me=De.revertLane;if(Me===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ge===p&&(Ve=!0);else if((Ai&Me)===Me){De=De.next,Me===p&&(Ve=!0);continue}else Ge={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(Q=me=Ge,L=x):me=me.next=Ge,Rt.lanes|=Me,ru|=Me;Ge=De.action,Jr&&l(x,Ge),x=De.hasEagerState?De.eagerState:l(x,Ge)}else Me={lane:Ge,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(Q=me=Me,L=x):me=me.next=Me,Rt.lanes|=Ge,ru|=Ge;De=De.next}while(De!==null&&De!==a);if(me===null?L=x:me.next=Q,!br(x,i.memoizedState)&&(sr=!0,Ve&&(l=b,l!==null)))throw l;i.memoizedState=x,i.baseState=L,i.baseQueue=me,u.lastRenderedState=x}return y===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mc(i){var a=Ei(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,y=l.pending,x=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do x=i(x,L.action),L=L.next;while(L!==y);br(x,a.memoizedState)||(sr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function Oc(i,a,l){var u=Rt,y=Ei(),x=gn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var L=!br((Lt||y).memoizedState,l);if(L&&(y.memoizedState=l,sr=!0),y=y.queue,d1(Uh.bind(null,u,y,i),[i]),y.getSnapshot!==a||L||Cn!==null&&Cn.memoizedState.tag&1){if(u.flags|=2048,gl(9,{destroy:void 0},Vh.bind(null,u,y,l,a),null),ci===null)throw Error(r(349));x||(Ai&127)!==0||no(u,a,l)}return l}function no(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Rt.updateQueue,a===null?(a=$u(),Rt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Vh(i,a,l,u){a.value=l,a.getSnapshot=u,id(a)&&qh(i)}function Uh(i,a,l){return l(function(){id(a)&&qh(i)})}function id(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!br(i,l)}catch{return!0}}function qh(i){var a=Js(i,2);a!==null&&Xa(a,i,2)}function Oo(i){var a=ar();if(typeof i=="function"){var l=i;if(i=l(),Jr){Pt(!0);try{l()}finally{Pt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},a}function rd(i,a,l,u){return i.baseState=l,Jl(i,Lt,typeof u=="function"?u:Ds)}function ad(i,a,l,u,y){if(ud(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};re.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,sd(a,x)):(x.next=l.next,a.pending=l.next=x)}}function sd(i,a){var l=a.action,u=a.payload,y=i.state;if(a.isTransition){var x=re.T,L={};re.T=L;try{var Q=l(y,u),me=re.S;me!==null&&me(L,Q),Hh(i,a,Q)}catch(De){pl(i,a,De)}finally{x!==null&&L.types!==null&&(x.types=L.types),re.T=x}}else try{x=l(y,u),Hh(i,a,x)}catch(De){pl(i,a,De)}}function Hh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){od(i,a,u)},function(u){return pl(i,a,u)}):od(i,a,l)}function od(i,a,l){a.status="fulfilled",a.value=l,Pc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,sd(i,l)))}function pl(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Pc(a),a=a.next;while(a!==u)}i.action=null}function Pc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Ku(i,a){return a}function ks(i,a){if(gn){var l=ci.formState;if(l!==null){e:{var u=Rt;if(gn){if(li){t:{for(var y=li,x=Si;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ms(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){li=Ms(y.nextSibling),u=y.data==="F!";break e}}No(u)}u=!1}u&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:a},l.queue=u,l=i2.bind(null,Rt,u),u.dispatch=l,u=Oo(!1),x=v1.bind(null,Rt,!1,u.queue),u=ar(),y={state:a,dispatch:null,action:i,pending:null},u.queue=y,l=ad.bind(null,Rt,y,x,l),y.dispatch=l,u.memoizedState=i,[a,l,!1]}function io(i){var a=Ei();return ro(a,Lt,i)}function ro(i,a,l){if(a=Jl(i,a,Ku)[0],i=kc(Ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Mo(a)}catch(L){throw L===be?le:L}else u=a;a=Ei();var y=a.queue,x=y.dispatch;return l!==a.memoizedState&&(Rt.flags|=2048,gl(9,{destroy:void 0},zc.bind(null,y,l),null)),[u,x,i]}function zc(i,a){i.action=a}function Fc(i){var a=Ei(),l=Lt;if(l!==null)return ro(a,l,i);Ei(),a=a.memoizedState,l=Ei();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function gl(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=Rt.updateQueue,a===null&&(a=$u(),Rt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function ld(){return Ei().memoizedState}function eu(i,a,l,u){var y=ar();Rt.flags|=i,y.memoizedState=gl(1|a,{destroy:void 0},l,u===void 0?null:u)}function tu(i,a,l,u){var y=Ei();u=u===void 0?null:u;var x=y.memoizedState.inst;Lt!==null&&u!==null&&Ph(u,Lt.memoizedState.deps)?y.memoizedState=gl(a,x,l,u):(Rt.flags|=i,y.memoizedState=gl(1|a,x,l,u))}function qm(i,a){eu(8390656,8,i,a)}function d1(i,a){tu(2048,8,i,a)}function yw(i){Rt.flags|=4;var a=Rt.updateQueue;if(a===null)a=$u(),Rt.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Hm(i){var a=Ei().memoizedState;return yw({ref:a,nextImpl:i}),function(){if((qn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Gm(i,a){return tu(4,2,i,a)}function Ym(i,a){return tu(4,4,i,a)}function Wm(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function $m(i,a,l){l=l!=null?l.concat([i]):null,tu(4,4,Wm.bind(null,a,i),l)}function p1(){}function Km(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Ph(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function Qm(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Ph(a,u[1]))return u[0];if(u=i(),Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u}function g1(i,a,l){return l===void 0||(Ai&1073741824)!==0&&(bn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=X2(),Rt.lanes|=i,ru|=i,l)}function Xm(i,a,l,u){return br(l,a)?l:hn.current!==null?(i=g1(i,l,u),br(i,a)||(sr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(bn&261930)===0?(sr=!0,i.memoizedState=l):(i=X2(),Rt.lanes|=i,ru|=i,a)}function Zm(i,a,l,u,y){var x=he.p;he.p=x!==0&&8>x?x:8;var L=re.T,Q={};re.T=Q,v1(i,!1,a,l);try{var me=y(),De=re.S;if(De!==null&&De(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ve=B(me,u);Gh(i,a,Ve,ps(i))}else Gh(i,a,u,ps(i))}catch(Ge){Gh(i,a,{then:function(){},status:"rejected",reason:Ge},ps())}finally{he.p=x,L!==null&&Q.types!==null&&(L.types=Q.types),re.T=L}}function vw(){}function m1(i,a,l,u){if(i.tag!==5)throw Error(r(476));var y=Jm(i).queue;Zm(i,y,a,te,l===null?vw:function(){return e2(i),l(u)})}function Jm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function e2(i){var a=Jm(i);a.next===null&&(a=i.alternate.memoizedState),Gh(i,a.next.queue,{},ps())}function y1(){return Sr(uf)}function t2(){return Ei().memoizedState}function n2(){return Ei().memoizedState}function bw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ps();i=zt(l);var u=an(a,i,l);u!==null&&(Xa(u,a,l),Vn(u,a,l)),a={cache:Xl()},i.payload=a;return}a=a.return}}function xw(i,a,l){var u=ps();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ud(i)?r2(a,l):(l=xc(i,a,l,u),l!==null&&(Xa(l,i,u),a2(l,a,u)))}function i2(i,a,l){var u=ps();Gh(i,a,l,u)}function Gh(i,a,l,u){var y={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ud(i))r2(a,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var L=a.lastRenderedState,Q=x(L,l);if(y.hasEagerState=!0,y.eagerState=Q,br(Q,L))return Vu(i,a,y,0),ci===null&&Bu(),!1}catch{}if(l=xc(i,a,y,u),l!==null)return Xa(l,i,u),a2(l,a,u),!0}return!1}function v1(i,a,l,u){if(u={lane:2,revertLane:Q1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ud(i)){if(a)throw Error(r(479))}else a=xc(i,l,u,2),a!==null&&Xa(a,i,2)}function ud(i){var a=i.alternate;return i===Rt||a!==null&&a===Rt}function r2(i,a){Ya=ha=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function a2(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Cr(i,l)}}var Yh={readContext:Sr,use:Zl,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};Yh.useEffectEvent=ri;var s2={readContext:Sr,use:Zl,useCallback:function(i,a){return ar().memoizedState=[i,a===void 0?null:a],i},useContext:Sr,useEffect:qm,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,eu(4194308,4,Wm.bind(null,a,i),l)},useLayoutEffect:function(i,a){return eu(4194308,4,i,a)},useInsertionEffect:function(i,a){eu(4,2,i,a)},useMemo:function(i,a){var l=ar();a=a===void 0?null:a;var u=i();if(Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=ar();if(l!==void 0){var y=l(a);if(Jr){Pt(!0);try{l(a)}finally{Pt(!1)}}}else y=a;return u.memoizedState=u.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},u.queue=i,i=i.dispatch=xw.bind(null,Rt,i),[u.memoizedState,i]},useRef:function(i){var a=ar();return i={current:i},a.memoizedState=i},useState:function(i){i=Oo(i);var a=i.queue,l=i2.bind(null,Rt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:p1,useDeferredValue:function(i,a){var l=ar();return g1(l,i,a)},useTransition:function(){var i=Oo(!1);return i=Zm.bind(null,Rt,i.queue,!0,!1),ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=Rt,y=ar();if(gn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),ci===null)throw Error(r(349));(bn&127)!==0||no(u,a,l)}y.memoizedState=l;var x={value:l,getSnapshot:a};return y.queue=x,qm(Uh.bind(null,u,x,i),[i]),u.flags|=2048,gl(9,{destroy:void 0},Vh.bind(null,u,x,l,a),null),l},useId:function(){var i=ar(),a=ci.identifierPrefix;if(gn){var l=Ha,u=qa;l=(u&~(1<<32-Kt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ui++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=jc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:y1,useFormState:ks,useActionState:ks,useOptimistic:function(i){var a=ar();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=v1.bind(null,Rt,!0,l),l.dispatch=a,[i,a]},useMemoCache:dl,useCacheRefresh:function(){return ar().memoizedState=bw.bind(null,Rt)},useEffectEvent:function(i){var a=ar(),l={impl:i};return a.memoizedState=l,function(){if((qn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},b1={readContext:Sr,use:Zl,useCallback:Km,useContext:Sr,useEffect:d1,useImperativeHandle:$m,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Qm,useReducer:kc,useRef:ld,useState:function(){return kc(Ds)},useDebugValue:p1,useDeferredValue:function(i,a){var l=Ei();return Xm(l,Lt.memoizedState,i,a)},useTransition:function(){var i=kc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:t2,useHostTransitionStatus:y1,useFormState:io,useActionState:io,useOptimistic:function(i,a){var l=Ei();return rd(l,Lt,i,a)},useMemoCache:dl,useCacheRefresh:n2};b1.useEffectEvent=Hm;var o2={readContext:Sr,use:Zl,useCallback:Km,useContext:Sr,useEffect:d1,useImperativeHandle:$m,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Qm,useReducer:Mc,useRef:ld,useState:function(){return Mc(Ds)},useDebugValue:p1,useDeferredValue:function(i,a){var l=Ei();return Lt===null?g1(l,i,a):Xm(l,Lt.memoizedState,i,a)},useTransition:function(){var i=Mc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:t2,useHostTransitionStatus:y1,useFormState:Fc,useActionState:Fc,useOptimistic:function(i,a){var l=Ei();return Lt!==null?rd(l,Lt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:dl,useCacheRefresh:n2};o2.useEffectEvent=Hm;function x1(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var _1={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=ps(),y=zt(u);y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Xa(a,i,u),Vn(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=ps(),y=zt(u);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Xa(a,i,u),Vn(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ps(),u=zt(l);u.tag=2,a!=null&&(u.callback=a),a=an(i,u,l),a!==null&&(Xa(a,i,l),Vn(a,i,l))}};function l2(i,a,l,u,y,x,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,x,L):a.prototype&&a.prototype.isPureReactComponent?!Ks(l,u)||!Ks(y,x):!0}function u2(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&_1.enqueueReplaceState(a,a.state,null)}function Qu(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function c2(i){Fu(i)}function h2(i){console.error(i)}function f2(i){Fu(i)}function cd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function d2(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function w1(i,a,l){return l=zt(l),l.tag=3,l.payload={element:null},l.callback=function(){cd(i,a)},l}function p2(i){return i=zt(i),i.tag=3,i}function g2(i,a,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=u.value;i.payload=function(){return y(x)},i.callback=function(){d2(a,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){d2(a,l,u),typeof y!="function"&&(au===null?au=new Set([this]):au.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function _w(i,a,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&jo(a,l,y,!0),l=yi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?wd():l.alternate===null&&qi===0&&(qi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===we?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),W1(i,u,y)),!1;case 22:return l.flags|=65536,u===we?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),W1(i,u,y)),!1}throw Error(r(435,l.tag))}return W1(i,u,y),wd(),!1}if(gn)return a=yi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,u!==hs&&(i=Error(r(422),{cause:u}),Kl(Ba(i,l)))):(u!==hs&&(a=Error(r(423),{cause:u}),Kl(Ba(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,u=Ba(u,l),y=w1(i.stateNode,u,y),$i(i,y),qi!==4&&(qi=2)),!1;var x=Error(r(520),{cause:u});if(x=Ba(x,l),ef===null?ef=[x]:ef.push(x),qi!==4&&(qi=2),a===null)return!0;u=Ba(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=w1(l.stateNode,u,i),$i(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(au===null||!au.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=p2(y),g2(y,i,l,u),$i(l,y),!1}l=l.return}while(l!==null);return!1}var S1=Error(r(461)),sr=!1;function ea(i,a,l,u){a.child=i===null?en(a,null,l,u):ui(a,i.child,l,u)}function m2(i,a,l,u,y){l=l.render;var x=a.ref;if("ref"in u){var L={};for(var Q in u)Q!=="ref"&&(L[Q]=u[Q])}else L=u;return Lo(a),u=zh(i,a,l,L,x,y),Q=Fh(),i!==null&&!sr?(Bh(i,a,y),ml(i,a,y)):(gn&&Q&&kh(a),a.flags|=1,ea(i,a,u,y),a.child)}function y2(i,a,l,u,y){if(i===null){var x=l.type;return typeof x=="function"&&!wc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,v2(i,a,x,u,y)):(i=Yl(l.type,null,u,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!j1(i,y)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ks,l(L,u)&&i.ref===a.ref)return ml(i,a,y)}return a.flags|=1,i=Fa(x,u),i.ref=a.ref,i.return=a,a.child=i}function v2(i,a,l,u,y){if(i!==null){var x=i.memoizedProps;if(Ks(x,u)&&i.ref===a.ref)if(sr=!1,a.pendingProps=u=x,j1(i,y))(i.flags&131072)!==0&&(sr=!0);else return a.lanes=i.lanes,ml(i,a,y)}return A1(i,a,l,u,y)}function b2(i,a,l,u){var y=u.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(u=a.child=i.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~x}else u=0,a.child=null;return x2(i,a,x,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ne(a,x!==null?x.cachePool:null),x!==null?mi(a,x):kn(),Bi(a);else return u=a.lanes=536870912,x2(i,a,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ne(a,x.cachePool),mi(a,x),Vi(),a.memoizedState=null):(i!==null&&ne(a,null),kn(),Vi());return ea(i,a,y,l),a.child}function Wh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function x2(i,a,l,u,y){var x=Z();return x=x===null?null:{parent:Li._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&ne(a,null),kn(),Bi(a),i!==null&&jo(i,a,u,!0),a.childLanes=y,null}function hd(i,a){return a=dd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function _2(i,a,l){return ui(a,i.child,null,l),i=hd(a,a.pendingProps),i.flags|=2,Kn(a),a.memoizedState=null,i}function ww(i,a,l){var u=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(gn){if(u.mode==="hidden")return i=hd(a,u),a.lanes=536870912,Wh(null,i);if(Un(a),(i=li)?(i=D5(i,Si),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,_r=a,li=null)):i=null,i===null)throw No(a);return a.lanes=536870912,null}return hd(a,u)}var x=i.memoizedState;if(x!==null){var L=x.dehydrated;if(Un(a),y)if(a.flags&256)a.flags&=-257,a=_2(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(sr||jo(i,a,l,!1),y=(l&i.childLanes)!==0,sr||y){if(u=ci,u!==null&&(L=Nr(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Js(i,L),Xa(u,i,L),S1;wd(),a=_2(i,a,l)}else i=x.treeContext,li=Ms(L.nextSibling),_r=a,gn=!0,Zr=null,Si=!1,i!==null&&td(a,i),a=hd(a,u),a.flags|=4096;return a}return i=Fa(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function fd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function A1(i,a,l,u,y){return Lo(a),l=zh(i,a,l,u,void 0,y),u=Fh(),i!==null&&!sr?(Bh(i,a,y),ml(i,a,y)):(gn&&u&&kh(a),a.flags|=1,ea(i,a,l,y),a.child)}function w2(i,a,l,u,y,x){return Lo(a),a.updateQueue=null,l=to(a,u,l,y),Lc(i),u=Fh(),i!==null&&!sr?(Bh(i,a,x),ml(i,a,x)):(gn&&u&&kh(a),a.flags|=1,ea(i,a,l,x),a.child)}function S2(i,a,l,u,y){if(Lo(a),a.stateNode===null){var x=xr,L=l.contextType;typeof L=="object"&&L!==null&&(x=Sr(L)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=_1,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},tt(a),L=l.contextType,x.context=typeof L=="object"&&L!==null?Sr(L):xr,x.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(x1(a,l,L,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&_1.enqueueReplaceState(x,x.state,null),zi(a,u,x,y),ii(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){x=a.stateNode;var Q=a.memoizedProps,me=Qu(l,Q);x.props=me;var De=x.context,Ve=l.contextType;L=xr,typeof Ve=="object"&&Ve!==null&&(L=Sr(Ve));var Ge=l.getDerivedStateFromProps;Ve=typeof Ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,Ve||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||De!==L)&&u2(a,x,u,L),ot=!1;var Me=a.memoizedState;x.state=Me,zi(a,u,x,y),ii(),De=a.memoizedState,Q||Me!==De||ot?(typeof Ge=="function"&&(x1(a,l,Ge,u),De=a.memoizedState),(me=ot||l2(a,l,me,u,Me,De,L))?(Ve||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=De),x.props=u,x.state=De,x.context=L,u=me):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,gi(i,a),L=a.memoizedProps,Ve=Qu(l,L),x.props=Ve,Ge=a.pendingProps,Me=x.context,De=l.contextType,me=xr,typeof De=="object"&&De!==null&&(me=Sr(De)),Q=l.getDerivedStateFromProps,(De=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Ge||Me!==me)&&u2(a,x,u,me),ot=!1,Me=a.memoizedState,x.state=Me,zi(a,u,x,y),ii();var Pe=a.memoizedState;L!==Ge||Me!==Pe||ot||i!==null&&i.dependencies!==null&&Nc(i.dependencies)?(typeof Q=="function"&&(x1(a,l,Q,u),Pe=a.memoizedState),(Ve=ot||l2(a,l,Ve,u,Me,Pe,me)||i!==null&&i.dependencies!==null&&Nc(i.dependencies))?(De||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Pe,me),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Pe,me)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Pe),x.props=u,x.state=Pe,x.context=me,u=Ve):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=1024),u=!1)}return x=u,fd(i,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&u?(a.child=ui(a,i.child,null,y),a.child=ui(a,null,l,y)):ea(i,a,l,y),a.memoizedState=x.state,i=a.child):i=ml(i,a,y),i}function A2(i,a,l,u){return hl(),a.flags|=256,ea(i,a,l,u),a.child}var E1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T1(i){return{baseLanes:i,cachePool:ce()}}function C1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ds),i}function E2(i,a,l){var u=a.pendingProps,y=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,i===null){if(gn){if(y?Di(a):Vi(),(i=li)?(i=D5(i,Si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,_r=a,li=null)):i=null,i===null)throw No(a);return ug(i)?a.lanes=32:a.lanes=536870912,null}var Q=u.children;return u=u.fallback,y?(Vi(),y=a.mode,Q=dd({mode:"hidden",children:Q},y),u=To(u,y,l,null),Q.return=a,u.return=a,Q.sibling=u,a.child=Q,u=a.child,u.memoizedState=T1(l),u.childLanes=C1(i,L,l),a.memoizedState=E1,Wh(null,u)):(Di(a),N1(a,Q))}var me=i.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(x)a.flags&256?(Di(a),a.flags&=-257,a=I1(i,a,l)):a.memoizedState!==null?(Vi(),a.child=i.child,a.flags|=128,a=null):(Vi(),Q=u.fallback,y=a.mode,u=dd({mode:"visible",children:u.children},y),Q=To(Q,y,l,null),Q.flags|=2,u.return=a,Q.return=a,u.sibling=Q,a.child=u,ui(a,i.child,null,l),u=a.child,u.memoizedState=T1(l),u.childLanes=C1(i,L,l),a.memoizedState=E1,a=Wh(null,u));else if(Di(a),ug(Q)){if(L=Q.nextSibling&&Q.nextSibling.dataset,L)var De=L.dgst;L=De,u=Error(r(419)),u.stack="",u.digest=L,Kl({value:u,source:null,stack:null}),a=I1(i,a,l)}else if(sr||jo(i,a,l,!1),L=(l&i.childLanes)!==0,sr||L){if(L=ci,L!==null&&(u=Nr(L,l),u!==0&&u!==me.retryLane))throw me.retryLane=u,Js(i,u),Xa(L,i,u),S1;lg(Q)||wd(),a=I1(i,a,l)}else lg(Q)?(a.flags|=192,a.child=i.child,a=null):(i=me.treeContext,li=Ms(Q.nextSibling),_r=a,gn=!0,Zr=null,Si=!1,i!==null&&td(a,i),a=N1(a,u.children),a.flags|=4096);return a}return y?(Vi(),Q=u.fallback,y=a.mode,me=i.child,De=me.sibling,u=Fa(me,{mode:"hidden",children:u.children}),u.subtreeFlags=me.subtreeFlags&65011712,De!==null?Q=Fa(De,Q):(Q=To(Q,y,l,null),Q.flags|=2),Q.return=a,u.return=a,u.sibling=Q,a.child=u,Wh(null,u),u=a.child,Q=i.child.memoizedState,Q===null?Q=T1(l):(y=Q.cachePool,y!==null?(me=Li._currentValue,y=y.parent!==me?{parent:me,pool:me}:y):y=ce(),Q={baseLanes:Q.baseLanes|l,cachePool:y}),u.memoizedState=Q,u.childLanes=C1(i,L,l),a.memoizedState=E1,Wh(i.child,u)):(Di(a),l=i.child,i=l.sibling,l=Fa(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(L=a.deletions,L===null?(a.deletions=[i],a.flags|=16):L.push(i)),a.child=l,a.memoizedState=null,l)}function N1(i,a){return a=dd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function dd(i,a){return i=Or(22,i,null,a),i.lanes=0,i}function I1(i,a,l){return ui(a,i.child,null,l),i=N1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function T2(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Ql(i.return,a,l)}function R1(i,a,l,u,y,x){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y,treeForkCount:x}:(L.isBackwards=a,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=y,L.treeForkCount=x)}function C2(i,a,l){var u=a.pendingProps,y=u.revealOrder,x=u.tail;u=u.children;var L=An.current,Q=(L&2)!==0;if(Q?(L=L&1|2,a.flags|=128):L&=1,O(An,L),ea(i,a,u,l),u=gn?Gu:0,!Q&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T2(i,l,a);else if(i.tag===19)T2(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&zr(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),R1(a,!1,y,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&zr(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}R1(a,!0,l,null,x,u);break;case"together":R1(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ml(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ru|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(jo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Fa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Fa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function j1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Nc(i)))}function Sw(i,a,l){switch(a.tag){case 3:_e(a,a.stateNode.containerInfo),Ro(a,Li,i.memoizedState.cache),hl();break;case 27:case 5:Oe(a);break;case 4:_e(a,a.stateNode.containerInfo);break;case 10:Ro(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Un(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Di(a),a.flags|=128,null):(l&a.child.childLanes)!==0?E2(i,a,l):(Di(a),i=ml(i,a,l),i!==null?i.sibling:null);Di(a);break;case 19:var y=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(jo(i,a,l,!1),u=(l&a.childLanes)!==0),y){if(u)return C2(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),O(An,An.current),u)break;return null;case 22:return a.lanes=0,b2(i,a,l,a.pendingProps);case 24:Ro(a,Li,i.memoizedState.cache)}return ml(i,a,l)}function N2(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)sr=!0;else{if(!j1(i,l)&&(a.flags&128)===0)return sr=!1,Sw(i,a,l);sr=(i.flags&131072)!==0}else sr=!1,gn&&(a.flags&1048576)!==0&&ed(a,Gu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=Ie(a.elementType),a.type=i,typeof i=="function")wc(i)?(u=Qu(i,u),a.tag=1,a=S2(null,a,i,u,l)):(a.tag=0,a=A1(null,a,i,u,l));else{if(i!=null){var y=i.$$typeof;if(y===ae){a.tag=11,a=m2(null,a,i,u,l);break e}else if(y===$){a.tag=14,a=y2(null,a,i,u,l);break e}}throw a=X(i)||i,Error(r(306,a,""))}}return a;case 0:return A1(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,y=Qu(u,a.pendingProps),S2(i,a,u,y,l);case 3:e:{if(_e(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var x=a.memoizedState;y=x.element,gi(i,a),zi(a,u,null,l);var L=a.memoizedState;if(u=L.cache,Ro(a,Li,u),u!==x.cache&&fl(a,[Li],l,!0),ii(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=A2(i,a,u,l);break e}else if(u!==y){y=Ba(Error(r(424)),a),Kl(y),a=A2(i,a,u,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,li=Ms(i.firstChild),_r=a,gn=!0,Zr=null,Si=!0,l=en(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hl(),u===y){a=ml(i,a,l);break e}ea(i,a,u,l)}a=a.child}return a;case 26:return fd(i,a),i===null?(l=F5(a.type,null,a.pendingProps,null))?a.memoizedState=l:gn||(l=a.type,i=a.pendingProps,u=Id(se.current).createElement(l),u[On]=a,u[Wn]=i,ta(u,l,i),pi(u),a.stateNode=u):a.memoizedState=F5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Oe(a),i===null&&gn&&(u=a.stateNode=O5(a.type,a.pendingProps,se.current),_r=a,Si=!0,y=li,uu(a.type)?(cg=y,li=Ms(u.firstChild)):li=y),ea(i,a,a.pendingProps.children,l),fd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gn&&((y=u=li)&&(u=Jw(u,a.type,a.pendingProps,Si),u!==null?(a.stateNode=u,_r=a,li=Ms(u.firstChild),Si=!1,y=!0):y=!1),y||No(a)),Oe(a),y=a.type,x=a.pendingProps,L=i!==null?i.memoizedProps:null,u=x.children,ag(y,x)?u=null:L!==null&&ag(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=zh(i,a,f1,null,null,l),uf._currentValue=y),fd(i,a),ea(i,a,u,l),a.child;case 6:return i===null&&gn&&((i=l=li)&&(l=e3(l,a.pendingProps,Si),l!==null?(a.stateNode=l,_r=a,li=null,i=!0):i=!1),i||No(a)),null;case 13:return E2(i,a,l);case 4:return _e(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=ui(a,null,u,l):ea(i,a,u,l),a.child;case 11:return m2(i,a,a.type,a.pendingProps,l);case 7:return ea(i,a,a.pendingProps,l),a.child;case 8:return ea(i,a,a.pendingProps.children,l),a.child;case 12:return ea(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ro(a,a.type,u.value),ea(i,a,u.children,l),a.child;case 9:return y=a.type._context,u=a.pendingProps.children,Lo(a),y=Sr(y),u=u(y),a.flags|=1,ea(i,a,u,l),a.child;case 14:return y2(i,a,a.type,a.pendingProps,l);case 15:return v2(i,a,a.type,a.pendingProps,l);case 19:return C2(i,a,l);case 31:return ww(i,a,l);case 22:return b2(i,a,l,a.pendingProps);case 24:return Lo(a),u=Sr(Li),i===null?(y=Z(),y===null&&(y=ci,x=Xl(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),a.memoizedState={parent:u,cache:y},tt(a),Ro(a,Li,y)):((i.lanes&l)!==0&&(gi(i,a),zi(a,null,null,l),ii()),y=i.memoizedState,x=a.memoizedState,y.parent!==u?(y={parent:u,cache:u},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Ro(a,Li,u)):(u=x.cache,Ro(a,Li,u),u!==y.cache&&fl(a,[Li],l,!0))),ea(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function yl(i){i.flags|=4}function L1(i,a,l,u,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(t5())i.flags|=8192;else throw ze=we,je}else i.flags&=-16777217}function I2(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H5(a))if(t5())i.flags|=8192;else throw ze=we,je}function pd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ja():536870912,i.lanes|=a,qc|=a)}function $h(i,a){if(!gn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function vi(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function Aw(i,a,l){var u=a.pendingProps;switch(Tc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(a),null;case 1:return vi(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ga(Li),ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(wr(a)?yl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Oh())),vi(a),null;case 26:var y=a.type,x=a.memoizedState;return i===null?(yl(a),x!==null?(vi(a),I2(a,x)):(vi(a),L1(a,y,null,u,l))):x?x!==i.memoizedState?(yl(a),vi(a),I2(a,x)):(vi(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&yl(a),vi(a),L1(a,y,i,u,l)),null;case 27:if(ye(a),l=se.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}i=Y.current,wr(a)?Mh(a):(i=O5(y,u,l),a.stateNode=i,yl(a))}return vi(a),null;case 5:if(ye(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}if(x=Y.current,wr(a))Mh(a);else{var L=Id(se.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(y,{is:u.is}):L.createElement(y)}}x[On]=a,x[Wn]=u;e:for(L=a.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===a)break e;for(;L.sibling===null;){if(L.return===null||L.return===a)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}a.stateNode=x;e:switch(ta(x,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&yl(a)}}return vi(a),L1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=se.current,wr(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,y=_r,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}i[On]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||E5(i.nodeValue,l)),i||No(a,!0)}else i=Id(i).createTextNode(u),i[On]=a,a.stateNode=i}return vi(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=wr(a),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[On]=a}else hl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),i=!1}else l=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return vi(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=wr(a),u!==null&&u.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[On]=a}else hl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),y=!1}else y=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==y&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),pd(a,a.updateQueue),vi(a),null);case 4:return ge(),i===null&&eg(a.stateNode.containerInfo),vi(a),null;case 10:return Ga(a.type),vi(a),null;case 19:if(k(An),u=a.memoizedState,u===null)return vi(a),null;if(y=(a.flags&128)!==0,x=u.rendering,x===null)if(y)$h(u,!1);else{if(qi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=zr(i),x!==null){for(a.flags|=128,$h(u,!1),i=x.updateQueue,a.updateQueue=i,pd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)qu(l,i),l=l.sibling;return O(An,An.current&1|2),gn&&Ia(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&$t()>bd&&(a.flags|=128,y=!0,$h(u,!1),a.lanes=4194304)}else{if(!y)if(i=zr(x),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,pd(a,i),$h(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!gn)return vi(a),null}else 2*$t()-u.renderingStartTime>bd&&l!==536870912&&(a.flags|=128,y=!0,$h(u,!1),a.lanes=4194304);u.isBackwards?(x.sibling=a.child,a.child=x):(i=u.last,i!==null?i.sibling=x:a.child=x,u.last=x)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=$t(),i.sibling=null,l=An.current,O(An,y?l&1|2:l&1),gn&&Ia(a,u.treeForkCount),i):(vi(a),null);case 22:case 23:return Kn(a),Ki(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(vi(a),a.subtreeFlags&6&&(a.flags|=8192)):vi(a),l=a.updateQueue,l!==null&&pd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&k(W),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ga(Li),vi(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Ew(i,a){switch(Tc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ga(Li),ge(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ye(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(r(340));hl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Kn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return k(An),null;case 4:return ge(),null;case 10:return Ga(a.type),null;case 22:case 23:return Kn(a),Ki(),i!==null&&k(W),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ga(Li),null;case 25:return null;default:return null}}function R2(i,a){switch(Tc(a),a.tag){case 3:Ga(Li),ge();break;case 26:case 27:case 5:ye(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:k(An);break;case 10:Ga(a.type);break;case 22:case 23:Kn(a),Ki(),i!==null&&k(W);break;case 24:Ga(Li)}}function Kh(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&i)===i){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==y)}}catch(Q){Xn(a,a.return,Q)}}function nu(i,a,l){try{var u=a.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var x=y.next;u=x;do{if((u.tag&i)===i){var L=u.inst,Q=L.destroy;if(Q!==void 0){L.destroy=void 0,y=a;var me=l,De=Q;try{De()}catch(Ve){Xn(y,me,Ve)}}}u=u.next}while(u!==x)}}catch(Ve){Xn(a,a.return,Ve)}}function j2(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Fi(a,l)}catch(u){Xn(i,i.return,u)}}}function L2(i,a,l){l.props=Qu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Xn(i,a,u)}}function Qh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(y){Xn(i,a,y)}}function Po(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){Xn(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Xn(i,a,y)}else l.current=null}function D2(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){Xn(i,i.return,y)}}function D1(i,a,l){try{var u=i.stateNode;Ww(u,i.type,l,a),u[Wn]=a}catch(y){Xn(i,i.return,y)}}function k2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&uu(i.type)||i.tag===4}function k1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||k2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&uu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function M1(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=wa));else if(u!==4&&(u===27&&uu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(M1(i,a,l),i=i.sibling;i!==null;)M1(i,a,l),i=i.sibling}function gd(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&uu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(gd(i,a,l),i=i.sibling;i!==null;)gd(i,a,l),i=i.sibling}function M2(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ta(a,u,l),a[On]=i,a[Wn]=l}catch(x){Xn(i,i.return,x)}}var vl=!1,or=!1,O1=!1,O2=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function Tw(i,a){if(i=i.containerInfo,ig=Od,i=Xs(i),Rs(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,Q=-1,me=-1,De=0,Ve=0,Ge=i,Me=null;t:for(;;){for(var Pe;Ge!==l||y!==0&&Ge.nodeType!==3||(Q=L+y),Ge!==x||u!==0&&Ge.nodeType!==3||(me=L+u),Ge.nodeType===3&&(L+=Ge.nodeValue.length),(Pe=Ge.firstChild)!==null;)Me=Ge,Ge=Pe;for(;;){if(Ge===i)break t;if(Me===l&&++De===y&&(Q=L),Me===x&&++Ve===u&&(me=L),(Pe=Ge.nextSibling)!==null)break;Ge=Me,Me=Ge.parentNode}Ge=Pe}l=Q===-1||me===-1?null:{start:Q,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(rg={focusedElem:i,selectionRange:l},Od=!1,Fr=a;Fr!==null;)if(a=Fr,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Fr=i;else for(;Fr!==null;){switch(a=Fr,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,y=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var ft=Qu(l.type,y);i=u.getSnapshotBeforeUpdate(ft,x),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){Xn(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)og(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Fr=i;break}Fr=a.return}}function P2(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:xl(i,l),u&4&&Kh(5,l);break;case 1:if(xl(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(L){Xn(l,l.return,L)}else{var y=Qu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Xn(l,l.return,L)}}u&64&&j2(l),u&512&&Qh(l,l.return);break;case 3:if(xl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Fi(i,a)}catch(L){Xn(l,l.return,L)}}break;case 27:a===null&&u&4&&M2(l);case 26:case 5:xl(i,l),a===null&&u&4&&D2(l),u&512&&Qh(l,l.return);break;case 12:xl(i,l);break;case 31:xl(i,l),u&4&&B2(i,l);break;case 13:xl(i,l),u&4&&V2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Mw.bind(null,l),t3(i,l))));break;case 22:if(u=l.memoizedState!==null||vl,!u){a=a!==null&&a.memoizedState!==null||or,y=vl;var x=or;vl=u,(or=a)&&!x?_l(i,l,(l.subtreeFlags&8772)!==0):xl(i,l),vl=y,or=x}break;case 30:break;default:xl(i,l)}}function z2(i){var a=i.alternate;a!==null&&(i.alternate=null,z2(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ns(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ti=null,Wa=!1;function bl(i,a,l){for(l=l.child;l!==null;)F2(i,a,l),l=l.sibling}function F2(i,a,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Xt,l)}catch{}switch(l.tag){case 26:or||Po(l,a),bl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:or||Po(l,a);var u=Ti,y=Wa;uu(l.type)&&(Ti=l.stateNode,Wa=!1),bl(i,a,l),sf(l.stateNode),Ti=u,Wa=y;break;case 5:or||Po(l,a);case 6:if(u=Ti,y=Wa,Ti=null,bl(i,a,l),Ti=u,Wa=y,Ti!==null)if(Wa)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(l.stateNode)}catch(x){Xn(l,a,x)}else try{Ti.removeChild(l.stateNode)}catch(x){Xn(l,a,x)}break;case 18:Ti!==null&&(Wa?(i=Ti,j5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xc(i)):j5(Ti,l.stateNode));break;case 4:u=Ti,y=Wa,Ti=l.stateNode.containerInfo,Wa=!0,bl(i,a,l),Ti=u,Wa=y;break;case 0:case 11:case 14:case 15:nu(2,l,a),or||nu(4,l,a),bl(i,a,l);break;case 1:or||(Po(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&L2(l,a,u)),bl(i,a,l);break;case 21:bl(i,a,l);break;case 22:or=(u=or)||l.memoizedState!==null,bl(i,a,l),or=u;break;default:bl(i,a,l)}}function B2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(l){Xn(a,a.return,l)}}}function V2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(l){Xn(a,a.return,l)}}function Cw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new O2),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new O2),a;default:throw Error(r(435,i.tag))}}function md(i,a){var l=Cw(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var y=Ow.bind(null,i,u);u.then(y,y)}})}function $a(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],x=i,L=a,Q=L;e:for(;Q!==null;){switch(Q.tag){case 27:if(uu(Q.type)){Ti=Q.stateNode,Wa=!1;break e}break;case 5:Ti=Q.stateNode,Wa=!1;break e;case 3:case 4:Ti=Q.stateNode.containerInfo,Wa=!0;break e}Q=Q.return}if(Ti===null)throw Error(r(160));F2(x,L,y),Ti=null,Wa=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)U2(a,i),a=a.sibling}var ao=null;function U2(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$a(a,i),Ka(i),u&4&&(nu(3,i,i.return),Kh(3,i),nu(5,i,i.return));break;case 1:$a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),u&64&&vl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=ao;if($a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Rr]||x[On]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(u),y.head.insertBefore(x,y.querySelector("head > title"))),ta(x,u,l),x[On]=i,pi(x),u=x;break e;case"link":var L=U5("link","href",y).get(u+(l.href||""));if(L){for(var Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(Q,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;case"meta":if(L=U5("meta","content",y).get(u+(l.content||""))){for(Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(Q,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;default:throw Error(r(468,u))}x[On]=i,pi(x),u=x}i.stateNode=u}else q5(y,i.type,i.stateNode);else i.stateNode=V5(y,u,i.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?q5(y,i.type,i.stateNode):V5(y,u,i.memoizedProps)):u===null&&i.stateNode!==null&&D1(i,i.memoizedProps,l.memoizedProps)}break;case 27:$a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),l!==null&&u&4&&D1(i,i.memoizedProps,l.memoizedProps);break;case 5:if($a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),i.flags&32){y=i.stateNode;try{Yi(y,"")}catch(ft){Xn(i,i.return,ft)}}u&4&&i.stateNode!=null&&(y=i.memoizedProps,D1(i,y,l!==null?l.memoizedProps:y)),u&1024&&(O1=!0);break;case 6:if($a(a,i),Ka(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ft){Xn(i,i.return,ft)}}break;case 3:if(Ld=null,y=ao,ao=Rd(a.containerInfo),$a(a,i),ao=y,Ka(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(a.containerInfo)}catch(ft){Xn(i,i.return,ft)}O1&&(O1=!1,q2(i));break;case 4:u=ao,ao=Rd(i.stateNode.containerInfo),$a(a,i),Ka(i),ao=u;break;case 12:$a(a,i),Ka(i);break;case 31:$a(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,md(i,u)));break;case 13:$a(a,i),Ka(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vd=$t()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,md(i,u)));break;case 22:y=i.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,De=vl,Ve=or;if(vl=De||y,or=Ve||me,$a(a,i),or=Ve,vl=De,Ka(i),u&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||me||vl||or||Xu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){me=l=a;try{if(x=me.stateNode,y)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Q=me.stateNode;var Ge=me.memoizedProps.style,Me=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;Q.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(ft){Xn(me,me.return,ft)}}}else if(a.tag===6){if(l===null){me=a;try{me.stateNode.nodeValue=y?"":me.memoizedProps}catch(ft){Xn(me,me.return,ft)}}}else if(a.tag===18){if(l===null){me=a;try{var Pe=me.stateNode;y?L5(Pe,!0):L5(me.stateNode,!1)}catch(ft){Xn(me,me.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,md(i,l))));break;case 19:$a(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,md(i,u)));break;case 30:break;case 21:break;default:$a(a,i),Ka(i)}}function Ka(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(k2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,x=k1(i);gd(i,x,y);break;case 5:var L=l.stateNode;l.flags&32&&(Yi(L,""),l.flags&=-33);var Q=k1(i);gd(i,Q,L);break;case 3:case 4:var me=l.stateNode.containerInfo,De=k1(i);M1(i,De,me);break;default:throw Error(r(161))}}catch(Ve){Xn(i,i.return,Ve)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function q2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;q2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function xl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)P2(i,a.alternate,a),a=a.sibling}function Xu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:nu(4,a,a.return),Xu(a);break;case 1:Po(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&L2(a,a.return,l),Xu(a);break;case 27:sf(a.stateNode);case 26:case 5:Po(a,a.return),Xu(a);break;case 22:a.memoizedState===null&&Xu(a);break;case 30:Xu(a);break;default:Xu(a)}i=i.sibling}}function _l(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,y=i,x=a,L=x.flags;switch(x.tag){case 0:case 11:case 15:_l(y,x,l),Kh(4,x);break;case 1:if(_l(y,x,l),u=x,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(De){Xn(u,u.return,De)}if(u=x,y=u.updateQueue,y!==null){var Q=u.stateNode;try{var me=y.shared.hiddenCallbacks;if(me!==null)for(y.shared.hiddenCallbacks=null,y=0;y<me.length;y++)Pr(me[y],Q)}catch(De){Xn(u,u.return,De)}}l&&L&64&&j2(x),Qh(x,x.return);break;case 27:M2(x);case 26:case 5:_l(y,x,l),l&&u===null&&L&4&&D2(x),Qh(x,x.return);break;case 12:_l(y,x,l);break;case 31:_l(y,x,l),l&&L&4&&B2(y,x);break;case 13:_l(y,x,l),l&&L&4&&V2(y,x);break;case 22:x.memoizedState===null&&_l(y,x,l),Qh(x,x.return);break;case 30:break;default:_l(y,x,l)}a=a.sibling}}function P1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Yu(l))}function z1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yu(i))}function so(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)H2(i,a,l,u),a=a.sibling}function H2(i,a,l,u){var y=a.flags;switch(a.tag){case 0:case 11:case 15:so(i,a,l,u),y&2048&&Kh(9,a);break;case 1:so(i,a,l,u);break;case 3:so(i,a,l,u),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yu(i)));break;case 12:if(y&2048){so(i,a,l,u),i=a.stateNode;try{var x=a.memoizedProps,L=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(L,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(me){Xn(a,a.return,me)}}else so(i,a,l,u);break;case 31:so(i,a,l,u);break;case 13:so(i,a,l,u);break;case 23:break;case 22:x=a.stateNode,L=a.alternate,a.memoizedState!==null?x._visibility&2?so(i,a,l,u):Xh(i,a):x._visibility&2?so(i,a,l,u):(x._visibility|=2,Bc(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),y&2048&&P1(L,a);break;case 24:so(i,a,l,u),y&2048&&z1(a.alternate,a);break;default:so(i,a,l,u)}}function Bc(i,a,l,u,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,L=a,Q=l,me=u,De=L.flags;switch(L.tag){case 0:case 11:case 15:Bc(x,L,Q,me,y),Kh(8,L);break;case 23:break;case 22:var Ve=L.stateNode;L.memoizedState!==null?Ve._visibility&2?Bc(x,L,Q,me,y):Xh(x,L):(Ve._visibility|=2,Bc(x,L,Q,me,y)),y&&De&2048&&P1(L.alternate,L);break;case 24:Bc(x,L,Q,me,y),y&&De&2048&&z1(L.alternate,L);break;default:Bc(x,L,Q,me,y)}a=a.sibling}}function Xh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,y=u.flags;switch(u.tag){case 22:Xh(l,u),y&2048&&P1(u.alternate,u);break;case 24:Xh(l,u),y&2048&&z1(u.alternate,u);break;default:Xh(l,u)}a=a.sibling}}var Zh=8192;function Vc(i,a,l){if(i.subtreeFlags&Zh)for(i=i.child;i!==null;)G2(i,a,l),i=i.sibling}function G2(i,a,l){switch(i.tag){case 26:Vc(i,a,l),i.flags&Zh&&i.memoizedState!==null&&d3(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Vc(i,a,l);break;case 3:case 4:var u=ao;ao=Rd(i.stateNode.containerInfo),Vc(i,a,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Zh,Zh=16777216,Vc(i,a,l),Zh=u):Vc(i,a,l));break;default:Vc(i,a,l)}}function Y2(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Jh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Fr=u,$2(u,i)}Y2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W2(i),i=i.sibling}function W2(i){switch(i.tag){case 0:case 11:case 15:Jh(i),i.flags&2048&&nu(9,i,i.return);break;case 3:Jh(i);break;case 12:Jh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,yd(i)):Jh(i);break;default:Jh(i)}}function yd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Fr=u,$2(u,i)}Y2(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:nu(8,a,a.return),yd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,yd(a));break;default:yd(a)}i=i.sibling}}function $2(i,a){for(;Fr!==null;){var l=Fr;switch(l.tag){case 0:case 11:case 15:nu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Fr=u;else e:for(l=i;Fr!==null;){u=Fr;var y=u.sibling,x=u.return;if(z2(u),u===l){Fr=null;break e}if(y!==null){y.return=x,Fr=y;break e}Fr=x}}}var Nw={getCacheForType:function(i){var a=Sr(Li),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Sr(Li).controller.signal}},Iw=typeof WeakMap=="function"?WeakMap:Map,qn=0,ci=null,mn=null,bn=0,Qn=0,fs=null,iu=!1,Uc=!1,F1=!1,wl=0,qi=0,ru=0,Zu=0,B1=0,ds=0,qc=0,ef=null,Qa=null,V1=!1,vd=0,K2=0,bd=1/0,xd=null,au=null,Er=0,su=null,Hc=null,Sl=0,U1=0,q1=null,Q2=null,tf=0,H1=null;function ps(){return(qn&2)!==0&&bn!==0?bn&-bn:re.T!==null?Q1():Mi()}function X2(){if(ds===0)if((bn&536870912)===0||gn){var i=Mn;Mn<<=1,(Mn&3932160)===0&&(Mn=262144),ds=i}else ds=536870912;return i=yi.current,i!==null&&(i.flags|=32),ds}function Xa(i,a,l){(i===ci&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(Gc(i,0),ou(i,bn,ds,!1)),At(i,l),((qn&2)===0||i!==ci)&&(i===ci&&((qn&2)===0&&(Zu|=l),qi===4&&ou(i,bn,ds,!1)),zo(i))}function Z2(i,a,l){if((qn&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||dr(i,a),y=u?Lw(i,a):Y1(i,a,!0),x=u;do{if(y===0){Uc&&!u&&ou(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!Rw(l)){y=Y1(i,a,!1),x=!1;continue}if(y===2){if(x=a,i.errorRecoveryDisabledLanes&x)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var Q=i;y=ef;var me=Q.current.memoizedState.isDehydrated;if(me&&(Gc(Q,L).flags|=256),L=Y1(Q,L,!1),L!==2){if(F1&&!me){Q.errorRecoveryDisabledLanes|=x,Zu|=x,y=4;break e}x=Qa,Qa=y,x!==null&&(Qa===null?Qa=x:Qa.push.apply(Qa,x))}y=L}if(x=!1,y!==2)continue}}if(y===1){Gc(i,0),ou(i,a,0,!0);break}e:{switch(u=i,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ou(u,a,ds,!iu);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=vd+300-$t(),10<y)){if(ou(u,a,ds,!iu),ln(u,0,!0)!==0)break e;Sl=a,u.timeoutHandle=I5(J2.bind(null,u,l,Qa,xd,V1,a,ds,Zu,qc,iu,x,"Throttled",-0,0),y);break e}J2(u,l,Qa,xd,V1,a,ds,Zu,qc,iu,x,null,-0,0)}}break}while(!0);zo(i)}function J2(i,a,l,u,y,x,L,Q,me,De,Ve,Ge,Me,Pe){if(i.timeoutHandle=-1,Ge=a.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},G2(a,x,Ge);var ft=(x&62914560)===x?vd-$t():(x&4194048)===x?K2-$t():0;if(ft=p3(Ge,ft),ft!==null){Sl=x,i.cancelPendingCommit=ft(o5.bind(null,i,a,x,l,u,y,L,Q,me,Ve,Ge,null,Me,Pe)),ou(i,x,L,!De);return}}o5(i,a,x,l,u,y,L,Q,me)}function Rw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],x=y.getSnapshot;y=y.value;try{if(!br(x(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ou(i,a,l,u){a&=~B1,a&=~Zu,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var y=a;0<y;){var x=31-Kt(y),L=1<<x;u[x]=-1,y&=~L}l!==0&&Ur(i,l,a)}function _d(){return(qn&6)===0?(nf(0),!1):!0}function G1(){if(mn!==null){if(Qn===0)var i=mn.return;else i=mn,Ls=Io=null,Dc(i),We=null,pt=0,i=mn;for(;i!==null;)R2(i.alternate,i),i=i.return;mn=null}}function Gc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Qw(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Sl=0,G1(),ci=i,mn=l=Fa(i.current,null),bn=a,Qn=0,fs=null,iu=!1,Uc=dr(i,a),F1=!1,qc=ds=B1=Zu=ru=qi=0,Qa=ef=null,V1=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var y=31-Kt(u),x=1<<y;a|=i[y],u&=~x}return wl=a,Bu(),l}function e5(i,a){Rt=null,re.H=Yh,a===be||a===le?(a=Ue(),Qn=3):a===je?(a=Ue(),Qn=4):Qn=a===S1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fs=a,mn===null&&(qi=1,cd(i,Ba(a,i.current)))}function t5(){var i=yi.current;return i===null?!0:(bn&4194048)===bn?Tn===null:(bn&62914560)===bn||(bn&536870912)!==0?i===Tn:!1}function n5(){var i=re.H;return re.H=Yh,i===null?Yh:i}function i5(){var i=re.A;return re.A=Nw,i}function wd(){qi=4,iu||(bn&4194048)!==bn&&yi.current!==null||(Uc=!0),(ru&134217727)===0&&(Zu&134217727)===0||ci===null||ou(ci,bn,ds,!1)}function Y1(i,a,l){var u=qn;qn|=2;var y=n5(),x=i5();(ci!==i||bn!==a)&&(xd=null,Gc(i,a)),a=!1;var L=qi;e:do try{if(Qn!==0&&mn!==null){var Q=mn,me=fs;switch(Qn){case 8:G1(),L=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(a=!0);var De=Qn;if(Qn=0,fs=null,Yc(i,Q,me,De),l&&Uc){L=0;break e}break;default:De=Qn,Qn=0,fs=null,Yc(i,Q,me,De)}}jw(),L=qi;break}catch(Ve){e5(i,Ve)}while(!0);return a&&i.shellSuspendCounter++,Ls=Io=null,qn=u,re.H=y,re.A=x,mn===null&&(ci=null,bn=0,Bu()),L}function jw(){for(;mn!==null;)r5(mn)}function Lw(i,a){var l=qn;qn|=2;var u=n5(),y=i5();ci!==i||bn!==a?(xd=null,bd=$t()+500,Gc(i,a)):Uc=dr(i,a);e:do try{if(Qn!==0&&mn!==null){a=mn;var x=fs;t:switch(Qn){case 1:Qn=0,fs=null,Yc(i,a,x,1);break;case 2:case 9:if(Ce(x)){Qn=0,fs=null,a5(a);break}a=function(){Qn!==2&&Qn!==9||ci!==i||(Qn=7),zo(i)},x.then(a,a);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:Ce(x)?(Qn=0,fs=null,a5(a)):(Qn=0,fs=null,Yc(i,a,x,7));break;case 5:var L=null;switch(mn.tag){case 26:L=mn.memoizedState;case 5:case 27:var Q=mn;if(L?H5(L):Q.stateNode.complete){Qn=0,fs=null;var me=Q.sibling;if(me!==null)mn=me;else{var De=Q.return;De!==null?(mn=De,Sd(De)):mn=null}break t}}Qn=0,fs=null,Yc(i,a,x,5);break;case 6:Qn=0,fs=null,Yc(i,a,x,6);break;case 8:G1(),qi=6;break e;default:throw Error(r(462))}}Dw();break}catch(Ve){e5(i,Ve)}while(!0);return Ls=Io=null,re.H=u,re.A=y,qn=l,mn!==null?0:(ci=null,bn=0,Bu(),qi)}function Dw(){for(;mn!==null&&!Nt();)r5(mn)}function r5(i){var a=N2(i.alternate,i,wl);i.memoizedProps=i.pendingProps,a===null?Sd(i):mn=a}function a5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=w2(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=w2(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:Dc(a);default:R2(l,a),a=mn=qu(a,wl),a=N2(l,a,wl)}i.memoizedProps=i.pendingProps,a===null?Sd(i):mn=a}function Yc(i,a,l,u){Ls=Io=null,Dc(a),We=null,pt=0;var y=a.return;try{if(_w(i,y,a,l,bn)){qi=1,cd(i,Ba(l,i.current)),mn=null;return}}catch(x){if(y!==null)throw mn=y,x;qi=1,cd(i,Ba(l,i.current)),mn=null;return}a.flags&32768?(gn||u===1?i=!0:Uc||(bn&536870912)!==0?i=!1:(iu=i=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),s5(a,i)):Sd(a)}function Sd(i){var a=i;do{if((a.flags&32768)!==0){s5(a,iu);return}i=a.return;var l=Aw(a.alternate,a,wl);if(l!==null){mn=l;return}if(a=a.sibling,a!==null){mn=a;return}mn=a=i}while(a!==null);qi===0&&(qi=5)}function s5(i,a){do{var l=Ew(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);qi=6,mn=null}function o5(i,a,l,u,y,x,L,Q,me){i.cancelPendingCommit=null;do Ad();while(Er!==0);if((qn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=bc,ts(i,l,x,L,Q,me),i===ci&&(mn=ci=null,bn=0),Hc=a,su=i,Sl=l,U1=x,q1=y,Q2=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Pw(Qt,function(){return f5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=re.T,re.T=null,y=he.p,he.p=2,L=qn,qn|=4;try{Tw(i,a,l)}finally{qn=L,he.p=y,re.T=u}}Er=1,l5(),u5(),c5()}}function l5(){if(Er===1){Er=0;var i=su,a=Hc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var u=he.p;he.p=2;var y=qn;qn|=4;try{U2(a,i);var x=rg,L=Xs(i.containerInfo),Q=x.focusedElem,me=x.selectionRange;if(L!==Q&&Q&&Q.ownerDocument&&Qs(Q.ownerDocument.documentElement,Q)){if(me!==null&&Rs(Q)){var De=me.start,Ve=me.end;if(Ve===void 0&&(Ve=De),"selectionStart"in Q)Q.selectionStart=De,Q.selectionEnd=Math.min(Ve,Q.value.length);else{var Ge=Q.ownerDocument||document,Me=Ge&&Ge.defaultView||window;if(Me.getSelection){var Pe=Me.getSelection(),ft=Q.textContent.length,Ft=Math.min(me.start,ft),si=me.end===void 0?Ft:Math.min(me.end,ft);!Pe.extend&&Ft>si&&(L=si,si=Ft,Ft=L);var Ee=Gl(Q,Ft),xe=Gl(Q,si);if(Ee&&xe&&(Pe.rangeCount!==1||Pe.anchorNode!==Ee.node||Pe.anchorOffset!==Ee.offset||Pe.focusNode!==xe.node||Pe.focusOffset!==xe.offset)){var Le=Ge.createRange();Le.setStart(Ee.node,Ee.offset),Pe.removeAllRanges(),Ft>si?(Pe.addRange(Le),Pe.extend(xe.node,xe.offset)):(Le.setEnd(xe.node,xe.offset),Pe.addRange(Le))}}}}for(Ge=[],Pe=Q;Pe=Pe.parentNode;)Pe.nodeType===1&&Ge.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ge.length;Q++){var He=Ge[Q];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Od=!!ig,rg=ig=null}finally{qn=y,he.p=u,re.T=l}}i.current=a,Er=2}}function u5(){if(Er===2){Er=0;var i=su,a=Hc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var u=he.p;he.p=2;var y=qn;qn|=4;try{P2(i,a.alternate,a)}finally{qn=y,he.p=u,re.T=l}}Er=3}}function c5(){if(Er===4||Er===3){Er=0,_t();var i=su,a=Hc,l=Sl,u=Q2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Er=5:(Er=0,Hc=su=null,h5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(au=null),Jn(l),a=a.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Xt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=re.T,y=he.p,he.p=2,re.T=null;try{for(var x=i.onRecoverableError,L=0;L<u.length;L++){var Q=u[L];x(Q.value,{componentStack:Q.stack})}}finally{re.T=a,he.p=y}}(Sl&3)!==0&&Ad(),zo(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===H1?tf++:(tf=0,H1=i):tf=0,nf(0)}}function h5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Yu(a)))}function Ad(){return l5(),u5(),c5(),f5()}function f5(){if(Er!==5)return!1;var i=su,a=U1;U1=0;var l=Jn(Sl),u=re.T,y=he.p;try{he.p=32>l?32:l,re.T=null,l=q1,q1=null;var x=su,L=Sl;if(Er=0,Hc=su=null,Sl=0,(qn&6)!==0)throw Error(r(331));var Q=qn;if(qn|=4,W2(x.current),H2(x,x.current,L,l),qn=Q,nf(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Xt,x)}catch{}return!0}finally{he.p=y,re.T=u,h5(i,a)}}function d5(i,a,l){a=Ba(l,a),a=w1(i.stateNode,a,2),i=an(i,a,2),i!==null&&(At(i,2),zo(i))}function Xn(i,a,l){if(i.tag===3)d5(i,i,l);else for(;a!==null;){if(a.tag===3){d5(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(au===null||!au.has(u))){i=Ba(l,i),l=p2(2),u=an(a,l,2),u!==null&&(g2(l,u,a,i),At(u,2),zo(u));break}}a=a.return}}function W1(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new Iw;var y=new Set;u.set(a,y)}else y=u.get(a),y===void 0&&(y=new Set,u.set(a,y));y.has(l)||(F1=!0,y.add(l),i=kw.bind(null,i,a,l),a.then(i,i))}function kw(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ci===i&&(bn&l)===l&&(qi===4||qi===3&&(bn&62914560)===bn&&300>$t()-vd?(qn&2)===0&&Gc(i,0):B1|=l,qc===bn&&(qc=0)),zo(i)}function p5(i,a){a===0&&(a=ja()),i=Js(i,a),i!==null&&(At(i,a),zo(i))}function Mw(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),p5(i,l)}function Ow(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),p5(i,l)}function Pw(i,a){return rt(i,a)}var Ed=null,Wc=null,$1=!1,Td=!1,K1=!1,lu=0;function zo(i){i!==Wc&&i.next===null&&(Wc===null?Ed=Wc=i:Wc=Wc.next=i),Td=!0,$1||($1=!0,Fw())}function nf(i,a){if(!K1&&Td){K1=!0;do for(var l=!1,u=Ed;u!==null;){if(i!==0){var y=u.pendingLanes;if(y===0)var x=0;else{var L=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-Kt(42|i)+1)-1,x&=y&~(L&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,v5(u,x))}else x=bn,x=ln(u,u===ci?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||dr(u,x)||(l=!0,v5(u,x));u=u.next}while(l);K1=!1}}function zw(){g5()}function g5(){Td=$1=!1;var i=0;lu!==0&&Kw()&&(i=lu);for(var a=$t(),l=null,u=Ed;u!==null;){var y=u.next,x=m5(u,a);x===0?(u.next=null,l===null?Ed=y:l.next=y,y===null&&(Wc=l)):(l=u,(i!==0||(x&3)!==0)&&(Td=!0)),u=y}Er!==0&&Er!==5||nf(i),lu!==0&&(lu=0)}function m5(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var L=31-Kt(x),Q=1<<L,me=y[L];me===-1?((Q&l)===0||(Q&u)!==0)&&(y[L]=er(Q,a)):me<=a&&(i.expiredLanes|=Q),x&=~Q}if(a=ci,l=bn,l=ln(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||dr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&it(u),Jn(l)){case 2:case 8:l=on;break;case 32:l=Qt;break;case 268435456:l=Ht;break;default:l=Qt}return u=y5.bind(null,i),l=rt(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&it(u),i.callbackPriority=2,i.callbackNode=null,2}function y5(i,a){if(Er!==0&&Er!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ad()&&i.callbackNode!==l)return null;var u=bn;return u=ln(i,i===ci?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Z2(i,u,a),m5(i,$t()),i.callbackNode!=null&&i.callbackNode===l?y5.bind(null,i):null)}function v5(i,a){if(Ad())return null;Z2(i,a,!0)}function Fw(){Xw(function(){(qn&6)!==0?rt(Bt,zw):g5()})}function Q1(){if(lu===0){var i=p;i===0&&(i=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),lu=i}return lu}function b5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lr(""+i)}function x5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Bw(i,a,l,u,y){if(a==="submit"&&l&&l.stateNode===y){var x=b5((y[Wn]||null).action),L=u.submitter;L&&(a=(a=L[Wn]||null)?b5(a.formAction):L.getAttribute("formAction"),a!==null&&(x=a,L=null));var Q=new ir("action","action",null,u,y);i.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lu!==0){var me=L?x5(y,L):new FormData(y);m1(l,{pending:!0,data:me,method:y.method,action:x},null,me)}}else typeof x=="function"&&(Q.preventDefault(),me=L?x5(y,L):new FormData(y),m1(l,{pending:!0,data:me,method:y.method,action:x},x,me))},currentTarget:y}]})}}for(var X1=0;X1<ll.length;X1++){var Z1=ll[X1],Vw=Z1.toLowerCase(),Uw=Z1[0].toUpperCase()+Z1.slice(1);za(Vw,"on"+Uw)}za(ol,"onAnimationEnd"),za(zu,"onAnimationIteration"),za(jh,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(Xf,"onTransitionRun"),za(Zf,"onTransitionStart"),za(Jf,"onTransitionCancel"),za(Lh,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function _5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],y=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var L=u.length-1;0<=L;L--){var Q=u[L],me=Q.instance,De=Q.currentTarget;if(Q=Q.listener,me!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=De;try{x(y)}catch(Ve){Fu(Ve)}y.currentTarget=null,x=me}else for(L=0;L<u.length;L++){if(Q=u[L],me=Q.instance,De=Q.currentTarget,Q=Q.listener,me!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=De;try{x(y)}catch(Ve){Fu(Ve)}y.currentTarget=null,x=me}}}}function yn(i,a){var l=a[Ir];l===void 0&&(l=a[Ir]=new Set);var u=i+"__bubble";l.has(u)||(w5(a,i,2,!1),l.add(u))}function J1(i,a,l){var u=0;a&&(u|=4),w5(l,i,u,a)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function eg(i){if(!i[Cd]){i[Cd]=!0,yo.forEach(function(l){l!=="selectionchange"&&(qw.has(l)||J1(l,!1,i),J1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Cd]||(a[Cd]=!0,J1("selectionchange",!1,a))}}function w5(i,a,l,u){switch(X5(a)){case 2:var y=y3;break;case 8:y=v3;break;default:y=gg}l=y.bind(null,a,l,i),y=void 0,!qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),u?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function tg(i,a,l,u,y){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var Q=u.stateNode.containerInfo;if(Q===y)break;if(L===4)for(L=u.return;L!==null;){var me=L.tag;if((me===3||me===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;Q!==null;){if(L=qr(Q),L===null)return;if(me=L.tag,me===5||me===6||me===26||me===27){u=x=L;continue e}Q=Q.parentNode}}u=u.return}ws(function(){var De=x,Ve=Dr(l),Ge=[];e:{var Me=Dh.get(i);if(Me!==void 0){var Pe=ir,ft=i;switch(i){case"keypress":if(Wr(l)===0)break e;case"keydown":case"keyup":Pe=dn;break;case"focusin":ft="focus",Pe=Aa;break;case"focusout":ft="blur",Pe=Aa;break;case"beforeblur":case"afterblur":Pe=Aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=R;break;case ol:case zu:case jh:Pe=S;break;case Lh:Pe=ee;break;case"scroll":case"scrollend":Pe=Ss;break;case"wheel":Pe=ke;break;case"copy":case"cut":case"paste":Pe=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Gn;break;case"toggle":case"beforetoggle":Pe=qt}var Ft=(a&4)!==0,si=!Ft&&(i==="scroll"||i==="scrollend"),Ee=Ft?Me!==null?Me+"Capture":null:Me;Ft=[];for(var xe=De,Le;xe!==null;){var He=xe;if(Le=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Le===null||Ee===null||(He=Wi(xe,Ee),He!=null&&Ft.push(af(xe,He,Le))),si)break;xe=xe.return}0<Ft.length&&(Me=new Pe(Me,ft,null,l,Ve),Ge.push({event:Me,listeners:Ft}))}}if((a&7)===0){e:{if(Me=i==="mouseover"||i==="pointerover",Pe=i==="mouseout"||i==="pointerout",Me&&l!==ss&&(ft=l.relatedTarget||l.fromElement)&&(qr(ft)||ft[Oi]))break e;if((Pe||Me)&&(Me=Ve.window===Ve?Ve:(Me=Ve.ownerDocument)?Me.defaultView||Me.parentWindow:window,Pe?(ft=l.relatedTarget||l.toElement,Pe=De,ft=ft?qr(ft):null,ft!==null&&(si=o(ft),Ft=ft.tag,ft!==si||Ft!==5&&Ft!==27&&Ft!==6)&&(ft=null)):(Pe=null,ft=De),Pe!==ft)){if(Ft=So,He="onMouseLeave",Ee="onMouseEnter",xe="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=Gn,He="onPointerLeave",Ee="onPointerEnter",xe="pointer"),si=Pe==null?Me:Hr(Pe),Le=ft==null?Me:Hr(ft),Me=new Ft(He,xe+"leave",Pe,l,Ve),Me.target=si,Me.relatedTarget=Le,He=null,qr(Ve)===De&&(Ft=new Ft(Ee,xe+"enter",ft,l,Ve),Ft.target=Le,Ft.relatedTarget=si,He=Ft),si=He,Pe&&ft)t:{for(Ft=Hw,Ee=Pe,xe=ft,Le=0,He=Ee;He;He=Ft(He))Le++;He=0;for(var Dt=xe;Dt;Dt=Ft(Dt))He++;for(;0<Le-He;)Ee=Ft(Ee),Le--;for(;0<He-Le;)xe=Ft(xe),He--;for(;Le--;){if(Ee===xe||xe!==null&&Ee===xe.alternate){Ft=Ee;break t}Ee=Ft(Ee),xe=Ft(xe)}Ft=null}else Ft=null;Pe!==null&&S5(Ge,Me,Pe,Ft,!1),ft!==null&&si!==null&&S5(Ge,si,ft,Ft,!0)}}e:{if(Me=De?Hr(De):window,Pe=Me.nodeName&&Me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Me.type==="file")var Fn=Eo;else if(Ou(Me))if(ca)Fn=Ns;else{Fn=Ri;var xt=ql}else Pe=Me.nodeName,!Pe||Pe.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?De&&xo(De.elementType)&&(Fn=Eo):Fn=vc;if(Fn&&(Fn=Fn(i,De))){Ta(Ge,Fn,l,Ve);break e}xt&&xt(i,Me,De),i==="focusout"&&De&&Me.type==="number"&&De.memoizedProps.value!=null&&el(Me,"number",Me.value)}switch(xt=De?Hr(De):window,i){case"focusin":(Ou(xt)||xt.contentEditable==="true")&&(Ca=xt,Zs=De,kr=null);break;case"focusout":kr=Zs=Ca=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Dn(Ge,l,Ve);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":Dn(Ge,l,Ve)}var un;if(cn)e:{switch(i){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else Es?Ea(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(yr&&l.locale!=="ko"&&(Es||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Es&&(un=rl()):(Yr=Ve,Hs="value"in Yr?Yr.value:Yr.textContent,Es=!0)),xt=Nd(De,xn),0<xt.length&&(xn=new Ae(xn,i,null,l,Ve),Ge.push({event:xn,listeners:xt}),un?xn.data=un:(un=As(l),un!==null&&(xn.data=un)))),(un=rr?Qr(i,l):Ys(i,l))&&(xn=Nd(De,"onBeforeInput"),0<xn.length&&(xt=new Ae("onBeforeInput","beforeinput",null,l,Ve),Ge.push({event:xt,listeners:xn}),xt.data=un)),Bw(Ge,i,De,l,Ve)}_5(Ge,a)})}function af(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Nd(i,a){for(var l=a+"Capture",u=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Wi(i,l),y!=null&&u.unshift(af(i,y,x)),y=Wi(i,a),y!=null&&u.push(af(i,y,x))),i.tag===3)return u;i=i.return}return[]}function Hw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function S5(i,a,l,u,y){for(var x=a._reactName,L=[];l!==null&&l!==u;){var Q=l,me=Q.alternate,De=Q.stateNode;if(Q=Q.tag,me!==null&&me===u)break;Q!==5&&Q!==26&&Q!==27||De===null||(me=De,y?(De=Wi(l,x),De!=null&&L.unshift(af(l,De,me))):y||(De=Wi(l,x),De!=null&&L.push(af(l,De,me)))),l=l.return}L.length!==0&&i.push({event:a,listeners:L})}var Gw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function A5(i){return(typeof i=="string"?i:""+i).replace(Gw,`
`).replace(Yw,"")}function E5(i,a){return a=A5(a),A5(i)===a}function ai(i,a,l,u,y,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yi(i,""+u);break;case"className":nr(i,"class",u);break;case"tabIndex":nr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(i,l,u);break;case"style":il(i,u,x);break;case"data":if(a!=="object"){nr(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ai(i,a,"name",y.name,y,null),ai(i,a,"formEncType",y.formEncType,y,null),ai(i,a,"formMethod",y.formMethod,y,null),ai(i,a,"formTarget",y.formTarget,y,null)):(ai(i,a,"encType",y.encType,y,null),ai(i,a,"method",y.method,y,null),ai(i,a,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=wa);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Lr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":yn("beforetoggle",i),yn("toggle",i),Gr(i,"popover",u);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_o.get(l)||l,Gr(i,l,u))}}function ng(i,a,l,u,y,x){switch(l){case"style":il(i,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&Yi(i,""+u);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),x=i[Wn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,y),typeof u=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,y);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Gr(i,l,u)}}}function ta(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",i),yn("load",i);var u=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,x,L,l,null)}}y&&ai(i,a,"srcSet",l.srcSet,l,null),u&&ai(i,a,"src",l.src,l,null);return;case"input":yn("invalid",i);var Q=x=L=y=null,me=null,De=null;for(u in l)if(l.hasOwnProperty(u)){var Ve=l[u];if(Ve!=null)switch(u){case"name":y=Ve;break;case"type":L=Ve;break;case"checked":me=Ve;break;case"defaultChecked":De=Ve;break;case"value":x=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,a));break;default:ai(i,a,u,Ve,l,null)}}Bl(i,x,Q,me,De,L,y,!1);return;case"select":yn("invalid",i),u=L=x=null;for(y in l)if(l.hasOwnProperty(y)&&(Q=l[y],Q!=null))switch(y){case"value":x=Q;break;case"defaultValue":L=Q;break;case"multiple":u=Q;default:ai(i,a,y,Q,l,null)}a=x,l=L,i.multiple=!!u,a!=null?mr(i,!!u,a,!1):l!=null&&mr(i,!!u,l,!0);return;case"textarea":yn("invalid",i),x=y=u=null;for(L in l)if(l.hasOwnProperty(L)&&(Q=l[L],Q!=null))switch(L){case"value":u=Q;break;case"defaultValue":y=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:ai(i,a,L,Q,l,null)}rs(i,u,y,x);return;case"option":for(me in l)l.hasOwnProperty(me)&&(u=l[me],u!=null)&&(me==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ai(i,a,me,u,l,null));return;case"dialog":yn("beforetoggle",i),yn("toggle",i),yn("cancel",i),yn("close",i);break;case"iframe":case"object":yn("load",i);break;case"video":case"audio":for(u=0;u<rf.length;u++)yn(rf[u],i);break;case"image":yn("error",i),yn("load",i);break;case"details":yn("toggle",i);break;case"embed":case"source":case"link":yn("error",i),yn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(u=l[De],u!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,De,u,l,null)}return;default:if(xo(a)){for(Ve in l)l.hasOwnProperty(Ve)&&(u=l[Ve],u!==void 0&&ng(i,a,Ve,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&ai(i,a,Q,u,l,null))}function Ww(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,L=null,Q=null,me=null,De=null,Ve=null;for(Pe in l){var Ge=l[Pe];if(l.hasOwnProperty(Pe)&&Ge!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":me=Ge;default:u.hasOwnProperty(Pe)||ai(i,a,Pe,null,u,Ge)}}for(var Me in u){var Pe=u[Me];if(Ge=l[Me],u.hasOwnProperty(Me)&&(Pe!=null||Ge!=null))switch(Me){case"type":x=Pe;break;case"name":y=Pe;break;case"checked":De=Pe;break;case"defaultChecked":Ve=Pe;break;case"value":L=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,a));break;default:Pe!==Ge&&ai(i,a,Me,Pe,u,Ge)}}Vs(i,L,Q,me,De,Ve,x,y);return;case"select":Pe=L=Q=Me=null;for(x in l)if(me=l[x],l.hasOwnProperty(x)&&me!=null)switch(x){case"value":break;case"multiple":Pe=me;default:u.hasOwnProperty(x)||ai(i,a,x,null,u,me)}for(y in u)if(x=u[y],me=l[y],u.hasOwnProperty(y)&&(x!=null||me!=null))switch(y){case"value":Me=x;break;case"defaultValue":Q=x;break;case"multiple":L=x;default:x!==me&&ai(i,a,y,x,u,me)}a=Q,l=L,u=Pe,Me!=null?mr(i,!!l,Me,!1):!!u!=!!l&&(a!=null?mr(i,!!l,a,!0):mr(i,!!l,l?[]:"",!1));return;case"textarea":Pe=Me=null;for(Q in l)if(y=l[Q],l.hasOwnProperty(Q)&&y!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ai(i,a,Q,null,u,y)}for(L in u)if(y=u[L],x=l[L],u.hasOwnProperty(L)&&(y!=null||x!=null))switch(L){case"value":Me=y;break;case"defaultValue":Pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&ai(i,a,L,y,u,x)}tl(i,Me,Pe);return;case"option":for(var ft in l)Me=l[ft],l.hasOwnProperty(ft)&&Me!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:ai(i,a,ft,null,u,Me));for(me in u)Me=u[me],Pe=l[me],u.hasOwnProperty(me)&&Me!==Pe&&(Me!=null||Pe!=null)&&(me==="selected"?i.selected=Me&&typeof Me!="function"&&typeof Me!="symbol":ai(i,a,me,Me,u,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)Me=l[Ft],l.hasOwnProperty(Ft)&&Me!=null&&!u.hasOwnProperty(Ft)&&ai(i,a,Ft,null,u,Me);for(De in u)if(Me=u[De],Pe=l[De],u.hasOwnProperty(De)&&Me!==Pe&&(Me!=null||Pe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:ai(i,a,De,Me,u,Pe)}return;default:if(xo(a)){for(var si in l)Me=l[si],l.hasOwnProperty(si)&&Me!==void 0&&!u.hasOwnProperty(si)&&ng(i,a,si,void 0,u,Me);for(Ve in u)Me=u[Ve],Pe=l[Ve],!u.hasOwnProperty(Ve)||Me===Pe||Me===void 0&&Pe===void 0||ng(i,a,Ve,Me,u,Pe);return}}for(var Ee in l)Me=l[Ee],l.hasOwnProperty(Ee)&&Me!=null&&!u.hasOwnProperty(Ee)&&ai(i,a,Ee,null,u,Me);for(Ge in u)Me=u[Ge],Pe=l[Ge],!u.hasOwnProperty(Ge)||Me===Pe||Me==null&&Pe==null||ai(i,a,Ge,Me,u,Pe)}function T5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $w(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var y=l[u],x=y.transferSize,L=y.initiatorType,Q=y.duration;if(x&&Q&&T5(L)){for(L=0,Q=y.responseEnd,u+=1;u<l.length;u++){var me=l[u],De=me.startTime;if(De>Q)break;var Ve=me.transferSize,Ge=me.initiatorType;Ve&&T5(Ge)&&(me=me.responseEnd,L+=Ve*(me<Q?1:(Q-De)/(me-De)))}if(--u,a+=8*(x+L)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ig=null,rg=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function C5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ag(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sg=null;function Kw(){var i=window.event;return i&&i.type==="popstate"?i===sg?!1:(sg=i,!0):(sg=null,!1)}var I5=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,R5=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof R5<"u"?function(i){return R5.resolve(null).then(i).catch(Zw)}:I5;function Zw(i){setTimeout(function(){throw i})}function uu(i){return i==="head"}function j5(i,a){var l=a,u=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(y),Xc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")sf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,sf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,Q=x.nodeName;x[Rr]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&sf(i.ownerDocument.body);l=y}while(l);Xc(a)}function L5(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function og(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":og(l),ns(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Jw(i,a,l,u){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Rr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ms(i.nextSibling),i===null)break}return null}function e3(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ms(i.nextSibling),i===null))return null;return i}function D5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ms(i.nextSibling),i===null))return null;return i}function lg(i){return i.data==="$?"||i.data==="$~"}function ug(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function t3(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ms(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var cg=null;function k5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Ms(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function M5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function O5(i,a,l){switch(a=Id(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ns(i)}var Os=new Map,P5=new Set;function Rd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Al=he.d;he.d={f:n3,r:i3,D:r3,C:a3,L:s3,m:o3,X:u3,S:l3,M:c3};function n3(){var i=Al.f(),a=_d();return i||a}function i3(i){var a=gr(i);a!==null&&a.tag===5&&a.type==="form"?e2(a):Al.r(i)}var $c=typeof document>"u"?null:document;function z5(i,a,l){var u=$c;if(u&&typeof a=="string"&&a){var y=wi(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),P5.has(y)||(P5.add(y),i={rel:i,crossOrigin:l,href:a},u.querySelector(y)===null&&(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function r3(i){Al.D(i),z5("dns-prefetch",i,null)}function a3(i,a){Al.C(i,a),z5("preconnect",i,a)}function s3(i,a,l){Al.L(i,a,l);var u=$c;if(u&&i&&a){var y='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+wi(l.imageSizes)+'"]')):y+='[href="'+wi(i)+'"]';var x=y;switch(a){case"style":x=Kc(i);break;case"script":x=Qc(i)}Os.has(x)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Os.set(x,i),u.querySelector(y)!==null||a==="style"&&u.querySelector(of(x))||a==="script"&&u.querySelector(lf(x))||(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function o3(i,a){Al.m(i,a);var l=$c;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',x=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Qc(i)}if(!Os.has(x)&&(i=A({rel:"modulepreload",href:i},a),Os.set(x,i),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lf(x)))return}u=l.createElement("link"),ta(u,"link",i),pi(u),l.head.appendChild(u)}}}function l3(i,a,l){Al.S(i,a,l);var u=$c;if(u&&i){var y=sa(u).hoistableStyles,x=Kc(i);a=a||"default";var L=y.get(x);if(!L){var Q={loading:0,preload:null};if(L=u.querySelector(of(x)))Q.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Os.get(x))&&hg(i,l);var me=L=u.createElement("link");pi(me),ta(me,"link",i),me._p=new Promise(function(De,Ve){me.onload=De,me.onerror=Ve}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,jd(L,a,u)}L={type:"stylesheet",instance:L,count:1,state:Q},y.set(x,L)}}}function u3(i,a){Al.X(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(lf(y)),x||(i=A({src:i,async:!0},a),(a=Os.get(y))&&fg(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function c3(i,a){Al.M(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(lf(y)),x||(i=A({src:i,async:!0,type:"module"},a),(a=Os.get(y))&&fg(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function F5(i,a,l,u){var y=(y=se.current)?Rd(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Kc(l.href),l=sa(y).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Kc(l.href);var x=sa(y).hoistableStyles,L=x.get(i);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,L),(x=y.querySelector(of(i)))&&!x._p&&(L.instance=x,L.state.loading=5),Os.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Os.set(i,l),x||h3(y,i,l,L.state))),a&&u===null)throw Error(r(528,""));return L}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qc(l),l=sa(y).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kc(i){return'href="'+wi(i)+'"'}function of(i){return'link[rel="stylesheet"]['+i+"]"}function B5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function h3(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ta(a,"link",l),pi(a),i.head.appendChild(a))}function Qc(i){return'[src="'+wi(i)+'"]'}function lf(i){return"script[async]"+i}function V5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+wi(l.href)+'"]');if(u)return a.instance=u,pi(u),u;var y=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pi(u),ta(u,"style",y),jd(u,l.precedence,i),a.instance=u;case"stylesheet":y=Kc(l.href);var x=i.querySelector(of(y));if(x)return a.state.loading|=4,a.instance=x,pi(x),x;u=B5(l),(y=Os.get(y))&&hg(u,y),x=(i.ownerDocument||i).createElement("link"),pi(x);var L=x;return L._p=new Promise(function(Q,me){L.onload=Q,L.onerror=me}),ta(x,"link",u),a.state.loading|=4,jd(x,l.precedence,i),a.instance=x;case"script":return x=Qc(l.src),(y=i.querySelector(lf(x)))?(a.instance=y,pi(y),y):(u=l,(y=Os.get(x))&&(u=A({},l),fg(u,y)),i=i.ownerDocument||i,y=i.createElement("script"),pi(y),ta(y,"link",u),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,jd(u,l.precedence,i));return a.instance}function jd(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,x=y,L=0;L<u.length;L++){var Q=u[L];if(Q.dataset.precedence===a)x=Q;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function hg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function fg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ld=null;function U5(i,a,l){if(Ld===null){var u=new Map,y=Ld=new Map;y.set(l,u)}else y=Ld,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[Rr]||x[On]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(a)||"";L=i+L;var Q=u.get(L);Q?Q.push(x):u.set(L,[x])}}return u}function q5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function f3(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function H5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function d3(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Kc(u.href),x=a.querySelector(of(y));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Dd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,pi(x);return}x=a.ownerDocument||a,u=B5(u),(y=Os.get(y))&&hg(u,y),x=x.createElement("link"),pi(x);var L=x;L._p=new Promise(function(Q,me){L.onload=Q,L.onerror=me}),ta(x,"link",u),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Dd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var dg=0;function p3(i,a){return i.stylesheets&&i.count===0&&Md(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Md(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&dg===0&&(dg=62500*$w());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Md(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>dg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kd=null;function Md(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kd=new Map,a.forEach(g3,i),kd=null,Dd.call(i))}function g3(i,a){if(!(a.state.loading&4)){var l=kd.get(i);if(l)var u=l.get(null);else{l=new Map,kd.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var L=y[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}y=a.instance,L=y.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,y),l.set(L,y),this.count++,u=Dd.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var uf={$$typeof:K,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function m3(i,a,l,u,y,x,L,Q,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function G5(i,a,l,u,y,x,L,Q,me,De,Ve,Ge){return i=new m3(i,a,l,L,me,De,Ve,Ge,Q),a=1,x===!0&&(a|=24),x=Or(3,null,null,a),i.current=x,x.stateNode=i,a=Xl(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},tt(x),i}function Y5(i){return i?(i=xr,i):xr}function W5(i,a,l,u,y,x){y=Y5(y),u.context===null?u.context=y:u.pendingContext=y,u=zt(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=an(i,u,a),l!==null&&(Xa(l,i,a),Vn(l,i,a))}function $5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function pg(i,a){$5(i,a),(i=i.alternate)&&$5(i,a)}function K5(i){if(i.tag===13||i.tag===31){var a=Js(i,67108864);a!==null&&Xa(a,i,67108864),pg(i,67108864)}}function Q5(i){if(i.tag===13||i.tag===31){var a=ps();a=Hn(a);var l=Js(i,a);l!==null&&Xa(l,i,a),pg(i,a)}}var Od=!0;function y3(i,a,l,u){var y=re.T;re.T=null;var x=he.p;try{he.p=2,gg(i,a,l,u)}finally{he.p=x,re.T=y}}function v3(i,a,l,u){var y=re.T;re.T=null;var x=he.p;try{he.p=8,gg(i,a,l,u)}finally{he.p=x,re.T=y}}function gg(i,a,l,u){if(Od){var y=mg(u);if(y===null)tg(i,a,u,Pd,l),Z5(i,u);else if(x3(y,i,a,l,u))u.stopPropagation();else if(Z5(i,u),a&4&&-1<b3.indexOf(i)){for(;y!==null;){var x=gr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=bt(x.pendingLanes);if(L!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;L;){var me=1<<31-Kt(L);Q.entanglements[1]|=me,L&=~me}zo(x),(qn&6)===0&&(bd=$t()+500,nf(0))}}break;case 31:case 13:Q=Js(x,2),Q!==null&&Xa(Q,x,2),_d(),pg(x,2)}if(x=mg(u),x===null&&tg(i,a,u,Pd,l),x===y)break;y=x}y!==null&&u.stopPropagation()}else tg(i,a,u,null,l)}}function mg(i){return i=Dr(i),yg(i)}var Pd=null;function yg(i){if(Pd=null,i=qr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pd=i,null}function X5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Bt:return 2;case on:return 8;case Qt:case mt:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var vg=!1,cu=null,hu=null,fu=null,cf=new Map,hf=new Map,du=[],b3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z5(i,a){switch(i){case"focusin":case"focusout":cu=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":cf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(a.pointerId)}}function ff(i,a,l,u,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[y]},a!==null&&(a=gr(a),a!==null&&K5(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function x3(i,a,l,u,y){switch(a){case"focusin":return cu=ff(cu,i,a,l,u,y),!0;case"dragenter":return hu=ff(hu,i,a,l,u,y),!0;case"mouseover":return fu=ff(fu,i,a,l,u,y),!0;case"pointerover":var x=y.pointerId;return cf.set(x,ff(cf.get(x)||null,i,a,l,u,y)),!0;case"gotpointercapture":return x=y.pointerId,hf.set(x,ff(hf.get(x)||null,i,a,l,u,y)),!0}return!1}function J5(i){var a=qr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,pr(i.priority,function(){Q5(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,pr(i.priority,function(){Q5(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=mg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ss=u,l.target.dispatchEvent(u),ss=null}else return a=gr(l),a!==null&&K5(a),i.blockedOn=l,!1;a.shift()}return!0}function ey(i,a,l){zd(i)&&l.delete(a)}function _3(){vg=!1,cu!==null&&zd(cu)&&(cu=null),hu!==null&&zd(hu)&&(hu=null),fu!==null&&zd(fu)&&(fu=null),cf.forEach(ey),hf.forEach(ey)}function Fd(i,a){i.blockedOn===a&&(i.blockedOn=null,vg||(vg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_3)))}var Bd=null;function ty(i){Bd!==i&&(Bd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bd===i&&(Bd=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],y=i[a+2];if(typeof u!="function"){if(yg(u||l)===null)continue;break}var x=gr(l);x!==null&&(i.splice(a,3),a-=3,m1(x,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function Xc(i){function a(me){return Fd(me,i)}cu!==null&&Fd(cu,i),hu!==null&&Fd(hu,i),fu!==null&&Fd(fu,i),cf.forEach(a),hf.forEach(a);for(var l=0;l<du.length;l++){var u=du[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<du.length&&(l=du[0],l.blockedOn===null);)J5(l),l.blockedOn===null&&du.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],x=l[u+1],L=y[Wn]||null;if(typeof x=="function")L||ty(l);else if(L){var Q=null;if(x&&x.hasAttribute("formAction")){if(y=x,L=x[Wn]||null)Q=L.formAction;else if(yg(y)!==null)continue}else Q=L.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),ty(l)}}}function ny(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return y=L})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function bg(i){this._internalRoot=i}Vd.prototype.render=bg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=ps();W5(l,u,i,a,null,null)},Vd.prototype.unmount=bg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;W5(i.current,2,null,i,null,null),_d(),a[Oi]=null}};function Vd(i){this._internalRoot=i}Vd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<du.length&&a!==0&&a<du[l].priority;l++);du.splice(l,0,i),l===0&&J5(i)}};var iy=e.version;if(iy!=="19.2.4")throw Error(r(527,iy,"19.2.4"));he.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var w3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Xt=Ud.inject(w3),Ct=Ud}catch{}}return pf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",y=c2,x=h2,L=f2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError)),a=G5(i,1,!1,null,null,l,u,null,y,x,L,ny),i[Oi]=a.current,eg(i),new bg(a)},pf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,y="",x=c2,L=h2,Q=f2,me=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),a=G5(i,1,!0,a,l??null,u,y,me,x,L,Q,ny),a.context=Y5(null),l=a.current,u=ps(),u=Hn(u),y=zt(u),y.callback=null,an(l,y,u),l=u,a.current.lanes=l,At(a,l),zo(a),i[Oi]=a.current,eg(i),new Vd(a)},pf.version="19.2.4",pf}var dy;function D3(){if(dy)return wg.exports;dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wg.exports=L3(),wg.exports}var k3=D3();const M3=()=>{};var py={};const sx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},O3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,h=c?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let C=(h&15)<<2|d>>6,_=d&63;f||(_=64,c||(C=64)),r.push(t[v],t[A],t[C],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new P3;const C=o<<2|h>>4;if(r.push(C),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const P=d<<6&192|A;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class P3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z3=function(n){const e=sx(n);return ox.encodeByteArray(e,!0)},yp=function(n){return z3(n).replace(/\./g,"")},F3=function(n){try{return ox.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const V3=()=>B3().__FIREBASE_DEFAULTS__,U3=()=>{if(typeof process>"u"||typeof py>"u")return;const n=py.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F3(n[1]);return e&&JSON.parse(e)},$0=()=>{try{return M3()||V3()||U3()||q3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H3=n=>$0()?.emulatorHosts?.[n],lx=n=>{const e=H3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ux=()=>$0()?.config;class G3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Hp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cx(n){return(await fetch(n,{credentials:"include"})).ok}function hx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yp(JSON.stringify(t)),yp(JSON.stringify(c)),""].join(".")}const Sf={};function Y3(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sf))Sf[e]?n.emulator.push(e):n.prod.push(e);return n}function W3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gy=!1;function fx(n,e){if(typeof window>"u"||typeof document>"u"||!Hp(window.location.host)||Sf[n]===e||Sf[n]||gy)return;Sf[n]=e;function t(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=Y3().prod.length>0;function c(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,_){C.setAttribute("width","24"),C.setAttribute("id",_),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function d(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{gy=!0,c()},C}function v(C,_){C.setAttribute("id",_),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=W3(r),_=t("text"),P=document.getElementById(_)||document.createElement("span"),q=t("learnmore"),U=document.getElementById(q)||document.createElement("a"),F=t("preprendIcon"),ie=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const K=C.element;h(K),v(U,q);const ae=d();f(ie,F),K.append(ie,P,U,ae),document.body.appendChild(K)}o?(P.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function $3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K3(){const n=$0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q3(){return!K3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X3(){try{return typeof indexedDB=="object"}catch{return!1}}function Z3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const J3="FirebaseError";class dc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=J3,Object.setPrototypeOf(this,dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dx.prototype.create)}}class dx{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?eS(o,r):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new dc(s,h,r)}}function eS(n,e){return n.replace(tS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;function vp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(my(o)&&my(c)){if(!vp(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function my(n){return n!==null&&typeof n=="object"}function ho(n){return n&&n._delegate?n._delegate:n}class mh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ju="[DEFAULT]";class nS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new G3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:Ju})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ju){return this.instances.has(e)}getOptions(e=Ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ju){return this.component?this.component.multipleInstances?e:Ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(n){return n===Ju?void 0:n}function rS(n){return n.instantiationMode==="EAGER"}class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var jn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jn||(jn={}));const sS={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},oS=jn.INFO,lS={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},uS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=lS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class px{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}const cS=(n,e)=>e.some(t=>n instanceof t);let yy,vy;function hS(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,u0=new WeakMap,mx=new WeakMap,Tg=new WeakMap,K0=new WeakMap;function dS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(xu(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&gx.set(t,n)}).catch(()=>{}),K0.set(e,n),e}function pS(n){if(u0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});u0.set(n,e)}let c0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return u0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gS(n){c0=n(c0)}function mS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cg(this),e,...t);return mx.set(r,e.sort?e.sort():[e]),xu(r)}:fS().includes(n)?function(...e){return n.apply(Cg(this),e),xu(gx.get(this))}:function(...e){return xu(n.apply(Cg(this),e))}}function yS(n){return typeof n=="function"?mS(n):(n instanceof IDBTransaction&&pS(n),cS(n,hS())?new Proxy(n,c0):n)}function xu(n){if(n instanceof IDBRequest)return dS(n);if(Tg.has(n))return Tg.get(n);const e=yS(n);return e!==n&&(Tg.set(n,e),K0.set(e,n)),e}const Cg=n=>K0.get(n);function vS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),h=xu(c);return r&&c.addEventListener("upgradeneeded",f=>{r(xu(c.result),f.oldVersion,f.newVersion,xu(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const bS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Ng=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=xS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bS.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),s&&f.done]))[0]};return Ng.set(e,o),o}gS(n=>({...n,get:(e,t,r)=>by(e,t)||n.get(e,t,r),has:(e,t)=>!!by(e,t)||n.has(e,t)}));class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function wS(n){return n.getComponent()?.type==="VERSION"}const h0="@firebase/app",xy="0.14.8";const Ml=new px("@firebase/app"),SS="@firebase/app-compat",AS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",CS="@firebase/app-check",NS="@firebase/auth",IS="@firebase/auth-compat",RS="@firebase/database",jS="@firebase/data-connect",LS="@firebase/database-compat",DS="@firebase/functions",kS="@firebase/functions-compat",MS="@firebase/installations",OS="@firebase/installations-compat",PS="@firebase/messaging",zS="@firebase/messaging-compat",FS="@firebase/performance",BS="@firebase/performance-compat",VS="@firebase/remote-config",US="@firebase/remote-config-compat",qS="@firebase/storage",HS="@firebase/storage-compat",GS="@firebase/firestore",YS="@firebase/ai",WS="@firebase/firestore-compat",$S="firebase",KS="12.9.0";const f0="[DEFAULT]",QS={[h0]:"fire-core",[SS]:"fire-core-compat",[ES]:"fire-analytics",[AS]:"fire-analytics-compat",[CS]:"fire-app-check",[TS]:"fire-app-check-compat",[NS]:"fire-auth",[IS]:"fire-auth-compat",[RS]:"fire-rtdb",[jS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[DS]:"fire-fn",[kS]:"fire-fn-compat",[MS]:"fire-iid",[OS]:"fire-iid-compat",[PS]:"fire-fcm",[zS]:"fire-fcm-compat",[FS]:"fire-perf",[BS]:"fire-perf-compat",[VS]:"fire-rc",[US]:"fire-rc-compat",[qS]:"fire-gcs",[HS]:"fire-gcs-compat",[GS]:"fire-fst",[WS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};const bp=new Map,XS=new Map,d0=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lf(n){const e=n.name;if(d0.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,n);for(const t of bp.values())_y(t,n);for(const t of XS.values())_y(t,n);return!0}function yx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vx(n){return n==null?!1:n.settings!==void 0}const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_u=new dx("app","Firebase",ZS);class JS{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _u.create("app-deleted",{appName:this._name})}}const bx=KS;function xx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:f0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _u.create("bad-app-name",{appName:String(s)});if(t||(t=ux()),!t)throw _u.create("no-options");const o=bp.get(s);if(o){if(vp(t,o.options)&&vp(r,o.config))return o;throw _u.create("duplicate-app",{appName:s})}const c=new aS(s);for(const f of d0.values())c.addComponent(f);const h=new JS(t,r,c);return bp.set(s,h),h}function _x(n=f0){const e=bp.get(n);if(!e&&n===f0&&ux())return xx();if(!e)throw _u.create("no-app",{appName:n});return e}function wu(n,e,t){let r=QS[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(c.join(" "));return}Lf(new mh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const eA="firebase-heartbeat-database",tA=1,Df="firebase-heartbeat-store";let Ig=null;function wx(){return Ig||(Ig=vS(eA,tA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Df)}catch(t){console.warn(t)}}}}).catch(n=>{throw _u.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function nA(n){try{const t=(await wx()).transaction(Df),r=await t.objectStore(Df).get(Sx(n));return await t.done,r}catch(e){if(e instanceof dc)Ml.warn(e.message);else{const t=_u.create("idb-get",{originalErrorMessage:e?.message});Ml.warn(t.message)}}}async function wy(n,e){try{const r=(await wx()).transaction(Df,"readwrite");await r.objectStore(Df).put(e,Sx(n)),await r.done}catch(t){if(t instanceof dc)Ml.warn(t.message);else{const r=_u.create("idb-set",{originalErrorMessage:t?.message});Ml.warn(r.message)}}}function Sx(n){return`${n.name}!${n.options.appId}`}const iA=1024,rA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>rA){const s=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ml.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:t,unsentEntries:r}=sA(this._heartbeatsCache.heartbeats),s=yp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ml.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function sA(n,e=iA){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Ay(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ay(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X3()?Z3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return yp(JSON.stringify({version:2,heartbeats:n})).length}function lA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function uA(n){Lf(new mh("platform-logger",e=>new _S(e),"PRIVATE")),Lf(new mh("heartbeat",e=>new aA(e),"PRIVATE")),wu(h0,xy,n),wu(h0,xy,"esm2020"),wu("fire-js","")}uA("");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Su,Ax;(function(){var n;function e($,M){function w(){}w.prototype=M.prototype,$.F=M.prototype,$.prototype=new w,$.prototype.constructor=$,$.D=function(V,I,N){for(var E=Array(arguments.length-2),X=2;X<arguments.length;X++)E[X-2]=arguments[X];return M.prototype[I].apply(V,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,M,w){w||(w=0);const V=Array(16);if(typeof M=="string")for(var I=0;I<16;++I)V[I]=M.charCodeAt(w++)|M.charCodeAt(w++)<<8|M.charCodeAt(w++)<<16|M.charCodeAt(w++)<<24;else for(I=0;I<16;++I)V[I]=M[w++]|M[w++]<<8|M[w++]<<16|M[w++]<<24;M=$.g[0],w=$.g[1],I=$.g[2];let N=$.g[3],E;E=M+(N^w&(I^N))+V[0]+3614090360&4294967295,M=w+(E<<7&4294967295|E>>>25),E=N+(I^M&(w^I))+V[1]+3905402710&4294967295,N=M+(E<<12&4294967295|E>>>20),E=I+(w^N&(M^w))+V[2]+606105819&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(M^I&(N^M))+V[3]+3250441966&4294967295,w=I+(E<<22&4294967295|E>>>10),E=M+(N^w&(I^N))+V[4]+4118548399&4294967295,M=w+(E<<7&4294967295|E>>>25),E=N+(I^M&(w^I))+V[5]+1200080426&4294967295,N=M+(E<<12&4294967295|E>>>20),E=I+(w^N&(M^w))+V[6]+2821735955&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(M^I&(N^M))+V[7]+4249261313&4294967295,w=I+(E<<22&4294967295|E>>>10),E=M+(N^w&(I^N))+V[8]+1770035416&4294967295,M=w+(E<<7&4294967295|E>>>25),E=N+(I^M&(w^I))+V[9]+2336552879&4294967295,N=M+(E<<12&4294967295|E>>>20),E=I+(w^N&(M^w))+V[10]+4294925233&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(M^I&(N^M))+V[11]+2304563134&4294967295,w=I+(E<<22&4294967295|E>>>10),E=M+(N^w&(I^N))+V[12]+1804603682&4294967295,M=w+(E<<7&4294967295|E>>>25),E=N+(I^M&(w^I))+V[13]+4254626195&4294967295,N=M+(E<<12&4294967295|E>>>20),E=I+(w^N&(M^w))+V[14]+2792965006&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(M^I&(N^M))+V[15]+1236535329&4294967295,w=I+(E<<22&4294967295|E>>>10),E=M+(I^N&(w^I))+V[1]+4129170786&4294967295,M=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(M^w))+V[6]+3225465664&4294967295,N=M+(E<<9&4294967295|E>>>23),E=I+(M^w&(N^M))+V[11]+643717713&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^M&(I^N))+V[0]+3921069994&4294967295,w=I+(E<<20&4294967295|E>>>12),E=M+(I^N&(w^I))+V[5]+3593408605&4294967295,M=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(M^w))+V[10]+38016083&4294967295,N=M+(E<<9&4294967295|E>>>23),E=I+(M^w&(N^M))+V[15]+3634488961&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^M&(I^N))+V[4]+3889429448&4294967295,w=I+(E<<20&4294967295|E>>>12),E=M+(I^N&(w^I))+V[9]+568446438&4294967295,M=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(M^w))+V[14]+3275163606&4294967295,N=M+(E<<9&4294967295|E>>>23),E=I+(M^w&(N^M))+V[3]+4107603335&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^M&(I^N))+V[8]+1163531501&4294967295,w=I+(E<<20&4294967295|E>>>12),E=M+(I^N&(w^I))+V[13]+2850285829&4294967295,M=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(M^w))+V[2]+4243563512&4294967295,N=M+(E<<9&4294967295|E>>>23),E=I+(M^w&(N^M))+V[7]+1735328473&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^M&(I^N))+V[12]+2368359562&4294967295,w=I+(E<<20&4294967295|E>>>12),E=M+(w^I^N)+V[5]+4294588738&4294967295,M=w+(E<<4&4294967295|E>>>28),E=N+(M^w^I)+V[8]+2272392833&4294967295,N=M+(E<<11&4294967295|E>>>21),E=I+(N^M^w)+V[11]+1839030562&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^M)+V[14]+4259657740&4294967295,w=I+(E<<23&4294967295|E>>>9),E=M+(w^I^N)+V[1]+2763975236&4294967295,M=w+(E<<4&4294967295|E>>>28),E=N+(M^w^I)+V[4]+1272893353&4294967295,N=M+(E<<11&4294967295|E>>>21),E=I+(N^M^w)+V[7]+4139469664&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^M)+V[10]+3200236656&4294967295,w=I+(E<<23&4294967295|E>>>9),E=M+(w^I^N)+V[13]+681279174&4294967295,M=w+(E<<4&4294967295|E>>>28),E=N+(M^w^I)+V[0]+3936430074&4294967295,N=M+(E<<11&4294967295|E>>>21),E=I+(N^M^w)+V[3]+3572445317&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^M)+V[6]+76029189&4294967295,w=I+(E<<23&4294967295|E>>>9),E=M+(w^I^N)+V[9]+3654602809&4294967295,M=w+(E<<4&4294967295|E>>>28),E=N+(M^w^I)+V[12]+3873151461&4294967295,N=M+(E<<11&4294967295|E>>>21),E=I+(N^M^w)+V[15]+530742520&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^M)+V[2]+3299628645&4294967295,w=I+(E<<23&4294967295|E>>>9),E=M+(I^(w|~N))+V[0]+4096336452&4294967295,M=w+(E<<6&4294967295|E>>>26),E=N+(w^(M|~I))+V[7]+1126891415&4294967295,N=M+(E<<10&4294967295|E>>>22),E=I+(M^(N|~w))+V[14]+2878612391&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~M))+V[5]+4237533241&4294967295,w=I+(E<<21&4294967295|E>>>11),E=M+(I^(w|~N))+V[12]+1700485571&4294967295,M=w+(E<<6&4294967295|E>>>26),E=N+(w^(M|~I))+V[3]+2399980690&4294967295,N=M+(E<<10&4294967295|E>>>22),E=I+(M^(N|~w))+V[10]+4293915773&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~M))+V[1]+2240044497&4294967295,w=I+(E<<21&4294967295|E>>>11),E=M+(I^(w|~N))+V[8]+1873313359&4294967295,M=w+(E<<6&4294967295|E>>>26),E=N+(w^(M|~I))+V[15]+4264355552&4294967295,N=M+(E<<10&4294967295|E>>>22),E=I+(M^(N|~w))+V[6]+2734768916&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~M))+V[13]+1309151649&4294967295,w=I+(E<<21&4294967295|E>>>11),E=M+(I^(w|~N))+V[4]+4149444226&4294967295,M=w+(E<<6&4294967295|E>>>26),E=N+(w^(M|~I))+V[11]+3174756917&4294967295,N=M+(E<<10&4294967295|E>>>22),E=I+(M^(N|~w))+V[2]+718787259&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~M))+V[9]+3951481745&4294967295,$.g[0]=$.g[0]+M&4294967295,$.g[1]=$.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,$.g[2]=$.g[2]+I&4294967295,$.g[3]=$.g[3]+N&4294967295}r.prototype.v=function($,M){M===void 0&&(M=$.length);const w=M-this.blockSize,V=this.C;let I=this.h,N=0;for(;N<M;){if(I==0)for(;N<=w;)s(this,$,N),N+=this.blockSize;if(typeof $=="string"){for(;N<M;)if(V[I++]=$.charCodeAt(N++),I==this.blockSize){s(this,V),I=0;break}}else for(;N<M;)if(V[I++]=$[N++],I==this.blockSize){s(this,V),I=0;break}}this.h=I,this.o+=M},r.prototype.A=function(){var $=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);$[0]=128;for(var M=1;M<$.length-8;++M)$[M]=0;M=this.o*8;for(var w=$.length-8;w<$.length;++w)$[w]=M&255,M/=256;for(this.v($),$=Array(16),M=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)$[M++]=this.g[w]>>>V&255;return $};function o($,M){var w=h;return Object.prototype.hasOwnProperty.call(w,$)?w[$]:w[$]=M($)}function c($,M){this.h=M;const w=[];let V=!0;for(let I=$.length-1;I>=0;I--){const N=$[I]|0;V&&N==M||(w[I]=N,V=!1)}this.g=w}var h={};function f($){return-128<=$&&$<128?o($,function(M){return new c([M|0],M<0?-1:0)}):new c([$|0],$<0?-1:0)}function d($){if(isNaN($)||!isFinite($))return A;if($<0)return U(d(-$));const M=[];let w=1;for(let V=0;$>=w;V++)M[V]=$/w|0,w*=4294967296;return new c(M,0)}function v($,M){if($.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if($.charAt(0)=="-")return U(v($.substring(1),M));if($.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(M,8));let V=A;for(let N=0;N<$.length;N+=8){var I=Math.min(8,$.length-N);const E=parseInt($.substring(N,N+I),M);I<8?(I=d(Math.pow(M,I)),V=V.j(I).add(d(E))):(V=V.j(w),V=V.add(d(E)))}return V}var A=f(0),C=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(q(this))return-U(this).m();let $=0,M=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);$+=(V>=0?V:4294967296+V)*M,M*=4294967296}return $},n.toString=function($){if($=$||10,$<2||36<$)throw Error("radix out of range: "+$);if(P(this))return"0";if(q(this))return"-"+U(this).toString($);const M=d(Math.pow($,6));var w=this;let V="";for(;;){const I=ae(w,M).g;w=F(w,I.j(M));let N=((w.g.length>0?w.g[0]:w.h)>>>0).toString($);if(w=I,P(w))return N+V;for(;N.length<6;)N="0"+N;V=N+V}},n.i=function($){return $<0?0:$<this.g.length?this.g[$]:this.h};function P($){if($.h!=0)return!1;for(let M=0;M<$.g.length;M++)if($.g[M]!=0)return!1;return!0}function q($){return $.h==-1}n.l=function($){return $=F(this,$),q($)?-1:P($)?0:1};function U($){const M=$.g.length,w=[];for(let V=0;V<M;V++)w[V]=~$.g[V];return new c(w,~$.h).add(C)}n.abs=function(){return q(this)?U(this):this},n.add=function($){const M=Math.max(this.g.length,$.g.length),w=[];let V=0;for(let I=0;I<=M;I++){let N=V+(this.i(I)&65535)+($.i(I)&65535),E=(N>>>16)+(this.i(I)>>>16)+($.i(I)>>>16);V=E>>>16,N&=65535,E&=65535,w[I]=E<<16|N}return new c(w,w[w.length-1]&-2147483648?-1:0)};function F($,M){return $.add(U(M))}n.j=function($){if(P(this)||P($))return A;if(q(this))return q($)?U(this).j(U($)):U(U(this).j($));if(q($))return U(this.j(U($)));if(this.l(_)<0&&$.l(_)<0)return d(this.m()*$.m());const M=this.g.length+$.g.length,w=[];for(var V=0;V<2*M;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<$.g.length;I++){const N=this.i(V)>>>16,E=this.i(V)&65535,X=$.i(I)>>>16,pe=$.i(I)&65535;w[2*V+2*I]+=E*pe,ie(w,2*V+2*I),w[2*V+2*I+1]+=N*pe,ie(w,2*V+2*I+1),w[2*V+2*I+1]+=E*X,ie(w,2*V+2*I+1),w[2*V+2*I+2]+=N*X,ie(w,2*V+2*I+2)}for($=0;$<M;$++)w[$]=w[2*$+1]<<16|w[2*$];for($=M;$<2*M;$++)w[$]=0;return new c(w,0)};function ie($,M){for(;($[M]&65535)!=$[M];)$[M+1]+=$[M]>>>16,$[M]&=65535,M++}function K($,M){this.g=$,this.h=M}function ae($,M){if(P(M))throw Error("division by zero");if(P($))return new K(A,A);if(q($))return M=ae(U($),M),new K(U(M.g),U(M.h));if(q(M))return M=ae($,U(M)),new K(U(M.g),M.h);if($.g.length>30){if(q($)||q(M))throw Error("slowDivide_ only works with positive integers.");for(var w=C,V=M;V.l($)<=0;)w=Se(w),V=Se(V);var I=Ne(w,1),N=Ne(V,1);for(V=Ne(V,2),w=Ne(w,2);!P(V);){var E=N.add(V);E.l($)<=0&&(I=I.add(w),N=E),V=Ne(V,1),w=Ne(w,1)}return M=F($,I.j(M)),new K(I,M)}for(I=A;$.l(M)>=0;){for(w=Math.max(1,Math.floor($.m()/M.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),N=d(w),E=N.j(M);q(E)||E.l($)>0;)w-=V,N=d(w),E=N.j(M);P(N)&&(N=C),I=I.add(N),$=F($,E)}return new K(I,$)}n.B=function($){return ae(this,$).h},n.and=function($){const M=Math.max(this.g.length,$.g.length),w=[];for(let V=0;V<M;V++)w[V]=this.i(V)&$.i(V);return new c(w,this.h&$.h)},n.or=function($){const M=Math.max(this.g.length,$.g.length),w=[];for(let V=0;V<M;V++)w[V]=this.i(V)|$.i(V);return new c(w,this.h|$.h)},n.xor=function($){const M=Math.max(this.g.length,$.g.length),w=[];for(let V=0;V<M;V++)w[V]=this.i(V)^$.i(V);return new c(w,this.h^$.h)};function Se($){const M=$.g.length+1,w=[];for(let V=0;V<M;V++)w[V]=$.i(V)<<1|$.i(V-1)>>>31;return new c(w,$.h)}function Ne($,M){const w=M>>5;M%=32;const V=$.g.length-w,I=[];for(let N=0;N<V;N++)I[N]=M>0?$.i(N+w)>>>M|$.i(N+w+1)<<32-M:$.i(N+w);return new c(I,$.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ax=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,Su=c}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ex,bf,Tx,ap,p0,Cx,Nx,Ix;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var R=0;R<m.length;++R){var D=m[R];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=t(this);function s(m,R){if(R)e:{var D=r;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Te=m[ee];if(!(Te in D))break e;D=D[Te]}m=m[m.length-1],ee=D[m],R=R(ee),R!=ee&&R!=null&&e(D,m,{configurable:!0,writable:!0,value:R})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(R){var D=[],ee;for(ee in R)Object.prototype.hasOwnProperty.call(R,ee)&&D.push([ee,R[ee]]);return D}});var o=o||{},c=this||self;function h(m){var R=typeof m;return R=="object"&&m!=null||R=="function"}function f(m,R,D){return m.call.apply(m.bind,arguments)}function d(m,R,D){return d=f,d.apply(null,arguments)}function v(m,R){var D=Array.prototype.slice.call(arguments,1);return function(){var ee=D.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function A(m,R){function D(){}D.prototype=R.prototype,m.Z=R.prototype,m.prototype=new D,m.prototype.constructor=m,m.Ob=function(ee,Te,ke){for(var Je=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Je[qt-2]=arguments[qt];return R.prototype[Te].apply(ee,Je)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const R=m.length;if(R>0){const D=Array(R);for(let ee=0;ee<R;ee++)D[ee]=m[ee];return D}return[]}function P(m,R){for(let ee=1;ee<arguments.length;ee++){const Te=arguments[ee];var D=typeof Te;if(D=D!="object"?D:Te?Array.isArray(Te)?"array":D:"null",D=="array"||D=="object"&&typeof Te.length=="number"){D=m.length||0;const ke=Te.length||0;m.length=D+ke;for(let Je=0;Je<ke;Je++)m[D+Je]=Te[Je]}else m.push(Te)}}class q{constructor(R,D){this.i=R,this.j=D,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function U(m){c.setTimeout(()=>{throw m},0)}function F(){var m=$;let R=null;return m.g&&(R=m.g,m.g=m.g.next,m.g||(m.h=null),R.next=null),R}class ie{constructor(){this.h=this.g=null}add(R,D){const ee=K.get();ee.set(R,D),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var K=new q(()=>new ae,m=>m.reset());class ae{constructor(){this.next=this.g=this.h=null}set(R,D){this.h=R,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ne=!1,$=new ie,M=()=>{const m=Promise.resolve(void 0);Se=()=>{m.then(w)}};function w(){for(var m;m=F();){try{m.h.call(m.g)}catch(D){U(D)}var R=K;R.j(m),R.h<100&&(R.h++,m.next=R.g,R.g=m)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,R){this.type=m,this.g=this.target=R,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,R=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};c.addEventListener("test",D,R),c.removeEventListener("test",D,R)}catch{}return m})();function E(m){return/^[\s\xa0]*$/.test(m)}function X(m,R){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,R)}A(X,I),X.prototype.init=function(m,R){const D=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=R,R=m.relatedTarget,R||(D=="mouseover"?R=m.fromElement:D=="mouseout"&&(R=m.toElement)),this.relatedTarget=R,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),re=0;function he(m,R,D,ee,Te){this.listener=m,this.proxy=null,this.src=R,this.type=D,this.capture=!!ee,this.ha=Te,this.key=++re,this.da=this.fa=!1}function te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m,R,D){for(const ee in m)R.call(D,m[ee],ee,m)}function Re(m,R){for(const D in m)R.call(void 0,m[D],D,m)}function J(m){const R={};for(const D in m)R[D]=m[D];return R}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,R){let D,ee;for(let Te=1;Te<arguments.length;Te++){ee=arguments[Te];for(D in ee)m[D]=ee[D];for(let ke=0;ke<k.length;ke++)D=k[ke],Object.prototype.hasOwnProperty.call(ee,D)&&(m[D]=ee[D])}}function Y(m){this.src=m,this.g={},this.h=0}Y.prototype.add=function(m,R,D,ee,Te){const ke=m.toString();m=this.g[ke],m||(m=this.g[ke]=[],this.h++);const Je=se(m,R,ee,Te);return Je>-1?(R=m[Je],D||(R.fa=!1)):(R=new he(R,this.src,ke,!!ee,Te),R.fa=D,m.push(R)),R};function G(m,R){const D=R.type;if(D in m.g){var ee=m.g[D],Te=Array.prototype.indexOf.call(ee,R,void 0),ke;(ke=Te>=0)&&Array.prototype.splice.call(ee,Te,1),ke&&(te(R),m.g[D].length==0&&(delete m.g[D],m.h--))}}function se(m,R,D,ee){for(let Te=0;Te<m.length;++Te){const ke=m[Te];if(!ke.da&&ke.listener==R&&ke.capture==!!D&&ke.ha==ee)return Te}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),_e={};function ge(m,R,D,ee,Te){if(Array.isArray(R)){for(let ke=0;ke<R.length;ke++)ge(m,R[ke],D,ee,Te);return null}return D=Tt(D),m&&m[pe]?m.J(R,D,h(ee)?!!ee.capture:!1,Te):Oe(m,R,D,!1,ee,Te)}function Oe(m,R,D,ee,Te,ke){if(!R)throw Error("Invalid event type");const Je=h(Te)?!!Te.capture:!!Te;let qt=nt(m);if(qt||(m[fe]=qt=new Y(m)),D=qt.add(R,D,ee,Je,ke),D.proxy)return D;if(ee=ye(),D.proxy=ee,ee.src=m,ee.listener=D,m.addEventListener)N||(Te=Je),Te===void 0&&(Te=!1),m.addEventListener(R.toString(),ee,Te);else if(m.attachEvent)m.attachEvent(lt(R.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ye(){function m(D){return R.call(m.src,m.listener,D)}const R=oe;return m}function Qe(m,R,D,ee,Te){if(Array.isArray(R))for(var ke=0;ke<R.length;ke++)Qe(m,R[ke],D,ee,Te);else ee=h(ee)?!!ee.capture:!!ee,D=Tt(D),m&&m[pe]?(m=m.i,ke=String(R).toString(),ke in m.g&&(R=m.g[ke],D=se(R,D,ee,Te),D>-1&&(te(R[D]),Array.prototype.splice.call(R,D,1),R.length==0&&(delete m.g[ke],m.h--)))):m&&(m=nt(m))&&(R=m.g[R.toString()],m=-1,R&&(m=se(R,D,ee,Te)),(D=m>-1?R[m]:null)&&et(D))}function et(m){if(typeof m!="number"&&m&&!m.da){var R=m.src;if(R&&R[pe])G(R.i,m);else{var D=m.type,ee=m.proxy;R.removeEventListener?R.removeEventListener(D,ee,m.capture):R.detachEvent?R.detachEvent(lt(D),ee):R.addListener&&R.removeListener&&R.removeListener(ee),(D=nt(R))?(G(D,m),D.h==0&&(D.src=null,R[fe]=null)):te(m)}}}function lt(m){return m in _e?_e[m]:_e[m]="on"+m}function oe(m,R){if(m.da)m=!0;else{R=new X(R,this);const D=m.listener,ee=m.ha||m.src;m.fa&&et(m),m=D.call(ee,R)}return m}function nt(m){return m=m[fe],m instanceof Y?m:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(m){return typeof m=="function"?m:(m[Wt]||(m[Wt]=function(R){return m.handleEvent(R)}),m[Wt])}function qe(){V.call(this),this.i=new Y(this),this.M=this,this.G=null}A(qe,V),qe.prototype[pe]=!0,qe.prototype.removeEventListener=function(m,R,D,ee){Qe(this,m,R,D,ee)};function rt(m,R){var D,ee=m.G;if(ee)for(D=[];ee;ee=ee.G)D.push(ee);if(m=m.M,ee=R.type||R,typeof R=="string")R=new I(R,m);else if(R instanceof I)R.target=R.target||m;else{var Te=R;R=new I(ee,m),O(R,Te)}Te=!0;let ke,Je;if(D)for(Je=D.length-1;Je>=0;Je--)ke=R.g=D[Je],Te=it(ke,ee,!0,R)&&Te;if(ke=R.g=m,Te=it(ke,ee,!0,R)&&Te,Te=it(ke,ee,!1,R)&&Te,D)for(Je=0;Je<D.length;Je++)ke=R.g=D[Je],Te=it(ke,ee,!1,R)&&Te}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var m=this.i;for(const R in m.g){const D=m.g[R];for(let ee=0;ee<D.length;ee++)te(D[ee]);delete m.g[R],m.h--}}this.G=null},qe.prototype.J=function(m,R,D,ee){return this.i.add(String(m),R,!1,D,ee)},qe.prototype.K=function(m,R,D,ee){return this.i.add(String(m),R,!0,D,ee)};function it(m,R,D,ee){if(R=m.i.g[String(R)],!R)return!0;R=R.concat();let Te=!0;for(let ke=0;ke<R.length;++ke){const Je=R[ke];if(Je&&!Je.da&&Je.capture==D){const qt=Je.listener,ti=Je.ha||Je.src;Je.fa&&G(m.i,Je),Te=qt.call(ti,ee)!==!1&&Te}}return Te&&!ee.defaultPrevented}function Nt(m,R){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:c.setTimeout(m,R||0)}function _t(m){m.g=Nt(()=>{m.g=null,m.i&&(m.i=!1,_t(m))},m.l);const R=m.h;m.h=null,m.m.apply(null,R)}class $t extends V{constructor(R,D){super(),this.m=R,this.l=D,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(m){V.call(this),this.h=m,this.g={}}A(Jt,V);var Bt=[];function on(m){de(m.g,function(R,D){this.g.hasOwnProperty(D)&&et(R)},m),m.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),on(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=c.JSON.stringify,mt=c.JSON.parse,Ht=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function vt(){}function fi(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){I.call(this,"d")}A(Ct,I);function Pt(){I.call(this,"c")}A(Pt,I);var Kt={},St=null;function Ln(){return St=St||new qe}Kt.Ia="serverreachability";function Mt(m){I.call(this,Kt.Ia,m)}A(Mt,I);function Ot(m){const R=Ln();rt(R,new Mt(R))}Kt.STAT_EVENT="statevent";function Mn(m,R){I.call(this,Kt.STAT_EVENT,m),this.stat=R}A(Mn,I);function wt(m){const R=Ln();rt(R,new Mn(R,m))}Kt.Ja="timingevent";function bt(m,R){I.call(this,Kt.Ja,m),this.size=R}A(bt,I);function ln(m,R){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},R)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function er(m,R,D,ee,Te,ke){m.info(function(){if(m.g)if(ke){var Je="",qt=ke.split("&");for(let cn=0;cn<qt.length;cn++){var ti=qt[cn].split("=");if(ti.length>1){const zn=ti[0];ti=ti[1];const rr=zn.split("_");Je=rr.length>=2&&rr[1]=="type"?Je+(zn+"="+ti+"&"):Je+(zn+"=redacted&")}}}else Je=null;else Je=ke;return"XMLHTTP REQ ("+ee+") [attempt "+Te+"]: "+R+`
`+D+`
`+Je})}function ja(m,R,D,ee,Te,ke,Je){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Te+"]: "+R+`
`+D+`
`+ke+" "+Je})}function Gi(m,R,D,ee){m.info(function(){return"XMLHTTP TEXT ("+R+"): "+ts(m,D)+(ee?" "+ee:"")})}function At(m,R){m.info(function(){return"TIMEOUT: "+R})}dr.prototype.info=function(){};function ts(m,R){if(!m.g)return R;if(!R)return null;try{const ke=JSON.parse(R);if(ke){for(m=0;m<ke.length;m++)if(Array.isArray(ke[m])){var D=ke[m];if(!(D.length<2)){var ee=D[1];if(Array.isArray(ee)&&!(ee.length<1)){var Te=ee[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let Je=1;Je<ee.length;Je++)ee[Je]=""}}}}return Qt(ke)}catch{return R}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Hn(){}A(Hn,vt),Hn.prototype.g=function(){return new XMLHttpRequest},Nr=new Hn;function Jn(m){return encodeURIComponent(String(m))}function Mi(m){var R=1;m=m.split(":");const D=[];for(;R>0&&m.length;)D.push(m.shift()),R--;return m.length&&D.push(m.join(":")),D}function pr(m,R,D,ee){this.j=m,this.i=R,this.l=D,this.S=ee||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var On={},Wn={};function Oi(m,R,D){m.M=1,m.A=bs(_i(R)),m.u=D,m.R=!0,Ir(m,null)}function Ir(m,R){m.F=Date.now(),Rr(m),m.B=_i(m.A);var D=m.B,ee=m.S;Array.isArray(ee)||(ee=[String(ee)]),xo(D.i,"t",ee),m.C=0,D=m.j.L,m.h=new tr,m.g=ut(m.j,D?R:null,!m.u),m.P>0&&(m.O=new $t(d(m.Y,m,m.g),m.P)),R=m.V,D=m.g,ee=m.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(Bt[0]=Te.toString()),Te=Bt);for(let ke=0;ke<Te.length;ke++){const Je=ge(D,Te[ke],ee||R.handleEvent,!1,R.h||R);if(!Je)break;R.g[Je.key]=Je}R=m.J?J(m.J):{},m.u?(m.v||(m.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,R)):(m.v="GET",m.g.ea(m.B,m.v,null,R)),Ot(),er(m.i,m.v,m.B,m.l,m.S,m.u)}pr.prototype.ba=function(m){m=m.target;const R=this.O;R&&$r(m)==3?R.j():this.Y(m)},pr.prototype.Y=function(m){try{if(m==this.g)e:{const qt=$r(this.g),ti=this.g.ya(),cn=this.g.ca();if(!(qt<3)&&(qt!=3||this.g&&(this.h.h||this.g.la()||Ii(this.g)))){this.K||qt!=4||ti==7||(ti==8||cn<=0?Ot(3):Ot(2)),qr(this);var R=this.g.ca();this.X=R;var D=aa(this);if(this.o=R==200,ja(this.i,this.v,this.B,this.l,this.S,qt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,Te=this.g;if((ee=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ee)){var ke=ee;break t}}ke=null}if(m=ke)Gi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,m);else{this.o=!1,this.m=3,wt(12),Hr(this),gr(this);break e}}if(this.R){m=!0;let zn;for(;!this.K&&this.C<D.length;)if(zn=xa(this,D),zn==Wn){qt==4&&(this.m=4,wt(14),m=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==On){this.m=4,wt(15),Gi(this.i,this.l,D,"[Invalid Chunk]"),m=!1;break}else Gi(this.i,this.l,zn,null),sa(this,zn);if(vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||D.length!=0||this.h.h||(this.m=1,wt(16),m=!1),this.o=this.o&&m,!m)Gi(this.i,this.l,D,"[Invalid Chunked Response]"),Hr(this),gr(this);else if(D.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Ao(Je),Je.P=!0,wt(11))}}else Gi(this.i,this.l,D,null),sa(this,D);qt==4&&Hr(this),this.o&&!this.K&&(qt==4?ue(this.j,this):(this.o=!1,Rr(this)))}else La(this.g),R==400&&D.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Hr(this),gr(this)}}}catch{}};function aa(m){if(!vs(m))return m.g.la();const R=Ii(m.g);if(R==="")return"";let D="";const ee=R.length,Te=$r(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Hr(m),gr(m),"";m.h.i=new c.TextDecoder}for(let ke=0;ke<ee;ke++)m.h.h=!0,D+=m.h.i.decode(R[ke],{stream:!(Te&&ke==ee-1)});return R.length=0,m.h.g+=D,m.C=0,m.h.g}function vs(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function xa(m,R){var D=m.C,ee=R.indexOf(`
`,D);return ee==-1?Wn:(D=Number(R.substring(D,ee)),isNaN(D)?On:(ee+=1,ee+D>R.length?Wn:(R=R.slice(ee,ee+D),m.C=ee+D,R)))}pr.prototype.cancel=function(){this.K=!0,Hr(this)};function Rr(m){m.T=Date.now()+m.H,ns(m,m.H)}function ns(m,R){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ln(d(m.aa,m),R)}function qr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}pr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(At(this.i,this.B),this.M!=2&&(Ot(),wt(17)),Hr(this),this.m=2,gr(this)):ns(this,this.T-m)};function gr(m){m.j.I==0||m.K||ue(m.j,m)}function Hr(m){qr(m);var R=m.O;R&&typeof R.dispose=="function"&&R.dispose(),m.O=null,on(m.V),m.g&&(R=m.g,m.g=null,R.abort(),R.dispose())}function sa(m,R){try{var D=m.j;if(D.I!=0&&(D.g==m||_a(D.h,m))){if(!m.L&&_a(D.h,m)&&D.I==3){try{var ee=D.Ba.g.parse(R)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Te=ee;if(Te[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<m.F)z(D),ka(D);else break e;Aa(D),wt(18)}}else D.xa=Te[1],0<D.xa-D.K&&Te[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=ln(d(D.Va,D),6e3));oa(D.h)<=1&&D.ta&&(D.ta=void 0)}else Ae(D,11)}else if((m.L||D.g==m)&&z(D),!E(R))for(Te=D.Ba.g.parse(R),R=0;R<Te.length;R++){let cn=Te[R];const zn=cn[0];if(!(zn<=D.K))if(D.K=zn,cn=cn[1],D.I==2)if(cn[0]=="c"){D.M=cn[1],D.ba=cn[2];const rr=cn[3];rr!=null&&(D.ka=rr,D.j.info("VER="+D.ka));const yr=cn[4];yr!=null&&(D.za=yr,D.j.info("SVER="+D.za));const $n=cn[5];$n!=null&&typeof $n=="number"&&$n>0&&(ee=1.5*$n,D.O=ee,D.j.info("backChannelRequestTimeoutMs_="+ee)),ee=D;const vr=m.g;if(vr){const Ea=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var ke=ee.h;ke.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Bs(ke,ke.h),ke.h=null))}if(ee.G){const As=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(ee.wa=As,vn(ee.J,ee.G,As))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-m.F,D.j.info("Handshake RTT: "+D.T+"ms")),ee=D;var Je=m;if(ee.na=$e(ee,ee.L?ee.ba:null,ee.W),Je.L){vo(ee.h,Je);var qt=Je,ti=ee.O;ti&&(qt.H=ti),qt.D&&(qr(qt),Rr(qt)),ee.g=Je}else al(ee);D.i.length>0&&ua(D)}else cn[0]!="stop"&&cn[0]!="close"||Ae(D,7);else D.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Ae(D,7):Ss(D):cn[0]!="noop"&&D.l&&D.l.qa(cn),D.A=0)}}Ot(4)}catch{}}var pi=class{constructor(m,R){this.g=m,this.map=R}};function yo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function oa(m){return m.h?1:m.g?m.g.size:0}function _a(m,R){return m.h?m.h==R:m.g?m.g.has(R):!1}function Bs(m,R){m.g?m.g.add(R):m.h=R}function vo(m,R){m.h&&m.h==R?m.h=null:m.g&&m.g.has(R)&&m.g.delete(R)}yo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let R=m.i;for(const D of m.g.values())R=R.concat(D.G);return R}return _(m.i)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(m,R){if(m){m=m.split("&");for(let D=0;D<m.length;D++){const ee=m[D].indexOf("=");let Te,ke=null;ee>=0?(Te=m[D].substring(0,ee),ke=m[D].substring(ee+1)):Te=m[D],R(Te,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function nr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;m instanceof nr?(this.l=m.l,fn(this,m.j),this.o=m.o,this.g=m.g,is(this,m.u),this.h=m.h,la(this,_o(m.i)),this.m=m.m):m&&(R=String(m).match(Jo))?(this.l=!1,fn(this,R[1]||"",!0),this.o=Ni(R[2]||""),this.g=Ni(R[3]||"",!0),is(this,R[4]),this.h=Ni(R[5]||"",!0),la(this,R[6]||"",!0),this.m=Ni(R[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}nr.prototype.toString=function(){const m=[];var R=this.j;R&&m.push(oi(R,Vs,!0),":");var D=this.g;return(D||R=="file")&&(m.push("//"),(R=this.o)&&m.push(oi(R,Vs,!0),"@"),m.push(Jn(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&m.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(oi(D,D.charAt(0)=="/"?el:Bl,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",oi(D,tl)),m.join("")},nr.prototype.resolve=function(m){const R=_i(this);let D=!!m.j;D?fn(R,m.j):D=!!m.o,D?R.o=m.o:D=!!m.g,D?R.g=m.g:D=m.u!=null;var ee=m.h;if(D)is(R,m.u);else if(D=!!m.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var Te=R.h.lastIndexOf("/");Te!=-1&&(ee=R.h.slice(0,Te+1)+ee)}if(Te=ee,Te==".."||Te==".")ee="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){ee=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const ke=[];for(let Je=0;Je<Te.length;){const qt=Te[Je++];qt=="."?ee&&Je==Te.length&&ke.push(""):qt==".."?((ke.length>1||ke.length==1&&ke[0]!="")&&ke.pop(),ee&&Je==Te.length&&ke.push("")):(ke.push(qt),ee=!0)}ee=ke.join("/")}else ee=Te}return D?R.h=ee:D=m.i.toString()!=="",D?la(R,_o(m.i)):D=!!m.m,D&&(R.m=m.m),R};function _i(m){return new nr(m)}function fn(m,R,D){m.j=D?Ni(R,!0):R,m.j&&(m.j=m.j.replace(/:$/,""))}function is(m,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);m.u=R}else m.u=null}function la(m,R,D){R instanceof rs?(m.i=R,Lr(m.i,m.l)):(D||(R=oi(R,mr)),m.i=new rs(R,m.l))}function vn(m,R,D){m.i.set(R,D)}function bs(m){return vn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ni(m,R){return m?R?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function oi(m,R,D){return typeof m=="string"?(m=encodeURI(m).replace(R,wi),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wi(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vs=/[#\/\?@]/g,Bl=/[#\?:]/g,el=/[#\?]/g,mr=/[#\?@]/g,tl=/#/g;function rs(m,R){this.h=this.g=null,this.i=m||null,this.j=!!R}function Yi(m){m.g||(m.g=new Map,m.h=0,m.i&&Gr(m.i,function(R,D){m.add(decodeURIComponent(R.replace(/\+/g," ")),D)}))}n=rs.prototype,n.add=function(m,R){Yi(this),this.i=null,m=as(this,m);let D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(R),this.h+=1,this};function xs(m,R){Yi(m),R=as(m,R),m.g.has(R)&&(m.i=null,m.h-=m.g.get(R).length,m.g.delete(R))}function nl(m,R){return Yi(m),R=as(m,R),m.g.has(R)}n.forEach=function(m,R){Yi(this),this.g.forEach(function(D,ee){D.forEach(function(Te){m.call(R,Te,ee,this)},this)},this)};function il(m,R){Yi(m);let D=[];if(typeof R=="string")nl(m,R)&&(D=D.concat(m.g.get(as(m,R))));else for(m=Array.from(m.g.values()),R=0;R<m.length;R++)D=D.concat(m[R]);return D}n.set=function(m,R){return Yi(this),this.i=null,m=as(this,m),nl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[R]),this.h+=1,this},n.get=function(m,R){return m?(m=il(this,m),m.length>0?String(m[0]):R):R};function xo(m,R,D){xs(m,R),D.length>0&&(m.i=null,m.g.set(as(m,R),_(D)),m.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],R=Array.from(this.g.keys());for(let ee=0;ee<R.length;ee++){var D=R[ee];const Te=Jn(D);D=il(this,D);for(let ke=0;ke<D.length;ke++){let Je=Te;D[ke]!==""&&(Je+="="+Jn(D[ke])),m.push(Je)}}return this.i=m.join("&")};function _o(m){const R=new rs;return R.i=m.i,m.g&&(R.g=new Map(m.g),R.h=m.h),R}function as(m,R){return R=String(R),m.j&&(R=R.toLowerCase()),R}function Lr(m,R){R&&!m.j&&(Yi(m),m.i=null,m.g.forEach(function(D,ee){const Te=ee.toLowerCase();ee!=Te&&(xs(this,ee),xo(this,Te,D))},m)),m.j=R}function wa(m,R){const D=new dr;if(c.Image){const ee=new Image;ee.onload=v(Dr,D,"TestLoadImage: loaded",!0,R,ee),ee.onerror=v(Dr,D,"TestLoadImage: error",!1,R,ee),ee.onabort=v(Dr,D,"TestLoadImage: abort",!1,R,ee),ee.ontimeout=v(Dr,D,"TestLoadImage: timeout",!1,R,ee),c.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else R(!1)}function ss(m,R){const D=new dr,ee=new AbortController,Te=setTimeout(()=>{ee.abort(),Dr(D,"TestPingServer: timeout",!1,R)},1e4);fetch(m,{signal:ee.signal}).then(ke=>{clearTimeout(Te),ke.ok?Dr(D,"TestPingServer: ok",!0,R):Dr(D,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Te),Dr(D,"TestPingServer: error",!1,R)})}function Dr(m,R,D,ee,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),ee(D)}catch{}}function _s(){this.g=new Ht}function It(m){this.i=m.Sb||null,this.h=m.ab||!1}A(It,vt),It.prototype.g=function(){return new Us(this.i,this.h)};function Us(m,R){qe.call(this),this.H=m,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Us,qe),n=Us.prototype,n.open=function(m,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=R,this.readyState=1,Wi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(R.body=m),(this.H||c).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var R=m.value?m.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!m.done}))&&(this.response=this.responseText+=R)}m.done?ws(this):Wi(this),this.readyState==3&&wo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ws(this))},n.Na=function(m){this.g&&(this.response=m,ws(this))},n.ga=function(){this.g&&ws(this)};function ws(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Wi(m)}n.setRequestHeader=function(m,R){this.A.append(m,R)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],R=this.h.entries();for(var D=R.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=R.next();return m.join(`\r
`)};function Wi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Pi(m){let R="";return de(m,function(D,ee){R+=ee,R+=":",R+=D,R+=`\r
`}),R}function qs(m,R,D){e:{for(ee in D){var ee=!1;break e}ee=!0}ee||(D=Pi(D),typeof m=="string"?D!=null&&Jn(D):vn(m,R,D))}function Pn(m){qe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Pn,qe);var Yr=/^https?$/i,Hs=["POST","PUT"];n=Pn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,R,D,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);R=R?R.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=C(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(m),!0),this.B=!1}catch(ke){Sa(this,ke);return}if(m=D||"",D=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Te in ee)D.set(Te,ee[Te]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const ke of ee.keys())D.set(ke,ee.get(ke));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(D.keys()).find(ke=>ke.toLowerCase()=="content-type"),Te=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Hs,R,void 0)>=0)||ee||Te||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Je]of D)this.g.setRequestHeader(ke,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ke){Sa(this,ke)}};function Sa(m,R){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=R,m.o=5,rl(m),os(m)}function rl(m){m.A||(m.A=!0,rt(m,"complete"),rt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,rt(this,"complete"),rt(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Pn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(m){if(m.h&&typeof o<"u"){if(m.v&&$r(m)==4)setTimeout(m.Ca.bind(m),0);else if(rt(m,"readystatechange"),$r(m)==4){m.h=!1;try{const ke=m.ca();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var D;if(!(D=R)){var ee;if(ee=ke===0){let Je=String(m.D).match(Jo)[1]||null;!Je&&c.self&&c.self.location&&(Je=c.self.location.protocol.slice(0,-1)),ee=!Yr.test(Je?Je.toLowerCase():"")}D=ee}if(D)rt(m,"complete"),rt(m,"success");else{m.o=6;try{var Te=$r(m)>2?m.g.statusText:""}catch{Te=""}m.l=Te+" ["+m.ca()+"]",rl(m)}}finally{os(m)}}}}function os(m,R){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const D=m.g;m.g=null,R||rt(m,"ready");try{D.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(m){return m.g?m.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var R=this.g.responseText;return m&&R.indexOf(m)==0&&(R=R.substring(m.length)),mt(R)}};function Ii(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function La(m){const R={};m=(m.g&&$r(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(E(m[ee]))continue;var D=Mi(m[ee]);const Te=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ke=R[Te]||[];R[Te]=ke,ke.push(D)}Re(R,function(ee){return ee.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(m,R,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||R}function Da(m){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,m),this.Za=ir("retryDelaySeedMs",1e4,m),this.Ta=ir("forwardChannelMaxRetries",2,m),this.va=ir("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(m&&m.concurrentRequestLimit),this.Ba=new _s,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Da.prototype,n.ka=8,n.I=1,n.connect=function(m,R,D,ee){wt(0),this.W=m,this.H=R||{},D&&ee!==void 0&&(this.H.OSID=D,this.H.OAID=ee),this.F=this.X,this.J=$e(this,null,this.W),ua(this)};function Ss(m){if(Ma(m),m.I==3){var R=m.V++,D=_i(m.J);if(vn(D,"SID",m.M),vn(D,"RID",R),vn(D,"TYPE","terminate"),Kr(m,D),R=new pr(m,m.j,R),R.M=2,R.A=bs(_i(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(R.A.toString(),"")}catch{}!D&&c.Image&&(new Image().src=R.A,D=!0),D||(R.g=ut(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Rr(R)}Be(m)}function ka(m){m.g&&(Ao(m),m.g.cancel(),m.g=null)}function Ma(m){ka(m),m.v&&(c.clearTimeout(m.v),m.v=null),z(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ua(m){if(!jr(m.h)&&!m.m){m.m=!0;var R=m.Ea;Se||M(),Ne||(Se(),Ne=!0),$.add(R,m),m.D=0}}function Gs(m,R){return oa(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=R.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ln(d(m.Ea,m,R),ve(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Te=new pr(this,this.j,m);let ke=this.o;if(this.U&&(ke?(ke=J(ke),O(ke,this.U)):ke=this.U),this.u!==null||this.R||(Te.J=ke,ke=null),this.S)e:{for(var R=0,D=0;D<this.i.length;D++){t:{var ee=this.i[D];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(R+=ee,R>4096){R=D;break e}if(R===4096||D===this.i.length-1){R=D+1;break e}}R=1e3}else R=1e3;R=Oa(this,Te,R),D=_i(this.J),vn(D,"RID",m),vn(D,"CVER",22),this.G&&vn(D,"X-HTTP-Session-Id",this.G),Kr(this,D),ke&&(this.R?R="headers="+Jn(Pi(ke))+"&"+R:this.u&&qs(D,this.u,ke)),Bs(this.h,Te),this.Ra&&vn(D,"TYPE","init"),this.S?(vn(D,"$req",R),vn(D,"SID","null"),Te.U=!0,Oi(Te,D,null)):Oi(Te,D,R),this.I=2}}else this.I==3&&(m?So(this,m):this.i.length==0||jr(this.h)||So(this))};function So(m,R){var D;R?D=R.l:D=m.V++;const ee=_i(m.J);vn(ee,"SID",m.M),vn(ee,"RID",D),vn(ee,"AID",m.K),Kr(m,ee),m.u&&m.o&&qs(ee,m.u,m.o),D=new pr(m,m.j,D,m.D+1),m.u===null&&(D.J=m.o),R&&(m.i=R.G.concat(m.i)),R=Oa(m,D,1e3),D.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Bs(m.h,D),Oi(D,ee,R)}function Kr(m,R){m.H&&de(m.H,function(D,ee){vn(R,ee,D)}),m.l&&de({},function(D,ee){vn(R,ee,D)})}function Oa(m,R,D){D=Math.min(m.i.length,D);const ee=m.l?d(m.l.Ka,m.l,m):null;e:{var Te=m.i;let qt=-1;for(;;){const ti=["count="+D];qt==-1?D>0?(qt=Te[0].g,ti.push("ofs="+qt)):qt=0:ti.push("ofs="+qt);let cn=!0;for(let zn=0;zn<D;zn++){var ke=Te[zn].g;const rr=Te[zn].map;if(ke-=qt,ke<0)qt=Math.max(0,Te[zn].g-100),cn=!1;else try{ke="req"+ke+"_"||"";try{var Je=rr instanceof Map?rr:Object.entries(rr);for(const[yr,$n]of Je){let vr=$n;h($n)&&(vr=Qt($n)),ti.push(ke+yr+"="+encodeURIComponent(vr))}}catch(yr){throw ti.push(ke+"type="+encodeURIComponent("_badmap")),yr}}catch{ee&&ee(rr)}}if(cn){Je=ti.join("&");break e}}Je=void 0}return m=m.i.splice(0,D),R.G=m,Je}function al(m){if(!m.g&&!m.v){m.Y=1;var R=m.Da;Se||M(),Ne||(Se(),Ne=!0),$.add(R,m),m.A=0}}function Aa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ln(d(m.Da,m),ve(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ln(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),ka(this),S(this))};function Ao(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function S(m){m.g=new pr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var R=_i(m.na);vn(R,"RID","rpc"),vn(R,"SID",m.M),vn(R,"AID",m.K),vn(R,"CI",m.F?"0":"1"),!m.F&&m.ia&&vn(R,"TO",m.ia),vn(R,"TYPE","xmlhttp"),Kr(m,R),m.u&&m.o&&qs(R,m.u,m.o),m.O&&(m.g.H=m.O);var D=m.g;m=m.ba,D.M=1,D.A=bs(_i(R)),D.u=null,D.R=!0,Ir(D,m)}n.Va=function(){this.C!=null&&(this.C=null,ka(this),Aa(this),wt(19))};function z(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function ue(m,R){var D=null;if(m.g==R){z(m),Ao(m),m.g=null;var ee=2}else if(_a(m.h,R))D=R.G,vo(m.h,R),ee=1;else return;if(m.I!=0){if(R.o)if(ee==1){D=R.u?R.u.length:0,R=Date.now()-R.F;var Te=m.D;ee=Ln(),rt(ee,new bt(ee,D)),ua(m)}else al(m);else if(Te=R.m,Te==3||Te==0&&R.X>0||!(ee==1&&Gs(m,R)||ee==2&&Aa(m)))switch(D&&D.length>0&&(R=m.h,R.i=R.i.concat(D)),Te){case 1:Ae(m,5);break;case 4:Ae(m,10);break;case 3:Ae(m,6);break;default:Ae(m,2)}}}function ve(m,R){let D=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(D*=2),D*R}function Ae(m,R){if(m.j.info("Error code "+R),R==2){var D=d(m.bb,m),ee=m.Ua;const Te=!ee;ee=new nr(ee||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fn(ee,"https"),bs(ee),Te?wa(ee.toString(),D):ss(ee.toString(),D)}else wt(2);m.I=0,m.l&&m.l.pa(R),Be(m),Ma(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Be(m){if(m.I=0,m.ja=[],m.l){const R=bo(m.h);(R.length!=0||m.i.length!=0)&&(P(m.ja,R),P(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function $e(m,R,D){var ee=D instanceof nr?_i(D):new nr(D);if(ee.g!="")R&&(ee.g=R+"."+ee.g),is(ee,ee.u);else{var Te=c.location;ee=Te.protocol,R=R?R+"."+Te.hostname:Te.hostname,Te=+Te.port;const ke=new nr(null);ee&&fn(ke,ee),R&&(ke.g=R),Te&&is(ke,Te),D&&(ke.h=D),ee=ke}return D=m.G,R=m.wa,D&&R&&vn(ee,D,R),vn(ee,"VER",m.ka),Kr(m,ee),ee}function ut(m,R,D){if(R&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=m.Aa&&!m.ma?new Pn(new It({ab:D})):new Pn(m.ma),R.Fa(m.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function jt(){}jt.prototype.g=function(m,R){return new Et(m,R)};function Et(m,R){qe.call(this),this.g=new Da(R),this.l=m,this.h=R&&R.messageUrlParams||null,m=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(m?m["X-WebChannel-Content-Type"]=R.messageContentType:m={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(m?m["X-WebChannel-Client-Profile"]=R.sa:m={"X-WebChannel-Client-Profile":R.sa}),this.g.U=m,(m=R&&R.Qb)&&!E(m)&&(this.g.u=m),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!E(R)&&(this.g.G=R,m=this.h,m!==null&&R in m&&(m=this.h,R in m&&delete m[R])),this.j=new Gn(this)}A(Et,qe),Et.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Ss(this.g)},Et.prototype.o=function(m){var R=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.v&&(D={},D.__data__=Qt(m),m=D);R.i.push(new pi(R.Ya++,m)),R.I==3&&ua(R)},Et.prototype.N=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,Et.Z.N.call(this)};function dn(m){Ct.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var R=m.__sm__;if(R){e:{for(const D in R){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,R=R!==null&&m in R?R[m]:void 0),this.data=R}else this.data=m}A(dn,Ct);function ei(){Pt.call(this),this.status=1}A(ei,Pt);function Gn(m){this.g=m}A(Gn,dt),Gn.prototype.ra=function(){rt(this.g,"a")},Gn.prototype.qa=function(m){rt(this.g,new dn(m))},Gn.prototype.pa=function(m){rt(this.g,new ei)},Gn.prototype.oa=function(){rt(this.g,"b")},jt.prototype.createWebChannel=jt.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Ix=function(){return new jt},Nx=function(){return Ln()},Cx=Kt,p0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,ap=Ur,Cr.COMPLETE="complete",Tx=Cr,fi.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,bf=fi,Pn.prototype.listenOnce=Pn.prototype.K,Pn.prototype.getLastError=Pn.prototype.Ha,Pn.prototype.getLastErrorCode=Pn.prototype.ya,Pn.prototype.getStatus=Pn.prototype.ca,Pn.prototype.getResponseJson=Pn.prototype.La,Pn.prototype.getResponseText=Pn.prototype.la,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Fa,Ex=Pn}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});let va=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");let Ah="12.9.0";function cA(n){Ah=n}const sc=new px("@firebase/firestore");function nh(){return sc.logLevel}function ct(n,...e){if(sc.logLevel<=jn.DEBUG){const t=e.map(Q0);sc.debug(`Firestore (${Ah}): ${n}`,...t)}}function Ol(n,...e){if(sc.logLevel<=jn.ERROR){const t=e.map(Q0);sc.error(`Firestore (${Ah}): ${n}`,...t)}}function oc(n,...e){if(sc.logLevel<=jn.WARN){const t=e.map(Q0);sc.warn(`Firestore (${Ah}): ${n}`,...t)}}function Q0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ut(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Rx(n,r,t)}function Rx(n,e,t){let r=`FIRESTORE (${Ah}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ol(r),new Error(r)}function Yn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Rx(e,s,r)}function rn(n,e){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends dc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Au{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class jx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(va.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dA{constructor(e){this.t=e,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Au;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Au,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Au)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string",31837,{l:r}),new jx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yn(e===null||typeof e=="string",2055,{h:e}),new va(e)}}class pA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=va.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new pA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yn(this.o===void 0,3512);const r=o=>{o.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Yn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ty(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=yA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function g0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return Rg(s)===Rg(o)?_n(s,o):Rg(s)?1:-1}return _n(n.length,e.length)}const vA=55296,bA=57343;function Rg(n){const e=n.charCodeAt(0);return e>=vA&&e<=bA}function yh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const Cy="__name__";class Vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ut(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ut(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Vo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return _n(e.length,t.length)}static compareSegments(e,t){const r=Vo.isNumericId(e),s=Vo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vo.extractNumericId(e).compare(Vo.extractNumericId(t)):g0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Su.fromString(e.substring(4,e.length-2))}}class di extends Vo{construct(e,t,r){return new di(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new di(t)}static emptyPath(){return new di([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends Vo{construct(e,t,r){return new ia(e,t,r)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new ia([Cy])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new at(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new at(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new at(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(r+=h,s++):(o(),s++)}if(o(),c)throw new at(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ia(t)}static emptyPath(){return new ia([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(di.fromString(e))}static fromName(e){return new kt(di.fromString(e).popFirst(5))}static empty(){return new kt(di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&di.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new di(e.slice()))}}function Lx(n,e,t){if(!t)throw new at(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _A(n,e,t,r){if(e===!0&&r===!0)throw new at(Ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ny(n){if(!kt.isDocumentKey(n))throw new at(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iy(n){if(kt.isDocumentKey(n))throw new at(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ut(12329,{type:typeof n})}function Ho(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gp(n);throw new at(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hf(n,e){if(!Dx(n))throw new at(Ye.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new at(Ye.INVALID_ARGUMENT,t);return!0}const Ry=-62135596800,jy=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jy);return new bi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ry)throw new at(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jy}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hf(e,bi._jsonSchema))return new bi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bi._jsonSchemaVersion="firestore/timestamp/1.0",bi._jsonSchema={type:hr("string",bi._jsonSchemaVersion),seconds:hr("number"),nanoseconds:hr("number")};class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new bi(0,0))}static max(){return new Zt(new bi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kf=-1;function wA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Zt.fromTimestamp(r===1e9?new bi(t+1,0):new bi(t,r));return new Cu(s,kt.empty(),e)}function SA(n){return new Cu(n.readTime,n.key,kf)}class Cu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cu(Zt.min(),kt.empty(),kf)}static max(){return new Cu(Zt.max(),kt.empty(),kf)}}function AA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=kt.comparator(n.documentKey,e.documentKey),t!==0?t:_n(n.largestBatchId,e.largestBatchId))}const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eh(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==EA)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let s=0,o=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++o,c&&o===s&&t()}),(f=>r(f)))})),c=!0,o===s&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((s=>s?Ke.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,s)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((v=>{c[d]=v,++h,h===o&&r(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new Ke(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function CA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Th(n){return n.name==="IndexedDbTransactionError"}class Yp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yp.ce=-1;const Z0=-1;function Wp(n){return n==null}function xp(n){return n===0&&1/n==-1/0}function NA(n){return typeof n=="number"&&Number.isInteger(n)&&!xp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const kx="";function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ly(e)),e=RA(n.get(t),e);return Ly(e)}function RA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case kx:t+="";break;default:t+=o}}return t}function Ly(n){return n+kx+""}function Dy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ku(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ki{constructor(e,t){this.comparator=e,this.root=t||na.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,na.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class na{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??na.RED,this.left=s??na.EMPTY,this.right=o??na.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new na(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return na.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return na.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,na.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,na.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}na.EMPTY=null,na.RED=!0,na.BLACK=!1;na.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new na(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tr(this.comparator);return t.data=e,t}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(ia.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Tr(ia.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ra{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ox("Invalid base64 string: "+o):o}})(e);return new ra(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new ra(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ra.EMPTY_BYTE_STRING=new ra("");const jA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(Yn(!!n,39018),typeof n=="string"){let e=0;const t=jA.exec(n);if(Yn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Iu(n){return typeof n=="string"?ra.fromBase64String(n):ra.fromUint8Array(n)}const Px="server_timestamp",zx="__type__",Fx="__previous_value__",Bx="__local_write_time__";function J0(n){return(n?.mapValue?.fields||{})[zx]?.stringValue===Px}function $p(n){const e=n.mapValue.fields[Fx];return J0(e)?$p(e):e}function Mf(n){const e=Nu(n.mapValue.fields[Bx].timestampValue);return new bi(e.seconds,e.nanos)}class LA{constructor(e,t,r,s,o,c,h,f,d,v,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v,this.apiKey=A}}const _p="(default)";class Of{constructor(e,t){this.projectId=e,this.database=t||_p}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===_p}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}function DA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new at(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(n.options.projectId,e)}const Vx="__type__",kA="__max__",Gd={mapValue:{}},Ux="__vector__",wp="value";function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?J0(n)?4:OA(n)?9007199254740991:MA(n)?10:11:Ut(28295,{value:n})}function Ko(n,e){if(n===e)return!0;const t=Ru(n);if(t!==Ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mf(n).isEqual(Mf(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Nu(s.timestampValue),h=Nu(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Iu(s.bytesValue).isEqual(Iu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Qi(s.geoPointValue.latitude)===Qi(o.geoPointValue.latitude)&&Qi(s.geoPointValue.longitude)===Qi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Qi(s.integerValue)===Qi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Qi(s.doubleValue),h=Qi(o.doubleValue);return c===h?xp(c)===xp(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return yh(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Dy(c)!==Dy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ko(c[f],h[f])))return!1;return!0})(n,e);default:return Ut(52216,{left:n})}}function Pf(n,e){return(n.values||[]).find((t=>Ko(t,e)))!==void 0}function vh(n,e){if(n===e)return 0;const t=Ru(n),r=Ru(e);if(t!==r)return _n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Qi(o.integerValue||o.doubleValue),f=Qi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return My(n.timestampValue,e.timestampValue);case 4:return My(Mf(n),Mf(e));case 5:return g0(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Iu(o),f=Iu(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=_n(h[d],f[d]);if(v!==0)return v}return _n(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=_n(Qi(o.latitude),Qi(c.latitude));return h!==0?h:_n(Qi(o.longitude),Qi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Oy(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[wp]?.arrayValue,v=f[wp]?.arrayValue,A=_n(d?.values?.length||0,v?.values?.length||0);return A!==0?A:Oy(d,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Gd.mapValue&&c===Gd.mapValue)return 0;if(o===Gd.mapValue)return 1;if(c===Gd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const C=g0(f[A],v[A]);if(C!==0)return C;const _=vh(h[f[A]],d[v[A]]);if(_!==0)return _}return _n(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ut(23264,{he:t})}}function My(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _n(n,e);const t=Nu(n),r=Nu(e),s=_n(t.seconds,r.seconds);return s!==0?s:_n(t.nanos,r.nanos)}function Oy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=vh(t[s],r[s]);if(o)return o}return _n(t.length,r.length)}function bh(n){return m0(n)}function m0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Nu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Iu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return kt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=m0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${m0(t.fields[c])}`;return s+"}"})(n.mapValue):Ut(61005,{value:n})}function sp(n){switch(Ru(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$p(n);return e?16+sp(e):16;case 5:return 2*n.stringValue.length;case 6:return Iu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+sp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ku(r.fields,((o,c)=>{s+=o.length+sp(c)})),s})(n.mapValue);default:throw Ut(13486,{value:n})}}function Py(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y0(n){return!!n&&"integerValue"in n}function em(n){return!!n&&"arrayValue"in n}function zy(n){return!!n&&"nullValue"in n}function Fy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function op(n){return!!n&&"mapValue"in n}function MA(n){return(n?.mapValue?.fields||{})[Vx]?.stringValue===Ux}function Af(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ku(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Af(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Af(n.arrayValue.values[t]);return e}return{...n}}function OA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}class Ja{constructor(e){this.value=e}static empty(){return new Ja({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Af(t)}setAll(e){let t=ia.emptyPath(),r={},s=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}c?r[h.lastSegment()]=Af(c):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];op(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ku(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ja(Af(this.value))}}function qx(n){const e=[];return ku(n.fields,((t,r)=>{const s=new ia([t]);if(op(r)){const o=qx(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new ms(e)}class ba{constructor(e,t,r,s,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ba(e,0,Zt.min(),Zt.min(),Zt.min(),Ja.empty(),0)}static newFoundDocument(e,t,r,s){return new ba(e,1,t,Zt.min(),r,s,0)}static newNoDocument(e,t){return new ba(e,2,t,Zt.min(),Zt.min(),Ja.empty(),0)}static newUnknownDocument(e,t){return new ba(e,3,t,Zt.min(),Zt.min(),Ja.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ja.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ba&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ba(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sp{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=kt.comparator(kt.fromName(c.referenceValue),t.key):r=vh(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}class zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function PA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Hx{}class cr extends Hx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new FA(e,t,r):t==="array-contains"?new UA(e,r):t==="in"?new qA(e,r):t==="not-in"?new HA(e,r):t==="array-contains-any"?new GA(e,r):new cr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new BA(e,r):new VA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vh(t,this.value)):t!==null&&Ru(this.value)===Ru(t)&&this.matchesComparison(vh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends Hx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fo(e,t)}matches(e){return Gx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gx(n){return n.op==="and"}function Yx(n){return zA(n)&&Gx(n)}function zA(n){for(const e of n.filters)if(e instanceof fo)return!1;return!0}function v0(n){if(n instanceof cr)return n.field.canonicalString()+n.op.toString()+bh(n.value);if(Yx(n))return n.filters.map((e=>v0(e))).join(",");{const e=n.filters.map((t=>v0(t))).join(",");return`${n.op}(${e})`}}function Wx(n,e){return n instanceof cr?(function(r,s){return s instanceof cr&&r.op===s.op&&r.field.isEqual(s.field)&&Ko(r.value,s.value)})(n,e):n instanceof fo?(function(r,s){return s instanceof fo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,h)=>o&&Wx(c,s.filters[h])),!0):!1})(n,e):void Ut(19439)}function $x(n){return n instanceof cr?(function(t){return`${t.field.canonicalString()} ${t.op} ${bh(t.value)}`})(n):n instanceof fo?(function(t){return t.op.toString()+" {"+t.getFilters().map($x).join(" ,")+"}"})(n):"Filter"}class FA extends cr{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class BA extends cr{constructor(e,t){super(e,"in",t),this.keys=Kx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class VA extends cr{constructor(e,t){super(e,"not-in",t),this.keys=Kx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Kx(n,e){return(e.arrayValue?.values||[]).map((t=>kt.fromName(t.referenceValue)))}class UA extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return em(t)&&Pf(t.arrayValue,this.value)}}class qA extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pf(this.value.arrayValue,t)}}class HA extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pf(this.value.arrayValue,t)}}class GA extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!em(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Pf(this.value.arrayValue,r)))}}class YA{constructor(e,t=null,r=[],s=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Uy(n,e=null,t=[],r=[],s=null,o=null,c=null){return new YA(n,e,t,r,s,o,c)}function tm(n){const e=rn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>v0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>bh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>bh(r))).join(",")),e.Te=t}return e.Te}function nm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Wx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vy(n.startAt,e.startAt)&&Vy(n.endAt,e.endAt)}function b0(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ch{constructor(e,t=null,r=[],s=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WA(n,e,t,r,s,o,c,h){return new Ch(n,e,t,r,s,o,c,h)}function im(n){return new Ch(n)}function qy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $A(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Qx(n){return n.collectionGroup!==null}function Ef(n){const e=rn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Tr(ia.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zf(o,r))})),t.has(ia.keyField().canonicalString())||e.Ie.push(new zf(ia.keyField(),r))}return e.Ie}function Go(n){const e=rn(n);return e.Ee||(e.Ee=KA(e,Ef(n))),e.Ee}function KA(n,e){if(n.limitType==="F")return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new zf(s.field,o)}));const t=n.endAt?new Sp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sp(n.startAt.position,n.startAt.inclusive):null;return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function x0(n,e){const t=n.filters.concat([e]);return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function QA(n,e){const t=n.explicitOrderBy.concat([e]);return new Ch(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kp(n,e){return nm(Go(n),Go(e))&&n.limitType===e.limitType}function Xx(n){return`${tm(Go(n))}|lt:${n.limitType}`}function ih(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>$x(s))).join(", ")}]`),Wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>bh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>bh(s))).join(",")),`Target(${r})`})(Go(n))}; limitType=${n.limitType})`}function Qp(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):kt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Ef(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,h,f){const d=By(c,h,f);return c.inclusive?d<=0:d<0})(r.startAt,Ef(r),s)||r.endAt&&!(function(c,h,f){const d=By(c,h,f);return c.inclusive?d>=0:d>0})(r.endAt,Ef(r),s))})(n,e)}function XA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zx(n){return(e,t)=>{let r=!1;for(const s of Ef(n)){const o=ZA(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function ZA(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?vh(f,d):Ut(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:n.dir})}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return Mx(this.inner)}size(){return this.innerSize}}const JA=new ki(kt.comparator);function Pl(){return JA}const Jx=new ki(kt.comparator);function xf(...n){let e=Jx;for(const t of n)e=e.insert(t.key,t);return e}function e_(n){let e=Jx;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function nc(){return Tf()}function t_(){return Tf()}function Tf(){return new pc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const e6=new ki(kt.comparator),t6=new Tr(kt.comparator);function wn(...n){let e=t6;for(const t of n)e=e.add(t);return e}const n6=new Tr(_n);function i6(){return n6}function rm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xp(e)?"-0":e}}function n_(n){return{integerValue:""+n}}function r6(n,e){return NA(e)?n_(e):rm(n,e)}class Xp{constructor(){this._=void 0}}function a6(n,e,t){return n instanceof Ep?(function(s,o){const c={fields:{[zx]:{stringValue:Px},[Bx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&J0(o)&&(o=$p(o)),o&&(c.fields[Fx]=o),{mapValue:c}})(t,e):n instanceof Ff?r_(n,e):n instanceof Bf?a_(n,e):(function(s,o){const c=i_(s,o),h=Hy(c)+Hy(s.Ae);return y0(c)&&y0(s.Ae)?n_(h):rm(s.serializer,h)})(n,e)}function s6(n,e,t){return n instanceof Ff?r_(n,e):n instanceof Bf?a_(n,e):t}function i_(n,e){return n instanceof Tp?(function(r){return y0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ep extends Xp{}class Ff extends Xp{constructor(e){super(),this.elements=e}}function r_(n,e){const t=s_(e);for(const r of n.elements)t.some((s=>Ko(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Bf extends Xp{constructor(e){super(),this.elements=e}}function a_(n,e){let t=s_(e);for(const r of n.elements)t=t.filter((s=>!Ko(s,r)));return{arrayValue:{values:t}}}class Tp extends Xp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Hy(n){return Qi(n.integerValue||n.doubleValue)}function s_(n){return em(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o6(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ff&&s instanceof Ff||r instanceof Bf&&s instanceof Bf?yh(r.elements,s.elements,Ko):r instanceof Tp&&s instanceof Tp?Ko(r.Ae,s.Ae):r instanceof Ep&&s instanceof Ep})(n.transform,e.transform)}class l6{constructor(e,t){this.version=e,this.transformResults=t}}class uo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zp{}function o_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new am(n.key,uo.none()):new Gf(n.key,n.data,uo.none());{const t=n.data,r=Ja.empty();let s=new Tr(ia.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Mu(n.key,r,new ms(s.toArray()),uo.none())}}function u6(n,e,t){n instanceof Gf?(function(s,o,c){const h=s.value.clone(),f=Yy(s.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Mu?(function(s,o,c){if(!lp(s.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Yy(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(l_(s)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Cf(n,e,t,r){return n instanceof Gf?(function(o,c,h,f){if(!lp(o.precondition,c))return h;const d=o.value.clone(),v=Wy(o.fieldTransforms,f,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Mu?(function(o,c,h,f){if(!lp(o.precondition,c))return h;const d=Wy(o.fieldTransforms,f,c),v=c.data;return v.setAll(l_(o)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(o,c,h){return lp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function c6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=i_(r.transform,s||null);o!=null&&(t===null&&(t=Ja.empty()),t.set(r.field,o))}return t||null}function Gy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yh(r,s,((o,c)=>o6(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gf extends Zp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mu extends Zp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Yy(n,e,t){const r=new Map;Yn(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,h=e.data.field(o.field);r.set(o.field,s6(c,h,t[s]))}return r}function Wy(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,a6(o,c,e))}return r}class am extends Zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h6 extends Zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f6{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&u6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t_();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(s.key)?null:h;const f=o_(c,h);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Zt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),wn())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,((t,r)=>Gy(t,r)))&&yh(this.baseMutations,e.baseMutations,((t,r)=>Gy(t,r)))}}class sm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Yn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return e6})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new sm(e,t,r,s)}}class d6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class p6{constructor(e,t){this.count=e,this.unchangedNames=t}}var ur,Nn;function g6(n){switch(n){case Ye.OK:return Ut(64938);case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0;default:return Ut(15467,{code:n})}}function u_(n){if(n===void 0)return Ol("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case ur.OK:return Ye.OK;case ur.CANCELLED:return Ye.CANCELLED;case ur.UNKNOWN:return Ye.UNKNOWN;case ur.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ur.INTERNAL:return Ye.INTERNAL;case ur.UNAVAILABLE:return Ye.UNAVAILABLE;case ur.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ur.NOT_FOUND:return Ye.NOT_FOUND;case ur.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ur.ABORTED:return Ye.ABORTED;case ur.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ur.DATA_LOSS:return Ye.DATA_LOSS;default:return Ut(39323,{code:n})}}(Nn=ur||(ur={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";function m6(){return new TextEncoder}const y6=new Su([4294967295,4294967295],0);function $y(n){const e=m6().encode(n),t=new Ax;return t.update(e),new Uint8Array(t.digest())}function Ky(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Su([t,r],0),new Su([s,o],0)]}class om{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Su.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Su.fromNumber(r)));return s.compare(y6)===1&&(s=new Su([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$y(e),[r,s]=Ky(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new om(o,s,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=$y(e),[r,s]=Ky(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jp(Zt.min(),s,new ki(_n),Pl(),wn())}}class Yf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yf(r,t,wn(),wn(),wn())}}class up{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class c_{constructor(e,t){this.targetId=e,this.Ce=t}}class h_{constructor(e,t,r=ra.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Qy{constructor(){this.ve=0,this.Fe=Xy(),this.Me=ra.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wn(),t=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ut(38017,{changeType:o})}})),new Yf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Xy()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Yn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class v6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pl(),this.He=Yd(),this.Je=Yd(),this.Ze=new ki(_n)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(b0(o))if(r===0){const c=new kt(o.path);this.et(t,c,ba.newNoDocument(c,Zt.min()))}else Yn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,h;try{c=Iu(r).toUint8Array()}catch(f){if(f instanceof Ox)return oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new om(c,s,o)}catch(f){return oc(f instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&b0(h.target)){const f=new kt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ba.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=wn();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Jp(e,t,this.Ze,this.je,r);return this.je=Pl(),this.He=Yd(),this.Je=Yd(),this.Ze=new ki(_n),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Qy,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Tr(_n),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Tr(_n),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ct("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new ki(kt.comparator)}function Xy(){return new ki(kt.comparator)}const b6={asc:"ASCENDING",desc:"DESCENDING"},x6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_6={and:"AND",or:"OR"};class w6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _0(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function Cp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S6(n,e){return Cp(n,e.toTimestamp())}function Yo(n){return Yn(!!n,49232),Zt.fromTimestamp((function(t){const r=Nu(t);return new bi(r.seconds,r.nanos)})(n))}function lm(n,e){return w0(n,e).canonicalString()}function w0(n,e){const t=(function(s){return new di(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function d_(n){const e=di.fromString(n);return Yn(v_(e),10190,{key:e.toString()}),e}function S0(n,e){return lm(n.databaseId,e.path)}function jg(n,e){const t=d_(e);if(t.get(1)!==n.databaseId.projectId)throw new at(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(g_(t))}function p_(n,e){return lm(n.databaseId,e)}function A6(n){const e=d_(n);return e.length===4?di.emptyPath():g_(e)}function A0(n){return new di(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g_(n){return Yn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zy(n,e,t){return{name:S0(n,e),fields:t.value.mapValue.fields}}function E6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(Yn(v===void 0||typeof v=="string",58123),ra.fromBase64String(v||"")):(Yn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ra.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(d){const v=d.code===void 0?Ye.UNKNOWN:u_(d.code);return new at(v,d.message||"")})(c);t=new h_(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jg(n,r.document.name),o=Yo(r.document.updateTime),c=r.document.createTime?Yo(r.document.createTime):Zt.min(),h=new Ja({mapValue:{fields:r.document.fields}}),f=ba.newFoundDocument(s,o,c,h),d=r.targetIds||[],v=r.removedTargetIds||[];t=new up(d,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jg(n,r.document),o=r.readTime?Yo(r.readTime):Zt.min(),c=ba.newNoDocument(s,o),h=r.removedTargetIds||[];t=new up([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jg(n,r.document),o=r.removedTargetIds||[];t=new up([],o,s,null)}else{if(!("filter"in e))return Ut(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new p6(s,o),h=r.targetId;t=new c_(h,c)}}return t}function T6(n,e){let t;if(e instanceof Gf)t={update:Zy(n,e.key,e.value)};else if(e instanceof am)t={delete:S0(n,e.key)};else if(e instanceof Mu)t={update:Zy(n,e.key,e.data),updateMask:M6(e.fieldMask)};else{if(!(e instanceof h6))return Ut(16599,{dt:e.type});t={verify:S0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Ep)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ff)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Bf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Tp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ut(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:S6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ut(27497)})(n,e.precondition)),t}function C6(n,e){return n&&n.length>0?(Yn(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?Yo(s.updateTime):Yo(o);return c.isEqual(Zt.min())&&(c=Yo(o)),new l6(c,s.transformResults||[])})(t,e)))):[]}function N6(n,e){return{documents:[p_(n,e.path)]}}function I6(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p_(n,s);const o=(function(d){if(d.length!==0)return y_(fo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((v=>(function(C){return{field:rh(C.field),direction:L6(C.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=_0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function R6(n){let e=A6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Yn(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(A){const C=m_(A);return C instanceof fo&&Yx(C)?C.getFilters():[C]})(t.where));let c=[];t.orderBy&&(c=(function(A){return A.map((C=>(function(P){return new zf(ah(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(C)))})(t.orderBy));let h=null;t.limit&&(h=(function(A){let C;return C=typeof A=="object"?A.value:A,Wp(C)?null:C})(t.limit));let f=null;t.startAt&&(f=(function(A){const C=!!A.before,_=A.values||[];return new Sp(_,C)})(t.startAt));let d=null;return t.endAt&&(d=(function(A){const C=!A.before,_=A.values||[];return new Sp(_,C)})(t.endAt)),WA(e,s,c,o,h,"F",f,d)}function j6(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function m_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ah(t.unaryFilter.field);return cr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ah(t.unaryFilter.field);return cr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ah(t.unaryFilter.field);return cr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ah(t.unaryFilter.field);return cr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(n):n.fieldFilter!==void 0?(function(t){return cr.create(ah(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return fo.create(t.compositeFilter.filters.map((r=>m_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(t.compositeFilter.op))})(n):Ut(30097,{filter:n})}function L6(n){return b6[n]}function D6(n){return x6[n]}function k6(n){return _6[n]}function rh(n){return{fieldPath:n.canonicalString()}}function ah(n){return ia.fromServerFormat(n.fieldPath)}function y_(n){return n instanceof cr?(function(t){if(t.op==="=="){if(Fy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NAN"}};if(zy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NAN"}};if(zy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(t.field),op:D6(t.op),value:t.value}}})(n):n instanceof fo?(function(t){const r=t.getFilters().map((s=>y_(s)));return r.length===1?r[0]:{compositeFilter:{op:k6(t.op),filters:r}}})(n):Ut(54877,{filter:n})}function M6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function v_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function b_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class vu{constructor(e,t,r,s,o=Zt.min(),c=Zt.min(),h=ra.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class O6{constructor(e){this.yt=e}}function P6(n){const e=R6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ap(e,e.limit,"L"):e}class z6{constructor(){this.Sn=new F6}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Cu.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Cu.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class F6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Tr(di.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tr(di.comparator)).toArray()}}const Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x_=41943040;class Za{static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(x_,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class xh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xh(0)}static ar(){return new xh(-1)}}const ev="LruGarbageCollector",B6=1048576;function tv([n,e],[t,r]){const s=_n(n,t);return s===0?_n(e,r):s}class V6{constructor(e){this.Pr=e,this.buffer=new Tr(tv),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ct(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Th(t)?ct(ev,"Ignoring IndexedDB error during garbage collection: ",t):await Eh(t)}await this.Ar(3e5)}))}}class q6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(Yp.ce);const r=new V6(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Jy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,c,h,f,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,c=Date.now(),this.nthSequenceNumber(e,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(e,r,t)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(d=Date.now(),nh()<=jn.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function H6(n,e){return new q6(n,e)}class G6{constructor(){this.changes=new pc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ba.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class W6{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Cf(r.mutation,s,ms.empty(),bi.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,wn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=wn()){const s=nc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=xf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=nc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,wn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,s){let o=Pl();const c=Tf(),h=(function(){return Tf()})();return t.forEach(((f,d)=>{const v=r.get(d.key);s.has(d.key)&&(v===void 0||v.mutation instanceof Mu)?o=o.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),Cf(v.mutation,d,v.mutation.getFieldMask(),bi.now())):c.set(d.key,ms.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,v)=>c.set(d,v))),t.forEach(((d,v)=>h.set(d,new Y6(v,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Tf();let s=new ki(((c,h)=>c-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let v=r.get(f)||ms.empty();v=h.applyToLocalView(d,v),r.set(f,v);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=t_();v.forEach((C=>{if(!o.has(C)){const _=o_(t.get(C),r.get(C));_!==null&&A.set(C,_),o=o.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,A))}return Ke.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return $A(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ke.resolve(nc());let h=kf,f=o;return c.next((d=>Ke.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Ke.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{f=f.insert(v,C)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,wn()))).next((v=>({batchId:h,changes:e_(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next((r=>{let s=xf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=xf();return this.indexManager.getCollectionParents(e,o).next((h=>Ke.forEach(h,(f=>{const d=(function(A,C){return new Ch(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((v=>{v.forEach(((A,C)=>{c=c.insert(A,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((f,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,ba.newInvalidDocument(v)))}));let h=xf();return c.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&Cf(v.mutation,d,ms.empty(),bi.now()),Qp(t,d)&&(h=h.insert(f,d))})),h}))}}class $6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Yo(s.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:P6(s.bundledQuery),readTime:Yo(s.readTime)}})(t)),Ke.resolve()}}class K6{constructor(){this.overlays=new ki(kt.comparator),this.Lr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nc();return Ke.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const s=nc(),o=t.length+1,c=new kt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ki(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=nc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=nc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=s)););return Ke.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new d6(t,r));let o=this.Lr.get(t);o===void 0&&(o=wn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class Q6{constructor(){this.sessionToken=ra.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}class um{constructor(){this.kr=new Tr(Br.Kr),this.qr=new Tr(Br.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Br(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1);let o=wn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Br(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return kt.comparator(e.key,t.key)||_n(e.Hr,t.Hr)}static Ur(e,t){return _n(e.Hr,t.Hr)||kt.comparator(e.key,t.key)}}class X6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Tr(Br.Kr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new f6(o,t,r,s);this.mutationQueue.push(c);for(const h of s)this.Jr=this.Jr.add(new Br(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ke.resolve(c)}lookupMutationBatch(e,t){return Ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?Z0:this.Yn-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),s=new Br(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const h=this.Zr(c.Hr);o.push(h)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(_n);return t.forEach((s=>{const o=new Br(s,0),c=new Br(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),Ke.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;kt.isDocumentKey(o)||(o=o.child(""));const c=new Br(new kt(o),0);let h=new Tr(_n);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Hr)),!0)}),c),Ke.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Yn(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Ke.forEach(t.mutations,(s=>{const o=new Br(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Br(t,0),s=this.Jr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Z6{constructor(e){this.ti=e,this.docs=(function(){return new ki(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():ba.newInvalidDocument(t))}getEntries(e,t){let r=Pl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ba.newInvalidDocument(s))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Pl();const c=t.path,h=new kt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||AA(SA(v),r)<=0||(s.has(v.key)||Qp(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ut(9500)}ni(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new J6(this)}getSize(e){return Ke.resolve(this.size)}}class J6 extends G6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class eE{constructor(e){this.persistence=e,this.ri=new pc((t=>tm(t)),nm),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ii=0,this.si=new um,this.targetCount=0,this.oi=xh._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Ke.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new xh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.lr(t),Ke.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),Ke.waitFor(o).next((()=>s))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.si.containsKey(t))}}class __{constructor(e,t){this._i={},this.overlays={},this.ai=new Yp(0),this.ui=!1,this.ui=!0,this.ci=new Q6,this.referenceDelegate=e(this),this.li=new eE(this),this.indexManager=new z6,this.remoteDocumentCache=(function(s){return new Z6(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new O6(t),this.Pi=new $6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new X6(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ct("MemoryPersistence","Starting transaction:",e);const s=new tE(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Ke.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class tE extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Ri=new um,this.Ai=null}static Vi(e){return new cm(e)}get di(){if(this.Ai)return this.Ai;throw Ut(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.di,(r=>{const s=kt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Zt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Np{constructor(e,t){this.persistence=e,this.fi=new pc((r=>IA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=H6(this,t)}static Vi(e,t){return new Np(e,t)}Ti(){}Ii(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Ke.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Ke.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(r++,o.removeEntry(c,Zt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sp(e.data.value)),t}wr(e,t,r){return Ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=wn(),s=wn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new hm(e,t.fromCache,r,s)}}class nE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Q3()?8:CA($3())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new nE;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(nh()<=jn.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ih(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ke.resolve()):(nh()<=jn.DEBUG&&ct("QueryEngine","Query:",ih(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(nh()<=jn.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ih(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(t))):Ke.resolve())}gs(e,t){if(qy(t))return Ke.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Ap(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=wn(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,h);return this.Ss(t,d,c,f.readTime)?this.gs(e,Ap(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return qy(t)||s.isEqual(Zt.min())?Ke.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,s)?Ke.resolve(null):(nh()<=jn.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ih(t)),this.Ds(e,c,t,wA(s,kf)).next((h=>h)))}))}bs(e,t){let r=new Tr(Zx(e));return t.forEach(((s,o)=>{Qp(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return nh()<=jn.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ih(t)),this.fs.getDocumentsMatchingQuery(e,t,Cu.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const fm="LocalStore",rE=3e8;class aE{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ki(_n),this.Fs=new pc((o=>tm(o)),nm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function sE(n,e,t,r){return new aE(n,e,t,r)}async function w_(n,e){const t=rn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=wn();for(const d of s){c.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function oE(n,e){const t=rn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,C=A.keys();let _=Ke.resolve();return C.forEach((P=>{_=_.next((()=>v.getEntry(f,P))).next((q=>{const U=d.docVersions.get(P);Yn(U!==null,48541),q.version.compareTo(U)<0&&(A.applyToRemoteDocument(q,d),q.isValidDocument()&&(q.setReadTime(d.commitVersion),v.addEntry(q)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function S_(n){const e=rn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function lE(n,e){const t=rn(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((v,A)=>{const C=s.get(A);if(!C)return;h.push(t.li.removeMatchingKeys(o,v.removedDocuments,A).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,A))));let _=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(ra.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):v.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(v.resumeToken,r)),s=s.insert(A,_),(function(q,U,F){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=rE?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(C,_,v)&&h.push(t.li.updateTargetData(o,_))}));let f=Pl(),d=wn();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(uE(o,c,e.documentUpdates).next((v=>{f=v.Bs,d=v.Ls}))),!r.isEqual(Zt.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((A=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Ke.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function uE(n,e,t){let r=wn(),s=wn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Pl();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Zt.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ct(fm,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:s}}))}function cE(n,e){const t=rn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Z0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hE(n,e){const t=rn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Ke.resolve(s)):t.li.allocateTargetId(r).next((c=>(s=new vu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function E0(n,e,t){const r=rn(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Th(c))throw c;ct(fm,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function nv(n,e,t){const r=rn(n);let s=Zt.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,v){const A=rn(f),C=A.Fs.get(v);return C!==void 0?Ke.resolve(A.vs.get(C)):A.li.getTargetData(d,v)})(r,c,Go(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:Zt.min(),t?o:wn()))).next((h=>(fE(r,XA(e),h),{documents:h,ks:o})))))}function fE(n,e,t){let r=n.Ms.get(e)||Zt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class iv{constructor(){this.activeTargetIds=i6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dE{constructor(){this.vo=new iv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pE{Mo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(rv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ct(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wd=null;function T0(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}const Lg="RestConnection",gE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mE{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===_p?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const c=T0(),h=this.Qo(e,t.toUriEncodedString());ct(Lg,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(h),v=Hp(d);return this.zo(e,h,f,r,v).then((A=>(ct(Lg,`Received RPC '${e}' ${c}: `,A),A)),(A=>{throw oc(Lg,`RPC '${e}' ${c} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(e,t,r,s,o,c){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ah})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=gE[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class yE{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const da="WebChannelConnection",gf=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class uh extends mE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uh.c_){const e=Nx();gf(e,Cx.STAT_EVENT,(t=>{t.stat===p0.PROXY?ct(da,"STAT_EVENT: detected buffering proxy"):t.stat===p0.NOPROXY&&ct(da,"STAT_EVENT: detected no buffering proxy")})),uh.c_=!0}}zo(e,t,r,s,o){const c=T0();return new Promise(((h,f)=>{const d=new Ex;d.setWithCredentials(!0),d.listenOnce(Tx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ap.NO_ERROR:const A=d.getResponseJson();ct(da,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),h(A);break;case ap.TIMEOUT:ct(da,`RPC '${e}' ${c} timed out`),f(new at(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const C=d.getStatus();if(ct(da,`RPC '${e}' ${c} failed with status:`,C,"response text:",d.getResponseText()),C>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_?.error;if(P&&P.status&&P.message){const q=(function(F){const ie=F.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(ie)>=0?ie:Ye.UNKNOWN})(P.status);f(new at(q,P.message))}else f(new at(Ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new at(Ye.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ct(da,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);ct(da,`RPC '${e}' ${c} sending request:`,s),d.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=T0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const d=o.join("");ct(da,`Creating RPC '${e}' stream ${s}: ${d}`,h);const v=c.createWebChannel(d,h);this.I_(v);let A=!1,C=!1;const _=new yE({Ho:P=>{C?ct(da,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(A||(ct(da,`Opening RPC '${e}' stream ${s} transport.`),v.open(),A=!0),ct(da,`RPC '${e}' stream ${s} sending:`,P),v.send(P))},Jo:()=>v.close()});return gf(v,bf.EventType.OPEN,(()=>{C||(ct(da,`RPC '${e}' stream ${s} transport opened.`),_.i_())})),gf(v,bf.EventType.CLOSE,(()=>{C||(C=!0,ct(da,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(v))})),gf(v,bf.EventType.ERROR,(P=>{C||(C=!0,oc(da,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),_.o_(new at(Ye.UNAVAILABLE,"The operation could not be completed")))})),gf(v,bf.EventType.MESSAGE,(P=>{if(!C){const q=P.data[0];Yn(!!q,16349);const U=q,F=U?.error||U[0]?.error;if(F){ct(da,`RPC '${e}' stream ${s} received error:`,F);const ie=F.status;let K=(function(Ne){const $=ur[Ne];if($!==void 0)return u_($)})(ie),ae=F.message;ie==="NOT_FOUND"&&ae.includes("database")&&ae.includes("does not exist")&&ae.includes(this.databaseId.database)&&oc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=Ye.INTERNAL,ae="Unknown error status: "+ie+" with message "+F.message),C=!0,_.o_(new at(K,ae)),v.close()}else ct(da,`RPC '${e}' stream ${s} received:`,q),_.__(q)}})),uh.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ix()}}function vE(n){return new uh(n)}function Dg(){return typeof document<"u"?document:null}function e1(n){return new w6(n,!0)}uh.c_=!1;class A_{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ct("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sv="PersistentStream";class E_{constructor(e,t,r,s,o,c,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Ol(t.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new at(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ct(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bE extends E_{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=E6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Zt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Zt.min():c.readTime?Yo(c.readTime):Zt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=A0(this.serializer),t.addTarget=(function(o,c){let h;const f=c.target;if(h=b0(f)?{documents:N6(o,f)}:{query:I6(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=f_(o,c.resumeToken);const d=_0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(Zt.min())>0){h.readTime=Cp(o,c.snapshotVersion.toTimestamp());const d=_0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const r=j6(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=A0(this.serializer),t.removeTarget=e,this.K_(t)}}class xE extends E_{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Yn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=C6(e.writeResults,e.commitTime),r=Yo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=A0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>T6(this.serializer,r)))};this.K_(t)}}class _E{}class wE extends _E{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new at(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,w0(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ye.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,w0(t,r),s,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Ye.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SE(n,e,t,r){return new wE(n,e,t,r)}class AE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ol(t),this.aa=!1):ct("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class EE{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{gc(this)&&(ct(lc,"Restarting streams for network reachability change."),await(async function(f){const d=rn(f);d.Ea.add(4),await Wf(d),d.Va.set("Unknown"),d.Ea.delete(4),await t1(d)})(this))}))})),this.Va=new AE(r,s)}}async function t1(n){if(gc(n))for(const e of n.Ra)await e(!0)}async function Wf(n){for(const e of n.Ra)await e(!1)}function T_(n,e){const t=rn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),mm(t)?gm(t):Nh(t).O_()&&pm(t,e))}function dm(n,e){const t=rn(n),r=Nh(t);t.Ia.delete(e),r.O_()&&C_(t,e),t.Ia.size===0&&(r.O_()?r.L_():gc(t)&&t.Va.set("Unknown"))}function pm(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nh(n).Z_(e)}function C_(n,e){n.da.$e(e),Nh(n).X_(e)}function gm(n){n.da=new v6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nh(n).start(),n.Va.ua()}function mm(n){return gc(n)&&!Nh(n).x_()&&n.Ia.size>0}function gc(n){return rn(n).Ea.size===0}function N_(n){n.da=void 0}async function TE(n){n.Va.set("Online")}async function CE(n){n.Ia.forEach(((e,t)=>{pm(n,e)}))}async function NE(n,e){N_(n),mm(n)?(n.Va.ha(e),gm(n)):n.Va.set("Unknown")}async function IE(n,e,t){if(n.Va.set("Online"),e instanceof h_&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){ct(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ip(n,r)}else if(e instanceof up?n.da.Xe(e):e instanceof c_?n.da.st(e):n.da.tt(e),!t.isEqual(Zt.min()))try{const r=await S_(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ra.EMPTY_BYTE_STRING,v.snapshotVersion)),C_(o,f);const A=new vu(v.target,f,d,v.sequenceNumber);pm(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ct(lc,"Failed to raise snapshot:",r),await Ip(n,r)}}async function Ip(n,e,t){if(!Th(e))throw e;n.Ea.add(1),await Wf(n),n.Va.set("Offline"),t||(t=()=>S_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(lc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await t1(n)}))}function I_(n,e){return e().catch((t=>Ip(n,t,e)))}async function n1(n){const e=rn(n),t=ju(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z0;for(;RE(e);)try{const s=await cE(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,jE(e,s)}catch(s){await Ip(e,s)}R_(e)&&j_(e)}function RE(n){return gc(n)&&n.Ta.length<10}function jE(n,e){n.Ta.push(e);const t=ju(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function R_(n){return gc(n)&&!ju(n).x_()&&n.Ta.length>0}function j_(n){ju(n).start()}async function LE(n){ju(n).ra()}async function DE(n){const e=ju(n);for(const t of n.Ta)e.ea(t.mutations)}async function kE(n,e,t){const r=n.Ta.shift(),s=sm.from(r,e,t);await I_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await n1(n)}async function ME(n,e){e&&ju(n).Y_&&await(async function(r,s){if((function(c){return g6(c)&&c!==Ye.ABORTED})(s.code)){const o=r.Ta.shift();ju(r).B_(),await I_(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await n1(r)}})(n,e),R_(n)&&j_(n)}async function ov(n,e){const t=rn(n);t.asyncQueue.verifyOperationInProgress(),ct(lc,"RemoteStore received new credentials");const r=gc(t);t.Ea.add(3),await Wf(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await t1(t)}async function OE(n,e){const t=rn(n);e?(t.Ea.delete(2),await t1(t)):e||(t.Ea.add(2),await Wf(t),t.Va.set("Unknown"))}function Nh(n){return n.ma||(n.ma=(function(t,r,s){const o=rn(t);return o.sa(),new bE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:TE.bind(null,n),Yo:CE.bind(null,n),t_:NE.bind(null,n),J_:IE.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),mm(n)?gm(n):n.Va.set("Unknown")):(await n.ma.stop(),N_(n))}))),n.ma}function ju(n){return n.fa||(n.fa=(function(t,r,s){const o=rn(t);return o.sa(),new xE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LE.bind(null,n),t_:ME.bind(null,n),ta:DE.bind(null,n),na:kE.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await n1(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ym{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,h=new ym(e,t,c,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(n,e){if(Ol("AsyncQueue",`${e}: ${n}`),Th(n))return new at(Ye.UNAVAILABLE,`${e}: ${n}`);throw n}class ch{static emptySet(e){return new ch(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=xf(),this.sortedSet=new ki(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class lv{constructor(){this.ga=new ki(kt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ut(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class _h{constructor(e,t,r,s,o,c,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new _h(e,t,ch.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class PE{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class zE{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=rn(t),o=s.queries;s.queries=uv(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new at(Ye.ABORTED,"Firestore shutting down"))}}function uv(){return new pc((n=>Xx(n)),Kp)}async function L_(n,e){const t=rn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new PE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=vm(c,`Initialization of query '${ih(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&bm(t)}async function D_(n,e){const t=rn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FE(n,e){const t=rn(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(s)&&(r=!0);c.wa=s}}r&&bm(t)}function BE(n,e,t){const r=rn(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function bm(n){n.Ca.forEach((e=>{e.next()}))}var C0,cv;(cv=C0||(C0={})).Ma="default",cv.Cache="cache";class k_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _h(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C0.Cache}}class M_{constructor(e){this.key=e}}class O_{constructor(e){this.key=e}}class VE{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.eu=Zx(e),this.tu=new ch(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new lv,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,A)=>{const C=s.get(v),_=Qp(this.query,A)?A:null,P=!!C&&this.mutatedKeys.has(C.key),q=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let U=!1;C&&_?C.data.isEqual(_.data)?P!==q&&(r.track({type:3,doc:_}),U=!0):this.su(C,_)||(r.track({type:2,doc:_}),U=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!C&&_?(r.track({type:0,doc:_}),U=!0):C&&!_&&(r.track({type:1,doc:C}),U=!0,(f||d)&&(h=!0)),U&&(_?(c=c.add(_),o=q?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,A)=>(function(_,P){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Vt:U})}};return q(_)-q(P)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new _h(this.query,e.tu,o,c,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new O_(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new M_(r))})),t}cu(e){this.Za=e.ks,this.Ya=wn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _h.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xm="SyncEngine";class UE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qE{constructor(e){this.key=e,this.hu=!1}}class HE{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new pc((h=>Xx(h)),Kp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(kt.comparator),this.Au=new Map,this.Vu=new um,this.du={},this.mu=new Map,this.fu=xh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GE(n,e,t=!0){const r=U_(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await P_(r,e,t,!0),s}async function YE(n,e){const t=U_(n);await P_(t,e,!0,!1)}async function P_(n,e,t,r){const s=await hE(n.localStore,Go(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await WE(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&T_(n.remoteStore,s),h}async function WE(n,e,t,r,s){n.pu=(A,C,_)=>(async function(q,U,F,ie){let K=U.view.ru(F);K.Ss&&(K=await nv(q.localStore,U.query,!1).then((({documents:$})=>U.view.ru($,K))));const ae=ie&&ie.targetChanges.get(U.targetId),Se=ie&&ie.targetMismatches.get(U.targetId)!=null,Ne=U.view.applyChanges(K,q.isPrimaryClient,ae,Se);return fv(q,U.targetId,Ne.au),Ne.snapshot})(n,A,C,_);const o=await nv(n.localStore,e,!0),c=new VE(e,o.ks),h=c.ru(o.documents),f=Yf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=c.applyChanges(h,n.isPrimaryClient,f);fv(n,t,d.au);const v=new UE(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function $E(n,e,t){const r=rn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Kp(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await E0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&dm(r.remoteStore,s.targetId),N0(r,s.targetId)})).catch(Eh)):(N0(r,s.targetId),await E0(r.localStore,s.targetId,!0))}async function KE(n,e){const t=rn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dm(t.remoteStore,r.targetId))}async function QE(n,e,t){const r=i8(n);try{const s=await(function(c,h){const f=rn(c),d=bi.now(),v=h.reduce(((_,P)=>_.add(P.key)),wn());let A,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let P=Pl(),q=wn();return f.xs.getEntries(_,v).next((U=>{P=U,P.forEach(((F,ie)=>{ie.isValidDocument()||(q=q.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,P))).next((U=>{A=U;const F=[];for(const ie of h){const K=c6(ie,A.get(ie.key).overlayedDocument);K!=null&&F.push(new Mu(ie.key,K,qx(K.value.mapValue),uo.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,F,h)})).next((U=>{C=U;const F=U.applyToLocalDocumentSet(A,q);return f.documentOverlayCache.saveOverlays(_,U.batchId,F)}))})).then((()=>({batchId:C.batchId,changes:e_(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,h,f){let d=c.du[c.currentUser.toKey()];d||(d=new ki(_n)),d=d.insert(h,f),c.du[c.currentUser.toKey()]=d})(r,s.batchId,t),await $f(r,s.changes),await n1(r.remoteStore)}catch(s){const o=vm(s,"Failed to persist write");t.reject(o)}}async function z_(n,e){const t=rn(n);try{const r=await lE(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Yn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Yn(c.hu,14607):s.removedDocuments.size>0&&(Yn(c.hu,42227),c.hu=!1))})),await $f(t,r,e)}catch(r){await Eh(r)}}function hv(n,e,t){const r=rn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const C of A.ba)C.va(h)&&(d=!0)})),d&&bm(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XE(n,e,t){const r=rn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new ki(kt.comparator);c=c.insert(o,ba.newNoDocument(o,Zt.min()));const h=wn().add(o),f=new Jp(Zt.min(),new Map,new ki(_n),c,h);await z_(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),_m(r)}else await E0(r.localStore,e,!1).then((()=>N0(r,e,t))).catch(Eh)}async function ZE(n,e){const t=rn(n),r=e.batch.batchId;try{const s=await oE(t.localStore,e);B_(t,r,null),F_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await $f(t,s)}catch(s){await Eh(s)}}async function JE(n,e,t){const r=rn(n);try{const s=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Yn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(r.localStore,e);B_(r,e,t),F_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await $f(r,s)}catch(s){await Eh(s)}}function F_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function B_(n,e,t){const r=rn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function N0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||V_(n,r)}))}function V_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(dm(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),_m(n))}function fv(n,e,t){for(const r of t)r instanceof M_?(n.Vu.addReference(r.key,e),e8(n,r)):r instanceof O_?(ct(xm,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||V_(n,r.key)):Ut(19791,{wu:r})}function e8(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ct(xm,"New document in limbo: "+t),n.Eu.add(r),_m(n))}function _m(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new kt(di.fromString(e)),r=n.fu.next();n.Au.set(r,new qE(t)),n.Ru=n.Ru.insert(t,r),T_(n.remoteStore,new vu(Go(im(t.path)),r,"TargetPurposeLimboResolution",Yp.ce))}}async function $f(n,e,t){const r=rn(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){s.push(d);const v=hm.Es(f.targetId,d);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(f,d){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Ke.forEach(d,(C=>Ke.forEach(C.Ts,(_=>v.persistence.referenceDelegate.addReference(A,C.targetId,_))).next((()=>Ke.forEach(C.Is,(_=>v.persistence.referenceDelegate.removeReference(A,C.targetId,_)))))))))}catch(A){if(!Th(A))throw A;ct(fm,"Failed to update sequence numbers: "+A)}for(const A of d){const C=A.targetId;if(!A.fromCache){const _=v.vs.get(C),P=_.snapshotVersion,q=_.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(C,q)}}})(r.localStore,o))}async function t8(n,e){const t=rn(n);if(!t.currentUser.isEqual(e)){ct(xm,"User change. New user:",e.toKey());const r=await w_(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new at(Ye.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $f(t,r.Ns)}}function n8(n,e){const t=rn(n),r=t.Au.get(e);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const h=t.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function U_(n){const e=rn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XE.bind(null,e),e.Pu.J_=FE.bind(null,e.eventManager),e.Pu.yu=BE.bind(null,e.eventManager),e}function i8(n){const e=rn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JE.bind(null,e),e}class Rp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=e1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sE(this.persistence,new iE,e.initialUser,this.serializer)}Cu(e){return new __(cm.Vi,this.serializer)}Du(e){return new dE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rp.provider={build:()=>new Rp};class r8 extends Rp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yn(this.persistence.referenceDelegate instanceof Np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new __((r=>Np.Vi(r,t)),this.serializer)}}class I0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t8.bind(null,this.syncEngine),await OE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zE})()}createDatastore(e){const t=e1(e.databaseInfo.databaseId),r=vE(e.databaseInfo);return SE(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,h){return new EE(r,s,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>hv(this.syncEngine,t,0)),(function(){return av.v()?new av:new pE})())}createSyncEngine(e,t){return(function(s,o,c,h,f,d,v){const A=new HE(s,o,c,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=rn(t);ct(lc,"RemoteStore shutting down."),r.Ea.add(5),await Wf(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}I0.provider={build:()=>new I0};class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Lu="FirestoreClient";class a8{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=va.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ct(Lu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(Lu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=vm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kg(n,e){n.asyncQueue.verifyOperationInProgress(),ct(Lu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await w_(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function dv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s8(n);ct(Lu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ov(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>ov(e.remoteStore,s))),n._onlineComponents=e}async function s8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(Lu,"Using user provided OfflineComponentProvider");try{await kg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await kg(n,new Rp)}}else ct(Lu,"Using default OfflineComponentProvider"),await kg(n,new r8(void 0));return n._offlineComponents}async function H_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(Lu,"Using user provided OnlineComponentProvider"),await dv(n,n._uninitializedComponentsProvider._online)):(ct(Lu,"Using default OnlineComponentProvider"),await dv(n,new I0))),n._onlineComponents}function o8(n){return H_(n).then((e=>e.syncEngine))}async function R0(n){const e=await H_(n),t=e.eventManager;return t.onListen=GE.bind(null,e.syncEngine),t.onUnlisten=$E.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=YE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KE.bind(null,e.syncEngine),t}function l8(n,e,t,r){const s=new q_(r),o=new k_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>L_(await R0(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>D_(await R0(n),o)))}}function u8(n,e,t={}){const r=new Au;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const v=new q_({next:C=>{v.Nu(),c.enqueueAndForget((()=>D_(o,A))),C.fromCache&&f.source==="server"?d.reject(new at(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(C)},error:C=>d.reject(C)}),A=new k_(h,v,{includeMetadataChanges:!0,Ka:!0});return L_(o,A)})(await R0(n),n.asyncQueue,e,t,r))),r.promise}function c8(n,e){const t=new Au;return n.asyncQueue.enqueueAndForget((async()=>QE(await o8(n),e,t))),t.promise}function G_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const h8="ComponentProvider",pv=new Map;function f8(n,e,t,r,s){return new LA(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,G_(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const Y_="firestore.googleapis.com",gv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y_,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B6)throw new at(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i1{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hA;switch(r.type){case"firstParty":return new gA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=pv.get(t);r&&(ct(h8,"Removing Datastore"),pv.delete(t),r.terminate())})(this),Promise.resolve()}}function d8(n,e,t,r={}){n=Ho(n,i1);const s=Hp(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(cx(`https://${h}`),fx("Firestore",!0)),o.host!==Y_&&o.host!==h&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!vp(f,c)&&(n._setSettings(f),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=va.MOCK_USER;else{d=hx(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new at(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new va(A)}n._authCredentials=new fA(new jx(d,v))}}class Fl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fl(this.firestore,e,this._query)}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hf(t,fr._jsonSchema))return new fr(e,r||null,new kt(di.fromString(t.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:hr("string",fr._jsonSchemaVersion),referencePath:hr("string")};class Eu extends Fl{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new kt(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function lr(n,e,...t){if(n=ho(n),Lx("collection","path",e),n instanceof i1){const r=di.fromString(e,...t);return Iy(r),new Eu(n,null,r)}{if(!(n instanceof fr||n instanceof Eu))throw new at(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return Iy(r),new Eu(n.firestore,null,r)}}function Ra(n,e,...t){if(n=ho(n),arguments.length===1&&(e=X0.newId()),Lx("doc","path",e),n instanceof i1){const r=di.fromString(e,...t);return Ny(r),new fr(n,null,new kt(r))}{if(!(n instanceof fr||n instanceof Eu))throw new at(Ye.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return Ny(r),new fr(n.firestore,n instanceof Eu?n.converter:null,new kt(r))}}const yv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A_(this,"async_queue_retry"),this._c=()=>{const r=Dg();r&&ct(yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Au;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Th(e))throw e;ct(yv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ol("INTERNAL UNHANDLED ERROR: ",bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ym.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function bv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class uc extends i1{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new vv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function p8(n,e){const t=typeof n=="object"?n:_x(),r=typeof n=="string"?n:_p,s=yx(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=lx("firestore");o&&d8(s,...o)}return s}function wm(n){if(n._terminated)throw new at(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||g8(n),n._firestoreClient}function g8(n){const e=n._freezeSettings(),t=f8(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new a8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(ra.fromBase64String(e))}catch(t){throw new at(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(ra.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hf(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:hr("string",Ps._jsonSchemaVersion),bytes:hr("string")};class Sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Am{constructor(e){this._methodName=e}}class Wo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(Hf(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:hr("string",Wo._jsonSchemaVersion),latitude:hr("number"),longitude:hr("number")};class co{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hf(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new co(e.vectorValues);throw new at(Ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:hr("string",co._jsonSchemaVersion),vectorValues:hr("object")};const m8=/^__.*__$/;class y8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gf(e,this.data,t,this.fieldTransforms)}}class W_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{dataSource:n})}}class Em{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($_(this.dataSource)&&m8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class v8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||e1(e)}createContext(e,t,r,s=!1){return new Em({dataSource:e,methodName:t,targetDoc:r,path:ia.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(n){const e=n._freezeSettings(),t=e1(n._databaseId);return new v8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function b8(n,e,t,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);Cm("Data must be an object, but it was:",c,r);const h=K_(r,c);let f,d;if(o.merge)f=new ms(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const C=cc(e,A,t);if(!c.contains(C))throw new at(Ye.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Z_(v,C)||v.push(C)}f=new ms(v),d=c.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=c.fieldTransforms;return new y8(new Ja(h),f,d)}class r1 extends Am{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r1}}function x8(n,e,t,r){const s=n.createContext(1,e,t);Cm("Data must be an object, but it was:",s,r);const o=[],c=Ja.empty();ku(r,((f,d)=>{const v=X_(e,f,t);d=ho(d);const A=s.childContextForFieldPath(v);if(d instanceof r1)o.push(v);else{const C=Kf(d,A);C!=null&&(o.push(v),c.set(v,C))}}));const h=new ms(o);return new W_(c,h,s.fieldTransforms)}function _8(n,e,t,r,s,o){const c=n.createContext(1,e,t),h=[cc(e,r,t)],f=[s];if(o.length%2!=0)throw new at(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)h.push(cc(e,o[C])),f.push(o[C+1]);const d=[],v=Ja.empty();for(let C=h.length-1;C>=0;--C)if(!Z_(d,h[C])){const _=h[C];let P=f[C];P=ho(P);const q=c.childContextForFieldPath(_);if(P instanceof r1)d.push(_);else{const U=Kf(P,q);U!=null&&(d.push(_),v.set(_,U))}}const A=new ms(d);return new W_(v,A,c.fieldTransforms)}function w8(n,e,t,r=!1){return Kf(t,n.createContext(r?4:3,e))}function Kf(n,e){if(Q_(n=ho(n)))return Cm("Unsupported field value:",e,n),K_(n,e);if(n instanceof Am)return(function(r,s){if(!$_(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const h of r){let f=Kf(h,s.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=ho(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bi.fromDate(r);return{timestampValue:Cp(s.serializer,o)}}if(r instanceof bi){const o=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cp(s.serializer,o)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ps)return{bytesValue:f_(s.serializer,r._byteString)};if(r instanceof fr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof co)return(function(c,h){const f=c instanceof co?c.toArray():c;return{mapValue:{fields:{[Vx]:{stringValue:Ux},[wp]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return rm(h.serializer,v)}))}}}}}})(r,s);if(b_(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Gp(r)}`)})(n,e)}function K_(n,e){const t={};return Mx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(n,((r,s)=>{const o=Kf(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Q_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Wo||n instanceof Ps||n instanceof fr||n instanceof Am||n instanceof co||b_(n))}function Cm(n,e,t){if(!Q_(t)||!Dx(t)){const r=Gp(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function cc(n,e,t){if((e=ho(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return X_(n,e);throw jp("Field path arguments must be of type string or ",n,!1,void 0,t)}const S8=new RegExp("[~\\*/\\[\\]]");function X_(n,e,t){if(e.search(S8)>=0)throw jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sm(...e.split("."))._internalPath}catch{throw jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jp(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new at(Ye.INVALID_ARGUMENT,h+n+f)}function Z_(n,e){return n.some((t=>t.isEqual(e)))}class A8{convertValue(e,t="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Iu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ku(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[wp].arrayValue?.values?.map((r=>Qi(r.doubleValue)));return new co(t)}convertGeoPoint(e){return new Wo(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$p(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mf(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=di.fromString(e);Yn(v_(r),9688,{name:e});const s=new Of(r.get(1),r.get(3)),o=new kt(r.popFirst(5));return s.isEqual(t)||Ol(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Nm extends A8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}const xv="@firebase/firestore",_v="4.11.0";function wv(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class J_{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(cc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E8 extends J_{data(){return super.data()}}function e4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new at(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class Rm extends Im{}function El(n,e,...t){let r=[];e instanceof Im&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof jm)).length,h=o.filter((f=>f instanceof a1)).length;if(c>1||c>0&&h>0)throw new at(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class a1 extends Rm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new a1(e,t,r)}_apply(e){const t=this._parse(e);return t4(e._query,t),new Fl(e.firestore,e.converter,x0(e._query,t))}_parse(e){const t=Tm(e.firestore);return(function(o,c,h,f,d,v,A){let C;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new at(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Tv(A,v);const P=[];for(const q of A)P.push(Ev(f,o,q));C={arrayValue:{values:P}}}else C=Ev(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Tv(A,v),C=w8(h,c,A,v==="in"||v==="not-in");return cr.create(d,v,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sv(n,e,t){const r=e,s=cc("where",n);return a1._create(s,r,t)}class jm extends Im{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:fo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const h=o.getFlattenedFilters();for(const f of h)t4(c,f),c=x0(c,f)})(e._query,t),new Fl(e.firestore,e.converter,x0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lm extends Rm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lm(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new at(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new at(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zf(o,c)})(e._query,this._field,this._direction);return new Fl(e.firestore,e.converter,QA(e._query,t))}}function Zc(n,e="asc"){const t=e,r=cc("orderBy",n);return Lm._create(r,t)}class Dm extends Rm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Dm(e,t,r)}_apply(e){return new Fl(e.firestore,e.converter,Ap(e._query,this._limit,this._limitType))}}function Av(n){return Dm._create("limit",n,"F")}function Ev(n,e,t){if(typeof(t=ho(t))=="string"){if(t==="")throw new at(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qx(e)&&t.indexOf("/")!==-1)throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(di.fromString(t));if(!kt.isDocumentKey(r))throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Py(n,new kt(r))}if(t instanceof fr)return Py(n,t._key);throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(t)}.`)}function Tv(n,e){if(!Array.isArray(n)||n.length===0)throw new at(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t4(n,e){const t=(function(s,o){for(const c of s)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new at(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function T8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends J_{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ic._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ic._jsonSchemaVersion="firestore/documentSnapshot/1.0",ic._jsonSchema={type:hr("string",ic._jsonSchemaVersion),bundleSource:hr("string","DocumentSnapshot"),bundleName:hr("string"),bundle:hr("string")};class cp extends ic{data(e={}){return super.data(e)}}class rc{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new wf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new cp(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const f=new cp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new wf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new cp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new wf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,v=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:C8(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:n})}}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:hr("string",rc._jsonSchemaVersion),bundleSource:hr("string","QuerySnapshot"),bundleName:hr("string"),bundle:hr("string")};function Mg(n){n=Ho(n,Fl);const e=Ho(n.firestore,uc),t=wm(e),r=new Nm(e);return e4(n._query),u8(t,n._query).then((s=>new rc(e,r,n,s)))}function Tl(n,e,t,...r){n=Ho(n,fr);const s=Ho(n.firestore,uc),o=Tm(s);let c;return c=typeof(e=ho(e))=="string"||e instanceof Sm?_8(o,"updateDoc",n._key,e,t,r):x8(o,"updateDoc",n._key,e),km(s,[c.toMutation(n._key,uo.exists(!0))])}function mf(n){return km(Ho(n.firestore,uc),[new am(n._key,uo.none())])}function Cl(n,e){const t=Ho(n.firestore,uc),r=Ra(n),s=T8(n.converter,e),o=Tm(n.firestore);return km(t,[b8(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,uo.exists(!1))]).then((()=>r))}function gu(n,...e){n=ho(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wv(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(wv(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof fr)c=Ho(n.firestore,uc),h=im(n._key.path),o={next:d=>{e[r]&&e[r](N8(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Ho(n,Fl);c=Ho(d.firestore,uc),h=d._query;const v=new Nm(c);o={next:A=>{e[r]&&e[r](new rc(c,v,d,A))},error:e[r+1],complete:e[r+2]},e4(n._query)}const f=wm(c);return l8(f,h,s,o)}function km(n,e){const t=wm(n);return c8(t,e)}function N8(n,e,t){const r=t.docs.get(e._key),s=new Nm(n);return new ic(n,s,e._key,r,new wf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){cA(bx),Lf(new mh("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new uc(new dA(r.getProvider("auth-internal")),new mA(c,r.getProvider("app-check-internal")),DA(c,s),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),wu(xv,_v,e),wu(xv,_v,"esm2020")})();const n4="firebasestorage.googleapis.com",I8="storageBucket",R8=120*1e3,j8=600*1e3;class Xo extends dc{constructor(e,t,r=0){super(Og(e),`Firebase Storage: ${t} (${Og(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qo||(Qo={}));function Og(n){return"storage/"+n}function L8(){const n="An unknown error occurred, please check the error payload for server response.";return new Xo(Qo.UNKNOWN,n)}function D8(){return new Xo(Qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k8(){return new Xo(Qo.CANCELED,"User canceled the upload/download.")}function M8(n){return new Xo(Qo.INVALID_URL,"Invalid URL '"+n+"'.")}function O8(n){return new Xo(Qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Cv(n){return new Xo(Qo.INVALID_ARGUMENT,n)}function i4(){return new Xo(Qo.APP_DELETED,"The Firebase app was deleted.")}function P8(n){return new Xo(Qo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=lo.makeFromUrl(e,t)}catch{return new lo(e,"")}if(r.path==="")return r;throw O8(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function d(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${v}/b/${s}/o${C}`,"i"),P={bucket:1,path:3},q=t===n4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",F=new RegExp(`^https?://${q}/${s}/${U}`,"i"),K=[{regex:h,indices:f,postModify:o},{regex:_,indices:P,postModify:d},{regex:F,indices:{bucket:1,path:2},postModify:d}];for(let ae=0;ae<K.length;ae++){const Se=K[ae],Ne=Se.regex.exec(e);if(Ne){const $=Ne[Se.indices.bucket];let M=Ne[Se.indices.path];M||(M=""),r=new lo($,M),Se.postModify(r);break}}if(r==null)throw M8(e);return r}}class z8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function F8(n,e,t){let r=1,s=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function v(...U){d||(d=!0,e.apply(null,U))}function A(U){s=setTimeout(()=>{s=null,n(_,f())},U)}function C(){o&&clearTimeout(o)}function _(U,...F){if(d){C();return}if(U){C(),v.call(null,U,...F);return}if(f()||c){C(),v.call(null,U,...F);return}r<64&&(r*=2);let K;h===1?(h=2,K=0):K=(r+Math.random())*1e3,A(K)}let P=!1;function q(U){P||(P=!0,C(),!d&&(s!==null?(U||(h=2),clearTimeout(s),A(0)):U||(h=1)))}return A(0),o=setTimeout(()=>{c=!0,q(!0)},t),q}function B8(n){n(!1)}function V8(n){return n!==void 0}function Nv(n,e,t,r){if(r<e)throw Cv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Cv(`Invalid value for '${n}'. Expected ${t} or less.`)}function U8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Lp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Lp||(Lp={}));function q8(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class H8{constructor(e,t,r,s,o,c,h,f,d,v,A,C=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=A,this.retry=C,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,q)=>{this.resolve_=P,this.reject_=q,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new $d(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Lp.NO_ERROR,f=o.getStatus();if(!h||q8(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Lp.ABORT;r(!1,new $d(!1,null,v));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new $d(d,o))})},t=(r,s)=>{const o=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());V8(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=L8();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(s.canceled){const f=this.appDelete_?i4():k8();c(f)}else{const f=D8();c(f)}};this.canceled_?t(!1,new $d(!1,null,!0)):this.backoffId_=F8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function G8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Y8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function $8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function K8(n,e,t,r,s,o,c=!0,h=!1){const f=U8(n.urlParams),d=n.url+f,v=Object.assign({},n.headers);return W8(v,e),G8(v,t),Y8(v,o),$8(v,r),new H8(d,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,h)}function Q8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function X8(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Dp{constructor(e,t){this._service=e,t instanceof lo?this._location=t:this._location=lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dp(e,t)}get root(){const e=new lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X8(this._location.path)}get storage(){return this._service}get parent(){const e=Q8(this._location.path);if(e===null)return null;const t=new lo(this._location.bucket,e);return new Dp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw P8(e)}}function Iv(n,e){const t=e?.[I8];return t==null?null:lo.makeFromBucketSpec(t,n)}function Z8(n,e,t,r={}){n.host=`${e}:${t}`;const s=Hp(e);s&&(cx(`https://${n.host}/b`),fx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:hx(o,n.app.options.projectId))}class J8{constructor(e,t,r,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=n4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R8,this._maxUploadRetryTime=j8,this._requests=new Set,s!=null?this._bucket=lo.makeFromBucketSpec(s,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lo.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(vx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dp(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new z8(i4());{const c=K8(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Rv="@firebase/storage",jv="0.14.0";const r4="storage";function eT(n=_x(),e){n=ho(n);const r=yx(n,r4).getImmediate({identifier:e}),s=lx("storage");return s&&tT(r,...s),r}function tT(n,e,t,r={}){Z8(n,e,t,r)}function nT(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new J8(t,r,s,e,bx)}function iT(){Lf(new mh(r4,nT,"PUBLIC").setMultipleInstances(!0)),wu(Rv,jv,""),wu(Rv,jv,"esm2020")}iT();var rT="firebase",aT="12.9.0";wu(rT,aT,"app");const sT={apiKey:"AIzaSyAqBIlDzqQdz-GxVGpsL1maWnnTwusleww",authDomain:"sistema-tickets-766f4.firebaseapp.com",projectId:"sistema-tickets-766f4",storageBucket:"sistema-tickets-766f4.firebasestorage.app",messagingSenderId:"1008656923219",appId:"1:1008656923219:web:66eccb70aedd284f3aa4a6"},a4=xx(sT),In=p8(a4);eT(a4);const Rn={USERS:"users",TICKETS:"tickets",COMPUTERS:"computers",INDICATORS:"indicators",SGI_PROCESSES:"sgi_processes",SGI_EVIDENCE:"sgi_evidence",SGI_INDICATOR_TYPES:"sgi_indicator_types",VISITS:"visits"},Vt={uploadFile:async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=s=>t(s)}),initializeDefaults:async()=>{try{console.log("Firebase: Verificando datos iniciales...");const n=El(lr(In,Rn.USERS),Av(1));if((await Mg(n)).empty){console.log("Firebase: Base de datos vaca. Creando usuarios por defecto...");const t=[{username:"alejandro",password:"lucy931205",role:"admin",name:"Alejandro",email:"admin@elspecandina.com"},{username:"user",password:"user",role:"engineer",name:"Usuario Soporte",email:"soporte@elspecandina.com"}];for(const r of t)await Cl(lr(In,Rn.USERS),{...r,createdAt:new Date().toISOString()});return console.log("Firebase: Usuarios iniciales creados."),!0}return!1}catch(n){return console.error("Firebase Initialization Error:",n),!1}},loginUser:async(n,e)=>{try{const t=(n||"").toLowerCase().trim(),r=El(lr(In,Rn.USERS),Sv("username","==",t),Av(1)),s=await Mg(r);if(!s.empty){const o=s.docs[0],c=o.data();if(c.password===e)return{id:o.id,...c}}return null}catch(t){return console.error("Login Error:",t),null}},getUsers:async()=>(await Mg(lr(In,Rn.USERS))).docs.map(e=>({id:e.id,...e.data()})),subscribeUsers:n=>{try{return console.log("Firebase: Iniciando suscripcin de usuarios..."),gu(lr(In,Rn.USERS),e=>{console.log("Firebase: Usuarios actualizados");const t=e.docs.map(r=>({id:r.id,...r.data()}));n(t)},e=>{console.error("Firebase Error (Usuarios):",e),alert("Error de conexin con la base de datos (Usuarios). Verifique su conexin.")})}catch(e){return console.error("Critical Firebase Error:",e),()=>{}}},addUser:async n=>({id:(await Cl(lr(In,Rn.USERS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateUser:async(n,e)=>{const t=Ra(In,Rn.USERS,n);await Tl(t,e)},deleteUser:async n=>{const e=Ra(In,Rn.USERS,n);await mf(e)},subscribeTickets:n=>{try{console.log("Firebase: Iniciando suscripcin de tickets...");const e=El(lr(In,Rn.TICKETS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Tickets actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Tickets):",t)})}catch(e){return console.error("Critical Firebase Error (Tickets):",e),()=>{}}},addTicket:async n=>({id:(await Cl(lr(In,Rn.TICKETS),{...n,status:"open",deleted:!1,createdAt:new Date().toISOString()})).id,...n}),updateTicket:async(n,e)=>{const t=Ra(In,Rn.TICKETS,n);await Tl(t,e)},deleteTicket:async n=>{const e=Ra(In,Rn.TICKETS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeComputers:n=>{try{console.log("Firebase: Iniciando suscripcin de computadores...");const e=El(lr(In,Rn.COMPUTERS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Computadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Computers):",t)})}catch(e){return console.error("Critical Firebase Error (Computers):",e),()=>{}}},addComputer:async n=>({id:(await Cl(lr(In,Rn.COMPUTERS),{...n,deleted:!1,createdAt:new Date().toISOString(),maintenanceLog:[]})).id,...n}),updateComputer:async(n,e)=>{const t=Ra(In,Rn.COMPUTERS,n);await Tl(t,e)},deleteComputer:async n=>{const e=Ra(In,Rn.COMPUTERS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeIndicators:n=>{try{console.log("Firebase: Iniciando suscripcin de indicadores...");const e=El(lr(In,Rn.INDICATORS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Indicadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Indicators):",t)})}catch(e){return console.error("Critical Firebase Error (Indicators):",e),()=>{}}},addIndicator:async n=>({id:(await Cl(lr(In,Rn.INDICATORS),{...n,deleted:!1,createdAt:new Date().toISOString()})).id,...n}),deleteIndicator:async n=>{const e=Ra(In,Rn.INDICATORS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeSGIProcesses:n=>{try{console.log("Firebase: Suscribiendo a procesos SGI...");const e=El(lr(In,Rn.SGI_PROCESSES),Zc("name"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)},t=>console.error("Firebase Error (SGI Processes):",t))}catch(e){return console.error("Critical Firebase Error (SGI Processes):",e),()=>{}}},addSGIProcess:async n=>({id:(await Cl(lr(In,Rn.SGI_PROCESSES),{...n,createdAt:new Date().toISOString()})).id,...n}),updateSGIProcess:async(n,e)=>{const t=Ra(In,Rn.SGI_PROCESSES,n);await Tl(t,e)},deleteSGIProcess:async n=>{const e=Ra(In,Rn.SGI_PROCESSES,n);await mf(e)},subscribeSGIIndicatorTypes:n=>{const e=El(lr(In,Rn.SGI_INDICATOR_TYPES),Zc("name"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)})},addSGIIndicatorType:async n=>({id:(await Cl(lr(In,Rn.SGI_INDICATOR_TYPES),{...n,createdAt:new Date().toISOString()})).id,...n}),deleteSGIIndicatorType:async n=>{const e=Ra(In,Rn.SGI_INDICATOR_TYPES,n);await mf(e)},submitSGIEvidence:async n=>({id:(await Cl(lr(In,Rn.SGI_EVIDENCE),{...n,timestamp:new Date().toISOString()})).id,...n}),deleteSGIEvidence:async n=>{const e=Ra(In,Rn.SGI_EVIDENCE,n);await mf(e)},updateSGIEvidence:async(n,e)=>{const t=Ra(In,Rn.SGI_EVIDENCE,n);await Tl(t,e)},subscribeSGIEvidence:(n,e)=>{const t=El(lr(In,Rn.SGI_EVIDENCE),Sv("processId","==",n));return gu(t,r=>{const o=r.docs.map(c=>({id:c.id,...c.data()})).sort((c,h)=>new Date(h.timestamp)-new Date(c.timestamp));e(o)})},getSession:()=>{try{const n=localStorage.getItem("app_logged_user");return n?JSON.parse(n):null}catch{return localStorage.removeItem("app_logged_user"),null}},setSession:n=>{localStorage.setItem("app_logged_user",JSON.stringify(n))},clearSession:()=>{localStorage.removeItem("app_logged_user")},getVisits:n=>{const e=El(lr(In,Rn.VISITS),Zc("date","asc"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)})},addVisit:async n=>({id:(await Cl(lr(In,Rn.VISITS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateVisit:async(n,e)=>{const t=Ra(In,Rn.VISITS,n);await Tl(t,e)},deleteVisit:async n=>{const e=Ra(In,Rn.VISITS,n);await mf(e)}},Ih=()=>{const[n,e]=Ze.useState(()=>Vt.getSession()),[t,r]=Ze.useState([]);return Ze.useEffect(()=>{const d=Vt.subscribeUsers(v=>{r(v)});return()=>{typeof d=="function"&&d()}},[]),{user:n,users:t,login:async(d,v)=>{const A=await Vt.loginUser(d,v);return A?(e(A),Vt.setSession(A),!0):!1},logout:()=>{e(null),Vt.clearSession()},addUser:d=>Vt.addUser(d),deleteUser:d=>Vt.deleteUser(d),updateUser:(d,v)=>Vt.updateUser(d,v),isAuthenticated:!!n}};const s4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const oT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Lv=n=>{const e=lT(n);return e.charAt(0).toUpperCase()+e.slice(1)};var uT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hT=Ze.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...h},f)=>Ze.createElement("svg",{ref:f,...uT,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:s4("lucide",s),...!o&&!cT(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,v])=>Ze.createElement(d,v)),...Array.isArray(o)?o:[o]]));const sn=(n,e)=>{const t=Ze.forwardRef(({className:r,...s},o)=>Ze.createElement(hT,{ref:o,iconNode:e,className:s4(`lucide-${oT(Lv(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Lv(n),t};const fT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kp=sn("activity",fT);const dT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wh=sn("calendar",dT);const pT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],o4=sn("camera",pT);const gT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Dv=sn("chart-pie",gT);const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],l4=sn("circle-alert",mT);const yT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uo=sn("circle-check-big",yT);const vT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Tu=sn("circle-plus",vT);const bT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mp=sn("circle-x",bT);const xT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Kd=sn("clipboard-list",xT);const _T=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dl=sn("clock",_T);const wT=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ST=sn("cpu",wT);const AT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nf=sn("download",AT);const ET=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TT=sn("eye-off",ET);const CT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NT=sn("eye",CT);const IT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zs=sn("file-text",IT);const RT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],u4=sn("funnel",RT);const jT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],LT=sn("house",jT);const DT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kT=sn("image",DT);const MT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OT=sn("layout-dashboard",MT);const PT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],zT=sn("log-in",PT);const FT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BT=sn("log-out",FT);const VT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],UT=sn("maximize",VT);const qT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],c4=sn("message-square",qT);const HT=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],GT=sn("minimize",HT);const YT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Vf=sn("monitor",YT);const WT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],j0=sn("paperclip",WT);const $T=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kv=sn("pencil",$T);const KT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mv=sn("plus",KT);const QT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XT=sn("refresh-cw",QT);const ZT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JT=sn("save",ZT);const eC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],L0=sn("search",eC);const tC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nC=sn("send",tC);const iC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rC=sn("shield-check",iC);const aC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sC=sn("shield",aC);const oC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$o=sn("square-pen",oC);const lC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qd=sn("star",lC);const uC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kl=sn("trash-2",uC);const cC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mm=sn("triangle-alert",cC);const hC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fC=sn("upload",hC);const dC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pC=sn("user-plus",dC);const gC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Om=sn("user",gC);const mC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ov=sn("users",mC);const yC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Op=sn("x",yC),vC=()=>{const[n,e]=Ze.useState(""),[t,r]=Ze.useState(""),[s,o]=Ze.useState(!1),[c,h]=Ze.useState(""),{login:f}=Ih();Ze.useEffect(()=>{Vt.initializeDefaults()},[]);const d=async v=>{v.preventDefault(),h("");try{await f(n,t)?window.location.reload():h("Usuario o contrasea incorrectos.")}catch(A){console.error(A),h("Error al iniciar sesin.")}};return g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"radial-gradient(circle at top right, rgba(0, 108, 224, 0.15), transparent 40%), radial-gradient(circle at bottom left, rgba(0, 108, 224, 0.1), transparent 40%)",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"50px 40px",width:"100%",maxWidth:"450px",border:"1px solid rgba(255,255,255,0.1)"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[g.jsx("div",{style:{background:"linear-gradient(135deg, var(--primary), #004da1)",width:"70px",height:"70px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",boxShadow:"0 10px 25px rgba(0, 108, 224, 0.3)"},children:g.jsx(rC,{color:"white",size:36})}),g.jsxs("h1",{style:{fontSize:"2rem",color:"white",fontWeight:800,letterSpacing:"-0.5px",marginBottom:"8px"},children:["ELSPEC ",g.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]}),g.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Mesa de Soporte Tcnico Especializado"})]}),g.jsxs("form",{onSubmit:d,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Usuario"}),g.jsx("input",{type:"text",value:n,onChange:v=>e(v.target.value),placeholder:"Ingrese su usuario",style:{padding:"14px 18px",fontSize:"1rem"},required:!0})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:"30px"},children:[g.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Contrasea"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx("input",{type:s?"text":"password",value:t,onChange:v=>r(v.target.value),placeholder:"Ingrese su contrasea",style:{padding:"14px 18px",fontSize:"1rem",paddingRight:"50px"},required:!0}),g.jsx("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",padding:"5px",color:"var(--text-muted)"},children:s?g.jsx(TT,{size:20}):g.jsx(NT,{size:20})})]})]}),c&&g.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"var(--danger)",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"20px",textAlign:"center"},children:c}),g.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:"1.1rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:["Acceder al Sistema ",g.jsx(zT,{size:20})]})]}),g.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"El sistema ahora sincroniza datos en tiempo real entre todos sus dispositivos."}),g.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"Para restablecer su contrasea, contacte al administrador del sistema."})]})})},bC=()=>{const[n,e]=Ze.useState([]);return Ze.useEffect(()=>{const o=Vt.subscribeTickets(c=>{e(c)});return()=>{typeof o=="function"&&o()}},[]),{tickets:n,addTicket:o=>Vt.addTicket(o),updateTicketStatus:(o,c,h={})=>Vt.updateTicket(o,{status:c,...h}),deleteTicket:o=>Vt.deleteTicket(o)}},Pm=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState(!0);Ze.useEffect(()=>{const f=Vt.subscribeComputers(d=>{e(d),r(!1)});return()=>{typeof f=="function"&&f()}},[]);const s=f=>Vt.addComputer(f),o=(f,d)=>Vt.updateComputer(f,d);return{computers:n,loading:t,addComputer:s,updateComputer:o,deleteComputer:f=>Vt.deleteComputer(f),addMaintenanceLog:(f,d)=>{const v=n.find(A=>A.id===f);if(v){const A=[...v.maintenanceLog||[],{...d,createdAt:new Date().toISOString()}];return o(f,{maintenanceLog:A})}}}},xC=()=>{const{addUser:n,deleteUser:e,updateUser:t}=Ih(),[r,s]=Ze.useState([]);Ze.useEffect(()=>{const C=Vt.subscribeUsers(s);return()=>C()},[]);const[o,c]=Ze.useState(null),[h,f]=Ze.useState({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1}),d=C=>{if(C.preventDefault(),o)t(o.id,h),c(null);else{if(r.some(_=>_.username===h.username)){alert("El nombre de usuario ya existe");return}n(h)}f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})},v=C=>{c(C),f({username:C.username,password:C.password,role:C.role,name:C.name,email:C.email,canManageAssets:C.canManageAssets||!1})},A=()=>{c(null),f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})};return g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("h3",{style:{marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:[o?g.jsx($o,{size:22,color:"var(--warning)"}):g.jsx(pC,{size:22,color:"var(--primary)"}),o?`Editando Usuario: ${o.username}`:"Registro de Nuevo Usuario"]}),g.jsx("form",{onSubmit:d,style:{marginBottom:"40px",paddingBottom:"30px",borderBottom:"1px solid var(--border-color)"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Nombre Completo"}),g.jsx("input",{type:"text",value:h.name,placeholder:"Juan Prez",onChange:C=>f({...h,name:C.target.value}),required:!0})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Correo Electrnico"}),g.jsx("input",{type:"email",value:h.email,placeholder:"juan@empresa.com",onChange:C=>f({...h,email:C.target.value}),required:!0})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Usuario"}),g.jsx("input",{type:"text",value:h.username,placeholder:"juanp",onChange:C=>f({...h,username:C.target.value}),required:!0,disabled:!!o})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Contrasea"}),g.jsx("input",{type:"text",value:h.password,onChange:C=>f({...h,password:C.target.value}),required:!0})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Rol"}),g.jsxs("select",{value:h.role,onChange:C=>f({...h,role:C.target.value}),children:[g.jsx("option",{value:"engineer",children:"Ingeniero / Soporte"}),g.jsx("option",{value:"admin",children:"Administrador / Gerencia"}),g.jsx("option",{value:"ventas",children:"Ventas"}),g.jsx("option",{value:"sgi",children:"SGI (Gestin)"}),g.jsx("option",{value:"logistica",children:"Logstica"}),g.jsx("option",{value:"operaciones",children:"Operaciones"})]})]}),g.jsx("div",{className:"input-group",style:{marginBottom:0,display:"flex",alignItems:"center",height:"48px"},children:g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:0},children:[g.jsx("input",{type:"checkbox",checked:h.canManageAssets,onChange:C=>f({...h,canManageAssets:C.target.checked}),style:{width:"20px",height:"20px"}}),"Gestor de Activos"]})}),g.jsxs("div",{style:{display:"flex",gap:"5px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{height:"48px",padding:"0 20px",background:o?"var(--warning)":"var(--primary)",flex:1},children:o?"Actualizar":"Registrar"}),o&&g.jsx("button",{type:"button",onClick:A,style:{height:"48px",padding:"0 15px",background:"rgba(255,255,255,0.05)"},children:g.jsx(Op,{size:20})})]})]})}),g.jsx("h3",{style:{marginBottom:"20px",fontSize:"1.1rem"},children:"Cuentas Existentes"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(C=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid var(--border-color)",opacity:o&&o.id===C.id?.6:1},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[g.jsx("div",{style:{background:C.role==="admin"?"rgba(245, 158, 11, 0.1)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px"},children:C.role==="admin"?g.jsx(sC,{size:20,color:"var(--warning)"}):g.jsx(Om,{size:20,color:"var(--text-muted)"})}),g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},children:[C.name||C.username,C.canManageAssets&&C.role!=="admin"&&g.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(0, 108, 224, 0.2)",color:"var(--primary)",padding:"2px 6px",borderRadius:"4px"},children:"Gestor Activos"})]}),g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["@",C.username,"  ",C.email,"  ",g.jsx("span",{style:{textTransform:"capitalize"},children:C.role})]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>v(C),style:{background:"rgba(52, 211, 153, 0.1)",color:"var(--success)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Editar Usuario",children:g.jsx($o,{size:18})}),C.username!=="admin"&&g.jsx("button",{onClick:()=>{confirm(`Eliminar al usuario ${C.username}?`)&&e(C.id)},style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Eliminar Usuario",children:g.jsx(kl,{size:18})})]})]},C.id))})]})},_C="modulepreload",wC=function(n){return"/"+n},Pv={},Pg=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=f(t.map(d=>{if(d=wC(d),d in Pv)return;Pv[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const C=document.createElement("link");if(C.rel=v?"stylesheet":_C,v||(C.as="script"),C.crossOrigin="",C.href=d,h&&C.setAttribute("nonce",h),document.head.appendChild(C),v)return new Promise((_,P)=>{C.addEventListener("load",_),C.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Zn(n){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(n)}var po=Uint8Array,ys=Uint16Array,zm=Int32Array,Fm=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bm=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zv=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h4=function(n,e){for(var t=new ys(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new zm(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},f4=h4(Fm,2),SC=f4.b,D0=f4.r;SC[28]=258,D0[258]=28;var AC=h4(Bm,0),Fv=AC.r,k0=new ys(32768);for(var xi=0;xi<32768;++xi){var mu=(xi&43690)>>1|(xi&21845)<<1;mu=(mu&52428)>>2|(mu&13107)<<2,mu=(mu&61680)>>4|(mu&3855)<<4,k0[xi]=((mu&65280)>>8|(mu&255)<<8)>>1}var If=(function(n,e,t){for(var r=n.length,s=0,o=new ys(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new ys(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var h;if(t){h=new ys(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],v=e-n[s],A=c[n[s]-1]++<<v,C=A|(1<<v)-1;A<=C;++A)h[k0[A]>>f]=d}else for(h=new ys(r),s=0;s<r;++s)n[s]&&(h[s]=k0[c[n[s]-1]++]>>15-n[s]);return h}),hc=new po(288);for(var xi=0;xi<144;++xi)hc[xi]=8;for(var xi=144;xi<256;++xi)hc[xi]=9;for(var xi=256;xi<280;++xi)hc[xi]=7;for(var xi=280;xi<288;++xi)hc[xi]=8;var Pp=new po(32);for(var xi=0;xi<32;++xi)Pp[xi]=5;var EC=If(hc,9,0),TC=If(Pp,5,0),d4=function(n){return(n+7)/8|0},CC=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new po(n.subarray(e,t))},Nl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},yf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},zg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:g4,l:0};if(s==1){var c=new po(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(Se,Ne){return Se.f-Ne.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],d=0,v=1,A=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=s-1;)h=t[t[d].f<t[A].f?d++:A++],f=t[d!=v&&t[d].f<t[A].f?d++:A++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var C=o[0].s,r=1;r<s;++r)o[r].s>C&&(C=o[r].s);var _=new ys(C+1),P=M0(t[v-1],_,0);if(P>e){var r=0,q=0,U=P-e,F=1<<U;for(o.sort(function(Ne,$){return _[$.s]-_[Ne.s]||Ne.f-$.f});r<s;++r){var ie=o[r].s;if(_[ie]>e)q+=F-(1<<P-_[ie]),_[ie]=e;else break}for(q>>=U;q>0;){var K=o[r].s;_[K]<e?q-=1<<e-_[K]++-1:++r}for(;r>=0&&q;--r){var ae=o[r].s;_[ae]==e&&(--_[ae],++q)}P=e}return{t:new po(_),l:P}},M0=function(n,e,t){return n.s==-1?Math.max(M0(n.l,e,t+1),M0(n.r,e,t+1)):e[n.s]=t},Bv=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ys(++e),r=0,s=n[0],o=1,c=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==s&&h!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[h]}return{c:t.subarray(0,r),n:e}},vf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},p4=function(n,e,t){var r=t.length,s=d4(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Vv=function(n,e,t,r,s,o,c,h,f,d,v){Nl(e,v++,t),++s[256];for(var A=zg(s,15),C=A.t,_=A.l,P=zg(o,15),q=P.t,U=P.l,F=Bv(C),ie=F.c,K=F.n,ae=Bv(q),Se=ae.c,Ne=ae.n,$=new ys(19),M=0;M<ie.length;++M)++$[ie[M]&31];for(var M=0;M<Se.length;++M)++$[Se[M]&31];for(var w=zg($,7),V=w.t,I=w.l,N=19;N>4&&!V[zv[N-1]];--N);var E=d+5<<3,X=vf(s,hc)+vf(o,Pp)+c,pe=vf(s,C)+vf(o,q)+c+14+3*N+vf($,V)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&E<=X&&E<=pe)return p4(e,v,n.subarray(f,f+d));var re,he,te,de;if(Nl(e,v,1+(pe<X)),v+=2,pe<X){re=If(C,_,0),he=C,te=If(q,U,0),de=q;var Re=If(V,I,0);Nl(e,v,K-257),Nl(e,v+5,Ne-1),Nl(e,v+10,N-4),v+=14;for(var M=0;M<N;++M)Nl(e,v+3*M,V[zv[M]]);v+=3*N;for(var J=[ie,Se],k=0;k<2;++k)for(var O=J[k],M=0;M<O.length;++M){var Y=O[M]&31;Nl(e,v,Re[Y]),v+=V[Y],Y>15&&(Nl(e,v,O[M]>>5&127),v+=O[M]>>12)}}else re=EC,he=hc,te=TC,de=Pp;for(var M=0;M<h;++M){var G=r[M];if(G>255){var Y=G>>18&31;yf(e,v,re[Y+257]),v+=he[Y+257],Y>7&&(Nl(e,v,G>>23&31),v+=Fm[Y]);var se=G&31;yf(e,v,te[se]),v+=de[se],se>3&&(yf(e,v,G>>5&8191),v+=Bm[se])}else yf(e,v,re[G]),v+=he[G]}return yf(e,v,re[256]),v+he[256]},NC=new zm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g4=new po(0),IC=function(n,e,t,r,s,o){var c=o.z||n.length,h=new po(r+c+5*(1+Math.ceil(c/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var A=NC[e-1],C=A>>13,_=A&8191,P=(1<<t)-1,q=o.p||new ys(32768),U=o.h||new ys(P+1),F=Math.ceil(t/3),ie=2*F,K=function(lt){return(n[lt]^n[lt+1]<<F^n[lt+2]<<ie)&P},ae=new zm(25e3),Se=new ys(288),Ne=new ys(32),$=0,M=0,w=o.i||0,V=0,I=o.w||0,N=0;w+2<c;++w){var E=K(w),X=w&32767,pe=U[E];if(q[X]=pe,U[E]=X,I<=w){var re=c-w;if(($>7e3||V>24576)&&(re>423||!d)){v=Vv(n,f,0,ae,Se,Ne,M,V,N,w-N,v),V=$=M=0,N=w;for(var he=0;he<286;++he)Se[he]=0;for(var he=0;he<30;++he)Ne[he]=0}var te=2,de=0,Re=_,J=X-pe&32767;if(re>2&&E==K(w-J))for(var k=Math.min(C,re)-1,O=Math.min(32767,w),Y=Math.min(258,re);J<=O&&--Re&&X!=pe;){if(n[w+te]==n[w+te-J]){for(var G=0;G<Y&&n[w+G]==n[w+G-J];++G);if(G>te){if(te=G,de=J,G>k)break;for(var se=Math.min(J,G-2),fe=0,he=0;he<se;++he){var _e=w-J+he&32767,ge=q[_e],Oe=_e-ge&32767;Oe>fe&&(fe=Oe,pe=_e)}}}X=pe,pe=q[X],J+=X-pe&32767}if(de){ae[V++]=268435456|D0[te]<<18|Fv[de];var ye=D0[te]&31,Qe=Fv[de]&31;M+=Fm[ye]+Bm[Qe],++Se[257+ye],++Ne[Qe],I=w+te,++$}else ae[V++]=n[w],++Se[n[w]]}}for(w=Math.max(w,I);w<c;++w)ae[V++]=n[w],++Se[n[w]];v=Vv(n,f,d,ae,Se,Ne,M,V,N,w-N,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=U,o.p=q,o.i=w,o.w=I)}else{for(var w=o.w||0;w<c+d;w+=65535){var et=w+65535;et>=c&&(f[v/8|0]=d,et=c),v=p4(f,v+1,n.subarray(w,et))}o.i=c}return CC(h,0,r+d4(v)+s)},m4=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},RC=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new po(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return IC(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},y4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},jC=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=m4();s.p(e.dictionary),y4(n,2,s.d())}};function O0(n,e){e||(e={});var t=m4();t.p(n);var r=RC(n,e,e.dictionary?6:2,4);return jC(r,e),y4(r,r.length-4,t.d()),r}var LC=typeof TextDecoder<"u"&&new TextDecoder,DC=0;try{LC.decode(g4,{stream:!0}),DC=1}catch{}function kC(n){if(Array.isArray(n))return n}function MC(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,h=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(v){d=!0,s=v}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function Uv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function OC(n,e){if(n){if(typeof n=="string")return Uv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Uv(n,e):void 0}}function PC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qv(n,e){return kC(n)||MC(n,e)||OC(n,e)||PC()}function Hv(n,e="utf8"){return new TextDecoder(e).decode(n)}const zC=new TextEncoder;function FC(n){return zC.encode(n)}const BC=1024*8,VC=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Fg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=BC,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof Vm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Fg[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===VC&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new Fg[t](h.buffer);return this.offset+=r,f.reverse(),f}const c=new Fg[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Hv(this.readBytes(e))}decodeText(e=1,t="utf8"){return Hv(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(FC(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rh(n){let e=n.length;for(;--e>=0;)n[e]=0}const UC=3,qC=258,v4=29,HC=256,GC=HC+1+v4,b4=30,YC=512,WC=new Array((GC+2)*2);Rh(WC);const $C=new Array(b4*2);Rh($C);const KC=new Array(YC);Rh(KC);const QC=new Array(qC-UC+1);Rh(QC);const XC=new Array(v4);Rh(XC);const ZC=new Array(b4);Rh(ZC);const JC=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var P0=JC;const eN=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},tN=new Uint32Array(eN()),nN=(n,e,t,r)=>{const s=tN,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var Fo=nN,z0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},x4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iN=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var rN=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)iN(t,r)&&(n[r]=t[r])}}return n},aN=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},_4={assign:rN,flattenChunks:aN};let w4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{w4=!1}const Uf=new Uint8Array(256);for(let n=0;n<256;n++)Uf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Uf[254]=Uf[254]=1;var sN=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,h=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,s=0;o<h;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const oN=(n,e)=>{if(e<65534&&n.subarray&&w4)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var lN=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let h=Uf[c];if(h>4){o[s++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<t;)c=c<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return oN(o,s)},uN=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Uf[n[t]]>e?t:e},F0={string2buf:sN,buf2string:lN,utf8border:uN};function cN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hN=cN;const Xd=16209,fN=16191;var dN=function(e,t){let r,s,o,c,h,f,d,v,A,C,_,P,q,U,F,ie,K,ae,Se,Ne,$,M,w,V;const I=e.state;r=e.next_in,w=e.input,s=r+(e.avail_in-5),o=e.next_out,V=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),f=I.dmax,d=I.wsize,v=I.whave,A=I.wnext,C=I.window,_=I.hold,P=I.bits,q=I.lencode,U=I.distcode,F=(1<<I.lenbits)-1,ie=(1<<I.distbits)-1;e:do{P<15&&(_+=w[r++]<<P,P+=8,_+=w[r++]<<P,P+=8),K=q[_&F];t:for(;;){if(ae=K>>>24,_>>>=ae,P-=ae,ae=K>>>16&255,ae===0)V[o++]=K&65535;else if(ae&16){Se=K&65535,ae&=15,ae&&(P<ae&&(_+=w[r++]<<P,P+=8),Se+=_&(1<<ae)-1,_>>>=ae,P-=ae),P<15&&(_+=w[r++]<<P,P+=8,_+=w[r++]<<P,P+=8),K=U[_&ie];n:for(;;){if(ae=K>>>24,_>>>=ae,P-=ae,ae=K>>>16&255,ae&16){if(Ne=K&65535,ae&=15,P<ae&&(_+=w[r++]<<P,P+=8,P<ae&&(_+=w[r++]<<P,P+=8)),Ne+=_&(1<<ae)-1,Ne>f){e.msg="invalid distance too far back",I.mode=Xd;break e}if(_>>>=ae,P-=ae,ae=o-c,Ne>ae){if(ae=Ne-ae,ae>v&&I.sane){e.msg="invalid distance too far back",I.mode=Xd;break e}if($=0,M=C,A===0){if($+=d-ae,ae<Se){Se-=ae;do V[o++]=C[$++];while(--ae);$=o-Ne,M=V}}else if(A<ae){if($+=d+A-ae,ae-=A,ae<Se){Se-=ae;do V[o++]=C[$++];while(--ae);if($=0,A<Se){ae=A,Se-=ae;do V[o++]=C[$++];while(--ae);$=o-Ne,M=V}}}else if($+=A-ae,ae<Se){Se-=ae;do V[o++]=C[$++];while(--ae);$=o-Ne,M=V}for(;Se>2;)V[o++]=M[$++],V[o++]=M[$++],V[o++]=M[$++],Se-=3;Se&&(V[o++]=M[$++],Se>1&&(V[o++]=M[$++]))}else{$=o-Ne;do V[o++]=V[$++],V[o++]=V[$++],V[o++]=V[$++],Se-=3;while(Se>2);Se&&(V[o++]=V[$++],Se>1&&(V[o++]=V[$++]))}}else if((ae&64)===0){K=U[(K&65535)+(_&(1<<ae)-1)];continue n}else{e.msg="invalid distance code",I.mode=Xd;break e}break}}else if((ae&64)===0){K=q[(K&65535)+(_&(1<<ae)-1)];continue t}else if(ae&32){I.mode=fN;break e}else{e.msg="invalid literal/length code",I.mode=Xd;break e}break}}while(r<s&&o<h);Se=P>>3,r-=Se,P-=Se<<3,_&=(1<<P)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<h?257+(h-o):257-(o-h),I.hold=_,I.bits=P};const Jc=15,Gv=852,Yv=592,Wv=0,Bg=1,$v=2,pN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vN=(n,e,t,r,s,o,c,h)=>{const f=h.bits;let d=0,v=0,A=0,C=0,_=0,P=0,q=0,U=0,F=0,ie=0,K,ae,Se,Ne,$,M=null,w;const V=new Uint16Array(Jc+1),I=new Uint16Array(Jc+1);let N=null,E,X,pe;for(d=0;d<=Jc;d++)V[d]=0;for(v=0;v<r;v++)V[e[t+v]]++;for(_=f,C=Jc;C>=1&&V[C]===0;C--);if(_>C&&(_=C),C===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<C&&V[A]===0;A++);for(_<A&&(_=A),U=1,d=1;d<=Jc;d++)if(U<<=1,U-=V[d],U<0)return-1;if(U>0&&(n===Wv||C!==1))return-1;for(I[1]=0,d=1;d<Jc;d++)I[d+1]=I[d]+V[d];for(v=0;v<r;v++)e[t+v]!==0&&(c[I[e[t+v]]++]=v);if(n===Wv?(M=N=c,w=20):n===Bg?(M=pN,N=gN,w=257):(M=mN,N=yN,w=0),ie=0,v=0,d=A,$=o,P=_,q=0,Se=-1,F=1<<_,Ne=F-1,n===Bg&&F>Gv||n===$v&&F>Yv)return 1;for(;;){E=d-q,c[v]+1<w?(X=0,pe=c[v]):c[v]>=w?(X=N[c[v]-w],pe=M[c[v]-w]):(X=96,pe=0),K=1<<d-q,ae=1<<P,A=ae;do ae-=K,s[$+(ie>>q)+ae]=E<<24|X<<16|pe|0;while(ae!==0);for(K=1<<d-1;ie&K;)K>>=1;if(K!==0?(ie&=K-1,ie+=K):ie=0,v++,--V[d]===0){if(d===C)break;d=e[t+c[v]]}if(d>_&&(ie&Ne)!==Se){for(q===0&&(q=_),$+=A,P=d-q,U=1<<P;P+q<C&&(U-=V[P+q],!(U<=0));)P++,U<<=1;if(F+=1<<P,n===Bg&&F>Gv||n===$v&&F>Yv)return 1;Se=ie&Ne,s[Se]=_<<24|P<<16|$-o|0}}return ie!==0&&(s[$+ie]=d-q<<24|64<<16|0),h.bits=_,0};var Rf=vN;const bN=0,S4=1,A4=2,{Z_FINISH:Kv,Z_BLOCK:xN,Z_TREES:Zd,Z_OK:fc,Z_STREAM_END:_N,Z_NEED_DICT:wN,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:E4,Z_MEM_ERROR:T4,Z_BUF_ERROR:SN,Z_DEFLATED:Qv}=x4,s1=16180,Xv=16181,Zv=16182,Jv=16183,eb=16184,tb=16185,nb=16186,ib=16187,rb=16188,ab=16189,zp=16190,Il=16191,Vg=16192,sb=16193,Ug=16194,ob=16195,lb=16196,ub=16197,cb=16198,Jd=16199,ep=16200,hb=16201,fb=16202,db=16203,pb=16204,gb=16205,qg=16206,mb=16207,yb=16208,Ci=16209,C4=16210,N4=16211,AN=852,EN=592,TN=15,CN=TN,vb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function NN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<s1||e.mode>N4?1:0},I4=n=>{if(mc(n))return Fs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=s1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(AN),e.distcode=e.distdyn=new Int32Array(EN),e.sane=1,e.back=-1,fc},R4=n=>{if(mc(n))return Fs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,I4(n)},j4=(n,e)=>{let t;if(mc(n))return Fs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,R4(n))},L4=(n,e)=>{if(!n)return Fs;const t=new NN;n.state=t,t.strm=n,t.window=null,t.mode=s1;const r=j4(n,e);return r!==fc&&(n.state=null),r},IN=n=>L4(n,CN);let bb=!0,Hg,Gg;const RN=n=>{if(bb){Hg=new Int32Array(512),Gg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Rf(S4,n.lens,0,288,Hg,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Rf(A4,n.lens,0,32,Gg,0,n.work,{bits:5}),bb=!1}n.lencode=Hg,n.lenbits=9,n.distcode=Gg,n.distbits=5},D4=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},jN=(n,e)=>{let t,r,s,o,c,h,f,d,v,A,C,_,P,q,U=0,F,ie,K,ae,Se,Ne,$,M;const w=new Uint8Array(4);let V,I;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mc(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;t=n.state,t.mode===Il&&(t.mode=Vg),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,A=h,C=f,M=fc;e:for(;;)switch(t.mode){case s1:if(t.wrap===0){t.mode=Vg;break}for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0),d=0,v=0,t.mode=Xv;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Ci;break}if((d&15)!==Qv){n.msg="unknown compression method",t.mode=Ci;break}if(d>>>=4,v-=4,$=(d&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Ci;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?ab:Il,d=0,v=0;break;case Xv:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.flags=d,(t.flags&255)!==Qv){n.msg="unknown compression method",t.mode=Ci;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ci;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=Zv;case Zv:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,w[2]=d>>>16&255,w[3]=d>>>24&255,t.check=Fo(t.check,w,4,0)),d=0,v=0,t.mode=Jv;case Jv:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=eb;case eb:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0}else t.head&&(t.head.extra=null);t.mode=tb;case tb:if(t.flags&1024&&(_=t.length,_>h&&(_=h),_&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),$)),t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=nb;case nb:if(t.flags&2048){if(h===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ib;case ib:if(t.flags&4096){if(h===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,$)break e}else t.head&&(t.head.comment=null);t.mode=rb;case rb:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ci;break}d=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Il;break;case ab:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}n.adler=t.check=vb(d),d=0,v=0,t.mode=zp;case zp:if(t.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,wN;n.adler=t.check=1,t.mode=Il;case Il:if(e===xN||e===Zd)break e;case Vg:if(t.last){d>>>=v&7,v-=v&7,t.mode=qg;break}for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}switch(t.last=d&1,d>>>=1,v-=1,d&3){case 0:t.mode=sb;break;case 1:if(RN(t),t.mode=Jd,e===Zd){d>>>=2,v-=2;break e}break;case 2:t.mode=lb;break;case 3:n.msg="invalid block type",t.mode=Ci}d>>>=2,v-=2;break;case sb:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ci;break}if(t.length=d&65535,d=0,v=0,t.mode=Ug,e===Zd)break e;case Ug:t.mode=ob;case ob:if(_=t.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break e;s.set(r.subarray(o,o+_),c),h-=_,o+=_,f-=_,c+=_,t.length-=_;break}t.mode=Il;break;case lb:for(;v<14;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.nlen=(d&31)+257,d>>>=5,v-=5,t.ndist=(d&31)+1,d>>>=5,v-=5,t.ncode=(d&15)+4,d>>>=4,v-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ci;break}t.have=0,t.mode=ub;case ub:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.lens[N[t.have++]]=d&7,d>>>=3,v-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},M=Rf(bN,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,M){n.msg="invalid code lengths set",t.mode=Ci;break}t.have=0,t.mode=cb;case cb:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[d&(1<<t.lenbits)-1],F=U>>>24,ie=U>>>16&255,K=U&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(K<16)d>>>=F,v-=F,t.lens[t.have++]=K;else{if(K===16){for(I=F+2;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(d>>>=F,v-=F,t.have===0){n.msg="invalid bit length repeat",t.mode=Ci;break}$=t.lens[t.have-1],_=3+(d&3),d>>>=2,v-=2}else if(K===17){for(I=F+3;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=F,v-=F,$=0,_=3+(d&7),d>>>=3,v-=3}else{for(I=F+7;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=F,v-=F,$=0,_=11+(d&127),d>>>=7,v-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ci;break}for(;_--;)t.lens[t.have++]=$}}if(t.mode===Ci)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ci;break}if(t.lenbits=9,V={bits:t.lenbits},M=Rf(S4,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,M){n.msg="invalid literal/lengths set",t.mode=Ci;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},M=Rf(A4,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,M){n.msg="invalid distances set",t.mode=Ci;break}if(t.mode=Jd,e===Zd)break e;case Jd:t.mode=ep;case ep:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,dN(n,C),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,t.mode===Il&&(t.back=-1);break}for(t.back=0;U=t.lencode[d&(1<<t.lenbits)-1],F=U>>>24,ie=U>>>16&255,K=U&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ie&&(ie&240)===0){for(ae=F,Se=ie,Ne=K;U=t.lencode[Ne+((d&(1<<ae+Se)-1)>>ae)],F=U>>>24,ie=U>>>16&255,K=U&65535,!(ae+F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=ae,v-=ae,t.back+=ae}if(d>>>=F,v-=F,t.back+=F,t.length=K,ie===0){t.mode=gb;break}if(ie&32){t.back=-1,t.mode=Il;break}if(ie&64){n.msg="invalid literal/length code",t.mode=Ci;break}t.extra=ie&15,t.mode=hb;case hb:if(t.extra){for(I=t.extra;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=fb;case fb:for(;U=t.distcode[d&(1<<t.distbits)-1],F=U>>>24,ie=U>>>16&255,K=U&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((ie&240)===0){for(ae=F,Se=ie,Ne=K;U=t.distcode[Ne+((d&(1<<ae+Se)-1)>>ae)],F=U>>>24,ie=U>>>16&255,K=U&65535,!(ae+F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=ae,v-=ae,t.back+=ae}if(d>>>=F,v-=F,t.back+=F,ie&64){n.msg="invalid distance code",t.mode=Ci;break}t.offset=K,t.extra=ie&15,t.mode=db;case db:if(t.extra){for(I=t.extra;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ci;break}t.mode=pb;case pb:if(f===0)break e;if(_=C-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ci;break}_>t.wnext?(_-=t.wnext,P=t.wsize-_):P=t.wnext-_,_>t.length&&(_=t.length),q=t.window}else q=s,P=c-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do s[c++]=q[P++];while(--_);t.length===0&&(t.mode=ep);break;case gb:if(f===0)break e;s[c++]=t.length,f--,t.mode=ep;break;case qg:if(t.wrap){for(;v<32;){if(h===0)break e;h--,d|=r[o++]<<v,v+=8}if(C-=f,n.total_out+=C,t.total+=C,t.wrap&4&&C&&(n.adler=t.check=t.flags?Fo(t.check,s,C,c-C):P0(t.check,s,C,c-C)),C=f,t.wrap&4&&(t.flags?d:vb(d))!==t.check){n.msg="incorrect data check",t.mode=Ci;break}d=0,v=0}t.mode=mb;case mb:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ci;break}d=0,v=0}t.mode=yb;case yb:M=_N;break e;case Ci:M=E4;break e;case C4:return T4;case N4:default:return Fs}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,(t.wsize||C!==n.avail_out&&t.mode<Ci&&(t.mode<qg||e!==Kv))&&D4(n,n.output,n.next_out,C-n.avail_out),A-=n.avail_in,C-=n.avail_out,n.total_in+=A,n.total_out+=C,t.total+=C,t.wrap&4&&C&&(n.adler=t.check=t.flags?Fo(t.check,s,C,n.next_out-C):P0(t.check,s,C,n.next_out-C)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Il?128:0)+(t.mode===Jd||t.mode===Ug?256:0),(A===0&&C===0||e===Kv)&&M===fc&&(M=SN),M},LN=n=>{if(mc(n))return Fs;let e=n.state;return e.window&&(e.window=null),n.state=null,fc},DN=(n,e)=>{if(mc(n))return Fs;const t=n.state;return(t.wrap&2)===0?Fs:(t.head=e,e.done=!1,fc)},kN=(n,e)=>{const t=e.length;let r,s,o;return mc(n)||(r=n.state,r.wrap!==0&&r.mode!==zp)?Fs:r.mode===zp&&(s=1,s=P0(s,e,t,0),s!==r.check)?E4:(o=D4(n,e,t,t),o?(r.mode=C4,T4):(r.havedict=1,fc))};var MN=R4,ON=j4,PN=I4,zN=IN,FN=L4,BN=jN,VN=LN,UN=DN,qN=kN,HN="pako inflate (from Nodeca project)",Rl={inflateReset:MN,inflateReset2:ON,inflateResetKeep:PN,inflateInit:zN,inflateInit2:FN,inflate:BN,inflateEnd:VN,inflateGetHeader:UN,inflateSetDictionary:qN,inflateInfo:HN};function GN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YN=GN;const k4=Object.prototype.toString,{Z_NO_FLUSH:WN,Z_FINISH:$N,Z_OK:qf,Z_STREAM_END:Yg,Z_NEED_DICT:Wg,Z_STREAM_ERROR:KN,Z_DATA_ERROR:xb,Z_MEM_ERROR:QN}=x4;function Qf(n){this.options=_4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hN,this.strm.avail_out=0;let t=Rl.inflateInit2(this.strm,e.windowBits);if(t!==qf)throw new Error(z0[t]);if(this.header=new YN,Rl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=F0.string2buf(e.dictionary):k4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Rl.inflateSetDictionary(this.strm,e.dictionary),t!==qf)))throw new Error(z0[t])}Qf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?$N:WN,k4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Rl.inflate(t,c),o===Wg&&s&&(o=Rl.inflateSetDictionary(t,s),o===qf?o=Rl.inflate(t,c):o===xb&&(o=Wg));t.avail_in>0&&o===Yg&&t.state.wrap>0&&n[t.next_in]!==0;)Rl.inflateReset(t),o=Rl.inflate(t,c);switch(o){case KN:case xb:case Wg:case QN:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===Yg))if(this.options.to==="string"){let f=F0.utf8border(t.output,t.next_out),d=t.next_out-f,v=F0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===qf&&h===0)){if(o===Yg)return o=Rl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Qf.prototype.onData=function(n){this.chunks.push(n)};Qf.prototype.onEnd=function(n){n===qf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function XN(n,e){const t=new Qf(e);if(t.push(n),t.err)throw t.msg||z0[t.err];return t.result}var ZN=Qf,JN=XN,e7={Inflate:ZN,inflate:JN};const{Inflate:t7,inflate:n7}=e7;var _b=t7,i7=n7;const M4=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;M4[n]=e}const wb=4294967295;function r7(n,e,t){let r=n;for(let s=0;s<t;s++)r=M4[(r^e[s])&255]^r>>>8;return r}function a7(n,e){return(r7(wb,n,e)^wb)>>>0}function Sb(n,e,t){const r=n.readUint32(),s=a7(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function O4(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function P4(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function z4(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function F4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function B4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+s7(e[o-s],t[o],t[o-s])&255}}function s7(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function o7(n,e,t,r,s,o){switch(n){case 0:O4(e,t,s);break;case 1:P4(e,t,s,o);break;case 2:z4(e,t,r,s);break;case 3:F4(e,t,r,s,o);break;case 4:B4(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const l7=new Uint16Array([255]),u7=new Uint8Array(l7.buffer),c7=u7[0]===255;function h7(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*t*h);let d=0;for(let v=0;v<7;v++){const A=c[v],C=Math.ceil((t-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(C<=0||_<=0)continue;const P=C*h,q=new Uint8Array(P);for(let U=0;U<_;U++){const F=e[d++],ie=e.subarray(d,d+P);d+=P;const K=new Uint8Array(P);o7(F,ie,K,q,P,h),q.set(K);for(let ae=0;ae<C;ae++){const Se=A.x+ae*A.xStep,Ne=A.y+U*A.yStep;if(!(Se>=t||Ne>=r))for(let $=0;$<h;$++)f[(Ne*t+Se)*h+$]=K[ae*h+$]}}}if(o===16){const v=new Uint16Array(f.buffer);if(c7)for(let A=0;A<v.length;A++)v[A]=f7(v[A]);return v}else return f}function f7(n){return(n&255)<<8|n>>8&255}const d7=new Uint16Array([255]),p7=new Uint8Array(d7.buffer),g7=p7[0]===255,m7=new Uint8Array(0);function Ab(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*t),f=new Uint8Array(r*h);let d=m7,v=0,A,C;for(let _=0;_<r;_++){switch(A=e.subarray(v+1,v+1+h),C=f.subarray(_*h,(_+1)*h),e[v]){case 0:O4(A,C,h);break;case 1:P4(A,C,h,c);break;case 2:z4(A,C,d,h);break;case 3:F4(A,C,d,h,c);break;case 4:B4(A,C,d,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=C,v+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(g7)for(let P=0;P<_.length;P++)_[P]=y7(_[P]);return _}else return f}function y7(n){return(n&255)<<8|n>>8&255}const hp=Uint8Array.of(137,80,78,71,13,10,26,10);function Eb(n){if(!v7(n.readBytes(hp.length)))throw new Error("wrong PNG signature")}function v7(n){if(n.length<hp.length)return!1;for(let e=0;e<hp.length;e++)if(n[e]!==hp[e])return!1;return!0}const b7="tEXt",x7=0,V4=new TextDecoder("latin1");function _7(n){if(S7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const w7=/^[\u0000-\u00FF]*$/;function S7(n){if(!w7.test(n))throw new Error("invalid latin1 text")}function A7(n,e,t){const r=U4(e);n[r]=E7(e,t-r.length-1)}function U4(n){for(n.mark();n.readByte()!==x7;);const e=n.offset;n.reset();const t=V4.decode(n.readBytes(e-n.offset-1));return n.skip(1),_7(t),t}function E7(n,e){return V4.decode(n.readBytes(e))}const gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$g={UNKNOWN:-1,DEFLATE:0},Tb={UNKNOWN:-1,ADAPTIVE:0},Kg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},tp={NONE:0,BACKGROUND:1,PREVIOUS:2},Qg={SOURCE:0,OVER:1};class T7 extends Vm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new _b,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$g.UNKNOWN,this._filterMethod=Tb.UNKNOWN,this._interlaceMethod=Kg.UNKNOWN,this._colorType=gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Eb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Eb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case b7:A7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Sb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Sb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=C7(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case gs.GREYSCALE:r=1;break;case gs.TRUECOLOUR:r=3;break;case gs.INDEXED_COLOUR:r=1;break;case gs.GREYSCALE_ALPHA:r=2;break;case gs.TRUECOLOUR_ALPHA:r=4;break;case gs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==$g.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case gs.GREYSCALE:case gs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case gs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case gs.UNKNOWN:case gs.GREYSCALE_ALPHA:case gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=U4(this),r=this.readUint8();if(r!==$g.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:i7(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Ab({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case tp.NONE:break;case tp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case tp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,f=(o*t.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(t.blendOp){case Qg.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++)e.data[h+d]=t.data[f+d]}break;case Qg.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++){const v=t.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:t.data[f+d],C=Math.floor(v*A+(1-v)*e.data[h+d]);e.data[h+d]+=C}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Tb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Kg.NO_INTERLACE)this._png.data=Ab({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Kg.ADAM7)this._png.data=h7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:tp.NONE,blendOp:Qg.SOURCE,data:e}),this._inflator=new _b,this._writingDataChunks=!1}}function C7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Cb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Cb||(Cb={}));function N7(n,e){return new T7(n,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Xg(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var hi={log:Xg,warn:function(n){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):Xg.call(null,arguments))},error:function(n){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):Xg(n))}};function Zg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ec(r.response,e,t)},r.onerror=function(){hi.error("could not download file")},r.send()}function Nb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function np(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ec=Yt.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Yt.URL||Yt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Nb(s.href)?Zg(n,e,t):np(s,s.target="_blank"):np(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){np(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Nb(n))Zg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){np(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Zn(o)!=="object"&&(hi.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Zg(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Yt.URL||Yt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function q4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var fp=Yt.atob.bind(Yt),Ib=Yt.btoa.bind(Yt);function Jg(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=pa(t,r,s,o,e[0],7,-680876936),o=pa(o,t,r,s,e[1],12,-389564586),s=pa(s,o,t,r,e[2],17,606105819),r=pa(r,s,o,t,e[3],22,-1044525330),t=pa(t,r,s,o,e[4],7,-176418897),o=pa(o,t,r,s,e[5],12,1200080426),s=pa(s,o,t,r,e[6],17,-1473231341),r=pa(r,s,o,t,e[7],22,-45705983),t=pa(t,r,s,o,e[8],7,1770035416),o=pa(o,t,r,s,e[9],12,-1958414417),s=pa(s,o,t,r,e[10],17,-42063),r=pa(r,s,o,t,e[11],22,-1990404162),t=pa(t,r,s,o,e[12],7,1804603682),o=pa(o,t,r,s,e[13],12,-40341101),s=pa(s,o,t,r,e[14],17,-1502002290),t=ga(t,r=pa(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ga(o,t,r,s,e[6],9,-1069501632),s=ga(s,o,t,r,e[11],14,643717713),r=ga(r,s,o,t,e[0],20,-373897302),t=ga(t,r,s,o,e[5],5,-701558691),o=ga(o,t,r,s,e[10],9,38016083),s=ga(s,o,t,r,e[15],14,-660478335),r=ga(r,s,o,t,e[4],20,-405537848),t=ga(t,r,s,o,e[9],5,568446438),o=ga(o,t,r,s,e[14],9,-1019803690),s=ga(s,o,t,r,e[3],14,-187363961),r=ga(r,s,o,t,e[8],20,1163531501),t=ga(t,r,s,o,e[13],5,-1444681467),o=ga(o,t,r,s,e[2],9,-51403784),s=ga(s,o,t,r,e[7],14,1735328473),t=ma(t,r=ga(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ma(o,t,r,s,e[8],11,-2022574463),s=ma(s,o,t,r,e[11],16,1839030562),r=ma(r,s,o,t,e[14],23,-35309556),t=ma(t,r,s,o,e[1],4,-1530992060),o=ma(o,t,r,s,e[4],11,1272893353),s=ma(s,o,t,r,e[7],16,-155497632),r=ma(r,s,o,t,e[10],23,-1094730640),t=ma(t,r,s,o,e[13],4,681279174),o=ma(o,t,r,s,e[0],11,-358537222),s=ma(s,o,t,r,e[3],16,-722521979),r=ma(r,s,o,t,e[6],23,76029189),t=ma(t,r,s,o,e[9],4,-640364487),o=ma(o,t,r,s,e[12],11,-421815835),s=ma(s,o,t,r,e[15],16,530742520),t=ya(t,r=ma(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ya(o,t,r,s,e[7],10,1126891415),s=ya(s,o,t,r,e[14],15,-1416354905),r=ya(r,s,o,t,e[5],21,-57434055),t=ya(t,r,s,o,e[12],6,1700485571),o=ya(o,t,r,s,e[3],10,-1894986606),s=ya(s,o,t,r,e[10],15,-1051523),r=ya(r,s,o,t,e[1],21,-2054922799),t=ya(t,r,s,o,e[8],6,1873313359),o=ya(o,t,r,s,e[15],10,-30611744),s=ya(s,o,t,r,e[6],15,-1560198380),r=ya(r,s,o,t,e[13],21,1309151649),t=ya(t,r,s,o,e[4],6,-145523070),o=ya(o,t,r,s,e[11],10,-1120210379),s=ya(s,o,t,r,e[2],15,718787259),r=ya(r,s,o,t,e[9],21,-343485551),n[0]=bu(t,n[0]),n[1]=bu(r,n[1]),n[2]=bu(s,n[2]),n[3]=bu(o,n[3])}function o1(n,e,t,r,s,o){return e=bu(bu(e,n),bu(r,o)),bu(e<<s|e>>>32-s,t)}function pa(n,e,t,r,s,o,c){return o1(e&t|~e&r,n,e,s,o,c)}function ga(n,e,t,r,s,o,c){return o1(e&r|t&~r,n,e,s,o,c)}function ma(n,e,t,r,s,o,c){return o1(e^t^r,n,e,s,o,c)}function ya(n,e,t,r,s,o,c){return o1(t^(e|~r),n,e,s,o,c)}function H4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Jg(r,I7(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Jg(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Jg(r,s),r}function I7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Rb="0123456789abcdef".split("");function R7(n){for(var e="",t=0;t<4;t++)e+=Rb[n>>8*t+4&15]+Rb[n>>8*t&15];return e}function j7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function B0(n){return H4(n).map(j7).join("")}var L7=(function(n){for(var e=0;e<n.length;e++)n[e]=R7(n[e]);return n.join("")})(H4("hello"))!="5d41402abc4b2a76b9719d911017c592";function bu(n,e){if(L7){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function V0(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}t=n,r=h}else h=r;var A=e.length,C=0,_=0,P="";for(f=0;f<A;f++)_=(_+(v=h[C=(C+1)%256]))%256,h[C]=h[_],h[_]=v,c=h[(h[C]+h[_])%256],P+=String.fromCharCode(e.charCodeAt(f)^c);return P}var jb={print:4,modify:8,copy:16,"annot-forms":32};function sh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(jb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=jb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=B0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=V0(this.encryptionKey,this.padding)}function oh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Lb(n){if(Zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(h){Yt.console&&hi.error("jsPDF PubSub Error",h.message,h)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fp(n){if(!(this instanceof Fp))return new Fp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function G4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function tc(n,e,t,r,s){if(!(this instanceof tc))return new tc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,G4.call(this,r,s)}function lh(n,e,t,r,s){if(!(this instanceof lh))return new lh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,G4.call(this,r,s)}function yt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",v=null;Zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,C={},_={internal:{},__private__:{}};_.__private__.PubSub=Lb;var P="1.3",q=_.__private__.getPdfVersion=function(){return P};_.__private__.setPdfVersion=function(S){P=S};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return U};var F=_.__private__.getPageFormat=function(S){return U[S]};s=s||"a4";var ie="compat",K="advanced",ae=ie;function Se(){this.saveGraphicsState(),oe(new At(Ht,0,0,-Ht,0,Aa()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),d="n",ae=K}function Ne(){this.restoreGraphicsState(),d="S",ae=ie}var $=_.__private__.combineFontStyleAndFontWeight=function(S,z){if(S=="bold"&&z=="normal"||S=="bold"&&z==400||S=="normal"&&z=="italic"||S=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(S=z==400||z==="normal"?S==="italic"?"italic":"normal":z!=700&&z!=="bold"||S!=="normal"?(z==700?"bold":z)+""+S:"bold"),S};_.advancedAPI=function(S){var z=ae===ie;return z&&Se.call(this),typeof S!="function"||(S(this),z&&Ne.call(this)),this},_.compatAPI=function(S){var z=ae===K;return z&&Ne.call(this),typeof S!="function"||(S(this),z&&Se.call(this)),this},_.isAdvancedAPI=function(){return ae===K};var M,w=function(S){if(ae!==K)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=_.roundToPrecision=_.__private__.roundToPrecision=function(S,z){var ue=e||z;if(isNaN(S)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ue).replace(/0+$/,"")};M=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return V(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return V(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return V(S,16)};var I=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return V(S,2)},N=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return V(S,3)},E=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return ae===ie?S*Ht:ae===K?S:void 0},X=function(S){return E((function(z){return ae===ie?Aa()-z:ae===K?z:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var pe,re="00000000000000000000000000000000",he=_.__private__.getFileId=function(){return re},te=_.__private__.setFileId=function(S){return re=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(oi=new sh(v.userPermissions,v.userPassword,v.ownerPassword,re)),re};_.setFileId=function(S){return te(S),this},_.getFileId=function(){return he()};var de=_.__private__.convertDateToPDFDate=function(S){var z=S.getTimezoneOffset(),ue=z<0?"+":"-",ve=Math.floor(Math.abs(z/60)),Ae=Math.abs(z%60),Be=[ue,Y(ve),"'",Y(Ae),"'"].join("");return["D:",S.getFullYear(),Y(S.getMonth()+1),Y(S.getDate()),Y(S.getHours()),Y(S.getMinutes()),Y(S.getSeconds()),Be].join("")},Re=_.__private__.convertPDFDateToDate=function(S){var z=parseInt(S.substr(2,4),10),ue=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),Ae=parseInt(S.substr(10,2),10),Be=parseInt(S.substr(12,2),10),$e=parseInt(S.substr(14,2),10);return new Date(z,ue,ve,Ae,Be,$e,0)},J=_.__private__.setCreationDate=function(S){var z;if(S===void 0&&(S=new Date),S instanceof Date)z=de(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=S}return pe=z},k=_.__private__.getCreationDate=function(S){var z=pe;return S==="jsDate"&&(z=Re(pe)),z};_.setCreationDate=function(S){return J(S),this},_.getCreationDate=function(S){return k(S)};var O,Y=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},G=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},se=0,fe=[],_e=[],ge=0,Oe=[],ye=[],Qe=!1,et=_e;_.__private__.setCustomOutputDestination=function(S){Qe=!0,et=S};var lt=function(S){Qe||(et=S)};_.__private__.resetCustomOutputDestination=function(){Qe=!1,et=_e};var oe=_.__private__.out=function(S){return S=S.toString(),ge+=S.length+1,et.push(S),et},nt=_.__private__.write=function(S){return oe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Wt=_.__private__.getArrayBuffer=function(S){for(var z=S.length,ue=new ArrayBuffer(z),ve=new Uint8Array(ue);z--;)ve[z]=S.charCodeAt(z);return ue},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Tt};var qe=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return qe=ae===K?S/Ht:S,this};var rt,it=_.__private__.getFontSize=_.getFontSize=function(){return ae===ie?qe:qe*Ht},Nt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Nt=S,this},_.__private__.getR2L=_.getR2L=function(){return Nt};var _t,$t=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))rt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');rt=S}else rt=parseInt(S,10)};_.__private__.getZoomMode=function(){return rt};var Jt,Bt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_t=S};_.__private__.getPageMode=function(){return _t};var on=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Jt=S};_.__private__.getLayoutMode=function(){return Jt},_.__private__.setDisplayMode=_.setDisplayMode=function(S,z,ue){return $t(S),on(z),Bt(ue),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(Qt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[S]},_.__private__.getDocumentProperties=function(){return Qt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var z in Qt)Qt.hasOwnProperty(z)&&S[z]&&(Qt[z]=S[z]);return this},_.__private__.setDocumentProperty=function(S,z){if(Object.keys(Qt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[S]=z};var mt,Ht,vt,fi,Xt,Ct={},Pt={},Kt=[],St={},Ln={},Mt={},Ot={},Mn=null,wt=0,bt=[],ln=new Lb(_),dr=n.hotfixes||[],er={},ja={},Gi=[],At=function S(z,ue,ve,Ae,Be,$e){if(!(this instanceof S))return new S(z,ue,ve,Ae,Be,$e);isNaN(z)&&(z=1),isNaN(ue)&&(ue=0),isNaN(ve)&&(ve=0),isNaN(Ae)&&(Ae=1),isNaN(Be)&&(Be=0),isNaN($e)&&($e=0),this._matrix=[z,ue,ve,Ae,Be,$e]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(S)},At.prototype.multiply=function(S){var z=S.sx*this.sx+S.shy*this.shx,ue=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,Ae=S.shx*this.shy+S.sy*this.sy,Be=S.tx*this.sx+S.ty*this.shx+this.tx,$e=S.tx*this.shy+S.ty*this.sy+this.ty;return new At(z,ue,ve,Ae,Be,$e)},At.prototype.decompose=function(){var S=this.sx,z=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty,$e=Math.sqrt(S*S+z*z),ut=(S/=$e)*ue+(z/=$e)*ve;ue-=S*ut,ve-=z*ut;var dt=Math.sqrt(ue*ue+ve*ve);return ut/=dt,S*(ve/=dt)<z*(ue/=dt)&&(S=-S,z=-z,ut=-ut,$e=-$e),{scale:new At($e,0,0,dt,0,0),translate:new At(1,0,0,1,Ae,Be),rotate:new At(S,z,-z,S,0,0),skew:new At(1,0,ut,1,0,0)}},At.prototype.toString=function(S){return this.join(" ")},At.prototype.inversed=function(){var S=this.sx,z=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty,$e=1/(S*ve-z*ue),ut=ve*$e,dt=-z*$e,jt=-ue*$e,Et=S*$e;return new At(ut,dt,jt,Et,-ut*Ae-jt*Be,-dt*Ae-Et*Be)},At.prototype.applyToPoint=function(S){var z=S.x*this.sx+S.y*this.shx+this.tx,ue=S.x*this.shy+S.y*this.sy+this.ty;return new ir(z,ue)},At.prototype.applyToRectangle=function(S){var z=this.applyToPoint(S),ue=this.applyToPoint(new ir(S.x+S.w,S.y+S.h));return new Da(z.x,z.y,ue.x-z.x,ue.y-z.y)},At.prototype.clone=function(){var S=this.sx,z=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty;return new At(S,z,ue,ve,Ae,Be)},_.Matrix=At;var ts=_.matrixMult=function(S,z){return z.multiply(S)},Ur=new At(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ur;var Cr=function(S,z){if(!Ln[S]){var ue=(z instanceof tc?"Sh":"P")+(Object.keys(St).length+1).toString(10);z.id=ue,Ln[S]=ue,St[ue]=z,ln.publish("addPattern",z)}};_.ShadingPattern=tc,_.TilingPattern=lh,_.addShadingPattern=function(S,z){return w("addShadingPattern()"),Cr(S,z),this},_.beginTilingPattern=function(S){w("beginTilingPattern()"),ka(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,z){w("endTilingPattern()"),z.stream=ye[O].join(`
`),Cr(S,z),ln.publish("endTilingPattern",z),Gi.pop().restore()};var Nr,Hn=_.__private__.newObject=function(){var S=Jn();return Mi(S,!0),S},Jn=_.__private__.newObjectDeferred=function(){return se++,fe[se]=function(){return ge},se},Mi=function(S,z){return z=typeof z=="boolean"&&z,fe[S]=ge,z&&oe(S+" 0 obj"),S},pr=_.__private__.newAdditionalObject=function(){var S={objId:Jn(),content:""};return Oe.push(S),S},tr=Jn(),On=Jn(),Wn=_.__private__.decodeColorString=function(S){var z=S.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ue=parseFloat(z[0]);z=[ue,ue,ue,"r"]}for(var ve="#",Ae=0;Ae<3;Ae++)ve+=("0"+Math.floor(255*parseFloat(z[Ae])).toString(16)).slice(-2);return ve},Oi=_.__private__.encodeColorString=function(S){var z;typeof S=="string"&&(S={ch1:S});var ue=S.ch1,ve=S.ch2,Ae=S.ch3,Be=S.ch4,$e=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var ut=new q4(ue);if(ut.ok)ue=ut.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var dt=parseInt(ue.substr(1),16);ue=dt>>16&255,ve=dt>>8&255,Ae=255&dt}if(ve===void 0||Be===void 0&&ue===ve&&ve===Ae)z=typeof ue=="string"?ue+" "+$e[0]:S.precision===2?I(ue/255)+" "+$e[0]:N(ue/255)+" "+$e[0];else if(Be===void 0||Zn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",$e[1]].join(" ");z=typeof ue=="string"?[ue,ve,Ae,$e[1]].join(" "):S.precision===2?[I(ue/255),I(ve/255),I(Ae/255),$e[1]].join(" "):[N(ue/255),N(ve/255),N(Ae/255),$e[1]].join(" ")}else z=typeof ue=="string"?[ue,ve,Ae,Be,$e[2]].join(" "):S.precision===2?[I(ue),I(ve),I(Ae),I(Be),$e[2]].join(" "):[N(ue),N(ve),N(Ae),N(Be),$e[2]].join(" ");return z},Ir=_.__private__.getFilters=function(){return c},aa=_.__private__.putStream=function(S){var z=(S=S||{}).data||"",ue=S.filters||Ir(),ve=S.alreadyAppliedFilters||[],Ae=S.addLength1||!1,Be=z.length,$e=S.objectId,ut=function(R){return R};if(v!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ut=oi.encryptor($e,0));var dt={};ue===!0&&(ue=["FlateEncode"]);var jt=S.additionalKeyValues||[],Et=(dt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(z,ue):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(dt.data.length!==0&&(jt.push({key:"Length",value:dt.data.length}),Ae===!0&&jt.push({key:"Length1",value:Be})),Et.length!=0)if(Et.split("/").length-1==1)jt.push({key:"Filter",value:Et});else{jt.push({key:"Filter",value:"["+Et+"]"});for(var dn=0;dn<jt.length;dn+=1)if(jt[dn].key==="DecodeParms"){for(var ei=[],Gn=0;Gn<dt.reverseChain.split("/").length-1;Gn+=1)ei.push("null");ei.push(jt[dn].value),jt[dn].value="["+ei.join(" ")+"]"}}oe("<<");for(var m=0;m<jt.length;m++)oe("/"+jt[m].key+" "+jt[m].value);oe(">>"),dt.data.length!==0&&(oe("stream"),oe(ut(dt.data)),oe("endstream"))},vs=_.__private__.putPage=function(S){var z=S.number,ue=S.data,ve=S.objId,Ae=S.contentsObjId;Mi(ve,!0),oe("<</Type /Page"),oe("/Parent "+S.rootDictionaryObjId+" 0 R"),oe("/Resources "+S.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(M(S.mediaBox.bottomLeftX))+" "+parseFloat(M(S.mediaBox.bottomLeftY))+" "+M(S.mediaBox.topRightX)+" "+M(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&oe("/CropBox ["+M(S.cropBox.bottomLeftX)+" "+M(S.cropBox.bottomLeftY)+" "+M(S.cropBox.topRightX)+" "+M(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&oe("/BleedBox ["+M(S.bleedBox.bottomLeftX)+" "+M(S.bleedBox.bottomLeftY)+" "+M(S.bleedBox.topRightX)+" "+M(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&oe("/TrimBox ["+M(S.trimBox.bottomLeftX)+" "+M(S.trimBox.bottomLeftY)+" "+M(S.trimBox.topRightX)+" "+M(S.trimBox.topRightY)+"]"),S.artBox!==null&&oe("/ArtBox ["+M(S.artBox.bottomLeftX)+" "+M(S.artBox.bottomLeftY)+" "+M(S.artBox.topRightX)+" "+M(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&oe("/UserUnit "+S.userUnit),ln.publish("putPage",{objId:ve,pageContext:bt[z],pageNumber:z,page:ue}),oe("/Contents "+Ae+" 0 R"),oe(">>"),oe("endobj");var Be=ue.join(`
`);return ae===K&&(Be+=`
Q`),Mi(Ae,!0),aa({data:Be,filters:Ir(),objectId:Ae}),oe("endobj"),ve},xa=_.__private__.putPages=function(){var S,z,ue=[];for(S=1;S<=wt;S++)bt[S].objId=Jn(),bt[S].contentsObjId=Jn();for(S=1;S<=wt;S++)ue.push(vs({number:S,data:ye[S],objId:bt[S].objId,contentsObjId:bt[S].contentsObjId,mediaBox:bt[S].mediaBox,cropBox:bt[S].cropBox,bleedBox:bt[S].bleedBox,trimBox:bt[S].trimBox,artBox:bt[S].artBox,userUnit:bt[S].userUnit,rootDictionaryObjId:tr,resourceDictionaryObjId:On}));Mi(tr,!0),oe("<</Type /Pages");var ve="/Kids [";for(z=0;z<wt;z++)ve+=ue[z]+" 0 R ";oe(ve+"]"),oe("/Count "+wt),oe(">>"),oe("endobj"),ln.publish("postPutPages")},Rr=function(S){ln.publish("putFont",{font:S,out:oe,newObject:Hn,putStream:aa}),S.isAlreadyPutted!==!0&&(S.objectNumber=Hn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+oh(S.postScriptName)),oe("/Subtype /Type1"),typeof S.encoding=="string"&&oe("/Encoding /"+S.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ns=function(S){S.objectNumber=Hn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[M(S.x),M(S.y),M(S.x+S.width),M(S.y+S.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ue=S.pages[1].join(`
`);aa({data:ue,additionalKeyValues:z,objectId:S.objectNumber}),oe("endobj")},qr=function(S,z){z||(z=21);var ue=Hn(),ve=(function($e,ut){var dt,jt=[],Et=1/(ut-1);for(dt=0;dt<1;dt+=Et)jt.push(dt);if(jt.push(1),$e[0].offset!=0){var dn={offset:0,color:$e[0].color};$e.unshift(dn)}if($e[$e.length-1].offset!=1){var ei={offset:1,color:$e[$e.length-1].color};$e.push(ei)}for(var Gn="",m=0,R=0;R<jt.length;R++){for(dt=jt[R];dt>$e[m+1].offset;)m++;var D=$e[m].offset,ee=(dt-D)/($e[m+1].offset-D),Te=$e[m].color,ke=$e[m+1].color;Gn+=G(Math.round((1-ee)*Te[0]+ee*ke[0]).toString(16))+G(Math.round((1-ee)*Te[1]+ee*ke[1]).toString(16))+G(Math.round((1-ee)*Te[2]+ee*ke[2]).toString(16))}return Gn.trim()})(S.colors,z),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+z+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),aa({data:ve,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),oe("endobj"),S.objectNumber=Hn(),oe("<< /ShadingType "+S.type),oe("/ColorSpace /DeviceRGB");var Be="/Coords ["+M(parseFloat(S.coords[0]))+" "+M(parseFloat(S.coords[1]))+" ";S.type===2?Be+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3])):Be+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3]))+" "+M(parseFloat(S.coords[4]))+" "+M(parseFloat(S.coords[5])),oe(Be+="]"),S.matrix&&oe("/Matrix ["+S.matrix.toString()+"]"),oe("/Function "+ue+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},gr=function(S,z){var ue=Jn(),ve=Hn();z.push({resourcesOid:ue,objectOid:ve}),S.objectNumber=ve;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+S.boundingBox.map(M).join(" ")+"]"}),Ae.push({key:"XStep",value:M(S.xStep)}),Ae.push({key:"YStep",value:M(S.yStep)}),Ae.push({key:"Resources",value:ue+" 0 R"}),S.matrix&&Ae.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),aa({data:S.stream,additionalKeyValues:Ae,objectId:S.objectNumber}),oe("endobj")},Hr=function(S){for(var z in S.objectNumber=Hn(),oe("<<"),S)switch(z){case"opacity":oe("/ca "+I(S[z]));break;case"stroke-opacity":oe("/CA "+I(S[z]))}oe(">>"),oe("endobj")},sa=function(S){Mi(S.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in oe("/Font <<"),Ct)Ct.hasOwnProperty(z)&&(A===!1||A===!0&&C.hasOwnProperty(z))&&oe("/"+z+" "+Ct[z].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(St).length>0){for(var z in oe("/Shading <<"),St)St.hasOwnProperty(z)&&St[z]instanceof tc&&St[z].objectNumber>=0&&oe("/"+z+" "+St[z].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),oe(">>")}})(),(function(z){if(Object.keys(St).length>0){for(var ue in oe("/Pattern <<"),St)St.hasOwnProperty(ue)&&St[ue]instanceof _.TilingPattern&&St[ue].objectNumber>=0&&St[ue].objectNumber<z&&oe("/"+ue+" "+St[ue].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),oe(">>")}})(S.objectOid),(function(){if(Object.keys(Mt).length>0){var z;for(z in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(z)&&Mt[z].objectNumber>=0&&oe("/"+z+" "+Mt[z].objectNumber+" 0 R");ln.publish("putGStateDict"),oe(">>")}})(),(function(){for(var z in oe("/XObject <<"),er)er.hasOwnProperty(z)&&er[z].objectNumber>=0&&oe("/"+z+" "+er[z].objectNumber+" 0 R");ln.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},pi=function(S){Pt[S.fontName]=Pt[S.fontName]||{},Pt[S.fontName][S.fontStyle]=S.id},yo=function(S,z,ue,ve,Ae){var Be={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:S,fontName:z,fontStyle:ue,encoding:ve,isStandardFont:Ae||!1,metadata:{}};return ln.publish("addFont",{font:Be,instance:this}),Ct[Be.id]=Be,pi(Be),Be.id},jr=_.__private__.pdfEscape=_.pdfEscape=function(S,z){return(function(ue,ve){var Ae,Be,$e,ut,dt,jt,Et,dn,ei;if($e=(ve=ve||{}).sourceEncoding||"Unicode",dt=ve.outputEncoding,(ve.autoencode||dt)&&Ct[mt].metadata&&Ct[mt].metadata[$e]&&Ct[mt].metadata[$e].encoding&&(ut=Ct[mt].metadata[$e].encoding,!dt&&Ct[mt].encoding&&(dt=Ct[mt].encoding),!dt&&ut.codePages&&(dt=ut.codePages[0]),typeof dt=="string"&&(dt=ut[dt]),dt)){for(Et=!1,jt=[],Ae=0,Be=ue.length;Ae<Be;Ae++)(dn=dt[ue.charCodeAt(Ae)])?jt.push(String.fromCharCode(dn)):jt.push(ue[Ae]),jt[Ae].charCodeAt(0)>>8&&(Et=!0);ue=jt.join("")}for(Ae=ue.length;Et===void 0&&Ae!==0;)ue.charCodeAt(Ae-1)>>8&&(Et=!0),Ae--;if(!Et)return ue;for(jt=ve.noBOM?[]:[254,255],Ae=0,Be=ue.length;Ae<Be;Ae++){if((ei=(dn=ue.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(ei),jt.push(dn-(ei<<8))}return String.fromCharCode.apply(void 0,jt)})(S,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=_.__private__.beginPage=function(S){ye[++wt]=[],bt[wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},vo(wt),lt(ye[O])},_a=function(S,z){var ue,ve,Ae;switch(t=z||t,typeof S=="string"&&(ue=F(S.toLowerCase()),Array.isArray(ue)&&(ve=ue[0],Ae=ue[1])),Array.isArray(S)&&(ve=S[0]*Ht,Ae=S[1]*Ht),isNaN(ve)&&(ve=s[0],Ae=s[1]),(ve>14400||Ae>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ae=Math.min(14400,Ae)),s=[ve,Ae],t.substr(0,1)){case"l":Ae>ve&&(s=[Ae,ve]);break;case"p":ve>Ae&&(s=[Ae,ve])}oa(s),It(Dr),oe(Yr),$r!==0&&oe($r+" J"),Ii!==0&&oe(Ii+" j"),ln.publish("addPage",{pageNumber:wt})},Bs=function(S){S>0&&S<=wt&&(ye.splice(S,1),bt.splice(S,1),wt--,O>wt&&(O=wt),this.setPage(O))},vo=function(S){S>0&&S<=wt&&(O=S)},bo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ye.length-1},Jo=function(S,z,ue){var ve,Ae=void 0;return ue=ue||{},S=S!==void 0?S:Ct[mt].fontName,z=z!==void 0?z:Ct[mt].fontStyle,ve=S.toLowerCase(),Pt[ve]!==void 0&&Pt[ve][z]!==void 0?Ae=Pt[ve][z]:Pt[S]!==void 0&&Pt[S][z]!==void 0?Ae=Pt[S][z]:ue.disableWarning===!1&&hi.warn("Unable to look up font label for font '"+S+"', '"+z+"'. Refer to getFontList() for available fonts."),Ae||ue.noFallback||(Ae=Pt.times[z])==null&&(Ae=Pt.times.normal),Ae},Gr=_.__private__.putInfo=function(){var S=Hn(),z=function(ve){return ve};for(var ue in v!==null&&(z=oi.encryptor(S,0)),oe("<<"),oe("/Producer ("+jr(z("jsPDF "+yt.version))+")"),Qt)Qt.hasOwnProperty(ue)&&Qt[ue]&&oe("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+jr(z(Qt[ue]))+")");oe("/CreationDate ("+jr(z(pe))+")"),oe(">>"),oe("endobj")},nr=_.__private__.putCatalog=function(S){var z=(S=S||{}).rootDictionaryObjId||tr;switch(Hn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+rt;ue.substr(ue.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+I(rt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}_t&&oe("/PageMode /"+_t),ln.publish("putCatalog"),oe(">>"),oe("endobj")},_i=_.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(se+1)),oe("/Root "+se+" 0 R"),oe("/Info "+(se-1)+" 0 R"),v!==null&&oe("/Encrypt "+oi.oid+" 0 R"),oe("/ID [ <"+re+"> <"+re+"> ]"),oe(">>")},fn=_.__private__.putHeader=function(){oe("%PDF-"+P),oe("%")},is=_.__private__.putXRef=function(){var S="0000000000";oe("xref"),oe("0 "+(se+1)),oe("0000000000 65535 f ");for(var z=1;z<=se;z++)typeof fe[z]=="function"?oe((S+fe[z]()).slice(-10)+" 00000 n "):fe[z]!==void 0?oe((S+fe[z]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},la=_.__private__.buildDocument=function(){var S;se=0,ge=0,_e=[],fe=[],Oe=[],tr=Jn(),On=Jn(),lt(_e),ln.publish("buildDocument"),fn(),xa(),(function(){ln.publish("putAdditionalObjects");for(var ue=0;ue<Oe.length;ue++){var ve=Oe[ue];Mi(ve.objId,!0),oe(ve.content),oe("endobj")}ln.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ue in Ct)Ct.hasOwnProperty(ue)&&(A===!1||A===!0&&C.hasOwnProperty(ue))&&Rr(Ct[ue])})(),(function(){var ue;for(ue in Mt)Mt.hasOwnProperty(ue)&&Hr(Mt[ue])})(),(function(){for(var ue in er)er.hasOwnProperty(ue)&&ns(er[ue])})(),(function(ue){var ve;for(ve in St)St.hasOwnProperty(ve)&&(St[ve]instanceof tc?qr(St[ve]):St[ve]instanceof lh&&gr(St[ve],ue))})(S),ln.publish("putResources"),S.forEach(sa),sa({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),v!==null&&(oi.oid=Hn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+oi.v),oe("/R "+oi.r),oe("/U <"+oi.toHexString(oi.U)+">"),oe("/O <"+oi.toHexString(oi.O)+">"),oe("/P "+oi.P),oe(">>"),oe("endobj")),Gr(),nr();var z=ge;return is(),_i(),oe("startxref"),oe(""+z),oe("%%EOF"),lt(ye[O]),_e.join(`
`)},vn=_.__private__.getBlob=function(S){return new Blob([Wt(S)],{type:"application/pdf"})},bs=_.output=_.__private__.output=(Nr=function(S,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",S){case void 0:return la();case"save":_.save(z.filename);break;case"arraybuffer":return Wt(la());case"blob":return vn(la());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(vn(la()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ve=la();try{ue=Ib(ve)}catch{ue=Ib(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+z.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ae=z.pdfObjectUrl,Be="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ut=Yt.open();return ut!==null&&ut.document.write($e),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',jt=Yt.open();if(jt!==null){jt.document.write(dt);var Et=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=z.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',ei=Yt.open();if(ei!==null&&(ei.document.write(dn),ei.document.title=z.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",z);default:return null}},Nr.foo=function(){try{return Nr.apply(this,arguments)}catch(ue){var S=ue.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var z="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Yt.console)throw new Error(z);Yt.console.error(z,ue),Yt.alert&&alert(z)}},Nr.foo.bar=Nr,Nr.foo),Ni=function(S){return Array.isArray(dr)===!0&&dr.indexOf(S)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var oi=null;J(),te();var wi=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[S].objId,pageNumber:S,pageContext:bt[S]}},Vs=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in bt)if(bt[z].objId===S)break;return wi(z)},Bl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:bt[O].objId,pageNumber:O,pageContext:bt[O]}};_.addPage=function(){return _a.apply(this,arguments),this},_.setPage=function(){return vo.apply(this,arguments),lt.call(this,ye[O]),this},_.insertPage=function(S){return this.addPage(),this.movePage(O,S),this},_.movePage=function(S,z){var ue,ve;if(S>z){ue=ye[S],ve=bt[S];for(var Ae=S;Ae>z;Ae--)ye[Ae]=ye[Ae-1],bt[Ae]=bt[Ae-1];ye[z]=ue,bt[z]=ve,this.setPage(z)}else if(S<z){ue=ye[S],ve=bt[S];for(var Be=S;Be<z;Be++)ye[Be]=ye[Be+1],bt[Be]=bt[Be+1];ye[z]=ue,bt[z]=ve,this.setPage(z)}return this},_.deletePage=function(){return Bs.apply(this,arguments),this},_.__private__.text=_.text=function(S,z,ue,ve,Ae){var Be,$e,ut,dt,jt,Et,dn,ei,Gn,m=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof z=="number"&&(typeof ue=="string"||Array.isArray(ue))){var R=ue;ue=z,z=S,S=R}if(arguments[3]instanceof At==0?(ut=arguments[4],dt=arguments[5],Zn(dn=arguments[3])==="object"&&dn!==null||(typeof ut=="string"&&(dt=ut,ut=null),typeof dn=="string"&&(dt=dn,dn=null),typeof dn=="number"&&(ut=dn,dn=null),ve={flags:dn,angle:ut,align:dt})):(w("The transform parameter of text() with a Matrix value"),Gn=Ae),isNaN(z)||isNaN(ue)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return m;var D,ee="",Te=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ss,ke=m.internal.scaleFactor;function Je(Dn){return Dn=Dn.split("	").join(Array(ve.TabLen||9).join(" ")),jr(Dn,dn)}function qt(Dn){for(var Sn,ni=Dn.concat(),ji=[],js=ni.length;js--;)typeof(Sn=ni.shift())=="string"?ji.push(Sn):Array.isArray(Dn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?ji.push(Sn[0]):ji.push([Sn[0],Sn[1],Sn[2]]);return ji}function ti(Dn,Sn){var ni;if(typeof Dn=="string")ni=Sn(Dn)[0];else if(Array.isArray(Dn)){for(var ji,js,cs=Dn.concat(),ol=[],zu=cs.length;zu--;)typeof(ji=cs.shift())=="string"?ol.push(Sn(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(js=Sn(ji[0],ji[1],ji[2]),ol.push([js[0],js[1],js[2]]));ni=ol}return ni}var cn=!1,zn=!0;if(typeof S=="string")cn=!0;else if(Array.isArray(S)){var rr=S.concat();$e=[];for(var yr,$n=rr.length;$n--;)(typeof(yr=rr.shift())!="string"||Array.isArray(yr)&&typeof yr[0]!="string")&&(zn=!1);cn=zn}if(cn===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var vr=qe/m.internal.scaleFactor,Ea=vr*(Te-1);switch(ve.baseline){case"bottom":ue-=Ea;break;case"top":ue+=vr-Ea;break;case"hanging":ue+=vr-2*Ea;break;case"middle":ue+=vr/2-Ea}if((Et=ve.maxWidth||0)>0&&(typeof S=="string"?S=m.splitTextToSize(S,Et):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Dn,Sn){return Dn.concat(m.splitTextToSize(Sn,Et))},[]))),Be={text:S,x:z,y:ue,options:ve,mutex:{pdfEscape:jr,activeFontKey:mt,fonts:Ct,activeFontSize:qe}},ln.publish("preProcessText",Be),S=Be.text,ut=(ve=Be.options).angle,Gn instanceof At==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,ve.rotationDirection===0&&(ut=-ut),ae===K&&(ut=-ut);var As=Math.cos(ut),Es=Math.sin(ut);Gn=new At(As,Es,-Es,As,0,0)}else ut&&ut instanceof At&&(Gn=ut);ae!==K||Gn||(Gn=Ur),(jt=ve.charSpace||Wr)!==void 0&&(ee+=M(E(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=ve.horizontalScale)!==void 0&&(ee+=M(100*ei)+` Tz
`),ve.lang;var Qr=-1,Ys=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Vl=m.internal.getCurrentPageInfo().pageContext;switch(Ys){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var Ou=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Qr!==-1?ee+=Qr+` Tr
`:Ou!==-1&&(ee+=`0 Tr
`),Qr!==-1&&(Vl.usedRenderingMode=Qr),dt=ve.align||"left";var Ta,ls=qe*Te,Ws=m.internal.pageSize.getWidth(),Pu=Ct[mt];jt=ve.charSpace||Wr,Et=ve.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var us=[],Eo=function(Dn){return m.getStringUnitWidth(Dn,{font:Pu,charSpace:jt,fontSize:qe,doKerning:!1})*qe/ke};if(Object.prototype.toString.call(S)==="[object Array]"){var ca;$e=qt(S),dt!=="left"&&(Ta=$e.map(Eo));var Xr,Ts=0;if(dt==="right"){z-=Ta[0],S=[],$n=$e.length;for(var Cs=0;Cs<$n;Cs++)Cs===0?(Xr=Wi(z),ca=Pi(ue)):(Xr=E(Ts-Ta[Cs]),ca=-ls),S.push([$e[Cs],Xr,ca]),Ts=Ta[Cs]}else if(dt==="center"){z-=Ta[0]/2,S=[],$n=$e.length;for(var $s=0;$s<$n;$s++)$s===0?(Xr=Wi(z),ca=Pi(ue)):(Xr=E((Ts-Ta[$s])/2),ca=-ls),S.push([$e[$s],Xr,ca]),Ts=Ta[$s]}else if(dt==="left"){S=[],$n=$e.length;for(var Ul=0;Ul<$n;Ul++)S.push($e[Ul])}else if(dt==="justify"&&Pu.encoding==="Identity-H"){S=[],$n=$e.length,Et=Et!==0?Et:Ws;for(var ql=0,Ri=0;Ri<$n;Ri++)if(ca=Ri===0?Pi(ue):-ls,Xr=Ri===0?Wi(z):ql,Ri<$n-1){var vc=E((Et-Ta[Ri])/($e[Ri].split(" ").length-1)),Ns=$e[Ri].split(" ");S.push([Ns[0]+" ",Xr,ca]),ql=0;for(var Is=1;Is<Ns.length;Is++){var br=(Eo(Ns[Is-1]+" "+Ns[Is])-Eo(Ns[Is]))*ke+vc;Is==Ns.length-1?S.push([Ns[Is],br,0]):S.push([Ns[Is]+" ",br,0]),ql-=br}}else S.push([$e[Ri],Xr,ca]);S.push(["",ql,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],$n=$e.length,Et=Et!==0?Et:Ws,Ri=0;Ri<$n;Ri++){ca=Ri===0?Pi(ue):-ls,Xr=Ri===0?Wi(z):0;var Ks=$e[Ri].split(" ").length-1,Hl=Ks>0?(Et-Ta[Ri])/Ks:0;Ri<$n-1?us.push(M(E(Hl))):us.push(0),S.push([$e[Ri],Xr,ca])}}}(typeof ve.R2L=="boolean"?ve.R2L:Nt)===!0&&(S=ti(S,function(Dn,Sn,ni){return[Dn.split("").reverse().join(""),Sn,ni]})),Be={text:S,x:z,y:ue,options:ve,mutex:{pdfEscape:jr,activeFontKey:mt,fonts:Ct,activeFontSize:qe}},ln.publish("postProcessText",Be),S=Be.text,D=Be.mutex.isHex||!1;var Gl=Ct[mt].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(S=ti(S,function(Dn,Sn,ni){return[Je(Dn),Sn,ni]})),$e=qt(S),S=[];for(var Qs,Xs,Rs,sl=Array.isArray($e[0])?1:0,Ca="",Zs=function(Dn,Sn,ni){var ji="";return ni instanceof At?(ni=typeof ve.angle=="number"?ts(ni,new At(1,0,0,1,Dn,Sn)):ts(new At(1,0,0,1,Dn,Sn),ni),ae===K&&(ni=ts(new At(1,0,0,-1,0,0),ni)),ji=ni.join(" ")+` Tm
`):ji=M(Dn)+" "+M(Sn)+` Td
`,ji},kr=0;kr<$e.length;kr++){switch(Ca="",sl){case 1:Rs=(D?"<":"(")+$e[kr][0]+(D?">":")"),Qs=parseFloat($e[kr][1]),Xs=parseFloat($e[kr][2]);break;case 0:Rs=(D?"<":"(")+$e[kr]+(D?">":")"),Qs=Wi(z),Xs=Pi(ue)}us!==void 0&&us[kr]!==void 0&&(Ca=us[kr]+` Tw
`),kr===0?S.push(Ca+Zs(Qs,Xs,Gn)+Rs):sl===0?S.push(Ca+Rs):sl===1&&S.push(Ca+Zs(Qs,Xs,Gn)+Rs)}S=sl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Pa=`BT
/`;return Pa+=mt+" "+qe+` Tf
`,Pa+=M(qe*Te)+` TL
`,Pa+=Sa+`
`,Pa+=ee,Pa+=S,oe(Pa+="ET"),C[mt]=!0,m};var el=_.__private__.clip=_.clip=function(S){return oe(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return el("evenodd")},_.__private__.discardPath=_.discardPath=function(){return oe("n"),this};var mr=_.__private__.isValidStyle=function(S){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(z=!0),z};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return mr(S)&&(d=S),this};var tl=_.__private__.getStyle=_.getStyle=function(S){var z=d;switch(S){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=S}return z},rs=_.close=function(){return oe("h"),this};_.stroke=function(){return oe("S"),this},_.fill=function(S){return Yi("f",S),this},_.fillEvenOdd=function(S){return Yi("f*",S),this},_.fillStroke=function(S){return Yi("B",S),this},_.fillStrokeEvenOdd=function(S){return Yi("B*",S),this};var Yi=function(S,z){Zn(z)==="object"?il(z,S):oe(S)},xs=function(S){S===null||ae===K&&S===void 0||(S=tl(S),oe(S))};function nl(S,z,ue,ve,Ae){var Be=new lh(z||this.boundingBox,ue||this.xStep,ve||this.yStep,this.gState,Ae||this.matrix);Be.stream=this.stream;var $e=S+"$$"+this.cloneIndex+++"$$";return Cr($e,Be),Be}var il=function(S,z){var ue=Ln[S.key],ve=St[ue];if(ve instanceof tc)oe("q"),oe(xo(z)),ve.gState&&_.setGState(ve.gState),oe(S.matrix.toString()+" cm"),oe("/"+ue+" sh"),oe("Q");else if(ve instanceof lh){var Ae=new At(1,0,0,-1,0,Aa());S.matrix&&(Ae=Ae.multiply(S.matrix||Ur),ue=nl.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,Ae).id),oe("q"),oe("/Pattern cs"),oe("/"+ue+" scn"),ve.gState&&_.setGState(ve.gState),oe(z),oe("Q")}},xo=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_o=_.moveTo=function(S,z){return oe(M(E(S))+" "+M(X(z))+" m"),this},as=_.lineTo=function(S,z){return oe(M(E(S))+" "+M(X(z))+" l"),this},Lr=_.curveTo=function(S,z,ue,ve,Ae,Be){return oe([M(E(S)),M(X(z)),M(E(ue)),M(X(ve)),M(E(Ae)),M(X(Be)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,z,ue,ve,Ae){if(isNaN(S)||isNaN(z)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return ae===ie?this.lines([[ue-S,ve-z]],S,z,[1,1],Ae||"S"):this.lines([[ue-S,ve-z]],S,z,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,z,ue,ve,Ae,Be){var $e,ut,dt,jt,Et,dn,ei,Gn,m,R,D,ee;if(typeof S=="number"&&(ee=ue,ue=z,z=S,S=ee),ve=ve||[1,1],Be=Be||!1,isNaN(z)||isNaN(ue)||!Array.isArray(S)||!Array.isArray(ve)||!mr(Ae)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_o(z,ue),$e=ve[0],ut=ve[1],jt=S.length,R=z,D=ue,dt=0;dt<jt;dt++)(Et=S[dt]).length===2?(R=Et[0]*$e+R,D=Et[1]*ut+D,as(R,D)):(dn=Et[0]*$e+R,ei=Et[1]*ut+D,Gn=Et[2]*$e+R,m=Et[3]*ut+D,R=Et[4]*$e+R,D=Et[5]*ut+D,Lr(dn,ei,Gn,m,R,D));return Be&&rs(),xs(Ae),this},_.path=function(S){for(var z=0;z<S.length;z++){var ue=S[z],ve=ue.c;switch(ue.op){case"m":_o(ve[0],ve[1]);break;case"l":as(ve[0],ve[1]);break;case"c":Lr.apply(this,ve);break;case"h":rs()}}return this},_.__private__.rect=_.rect=function(S,z,ue,ve,Ae){if(isNaN(S)||isNaN(z)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return ae===ie&&(ve=-ve),oe([M(E(S)),M(X(z)),M(E(ue)),M(E(ve)),"re"].join(" ")),xs(Ae),this},_.__private__.triangle=_.triangle=function(S,z,ue,ve,Ae,Be,$e){if(isNaN(S)||isNaN(z)||isNaN(ue)||isNaN(ve)||isNaN(Ae)||isNaN(Be)||!mr($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-S,ve-z],[Ae-ue,Be-ve],[S-Ae,z-Be]],S,z,[1,1],$e,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,z,ue,ve,Ae,Be,$e){if(isNaN(S)||isNaN(z)||isNaN(ue)||isNaN(ve)||isNaN(Ae)||isNaN(Be)||!mr($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ue),Be=Math.min(Be,.5*ve),this.lines([[ue-2*Ae,0],[Ae*ut,0,Ae,Be-Be*ut,Ae,Be],[0,ve-2*Be],[0,Be*ut,-Ae*ut,Be,-Ae,Be],[2*Ae-ue,0],[-Ae*ut,0,-Ae,-Be*ut,-Ae,-Be],[0,2*Be-ve],[0,-Be*ut,Ae*ut,-Be,Ae,-Be]],S+Ae,z,[1,1],$e,!0),this},_.__private__.ellipse=_.ellipse=function(S,z,ue,ve,Ae){if(isNaN(S)||isNaN(z)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ue,$e=4/3*(Math.SQRT2-1)*ve;return _o(S+ue,z),Lr(S+ue,z-$e,S+Be,z-ve,S,z-ve),Lr(S-Be,z-ve,S-ue,z-$e,S-ue,z),Lr(S-ue,z+$e,S-Be,z+ve,S,z+ve),Lr(S+Be,z+ve,S+ue,z+$e,S+ue,z),xs(Ae),this},_.__private__.circle=_.circle=function(S,z,ue,ve){if(isNaN(S)||isNaN(z)||isNaN(ue)||!mr(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,z,ue,ue,ve)},_.setFont=function(S,z,ue){return ue&&(z=$(z,ue)),mt=Jo(S,z,{disableWarning:!1}),this};var wa=_.__private__.getFont=_.getFont=function(){return Ct[Jo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,z,ue={};for(S in Pt)if(Pt.hasOwnProperty(S))for(z in ue[S]=[],Pt[S])Pt[S].hasOwnProperty(z)&&ue[S].push(z);return ue},_.addFont=function(S,z,ue,ve,Ae){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ue=$(ue,ve)),yo.call(this,S,z,ue,Ae=Ae||"Identity-H")};var ss,Dr=n.lineWidth||.200025,_s=_.__private__.getLineWidth=_.getLineWidth=function(){return Dr},It=_.__private__.setLineWidth=_.setLineWidth=function(S){return Dr=S,oe(M(E(S))+" w"),this};_.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(S,z){if(S=S||[],z=z||0,isNaN(z)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ue){return M(E(ue))}).join(" "),z=M(E(z)),oe("["+S+"] "+z+" d"),this};var Us=_.__private__.getLineHeight=_.getLineHeight=function(){return qe*ss};_.__private__.getLineHeight=_.getLineHeight=function(){return qe*ss};var wo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ss=S),this},ws=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return ss};wo(n.lineHeight);var Wi=_.__private__.getHorizontalCoordinate=function(S){return E(S)},Pi=_.__private__.getVerticalCoordinate=function(S){return ae===K?S:bt[O].mediaBox.topRightY-bt[O].mediaBox.bottomLeftY-E(S)},qs=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return M(Wi(S))},Pn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return M(Pi(S))},Yr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Wn(Yr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,z,ue,ve){return Yr=Oi({ch1:S,ch2:z,ch3:ue,ch4:ve,pdfColorType:"draw",precision:2}),oe(Yr),this};var Hs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Wn(Hs)},_.__private__.setFillColor=_.setFillColor=function(S,z,ue,ve){return Hs=Oi({ch1:S,ch2:z,ch3:ue,ch4:ve,pdfColorType:"fill",precision:2}),oe(Hs),this};var Sa=n.textColor||"0 g",rl=_.__private__.getTextColor=_.getTextColor=function(){return Wn(Sa)};_.__private__.setTextColor=_.setTextColor=function(S,z,ue,ve){return Sa=Oi({ch1:S,ch2:z,ch3:ue,ch4:ve,pdfColorType:"text",precision:3}),this};var Wr=n.charSpace,os=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Wr||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wr=S,this};var $r=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var z=_.CapJoinStyles[S];if(z===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $r=z,oe(z+" J"),this};var Ii=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var z=_.CapJoinStyles[S];if(z===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=z,oe(z+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(M(E(S))+" M"),this},_.GState=Fp,_.setGState=function(S){(S=typeof S=="string"?Mt[Ot[S]]:La(null,S)).equals(Mn)||(oe("/"+S.id+" gs"),Mn=S)};var La=function(S,z){if(!S||!Ot[S]){var ue=!1;for(var ve in Mt)if(Mt.hasOwnProperty(ve)&&Mt[ve].equals(z)){ue=!0;break}if(ue)z=Mt[ve];else{var Ae="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Ae]=z,z.id=Ae}return S&&(Ot[S]=z.id),ln.publish("addGState",z),z}};_.addGState=function(S,z){return La(S,z),this},_.saveGraphicsState=function(){return oe("q"),Kt.push({key:mt,size:qe,color:Sa}),this},_.restoreGraphicsState=function(){oe("Q");var S=Kt.pop();return mt=S.key,qe=S.size,Sa=S.color,Mn=null,this},_.setCurrentTransformationMatrix=function(S){return oe(S.toString()+" cm"),this},_.comment=function(S){return oe("#"+S),this};var ir=function(S,z){var ue=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Be){isNaN(Be)||(ue=parseFloat(Be))}});var ve=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Be){Ae=Be.toString()}}),this},Da=function(S,z,ue,ve){ir.call(this,S,z),this.type="rect";var Ae=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function($e){isNaN($e)||(Ae=parseFloat($e))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function($e){isNaN($e)||(Be=parseFloat($e))}}),this},Ss=function(){this.page=wt,this.currentPage=O,this.pages=ye.slice(0),this.pagesContext=bt.slice(0),this.x=vt,this.y=fi,this.matrix=Xt,this.width=ua(O),this.height=So(O),this.outputDestination=et,this.id="",this.objectNumber=-1};Ss.prototype.restore=function(){wt=this.page,O=this.currentPage,bt=this.pagesContext,ye=this.pages,vt=this.x,fi=this.y,Xt=this.matrix,Gs(O,this.width),Kr(O,this.height),et=this.outputDestination};var ka=function(S,z,ue,ve,Ae){Gi.push(new Ss),wt=O=0,ye=[],vt=S,fi=z,Xt=Ae,oa([ue,ve])};for(var Ma in _.beginFormObject=function(S,z,ue,ve,Ae){return ka(S,z,ue,ve,Ae),this},_.endFormObject=function(S){return(function(z){if(ja[z])Gi.pop().restore();else{var ue=new Ss,ve="Xo"+(Object.keys(er).length+1).toString(10);ue.id=ve,ja[z]=ve,er[ve]=ue,ln.publish("addFormObject",ue),Gi.pop().restore()}})(S),this},_.doFormObject=function(S,z){var ue=er[ja[S]];return oe("q"),oe(z.toString()+" cm"),oe("/"+ue.id+" Do"),oe("Q"),this},_.getFormObject=function(S){var z=er[ja[S]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},_.save=function(S,z){return S=S||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(ec(vn(la()),S),typeof ec.unload=="function"&&Yt.setTimeout&&setTimeout(ec.unload,911),this):new Promise(function(ue,ve){try{var Ae=ec(vn(la()),S);typeof ec.unload=="function"&&Yt.setTimeout&&setTimeout(ec.unload,911),ue(Ae)}catch(Be){ve(Be.message)}})},yt.API)yt.API.hasOwnProperty(Ma)&&(Ma==="events"&&yt.API.events.length?(function(S,z){var ue,ve,Ae;for(Ae=z.length-1;Ae!==-1;Ae--)ue=z[Ae][0],ve=z[Ae][1],S.subscribe.apply(S,[ue].concat(typeof ve=="function"?[ve]:ve))})(ln,yt.API.events):_[Ma]=yt.API[Ma]);function ua(S){return bt[S].mediaBox.topRightX-bt[S].mediaBox.bottomLeftX}function Gs(S,z){bt[S].mediaBox.topRightX=z+bt[S].mediaBox.bottomLeftX}function So(S){return bt[S].mediaBox.topRightY-bt[S].mediaBox.bottomLeftY}function Kr(S,z){bt[S].mediaBox.topRightY=z+bt[S].mediaBox.bottomLeftY}var Oa=_.getPageWidth=function(S){return ua(S=S||O)/Ht},al=_.setPageWidth=function(S,z){Gs(S,z*Ht)},Aa=_.getPageHeight=function(S){return So(S=S||O)/Ht},Ao=_.setPageHeight=function(S,z){Kr(S,z*Ht)};return _.internal={pdfEscape:jr,getStyle:tl,getFont:wa,getFontSize:it,getCharSpace:os,getTextColor:rl,getLineHeight:Us,getLineHeightFactor:ws,getLineWidth:_s,write:nt,getHorizontalCoordinate:Wi,getVerticalCoordinate:Pi,getCoordinateString:qs,getVerticalCoordinateString:Pn,collections:{},newObject:Hn,newAdditionalObject:pr,newObjectDeferred:Jn,newObjectDeferredBegin:Mi,getFilters:Ir,putStream:aa,events:ln,scaleFactor:Ht,pageSize:{getWidth:function(){return Oa(O)},setWidth:function(S){al(O,S)},getHeight:function(){return Aa(O)},setHeight:function(S){Ao(O,S)}},encryptionOptions:v,encryption:oi,getEncryptor:function(S){return v!==null?oi.encryptor(S,0):function(z){return z}},output:bs,getNumberOfPages:bo,get pages(){return ye},out:oe,f2:I,f3:N,getPageInfo:wi,getPageInfoByObjId:Vs,getCurrentPageInfo:Bl,getPDFVersion:q,Point:ir,Rectangle:Da,Matrix:At,hasHotfix:Ni},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Oa(O)},set:function(S){al(O,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Aa(O)},set:function(S){Ao(O,S)},enumerable:!0,configurable:!0}),(function(S){for(var z=0,ue=Tt.length;z<ue;z++){var ve=yo.call(this,S[z][0],S[z][1],S[z][2],Tt[z][3],!0);A===!1&&(C[ve]=!0);var Ae=S[z][0].split("-");pi({id:ve,fontName:Ae[0],fontStyle:Ae[1]||""})}ln.publish("addFonts",{fonts:Ct,dictionary:Pt})}).call(_,Tt),mt="F1",_a(s,t),ln.publish("initialized"),_}sh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},sh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},sh.prototype.processOwnerPassword=function(n,e){return V0(B0(e).substr(0,5),n)},sh.prototype.encryptor=function(n,e){var t=B0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return V0(t,r)}},Fp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Zn(n)!==Zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="4.1.0";var Hi=yt.API,Um=1,yc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bp=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},nn=function(n){return n.toFixed(2)},yu=function(n){return n.toFixed(5)};Hi.__acroform__={};var es=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Db=function(n){return n*Um},Bo=function(n){var e=new W4,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(nn(r)),Number(nn(t))],e},D7=Hi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},k7=Hi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},M7=Hi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xi=Hi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return M7(n,e-1)},Zi=Hi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return D7(n,e-1)},Ji=Hi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return k7(n,e-1)},O7=Hi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=r(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},P7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=U0(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+nn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},U0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=t,c=gt.internal.getHeight(n)||0;c=c<0?-c:c;var h=gt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(I,N,E){if(I+1<s.length){var X=N+" "+s[I+1][0];return ip(X,n,E).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var d,v,A=ip("3",n,o).height,C=n.multiline?c-o:(c-A)/2,_=C+=2,P=0,q=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ip(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var F="",ie=0,K=0;K<s.length;K++)if(s.hasOwnProperty(K)){var ae=!1;if(s[K].length!==1&&U!==s[K].length-1){if((A+2)*(ie+2)+2>c)continue e;F+=s[K][U],ae=!0,q=K,K--}else{F=(F+=s[K][U]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var Se=parseInt(K),Ne=f(Se,F,o),$=K>=s.length-1;if(Ne&&!$){F+=" ",U=0;continue}if(Ne||$){if($)q=Se;else if(n.multiline&&(A+2)*(ie+2)+2>c)continue e}else{if(!n.multiline||(A+2)*(ie+2)+2>c)continue e;q=Se}}for(var M="",w=P;w<=q;w++){var V=s[w];if(n.multiline){if(w===q){M+=V[U]+" ",U=(U+1)%V.length;continue}if(w===P){M+=V[V.length-1]+" ";continue}}M+=V[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,v=ip(M,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=nn(d)+" "+nn(_)+` Td
`,e+="("+yc(M)+`) Tj
`,e+=-nn(d)+` 0 Td
`,_=-(o+2),v=0,P=ae?q:q+1,ie++,F=""}break}return r.text=e,r.fontSize=o,r},ip=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},z7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F7=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},B7=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(z7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new $4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&F7(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=O7(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=gt.createDefaultAppearanceStream(h),Zn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=P7(h);f.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var C in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(C)){var _=h.appearanceStreamContent[C];if(A+="/"+C+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var P=_[c];typeof P=="function"&&(P=P.call(s,h)),A+="/"+c+" "+P+" ",s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P)}}else typeof(P=_)=="function"&&(P=P.call(s,h)),A+="/"+c+" "+P,s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(q,U){for(var F in q)if(q.hasOwnProperty(F)){var ie=F,K=q[F];U.internal.newObjectDeferredBegin(K.objId,!0),Zn(K)==="object"&&typeof K.putStream=="function"&&K.putStream(),delete q[ie]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},Y4=Hi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Zn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Bp(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+yc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},e0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+yc(r(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:Y4(s,this.objId,this.scope)}):s instanceof qo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var W4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};es(W4,qo);var $4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yc(t(n))+")"}},set:function(t){n=t}})};es($4,qo);var go=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(F){F?this.F=Zi(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Vp)return;o="FieldObject"+n.FieldNum++}var F=function(ie){return ie};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+yc(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(F){c=F}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(F){h=F}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(F){f=F}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Um:d},set:function(F){d=F}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(F){v=F}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Vp||this instanceof ac))return e0(A,this.objId,this.scope)},set:function(F){F=F.toString(),A=F}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Vr==0?e0(C,this.objId,this.scope):C},set:function(F){F=F.toString(),C=this instanceof Vr==0?F.substr(0,1)==="("?eh(F.substr(1,F.length-2)):eh(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?eh(C.substr(1,C.length-1)):C},set:function(F){F=F.toString(),C=this instanceof Vr==1?"/"+Bp(F):F}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Vr==0?e0(_,this.objId,this.scope):_},set:function(F){F=F.toString(),_=this instanceof Vr==0?F.substr(0,1)==="("?eh(F.substr(1,F.length-2)):eh(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?eh(_.substr(1,_.length-1)):_},set:function(F){F=F.toString(),_=this instanceof Vr==1?"/"+Bp(F):F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,q=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return q},set:function(F){F=!!F,q=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(F){P=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(F){F?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(F){F?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(F){F?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');U=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(U){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};es(go,qo);var hh=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Y4(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(t){t?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(t){t?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(t){t?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(t){t?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};es(hh,go);var fh=function(){hh.call(this),this.fontName="helvetica",this.combo=!1};es(fh,hh);var dh=function(){fh.call(this),this.combo=!0};es(dh,fh);var dp=function(){dh.call(this),this.edit=!0};es(dp,dh);var Vr=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(t){t?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(t){t?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(t){t?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+yc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Bp(t)}})};es(Vr,go);var pp=function(){Vr.call(this),this.pushButton=!0};es(pp,Vr);var ph=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};es(ph,Vr);var Vp=function(){var n,e;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+yc(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Zn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(Vp,go),ph.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ph.prototype.createOption=function(n){var e=new Vp;return e.Parent=this,e.optionName=n,this.Kids.push(e),V7.call(this.scope,e),e};var gp=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};es(gp,Vr);var ac=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(ac,go);var mp=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){n?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};es(mp,ac);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=U0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+nn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),c=gt.internal.getWidth(n),h=U0(n,n.caption);return s.push("1 g"),s.push("0 0 "+nn(c)+" "+nn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+nn(c-1)+" "+nn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+nn(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),c=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+nn(gt.internal.getWidth(n)-2)+" "+nn(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(nn(r.x1.x)+" "+nn(r.x1.y)+" m"),t.push(nn(r.x2.x)+" "+nn(r.x2.y)+" l"),t.push(nn(r.x4.x)+" "+nn(r.x4.y)+" m"),t.push(nn(r.x3.x)+" "+nn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nn(gt.internal.getWidth(n)-2)+" "+nn(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(nn(t.x1.x)+" "+nn(t.x1.y)+" m"),r.push(nn(t.x2.x)+" "+nn(t.x2.y)+" l"),r.push(nn(t.x4.x)+" "+nn(t.x4.y)+" m"),r.push(nn(t.x3.x)+" "+nn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Zn(n)==="object"&&(e=Db(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Zn(n)==="object"&&(e=Db(n.Rect[3])),e};var V7=Hi.addField=function(n){if(B7(this,n),!(n instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=hh,Hi.AcroFormListBox=fh,Hi.AcroFormComboBox=dh,Hi.AcroFormEditBox=dp,Hi.AcroFormButton=Vr,Hi.AcroFormPushButton=pp,Hi.AcroFormRadioButton=ph,Hi.AcroFormCheckBox=gp,Hi.AcroFormTextField=ac,Hi.AcroFormPasswordField=mp,Hi.AcroFormAppearance=gt,Hi.AcroForm={ChoiceField:hh,ListBox:fh,ComboBox:dh,EditBox:dp,Button:Vr,PushButton:pp,RadioButton:ph,CheckBox:gp,TextField:ac,PasswordField:mp,Appearance:gt},yt.AcroForm={ChoiceField:hh,ListBox:fh,ComboBox:dh,EditBox:dp,Button:Vr,PushButton:pp,RadioButton:ph,CheckBox:gp,TextField:ac,PasswordField:mp,Appearance:gt};yt.AcroForm;function K4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,N){var E,X,pe,re,he,te=t;if((N=N||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Ne(I))for(he in r)for(pe=r[he],E=0;E<pe.length;E+=1){for(re=!0,X=0;X<pe[E].length;X+=1)if(pe[E][X]!==void 0&&pe[E][X]!==I[X]){re=!1;break}if(re===!0){te=he;break}}else for(he in r)for(pe=r[he],E=0;E<pe.length;E+=1){for(re=!0,X=0;X<pe[E].length;X+=1)if(pe[E][X]!==void 0&&pe[E][X]!==I.charCodeAt(X)){re=!1;break}if(re===!0){te=he;break}}return te===t&&N!==t&&(te=N),te},o=function I(N){for(var E=this.internal.write,X=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:N.width}),re.push({key:"Height",value:N.height}),N.colorSpace===F.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===F.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var he="",te=0,de=N.transparency.length;te<de;te++)he+=N.transparency[te]+" "+N.transparency[te]+" ";re.push({key:"Mask",value:"["+he+"]"})}N.sMask!==void 0&&re.push({key:"SMask",value:N.objectId+1+" 0 R"});var Re=N.filter!==void 0?["/"+N.filter]:void 0;if(X({data:N.data,additionalKeyValues:re,alreadyAppliedFilters:Re,objectId:N.objectId}),E("endobj"),"sMask"in N&&N.sMask!==void 0){var J,k=(J=N.sMaskBitsPerComponent)!==null&&J!==void 0?J:N.bitsPerComponent,O={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:N.sMask};"filter"in N&&(O.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(N.width),O.filter=N.filter),I.call(this,O)}if(N.colorSpace===F.INDEXED){var Y=this.internal.newObject();X({data:M(new Uint8Array(N.palette)),objectId:Y}),E("endobj")}},c=function(){var I=this.internal.collections[e+"images"];for(var N in I)o.call(this,I[N])},h=function(){var I,N=this.internal.collections[e+"images"],E=this.internal.write;for(var X in N)E("/I"+(I=N[X]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(I){return typeof n["process"+I.toUpperCase()]=="function"},C=function(I){return Zn(I)==="object"&&I.nodeType===1},_=function(I,N){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var E=""+I.getAttribute("src");if(E.indexOf("data:image/")===0)return fp(unescape(E).split("base64,").pop());var X=n.loadFile(E,!0);if(X!==void 0)return X}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var pe;switch(N){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return fp(I.toDataURL(pe,1).split("base64,").pop())}},P=function(I){var N=this.internal.collections[e+"images"];if(N){for(var E in N)if(I===N[E].alias)return N[E]}},q=function(I,N,E){return I||N||(I=-96,N=-96),I<0&&(I=-1*E.width*72/I/this.internal.scaleFactor),N<0&&(N=-1*E.height*72/N/this.internal.scaleFactor),I===0&&(I=N*E.width/E.height),N===0&&(N=I*E.height/E.width),[I,N]},U=function(I,N,E,X,pe,re){var he=q.call(this,E,X,pe),te=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Re=d.call(this);if(E=he[0],X=he[1],Re[pe.index]=pe,re){re*=Math.PI/180;var J=Math.cos(re),k=Math.sin(re),O=function(G){return G.toFixed(4)},Y=[O(J),O(k),O(-1*k),O(J),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,te(I),de(N+X),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([te(E),"0","0",te(X),"0","0","cm"].join(" "))):this.internal.write([te(E),"0","0",te(X),te(I),de(N+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ie=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},K=n.__addimage__.sHashCode=function(I){var N,E,X=0;if(typeof I=="string")for(E=I.length,N=0;N<E;N++)X=(X<<5)-X+I.charCodeAt(N),X|=0;else if(Ne(I))for(E=I.byteLength/2,N=0;N<E;N++)X=(X<<5)-X+I[N],X|=0;return X},ae=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var N=!0;return I.length===0&&(N=!1),I.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(N=!1),N},Se=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var N=I.indexOf(",");return N<0?null:I.substring(0,N).trim().endsWith("base64")?I.substring(N+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Ne=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(I){for(var N=I.length,E=new Uint8Array(N),X=0;X<N;X++)E[X]=I.charCodeAt(X);return E},M=n.__addimage__.arrayBufferToBinaryString=function(I){for(var N="",E=Ne(I)?I:new Uint8Array(I),X=0;X<E.length;X+=8192)N+=String.fromCharCode.apply(null,E.subarray(X,X+8192));return N};n.addImage=function(){var I,N,E,X,pe,re,he,te,de;if(typeof arguments[1]=="number"?(N=t,E=arguments[1],X=arguments[2],pe=arguments[3],re=arguments[4],he=arguments[5],te=arguments[6],de=arguments[7]):(N=arguments[1],E=arguments[2],X=arguments[3],pe=arguments[4],re=arguments[5],he=arguments[6],te=arguments[7],de=arguments[8]),Zn(I=arguments[0])==="object"&&!C(I)&&"imageData"in I){var Re=I;I=Re.imageData,N=Re.format||N||t,E=Re.x||E||0,X=Re.y||X||0,pe=Re.w||Re.width||pe,re=Re.h||Re.height||re,he=Re.alias||he,te=Re.compression||te,de=Re.rotation||Re.angle||de}var J=this.internal.getFilters();if(te===void 0&&J.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(E)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=w.call(this,I,N,he,te);return U.call(this,E,X,pe,re,k,de),this};var w=function(I,N,E,X){var pe,re,he;if(typeof I=="string"&&s(I)===t){I=unescape(I);var te=V(I,!1);(te!==""||(te=n.loadFile(I,!0))!==void 0)&&(I=te)}if(C(I)&&(I=_(I,N)),N=s(I,N),!A(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((he=E)==null||he.length===0)&&(E=(function(de){return typeof de=="string"||Ne(de)?K(de):Ne(de.data)?K(de.data):null})(I)),(pe=P.call(this,E))||(I instanceof Uint8Array||N==="RGBA"||(re=I,I=$(I)),pe=this["process"+N.toUpperCase()](I,v.call(this),E,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:ie.NONE})(X),re)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},V=n.__addimage__.convertBase64ToBinaryString=function(I,N){N=typeof N!="boolean"||N;var E,X="";if(typeof I=="string"){var pe;E=(pe=Se(I))!==null&&pe!==void 0?pe:I;try{X=fp(E)}catch(re){if(N)throw ae(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};n.getImageProperties=function(I){var N,E,X="";if(C(I)&&(I=_(I)),typeof I=="string"&&s(I)===t&&((X=V(I,!1))===""&&(X=n.loadFile(I)||""),I=X),E=s(I),!A(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(I instanceof Uint8Array||(I=$(I)),!(N=this["process"+E.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=E,N}})(yt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((r=d[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var C=0;C<d.length;C++){r=d[C];var _=this.internal.pdfEscape,P=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var q=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(q.objId),ie=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(F(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(F(ie))+") >>",q.content=o;var K=q.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+K,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(q.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var ae=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(P(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ae+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var Se=this.annotations._nameMap[r.options.name];r.options.pageNumber=Se.page,r.options.top=Se.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Ne=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ne+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,h,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,c,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(yt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(q){return e[q.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(q){return typeof q=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(q)},h=n.__arabicParser__.isArabicEndLetter=function(q){return c(q)&&o(q)&&e[q.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(q){return c(q)&&s.indexOf(q.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(q){return c(q)&&o(q)&&e[q.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(q){return c(q)&&o(q)&&e[q.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(q){return c(q)&&o(q)&&e[q.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(q){return c(q)&&o(q)&&e[q.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(q){var U=0,F=t,ie="",K=0;for(U=0;U<q.length;U+=1)F[q.charCodeAt(U)]!==void 0?(K++,typeof(F=F[q.charCodeAt(U)])=="number"&&(ie+=String.fromCharCode(F),F=t,K=0),U===q.length-1&&(F=t,ie+=q.charAt(U-(K-1)),U-=K-1,K=0)):(F=t,ie+=q.charAt(U-K),U-=K,K=0);return ie};n.__arabicParser__.isArabicDiacritic=function(q){return q!==void 0&&r[q.charCodeAt(0)]!==void 0};var C=n.__arabicParser__.getCorrectForm=function(q,U,F){return c(q)?o(q)===!1?-1:!d(q)||!c(U)&&!c(F)||!c(F)&&h(U)||h(q)&&!c(U)||h(q)&&f(U)||h(q)&&h(U)?0:v(q)&&c(U)&&!h(U)&&c(F)&&d(F)?3:h(q)||!c(F)?1:2:-1},_=function(q){var U=0,F=0,ie=0,K="",ae="",Se="",Ne=(q=q||"").split("\\s+"),$=[];for(U=0;U<Ne.length;U+=1){for($.push(""),F=0;F<Ne[U].length;F+=1)K=Ne[U][F],ae=Ne[U][F-1],Se=Ne[U][F+1],c(K)?(ie=C(K,ae,Se),$[U]+=ie!==-1?String.fromCharCode(e[K.charCodeAt(0)][ie]):K):$[U]+=K;$[U]=A($[U])}return $.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var q,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(U)){var ie=0;for(F=[],ie=0;ie<U.length;ie+=1)Array.isArray(U[ie])?F.push([_(U[ie][0]),U[ie][1],U[ie][2]]):F.push([_(U[ie])]);q=F}else q=_(U);return typeof arguments[0]=="string"?q:(arguments[0].text=q,arguments[0])};n.events.push(["preProcessText",P])})(yt.API),yt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(q){f=q}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(q){d=q}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(q){v=q}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(q){A=q}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(q){C=q}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(q){_=q}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(q){P=q}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),C=d.scaleFactor||this.internal.scaleFactor,_=0,P=0,q=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var F=d.maxWidth;F>0?typeof f=="string"?f=this.splitTextToSize(f,F):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(K,ae){return K.concat(U.splitTextToSize(ae,F))},[])):f=Array.isArray(f)?f:[f];for(var ie=0;ie<f.length;ie++)_<(q=this.getStringUnitWidth(f[ie],{font:A})*v)&&(_=q);return _!==0&&(P=f.length),{w:_/=C,h:Math.max((P*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/C,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,C){if(r.call(this),!v)throw new Error("No data for PDF table.");var _,P,q,U,F=[],ie=[],K=[],ae={},Se={},Ne=[],$=[],M=(C=C||{}).autoSize||!1,w=C.printHeaders!==!1,V=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,I=C.margins||Object.assign({width:this.getPageWidth()},e),N=typeof C.padding=="number"?C.padding:3,E=C.headerBackgroundColor||"#c8c8c8",X=C.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=X,this.setFontSize(V),A==null)ie=F=Object.keys(v[0]),K=F.map(function(){return"left"});else if(Array.isArray(A)&&Zn(A[0])==="object")for(F=A.map(function(Re){return Re.name}),ie=A.map(function(Re){return Re.prompt||Re.name||""}),K=A.map(function(Re){return Re.align||"left"}),_=0;_<A.length;_+=1)Se[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(ie=F=A,K=F.map(function(){return"left"}));if(M||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<F.length;_+=1){for(ae[U=F[_]]=v.map(function(Re){return Re[U]}),this.setFont(void 0,"bold"),Ne.push(this.getTextDimensions(ie[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=ae[U],this.setFont(void 0,"normal"),q=0;q<P.length;q+=1)Ne.push(this.getTextDimensions(P[q],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Se[U]=Math.max.apply(null,Ne)+N+N,Ne=[]}if(w){var pe={};for(_=0;_<F.length;_+=1)pe[F[_]]={},pe[F[_]].text=ie[_],pe[F[_]].align=K[_];var re=h.call(this,pe,Se);$=F.map(function(Re){return new o(f,d,Se[Re],re,pe[Re].text,void 0,pe[Re].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var he=A.reduce(function(Re,J){return Re[J.name]=J.align,Re},{});for(_=0;_<v.length;_+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:_,data:v[_]},this);var te=h.call(this,v[_],Se);for(q=0;q<F.length;q+=1){var de=v[_][F[q]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:_,col:q,data:de},this),c.call(this,new o(f,d,Se[F[q]],te,de,_+2,he[F[q]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(_){var P=f[_];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,d[_]-v-v)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/C+v+v},this).reduce(function(_,P){return Math.max(_,P)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){v=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,C.push(v)),v.lineNumber=f;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(P)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}})(yt.API);var Q4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q0=K4(X4),Z4=[100,200,300,400,500,600,700,800,900],U7=K4(Z4);function t0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return Q4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof q0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function kb(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var q7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ob(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Pb(n){return n.trimLeft()}function H7(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function G7(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var th,rp,zb,Fb,Bb,n0=["times"];function Vb(n,e,t,r,s){var o=4,c=qb;switch(s){case yt.API.image_compression.FAST:o=1,c=Ub;break;case yt.API.image_compression.MEDIUM:o=6,c=Hb;break;case yt.API.image_compression.SLOW:o=9,c=Gb}n=(function(f,d,v,A){for(var C,_=f.length/d,P=new Uint8Array(f.length+_),q=[Y7,Ub,qb,Hb,Gb],U=0;U<_;U+=1){var F=U*d,ie=f.subarray(F,F+d);if(A)P.set(A(ie,v,C),F+U);else{for(var K=q.length,ae=[],Se=0;Se<K;Se+=1)ae[Se]=q[Se](ie,v,C);var Ne=$7(ae.concat());P.set(ae[Ne],F+U)}C=ie}return P})(n,e,Math.ceil(t*r/8),c);var h=O0(n,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(h)}function Y7(n){var e=Array.apply([],n);return e.unshift(0),e}function Ub(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function qb(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function Hb(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;s[o+1]=n[o]+256-(c+h>>>1)&255}return s}function Gb(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=W7(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function W7(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function $7(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function i0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return J4(n,s)>>o&c}function Yb(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),h=(1<<r)-1,f=(e&h)<<c;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var C=A>>8&255;d.setUint8(v,C)}})(n,o,J4(n,o)&~(h<<c)&65535|f)}function J4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function K7(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var h=null,f=null;o&&(h=e,f=c,e+=3*c);var d=!0,v=[],A=0,C=null,_=0,P=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,P=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var q=n[e++];A=n[e++]|n[e++]<<8,C=n[e++],1&q||(C=null),_=q>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,ie=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,ae=n[e++],Se=ae>>6&1,Ne=1<<1+(7&ae),$=h,M=f,w=!1;ae>>7&&(w=!0,$=e,M=Ne,e+=3*Ne);var V=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}v.push({x:U,y:F,width:ie,height:K,has_local_palette:w,palette_offset:$,palette_size:M,data_offset:V,data_length:e-V,transparent_index:C,interlaced:!!Se,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return P},this.frameInfo=function(N){if(N<0||N>=v.length)throw new Error("Frame index out of range.");return v[N]},this.decodeAndBlitFrameBGRA=function(N,E){var X=this.frameInfo(N),pe=X.width*X.height,re=new Uint8Array(pe);Wb(n,X.data_offset,re,pe);var he=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var de=X.width,Re=t-de,J=de,k=4*(X.y*t+X.x),O=4*((X.y+X.height)*t+X.x),Y=k,G=4*Re;X.interlaced===!0&&(G+=4*t*7);for(var se=8,fe=0,_e=re.length;fe<_e;++fe){var ge=re[fe];if(J===0&&(J=de,(Y+=G)>=O&&(G=4*Re+4*t*(se-1),Y=k+(de+Re)*(se<<1),se>>=1)),ge===te)Y+=4;else{var Oe=n[he+3*ge],ye=n[he+3*ge+1],Qe=n[he+3*ge+2];E[Y++]=Qe,E[Y++]=ye,E[Y++]=Oe,E[Y++]=255}--J}},this.decodeAndBlitFrameRGBA=function(N,E){var X=this.frameInfo(N),pe=X.width*X.height,re=new Uint8Array(pe);Wb(n,X.data_offset,re,pe);var he=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var de=X.width,Re=t-de,J=de,k=4*(X.y*t+X.x),O=4*((X.y+X.height)*t+X.x),Y=k,G=4*Re;X.interlaced===!0&&(G+=4*t*7);for(var se=8,fe=0,_e=re.length;fe<_e;++fe){var ge=re[fe];if(J===0&&(J=de,(Y+=G)>=O&&(G=4*Re+4*t*(se-1),Y=k+(de+Re)*(se<<1),se>>=1)),ge===te)Y+=4;else{var Oe=n[he+3*ge],ye=n[he+3*ge+1],Qe=n[he+3*ge+2];E[Y++]=Oe,E[Y++]=ye,E[Y++]=Qe,E[Y++]=255}--J}}}function Wb(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,h=c+1,f=s+1,d=(1<<f)-1,v=0,A=0,C=0,_=n[e++],P=new Int32Array(4096),q=null;;){for(;v<16&&_!==0;)A|=n[e++]<<v,v+=8,_===1?_=n[e++]:--_;if(v<f)break;var U=A&d;if(A>>=f,v-=f,U!==o){if(U===c)break;for(var F=U<h?U:q,ie=0,K=F;K>o;)K=P[K]>>8,++ie;var ae=K;if(C+ie+(F!==U?1:0)>r)return void hi.log("Warning, gif stream longer than expected.");t[C++]=ae;var Se=C+=ie;for(F!==U&&(t[C++]=ae),K=F;ie--;)K=P[K],t[--Se]=255&K,K>>=8;q!==null&&h<4096&&(P[h++]=q<<8|ae,h>=d+1&&f<12&&(++f,d=d<<1|1)),q=U}else h=c+1,d=(1<<(f=s+1))-1,q=null}return C!==r&&hi.log("Warning, gif stream shorter than expected."),t}function r0(n){var e,t,r,s,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),C=new Array(65535),_=new Array(64),P=new Array(64),q=[],U=0,F=7,ie=new Array(64),K=new Array(64),ae=new Array(64),Se=new Array(256),Ne=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(k,O){for(var Y=0,G=0,se=new Array,fe=1;fe<=16;fe++){for(var _e=1;_e<=k[fe];_e++)se[O[G]]=[],se[O[G]][0]=Y,se[O[G]][1]=fe,G++,Y++;Y*=2}return se}function he(k){for(var O=k[0],Y=k[1]-1;Y>=0;)O&1<<Y&&(U|=1<<F),Y--,--F<0&&(U==255?(te(255),te(0)):te(U),F=7,U=0)}function te(k){q.push(k)}function de(k){te(k>>8&255),te(255&k)}function Re(k,O,Y,G,se){for(var fe,_e=se[0],ge=se[240],Oe=(function(qe,rt){var it,Nt,_t,$t,Jt,Bt,on,Qt,mt,Ht,vt=0;for(mt=0;mt<8;++mt){it=qe[vt],Nt=qe[vt+1],_t=qe[vt+2],$t=qe[vt+3],Jt=qe[vt+4],Bt=qe[vt+5],on=qe[vt+6];var fi=it+(Qt=qe[vt+7]),Xt=it-Qt,Ct=Nt+on,Pt=Nt-on,Kt=_t+Bt,St=_t-Bt,Ln=$t+Jt,Mt=$t-Jt,Ot=fi+Ln,Mn=fi-Ln,wt=Ct+Kt,bt=Ct-Kt;qe[vt]=Ot+wt,qe[vt+4]=Ot-wt;var ln=.707106781*(bt+Mn);qe[vt+2]=Mn+ln,qe[vt+6]=Mn-ln;var dr=.382683433*((Ot=Mt+St)-(bt=Pt+Xt)),er=.5411961*Ot+dr,ja=1.306562965*bt+dr,Gi=.707106781*(wt=St+Pt),At=Xt+Gi,ts=Xt-Gi;qe[vt+5]=ts+er,qe[vt+3]=ts-er,qe[vt+1]=At+ja,qe[vt+7]=At-ja,vt+=8}for(vt=0,mt=0;mt<8;++mt){it=qe[vt],Nt=qe[vt+8],_t=qe[vt+16],$t=qe[vt+24],Jt=qe[vt+32],Bt=qe[vt+40],on=qe[vt+48];var Ur=it+(Qt=qe[vt+56]),Cr=it-Qt,Nr=Nt+on,Hn=Nt-on,Jn=_t+Bt,Mi=_t-Bt,pr=$t+Jt,tr=$t-Jt,On=Ur+pr,Wn=Ur-pr,Oi=Nr+Jn,Ir=Nr-Jn;qe[vt]=On+Oi,qe[vt+32]=On-Oi;var aa=.707106781*(Ir+Wn);qe[vt+16]=Wn+aa,qe[vt+48]=Wn-aa;var vs=.382683433*((On=tr+Mi)-(Ir=Hn+Cr)),xa=.5411961*On+vs,Rr=1.306562965*Ir+vs,ns=.707106781*(Oi=Mi+Hn),qr=Cr+ns,gr=Cr-ns;qe[vt+40]=gr+xa,qe[vt+24]=gr-xa,qe[vt+8]=qr+Rr,qe[vt+56]=qr-Rr,vt++}for(mt=0;mt<64;++mt)Ht=qe[mt]*rt[mt],_[mt]=Ht>0?Ht+.5|0:Ht-.5|0;return _})(k,O),ye=0;ye<64;++ye)P[$[ye]]=Oe[ye];var Qe=P[0]-Y;Y=P[0],Qe==0?he(G[0]):(he(G[C[fe=32767+Qe]]),he(A[fe]));for(var et=63;et>0&&P[et]==0;)et--;if(et==0)return he(_e),Y;for(var lt,oe=1;oe<=et;){for(var nt=oe;P[oe]==0&&oe<=et;)++oe;var Wt=oe-nt;if(Wt>=16){lt=Wt>>4;for(var Tt=1;Tt<=lt;++Tt)he(ge);Wt&=15}fe=32767+P[oe],he(se[(Wt<<4)+C[fe]]),he(A[fe]),oe++}return et!=63&&he(_e),Y}function J(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(O){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var se=c((Y[G]*O+50)/100);se=Math.min(Math.max(se,1),255),h[$[G]]=se}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ge=c((fe[_e]*O+50)/100);ge=Math.min(Math.max(ge,1),255),f[$[_e]]=ge}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Qe=0;Qe<8;Qe++)for(var et=0;et<8;et++)d[ye]=1/(h[$[ye]]*Oe[Qe]*Oe[et]*8),v[ye]=1/(f[$[ye]]*Oe[Qe]*Oe[et]*8),ye++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,O){O&&J(O),q=new Array,U=0,F=7,de(65496),de(65504),de(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),de(1),de(1),te(0),te(0),(function(){de(65499),de(132),te(0);for(var Nt=0;Nt<64;Nt++)te(h[Nt]);te(1);for(var _t=0;_t<64;_t++)te(f[_t])})(),(function(Nt,_t){de(65472),de(17),te(8),de(_t),de(Nt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(k.width,k.height),(function(){de(65476),de(418),te(0);for(var Nt=0;Nt<16;Nt++)te(M[Nt+1]);for(var _t=0;_t<=11;_t++)te(w[_t]);te(16);for(var $t=0;$t<16;$t++)te(V[$t+1]);for(var Jt=0;Jt<=161;Jt++)te(I[Jt]);te(1);for(var Bt=0;Bt<16;Bt++)te(N[Bt+1]);for(var on=0;on<=11;on++)te(E[on]);te(17);for(var Qt=0;Qt<16;Qt++)te(X[Qt+1]);for(var mt=0;mt<=161;mt++)te(pe[mt])})(),de(65498),de(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var Y=0,G=0,se=0;U=0,F=7,this.encode.displayName="_encode_";for(var fe,_e,ge,Oe,ye,Qe,et,lt,oe,nt=k.data,Wt=k.width,Tt=k.height,qe=4*Wt,rt=0;rt<Tt;){for(fe=0;fe<qe;){for(ye=qe*rt+fe,et=-1,lt=0,oe=0;oe<64;oe++)Qe=ye+(lt=oe>>3)*qe+(et=4*(7&oe)),rt+lt>=Tt&&(Qe-=qe*(rt+1+lt-Tt)),fe+et>=qe&&(Qe-=fe+et-qe+4),_e=nt[Qe++],ge=nt[Qe++],Oe=nt[Qe++],ie[oe]=(Ne[_e]+Ne[ge+256|0]+Ne[Oe+512|0]>>16)-128,K[oe]=(Ne[_e+768|0]+Ne[ge+1024|0]+Ne[Oe+1280|0]>>16)-128,ae[oe]=(Ne[_e+1280|0]+Ne[ge+1536|0]+Ne[Oe+1792|0]>>16)-128;Y=Re(ie,d,Y,e,r),G=Re(K,v,G,t,s),se=Re(ae,v,se,t,s),fe+=32}rt+=8}if(F>=0){var it=[];it[1]=F+1,it[0]=(1<<F+1)-1,he(it)}return de(65497),new Uint8Array(q)},n=n||50,(function(){for(var k=String.fromCharCode,O=0;O<256;O++)Se[O]=k(O)})(),e=re(M,w),t=re(N,E),r=re(V,I),s=re(X,pe),(function(){for(var k=1,O=2,Y=1;Y<=15;Y++){for(var G=k;G<O;G++)C[32767+G]=Y,A[32767+G]=[],A[32767+G][1]=Y,A[32767+G][0]=G;for(var se=-(O-1);se<=-k;se++)C[32767+se]=Y,A[32767+se]=[],A[32767+se][1]=Y,A[32767+se][0]=O-1+se;k<<=1,O<<=1}})(),(function(){for(var k=0;k<256;k++)Ne[k]=19595*k,Ne[k+256|0]=38470*k,Ne[k+512|0]=7471*k+32768,Ne[k+768|0]=-11059*k,Ne[k+1024|0]=-21709*k,Ne[k+1280|0]=32768*k+8421375,Ne[k+1536|0]=-27439*k,Ne[k+1792|0]=-5329*k})(),J(n)}function oo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $b(n){function e(w){if(!w)throw Error("assert :P")}function t(w,V,I){for(var N=0;4>N;N++)if(w[V+N]!=I.charCodeAt(N))return!0;return!1}function r(w,V,I,N,E){for(var X=0;X<E;X++)w[V+X]=I[N+X]}function s(w,V,I,N){for(var E=0;E<N;E++)w[V+E]=I}function o(w){return new Int32Array(w)}function c(w,V){for(var I=[],N=0;N<w;N++)I.push(new V);return I}function h(w,V){var I=[];return(function N(E,X,pe){for(var re=pe[X],he=0;he<re&&(E.push(pe.length>X+1?[]:new V),!(pe.length<X+1));he++)N(E[he],X+1,pe)})(I,0,w),I}var f=function(){var w=this;function V(p,b){for(var T=1<<b-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function I(p,b,T,j,B){e(!(j%T));do p[b+(j-=T)]=B;while(0<j)}function N(p,b,T,j,B){if(e(2328>=B),512>=B)var H=o(512);else if((H=o(B))==null)return 0;return(function(W,Z,ne,ce,be,je){var le,we,Ce=Z,Fe=1<<ne,Ie=o(16),ze=o(16);for(e(be!=0),e(ce!=null),e(W!=null),e(0<ne),we=0;we<be;++we){if(15<ce[we])return 0;++Ie[ce[we]]}if(Ie[0]==be)return 0;for(ze[1]=0,le=1;15>le;++le){if(Ie[le]>1<<le)return 0;ze[le+1]=ze[le]+Ie[le]}for(we=0;we<be;++we)le=ce[we],0<ce[we]&&(je[ze[le]++]=we);if(ze[15]==1)return(ce=new E).g=0,ce.value=je[0],I(W,Ce,1,Fe,ce),Fe;var Ue,Xe=-1,We=Fe-1,pt=0,st=1,Gt=1,ht=1<<ne;for(we=0,le=1,be=2;le<=ne;++le,be<<=1){if(st+=Gt<<=1,0>(Gt-=Ie[le]))return 0;for(;0<Ie[le];--Ie[le])(ce=new E).g=le,ce.value=je[we++],I(W,Ce+pt,be,ht,ce),pt=V(pt,le)}for(le=ne+1,be=2;15>=le;++le,be<<=1){if(st+=Gt<<=1,0>(Gt-=Ie[le]))return 0;for(;0<Ie[le];--Ie[le]){if(ce=new E,(pt&We)!=Xe){for(Ce+=ht,Ue=1<<(Xe=le)-ne;15>Xe&&!(0>=(Ue-=Ie[Xe]));)++Xe,Ue<<=1;Fe+=ht=1<<(Ue=Xe-ne),W[Z+(Xe=pt&We)].g=Ue+ne,W[Z+Xe].value=Ce-Z-Xe}ce.g=le-ne,ce.value=je[we++],I(W,Ce+(pt>>ne),be,ht,ce),pt=V(pt,le)}}return st!=2*ze[15]-1?0:Fe})(p,b,T,j,B,H)}function E(){this.value=this.g=0}function X(){this.value=this.g=0}function pe(){this.G=c(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Eo,X)}function re(p,b,T,j){e(p!=null),e(b!=null),e(2147483648>j),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=T,p.Jd=b,p.Yc=T+j,p.Zc=4<=j?T+j-4+1:T,_e(p)}function he(p,b){for(var T=0;0<b--;)T|=Oe(p,128)<<b;return T}function te(p,b){var T=he(p,b);return ge(p)?-T:T}function de(p,b,T,j){var B,H=0;for(e(p!=null),e(b!=null),e(4294967288>j),p.Sb=j,p.Ra=0,p.u=0,p.h=0,4<j&&(j=4),B=0;B<j;++B)H+=b[T+B]<<8*B;p.Ra=H,p.bb=j,p.oa=b,p.pa=T}function Re(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ts-8>>>0,++p.bb,p.u-=8;G(p)&&(p.h=1,p.u=0)}function J(p,b){if(e(0<=b),!p.h&&b<=Xr){var T=Y(p)&ca[b];return p.u+=b,Re(p),T}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(p){return p.Ra>>>(p.u&Ts-1)>>>0}function G(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ts}function se(p,b){p.u=b,p.h=G(p)}function fe(p){p.u>=Cs&&(e(p.u>=Cs),Re(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ge(p){return he(p,1)}function Oe(p,b){var T=p.Ca;0>p.b&&_e(p);var j=p.b,B=T*b>>>8,H=(p.I>>>j>B)+0;for(H?(T-=B,p.I-=B+1<<j>>>0):T=B+1,j=T,B=0;256<=j;)B+=8,j>>=8;return j=7^B+$s[j],p.b-=j,p.Ca=(T<<j)-1,H}function ye(p,b,T){p[b+0]=T>>24&255,p[b+1]=T>>16&255,p[b+2]=T>>8&255,p[b+3]=255&T}function Qe(p,b){return p[b+0]|p[b+1]<<8}function et(p,b){return Qe(p,b)|p[b+2]<<16}function lt(p,b){return Qe(p,b)|Qe(p,b+2)<<16}function oe(p,b){var T=1<<b;return e(p!=null),e(0<b),p.X=o(T),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function nt(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),r(b.X,0,p.X,0,1<<b.Xa)}function Wt(){this.X=[],this.Xa=this.Mb=0}function Tt(p,b,T,j){e(T!=null),e(j!=null);var B=T[0],H=j[0];return B==0&&(B=(p*H+b/2)/b),H==0&&(H=(b*B+p/2)/p),0>=B||0>=H?0:(T[0]=B,j[0]=H,1)}function qe(p,b){return p+(1<<b)-1>>>b}function rt(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function it(p,b){w[b]=function(T,j,B,H,W,Z,ne){var ce;for(ce=0;ce<W;++ce){var be=w[p](Z[ne+ce-1],B,H+ce);Z[ne+ce]=rt(T[j+ce],be)}}}function Nt(){this.ud=this.hd=this.jd=0}function _t(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function $t(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Jt(p,b){return $t(p+(p-b+.5>>1))}function Bt(p,b,T){return Math.abs(b-T)-Math.abs(p-T)}function on(p,b,T,j,B,H,W){for(j=H[W-1],T=0;T<B;++T)H[W+T]=j=rt(p[b+T],j)}function Qt(p,b,T,j,B){var H;for(H=0;H<T;++H){var W=p[b+H],Z=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((Z<<16)+Z));j[B+H]=(4278255360&W)+ne>>>0}}function mt(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function Ht(p,b,T,j,B,H){var W;for(W=0;W<j;++W){var Z=b[T+W],ne=Z>>>8,ce=Z,be=255&(be=(be=Z>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));ce=255&(ce=(ce+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(be<<24>>24)>>>5)),B[H+W]=(4278255360&Z)+(be<<16)+ce}}function vt(p,b,T,j,B){w[b]=function(H,W,Z,ne,ce,be,je,le,we){for(ne=je;ne<le;++ne)for(je=0;je<we;++je)ce[be++]=B(Z[j(H[W++])])},w[p]=function(H,W,Z,ne,ce,be,je){var le=8>>H.b,we=H.Ea,Ce=H.K[0],Fe=H.w;if(8>le)for(H=(1<<H.b)-1,Fe=(1<<le)-1;W<Z;++W){var Ie,ze=0;for(Ie=0;Ie<we;++Ie)Ie&H||(ze=j(ne[ce++])),be[je++]=B(Ce[ze&Fe]),ze>>=le}else w["VP8LMapColor"+T](ne,ce,Ce,Fe,be,je,W,Z,we)}}function fi(p,b,T,j,B){for(T=b+T;b<T;){var H=p[b++];j[B++]=H>>16&255,j[B++]=H>>8&255,j[B++]=255&H}}function Xt(p,b,T,j,B){for(T=b+T;b<T;){var H=p[b++];j[B++]=H>>16&255,j[B++]=H>>8&255,j[B++]=255&H,j[B++]=H>>24&255}}function Ct(p,b,T,j,B){for(T=b+T;b<T;){var H=(W=p[b++])>>16&240|W>>12&15,W=240&W|W>>28&15;j[B++]=H,j[B++]=W}}function Pt(p,b,T,j,B){for(T=b+T;b<T;){var H=(W=p[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;j[B++]=H,j[B++]=W}}function Kt(p,b,T,j,B){for(T=b+T;b<T;){var H=p[b++];j[B++]=255&H,j[B++]=H>>8&255,j[B++]=H>>16&255}}function St(p,b,T,j,B,H){if(H==0)for(T=b+T;b<T;)ye(j,((H=p[b++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else r(j,B,p,b,T)}function Ln(p,b){w[b][0]=w[p+"0"],w[b][1]=w[p+"1"],w[b][2]=w[p+"2"],w[b][3]=w[p+"3"],w[b][4]=w[p+"4"],w[b][5]=w[p+"5"],w[b][6]=w[p+"6"],w[b][7]=w[p+"7"],w[b][8]=w[p+"8"],w[b][9]=w[p+"9"],w[b][10]=w[p+"10"],w[b][11]=w[p+"11"],w[b][12]=w[p+"12"],w[b][13]=w[p+"13"],w[b][14]=w[p+"0"],w[b][15]=w[p+"0"]}function Mt(p){return p==Hu||p==Sc||p==Wl||p==Ac}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new Mn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function er(p,b){var T=p.T,j=b.ba.f.RGBA,B=j.eb,H=j.fb+p.ka*j.A,W=wr[b.ba.S],Z=p.y,ne=p.O,ce=p.f,be=p.N,je=p.ea,le=p.W,we=b.cc,Ce=b.dc,Fe=b.Mc,Ie=b.Nc,ze=p.ka,Ue=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(ze==0?W(Z,ne,null,null,ce,be,je,le,ce,be,je,le,B,H,null,null,Xe):(W(b.ec,b.fc,Z,ne,we,Ce,Fe,Ie,ce,be,je,le,B,H-j.A,B,H,Xe),++T);ze+2<Ue;ze+=2)we=ce,Ce=be,Fe=je,Ie=le,be+=p.Rc,le+=p.Rc,H+=2*j.A,W(Z,(ne+=2*p.fa)-p.fa,Z,ne,we,Ce,Fe,Ie,ce,be,je,le,B,H-j.A,B,H,Xe);return ne+=p.fa,p.j+Ue<p.o?(r(b.ec,b.fc,Z,ne,Xe),r(b.cc,b.dc,ce,be,We),r(b.Mc,b.Nc,je,le,We),T--):1&Ue||W(Z,ne,null,null,ce,be,je,le,ce,be,je,le,B,H+j.A,null,null,Xe),T}function ja(p,b,T){var j=p.F,B=[p.J];if(j!=null){var H=p.U,W=b.ba.S,Z=W==qu||W==Wl;b=b.ba.f.RGBA;var ne=[0],ce=p.ka;ne[0]=p.T,p.Kb&&(ce==0?--ne[0]:(--ce,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-ce));var be=b.eb;ce=b.fb+ce*b.A,p=Fu(j,B[0],p.width,H,ne,be,ce+(Z?0:3),b.A),e(T==ne),p&&Mt(W)&&ll(be,ce,Z,H,ne,b.A)}return 0}function Gi(p){var b=p.ma,T=b.ba.S,j=11>T,B=T==Or||T==Fa||T==qu||T==Yl||T==12||Mt(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ws(b.Oa,p,B?11:12))return 0;if(B&&Mt(T)&&qt(),p.da)alert("todo:use_scaling");else{if(j){if(b.Ib=dr,p.Kb){if(T=p.U+1>>1,b.memory=o(p.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=er,qt()}}else alert("todo:EmitYUV");B&&(b.Jb=ja,j&&ke())}if(j&&!Lo){for(p=0;256>p;++p)Sr[p]=89858*(p-128)+Ql>>Ga,u1[p]=-22014*(p-128)+Ql,nd[p]=-45773*(p-128),Ic[p]=113618*(p-128)+Ql>>Ga;for(p=fl;p<jo;++p)b=76283*(p-16)+Ql>>Ga,c1[p-fl]=Gr(b,255),h1[p-fl]=Gr(b+8>>4,15);Lo=1}return 1}function At(p){var b=p.ma,T=p.U,j=p.T;return e(!(1&p.ka)),0>=T||0>=j?0:(T=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,T),b.Dc+=T,1)}function ts(p){p.ma.memory=null}function Ur(p,b,T,j){return J(p,8)!=47?0:(b[0]=J(p,14)+1,T[0]=J(p,14)+1,j[0]=J(p,1),J(p,3)!=0?0:!p.h)}function Cr(p,b){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+J(b,T)+1}function Nr(p,b){return 120<b?b-120:1<=(T=((T=Va[b-1])>>4)*p+(8-(15&T)))?T:1;var T}function Hn(p,b,T){var j=Y(T),B=p[b+=255&j].g-8;return 0<B&&(se(T,T.u+8),j=Y(T),b+=p[b].value,b+=j&(1<<B)-1),se(T,T.u+p[b].g),p[b].value}function Jn(p,b,T){return T.g+=p.g,T.value+=p.value<<b>>>0,e(8>=T.g),p.g}function Mi(p,b,T){var j=p.xc;return e((b=j==0?0:p.vc[p.md*(T>>j)+(b>>j)])<p.Wb),p.Ya[b]}function pr(p,b,T,j){var B=p.ab,H=p.c*b,W=p.C;b=W+b;var Z=T,ne=j;for(j=p.Ta,T=p.Ua;0<B--;){var ce=p.gc[B],be=W,je=b,le=Z,we=ne,Ce=(ne=j,Z=T,ce.Ea);switch(e(be<je),e(je<=ce.nc),ce.hc){case 2:Ri(le,we,(je-be)*Ce,ne,Z);break;case 0:var Fe=be,Ie=je,ze=ne,Ue=Z,Xe=(ht=ce).Ea;Fe==0&&(Ul(le,we,null,null,1,ze,Ue),on(le,we+1,0,0,Xe-1,ze,Ue+1),we+=Xe,Ue+=Xe,++Fe);for(var We=1<<ht.b,pt=We-1,st=qe(Xe,ht.b),Gt=ht.K,ht=ht.w+(Fe>>ht.b)*st;Fe<Ie;){var pn=Gt,ui=ht,en=1;for(ql(le,we,ze,Ue-Xe,1,ze,Ue);en<Xe;){var ot=(en&~pt)+We;ot>Xe&&(ot=Xe),(0,Ks[pn[ui++]>>8&15])(le,we+ +en,ze,Ue+en-Xe,ot-en,ze,Ue+en),en=ot}we+=Xe,Ue+=Xe,++Fe&pt||(ht+=st)}je!=ce.nc&&r(ne,Z-Ce,ne,Z+(je-be-1)*Ce,Ce);break;case 1:for(Ce=le,Ie=we,Xe=(le=ce.Ea)-(Ue=le&~(ze=(we=1<<ce.b)-1)),Fe=qe(le,ce.b),We=ce.K,ce=ce.w+(be>>ce.b)*Fe;be<je;){for(pt=We,st=ce,Gt=new Nt,ht=Ie+Ue,pn=Ie+le;Ie<ht;)mt(pt[st++],Gt),Hl(Gt,Ce,Ie,we,ne,Z),Ie+=we,Z+=we;Ie<pn&&(mt(pt[st++],Gt),Hl(Gt,Ce,Ie,Xe,ne,Z),Ie+=Xe,Z+=Xe),++be&ze||(ce+=Fe)}break;case 3:if(le==ne&&we==Z&&0<ce.b){for(Ie=ne,le=Ce=Z+(je-be)*Ce-(Ue=(je-be)*qe(ce.Ea,ce.b)),we=ne,ze=Z,Fe=[],Ue=(Xe=Ue)-1;0<=Ue;--Ue)Fe[Ue]=we[ze+Ue];for(Ue=Xe-1;0<=Ue;--Ue)Ie[le+Ue]=Fe[Ue];vc(ce,be,je,ne,Ce,ne,Z)}else vc(ce,be,je,le,we,ne,Z)}Z=j,ne=T}ne!=T&&r(j,T,Z,ne,H)}function tr(p,b){var T=p.V,j=p.Ba+p.c*p.C,B=b-p.C;if(e(b<=p.l.o),e(16>=B),0<B){var H=p.l,W=p.Ta,Z=p.Ua,ne=H.width;if(pr(p,B,T,j),B=Z=[Z],e((T=p.C)<(j=b)),e(H.v<H.va),j>H.o&&(j=H.o),T<H.j){var ce=H.j-T;T=H.j,B[0]+=ce*ne}if(T>=j?T=0:(B[0]+=4*H.v,H.ka=T-H.j,H.U=H.va-H.v,H.T=j-T,T=1),T){if(Z=Z[0],11>(T=p.ca).S){var be=T.f.RGBA,je=(j=T.S,B=H.U,H=H.T,ce=be.eb,be.A),le=H;for(be=be.fb+p.Ma*be.A;0<le--;){var we=W,Ce=Z,Fe=B,Ie=ce,ze=be;switch(j){case _c:Gl(we,Ce,Fe,Ie,ze);break;case Or:Qs(we,Ce,Fe,Ie,ze);break;case Hu:Qs(we,Ce,Fe,Ie,ze),ll(Ie,ze,0,Fe,1,0);break;case wc:sl(we,Ce,Fe,Ie,ze);break;case Fa:St(we,Ce,Fe,Ie,ze,1);break;case Sc:St(we,Ce,Fe,Ie,ze,1),ll(Ie,ze,0,Fe,1,0);break;case qu:St(we,Ce,Fe,Ie,ze,0);break;case Wl:St(we,Ce,Fe,Ie,ze,0),ll(Ie,ze,1,Fe,1,0);break;case Yl:Xs(we,Ce,Fe,Ie,ze);break;case Ac:Xs(we,Ce,Fe,Ie,ze),za(Ie,ze,Fe,1,0);break;case To:Rs(we,Ce,Fe,Ie,ze);break;default:e(0)}Z+=ne,be+=je}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=T.height)}}p.C=b,e(p.C<=p.i)}function On(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var T=p.Ya[b].G,j=p.Ya[b].H;if(0<T[1][j[1]+0].g||0<T[2][j[2]+0].g||0<T[3][j[3]+0].g)return 0}return 1}function Wn(p,b,T,j,B,H){if(p.Z!=0){var W=p.qd,Z=p.rd;for(e(eo[p.Z]!=null);b<T;++b)eo[p.Z](W,Z,j,B,j,B,H),W=j,Z=B,B+=H;p.qd=W,p.rd=Z}}function Oi(p,b){var T=p.l.ma,j=T.Z==0||T.Z==1?p.l.j:p.C;if(j=p.C<j?j:p.C,e(b<=p.l.o),b>j){var B=p.l.width,H=T.ca,W=T.tb+B*j,Z=p.V,ne=p.Ba+p.c*j,ce=p.gc;e(p.ab==1),e(ce[0].hc==3),Is(ce[0],j,b,Z,ne,H,W),Wn(T,j,b,H,W,B)}p.C=p.Ma=b}function Ir(p,b,T,j,B,H,W){var Z=p.$/j,ne=p.$%j,ce=p.m,be=p.s,je=T+p.$,le=je;B=T+j*B;var we=T+j*H,Ce=280+be.ua,Fe=p.Pb?Z:16777216,Ie=0<be.ua?be.Wa:null,ze=be.wc,Ue=je<we?Mi(be,ne,Z):null;e(p.C<H),e(we<=B);var Xe=!1;e:for(;;){for(;Xe||je<we;){var We=0;if(Z>=Fe){var pt=je-T;e((Fe=p).Pb),Fe.wd=Fe.m,Fe.xd=pt,0<Fe.s.ua&&nt(Fe.s.Wa,Fe.s.vb),Fe=Z+Co}if(ne&ze||(Ue=Mi(be,ne,Z)),e(Ue!=null),Ue.Qb&&(b[je]=Ue.qb,Xe=!0),!Xe)if(fe(ce),Ue.jc){We=ce,pt=b;var st=je,Gt=Ue.pd[Y(We)&Eo-1];e(Ue.jc),256>Gt.g?(se(We,We.u+Gt.g),pt[st]=Gt.value,We=0):(se(We,We.u+Gt.g-256),e(256<=Gt.value),We=Gt.value),We==0&&(Xe=!0)}else We=Hn(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Xe||256>We){if(!Xe)if(Ue.nd)b[je]=(Ue.qb|We<<8)>>>0;else{if(fe(ce),Xe=Hn(Ue.G[1],Ue.H[1],ce),fe(ce),pt=Hn(Ue.G[2],Ue.H[2],ce),st=Hn(Ue.G[3],Ue.H[3],ce),ce.h)break;b[je]=(st<<24|Xe<<16|We<<8|pt)>>>0}if(Xe=!1,++je,++ne>=j&&(ne=0,++Z,W!=null&&Z<=H&&!(Z%16)&&W(p,Z),Ie!=null))for(;le<je;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=Cr(We-256,ce),pt=Hn(Ue.G[4],Ue.H[4],ce),fe(ce),pt=Nr(j,pt=Cr(pt,ce)),ce.h)break;if(je-T<pt||B-je<We)break e;for(st=0;st<We;++st)b[je+st]=b[je+st-pt];for(je+=We,ne+=We;ne>=j;)ne-=j,++Z,W!=null&&Z<=H&&!(Z%16)&&W(p,Z);if(e(je<=B),ne&ze&&(Ue=Mi(be,ne,Z)),Ie!=null)for(;le<je;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Ce))break e;for(Xe=We-280,e(Ie!=null);le<je;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=je,e(!(Xe>>>(pt=Ie).Xa)),b[We]=pt.X[Xe],Xe=!0}Xe||e(ce.h==G(ce))}if(p.Pb&&ce.h&&je<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&nt(p.s.vb,p.s.Wa);else{if(ce.h)break e;W?.(p,Z>H?H:Z),p.a=0,p.$=je-T}return 1}return p.a=3,0}function aa(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function vs(){var p=new jt;return p==null?null:(p.a=0,p.xb=Mh,Ln("Predictor","VP8LPredictors"),Ln("Predictor","VP8LPredictors_C"),Ln("PredictorAdd","VP8LPredictorsAdd"),Ln("PredictorAdd","VP8LPredictorsAdd_C"),Ri=Qt,Hl=Ht,Gl=fi,Qs=Xt,Xs=Ct,Rs=Pt,sl=Kt,w.VP8LMapColor32b=Ns,w.VP8LMapColor8b=br,p)}function xa(p,b,T,j,B){var H=1,W=[p],Z=[b],ne=j.m,ce=j.s,be=null,je=0;e:for(;;){if(T)for(;H&&J(ne,1);){var le=W,we=Z,Ce=j,Fe=1,Ie=Ce.m,ze=Ce.gc[Ce.ab],Ue=J(Ie,2);if(Ce.Oc&1<<Ue)H=0;else{switch(Ce.Oc|=1<<Ue,ze.hc=Ue,ze.Ea=le[0],ze.nc=we[0],ze.K=[null],++Ce.ab,e(4>=Ce.ab),Ue){case 0:case 1:ze.b=J(Ie,3)+2,Fe=xa(qe(ze.Ea,ze.b),qe(ze.nc,ze.b),0,Ce,ze.K),ze.K=ze.K[0];break;case 3:var Xe,We=J(Ie,8)+1,pt=16<We?0:4<We?1:2<We?2:3;if(le[0]=qe(ze.Ea,pt),ze.b=pt,Xe=Fe=xa(We,1,0,Ce,ze.K)){var st,Gt=We,ht=ze,pn=1<<(8>>ht.b),ui=o(pn);if(ui==null)Xe=0;else{var en=ht.K[0],ot=ht.w;for(ui[0]=ht.K[0][0],st=1;st<1*Gt;++st)ui[st]=rt(en[ot+st],ui[st-1]);for(;st<4*pn;++st)ui[st]=0;ht.K[0]=null,ht.K[0]=ui,Xe=1}}Fe=Xe;break;case 2:break;default:e(0)}H=Fe}}if(W=W[0],Z=Z[0],H&&J(ne,1)&&!(H=1<=(je=J(ne,4))&&11>=je)){j.a=3;break e}var tt;if(tt=H)t:{var gi,zt,an,Vn=j,$i=W,Ar=Z,ii=je,zi=T,Pr=Vn.m,Fi=Vn.s,hn=[null],En=1,mi=0,kn=Ua[ii];n:for(;;){if(zi&&J(Pr,1)){var Ki=J(Pr,3)+2,yi=qe($i,Ki),Tn=qe(Ar,Ki),Di=yi*Tn;if(!xa(yi,Tn,0,Vn,hn))break n;for(hn=hn[0],Fi.xc=Ki,gi=0;gi<Di;++gi){var Un=hn[gi]>>8&65535;hn[gi]=Un,Un>=En&&(En=Un+1)}}if(Pr.h)break n;for(zt=0;5>zt;++zt){var Bi=cl[zt];!zt&&0<ii&&(Bi+=1<<ii),mi<Bi&&(mi=Bi)}var Vi=c(En*kn,E),Kn=En,An=c(Kn,pe);if(An==null)var zr=null;else e(65536>=Kn),zr=An;var Ai=o(mi);if(zr==null||Ai==null||Vi==null){Vn.a=1;break n}var Rt=Vi;for(gi=an=0;gi<En;++gi){var Lt=zr[gi],Cn=Lt.G,ha=Lt.H,Ya=0,Jr=1,Ui=0;for(zt=0;5>zt;++zt){Bi=cl[zt],Cn[zt]=Rt,ha[zt]=an,!zt&&0<ii&&(Bi+=1<<ii);r:{var Do,ko=Bi,jc=Vn,ri=Ai,Ph=Rt,zh=an,Lc=0,to=jc.m,f1=J(to,1);if(s(ri,0,0,ko),f1){var Fh=J(to,1)+1,Bh=J(to,1),Dc=J(to,Bh==0?1:8);ri[Dc]=1,Fh==2&&(ri[Dc=J(to,8)]=1);var ar=1}else{var Ei=o(19),$u=J(to,4)+4;if(19<$u){jc.a=3;var Mo=0;break r}for(Do=0;Do<$u;++Do)Ei[Gu[Do]]=J(to,3);var Zl=void 0,dl=void 0,Ds=jc,kc=Ei,Jl=ko,Mc=ri,Oc=0,no=Ds.m,Vh=8,Uh=c(128,E);i:for(;N(Uh,0,7,kc,19);){if(J(no,1)){var id=2+2*J(no,3);if((Zl=2+J(no,id))>Jl)break i}else Zl=Jl;for(dl=0;dl<Jl&&Zl--;){fe(no);var qh=Uh[0+(127&Y(no))];se(no,no.u+qh.g);var Oo=qh.value;if(16>Oo)Mc[dl++]=Oo,Oo!=0&&(Vh=Oo);else{var rd=Oo==16,ad=Oo-16,sd=$l[ad],Hh=J(no,Ba[ad])+sd;if(dl+Hh>Jl)break i;for(var od=rd?Vh:0;0<Hh--;)Mc[dl++]=od}}Oc=1;break i}Oc||(Ds.a=3),ar=Oc}(ar=ar&&!to.h)&&(Lc=N(Ph,zh,8,ri,ko)),ar&&Lc!=0?Mo=Lc:(jc.a=3,Mo=0)}if(Mo==0)break n;if(Jr&&Ec[zt]==1&&(Jr=Rt[an].g==0),Ya+=Rt[an].g,an+=Mo,3>=zt){var pl,Pc=Ai[0];for(pl=1;pl<Bi;++pl)Ai[pl]>Pc&&(Pc=Ai[pl]);Ui+=Pc}}if(Lt.nd=Jr,Lt.Qb=0,Jr&&(Lt.qb=(Cn[3][ha[3]+0].value<<24|Cn[1][ha[1]+0].value<<16|Cn[2][ha[2]+0].value)>>>0,Ya==0&&256>Cn[0][ha[0]+0].value&&(Lt.Qb=1,Lt.qb+=Cn[0][ha[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>Ui,Lt.jc){var Ku,ks=Lt;for(Ku=0;Ku<Eo;++Ku){var io=Ku,ro=ks.pd[io],zc=ks.G[0][ks.H[0]+io];256<=zc.value?(ro.g=zc.g+256,ro.value=zc.value):(ro.g=0,ro.value=0,io>>=Jn(zc,8,ro),io>>=Jn(ks.G[1][ks.H[1]+io],16,ro),io>>=Jn(ks.G[2][ks.H[2]+io],0,ro),Jn(ks.G[3][ks.H[3]+io],24,ro))}}}Fi.vc=hn,Fi.Wb=En,Fi.Ya=zr,Fi.yc=Vi,tt=1;break t}tt=0}if(!(H=tt)){j.a=3;break e}if(0<je){if(ce.ua=1<<je,!oe(ce.Wa,je)){j.a=1,H=0;break e}}else ce.ua=0;var Fc=j,gl=W,ld=Z,eu=Fc.s,tu=eu.xc;if(Fc.c=gl,Fc.i=ld,eu.md=qe(gl,tu),eu.wc=tu==0?-1:(1<<tu)-1,T){j.xb=No;break e}if((be=o(W*Z))==null){j.a=1,H=0;break e}H=(H=Ir(j,be,0,W,Z,Z,null))&&!ne.h;break e}return H?(B!=null?B[0]=be:(e(be==null),e(T)),j.$=0,T||aa(ce)):aa(ce),H}function Rr(p,b){var T=p.c*p.i,j=T+b+16*b;return e(p.c<=b),p.V=o(j),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+b,1)}function ns(p,b){var T=p.C,j=b-T,B=p.V,H=p.Ba+p.c*T;for(e(b<=p.l.o);0<j;){var W=16<j?16:j,Z=p.l.ma,ne=p.l.width,ce=ne*W,be=Z.ca,je=Z.tb+ne*T,le=p.Ta,we=p.Ua;pr(p,W,B,H),Na(le,we,be,je,ce),Wn(Z,T,T+W,be,je,ne),j-=W,B+=W*p.c,T+=W}e(T==b),p.C=p.Ma=b}function qr(){this.ub=this.yd=this.td=this.Rb=0}function gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function sa(){this.Yb=(function(){var p=[];return(function b(T,j,B){for(var H=B[j],W=0;W<H&&(T.push(B.length>j+1?[]:0),!(B.length<j+1));W++)b(T[W],j+1,B)})(p,0,[3,11]),p})()}function pi(){this.jb=o(3),this.Wc=h([4,8],sa),this.Xc=h([4,17],sa)}function yo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function oa(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vo(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new Bs),this.aa=0,this.l=new nr}function bo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Jo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new qr,this.Kc=new gr,this.ed=new yo,this.Qa=new Hr,this.Ic=this.$c=this.Aa=0,this.D=new vo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,_a),this.Pa=new pi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bo),this.Hd=0,this.rb=Array(new oa),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bs),this.L=this.aa=0,this.gd=h([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(p,b){return 0>p?0:p>b?b:p}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var p=new Jo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ia||(Ia=vn)),p}function fn(p,b,T){return p.a==0&&(p.a=b,p.sc=T,p.cb=0),0}function is(p,b,T){return 3<=T&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function la(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,j=b.w,B=b.ha;if(4>B)return fn(p,7,"Truncated header.");var H=T[j+0]|T[j+1]<<8|T[j+2]<<16,W=p.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return fn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return fn(p,4,"Frame not displayable.");j+=3,B-=3;var Z=p.Kc;if(W.Rb){if(7>B)return fn(p,7,"cannot parse picture header");if(!is(T,j,B))return fn(p,3,"Bad code word");Z.c=16383&(T[j+4]<<8|T[j+3]),Z.Td=T[j+4]>>6,Z.i=16383&(T[j+6]<<8|T[j+5]),Z.Ud=T[j+6]>>6,j+=7,B-=7,p.za=Z.c+15>>4,p.Ub=Z.i+15>>4,b.width=Z.c,b.height=Z.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(W.ub>B)return fn(p,7,"bad partition length");re(H=p.m,T,j,W.ub),j+=W.ub,B-=W.ub,W.Rb&&(Z.Ld=ge(H),Z.Kd=ge(H)),Z=p.Qa;var ne,ce=p.Pa;if(e(H!=null),e(Z!=null),Z.Cb=ge(H),Z.Cb){if(Z.Bb=ge(H),ge(H)){for(Z.Fb=ge(H),ne=0;4>ne;++ne)Z.Zb[ne]=ge(H)?te(H,7):0;for(ne=0;4>ne;++ne)Z.Lb[ne]=ge(H)?te(H,6):0}if(Z.Bb)for(ne=0;3>ne;++ne)ce.jb[ne]=ge(H)?he(H,8):255}else Z.Bb=0;if(H.Ka)return fn(p,3,"cannot parse segment header");if((Z=p.ed).zd=ge(H),Z.Tb=he(H,6),Z.wb=he(H,3),Z.Pc=ge(H),Z.Pc&&ge(H)){for(ce=0;4>ce;++ce)ge(H)&&(Z.vd[ce]=te(H,6));for(ce=0;4>ce;++ce)ge(H)&&(Z.od[ce]=te(H,6))}if(p.L=Z.Tb==0?0:Z.zd?1:2,H.Ka)return fn(p,3,"cannot parse filter header");var be=B;if(B=ne=j,j=ne+be,Z=be,p.Xb=(1<<he(p.m,2))-1,be<3*(ce=p.Xb))T=7;else{for(ne+=3*ce,Z-=3*ce,be=0;be<ce;++be){var je=T[B+0]|T[B+1]<<8|T[B+2]<<16;je>Z&&(je=Z),re(p.Jc[+be],T,ne,je),ne+=je,Z-=je,B+=3}re(p.Jc[+ce],T,ne,Z),T=ne<j?0:5}if(T!=0)return fn(p,T,"cannot parse partitions");for(T=he(ne=p.m,7),B=ge(ne)?te(ne,4):0,j=ge(ne)?te(ne,4):0,Z=ge(ne)?te(ne,4):0,ce=ge(ne)?te(ne,4):0,ne=ge(ne)?te(ne,4):0,be=p.Qa,je=0;4>je;++je){if(be.Cb){var le=be.Zb[je];be.Fb||(le+=T)}else{if(0<je){p.pb[je]=p.pb[0];continue}le=T}var we=p.pb[je];we.Sc[0]=qa[Gr(le+B,127)],we.Sc[1]=Ha[Gr(le+0,127)],we.Eb[0]=2*qa[Gr(le+j,127)],we.Eb[1]=101581*Ha[Gr(le+Z,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=qa[Gr(le+ce,117)],we.Qc[1]=Ha[Gr(le+ne,127)],we.lc=le+ne}if(!W.Rb)return fn(p,4,"Not a key frame.");for(ge(H),W=p.Pa,T=0;4>T;++T){for(B=0;8>B;++B)for(j=0;3>j;++j)for(Z=0;11>Z;++Z)ce=Oe(H,li[T][B][j][Z])?he(H,8):td[T][B][j][Z],W.Wc[T][B].Yb[j][Z]=ce;for(B=0;17>B;++B)W.Xc[T][B]=W.Wc[T][gn[B]]}return p.kc=ge(H),p.kc&&(p.Bd=he(H,8)),p.cb=1}function vn(p,b,T,j,B,H,W){var Z=b[B].Yb[T];for(T=0;16>B;++B){if(!Oe(p,Z[T+0]))return B;for(;!Oe(p,Z[T+1]);)if(Z=b[++B].Yb[0],T=0,B==16)return 16;var ne=b[B+1].Yb;if(Oe(p,Z[T+2])){var ce=p,be=0;if(Oe(ce,(le=Z)[(je=T)+3]))if(Oe(ce,le[je+6])){for(Z=0,je=2*(be=Oe(ce,le[je+8]))+(le=Oe(ce,le[je+9+be])),be=0,le=ed[je];le[Z];++Z)be+=be+Oe(ce,le[Z]);be+=3+(8<<je)}else Oe(ce,le[je+7])?(be=7+2*Oe(ce,165),be+=Oe(ce,145)):be=5+Oe(ce,159);else be=Oe(ce,le[je+4])?3+Oe(ce,le[je+5]):2;Z=ne[2]}else be=1,Z=ne[1];ne=W+kh[B],0>(ce=p).b&&_e(ce);var je,le=ce.b,we=(je=ce.Ca>>1)-(ce.I>>le)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(je+1&we)<<le,H[ne]=((be^we)-we)*j[(0<B)+0]}return 16}function bs(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,b,T,j,B){B=p[b+T+32*j]+(B>>3),p[b+T+32*j]=-256&B?0>B?0:255:B}function oi(p,b,T,j,B,H){Ni(p,b,0,T,j+B),Ni(p,b,1,T,j+H),Ni(p,b,2,T,j-H),Ni(p,b,3,T,j-B)}function wi(p){return(20091*p>>16)+p}function Vs(p,b,T,j){var B,H=0,W=o(16);for(B=0;4>B;++B){var Z=p[b+0]+p[b+8],ne=p[b+0]-p[b+8],ce=(35468*p[b+4]>>16)-wi(p[b+12]),be=wi(p[b+4])+(35468*p[b+12]>>16);W[H+0]=Z+be,W[H+1]=ne+ce,W[H+2]=ne-ce,W[H+3]=Z-be,H+=4,b++}for(B=H=0;4>B;++B)Z=(p=W[H+0]+4)+W[H+8],ne=p-W[H+8],ce=(35468*W[H+4]>>16)-wi(W[H+12]),Ni(T,j,0,0,Z+(be=wi(W[H+4])+(35468*W[H+12]>>16))),Ni(T,j,1,0,ne+ce),Ni(T,j,2,0,ne-ce),Ni(T,j,3,0,Z-be),H++,j+=32}function Bl(p,b,T,j){var B=p[b+0]+4,H=35468*p[b+4]>>16,W=wi(p[b+4]),Z=35468*p[b+1]>>16;oi(T,j,0,B+W,p=wi(p[b+1]),Z),oi(T,j,1,B+H,p,Z),oi(T,j,2,B-H,p,Z),oi(T,j,3,B-W,p,Z)}function el(p,b,T,j,B){Vs(p,b,T,j),B&&Vs(p,b+16,T,j+4)}function mr(p,b,T,j){Zs(p,b+0,T,j,1),Zs(p,b+32,T,j+128,1)}function tl(p,b,T,j){var B;for(p=p[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)Ni(T,j,b,B,p)}function rs(p,b,T,j){p[b+0]&&Dn(p,b+0,T,j),p[b+16]&&Dn(p,b+16,T,j+4),p[b+32]&&Dn(p,b+32,T,j+128),p[b+48]&&Dn(p,b+48,T,j+128+4)}function Yi(p,b,T,j){var B,H=o(16);for(B=0;4>B;++B){var W=p[b+0+B]+p[b+12+B],Z=p[b+4+B]+p[b+8+B],ne=p[b+4+B]-p[b+8+B],ce=p[b+0+B]-p[b+12+B];H[0+B]=W+Z,H[8+B]=W-Z,H[4+B]=ce+ne,H[12+B]=ce-ne}for(B=0;4>B;++B)W=(p=H[0+4*B]+3)+H[3+4*B],Z=H[1+4*B]+H[2+4*B],ne=H[1+4*B]-H[2+4*B],ce=p-H[3+4*B],T[j+0]=W+Z>>3,T[j+16]=ce+ne>>3,T[j+32]=W-Z>>3,T[j+48]=ce-ne>>3,j+=64}function xs(p,b,T){var j,B=b-32,H=Mr,W=255-p[B-1];for(j=0;j<T;++j){var Z,ne=H,ce=W+p[b-1];for(Z=0;Z<T;++Z)p[b+Z]=ne[ce+p[B+Z]];b+=32}}function nl(p,b){xs(p,b,4)}function il(p,b){xs(p,b,8)}function xo(p,b){xs(p,b,16)}function _o(p,b){var T;for(T=0;16>T;++T)r(p,b+32*T,p,b-32,16)}function as(p,b){var T;for(T=16;0<T;--T)s(p,b,p[b-1],16),b+=32}function Lr(p,b,T){var j;for(j=0;16>j;++j)s(b,T+32*j,p,16)}function wa(p,b){var T,j=16;for(T=0;16>T;++T)j+=p[b-1+32*T]+p[b+T-32];Lr(j>>5,p,b)}function ss(p,b){var T,j=8;for(T=0;16>T;++T)j+=p[b-1+32*T];Lr(j>>4,p,b)}function Dr(p,b){var T,j=8;for(T=0;16>T;++T)j+=p[b+T-32];Lr(j>>4,p,b)}function _s(p,b){Lr(128,p,b)}function It(p,b,T){return p+2*b+T+2>>2}function Us(p,b){var T,j=b-32;for(j=new Uint8Array([It(p[j-1],p[j+0],p[j+1]),It(p[j+0],p[j+1],p[j+2]),It(p[j+1],p[j+2],p[j+3]),It(p[j+2],p[j+3],p[j+4])]),T=0;4>T;++T)r(p,b+32*T,j,0,j.length)}function wo(p,b){var T=p[b-1],j=p[b-1+32],B=p[b-1+64],H=p[b-1+96];ye(p,b+0,16843009*It(p[b-1-32],T,j)),ye(p,b+32,16843009*It(T,j,B)),ye(p,b+64,16843009*It(j,B,H)),ye(p,b+96,16843009*It(B,H,H))}function ws(p,b){var T,j=4;for(T=0;4>T;++T)j+=p[b+T-32]+p[b-1+32*T];for(j>>=3,T=0;4>T;++T)s(p,b+32*T,j,4)}function Wi(p,b){var T=p[b-1+0],j=p[b-1+32],B=p[b-1+64],H=p[b-1-32],W=p[b+0-32],Z=p[b+1-32],ne=p[b+2-32],ce=p[b+3-32];p[b+0+96]=It(j,B,p[b-1+96]),p[b+1+96]=p[b+0+64]=It(T,j,B),p[b+2+96]=p[b+1+64]=p[b+0+32]=It(H,T,j),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=It(W,H,T),p[b+3+64]=p[b+2+32]=p[b+1+0]=It(Z,W,H),p[b+3+32]=p[b+2+0]=It(ne,Z,W),p[b+3+0]=It(ce,ne,Z)}function Pi(p,b){var T=p[b+1-32],j=p[b+2-32],B=p[b+3-32],H=p[b+4-32],W=p[b+5-32],Z=p[b+6-32],ne=p[b+7-32];p[b+0+0]=It(p[b+0-32],T,j),p[b+1+0]=p[b+0+32]=It(T,j,B),p[b+2+0]=p[b+1+32]=p[b+0+64]=It(j,B,H),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=It(B,H,W),p[b+3+32]=p[b+2+64]=p[b+1+96]=It(H,W,Z),p[b+3+64]=p[b+2+96]=It(W,Z,ne),p[b+3+96]=It(Z,ne,ne)}function qs(p,b){var T=p[b-1+0],j=p[b-1+32],B=p[b-1+64],H=p[b-1-32],W=p[b+0-32],Z=p[b+1-32],ne=p[b+2-32],ce=p[b+3-32];p[b+0+0]=p[b+1+64]=H+W+1>>1,p[b+1+0]=p[b+2+64]=W+Z+1>>1,p[b+2+0]=p[b+3+64]=Z+ne+1>>1,p[b+3+0]=ne+ce+1>>1,p[b+0+96]=It(B,j,T),p[b+0+64]=It(j,T,H),p[b+0+32]=p[b+1+96]=It(T,H,W),p[b+1+32]=p[b+2+96]=It(H,W,Z),p[b+2+32]=p[b+3+96]=It(W,Z,ne),p[b+3+32]=It(Z,ne,ce)}function Pn(p,b){var T=p[b+0-32],j=p[b+1-32],B=p[b+2-32],H=p[b+3-32],W=p[b+4-32],Z=p[b+5-32],ne=p[b+6-32],ce=p[b+7-32];p[b+0+0]=T+j+1>>1,p[b+1+0]=p[b+0+64]=j+B+1>>1,p[b+2+0]=p[b+1+64]=B+H+1>>1,p[b+3+0]=p[b+2+64]=H+W+1>>1,p[b+0+32]=It(T,j,B),p[b+1+32]=p[b+0+96]=It(j,B,H),p[b+2+32]=p[b+1+96]=It(B,H,W),p[b+3+32]=p[b+2+96]=It(H,W,Z),p[b+3+64]=It(W,Z,ne),p[b+3+96]=It(Z,ne,ce)}function Yr(p,b){var T=p[b-1+0],j=p[b-1+32],B=p[b-1+64],H=p[b-1+96];p[b+0+0]=T+j+1>>1,p[b+2+0]=p[b+0+32]=j+B+1>>1,p[b+2+32]=p[b+0+64]=B+H+1>>1,p[b+1+0]=It(T,j,B),p[b+3+0]=p[b+1+32]=It(j,B,H),p[b+3+32]=p[b+1+64]=It(B,H,H),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=H}function Hs(p,b){var T=p[b-1+0],j=p[b-1+32],B=p[b-1+64],H=p[b-1+96],W=p[b-1-32],Z=p[b+0-32],ne=p[b+1-32],ce=p[b+2-32];p[b+0+0]=p[b+2+32]=T+W+1>>1,p[b+0+32]=p[b+2+64]=j+T+1>>1,p[b+0+64]=p[b+2+96]=B+j+1>>1,p[b+0+96]=H+B+1>>1,p[b+3+0]=It(Z,ne,ce),p[b+2+0]=It(W,Z,ne),p[b+1+0]=p[b+3+32]=It(T,W,Z),p[b+1+32]=p[b+3+64]=It(j,T,W),p[b+1+64]=p[b+3+96]=It(B,j,T),p[b+1+96]=It(H,B,j)}function Sa(p,b){var T;for(T=0;8>T;++T)r(p,b+32*T,p,b-32,8)}function rl(p,b){var T;for(T=0;8>T;++T)s(p,b,p[b-1],8),b+=32}function Wr(p,b,T){var j;for(j=0;8>j;++j)s(b,T+32*j,p,8)}function os(p,b){var T,j=8;for(T=0;8>T;++T)j+=p[b+T-32]+p[b-1+32*T];Wr(j>>4,p,b)}function $r(p,b){var T,j=4;for(T=0;8>T;++T)j+=p[b+T-32];Wr(j>>3,p,b)}function Ii(p,b){var T,j=4;for(T=0;8>T;++T)j+=p[b-1+32*T];Wr(j>>3,p,b)}function La(p,b){Wr(128,p,b)}function ir(p,b,T){var j=p[b-T],B=p[b+0],H=3*(B-j)+Js[1020+p[b-2*T]-p[b+T]],W=Uu[112+(H+4>>3)];p[b-T]=Mr[255+j+Uu[112+(H+3>>3)]],p[b+0]=Mr[255+B-W]}function Da(p,b,T,j){var B=p[b+0],H=p[b+T];return xr[255+p[b-2*T]-p[b-T]]>j||xr[255+H-B]>j}function Ss(p,b,T,j){return 4*xr[255+p[b-T]-p[b+0]]+xr[255+p[b-2*T]-p[b+T]]<=j}function ka(p,b,T,j,B){var H=p[b-3*T],W=p[b-2*T],Z=p[b-T],ne=p[b+0],ce=p[b+T],be=p[b+2*T],je=p[b+3*T];return 4*xr[255+Z-ne]+xr[255+W-ce]>j?0:xr[255+p[b-4*T]-H]<=B&&xr[255+H-W]<=B&&xr[255+W-Z]<=B&&xr[255+je-be]<=B&&xr[255+be-ce]<=B&&xr[255+ce-ne]<=B}function Ma(p,b,T,j){var B=2*j+1;for(j=0;16>j;++j)Ss(p,b+j,T,B)&&ir(p,b+j,T)}function ua(p,b,T,j){var B=2*j+1;for(j=0;16>j;++j)Ss(p,b+j*T,1,B)&&ir(p,b+j*T,1)}function Gs(p,b,T,j){var B;for(B=3;0<B;--B)Ma(p,b+=4*T,T,j)}function So(p,b,T,j){var B;for(B=3;0<B;--B)ua(p,b+=4,T,j)}function Kr(p,b,T,j,B,H,W,Z){for(H=2*H+1;0<B--;){if(ka(p,b,T,H,W))if(Da(p,b,T,Z))ir(p,b,T);else{var ne=p,ce=b,be=T,je=ne[ce-2*be],le=ne[ce-be],we=ne[ce+0],Ce=ne[ce+be],Fe=ne[ce+2*be],Ie=27*(Ue=Js[1020+3*(we-le)+Js[1020+je-Ce]])+63>>7,ze=18*Ue+63>>7,Ue=9*Ue+63>>7;ne[ce-3*be]=Mr[255+ne[ce-3*be]+Ue],ne[ce-2*be]=Mr[255+je+ze],ne[ce-be]=Mr[255+le+Ie],ne[ce+0]=Mr[255+we-Ie],ne[ce+be]=Mr[255+Ce-ze],ne[ce+2*be]=Mr[255+Fe-Ue]}b+=j}}function Oa(p,b,T,j,B,H,W,Z){for(H=2*H+1;0<B--;){if(ka(p,b,T,H,W))if(Da(p,b,T,Z))ir(p,b,T);else{var ne=p,ce=b,be=T,je=ne[ce-be],le=ne[ce+0],we=ne[ce+be],Ce=Uu[112+(4+(Fe=3*(le-je))>>3)],Fe=Uu[112+(Fe+3>>3)],Ie=Ce+1>>1;ne[ce-2*be]=Mr[255+ne[ce-2*be]+Ie],ne[ce-be]=Mr[255+je+Fe],ne[ce+0]=Mr[255+le-Ce],ne[ce+be]=Mr[255+we-Ie]}b+=j}}function al(p,b,T,j,B,H){Kr(p,b,T,1,16,j,B,H)}function Aa(p,b,T,j,B,H){Kr(p,b,1,T,16,j,B,H)}function Ao(p,b,T,j,B,H){var W;for(W=3;0<W;--W)Oa(p,b+=4*T,T,1,16,j,B,H)}function S(p,b,T,j,B,H){var W;for(W=3;0<W;--W)Oa(p,b+=4,1,T,16,j,B,H)}function z(p,b,T,j,B,H,W,Z){Kr(p,b,B,1,8,H,W,Z),Kr(T,j,B,1,8,H,W,Z)}function ue(p,b,T,j,B,H,W,Z){Kr(p,b,1,B,8,H,W,Z),Kr(T,j,1,B,8,H,W,Z)}function ve(p,b,T,j,B,H,W,Z){Oa(p,b+4*B,B,1,8,H,W,Z),Oa(T,j+4*B,B,1,8,H,W,Z)}function Ae(p,b,T,j,B,H,W,Z){Oa(p,b+4,1,B,8,H,W,Z),Oa(T,j+4,1,B,8,H,W,Z)}function Be(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Wt,this.vb=new Wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new E}function jt(){this.xb=this.a=0,this.l=new nr,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,ut),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(p,b,T,j,B,H,W){for(p=p==null?0:p[b+0],b=0;b<W;++b)B[H+b]=p+T[j+b]&255,p=B[H+b]}function ei(p,b,T,j,B,H,W){var Z;if(p==null)dn(null,null,T,j,B,H,W);else for(Z=0;Z<W;++Z)B[H+Z]=p[b+Z]+T[j+Z]&255}function Gn(p,b,T,j,B,H,W){if(p==null)dn(null,null,T,j,B,H,W);else{var Z,ne=p[b+0],ce=ne,be=ne;for(Z=0;Z<W;++Z)ce=be+(ne=p[b+Z])-ce,be=T[j+Z]+(-256&ce?0>ce?0:255:ce)&255,ce=ne,B[H+Z]=be}}function m(p,b,T,j){var B=b.width,H=b.o;if(e(p!=null&&b!=null),0>T||0>=j||T+j>H)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Et,(W=p.ga==null)||(W=b.width*b.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var Z=p.Fa,ne=p.P,ce=p.qc,be=p.mb,je=p.nb,le=ne+1,we=ce-1,Ce=W.l;if(e(Z!=null&&be!=null&&b!=null),eo[0]=null,eo[1]=dn,eo[2]=ei,eo[3]=Gn,W.ca=be,W.tb=je,W.c=b.width,W.i=b.height,e(0<W.c&&0<W.i),1>=ce)b=0;else if(W.$a=3&Z[ne+0],W.Z=Z[ne+0]>>2&3,W.Lc=Z[ne+0]>>4&3,ne=Z[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)b=0;else if(Ce.put=At,Ce.ac=Gi,Ce.bc=ts,Ce.ma=W,Ce.width=b.width,Ce.height=b.height,Ce.Da=b.Da,Ce.v=b.v,Ce.va=b.va,Ce.j=b.j,Ce.o=b.o,W.$a)e:{e(W.$a==1),b=vs();t:for(;;){if(b==null){b=0;break e}if(e(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,de(b.m,Z,le,we),!xa(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&On(b.s)?(W.ic=1,Z=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(Z),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=Rr(b,W.c)),!b))break t;b=1;break e}W.mc=null,b=0}else b=we>=W.c*W.i;W=!b}if(W)return null;p.ga.Lc!=1?p.Ga=0:j=H-T}e(p.ga!=null),e(T+j<=H);e:{if(b=(Z=p.ga).c,H=Z.l.o,Z.$a==0){if(le=p.rc,we=p.Vc,Ce=p.Fa,ne=p.P+1+T*b,ce=p.mb,be=p.nb+T*b,e(ne<=p.P+p.qc),Z.Z!=0)for(e(eo[Z.Z]!=null),W=0;W<j;++W)eo[Z.Z](le,we,Ce,ne,ce,be,b),le=ce,we=be,be+=b,ne+=b;else for(W=0;W<j;++W)r(ce,be,Ce,ne,b),le=ce,we=be,be+=b,ne+=b;p.rc=le,p.Vc=we}else{if(e(Z.mc!=null),b=T+j,e((W=Z.mc)!=null),e(b<=W.i),W.C>=b)b=1;else if(Z.ic||ke(),Z.ic){Z=W.V,le=W.Ba,we=W.c;var Fe=W.i,Ie=(Ce=1,ne=W.$/we,ce=W.$%we,be=W.m,je=W.s,W.$),ze=we*Fe,Ue=we*b,Xe=je.wc,We=Ie<Ue?Mi(je,ce,ne):null;e(Ie<=ze),e(b<=Fe),e(On(je));t:for(;;){for(;!be.h&&Ie<Ue;){if(ce&Xe||(We=Mi(je,ce,ne)),e(We!=null),fe(be),256>(Fe=Hn(We.G[0],We.H[0],be)))Z[le+Ie]=Fe,++Ie,++ce>=we&&(ce=0,++ne<=b&&!(ne%16)&&Oi(W,ne));else{if(!(280>Fe)){Ce=0;break t}Fe=Cr(Fe-256,be);var pt,st=Hn(We.G[4],We.H[4],be);if(fe(be),!(Ie>=(st=Nr(we,st=Cr(st,be)))&&ze-Ie>=Fe)){Ce=0;break t}for(pt=0;pt<Fe;++pt)Z[le+Ie+pt]=Z[le+Ie+pt-st];for(Ie+=Fe,ce+=Fe;ce>=we;)ce-=we,++ne<=b&&!(ne%16)&&Oi(W,ne);Ie<Ue&&ce&Xe&&(We=Mi(je,ce,ne))}e(be.h==G(be))}Oi(W,ne>b?b:ne);break t}!Ce||be.h&&Ie<ze?(Ce=0,W.a=be.h?5:3):W.$=Ie,b=Ce}else b=Ir(W,W.V,W.Ba,W.c,W.i,b,ns);if(!b){j=0;break e}}T+j>=H&&(p.Cc=1),j=1}if(!j)return null;if(p.Cc&&((j=p.ga)!=null&&(j.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*B}function R(p,b,T,j,B,H){for(;0<B--;){var W,Z=p,ne=b+(T?1:0),ce=p,be=b+(T?0:3);for(W=0;W<j;++W){var je=ce[be+4*W];je!=255&&(je*=32897,Z[ne+4*W+0]=Z[ne+4*W+0]*je>>23,Z[ne+4*W+1]=Z[ne+4*W+1]*je>>23,Z[ne+4*W+2]=Z[ne+4*W+2]*je>>23)}b+=H}}function D(p,b,T,j,B){for(;0<j--;){var H;for(H=0;H<T;++H){var W=p[b+2*H+0],Z=15&(ce=p[b+2*H+1]),ne=4369*Z,ce=(240&ce|ce>>4)*ne>>16;p[b+2*H+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,p[b+2*H+1]=240&ce|Z}b+=B}}function ee(p,b,T,j,B,H,W,Z){var ne,ce,be=255;for(ce=0;ce<B;++ce){for(ne=0;ne<j;++ne){var je=p[b+ne];H[W+4*ne]=je,be&=je}b+=T,W+=Z}return be!=255}function Te(p,b,T,j,B){var H;for(H=0;H<B;++H)T[j+H]=p[b+H]>>8}function ke(){ll=R,za=D,Fu=ee,Na=Te}function Je(p,b,T){w[p]=function(j,B,H,W,Z,ne,ce,be,je,le,we,Ce,Fe,Ie,ze,Ue,Xe){var We,pt=Xe-1>>1,st=Z[ne+0]|ce[be+0]<<16,Gt=je[le+0]|we[Ce+0]<<16;e(j!=null);var ht=3*st+Gt+131074>>2;for(b(j[B+0],255&ht,ht>>16,Fe,Ie),H!=null&&(ht=3*Gt+st+131074>>2,b(H[W+0],255&ht,ht>>16,ze,Ue)),We=1;We<=pt;++We){var pn=Z[ne+We]|ce[be+We]<<16,ui=je[le+We]|we[Ce+We]<<16,en=st+pn+Gt+ui+524296,ot=en+2*(pn+Gt)>>3;ht=ot+st>>1,st=(en=en+2*(st+ui)>>3)+pn>>1,b(j[B+2*We-1],255&ht,ht>>16,Fe,Ie+(2*We-1)*T),b(j[B+2*We-0],255&st,st>>16,Fe,Ie+(2*We-0)*T),H!=null&&(ht=en+Gt>>1,st=ot+ui>>1,b(H[W+2*We-1],255&ht,ht>>16,ze,Ue+(2*We-1)*T),b(H[W+2*We+0],255&st,st>>16,ze,Ue+(2*We+0)*T)),st=pn,Gt=ui}1&Xe||(ht=3*st+Gt+131074>>2,b(j[B+Xe-1],255&ht,ht>>16,Fe,Ie+(Xe-1)*T),H!=null&&(ht=3*Gt+st+131074>>2,b(H[W+Xe-1],255&ht,ht>>16,ze,Ue+(Xe-1)*T)))}}function qt(){wr[_c]=hl,wr[Or]=Kl,wr[wc]=Oh,wr[Fa]=Cc,wr[qu]=Io,wr[Yl]=Ls,wr[To]=Ro,wr[Hu]=Kl,wr[Sc]=Cc,wr[Wl]=Io,wr[Ac]=Ls}function ti(p){return p&-16384?0>p?0:255:p>>Nc}function cn(p,b){return ti((19077*p>>8)+(26149*b>>8)-14234)}function zn(p,b,T){return ti((19077*p>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function rr(p,b){return ti((19077*p>>8)+(33050*b>>8)-17685)}function yr(p,b,T,j,B){j[B+0]=cn(p,T),j[B+1]=zn(p,b,T),j[B+2]=rr(p,b)}function $n(p,b,T,j,B){j[B+0]=rr(p,b),j[B+1]=zn(p,b,T),j[B+2]=cn(p,T)}function vr(p,b,T,j,B){var H=zn(p,b,T);b=H<<3&224|rr(p,b)>>3,j[B+0]=248&cn(p,T)|H>>5,j[B+1]=b}function Ea(p,b,T,j,B){var H=240&rr(p,b)|15;j[B+0]=240&cn(p,T)|zn(p,b,T)>>4,j[B+1]=H}function As(p,b,T,j,B){j[B+0]=255,yr(p,b,T,j,B+1)}function Es(p,b,T,j,B){$n(p,b,T,j,B),j[B+3]=255}function Qr(p,b,T,j,B){yr(p,b,T,j,B),j[B+3]=255}function Ys(p,b,T){w[p]=function(j,B,H,W,Z,ne,ce,be,je){for(var le=be+(-2&je)*T;be!=le;)b(j[B+0],H[W+0],Z[ne+0],ce,be),b(j[B+1],H[W+0],Z[ne+0],ce,be+T),B+=2,++W,++ne,be+=2*T;1&je&&b(j[B+0],H[W+0],Z[ne+0],ce,be)}}function Vl(p,b,T){return T==0?p==0?b==0?6:5:b==0?4:0:T}function Ou(p,b,T,j,B){switch(p>>>30){case 3:Zs(b,T,j,B,0);break;case 2:kr(b,T,j,B);break;case 1:Dn(b,T,j,B)}}function Ta(p,b){var T,j,B=b.M,H=b.Nb,W=p.oc,Z=p.pc+40,ne=p.oc,ce=p.pc+584,be=p.oc,je=p.pc+600;for(T=0;16>T;++T)W[Z+32*T-1]=129;for(T=0;8>T;++T)ne[ce+32*T-1]=129,be[je+32*T-1]=129;for(0<B?W[Z-1-32]=ne[ce-1-32]=be[je-1-32]=129:(s(W,Z-32-1,127,21),s(ne,ce-32-1,127,9),s(be,je-32-1,127,9)),j=0;j<p.za;++j){var le=b.ya[b.aa+j];if(0<j){for(T=-1;16>T;++T)r(W,Z+32*T-4,W,Z+32*T+12,4);for(T=-1;8>T;++T)r(ne,ce+32*T-4,ne,ce+32*T+4,4),r(be,je+32*T-4,be,je+32*T+4,4)}var we=p.Gd,Ce=p.Hd+j,Fe=le.ad,Ie=le.Hc;if(0<B&&(r(W,Z-32,we[Ce].y,0,16),r(ne,ce-32,we[Ce].f,0,8),r(be,je-32,we[Ce].ea,0,8)),le.Za){var ze=W,Ue=Z-32+16;for(0<B&&(j>=p.za-1?s(ze,Ue,we[Ce].y[15],4):r(ze,Ue,we[Ce+1].y,0,4)),T=0;4>T;T++)ze[Ue+128+T]=ze[Ue+256+T]=ze[Ue+384+T]=ze[Ue+0+T];for(T=0;16>T;++T,Ie<<=2)ze=W,Ue=Z+Li[T],Si[le.Ob[T]](ze,Ue),Ou(Ie,Fe,16*+T,ze,Ue)}else if(ze=Vl(j,B,le.Ob[0]),Zr[ze](W,Z),Ie!=0)for(T=0;16>T;++T,Ie<<=2)Ou(Ie,Fe,16*+T,W,Z+Li[T]);for(T=le.Gc,ze=Vl(j,B,le.Dd),hs[ze](ne,ce),hs[ze](be,je),Ie=Fe,ze=ne,Ue=ce,255&(le=0|T)&&(170&le?Pa(Ie,256,ze,Ue):Sn(Ie,256,ze,Ue)),le=be,Ie=je,255&(T>>=8)&&(170&T?Pa(Fe,320,le,Ie):Sn(Fe,320,le,Ie)),B<p.Ub-1&&(r(we[Ce].y,0,W,Z+480,16),r(we[Ce].f,0,ne,ce+224,8),r(we[Ce].ea,0,be,je+224,8)),T=8*H*p.B,we=p.sa,Ce=p.ta+16*j+16*H*p.R,Fe=p.qa,le=p.ra+8*j+T,Ie=p.Ha,ze=p.Ia+8*j+T,T=0;16>T;++T)r(we,Ce+T*p.R,W,Z+32*T,16);for(T=0;8>T;++T)r(Fe,le+T*p.B,ne,ce+32*T,8),r(Ie,ze+T*p.B,be,je+32*T,8)}}function ls(p,b,T,j,B,H,W,Z,ne){var ce=[0],be=[0],je=0,le=ne!=null?ne.kd:0,we=ne??new $e;if(p==null||12>T)return 7;we.data=p,we.w=b,we.ha=T,b=[b],T=[T],we.gb=[we.gb];e:{var Ce=b,Fe=T,Ie=we.gb;if(e(p!=null),e(Fe!=null),e(Ie!=null),Ie[0]=0,12<=Fe[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){Ie=3;break e}var ze=lt(p,Ce[0]+4);if(12>ze||4294967286<ze){Ie=3;break e}if(le&&ze>Fe[0]-8){Ie=7;break e}Ie[0]=ze,Ce[0]+=12,Fe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(ze=0<we.gb[0],T=T[0];;){e:{var Ue=p;Fe=b,Ie=T;var Xe=ce,We=be,pt=Ce=[0];if((ht=je=[je])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ue,Fe[0],"VP8X")){if(lt(Ue,Fe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var st=lt(Ue,Fe[0]+8),Gt=1+et(Ue,Fe[0]+12);if(2147483648<=Gt*(Ue=1+et(Ue,Fe[0]+15))){Ie=3;break e}pt!=null&&(pt[0]=st),Xe!=null&&(Xe[0]=Gt),We!=null&&(We[0]=Ue),Fe[0]+=18,Ie[0]-=18,ht[0]=1}Ie=0}}if(je=je[0],Ce=Ce[0],Ie!=0)return Ie;if(Fe=!!(2&Ce),!ze&&je)return 3;if(H!=null&&(H[0]=!!(16&Ce)),W!=null&&(W[0]=Fe),Z!=null&&(Z[0]=0),W=ce[0],Ce=be[0],je&&Fe&&ne==null){Ie=0;break}if(4>T){Ie=7;break}if(ze&&je||!ze&&!je&&!t(p,b[0],"ALPH")){T=[T],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{st=p,Ie=b,ze=T;var ht=we.gb;Xe=we.na,We=we.P,pt=we.Sa,Gt=22,e(st!=null),e(ze!=null),Ue=Ie[0];var pn=ze[0];for(e(Xe!=null),e(pt!=null),Xe[0]=null,We[0]=null,pt[0]=0;;){if(Ie[0]=Ue,ze[0]=pn,8>pn){Ie=7;break e}var ui=lt(st,Ue+4);if(4294967286<ui){Ie=3;break e}var en=8+ui+1&-2;if(Gt+=en,0<ht&&Gt>ht){Ie=3;break e}if(!t(st,Ue,"VP8 ")||!t(st,Ue,"VP8L")){Ie=0;break e}if(pn[0]<en){Ie=7;break e}t(st,Ue,"ALPH")||(Xe[0]=st,We[0]=Ue+8,pt[0]=ui),Ue+=en,pn-=en}}if(T=T[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ie!=0)break}T=[T],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ht=p,Ie=b,ze=T,Xe=we.gb[0],We=we.Ja,pt=we.xa,st=Ie[0],Ue=!t(ht,st,"VP8 "),Gt=!t(ht,st,"VP8L"),e(ht!=null),e(ze!=null),e(We!=null),e(pt!=null),8>ze[0])Ie=7;else{if(Ue||Gt){if(ht=lt(ht,st+4),12<=Xe&&ht>Xe-12){Ie=3;break e}if(le&&ht>ze[0]-8){Ie=7;break e}We[0]=ht,Ie[0]+=8,ze[0]-=8,pt[0]=Gt}else pt[0]=5<=ze[0]&&ht[st+0]==47&&!(ht[st+4]>>5),We[0]=ze[0];Ie=0}if(T=T[0],we.Ja=we.Ja[0],we.xa=we.xa[0],b=b[0],Ie!=0)break;if(4294967286<we.Ja)return 3;if(Z==null||Fe||(Z[0]=we.xa?2:1),W=[W],Ce=[Ce],we.xa){if(5>T){Ie=7;break}Z=W,le=Ce,Fe=H,p==null||5>T?p=0:5<=T&&p[b+0]==47&&!(p[b+4]>>5)?(ze=[0],ht=[0],Xe=[0],de(We=new O,p,b,T),Ur(We,ze,ht,Xe)?(Z!=null&&(Z[0]=ze[0]),le!=null&&(le[0]=ht[0]),Fe!=null&&(Fe[0]=Xe[0]),p=1):p=0):p=0}else{if(10>T){Ie=7;break}Z=Ce,p==null||10>T||!is(p,b+3,T-3)?p=0:(le=p[b+0]|p[b+1]<<8|p[b+2]<<16,Fe=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=we.Ja||!Fe||!p?p=0:(W&&(W[0]=Fe),Z&&(Z[0]=p),p=1))}if(!p||(W=W[0],Ce=Ce[0],je&&(ce[0]!=W||be[0]!=Ce)))return 3;ne!=null&&(ne[0]=we,ne.offset=b-ne.w,e(4294967286>b-ne.w),e(ne.offset==ne.ha-T));break}return Ie==0||Ie==7&&je&&ne==null?(H!=null&&(H[0]|=we.na!=null&&0<we.na.length),j!=null&&(j[0]=W),B!=null&&(B[0]=Ce),0):Ie}function Ws(p,b,T){var j=b.width,B=b.height,H=0,W=0,Z=j,ne=B;if(b.Da=p!=null&&0<p.Da,b.Da&&(Z=p.cd,ne=p.bd,H=p.v,W=p.j,11>T||(H&=-2,W&=-2),0>H||0>W||0>=Z||0>=ne||H+Z>j||W+ne>B))return 0;if(b.v=H,b.j=W,b.va=H+Z,b.o=W+ne,b.U=Z,b.T=ne,b.da=p!=null&&0<p.da,b.da){if(!Tt(Z,ne,T=[p.ib],H=[p.hb]))return 0;b.ib=T[0],b.hb=H[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*j/4&&b.hb<3*B/4,b.Kb=0),1}function Pu(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function us(p,b,T,j){if(j==null||0>=p||0>=b)return 2;if(T!=null){if(T.Da){var B=T.cd,H=T.bd,W=-2&T.v,Z=-2&T.j;if(0>W||0>Z||0>=B||0>=H||W+B>p||Z+H>b)return 2;p=B,b=H}if(T.da){if(!Tt(p,b,B=[T.ib],H=[T.hb]))return 2;p=B[0],b=H[0]}}j.width=p,j.height=b;e:{var ne=j.width,ce=j.height;if(p=j.S,0>=ne||0>=ce||!(p>=_c&&13>p))p=2;else{if(0>=j.Rd&&j.sd==null){W=H=B=b=0;var be=(Z=ne*Rc[p])*ce;if(11>p||(H=(ce+1)/2*(b=(ne+1)/2),p==12&&(W=(B=ne)*ce)),(ce=o(be+2*H+W))==null){p=1;break e}j.sd=ce,11>p?((ne=j.f.RGBA).eb=ce,ne.fb=0,ne.A=Z,ne.size=be):((ne=j.f.kb).y=ce,ne.O=0,ne.fa=Z,ne.Fd=be,ne.f=ce,ne.N=0+be,ne.Ab=b,ne.Cd=H,ne.ea=ce,ne.W=0+be+H,ne.Db=b,ne.Ed=H,p==12&&(ne.F=ce,ne.J=0+be+2*H),ne.Tc=W,ne.lb=B)}if(b=1,B=j.S,H=j.width,W=j.height,B>=_c&&13>B)if(11>B)p=j.f.RGBA,b&=(Z=Math.abs(p.A))*(W-1)+H<=p.size,b&=Z>=H*Rc[B],b&=p.eb!=null;else{p=j.f.kb,Z=(H+1)/2,be=(W+1)/2,ne=Math.abs(p.fa),ce=Math.abs(p.Ab);var je=Math.abs(p.Db),le=Math.abs(p.lb),we=le*(W-1)+H;b&=ne*(W-1)+H<=p.Fd,b&=ce*(be-1)+Z<=p.Cd,b=(b&=je*(be-1)+Z<=p.Ed)&ne>=H&ce>=Z&je>=Z,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,B==12&&(b&=le>=H,b&=we<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||T!=null&&T.fd&&(p=Pu(j)),p}var Eo=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,Ts=32,Cs=8,$s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(p){return p},w.Predictor2=function(p,b,T){return b[T+0]},w.Predictor3=function(p,b,T){return b[T+1]},w.Predictor4=function(p,b,T){return b[T-1]},w.Predictor5=function(p,b,T){return _t(_t(p,b[T+1]),b[T+0])},w.Predictor6=function(p,b,T){return _t(p,b[T-1])},w.Predictor7=function(p,b,T){return _t(p,b[T+0])},w.Predictor8=function(p,b,T){return _t(b[T-1],b[T+0])},w.Predictor9=function(p,b,T){return _t(b[T+0],b[T+1])},w.Predictor10=function(p,b,T){return _t(_t(p,b[T-1]),_t(b[T+0],b[T+1]))},w.Predictor11=function(p,b,T){var j=b[T+0];return 0>=Bt(j>>24&255,p>>24&255,(b=b[T-1])>>24&255)+Bt(j>>16&255,p>>16&255,b>>16&255)+Bt(j>>8&255,p>>8&255,b>>8&255)+Bt(255&j,255&p,255&b)?j:p},w.Predictor12=function(p,b,T){var j=b[T+0];return($t((p>>24&255)+(j>>24&255)-((b=b[T-1])>>24&255))<<24|$t((p>>16&255)+(j>>16&255)-(b>>16&255))<<16|$t((p>>8&255)+(j>>8&255)-(b>>8&255))<<8|$t((255&p)+(255&j)-(255&b)))>>>0},w.Predictor13=function(p,b,T){var j=b[T-1];return(Jt((p=_t(p,b[T+0]))>>24&255,j>>24&255)<<24|Jt(p>>16&255,j>>16&255)<<16|Jt(p>>8&255,j>>8&255)<<8|Jt(255&p,255&j))>>>0};var Ul=w.PredictorAdd0;w.PredictorAdd1=on,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var ql=w.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ri,vc=w.ColorIndexInverseTransform,Ns=w.MapARGB,Is=w.VP8LColorIndexInverseTransformAlpha,br=w.MapAlpha,Ks=w.VP8LPredictorsAdd=[];Ks.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Hl,Gl,Qs,Xs,Rs,sl,Ca,Zs,kr,Pa,Dn,Sn,ni,ji,js,cs,ol,zu,jh,Xf,Zf,Jf,Lh,Dh,ll,za,Fu,Na,ul=o(511),bc=o(2041),Bu=o(225),Vu=o(767),xc=0,Js=bc,Uu=Bu,Mr=Vu,xr=ul,_c=0,Or=1,wc=2,Fa=3,qu=4,Yl=5,To=6,Hu=7,Sc=8,Wl=9,Ac=10,Ba=[2,3,7],$l=[3,3,11],cl=[280,256,256,256,40],Ec=[0,1,1,1,0],Gu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Va=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ua=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,qa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ha=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ia=null,ed=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],td=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zr=[],Si=[],hs=[],No=1,Mh=2,eo=[],wr=[];Je("UpsampleRgbLinePair",yr,3),Je("UpsampleBgrLinePair",$n,3),Je("UpsampleRgbaLinePair",Qr,4),Je("UpsampleBgraLinePair",Es,4),Je("UpsampleArgbLinePair",As,4),Je("UpsampleRgba4444LinePair",Ea,2),Je("UpsampleRgb565LinePair",vr,2);var hl=w.UpsampleRgbLinePair,Oh=w.UpsampleBgrLinePair,Kl=w.UpsampleRgbaLinePair,Cc=w.UpsampleBgraLinePair,Io=w.UpsampleArgbLinePair,Ls=w.UpsampleRgba4444LinePair,Ro=w.UpsampleRgb565LinePair,Ga=16,Ql=1<<Ga-1,fl=-227,jo=482,Nc=6,Lo=0,Sr=o(256),Ic=o(256),nd=o(256),u1=o(256),c1=o(jo-fl),h1=o(jo-fl);Ys("YuvToRgbRow",yr,3),Ys("YuvToBgrRow",$n,3),Ys("YuvToRgbaRow",Qr,4),Ys("YuvToBgraRow",Es,4),Ys("YuvToArgbRow",As,4),Ys("YuvToRgba4444Row",Ea,2),Ys("YuvToRgb565Row",vr,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Yu=[8,7,6,4,4,2,2,2,1,1,1,1],Wu=1;this.WebPDecodeRGBA=function(p,b,T,j,B){var H=Or,W=new Be,Z=new wt;W.ba=Z,Z.S=H,Z.width=[Z.width],Z.height=[Z.height];var ne=Z.width,ce=Z.height,be=new bt;if(be==null||p==null)var je=2;else e(be!=null),je=ls(p,b,T,be.width,be.height,be.Pd,be.Qd,be.format,null);if(je!=0?ne=0:(ne!=null&&(ne[0]=be.width[0]),ce!=null&&(ce[0]=be.height[0]),ne=1),ne){Z.width=Z.width[0],Z.height=Z.height[0],j!=null&&(j[0]=Z.width),B!=null&&(B[0]=Z.height);e:{if(j=new nr,(B=new $e).data=p,B.w=b,B.ha=T,B.kd=1,b=[0],e(B!=null),((p=ls(B.data,B.w,B.ha,null,null,null,b,null,B))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(W!=null),j.data=B.data,j.w=B.w+B.offset,j.ha=B.ha-B.offset,j.put=At,j.ac=Gi,j.bc=ts,j.ma=W,B.xa){if((p=vs())==null){W=1;break e}if((function(le,we){var Ce=[0],Fe=[0],Ie=[0];t:for(;;){if(le==null)return 0;if(we==null)return le.a=2,0;if(le.l=we,le.a=0,de(le.m,we.data,we.w,we.ha),!Ur(le.m,Ce,Fe,Ie)){le.a=3;break t}if(le.xb=Mh,we.width=Ce[0],we.height=Fe[0],!xa(Ce[0],Fe[0],1,le,null))break t;return 1}return e(le.a!=0),0})(p,j)){if(j=(b=us(j.width,j.height,W.Oa,W.ba))==0){t:{j=p;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((T=j.l)!=null),e((B=T.ma)!=null),j.xb!=0){if(j.ca=B.ba,j.tb=B.tb,e(j.ca!=null),!Ws(B.Oa,T,Fa)){j.a=2;break n}if(!Rr(j,T.width)||T.da)break n;if((T.da||Mt(j.ca.S))&&ke(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ke()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!oe(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Ir(j,j.V,j.Ba,j.c,j.i,T.o,tr))break n;B.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(b=p.a)}else b=p.a}else{if((p=new _i)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,la(p,j)){if((b=us(j.width,j.height,W.Oa,W.ba))==0){if(p.Aa=0,T=W.Oa,e((B=p)!=null),T!=null){if(0<(ne=0>(ne=T.Md)?0:100<ne?255:255*ne/100)){for(ce=be=0;4>ce;++ce)12>(je=B.pb[ce]).lc&&(je.ia=ne*Yu[0>je.lc?0:je.lc]>>3),be|=je.ia;be&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=T.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(le,we){if(le==null)return 0;if(we==null)return fn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!la(le,we))return 0;if(e(le.cb),we.ac==null||we.ac(we)){we.ob&&(le.L=0);var Ce=Xl[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=we.v-Ce>>4,le.zb=we.j-Ce>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=we.o+15+Ce>>4,le.Hb=we.va+15+Ce>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Fe=le.ed;for(Ce=0;4>Ce;++Ce){var Ie;if(le.Qa.Cb){var ze=le.Qa.Lb[Ce];le.Qa.Fb||(ze+=Fe.Tb)}else ze=Fe.Tb;for(Ie=0;1>=Ie;++Ie){var Ue=le.gd[Ce][Ie],Xe=ze;if(Fe.Pc&&(Xe+=Fe.vd[0],Ie&&(Xe+=Fe.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<Fe.wb&&(We=4<Fe.wb?We>>2:We>>1)>9-Fe.wb&&(We=9-Fe.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*Xe+We,Ue.ld=40<=Xe?2:15<=Xe?1:0}else Ue.tc=0;Ue.La=Ie}}}Ce=0}else fn(le,6,"Frame setup failed"),Ce=le.a;if(Ce=Ce==0){if(Ce){le.$c=0,0<le.Aa||(le.Ic=Wu);t:{Ce=le.Ic,Fe=4*(We=le.za);var pt=32*We,st=We+1,Gt=0<le.L?We*(0<le.Aa?2:1):0,ht=(le.Aa==2?2:1)*We;if((Ue=Fe+832+(Ie=3*(16*Ce+Xl[le.L])/2*pt)+(ze=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ue)Ce=0;else{if(Ue>le.Vb){if(le.Vb=0,le.Ec=o(Ue),le.Fc=0,le.Ec==null){Ce=fn(le,1,"no memory during frame initialization.");break t}le.Vb=Ue}Ue=le.Ec,Xe=le.Fc,le.Ac=Ue,le.Bc=Xe,Xe+=Fe,le.Gd=c(pt,bo),le.Hd=0,le.rb=c(st+1,oa),le.sb=1,le.wa=Gt?c(Gt,jr):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=We),e(!0),le.oc=Ue,le.pc=Xe,Xe+=832,le.ya=c(ht,Bs),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=We),le.R=16*We,le.B=8*We,We=(pt=Xl[le.L])*le.R,pt=pt/2*le.B,le.sa=Ue,le.ta=Xe+We,le.qa=le.sa,le.ra=le.ta+16*Ce*le.R+pt,le.Ha=le.qa,le.Ia=le.ra+8*Ce*le.B+pt,le.$c=0,Xe+=Ie,le.mb=ze?Ue:null,le.nb=ze?Xe:null,e(Xe+ze<=le.Fc+le.Vb),bs(le),s(le.Ac,le.Bc,0,Fe),Ce=1}}if(Ce){if(we.ka=0,we.y=le.sa,we.O=le.ta,we.f=le.qa,we.N=le.ra,we.ea=le.Ha,we.Vd=le.Ia,we.fa=le.R,we.Rc=le.B,we.F=null,we.J=0,!xc){for(Ce=-255;255>=Ce;++Ce)ul[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)bc[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Bu[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Vu[255+Ce]=0>Ce?0:255<Ce?255:Ce;xc=1}Ca=Yi,Zs=el,Pa=mr,Dn=tl,Sn=rs,kr=Bl,ni=al,ji=Aa,js=z,cs=ue,ol=Ao,zu=S,jh=ve,Xf=Ae,Zf=Ma,Jf=ua,Lh=Gs,Dh=So,Si[0]=ws,Si[1]=nl,Si[2]=Us,Si[3]=wo,Si[4]=Wi,Si[5]=qs,Si[6]=Pi,Si[7]=Pn,Si[8]=Hs,Si[9]=Yr,Zr[0]=wa,Zr[1]=xo,Zr[2]=_o,Zr[3]=as,Zr[4]=ss,Zr[5]=Dr,Zr[6]=_s,hs[0]=os,hs[1]=il,hs[2]=Sa,hs[3]=rl,hs[4]=Ii,hs[5]=$r,hs[6]=La,Ce=1}else Ce=0}Ce&&(Ce=(function(pn,ui){for(pn.M=0;pn.M<pn.Va;++pn.M){var en,ot=pn.Jc[pn.M&pn.Xb],tt=pn.m,gi=pn;for(en=0;en<gi.za;++en){var zt=tt,an=gi,Vn=an.Ac,$i=an.Bc+4*en,Ar=an.zc,ii=an.ya[an.aa+en];if(an.Qa.Bb?ii.$b=Oe(zt,an.Pa.jb[0])?2+Oe(zt,an.Pa.jb[2]):Oe(zt,an.Pa.jb[1]):ii.$b=0,an.kc&&(ii.Ad=Oe(zt,an.Bd)),ii.Za=!Oe(zt,145)+0,ii.Za){var zi=ii.Ob,Pr=0;for(an=0;4>an;++an){var Fi,hn=Ar[0+an];for(Fi=0;4>Fi;++Fi){hn=_r[Vn[$i+Fi]][hn];for(var En=Tc[Oe(zt,hn[0])];0<En;)En=Tc[2*En+Oe(zt,hn[En])];hn=-En,Vn[$i+Fi]=hn}r(zi,Pr,Vn,$i,4),Pr+=4,Ar[0+an]=hn}}else hn=Oe(zt,156)?Oe(zt,128)?1:3:Oe(zt,163)?2:0,ii.Ob[0]=hn,s(Vn,$i,hn,4),s(Ar,0,hn,4);ii.Dd=Oe(zt,142)?Oe(zt,114)?Oe(zt,183)?1:3:2:0}if(gi.m.Ka)return fn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(gi=ot,zt=(tt=pn).rb[tt.sb-1],Vn=tt.rb[tt.sb+tt.ja],en=tt.ya[tt.aa+tt.ja],$i=tt.kc?en.Ad:0)zt.la=Vn.la=0,en.Za||(zt.Na=Vn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var mi,kn;if(zt=Vn,Vn=gi,$i=tt.Pa.Xc,Ar=tt.ya[tt.aa+tt.ja],ii=tt.pb[Ar.$b],an=Ar.ad,zi=0,Pr=tt.rb[tt.sb-1],hn=Fi=0,s(an,zi,0,384),Ar.Za)var Ki=0,yi=$i[3];else{En=o(16);var Tn=zt.Na+Pr.Na;if(Tn=Ia(Vn,$i[1],Tn,ii.Eb,0,En,0),zt.Na=Pr.Na=(0<Tn)+0,1<Tn)Ca(En,0,an,zi);else{var Di=En[0]+3>>3;for(En=0;256>En;En+=16)an[zi+En]=Di}Ki=1,yi=$i[0]}var Un=15&zt.la,Bi=15&Pr.la;for(En=0;4>En;++En){var Vi=1&Bi;for(Di=kn=0;4>Di;++Di)Un=Un>>1|(Vi=(Tn=Ia(Vn,yi,Tn=Vi+(1&Un),ii.Sc,Ki,an,zi))>Ki)<<7,kn=kn<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Un>>=4,Bi=Bi>>1|Vi<<7,Fi=(Fi<<8|kn)>>>0}for(yi=Un,Ki=Bi>>4,mi=0;4>mi;mi+=2){for(kn=0,Un=zt.la>>4+mi,Bi=Pr.la>>4+mi,En=0;2>En;++En){for(Vi=1&Bi,Di=0;2>Di;++Di)Tn=Vi+(1&Un),Un=Un>>1|(Vi=0<(Tn=Ia(Vn,$i[2],Tn,ii.Qc,0,an,zi)))<<3,kn=kn<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Un>>=2,Bi=Bi>>1|Vi<<5}hn|=kn<<4*mi,yi|=Un<<4<<mi,Ki|=(240&Bi)<<mi}zt.la=yi,Pr.la=Ki,Ar.Hc=Fi,Ar.Gc=hn,Ar.ia=43690&hn?0:ii.ia,$i=!(Fi|hn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[en.$b][en.Za],tt.wa[tt.Y+tt.ja].La|=!$i),gi.Ka)return fn(pn,7,"Premature end-of-file encountered.")}if(bs(pn),tt=ui,gi=1,en=(ot=pn).D,zt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(en.M=ot.M,en.uc=zt,Ta(ot,en),gi=1,en=(kn=ot.D).Nb,zt=(hn=Xl[ot.L])*ot.R,Vn=hn/2*ot.B,En=16*en*ot.R,Di=8*en*ot.B,$i=ot.sa,Ar=ot.ta-zt+En,ii=ot.qa,an=ot.ra-Vn+Di,zi=ot.Ha,Pr=ot.Ia-Vn+Di,Bi=(Un=kn.M)==0,Fi=Un>=ot.Va-1,ot.Aa==2&&Ta(ot,kn),kn.uc)for(Vi=(Tn=ot).D.M,e(Tn.D.uc),kn=Tn.yb;kn<Tn.Hb;++kn){Ki=kn,yi=Vi;var Kn=(An=(Ui=Tn).D).Nb;mi=Ui.R;var An=An.wa[An.Y+Ki],zr=Ui.sa,Ai=Ui.ta+16*Kn*mi+16*Ki,Rt=An.dd,Lt=An.tc;if(Lt!=0)if(e(3<=Lt),Ui.L==1)0<Ki&&Jf(zr,Ai,mi,Lt+4),An.La&&Dh(zr,Ai,mi,Lt),0<yi&&Zf(zr,Ai,mi,Lt+4),An.La&&Lh(zr,Ai,mi,Lt);else{var Cn=Ui.B,ha=Ui.qa,Ya=Ui.ra+8*Kn*Cn+8*Ki,Jr=Ui.Ha,Ui=Ui.Ia+8*Kn*Cn+8*Ki;Kn=An.ld,0<Ki&&(ji(zr,Ai,mi,Lt+4,Rt,Kn),cs(ha,Ya,Jr,Ui,Cn,Lt+4,Rt,Kn)),An.La&&(zu(zr,Ai,mi,Lt,Rt,Kn),Xf(ha,Ya,Jr,Ui,Cn,Lt,Rt,Kn)),0<yi&&(ni(zr,Ai,mi,Lt+4,Rt,Kn),js(ha,Ya,Jr,Ui,Cn,Lt+4,Rt,Kn)),An.La&&(ol(zr,Ai,mi,Lt,Rt,Kn),jh(ha,Ya,Jr,Ui,Cn,Lt,Rt,Kn))}}if(ot.ia&&alert("todo:DitherRow"),tt.put!=null){if(kn=16*Un,Un=16*(Un+1),Bi?(tt.y=ot.sa,tt.O=ot.ta+En,tt.f=ot.qa,tt.N=ot.ra+Di,tt.ea=ot.Ha,tt.W=ot.Ia+Di):(kn-=hn,tt.y=$i,tt.O=Ar,tt.f=ii,tt.N=an,tt.ea=zi,tt.W=Pr),Fi||(Un-=hn),Un>tt.o&&(Un=tt.o),tt.F=null,tt.J=null,ot.Fa!=null&&0<ot.Fa.length&&kn<Un&&(tt.J=m(ot,tt,kn,Un-kn),tt.F=ot.mb,tt.F==null&&tt.F.length==0)){gi=fn(ot,3,"Could not decode alpha data.");break t}kn<tt.j&&(hn=tt.j-kn,kn=tt.j,e(!(1&hn)),tt.O+=ot.R*hn,tt.N+=ot.B*(hn>>1),tt.W+=ot.B*(hn>>1),tt.F!=null&&(tt.J+=tt.width*hn)),kn<Un&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=kn-tt.j,tt.U=tt.va-tt.v,tt.T=Un-kn,gi=tt.put(tt))}en+1!=ot.Ic||Fi||(r(ot.sa,ot.ta-zt,$i,Ar+16*ot.R,zt),r(ot.qa,ot.ra-Vn,ii,an+8*ot.B,Vn),r(ot.Ha,ot.Ia-Vn,zi,Pr+8*ot.B,Vn))}if(!gi)return fn(pn,6,"Output aborted.")}return 1})(le,we)),we.bc!=null&&we.bc(we),Ce&=1}return Ce?(le.cb=0,Ce):0})(p,j)||(b=p.a)}}else b=p.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Pu(W.ba))}W=b}H=W!=0?null:11>H?Z.f.RGBA.eb:Z.f.kb.y}else H=null;return H};var Rc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,V){for(var I="",N=0;N<4;N++)I+=String.fromCharCode(w[V++]);return I}function v(w,V){return w[V+0]|w[V+1]<<8}function A(w,V){return(w[V+0]|w[V+1]<<8|w[V+2]<<16)>>>0}function C(w,V){return(w[V+0]|w[V+1]<<8|w[V+2]<<16|w[V+3]<<24)>>>0}new f;var _=[0],P=[0],q=[],U=new f,F=n,ie=(function(w,V){var I={},N=0,E=!1,X=0,pe=0;if(I.frames=[],!(function(k,O){for(var Y=0;Y<4;Y++)if(k[O+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(w,V)){for(C(w,V+=4),V+=8;V<w.length;){var re=d(w,V),he=C(w,V+=4);V+=4;var te=he+(1&he);switch(re){case"VP8 ":case"VP8L":I.frames[N]===void 0&&(I.frames[N]={}),(J=I.frames[N]).src_off=E?pe:V-8,J.src_size=X+he+8,N++,E&&(E=!1,X=0,pe=0);break;case"VP8X":(J=I.header={}).feature_flags=w[V];var de=V+4;J.canvas_width=1+A(w,de),de+=3,J.canvas_height=1+A(w,de),de+=3;break;case"ALPH":E=!0,X=te+8,pe=V-8;break;case"ANIM":(J=I.header).bgcolor=C(w,V),de=V+4,J.loop_count=v(w,de),de+=2;break;case"ANMF":var Re,J;(J=I.frames[N]={}).offset_x=2*A(w,V),V+=3,J.offset_y=2*A(w,V),V+=3,J.width=1+A(w,V),V+=3,J.height=1+A(w,V),V+=3,J.duration=A(w,V),V+=3,Re=w[V++],J.dispose=1&Re,J.blend=Re>>1&1}re!="ANMF"&&(V+=te)}return I}})(F,0);ie.response=F,ie.rgbaoutput=!0,ie.dataurl=!1;var K=ie.header?ie.header:null,ae=ie.frames?ie.frames:null;if(K){K.loop_counter=K.loop_count,_=[K.canvas_height],P=[K.canvas_width];for(var Se=0;Se<ae.length&&ae[Se].blend!=0;Se++);}var Ne=ae[0],$=U.WebPDecodeRGBA(F,Ne.src_off,Ne.src_size,P,_);Ne.rgba=$,Ne.imgwidth=P[0],Ne.imgheight=_[0];for(var M=0;M<P[0]*_[0]*4;M++)q[M]=$[M];return this.width=P,this.height=_,this.data=q,this}function Q7(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function X7(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,c,h,f,d,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=k;Object.defineProperty(this,"pdf",{get:function(){return O}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(oe){Y=!!oe}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(oe){G=!!oe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(oe){isNaN(oe)||(se=oe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(oe){isNaN(oe)||(fe=oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(oe){var nt;typeof oe=="number"?nt=[oe,oe,oe,oe]:((nt=new Array(4))[0]=oe[0],nt[1]=oe.length>=2?oe[1]:nt[0],nt[2]=oe.length>=3?oe[2]:nt[0],nt[3]=oe.length>=4?oe[3]:nt[1]),d.margin=nt}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(oe){_e=oe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(oe){ge=oe}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(oe){Oe=oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(oe){oe instanceof v&&(d=oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(oe){d.path=oe}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(oe){ye=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var nt;nt=C(oe),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var nt=C(oe);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var Qe=null,et=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(oe){Qe=null,et=null,lt=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var nt;if(this.ctx.font=oe,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var Wt=nt[1];nt[2];var Tt=nt[3],qe=nt[4];nt[5];var rt=nt[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(it==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Nt=(function(vt){var fi,Xt,Ct=[],Pt=vt.trim();if(Pt==="")return n0;if(Pt in Mb)return[Mb[Pt]];for(;Pt!=="";){switch(Xt=null,fi=(Pt=Pb(Pt)).charAt(0)){case'"':case"'":Xt=H7(Pt.substring(1),fi);break;default:Xt=G7(Pt)}if(Xt===null||(Ct.push(Xt[0]),(Pt=Pb(Xt[1]))!==""&&Pt.charAt(0)!==","))return n0;Pt=Pt.replace(/^,/,"")}return Ct})(rt);if(this.fontFaces){var _t=(function(vt,fi){var Xt=vt.getFontList(),Ct=JSON.stringify(Xt);if(Qe===null||et!==Ct){var Pt=(function(Kt){var St=[];return Object.keys(Kt).forEach(function(Ln){Kt[Ln].forEach(function(Mt){var Ot=null;switch(Mt){case"bold":Ot={family:Ln,weight:"bold"};break;case"italic":Ot={family:Ln,style:"italic"};break;case"bolditalic":Ot={family:Ln,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Ln}}Ot!==null&&(Ot.ref={name:Ln,style:Mt},St.push(Ot))})}),St})(Xt);Qe=(function(Kt){for(var St={},Ln=0;Ln<Kt.length;++Ln){var Mt=t0(Kt[Ln]),Ot=Mt.family,Mn=Mt.stretch,wt=Mt.style,bt=Mt.weight;St[Ot]=St[Ot]||{},St[Ot][Mn]=St[Ot][Mn]||{},St[Ot][Mn][wt]=St[Ot][Mn][wt]||{},St[Ot][Mn][wt][bt]=Mt}return St})(Pt.concat(fi)),et=Ct}return Qe})(this.pdf,this.fontFaces),$t=Nt.map(function(vt){return{family:vt,stretch:"normal",weight:Tt,style:Wt}}),Jt=(function(vt,fi,Xt){for(var Ct=(Xt=Xt||{}).defaultFontFamily||"times",Pt=Object.assign({},q7,Xt.genericFontFamilies||{}),Kt=null,St=null,Ln=0;Ln<fi.length;++Ln)if(Pt[(Kt=t0(fi[Ln])).family]&&(Kt.family=Pt[Kt.family]),vt.hasOwnProperty(Kt.family)){St=vt[Kt.family];break}if(!(St=St||vt[Ct]))throw new Error("Could not find a font-family for the rule '"+Ob(Kt)+"' and default family '"+Ct+"'.");if(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];var Mn=q0[Mt],wt=Mn<=q0.normal?-1:1,bt=kb(Ot,X4,Mn,wt);if(!bt)throw new Error("Could not find a matching font-stretch value for "+Mt);return bt})(Kt.stretch,St),St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];for(var Mn=Q4[Mt],wt=0;wt<Mn.length;++wt)if(Ot[Mn[wt]])return Ot[Mn[wt]];throw new Error("Could not find a matching font-style for "+Mt)})(Kt.style,St),!(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];if(Mt===400&&Ot[500])return Ot[500];if(Mt===500&&Ot[400])return Ot[400];var Mn=U7[Mt],wt=kb(Ot,Z4,Mn,Mt<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Mt);return wt})(Kt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Ob(Kt)+"'.");return St})(_t,$t);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Bt="";(Tt==="bold"||parseInt(Tt,10)>=700||Wt==="bold")&&(Bt="bold"),Wt==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var on="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Nt.length;mt++){if(this.pdf.internal.getFont(Nt[mt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){on=Nt[mt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Nt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)on=Nt[mt],Bt="bold";else if(this.pdf.internal.getFont(Nt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){on=Nt[mt],Bt="normal";break}}if(on===""){for(var Ht=0;Ht<Nt.length;Ht++)if(Qt[Nt[Ht]]){on=Qt[Nt[Ht]];break}}on=on===""?"Times":on,this.pdf.setFont(on,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};A.prototype.setLineDash=function(k){this.lineDash=k},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){ae.call(this,"fill",!1)},A.prototype.stroke=function(){ae.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(k,O){if(isNaN(k)||isNaN(O))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new c(k,O));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(k,O)},A.prototype.closePath=function(){var k=new c(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Zn(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){k=new c(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},A.prototype.lineTo=function(k,O){if(isNaN(k)||isNaN(O))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new c(k,O));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(Y.x,Y.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ae.call(this,null,!0)},A.prototype.quadraticCurveTo=function(k,O,Y,G){if(isNaN(Y)||isNaN(G)||isNaN(k)||isNaN(O))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new c(Y,G)),fe=this.ctx.transform.applyToPoint(new c(k,O));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new c(se.x,se.y)},A.prototype.bezierCurveTo=function(k,O,Y,G,se,fe){if(isNaN(se)||isNaN(fe)||isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new c(se,fe)),ge=this.ctx.transform.applyToPoint(new c(k,O)),Oe=this.ctx.transform.applyToPoint(new c(Y,G));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Oe.x,y2:Oe.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new c(_e.x,_e.y)},A.prototype.arc=function(k,O,Y,G,se,fe){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new c(k,O));k=_e.x,O=_e.y;var ge=this.ctx.transform.applyToPoint(new c(0,Y)),Oe=this.ctx.transform.applyToPoint(new c(0,0));Y=Math.sqrt(Math.pow(ge.x-Oe.x,2)+Math.pow(ge.y-Oe.y,2))}Math.abs(se-G)>=2*Math.PI&&(G=0,se=2*Math.PI),this.path.push({type:"arc",x:k,y:O,radius:Y,startAngle:G,endAngle:se,counterclockwise:fe})},A.prototype.arcTo=function(k,O,Y,G,se){throw new Error("arcTo not implemented.")},A.prototype.rect=function(k,O,Y,G){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,O),this.lineTo(k+Y,O),this.lineTo(k+Y,O+G),this.lineTo(k,O+G),this.lineTo(k,O),this.lineTo(k+Y,O),this.lineTo(k,O)},A.prototype.fillRect=function(k,O,Y,G){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,O,Y,G),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},A.prototype.strokeRect=function(k,O,Y,G){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(k,O,Y,G),this.stroke())},A.prototype.clearRect=function(k,O,Y,G){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,O,Y,G))},A.prototype.save=function(k){k=typeof k!="boolean"||k;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},A.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(O),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(k){var O,Y,G,se;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))O=0,Y=0,G=0,se=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(fe!==null)O=parseInt(fe[1]),Y=parseInt(fe[2]),G=parseInt(fe[3]),se=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)O=parseInt(fe[1]),Y=parseInt(fe[2]),G=parseInt(fe[3]),se=parseFloat(fe[4]);else{if(se=1,typeof k=="string"&&k.charAt(0)!=="#"){var _e=new q4(k);k=_e.ok?_e.toHex():"#000000"}k.length===4?(O=k.substring(1,2),O+=O,Y=k.substring(2,3),Y+=Y,G=k.substring(3,4),G+=G):(O=k.substring(1,3),Y=k.substring(3,5),G=k.substring(5,7)),O=parseInt(O,16),Y=parseInt(Y,16),G=parseInt(G,16)}}return{r:O,g:Y,b:G,a:se,style:k}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(k,O,Y,G){if(isNaN(O)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!_.call(this)){var se=te(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:k,x:O,y:Y,scale:fe,angle:se,align:this.textAlign,maxWidth:G})}},A.prototype.strokeText=function(k,O,Y,G){if(isNaN(O)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){G=isNaN(G)?void 0:G;var se=te(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:k,x:O,y:Y,scale:fe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:G})}},A.prototype.measureText=function(k){if(typeof k!="string")throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,Y=this.pdf.internal.scaleFactor,G=O.internal.getFontSize(),se=O.getStringUnitWidth(k)*G/O.internal.scaleFactor;return new function(fe){var _e=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:se*=Math.round(96*Y/72*1e4)/1e4})},A.prototype.scale=function(k,O){if(isNaN(k)||isNaN(O))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new f(k,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.rotate=function(k){if(isNaN(k))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},A.prototype.translate=function(k,O){if(isNaN(k)||isNaN(O))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new f(1,0,0,1,k,O);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.transform=function(k,O,Y,G,se,fe){if(isNaN(k)||isNaN(O)||isNaN(Y)||isNaN(G)||isNaN(se)||isNaN(fe))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(k,O,Y,G,se,fe);this.ctx.transform=this.ctx.transform.multiply(_e)},A.prototype.setTransform=function(k,O,Y,G,se,fe){k=isNaN(k)?1:k,O=isNaN(O)?0:O,Y=isNaN(Y)?0:Y,G=isNaN(G)?1:G,se=isNaN(se)?0:se,fe=isNaN(fe)?0:fe,this.ctx.transform=new f(k,O,Y,G,se,fe)};var q=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(k,O,Y,G,se,fe,_e,ge,Oe){var ye=this.pdf.getImageProperties(k),Qe=1,et=1,lt=1,oe=1;G!==void 0&&ge!==void 0&&(lt=ge/G,oe=Oe/se,Qe=ye.width/G*ge/G,et=ye.height/se*Oe/se),fe===void 0&&(fe=O,_e=Y,O=0,Y=0),G!==void 0&&ge===void 0&&(ge=G,Oe=se),G===void 0&&ge===void 0&&(ge=ye.width,Oe=ye.height);var nt=this.ctx.transform.decompose(),Wt=te(nt.rotate.shx),Tt=new f,qe=(Tt=(Tt=(Tt=Tt.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new h(fe-O*lt,_e-Y*oe,G*Qe,se*et));if(this.autoPaging){for(var rt,it=U.call(this,qe),Nt=[],_t=0;_t<it.length;_t+=1)Nt.indexOf(it[_t])===-1&&Nt.push(it[_t]);K(Nt);for(var $t=Nt[0],Jt=Nt[Nt.length-1],Bt=$t;Bt<Jt+1;Bt++){this.pdf.setPage(Bt);var on=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Bt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Bt===1?0:mt+(Bt-2)*Ht;if(this.ctx.clip_path.length!==0){var fi=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(rt,this.posX+this.margin[3],-vt+Qt+this.ctx.prevPageLastElemOffset),Se.call(this,"fill",!0),this.path=fi}var Xt=JSON.parse(JSON.stringify(qe));Xt=ie([Xt],this.posX+this.margin[3],-vt+Qt+this.ctx.prevPageLastElemOffset)[0];var Ct=(Bt>$t||Bt<Jt)&&q.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],on,Ht,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,Wt),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Wt)};var U=function(k,O,Y){var G=[];O=O||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+se)/Y)+1);break;case"arc":G.push(Math.floor((k.y+se-k.radius)/Y)+1),G.push(Math.floor((k.y+se+k.radius)/Y)+1);break;case"qct":var fe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((fe.y+se)/Y)+1),G.push(Math.floor((fe.y+fe.h+se)/Y)+1);break;case"bct":var _e=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((_e.y+se)/Y)+1),G.push(Math.floor((_e.y+_e.h+se)/Y)+1);break;case"rect":G.push(Math.floor((k.y+se)/Y)+1),G.push(Math.floor((k.y+k.h+se)/Y)+1)}for(var ge=0;ge<G.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<G[ge];)F.call(this);return G},F=function(){var k=this.fillStyle,O=this.strokeStyle,Y=this.font,G=this.lineCap,se=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=O,this.font=Y,this.lineCap=G,this.lineWidth=se,this.lineJoin=fe},ie=function(k,O,Y){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=O,k[G].y2+=Y;case"qct":k[G].x1+=O,k[G].y1+=Y;default:k[G].x+=O,k[G].y+=Y}return k},K=function(k){return k.sort(function(O,Y){return O-Y})},ae=function(k,O){var Y=this.fillStyle,G=this.strokeStyle,se=this.lineCap,fe=this.lineWidth,_e=Math.abs(fe*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var Oe,ye,Qe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),lt=[],oe=0;oe<et.length;oe++)if(et[oe].x!==void 0)for(var nt=U.call(this,et[oe]),Wt=0;Wt<nt.length;Wt+=1)lt.indexOf(nt[Wt])===-1&&lt.push(nt[Wt]);for(var Tt=0;Tt<lt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<lt[Tt];)F.call(this);K(lt);for(var qe=lt[0],rt=lt[lt.length-1],it=qe;it<rt+1;it++){this.pdf.setPage(it),this.fillStyle=Y,this.strokeStyle=G,this.lineCap=se,this.lineWidth=_e,this.lineJoin=ge;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=it===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=it===1?0:$t+(it-2)*Jt;if(this.ctx.clip_path.length!==0){var on=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(Oe,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),Se.call(this,k,!0),this.path=on}if(ye=JSON.parse(JSON.stringify(Qe)),this.path=ie(ye,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),O===!1||it===0){var Qt=(it>qe||it<rt)&&q.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Jt,null).clip().discardPath()),Se.call(this,k,O),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=Qe}else this.lineWidth=_e,Se.call(this,k,O),this.lineWidth=fe},Se=function(k,O){if((k!=="stroke"||O||!P.call(this))&&(k==="stroke"||O||!_.call(this))){for(var Y,G,se=[],fe=this.path,_e=0;_e<fe.length;_e++){var ge=fe[_e];switch(ge.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ge,deltas:[],abs:[]});break;case"lt":var Oe=se.length;if(fe[_e-1]&&!isNaN(fe[_e-1].x)&&(Y=[ge.x-fe[_e-1].x,ge.y-fe[_e-1].y],Oe>0)){for(;Oe>=0;Oe--)if(se[Oe-1].close!==!0&&se[Oe-1].begin!==!0){se[Oe-1].deltas.push(Y),se[Oe-1].abs.push(ge);break}}break;case"bct":Y=[ge.x1-fe[_e-1].x,ge.y1-fe[_e-1].y,ge.x2-fe[_e-1].x,ge.y2-fe[_e-1].y,ge.x-fe[_e-1].x,ge.y-fe[_e-1].y],se[se.length-1].deltas.push(Y);break;case"qct":var ye=fe[_e-1].x+2/3*(ge.x1-fe[_e-1].x),Qe=fe[_e-1].y+2/3*(ge.y1-fe[_e-1].y),et=ge.x+2/3*(ge.x1-ge.x),lt=ge.y+2/3*(ge.y1-ge.y),oe=ge.x,nt=ge.y;Y=[ye-fe[_e-1].x,Qe-fe[_e-1].y,et-fe[_e-1].x,lt-fe[_e-1].y,oe-fe[_e-1].x,nt-fe[_e-1].y],se[se.length-1].deltas.push(Y);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ge)}}G=O?null:k==="stroke"?"stroke":"fill";for(var Wt=!1,Tt=0;Tt<se.length;Tt++)if(se[Tt].arc)for(var qe=se[Tt].abs,rt=0;rt<qe.length;rt++){var it=qe[rt];it.type==="arc"?M.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,O,!Wt):E.call(this,it.x,it.y),Wt=!0}else if(se[Tt].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(se[Tt].begin!==!0){var Nt=se[Tt].start.x,_t=se[Tt].start.y;X.call(this,se[Tt].deltas,Nt,_t),Wt=!0}G&&w.call(this,G),O&&V.call(this)}},Ne=function(k){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Y;case"top":return k+O-Y;case"hanging":return k+O-2*Y;case"middle":return k+O/2-Y;default:return k}},$=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(O,Y){this.colorStops.push([O,Y])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(k,O,Y,G,se,fe,_e,ge,Oe){for(var ye=re.call(this,Y,G,se,fe),Qe=0;Qe<ye.length;Qe++){var et=ye[Qe];Qe===0&&(Oe?I.call(this,et.x1+k,et.y1+O):E.call(this,et.x1+k,et.y1+O)),pe.call(this,k,O,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}ge?V.call(this):w.call(this,_e)},w=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,O){this.pdf.internal.out(t(k)+" "+r(O)+" m")},N=function(k){var O;switch(k.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var Y,G,se,fe=this.pdf.getTextDimensions(k.text),_e=Ne.call(this,k.y),ge=$.call(this,_e)-fe.h,Oe=this.ctx.transform.applyToPoint(new c(k.x,_e));if(this.autoPaging){var ye=this.ctx.transform.decompose(),Qe=new f;Qe=(Qe=(Qe=Qe.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var et=this.ctx.transform.applyToRectangle(new h(k.x,_e,fe.w,fe.h)),lt=Qe.applyToRectangle(new h(k.x,ge,fe.w,fe.h)),oe=U.call(this,lt),nt=[],Wt=0;Wt<oe.length;Wt+=1)nt.indexOf(oe[Wt])===-1&&nt.push(oe[Wt]);K(nt);for(var Tt=nt[0],qe=nt[nt.length-1],rt=Tt;rt<qe+1;rt++){this.pdf.setPage(rt);var it=rt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],$t=_t-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Jt-this.margin[3],on=rt===1?0:Nt+(rt-2)*$t;if(this.ctx.clip_path.length!==0){var Qt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(Y,this.posX+this.margin[3],-1*on+it),Se.call(this,"fill",!0),this.path=Qt}var mt=ie([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale);var Ht=this.autoPaging!=="text";if(Ht||mt.y+mt.h<=_t){if(Ht||mt.y>=it&&mt.x<=Jt){var vt=Ht?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Jt-mt.x)[0],fi=ie([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0],Xt=Ht&&(rt>Tt||rt<qe)&&q.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,$t,null).clip().discardPath()),this.pdf.text(vt,fi.x,fi.y,{angle:k.angle,align:O,renderingMode:k.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else mt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-mt.y);k.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=se)}}else k.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale),this.pdf.text(k.text,Oe.x+this.posX,Oe.y+this.posY,{angle:k.angle,align:O,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=se)},E=function(k,O,Y,G){Y=Y||0,G=G||0,this.pdf.internal.out(t(k+Y)+" "+r(O+G)+" l")},X=function(k,O,Y){return this.pdf.lines(k,O,Y,null,null)},pe=function(k,O,Y,G,se,fe,_e,ge){this.pdf.internal.out([e(s(Y+k)),e(o(G+O)),e(s(se+k)),e(o(fe+O)),e(s(_e+k)),e(o(ge+O)),"c"].join(" "))},re=function(k,O,Y,G){for(var se=2*Math.PI,fe=Math.PI/2;O>Y;)O-=se;var _e=Math.abs(Y-O);_e<se&&G&&(_e=se-_e);for(var ge=[],Oe=G?-1:1,ye=O;_e>1e-5;){var Qe=ye+Oe*Math.min(_e,fe);ge.push(he.call(this,k,ye,Qe)),_e-=Math.abs(Qe-ye),ye=Qe}return ge},he=function(k,O,Y){var G=(Y-O)/2,se=k*Math.cos(G),fe=k*Math.sin(G),_e=se,ge=-fe,Oe=_e*_e+ge*ge,ye=Oe+_e*se+ge*fe,Qe=4/3*(Math.sqrt(2*Oe*ye)-ye)/(_e*fe-ge*se),et=_e-Qe*ge,lt=ge+Qe*_e,oe=et,nt=-lt,Wt=G+O,Tt=Math.cos(Wt),qe=Math.sin(Wt);return{x1:k*Math.cos(O),y1:k*Math.sin(O),x2:et*Tt-lt*qe,y2:et*qe+lt*Tt,x3:oe*Tt-nt*qe,y3:oe*qe+nt*Tt,x4:k*Math.cos(Y),y4:k*Math.sin(Y)}},te=function(k){return 180*k/Math.PI},de=function(k,O,Y,G,se,fe){var _e=k+.5*(Y-k),ge=O+.5*(G-O),Oe=se+.5*(Y-se),ye=fe+.5*(G-fe),Qe=Math.min(k,se,_e,Oe),et=Math.max(k,se,_e,Oe),lt=Math.min(O,fe,ge,ye),oe=Math.max(O,fe,ge,ye);return new h(Qe,lt,et-Qe,oe-lt)},Re=function(k,O,Y,G,se,fe,_e,ge){var Oe,ye,Qe,et,lt,oe,nt,Wt,Tt,qe,rt,it,Nt,_t,$t=Y-k,Jt=G-O,Bt=se-Y,on=fe-G,Qt=_e-se,mt=ge-fe;for(ye=0;ye<41;ye++)Tt=(nt=(Qe=k+(Oe=ye/40)*$t)+Oe*((lt=Y+Oe*Bt)-Qe))+Oe*(lt+Oe*(se+Oe*Qt-lt)-nt),qe=(Wt=(et=O+Oe*Jt)+Oe*((oe=G+Oe*on)-et))+Oe*(oe+Oe*(fe+Oe*mt-oe)-Wt),ye==0?(rt=Tt,it=qe,Nt=Tt,_t=qe):(rt=Math.min(rt,Tt),it=Math.min(it,qe),Nt=Math.max(Nt,Tt),_t=Math.max(_t,qe));return new h(Math.round(rt),Math.round(it),Math.round(Nt-rt),Math.round(_t-it))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,O,Y=(k=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:O}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(yt.API),(function(n){var e=function(c){var h,f,d,v,A,C,_,P,q,U;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(A=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(C=(A=((A=((A=((A=(A-(U=A%85))/85)-(q=A%85))/85)-(P=A%85))/85)-(_=A%85))/85)%85,f.push(C+33,_+33,P+33,q+33,U+33)):f.push(122);return(function(F,ie){for(var K=ie;K>0;K--)F.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var h,f,d,v,A,C=String,_="length",P=255,q="charCodeAt",U="slice",F="replace";for(c[U](-2),c=c[U](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),d=[],v=0,A=(c+=h="uuuuu"[U](c[_]%5||5))[_];A>v;v+=5)f=52200625*(c[q](v)-33)+614125*(c[q](v+1)-33)+7225*(c[q](v+2)-33)+85*(c[q](v+3)-33)+(c[q](v+4)-33),d.push(P&f>>24,P&f>>16,P&f>>8,P&f);return(function(ie,K){for(var ae=K;ae>0;ae--)ie.pop()})(d,h[_]),C.fromCharCode.apply(C,d)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=O0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(yt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,C=0,_=function(P){var q=P.length,U=[],F=String.fromCharCode;for(C=0;C<q;C+=1)U.push(F(255&P.charCodeAt(C)));return U.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(_(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,c)}catch{}return h})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(yt.API),(function(n){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Pg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Pg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Zn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var _=0;_<v.length;++_){var P=v[_],q=P.src.find(function(U){return U.format==="truetype"});q&&d.addFont(q.url,P.ref.name,P.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=C.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,d.context2d.save(!0),f(this.prop.container,C)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(C){return d.updateProgress(null,v),C}).then(v,A).then(function(C){return d.updateProgress(1),C})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),C=d.call(A,h,f);return c.convert(C,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,yt.getPageSize=function(h,f,d){if(Zn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,C=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var P,q=0,U=0;if(_.hasOwnProperty(C))q=_[C][1]/A,U=_[C][0]/A;else try{q=d[1],U=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",U>q&&(P=U,U=q,q=P);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",q>U&&(P=U,U=q,q=P)}return{width:U,height:q,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(t0):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(yt.API),yt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],h=r.exec(c);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=t.internal.newObject();v.push(A);var C=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(yt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(A){for(var C,_=256*A.charCodeAt(4)+A.charCodeAt(5),P=A.length,q={width:0,height:0,numcomponents:1},U=4;U<P;U+=2){if(U+=_,e.indexOf(A.charCodeAt(U+1))!==-1){C=256*A.charCodeAt(U+5)+A.charCodeAt(U+6),q={width:256*A.charCodeAt(U+7)+A.charCodeAt(U+8),height:C,numcomponents:A.charCodeAt(U+9)};break}_=256*A.charCodeAt(U+2)+A.charCodeAt(U+3)}return q})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return v}})(yt.API),yt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=N7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;s=d&&f===1?(function(M){for(var w=M.width,V=M.height,I=M.data,N=M.palette,E=M.depth,X=!1,pe=[],re=[],he=void 0,te=!1,de=0,Re=0;Re<N.length;Re++){var J=qv(N[Re],4),k=J[0],O=J[1],Y=J[2],G=J[3];pe.push(k,O,Y),G!=null&&(G===0?(de++,re.length<1&&re.push(Re)):G<255&&(te=!0))}if(te||de>1){X=!0,re=void 0;var se=w*V;he=new Uint8Array(se);for(var fe=new DataView(I.buffer),_e=0;_e<se;_e++){var ge=i0(fe,_e,E),Oe=qv(N[ge],4)[3];he[_e]=Oe}}else de===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:I,alphaBytes:he,needSMask:X,palette:pe,mask:re}})(o):f===2||f===4?(function(M){for(var w=M.data,V=M.width,I=M.height,N=M.channels,E=M.depth,X=N===2?"DeviceGray":"DeviceRGB",pe=N-1,re=V*I,he=pe,te=re*he,de=1*re,Re=Math.ceil(te*E/8),J=Math.ceil(de*E/8),k=new Uint8Array(Re),O=new Uint8Array(J),Y=new DataView(w.buffer),G=new DataView(k.buffer),se=new DataView(O.buffer),fe=!1,_e=0;_e<re;_e++){for(var ge=_e*N,Oe=0;Oe<he;Oe++)Yb(G,i0(Y,ge+Oe,E),_e*he+Oe,E);var ye=i0(Y,ge+he,E);ye<(1<<E)-1&&(fe=!0),Yb(se,ye,1*_e,E)}return{colorSpace:X,colorsPerPixel:pe,sMaskBitsPerComponent:fe?E:void 0,colorBytes:k,alphaBytes:O,needSMask:fe}})(o):(function(M){var w=M.data,V=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(I){for(var N=I.length,E=new Uint8Array(2*N),X=new DataView(E.buffer,E.byteOffset,E.byteLength),pe=0;pe<N;pe++)X.setUint16(2*pe,I[pe],!1);return E})(w):w,needSMask:!1}})(o);var A,C,_,P=s,q=P.colorSpace,U=P.colorsPerPixel,F=P.sMaskBitsPerComponent,ie=P.colorBytes,K=P.alphaBytes,ae=P.needSMask,Se=P.palette,Ne=P.mask,$=null;return r!==yt.API.image_compression.NONE&&typeof O0=="function"?($=(function(M){var w;switch(M){case yt.API.image_compression.FAST:w=11;break;case yt.API.image_compression.MEDIUM:w=13;break;case yt.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),A=this.decode.FLATE_DECODE,C="/Predictor ".concat($," /Colors ").concat(U," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=Vb(ie,Math.ceil(c*U*v/8),U,v,r),ae&&(_=Vb(K,Math.ceil(c*F/8),1,F,r))):(A=void 0,C=void 0,n=ie,ae&&(_=K)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:A,decodeParameters:C,transparency:Ne,palette:Se,sMask:_,predictor:$,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:F,colorSpace:q}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new K7(e),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new r0(100).encode(d,100);return n.processJPEG.call(this,v,t,r,s)},n.processGIF87A=n.processGIF89A})(yt.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){hi.log("bit decode error:"+t)}},oo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},oo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,v=r*this.width*4+4*s;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=n}},oo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,d=(c>>11)/e*255|0,v=s*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},oo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=c}},oo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new oo(e,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new r0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),$b.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new $b(e),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new r0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),yt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var v=r[d],A=r[d+1],C=r[d+2],_=r[d+3];o[h++]=v,o[h++]=A,o[h++]=C,c[f++]=_}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:P,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},yt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=yt.API,rp=th.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=e.doKerning!==!1,C=0,_=n.length,P=0,q=h[0]||f,U=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(C=A&&Zn(d[r])==="object"&&!isNaN(parseInt(d[r][P],10))?d[r][P]/v:0,U.push((h[r]||q)/f+C)),P=r;return U},zb=th.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(n=th.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:rp.apply(this,arguments).reduce(function(o,c){return o+c},0)},Fb=function(n,e,t,r){for(var s=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+e[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Bb=function(n,e,t){t||(t={});var r,s,o,c,h,f,d,v=[],A=[v],C=t.textIndent||0,_=0,P=0,q=n.split(" "),U=rp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?q[0].length+2:t.lineIndent||0){var F=Array(f).join(" "),ie=[];q.map(function(ae){(ae=ae.split(/\s*\n/)).length>1?ie=ie.concat(ae.map(function(Se,Ne){return(Ne&&Se.length?`
`:"")+Se})):ie.push(ae[0])}),q=ie,f=zb.apply(this,[F,t])}for(o=0,c=q.length;o<c;o++){var K=0;if(r=q[o],f&&r[0]==`
`&&(r=r.substr(1),K=1),C+_+(P=(s=rp.apply(this,[r,t])).reduce(function(ae,Se){return ae+Se},0))>e||K){if(P>e){for(h=Fb.apply(this,[r,s,e-(C+_),e]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);P=s.slice(r.length-(v[0]?v[0].length:0)).reduce(function(ae,Se){return ae+Se},0)}else v=[r];A.push(v),C=P+f,_=U}else v.push(r),C+=_+P,_=U}return d=f?function(ae,Se){return(Se?F:"")+ae.join(" ")}:function(ae){return ae.join(" ")},A.map(d)},th.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),C="Unicode";return A.metadata[C]?{widths:A.metadata[C].widths||{0:1},kerning:A.metadata[C].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(Bb.apply(this,[r[h],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(C){return"0x"+parseInt(C,10).toString(16)},h=n.__fontmetrics__.compress=function(C){var _,P,q,U,F=["{"];for(var ie in C){if(_=C[ie],isNaN(parseInt(ie,10))?P="'"+ie+"'":(ie=parseInt(ie,10),P=(P=c(ie).slice(2)).slice(0,-1)+s[P.slice(-1)]),typeof _=="number")_<0?(q=c(_).slice(3),U="-"):(q=c(_).slice(2),U=""),q=U+q.slice(0,-1)+s[q.slice(-1)];else{if(Zn(_)!=="object")throw new Error("Don't know what to do with value type "+Zn(_)+".");q=h(_)}F.push(P+q)}return F.push("}"),F.join("")},f=n.__fontmetrics__.uncompress=function(C){if(typeof C!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,P,q,U,F={},ie=1,K=F,ae=[],Se="",Ne="",$=C.length-1,M=1;M<$;M+=1)(U=C[M])=="'"?_?(q=_.join(""),_=void 0):_=[]:_?_.push(U):U=="{"?(ae.push([K,q]),K={},q=void 0):U=="}"?((P=ae.pop())[0][P[1]]=K,q=void 0,K=P[0]):U=="-"?ie=-1:q===void 0?r.hasOwnProperty(U)?(Se+=r[U],q=parseInt(Se,16)*ie,ie=1,Se=""):Se+=U:r.hasOwnProperty(U)?(Ne+=r[U],K[q]=parseInt(Ne,16)*ie,ie=1,q=void 0,Ne=""):Ne+=U;return F},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(C){var _=C.font,P=A.Unicode[_.postScriptName];P&&(_.metadata.Unicode={},_.metadata.Unicode.widths=P.widths,_.metadata.Unicode.kerning=P.kerning);var q=v.Unicode[_.postScriptName];q&&(_.metadata.Unicode.encoding=q,_.encoding=q.codePages[0])}])})(yt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(fp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(yt),yt.API.addSvgAsImage=function(n,e,t,r,s,o,c,h){if(isNaN(e)||isNaN(t))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Pg(()=>import("./index.es-C11PCD-j.js"),[])).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C}).then(function(C){return C.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,c,h)})},yt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},yt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,A=0;function C(P,q){var U,F=!1;for(U=0;U<P.length;U+=1)P[U]===q&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=h.length;for(A=0;A<_;A+=1)t[h[A]].value=t[h[A]].defaultValue,t[h[A]].explicitSet=!1}if(Zn(n)==="object"){for(s in n)if(o=n[s],C(h,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&C(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,q=[];for(P in t)t[P].explicitSet===!0&&(t[P].type==="name"?q.push("/"+P+" /"+t[P].value):q.push("/"+P+" "+t[P].value));q.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+q.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},yt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",X7),this.internal.events.subscribe("postPutResources",Q7)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,C=o.length;A<C;++A){if(h=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},r=function(o){var c,h,f,d,v,A,C;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,C=(h=Object.keys(o).sort(function(_,P){return _-P})).length;A<C;A++)c=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,C=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",P=0;P<C.length;P++)_+=String.fromCharCode(C[P]);var q=d();v({data:_,addLength1:!0,objectId:q}),f("endobj");var U=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var F=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+oh(h.fontName)),f("/FontFile2 "+q+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var ie=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+oh(h.fontName)),f("/FontDescriptor "+F+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+oh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+ie+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,C="",_=0;_<A.length;_++)C+=String.fromCharCode(A[_]);var P=d();v({data:C,addLength1:!0,objectId:P}),f("endobj");var q=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var U=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+P+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+oh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var F=0;F<h.metadata.hmtx.widths.length;F++)h.metadata.hmtx.widths[F]=parseInt(h.metadata.hmtx.widths[F]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+q+" 0 R/BaseFont/"+oh(h.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},C=A.pdfEscape,_=A.activeFontKey,P=A.fonts,q=_,U="",F=0,ie="",K=P[q].encoding;if(P[q].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(ie=h,q=_,Array.isArray(h)&&(ie=h[0]),F=0;F<ie.length;F+=1)P[q].metadata.hasOwnProperty("cmap")&&(c=P[q].metadata.cmap.unicode.codeMap[ie[F].charCodeAt(0)]),c||ie[F].charCodeAt(0)<256&&P[q].metadata.hasOwnProperty("Unicode")?U+=ie[F]:U+="";var ae="";return parseInt(q.slice(1))<14||K==="WinAnsiEncoding"?ae=C(U,q).split("").map(function(Se){return Se.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(ae=t(U,P[q])),A.isHex=!0,{text:ae,x:f,y:d,options:v,mutex:A}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(s(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:c})).text}])})(yt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(yt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,h,f,d,v,A=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},q={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ie=!1,K=0;this.__bidiEngine__={};var ae=function(I){var N=I.charCodeAt(),E=N>>8,X=q[E];return X!==void 0?A[256*X+(255&N)]:E===252||E===253?"AL":F.test(E)?"L":E===8?"R":"N"},Se=function(I){for(var N,E=0;E<I.length;E++){if((N=ae(I.charAt(E)))==="L")return!1;if(N==="R")return!0}return!1},Ne=function(I,N,E,X){var pe,re,he,te,de=N[X];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ie=!1;break;case"N":case"AN":break;case"EN":ie&&(de="AN");break;case"AL":ie=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":X<1||X+1>=N.length||(pe=E[X-1])!=="EN"&&pe!=="AN"||(re=N[X+1])!=="EN"&&re!=="AN"?de="N":ie&&(re="AN"),de=re===pe?re:"N";break;case"ES":de=(pe=X>0?E[X-1]:"B")==="EN"&&X+1<N.length&&N[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&E[X-1]==="EN"){de="EN";break}if(ie){de="N";break}for(he=X+1,te=N.length;he<te&&N[he]==="ET";)he++;de=he<te&&N[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(te=N.length,he=X+1;he<te&&N[he]==="NSM";)he++;if(he<te){var Re=I[X],J=Re>=1425&&Re<=2303||Re===64286;if(pe=N[he],J&&(pe==="R"||pe==="AL")){de="R";break}}}de=X<1||(pe=N[X-1])==="B"?"N":E[X-1];break;case"B":ie=!1,s=!0,de=K;break;case"S":o=!0,de="N"}return de},$=function(I,N,E){var X=I.split("");return E&&M(X,E,{hiLevel:K}),X.reverse(),N&&N.reverse(),X.join("")},M=function(I,N,E){var X,pe,re,he,te,de=-1,Re=I.length,J=0,k=[],O=K?_:C,Y=[];for(ie=!1,s=!1,o=!1,pe=0;pe<Re;pe++)Y[pe]=ae(I[pe]);for(re=0;re<Re;re++){if(te=J,k[re]=Ne(I,Y,k,re),X=240&(J=O[te][P[k[re]]]),J&=15,N[re]=he=O[J][5],X>0)if(X===16){for(pe=de;pe<re;pe++)N[pe]=1;de=-1}else de=-1;if(O[J][6])de===-1&&(de=re);else if(de>-1){for(pe=de;pe<re;pe++)N[pe]=he;de=-1}Y[re]==="B"&&(N[re]=0),E.hiLevel|=he}o&&(function(G,se,fe){for(var _e=0;_e<fe;_e++)if(G[_e]==="S"){se[_e]=K;for(var ge=_e-1;ge>=0&&G[ge]==="WS";ge--)se[ge]=K}})(Y,N,Re)},w=function(I,N,E,X,pe){if(!(pe.hiLevel<I)){if(I===1&&K===1&&!s)return N.reverse(),void(E&&E.reverse());for(var re,he,te,de,Re=N.length,J=0;J<Re;){if(X[J]>=I){for(te=J+1;te<Re&&X[te]>=I;)te++;for(de=J,he=te-1;de<he;de++,he--)re=N[de],N[de]=N[he],N[he]=re,E&&(re=E[de],E[de]=E[he],E[he]=re);J=te}J++}}},V=function(I,N,E){var X=I.split(""),pe={hiLevel:K};return E||(E=[]),M(X,E,pe),(function(re,he,te){if(te.hiLevel!==0&&v)for(var de,Re=0;Re<re.length;Re++)he[Re]===1&&(de=U.indexOf(re[Re]))>=0&&(re[Re]=U[de+1])})(X,E,pe),w(2,X,N,E,pe),w(1,X,N,E,pe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(I,N,E){if((function(pe,re){if(re)for(var he=0;he<pe.length;he++)re[he]=he;h===void 0&&(h=Se(pe)),d===void 0&&(d=Se(pe))})(I,N),c||!f||d)if(c&&f&&h^d)K=h?1:0,I=$(I,N,E);else if(!c&&f&&d)K=h?1:0,I=V(I,N,E),I=$(I,N);else if(!c||h||f||d){if(c&&!f&&h^d)I=$(I,N),h?(K=0,I=V(I,N,E)):(K=1,I=V(I,N,E),I=$(I,N));else if(c&&h&&!f&&d)K=1,I=V(I,N,E),I=$(I,N);else if(!c&&!f&&h^d){var X=v;h?(K=1,I=V(I,N,E),K=0,v=!1,I=V(I,N,E),v=X):(K=0,I=V(I,N,E),I=$(I,N),K=1,v=!1,I=V(I,N,E),v=X,I=$(I,N))}}else K=0,I=V(I,N,E);else K=h?1:0,I=V(I,N,E);return I},this.__bidiEngine__.setOptions=function(I){I&&(c=I.isInputVisual,f=I.isOutputVisual,h=I.isInputRtl,d=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(c=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?c.push([t.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):c.push([t.doBidiReorder(s[h])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Du(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new fI(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Z7(this.contents),this.head=new eI(this),this.name=new aI(this),this.cmap=new ew(this),this.toUnicode={},this.hhea=new tI(this),this.maxp=new sI(this),this.hmtx=new oI(this),this.post=new iI(this),this.os2=new nI(this),this.loca=new hI(this),this.glyf=new lI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var mo,Du=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),Z7=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,h,f,d,v,A,C,_,P,q;for(q in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),c=Math.floor(A/f),v=16*_-A,(s=new Du).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(c),s.writeShort(v),o=16*_,d=s.pos+o,h=null,P=[],t)for(C=t[q],s.writeString(q),s.writeInt(n(C)),s.writeInt(d),s.writeInt(C.length),P=P.concat(C),q==="head"&&(h=d),d+=C.length;d%4;)P.push(0),d++;return s.write(P),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=tw.call(t);t.length%4;)t.push(0);for(o=new Du(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),J7={}.hasOwnProperty,Zo=function(n,e){for(var t in e)J7.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};mo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var eI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Du).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Kb=(function(){function n(e,t){var r,s,o,c,h,f,d,v,A,C,_,P,q,U,F,ie,K;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),C=_/2,e.pos+=6,o=(function(){var ae,Se;for(Se=[],f=ae=0;0<=C?ae<C:ae>C;f=0<=C?++ae:--ae)Se.push(e.readUInt16());return Se})(),e.pos+=2,q=(function(){var ae,Se;for(Se=[],f=ae=0;0<=C?ae<C:ae>C;f=0<=C?++ae:--ae)Se.push(e.readUInt16());return Se})(),d=(function(){var ae,Se;for(Se=[],f=ae=0;0<=C?ae<C:ae>C;f=0<=C?++ae:--ae)Se.push(e.readUInt16());return Se})(),v=(function(){var ae,Se;for(Se=[],f=ae=0;0<=C?ae<C:ae>C;f=0<=C?++ae:--ae)Se.push(e.readUInt16());return Se})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var ae,Se;for(Se=[],f=ae=0;0<=s?ae<s:ae>s;f=0<=s?++ae:--ae)Se.push(e.readUInt16());return Se})(),f=F=0,K=o.length;F<K;f=++F)for(U=o[f],r=ie=P=q[f];P<=U?ie<=U:ie>=U;r=P<=U?++ie:--ie)v[f]===0?c=r+d[f]:(c=h[v[f]/2+(r-P)-(C-f)]||0)!==0&&(c+=d[f]),this.codeMap[r]=65535&c}e.pos=A}return n.encode=function(e,t){var r,s,o,c,h,f,d,v,A,C,_,P,q,U,F,ie,K,ae,Se,Ne,$,M,w,V,I,N,E,X,pe,re,he,te,de,Re,J,k,O,Y,G,se,fe,_e,ge,Oe,ye,Qe;switch(X=new Du,c=Object.keys(e).sort(function(et,lt){return et-lt}),t){case"macroman":for(q=0,U=(function(){var et=[];for(P=0;P<256;++P)et.push(0);return et})(),ie={0:0},o={},pe=0,de=c.length;pe<de;pe++)ie[ge=e[s=c[pe]]]==null&&(ie[ge]=++q),o[s]={old:e[s],new:ie[e[s]]},U[s]=ie[e[s]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(U),{charMap:o,subtable:X.data,maxGlyphID:q+1};case"unicode":for(N=[],A=[],K=0,ie={},r={},F=d=null,re=0,Re=c.length;re<Re;re++)ie[Se=e[s=c[re]]]==null&&(ie[Se]=++K),r[s]={old:Se,new:ie[Se]},h=ie[Se]-s,F!=null&&h===d||(F&&A.push(F),N.push(s),d=h),F=s;for(F&&A.push(F),A.push(65535),N.push(65535),V=2*(w=N.length),M=2*Math.pow(Math.log(w)/Math.LN2,2),C=Math.log(M/2)/Math.LN2,$=2*w-M,f=[],Ne=[],_=[],P=he=0,J=N.length;he<J;P=++he){if(I=N[P],v=A[P],I===65535){f.push(0),Ne.push(0);break}if(I-(E=r[I].new)>=32768)for(f.push(0),Ne.push(2*(_.length+w-P)),s=te=I;I<=v?te<=v:te>=v;s=I<=v?++te:--te)_.push(r[s].new);else f.push(E-I),Ne.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*w+2*_.length),X.writeUInt16(0),X.writeUInt16(V),X.writeUInt16(M),X.writeUInt16(C),X.writeUInt16($),fe=0,k=A.length;fe<k;fe++)s=A[fe],X.writeUInt16(s);for(X.writeUInt16(0),_e=0,O=N.length;_e<O;_e++)s=N[_e],X.writeUInt16(s);for(Oe=0,Y=f.length;Oe<Y;Oe++)h=f[Oe],X.writeUInt16(h);for(ye=0,G=Ne.length;ye<G;ye++)ae=Ne[ye],X.writeUInt16(ae);for(Qe=0,se=_.length;Qe<se;Qe++)q=_[Qe],X.writeUInt16(q);return{charMap:r,subtable:X.data,maxGlyphID:K+1}}},n})(),ew=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Kb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Kb.encode(e,t),(s=new Du).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),tI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),nI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),iI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(e.readUInt32());return f}).call(this)}},n})(),rI=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,h,f,d,v,A,C;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)s=r[o],e.pos=s.offset,d=e.readString(s.length),c=new rI(d,s),f[C=s.nameID]==null&&(f[C]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),sI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),oI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)v.push(e.readInt16());return v})(),this.widths=(function(){var d,v,A,C;for(C=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],C.push(o.advance);return C}).call(this),r=this.widths[this.widths.length-1],f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),tw=[].slice,lI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,h,f,d,v,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(h=new Du(t.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new cI(h,d,A,f,v):new uI(h,c,d,A,f,v),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,h,f;for(c=[],o=[],h=0,f=t.length;h<f;h++)s=e[t[h]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),uI=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),cI=(function(){function n(e,t,r,s,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Du(tw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),hI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),v=0;v<r.length;++v)d[4*v+3]=255&r[v],d[4*v+2]=(65280&r[v])>>8,d[4*v+1]=(16711680&r[v])>>16,d[4*v]=(4278190080&r[v])>>24;return d},n})(),fI=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,h,f;for(s={},c=0,h=e.length;c<h;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,h,f,d,v,A,C,_,P,q,U,F;for(s in r=ew.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},F=r.charMap)_[(f=F[s]).old]=f.new;for(P in C=r.maxGlyphID,c)P in _||(_[P]=C++);return v=(function(ie){var K,ae;for(K in ae={},ie)ae[ie[K]]=K;return ae})(_),A=Object.keys(v).sort(function(ie,K){return ie-K}),q=(function(){var ie,K,ae;for(ae=[],ie=0,K=A.length;ie<K;ie++)h=A[ie],ae.push(v[h]);return ae})(),o=this.font.glyf.encode(c,q,_),d=this.font.loca.encode(o.offsets,q),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();yt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var h,f,d;for(d=[],h=0,f=t.length;h<f;h++)r=t[h],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function nw(n,e,t,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,h=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,v=/\r\n|\r|\n/g,A="",C=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(v):n,C=A.length||1),t+=h*(2-o),r.valign==="middle"?t-=C/2*d:r.valign==="bottom"&&(t-=C*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),A&&C>=1){for(var P=0;P<A.length;P++)s.text(A[P],e-s.getStringUnitWidth(A[P])*_,t),t+=d;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Qb={},gh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Qb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=n.unifyColor(e.fillColor);v&&(r=this.jsPDFDocument).setFillColor.apply(r,v),v=n.unifyColor(e.textColor),v&&(s=this.jsPDFDocument).setTextColor.apply(s,v),v=n.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Qb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),H0=function(n,e){return H0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},H0(n,e)};function iw(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rw=(function(n){iw(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function dI(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pI(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Up(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function aw(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=sw(s,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function sw(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function l1(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function ow(n,e){var t=l1(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function gI(n,e,t,r,s){var o={},c=1.3333333333333333,h=a0(e,function(K){return s.getComputedStyle(K).backgroundColor});h!=null&&(o.fillColor=h);var f=a0(e,function(K){return s.getComputedStyle(K).color});f!=null&&(o.textColor=f);var d=yI(r,t);d&&(o.cellPadding=d);var v="borderTopColor",A=c*t,C=r.borderTopWidth;if(r.borderBottomWidth===C&&r.borderRightWidth===C&&r.borderLeftWidth===C){var _=(parseFloat(C)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var P=a0(e,function(K){return s.getComputedStyle(K)[v]});P!=null&&(o.lineColor=P);var q=["left","right","center","justify"];q.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),q=["middle","bottom","top"],q.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var U=parseInt(r.fontSize||"");isNaN(U)||(o.fontSize=U/c);var F=mI(r);F&&(o.fontStyle=F);var ie=(r.fontFamily||"").toLowerCase();return n.indexOf(ie)!==-1&&(o.font=ie),o}function mI(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function a0(n,e){var t=lw(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function lw(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:lw(n.parentElement,e):t}function yI(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(h){return parseInt(h||"0")/r}),c=l1(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function uw(n,e,t,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var h;typeof e=="string"?h=t.document.querySelector(e):h=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),v=[],A=[],C=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:v,body:A,foot:C};for(var _=0;_<h.rows.length;_++){var P=h.rows[_],q=(c=(o=P?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),U=vI(f,d,t,P,r,s);U&&(q==="thead"?v.push(U):q==="tfoot"?C.push(U):A.push(U))}return{head:v,body:A,foot:C}}function vI(n,e,t,r,s,o){for(var c=new rw(r),h=0;h<r.cells.length;h++){var f=r.cells[h],d=t.getComputedStyle(f);if(s||d.display!=="none"){var v=void 0;o&&(v=gI(n,f,e,d,t)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:bI(f)})}}var A=t.getComputedStyle(r);if(c.length>0&&(s||A.display!=="none"))return c}function bI(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function xI(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function jl(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function cw(n,e){var t=new gh(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();xI(s,r,e);var o=jl({},s,r,e),c;typeof window<"u"&&(c=window);var h=_I(s,r,e),f=wI(s,r,e),d=SI(t,o),v=EI(t,o,c);return{id:e.tableId,content:v,hooks:f,styles:h,settings:d}}function _I(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],v=e[f],A=t[f];r.columnStyles=jl({},d,v,A)}else{var C=[n,e,t],_=C.map(function(P){return P[f]||{}});r[f]=jl({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var h=c[o];s(h)}return r}function wI(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var h=c[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function SI(n,e){var t,r,s,o,c,h,f,d,v,A,C,_,P=l1(e.margin,40/n.scaleFactor()),q=(t=AI(n,e.startY))!==null&&t!==void 0?t:P.top,U;e.showFoot===!0?U="everyPage":e.showFoot===!1?U="never":U=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var F;e.showHead===!0?F="everyPage":e.showHead===!1?F="never":F=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var ie=(o=e.useCss)!==null&&o!==void 0?o:!1,K=e.theme||(ie?"plain":"striped"),ae=!!e.horizontalPageBreak,Se=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:ie,theme:K,startY:q,margin:P,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:F,showFoot:U,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(C=e.tableLineColor)!==null&&C!==void 0?C:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:Se,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function AI(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function EI(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var h=uw(n,e.html,t,c,e.useCss)||{};r=h.head||r,s=h.body||r,o=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||TI(r,s,o);return{columns:f,head:r,body:s,foot:o}}function TI(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,h;Array.isArray(r)?h=r[parseInt(o)]:h=r[o],typeof h=="object"&&!Array.isArray(h)&&(c=h?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var v={dataKey:d};s.push(v)}}),s}var G0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),CI=(function(n){iw(e,n);function e(t,r,s,o,c,h){var f=n.call(this,t,r,h)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return e})(G0),NI=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,c){for(var h=0,f=t;h<f.length;h++){var d=f[h],v=new CI(e,this,r,s,o,c),A=d(v)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new G0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new G0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),hw=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof rw&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var h=t.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),fw=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=l1(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),II=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function RI(n,e){jI(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=Y0(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=Y0(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),DI(e),kI(e,n),LI(e)}function jI(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=ow(n,e);e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){var v=e.hooks.didParseCell;e.callCellHooks(n,v,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=Up(d.text,d.styles,n)+A;var C=Up(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=C+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},A=v.cellWidth||v.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function Y0(n,e,t){for(var r=e,s=n.reduce(function(_,P){return _+P.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],h=c.wrappedWidth/s,f=r*h,d=c.width+f,v=t(c),A=d<v?v:d;e-=A-c.width,c.width=A}if(e=Math.round(e*1e10)/1e10,e){var C=n.filter(function(_){return e<0?_.width>t(_):!0});C.length&&(e=Y0(C,e,t))}return e}function LI(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var v=o.cells[f.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var A=r.length-s,C=v.rowSpan>A?A:v.rowSpan;e[f.index]={cell:v,left:C,row:o}}}}}function DI(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,c=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(c-=1,c>1&&n.columns[h+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function kI(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var v=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,v+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Xb(d.text,v,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Xb(d.text,v,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,v);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var C=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<C*d.rowSpan?t={height:C,count:d.rowSpan}:t&&t.count>0&&t.height>C&&(C=t.height),C>o.height&&(o.height=C)}}t.count--}}function Xb(n,e,t,r,s){return n.map(function(o){return MI(o,e,t,r,s)})}function MI(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Up(n,t,r))return n;for(;e<Up(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function dw(n,e){var t=new gh(n),r=OI(e,t.scaleFactor()),s=new NI(e,r);return RI(t,s),t.applyStyles(t.userStyles),s}function OI(n,e){var t=n.content,r=zI(t.columns);if(t.head.length===0){var s=Zb(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Zb(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:s0("head",t.head,r,c,o,e),body:s0("body",t.body,r,c,o,e),foot:s0("foot",t.foot,r,c,o,e)}}function s0(n,e,t,r,s,o){var c={},h=e.map(function(f,d){for(var v=0,A={},C=0,_=0,P=0,q=t;P<q.length;P++){var U=q[P];if(c[U.index]==null||c[U.index].left===0)if(_===0){var F=void 0;Array.isArray(f)?F=f[U.index-C-v]:F=f[U.dataKey];var ie={};typeof F=="object"&&!Array.isArray(F)&&(ie=F?.styles||{});var K=FI(n,U,d,s,r,o,ie),ae=new fw(F,K,n);A[U.dataKey]=ae,A[U.index]=ae,_=ae.colSpan-1,c[U.index]={left:ae.rowSpan-1,times:_}}else _--,C++;else c[U.index].left--,_=c[U.index].times,v++}return new hw(f,d,n,A)});return h}function Zb(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=PI(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function PI(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function zI(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new II(s,e,t)})}function FI(n,e,t,r,s,o,c){var h=pI(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=jl({},h.table,h[n],s.styles,f),v=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},A=n==="body"?v:{},C=n==="body"&&t%2===0?jl({},h.alternateRow,s.alternateRowStyles):{},_=dI(o),P=jl({},_,d,C,A);return jl(P,c)}function BI(n,e,t){var r;t===void 0&&(t={});var s=ow(n,e),o=new Map,c=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(C){var _=e.columns.find(function(P){return P.dataKey===C||P.index===C});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),h.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,v=(r=t?.start)!==null&&r!==void 0?r:0;v<e.columns.length;){if(o.has(v)){v++;continue}var A=e.columns[v].wrappedWidth;if(d||s>=A)d=!1,c.push(v),h.push(e.columns[v]),s-=A;else break;v++}return{colIndexes:c,columns:h,lastIndex:v-1}}function VI(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=BI(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function pw(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=r+s.bottom+c;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(C,_){return C+_.height},0);h+=d}var v=new gh(n);(t.pageBreak==="always"||t.startY!=null&&h>v.pageSize().height)&&(mw(v),o.y=s.top),e.callWillDrawPageHooks(v,o);var A=jl({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?UI(v,e,A,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(C){return zl(v,e,C,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(C,_){var P=_===e.body.length-1;qp(v,e,C,P,A,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(C){return zl(v,e,C,o,e.columns)})),aw(v,e,A,o),e.callEndPageHooks(v,o),e.finalY=o.y,n.lastAutoTable=e,v.applyStyles(v.userStyles)}function UI(n,e,t,r){var s=VI(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,v){n.applyStyles(n.userStyles),v>0?jf(n,e,t,r,d.columns,!0):Jb(n,e,r,d.columns),qI(n,e,t,r,d.columns),o0(n,e,r,d.columns)});else for(var c=-1,h=s[0],f=function(){var d=c;if(h){n.applyStyles(n.userStyles);var v=h.columns;c>=0?jf(n,e,t,r,v,!0):Jb(n,e,r,v),d=ex(n,e,c+1,r,v),o0(n,e,r,v)}var A=d-c;s.slice(1).forEach(function(C){n.applyStyles(n.userStyles),jf(n,e,t,r,C.columns,!0),ex(n,e,c+1,r,C.columns,A),o0(n,e,r,C.columns)}),c=d};c<e.body.length-1;)f()}function Jb(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return zl(n,e,o,t,r)})}function qI(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var h=c===e.body.length-1;qp(n,e,o,h,t,r,s)})}function ex(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),h=-1;return e.body.slice(t,c).forEach(function(f,d){var v=t+d===e.body.length-1,A=gw(n,e,v,r);f.canEntireRowFit(A,s)&&(zl(n,e,f,r,s),h=t+d)}),h}function o0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return zl(n,e,o,t,r)})}function HI(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function GI(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,h=t.columns;c<h.length;c++){var f=h[c],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var v=new fw(d.raw,d.styles,d.section);v=jl(v,d),v.text=[];var A=HI(d,e,r);d.text.length>A&&(v.text=d.text.splice(A,d.text.length));var C=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(C,_),d.contentHeight>=e&&(d.contentHeight=e,v.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),v.contentHeight=v.getContentHeight(C,_),v.contentHeight>o&&(o=v.contentHeight),s[f.index]=v}}var P=new hw(n.raw,-1,n.section,s,!0);P.height=o;for(var q=0,U=t.columns;q<U.length;q++){var f=U[q],v=P.cells[f.index];v&&(v.height=P.height);var d=n.cells[f.index];d&&(d.height=n.height)}return P}function YI(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,h=s-c;e.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>h)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var v=e.hasRowSpan(r.columns),A=e.getMaxCellHeight(r.columns)>h;return A?(v&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||r.settings.rowPageBreak==="avoid")}function qp(n,e,t,r,s,o,c){var h=gw(n,e,r,o);if(t.canEntireRowFit(h,c))zl(n,e,t,o,c);else if(YI(n,t,h,e)){var f=GI(t,h,e,n);zl(n,e,t,o,c),jf(n,e,s,o,c),qp(n,e,f,r,s,o,c)}else jf(n,e,s,o,c),qp(n,e,t,r,s,o,c)}function zl(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var h=c[o],f=t.cells[h.index];if(!f){r.x+=h.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,h,r);if(d===!1){r.x+=h.width;continue}WI(n,f,r);var v=f.getTextPos();nw(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,h,r),r.x+=h.width}r.y+=t.height}function WI(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=sw(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),$I(n,e,t,r.lineWidth))}function $I(n,e,t,r){var s,o,c,h;r.top&&(s=t.x,o=t.y,c=t.x+e.width,h=t.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,c,h)),r.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,h=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,c,h)),r.left&&(s=t.x,o=t.y,c=t.x,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,s,o,c,h)),r.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,s,o,c,h));function f(d,v,A,C,_){n.getDocument().setLineWidth(d),n.getDocument().line(v,A,C,_,"S")}}function gw(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function jf(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(h){return zl(n,e,h,r,s)}),e.callEndPageHooks(n,r);var c=e.settings.margin;aw(n,e,t,r),mw(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return zl(n,e,h,r,s)}),n.applyStyles(n.userStyles))}function mw(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function KI(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=cw(this,r),o=dw(this,s);return pw(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){nw(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return gh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){gh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new gh(this),o=uw(s,e,window,t,!1),c=o.head,h=o.body,f=((r=c[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var l0;function Ll(n,e){var t=cw(n,e),r=dw(n,t);pw(n,r)}try{if(typeof window<"u"&&window){var tx=window,nx=tx.jsPDF||((l0=tx.jspdf)===null||l0===void 0?void 0:l0.jsPDF);nx&&KI(nx)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Sh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3cdefs%3e%3clinearGradient%20id='grad1'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23006CE0;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23004BA0;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3ccircle%20cx='50'%20cy='50'%20r='45'%20fill='url(%23grad1)'%20/%3e%3cpath%20d='M55%2020%20L35%2050%20L50%2050%20L45%2080%20L65%2050%20L50%2050%20Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3c/svg%3e",QI=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],XI=({tickets:n,computers:e})=>{const[t,r]=Ze.useState("tickets"),[s,o]=Ze.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,h]=Ze.useState([]),[f,d]=Ze.useState(!1),v=w=>{h(V=>V.includes(w)?V.filter(I=>I!==w):[...V,w])},A=()=>c.length===0?e||[]:(e||[]).filter(w=>c.includes(w.type)),_=(n||[]).filter(w=>w.status==="closed").filter(w=>{if(!w.closedAt)return!1;try{const V=new Date(w.closedAt).toISOString().split("T")[0];return V>=s.start&&V<=s.end}catch{return!1}}),P=[0,108,224],q=[100,100,100],U=[245,247,250],F=(w,V,I)=>{const N=w.internal.pageSize.width;try{const E=new Image;E.src=Sh,w.addImage(E,"PNG",14,10,30,10)}catch{console.warn("Logo not loaded")}w.setFillColor(...P),w.rect(0,0,N,5,"F"),w.setTextColor(0),w.setFontSize(22),w.setFont("helvetica","bold"),w.text("ELSPEC ANDINA",50,20),w.setFontSize(10),w.setTextColor(100),w.setFont("helvetica","normal"),w.text("Soluciones en Calidad de Energa",50,25),w.setDrawColor(200),w.line(14,30,N-14,30),V&&(w.setFontSize(18),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(V,14,42)),I&&(w.setFontSize(11),w.setTextColor(...q),w.setFont("helvetica","normal"),w.text(I,14,49))},ie=(w,V)=>{const I=w.internal.pageSize.width,N=w.internal.pageSize.height,E=w.internal.getNumberOfPages();w.setTextColor(150),w.setFontSize(8),w.text(`Pgina ${V} de ${E}`,I-14,N-10,{align:"right"}),w.text(`Confidencial - Uso Interno - Generado el ${new Date().toLocaleDateString()}`,14,N-10)},K=(w,V,I,N,E,X,pe,re)=>{w.setFillColor(...U),w.setDrawColor(220),w.roundedRect(V,I,N,E,3,3,"FD"),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(X.toUpperCase(),V+5,I+8),w.setFontSize(16),w.setTextColor(...re),w.setFont("helvetica","bold"),w.text(String(pe),V+5,I+20)},ae=()=>{const w=new yt,V=w.internal.pageSize.width,I=_.length,N=_.reduce((O,Y)=>(O[Y.priority]=(O[Y.priority]||0)+1,O),{high:0,medium:0,low:0}),E=_.reduce((O,Y)=>(Y.feedback&&Y.feedback.rating&&(O.sum+=Y.feedback.rating,O.count+=1),O),{sum:0,count:0}),X=E.count>0?(E.sum/E.count).toFixed(1):"N/A";F(w,"Resumen Ejecutivo de Servicios",`Periodo: ${s.start} al ${s.end}`);const pe=55,re=25,he=(V-34)/3;K(w,14,pe,he,re,"Tickets Resueltos",I,P),K(w,14+he+3,pe,he,re,"Calificacin Prom.",`${X} / 5.0`,[245,158,11]),K(w,14+he*2+6,pe,he,re,"Alta Prioridad",N.high,[220,38,38]);let te=pe+re+15;w.setFontSize(12),w.setTextColor(...P),w.setFont("helvetica","bold"),w.text("Detalle de Servicios Prestados:",14,te),te+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("A continuacin se presenta el detalle de las solicitudes de soporte tcnico atendidas y cerradas durante el periodo seleccionado. Este informe consolida la gestin de incidentes y requerimientos para garantizar la continuidad operativa.",V-28),14,te),te+=20;const Re=["ID","Ttulo","Solicitante","Prioridad","Fecha Cierre","Calif."],J=_.map(O=>[O.id?O.id.slice(-6):"",O.title||"",O.author||"",(O.priority||"").toUpperCase(),O.closedAt?new Date(O.closedAt).toLocaleDateString():"",O.feedback?`${O.feedback.rating}/5`:"-"]);Ll(w,{head:[Re],body:J,startY:te,theme:"grid",headStyles:{fillColor:P,textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35}});const k=w.internal.getNumberOfPages();for(let O=1;O<=k;O++)w.setPage(O),O>1&&F(w),ie(w,O);w.addPage(),F(w),te=40,w.setFontSize(16),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Detalladas de Servicio Tcnico",14,te),te+=15,_.forEach(O=>{const Y=w.splitTextToSize(O.description||"",V-40).length,G=O.solution?w.splitTextToSize(O.solution,V-40).length:0,se=60+Y*5+G*5+(O.feedback?30:0);te+se>280&&(w.addPage(),F(w),te=40),w.setFillColor(...U),w.setDrawColor(200),w.roundedRect(14,te,V-28,12,2,2,"F"),w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(0),w.text(`TICKET #${O.id?O.id.slice(-6):"N/A"}`,20,te+8),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Fecha: ${new Date(O.createdAt).toLocaleDateString()}`,60,te+8);const fe=O.priority==="high"?[220,38,38]:O.priority==="medium"?[217,119,6]:[22,163,74];w.setFont("helvetica","bold"),w.setTextColor(...fe),w.text(`Prioridad: ${O.priority.toUpperCase()}`,110,te+8),w.setTextColor(0),w.text(`Solicitante: ${O.author}`,160,te+8),te+=18,w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(...P);const _e=w.splitTextToSize(O.title,V-28);w.text(_e,14,te),te+=_e.length*6+4,w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(50),w.text("DESCRIPCIN DEL PROBLEMA:",14,te),te+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const ge=w.splitTextToSize(O.description||"Sin detalles.",V-34);if(w.setFillColor(250),w.rect(14,te-4,V-28,ge.length*5+6,"F"),w.text(ge,17,te),te+=ge.length*5+12,O.solution){w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(22,163,74),w.text("SOLUCIN TCNICA APLICADA:",14,te),te+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Oe=w.splitTextToSize(O.solution,V-34);if(w.setFillColor(240,253,244),w.rect(14,te-4,V-28,Oe.length*5+6,"F"),w.text(Oe,17,te),te+=Oe.length*5+4,O.recommendation){te+=4,w.setFont("helvetica","bold"),w.setTextColor(60),w.text("Recomendacin:",17,te),w.setFont("helvetica","normal");const ye=w.splitTextToSize(O.recommendation,V-60);w.text(ye,45,te),te+=ye.length*5+6}else te+=8}else te+=5;if(O.feedback){w.setDrawColor(245,158,11),w.setLineWidth(.5),w.line(14,te,V-14,te),te+=6,w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(180,83,9),w.text("EVALUACIN DEL SERVICIO",14,te+4),w.setFontSize(12);const Oe="".repeat(O.feedback.rating)+"".repeat(5-O.feedback.rating);if(w.text(Oe,70,te+4),w.setFontSize(9),O.feedback.comment){w.setFont("helvetica","italic"),w.setTextColor(80);const ye=w.splitTextToSize(`"${O.feedback.comment}"`,V-110);w.text(ye,100,te+4),te+=Math.max(10,ye.length*4+10)}else te+=12}else te+=10;w.setDrawColor(200),w.setLineWidth(.5),w.line(14,te-2,V-14,te-2),te+=10}),w.save(`Informe_Soporte_${s.end}.pdf`)},Se=()=>{const w=new yt,V=w.internal.pageSize.width,I=A(),N=I.length,E=I.filter(O=>O.status==="Active").length,X=I.filter(O=>O.status==="Stock").length,pe=I.filter(O=>O.status==="Maintenance").length;F(w,"Inventario General de Activos IT",`Fecha de Corte: ${new Date().toLocaleDateString()}`);const re=55,he=25,te=(V-34)/4;K(w,14,re,te,he,"Total Equipos",N,P),K(w,14+te+2,re,te,he,"En Uso (Asignados)",E,[22,163,74]),K(w,14+te*2+4,re,te,he,"En Stock",X,[245,158,11]),K(w,14+te*3+6,re,te,he,"Mantenimiento",pe,[220,38,38]);let de=re+he+15;w.setFontSize(12),w.setTextColor(...P),w.setFont("helvetica","bold"),w.text("Estado del Parque Informtico:",14,de),de+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Informe detallado de los activos tecnolgicos registrados en el sistema. Incluye equipos de cmputo asignados a usuarios, equipos disponibles en inventario y aquellos que se encuentran en procesos de reparacin o baja.",V-28),14,de),de+=20;const J=I.map(O=>[O.name||`${O.brand} ${O.model}`,O.type||"N/A",O.serial||"N/A",O.assignedTo||"---",O.location||"N/A",O.status==="Active"?"EN USO":O.status==="Stock"?"DISPONIBLE":O.status.toUpperCase()]);Ll(w,{head:[["Equipo / Modelo","Tipo","Serial","Asignado A","Ubicacin","Estado","Fallas"]],body:J.map(O=>{const G=I.find(se=>se.serial===O[2]||se.name===O[0])?.hasFault?"S":"NO";return[...O,G]}),startY:de,theme:"striped",headStyles:{fillColor:P,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35}}),w.addPage(),F(w),de=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Tcnicas Resumidas",14,de),de+=10,I.forEach((O,Y)=>{de+40>280&&(w.addPage(),F(w),de=40),w.setFillColor(250,250,250),w.setDrawColor(220),w.roundedRect(14,de,V-28,35,2,2,"FD"),w.setFontSize(12),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${O.brand} ${O.model}`.toUpperCase(),25,de+10),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(`Serial: ${O.serial}`,25,de+16),w.text(`Tipo: ${O.type}`,25,de+22),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Especificaciones:",90,de+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`CPU: ${O.processor||"N/A"}`,90,de+16),w.text(`RAM: ${O.ram||"N/A"} | HDD: ${O.storage||"N/A"}`,90,de+22),w.text(`OS: ${O.os||"N/A"}`,90,de+28),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Asignacin:",150,de+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Usuario: ${O.assignedTo||"---"}`,150,de+16),w.text(`Ubicacin: ${O.location||"N/A"}`,150,de+22);const G=O.status==="Active"?[22,163,74]:O.status==="Stock"?[245,158,11]:[220,38,38];w.setTextColor(...G),w.setFont("helvetica","bold"),w.text(O.status.toUpperCase(),150,de+28),O.hasFault&&(w.setFillColor(254,242,242),w.setDrawColor(220,38,38),w.roundedRect(25,de+32,V-50,12,1,1,"FD"),w.setFontSize(8),w.setTextColor(185,28,28),w.setFont("helvetica","bold"),w.text("REPORTE DE FALLA ACTIV0:",28,de+37),w.setFont("helvetica","normal"),w.text(O.faultDescription||"Sin detalles",28,de+41),de+=15),de+=40});const k=w.internal.getNumberOfPages();for(let O=1;O<=k;O++)w.setPage(O),O>1&&F(w),ie(w,O);w.save(`Inventario_IT_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},Ne=()=>{const w=new yt,V=w.internal.pageSize.width,I=A(),N=Y=>{if(!Y.maintenanceLog||Y.maintenanceLog.length===0)return{status:"Pendiente",color:[100,100,100]};const G=new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date),se=new Date().getFullYear();let fe;G.getFullYear()<se?fe=new Date(se,6,15):G.getMonth()<=6?fe=new Date(se,10,15):fe=new Date(se+1,6,15);const ge=Math.ceil((fe-new Date)/(1e3*60*60*24));return ge<0?{status:"Vencido",color:[220,38,38]}:ge<=30?{status:"Prximo",color:[234,179,8]}:{status:"Al Da",color:[22,163,74]}},E=I.length,X=I.filter(Y=>N(Y).status==="Vencido").length,pe=I.filter(Y=>N(Y).status==="Prximo").length,re=I.filter(Y=>N(Y).status==="Al Da").length;F(w,"Informe de Mantenimiento Preventivo",`Fecha de Generacin: ${new Date().toLocaleDateString()}`);const he=55,te=25,de=(V-34)/4;K(w,14,he,de,te,"Total Equipos",E,P),K(w,14+de+2,he,de,te,"Al Da (OK)",re,[22,163,74]),K(w,14+de*2+4,he,de,te,"Atencin Req.",pe,[234,179,8]),K(w,14+de*3+6,he,de,te,"Vencidos / Crtico",X,[220,38,38]);let Re=he+te+15;w.setFontSize(12),w.setTextColor(...P),w.setFont("helvetica","bold"),w.text("Anlisis de Salud del Parque Informtico:",14,Re),Re+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Este informe presenta el estado actual del cronograma de mantenimiento preventivo. Se identifican los equipos que requieren atencin inmediata (Vencidos) y aquellos prximos a su fecha de servicio, permitiendo una planificacin eficiente de los recursos tcnicos.",V-28),14,Re),Re+=20;const k=I.map(Y=>{const G=N(Y),se=Y.maintenanceLog?.length>0?new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date).toLocaleDateString():"Sin Registros";return[Y.name||`${Y.brand} ${Y.model}`,Y.serial||"N/A",Y.assignedTo||"Stock",se,G.status.toUpperCase()]});Ll(w,{head:[["Equipo","Serial","Usuario / Ubicacin","ltimo Mant.","Estado Actual"]],body:k,startY:Re,theme:"grid",headStyles:{fillColor:P,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35},didParseCell:Y=>{if(Y.section==="body"&&Y.column.index===4){const G=Y.cell.raw;G==="VENCIDO"&&(Y.cell.styles.textColor=[220,38,38]),G==="PRXIMO"&&(Y.cell.styles.textColor=[217,119,6]),G==="AL DA"&&(Y.cell.styles.textColor=[22,163,74])}}}),w.addPage(),F(w),Re=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Historial de Mantenimientos por Equipo",14,Re),Re+=15,I.forEach((Y,G)=>{const se=Y.maintenanceLog?.length||0,fe=35+se*10;Re+fe>280&&(w.addPage(),F(w),Re=40),w.setFillColor(245,245,245),w.rect(14,Re,V-28,8,"F"),w.setFontSize(10),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${Y.brand} ${Y.model} (${Y.serial})`,16,Re+5.5);const _e=N(Y);w.setTextColor(..._e.color),w.text(_e.status.toUpperCase(),V-30,Re+5.5,{align:"right"}),Re+=12,se>0?Y.maintenanceLog.slice(-3).forEach(Oe=>{w.setFontSize(9),w.setTextColor(80),w.setFont("helvetica","normal");const ye=new Date(Oe.createdAt||Oe.date).toLocaleDateString();w.text(` ${ye}`,20,Re),w.text(`${Oe.activity} (Tc: ${Oe.technician||"Admin"})`,50,Re),Re+=6}):(w.setFontSize(9),w.setTextColor(150),w.setFont("helvetica","italic"),w.text("   Sin registros de mantenimiento.",20,Re),Re+=6),Re+=8});const O=w.internal.getNumberOfPages();for(let Y=1;Y<=O;Y++)w.setPage(Y),Y>1&&F(w),ie(w,Y);w.save(`Plan_Mantenimiento_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},$=_.reduce((w,V)=>(V.feedback&&V.feedback.rating&&(w.sum+=V.feedback.rating,w.count+=1),w),{sum:0,count:0}),M=$.count>0?($.sum/$.count).toFixed(1):"N/A";return g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px",flexWrap:"wrap",gap:"20px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[g.jsx("img",{src:Sh,alt:"ELSPEC Logo",style:{height:"50px"}}),g.jsxs("div",{children:[g.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ELSPEC ANDINA"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[g.jsx(zs,{size:16,color:"var(--primary)"})," Centro de Inteligencia y Reportes IT"]})]})]}),g.jsx("div",{style:{position:"relative",minWidth:"280px"},children:g.jsxs("select",{value:t,onChange:w=>r(w.target.value),style:{width:"100%",padding:"12px 20px",background:"rgba(0,0,0,0.3)",border:"1px solid var(--primary)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",outline:"none",fontWeight:"bold"},children:[g.jsx("option",{value:"tickets",style:{background:"#1e293b"},children:" Informe de Asistencia Tcnica"}),g.jsx("option",{value:"assets",style:{background:"#1e293b"},children:" Inventario General de Activos"}),g.jsx("option",{value:"maintenance",style:{background:"#1e293b"},children:" Estado de Mantenimiento"})]})})]}),t==="tickets"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[g.jsxs("div",{style:{background:"rgba(0, 108, 224, 0.1)",border:"1px solid rgba(0, 108, 224, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:_.length}),g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tickets en Rango"})]}),g.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--success)"},children:_.filter(w=>w.status==="closed").length}),g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Resueltos"})]}),g.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--warning)"},children:M}),g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Satisfaccin (1-5)"})]})]}),g.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)"},children:[g.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"end",flexWrap:"wrap"},children:[g.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(wh,{size:14})," Fecha Inicio"]}),g.jsx("input",{type:"date",value:s.start,onChange:w=>o({...s,start:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),g.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(wh,{size:14})," Fecha Fin"]}),g.jsx("input",{type:"date",value:s.end,onChange:w=>o({...s,end:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),g.jsxs("button",{onClick:ae,disabled:_.length===0,className:"btn-primary",style:{height:"48px",padding:"0 30px",display:"flex",alignItems:"center",gap:"10px",background:_.length===0?"rgba(255,255,255,0.05)":"var(--primary)",cursor:_.length===0?"not-allowed":"pointer"},children:[g.jsx(Nf,{size:20})," Generar Informe (PDF)"]})]}),_.length===0&&g.jsx("p",{style:{marginTop:"20px",color:"var(--warning)",fontSize:"0.9rem",textAlign:"center"},children:"* No se encontraron tickets cerrados en el rango de fechas seleccionado."})]})]}),t==="assets"&&g.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[g.jsx(Vf,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),g.jsx("h3",{style:{marginBottom:"10px"},children:"Inventario Completo de Activos IT"}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Genera un reporte detallado de todo el hardware registrado en el sistema."}),g.jsxs("div",{style:{marginBottom:"25px",maxWidth:"400px",margin:"0 auto 25px auto",position:"relative"},children:[g.jsxs("button",{onClick:()=>d(!f),className:"btn-secondary",style:{width:"100%",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"10px",cursor:"pointer"},children:[g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(u4,{size:16}),c.length===0?"Incluir: Todos los Tipos":`Incluir: ${c.length} seleccionados`]}),g.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:""})]}),f&&g.jsxs("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"10px",padding:"15px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",textAlign:"left",maxHeight:"300px",overflowY:"auto"},children:[g.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Seleccione Tipos:"}),g.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>h([]),children:"Limpiar Filtros"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:QI.map(w=>g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px",cursor:"pointer",fontSize:"0.9rem",borderRadius:"5px",background:c.includes(w)?"rgba(0, 108, 224, 0.1)":"transparent"},children:[g.jsx("input",{type:"checkbox",checked:c.includes(w),onChange:()=>v(w)}),w]},w))})]})]}),g.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"15px 30px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[g.jsx(Nf,{size:20})," Descargar Reporte de Inventario"]}),c.length>0&&g.jsxs("p",{style:{marginTop:"10px",fontSize:"0.85rem",color:"var(--primary)"},children:["* Filtrado por: ",c.join(", ")]})]}),t==="maintenance"&&g.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[g.jsx(kp,{size:48,color:"var(--warning)",style:{marginBottom:"20px"}}),g.jsx("h3",{style:{marginBottom:"10px"},children:"Estado de Mantenimiento Preventivo"}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Informe de salud del parque informtico, identificando equipos crticos, vencidos y prximos a mantenimiento."}),g.jsxs("button",{onClick:Ne,className:"btn-primary",style:{background:"var(--warning)",color:"black",padding:"15px 30px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[g.jsx(Nf,{size:20})," Descargar Informe de Salud (PDF)"]})]})]})},ZI=["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M1 Pro","Apple M1 Max","Apple M2","Apple M2 Pro","Apple M2 Max","Apple M3","Apple M3 Pro","Apple M3 Max","Intel Xeon","AMD Threadripper","Otro"],JI=["4GB","8GB","12GB","16GB","24GB","32GB","64GB","128GB"],eR=["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD","500GB HDD","1TB HDD","2TB HDD","4TB HDD"],ix=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],rx=["Laptop","Desktop","Servidor","Tablet","Smartphone","Otro"],tR=()=>{const{computers:n,addComputer:e,updateComputer:t,deleteComputer:r,addMaintenanceLog:s}=Pm(),{users:o}=Ih(),[c,h]=Ze.useState(""),[f,d]=Ze.useState([]),[v,A]=Ze.useState(!1),[C,_]=Ze.useState(null),[P,q]=Ze.useState(null),[U,F]=Ze.useState({activity:"",technician:""}),[ie,K]=Ze.useState({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),ae=N=>{K(N),_(N)},Se=()=>{K({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),_({id:"new"})},Ne=async N=>{N.preventDefault(),C.id==="new"?await e({...ie,createdAt:new Date().toISOString()}):await t(C.id,ie),_(null)},$=N=>{window.confirm("Est seguro de eliminar este equipo?")&&r(N)},M=async N=>{N.preventDefault(),P&&U.activity&&(await s(P.id,U),q(null),F({activity:"",technician:""}))},w=N=>{const E=new yt,X=[0,108,224];try{const te=new Image;te.src=Sh,E.addImage(te,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("HOJA DE VIDA",150,18,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(1),E.line(14,30,196,30),E.setDrawColor(200),E.setFillColor(245,247,250),E.roundedRect(14,35,182,35,3,3,"FD"),E.setFontSize(10),E.setTextColor(100),E.text("TIPO DE EQUIPO",20,42),E.text("MARCA",80,42),E.text("MODELO",140,42),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(N.type.toUpperCase(),20,48),E.text(N.brand.toUpperCase(),80,48),E.text(N.model.toUpperCase(),140,48),E.setFontSize(10),E.setTextColor(100),E.setFont("helvetica","normal"),E.text("SERIAL",20,58),E.text("ESTADO ACTUAL",80,58),E.text("FECHA COMPRA",140,58),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(N.serial||"N/A",20,64),E.text(N.status.toUpperCase(),80,64),E.text(N.purchaseDate||"N/A",140,64),E.setFontSize(14),E.setTextColor(...X),E.text("Especificaciones Tcnicas",14,85);const pe=[["Tipo de Equipo",N.type],["Marca",N.brand],["Modelo",N.model],["Serial",N.serial]];rx.includes(N.type)&&pe.push(["Procesador",N.processor],["Memoria RAM",N.ram],["Almacenamiento",N.storage],["Sistema Operativo",N.os]),pe.push(["Ubicacin",N.location],["Asignado a",N.assignedTo],["Estado Funcional",N.hasFault?"CON FALLAS / AVERAS":"Operativo Correctamente"]),N.hasFault&&pe.push(["Descripcin de Falla",N.faultDescription||"Sin detalles registrados"]),N.details&&pe.push(["Detalles Adicionales",N.details]),Ll(E,{body:pe,startY:90,theme:"grid",styles:{fontSize:10,cellPadding:5},columnStyles:{0:{fontStyle:"bold",width:60,fillColor:[240,240,240]},1:{textColor:te=>te.raw[0]==="Estado Funcional"&&N.hasFault?[220,38,38]:[0,0,0]}},didParseCell:te=>{te.section==="body"&&te.row.raw[0]==="Estado Funcional"&&N.hasFault&&(te.cell.styles.textColor=[220,38,38],te.cell.styles.fontStyle="bold")}});const re=E.lastAutoTable.finalY+15;E.setFontSize(14),E.setTextColor(...X),E.text("Historial de Mantenimientos",14,re);const he=(N.maintenanceLog||[]).map(te=>[new Date(te.createdAt).toLocaleDateString(),te.activity,te.technician||"Admin"]);he.length>0?Ll(E,{head:[["Fecha","Actividad Realizada","Tcnico"]],body:he,startY:re+5,theme:"striped",headStyles:{fillColor:X}}):(E.setFontSize(10),E.setTextColor(100),E.text("No hay registros de mantenimiento.",14,re+10)),E.setFontSize(8),E.setTextColor(150),E.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Gestin ELSPEC ANDINA`,105,290,{align:"center"}),E.save(`HojaVida_${N.serial||"Equipo"}.pdf`)},V=n.filter(N=>{const E=(N.assignedTo?.toLowerCase()||"").includes(c.toLowerCase())||(N.serial?.toLowerCase()||"").includes(c.toLowerCase())||(N.brand?.toLowerCase()||"").includes(c.toLowerCase()),X=f.length===0||f.includes(N.type);return E&&X}),I=N=>{d(E=>E.includes(N)?E.filter(X=>X!==N):[...E,N])};return g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Vf,{color:"var(--primary)",size:24})," Inventario General de Activos"]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsxs("div",{style:{position:"relative"},children:[g.jsxs("button",{onClick:()=>A(!v),className:"btn-secondary",style:{padding:"10px 15px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"8px",cursor:"pointer"},children:[g.jsx(L0,{size:16}),f.length===0?"Todos los Tipos":`${f.length} Filtros`]}),v&&g.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",width:"200px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},children:[g.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"Filtrar por Tipo:"}),g.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>d([]),children:"Limpiar"})]}),ix.map(N=>g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",cursor:"pointer",fontSize:"0.9rem"},children:[g.jsx("input",{type:"checkbox",checked:f.includes(N),onChange:()=>I(N)}),N]},N))]})]}),g.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"10px 20px",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(Tu,{size:18})," Nuevo Equipo"]})]})]}),C&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",padding:"30px",border:"1px solid var(--primary)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:[g.jsx("h4",{style:{marginTop:0,marginBottom:"25px",fontSize:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"15px"},children:C.id==="new"?"Registrar Nuevo Equipo":"Editar Informacin del Equipo"}),g.jsxs("form",{onSubmit:Ne,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Tipo"}),g.jsx("select",{value:ie.type,onChange:N=>K({...ie,type:N.target.value}),children:ix.map(N=>g.jsx("option",{value:N,children:N},N))})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Marca"}),g.jsx("input",{required:!0,value:ie.brand,onChange:N=>K({...ie,brand:N.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Modelo"}),g.jsx("input",{required:!0,value:ie.model,onChange:N=>K({...ie,model:N.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Serial / Service Tag"}),g.jsx("input",{required:!0,value:ie.serial,onChange:N=>K({...ie,serial:N.target.value})})]}),rx.includes(ie.type)&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Procesador"}),g.jsx("input",{list:"processor-list",value:ie.processor,onChange:N=>K({...ie,processor:N.target.value})}),g.jsx("datalist",{id:"processor-list",children:ZI.map(N=>g.jsx("option",{value:N},N))})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"RAM"}),g.jsx("input",{list:"ram-list",value:ie.ram,onChange:N=>K({...ie,ram:N.target.value})}),g.jsx("datalist",{id:"ram-list",children:JI.map(N=>g.jsx("option",{value:N},N))})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Almacenamiento"}),g.jsx("input",{list:"storage-list",value:ie.storage,onChange:N=>K({...ie,storage:N.target.value})}),g.jsx("datalist",{id:"storage-list",children:eR.map(N=>g.jsx("option",{value:N},N))})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Sistema Operativo"}),g.jsx("input",{value:ie.os,onChange:N=>K({...ie,os:N.target.value})})]})]}),g.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[g.jsx("label",{children:"Observaciones / Detalles Tcnicos Adicionales (IP, MAC, Puertos, etc.)"}),g.jsx("textarea",{rows:"2",value:ie.details||"",onChange:N=>K({...ie,details:N.target.value}),placeholder:"Ej: Direccin IP fija, Direccin MAC, Nmero de Puertos..."})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Asignado A (Usuario/Area)"}),g.jsxs("select",{value:ie.assignedTo,onChange:N=>{const E=N.target.value;K({...ie,assignedTo:E,status:E?"Active":"Stock"})},children:[g.jsx("option",{value:"",children:"-- Disponible / En Stock --"}),o&&o.map(N=>g.jsx("option",{value:N.username,children:N.name||N.username},N.id))]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Ubicacin"}),g.jsx("input",{value:ie.location,onChange:N=>K({...ie,location:N.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Fecha Compra"}),g.jsx("input",{type:"date",value:ie.purchaseDate,onChange:N=>K({...ie,purchaseDate:N.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Estado"}),g.jsxs("select",{value:ie.status,onChange:N=>K({...ie,status:N.target.value}),children:[g.jsx("option",{value:"Active",children:"En Uso (Activo)"}),g.jsx("option",{value:"Stock",children:"Disponible (Stock)"}),g.jsx("option",{value:"Maintenance",children:"En Mantenimiento"}),g.jsx("option",{value:"Retired",children:"Retirado / De Baja"})]})]}),g.jsxs("div",{style:{gridColumn:"1 / -1",background:"rgba(255, 0, 0, 0.05)",padding:"15px",borderRadius:"10px",border:"1px solid rgba(255, 0, 0, 0.2)"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:ie.hasFault?"15px":"0"},children:[g.jsx("input",{type:"checkbox",checked:ie.hasFault,onChange:N=>K({...ie,hasFault:N.target.checked}),style:{width:"20px",height:"20px"}}),g.jsx("span",{style:{fontWeight:"bold",color:ie.hasFault?"var(--danger)":"inherit"},children:"El equipo presenta fallas o averas?"})]}),ie.hasFault&&g.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[g.jsx("label",{children:"Descripcin de la Falla / Avera"}),g.jsx("textarea",{required:ie.hasFault,value:ie.faultDescription,onChange:N=>K({...ie,faultDescription:N.target.value}),placeholder:"Describa el problema tcnico, dao fsico o mal funcionamiento...",rows:"3",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--danger)"}})]})]}),g.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"15px",marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[g.jsx("button",{type:"button",onClick:()=>_(null),style:{flex:1,background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancelar"}),g.jsxs("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",fontSize:"1.1rem"},children:[g.jsx(JT,{size:18})," Guardar Cambios"]})]})]})]})}),P&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{width:"400px",padding:"25px",border:"1px solid var(--primary)"},children:[g.jsx("h4",{style:{marginTop:0},children:"Registrar Mantenimiento"}),g.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Para: ",P.brand," ",P.model]}),g.jsxs("form",{onSubmit:M,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Actividad Realizada"}),g.jsx("textarea",{required:!0,rows:"4",value:U.activity,onChange:N=>F({...U,activity:N.target.value}),placeholder:"Ej: Limpieza fsica, Actualizacin de Drivers..."})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Tcnico Responsable"}),g.jsx("input",{value:U.technician,onChange:N=>F({...U,technician:N.target.value}),placeholder:"Nombre del tcnico"})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Registrar"}),g.jsx("button",{type:"button",onClick:()=>q(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white"},children:"Cancelar"})]})]})]})}),g.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[g.jsx("input",{type:"text",placeholder:"Buscar por serial, marca o usuario...",value:c,onChange:N=>h(N.target.value),style:{width:"100%",padding:"12px 15px 12px 45px",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),g.jsx(L0,{size:20,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),g.jsxs("div",{style:{display:"grid",gap:"15px"},children:[V.map(N=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[g.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("h4",{style:{margin:0,fontSize:"1.1rem"},children:[N.brand," ",N.model]}),g.jsx("span",{style:{fontSize:"0.7rem",padding:"3px 8px",borderRadius:"10px",background:N.status==="Active"?"rgba(16, 185, 129, 0.2)":N.status==="Stock"?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:N.status==="Active"?"var(--success)":N.status==="Stock"?"var(--primary)":"var(--danger)"},children:N.status==="Active"?"En Uso":N.status==="Stock"?"Disponible":N.status})]}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginTop:"5px"},children:[g.jsx(Om,{size:14,style:{display:"inline",marginRight:"5px"}})," ",N.assignedTo||"Sin Asignar"," | Serial: ",N.serial]}),N.hasFault&&g.jsxs("div",{style:{fontSize:"0.9rem",color:"#7f1d1d",background:"#fecaca",padding:"8px 12px",borderRadius:"8px",marginTop:"10px",display:"flex",alignItems:"start",gap:"8px",border:"1px solid #f87171"},children:[g.jsx(kp,{size:16,style:{marginTop:"2px",flexShrink:0}}),g.jsxs("div",{children:[g.jsx("strong",{children:"Falla Reportada:"}),g.jsx("div",{style:{marginTop:"2px"},children:N.faultDescription})]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>w(N),title:"Descargar Hoja de Vida",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:g.jsx(zs,{size:18})}),g.jsx("button",{onClick:()=>q(N),title:"Registrar Mantenimiento",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:g.jsx(ST,{size:18})}),g.jsx("button",{onClick:()=>ae(N),title:"Editar",style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:g.jsx($o,{size:18})}),g.jsx("button",{onClick:()=>$(N.id),title:"Eliminar",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:g.jsx(kl,{size:18})})]})]},N.id)),V.length===0&&g.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"No se encontraron equipos registrados."})]})]})},nR=()=>{const{computers:n,addMaintenanceLog:e}=Pm(),[t,r]=Ze.useState(null),[s,o]=Ze.useState({activity:"",technician:""}),[c,h]=Ze.useState(""),f=async A=>{A.preventDefault(),t&&s.activity&&(await e(t.id,s),r(null),o({activity:"",technician:""}))},d=A=>{const C=new Date;let _,P;if(!A.maintenanceLog||A.maintenanceLog.length===0){const ie=C.getFullYear(),K=new Date(ie,6,15),ae=new Date(ie,10,15);C<K?_=K:C<ae?_=ae:_=new Date(ie+1,6,15),P=new Date(A.purchaseDate||A.createdAt)}else{const ie=A.maintenanceLog[A.maintenanceLog.length-1],K=ie.createdAt||ie.date;P=new Date(K);const ae=C.getFullYear();P.getFullYear()<ae?(_=new Date(ae,6,15),C>_&&(_=new Date(ae,10,15)),C>_&&(_=new Date(ae+1,6,15))):P.getMonth()<=6?(_=new Date(ae,10,15),C>_&&(_=new Date(ae+1,6,15))):_=new Date(ae+1,6,15)}const q=_-C,U=Math.ceil(q/(1e3*60*60*24));let F="ok";return U<0?F="overdue":U<=30&&(F="warning"),{nextDate:_,diffDays:U,status:F,lastDate:P}},v=n.map(A=>({...A,...d(A)})).filter(A=>(A.brand?.toLowerCase()||"").includes(c.toLowerCase())||(A.model?.toLowerCase()||"").includes(c.toLowerCase())||(A.serial?.toLowerCase()||"").includes(c.toLowerCase())).sort((A,C)=>A.diffDays-C.diffDays);return g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(wh,{color:"var(--primary)",size:24})," Cronograma de Mantenimiento Preventivo"]}),g.jsxs("div",{style:{position:"relative",width:"300px"},children:[g.jsx("input",{type:"text",placeholder:"Buscar equipo...",value:c,onChange:A=>h(A.target.value),style:{width:"100%",padding:"10px 15px 10px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),g.jsx(L0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]})]}),g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)"},children:[g.jsx("th",{style:{padding:"15px"},children:"Equipo / Serial"}),g.jsx("th",{style:{padding:"15px"},children:"ltimo Mantenimiento"}),g.jsx("th",{style:{padding:"15px"},children:"Prximo Mantenimiento"}),g.jsx("th",{style:{padding:"15px"},children:"Estado Actual"}),g.jsx("th",{style:{padding:"15px"},children:"Accin"})]})}),g.jsx("tbody",{children:v.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"5",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontraron equipos para el criterio de bsqueda."})}):v.map(A=>g.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[g.jsxs("td",{style:{padding:"15px"},children:[g.jsxs("div",{style:{fontWeight:"bold"},children:[A.brand," ",A.model]}),g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",gap:"5px",alignItems:"center"},children:g.jsx("span",{style:{color:"var(--primary)"},children:A.serial})})]}),g.jsx("td",{style:{padding:"15px",color:"var(--text-muted)"},children:A.lastDate.toLocaleDateString()}),g.jsx("td",{style:{padding:"15px",fontWeight:"bold"},children:A.nextDate.toLocaleDateString()}),g.jsxs("td",{style:{padding:"15px"},children:[A.status==="overdue"&&g.jsxs("span",{style:{color:"var(--danger)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(239, 68, 68, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[g.jsx(Mm,{size:16})," Vencido (",Math.abs(A.diffDays)," das)"]}),A.status==="warning"&&g.jsxs("span",{style:{color:"var(--warning)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(245, 158, 11, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[g.jsx(Dl,{size:16})," Atencin (",A.diffDays," das)"]}),A.status==="ok"&&g.jsxs("span",{style:{color:"var(--success)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[g.jsx(Uo,{size:16})," OK (",A.diffDays," das)"]})]}),g.jsx("td",{style:{padding:"15px"},children:g.jsx("button",{onClick:()=>r(A),className:"btn-primary",style:{padding:"8px 15px",fontSize:"0.85rem"},children:"Registrar"})})]},A.id))})]})}),t&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"30px",border:"1px solid var(--primary)"},children:[g.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Uo,{size:24,color:"var(--success)"})," Registrar Mantenimiento"]}),g.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:["Equipo: ",g.jsxs("span",{style:{color:"white",fontWeight:"bold"},children:[t.brand," ",t.model]})," ",g.jsx("br",{}),"Serial: ",t.serial]}),g.jsxs("form",{onSubmit:f,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Actividad Realizada"}),g.jsx("textarea",{required:!0,rows:"4",value:s.activity,onChange:A=>o({...s,activity:A.target.value}),placeholder:"Detalle el trabajo realizado (Ej: Limpieza interna, Cambio de pasta trmica, Formateo...)"})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Tcnico Responsable"}),g.jsx("input",{required:!0,value:s.technician,onChange:A=>o({...s,technician:A.target.value}),placeholder:"Nombre del tcnico"})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"12px"},children:"Guardar Registro"}),g.jsx("button",{type:"button",onClick:()=>r(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},iR=({computers:n,currentUser:e})=>{const t=n.filter(s=>s.assignedTo===e.username),r=s=>{const o=new yt,c=[0,108,224];try{const v=new Image;v.src=Sh,o.addImage(v,"SVG",14,10,40,15)}catch{console.warn("Logo error")}o.setFontSize(18),o.setTextColor(0),o.setFont("helvetica","bold"),o.text("HOJA DE VIDA",150,18,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),o.setDrawColor(0,108,224),o.setLineWidth(1),o.line(14,30,196,30),o.setDrawColor(200),o.setFillColor(245,247,250),o.roundedRect(14,35,182,35,3,3,"FD"),o.setFontSize(10),o.setTextColor(100),o.text("TIPO DE EQUIPO",20,42),o.text("MARCA",80,42),o.text("MODELO",140,42),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text((s.type||"N/A").toUpperCase(),20,48),o.text((s.brand||"N/A").toUpperCase(),80,48),o.text((s.model||"N/A").toUpperCase(),140,48),o.setFontSize(10),o.setTextColor(100),o.setFont("helvetica","normal"),o.text("SERIAL",20,58),o.text("ESTADO ACTUAL",80,58),o.text("FECHA COMPRA",140,58),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text(s.serial||"N/A",20,64),o.text((s.status||"N/A").toUpperCase(),80,64),o.text(s.purchaseDate||"N/A",140,64),o.setFontSize(14),o.setTextColor(...c),o.text("Especificaciones Tcnicas",14,85);const h=[["Procesador",s.processor],["Memoria RAM",s.ram],["Almacenamiento",s.storage],["Sistema Operativo",s.os],["Ubicacin",s.location],["Asignado a",s.assignedTo]];let f=95;if(o.setFontSize(10),o.setTextColor(0),o.setFont("helvetica","normal"),h.forEach(([v,A])=>{o.setFillColor(250),o.rect(14,f-4,182,8,"F"),o.setFont("helvetica","bold"),o.text(v+":",20,f+1),o.setFont("helvetica","normal"),o.text(A||"N/A",80,f+1),f+=10}),f+=10,o.setFontSize(14),o.setTextColor(...c),o.text("Historial de Mantenimientos",14,f),f+=10,s.maintenanceLog&&s.maintenanceLog.length>0){const v=s.maintenanceLog.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.activity,A.technician||"N/A"]);o.autoTable({startY:f,head:[["Fecha","Actividad Realizada","Tcnico"]],body:v,theme:"grid",headStyles:{fillColor:c,textColor:255},styles:{fontSize:9}})}else o.setFontSize(10),o.setTextColor(100),o.text("No hay registros de mantenimiento.",14,f+5);const d=o.internal.getNumberOfPages();for(let v=1;v<=d;v++)o.setPage(v),o.setFontSize(8),o.setTextColor(150),o.text(`Generado el: ${new Date().toLocaleDateString()} - ELSPEC ANDINA S.A.S`,105,290,{align:"center"});o.save(`HojaDeVida_${s.brand}_${s.model}.pdf`)};return g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("h3",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Vf,{color:"var(--primary)",size:24})," Mis Equipos Asignados"]}),t.length===0?g.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"15px"},children:g.jsx("p",{style:{color:"var(--text-muted)"},children:"No tienes equipos de cmputo asignados actualmente."})}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.map(s=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-color)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s",cursor:"default"},onMouseEnter:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseLeave:o=>o.currentTarget.style.transform="translateY(0)",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[g.jsxs("div",{children:[g.jsxs("h4",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:[s.brand," ",s.model]}),g.jsx("span",{style:{fontSize:"0.8rem",color:"var(--primary)",fontWeight:"bold"},children:s.type})]}),g.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",padding:"5px 10px",borderRadius:"8px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx(Uo,{size:14})," Asignado"]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Serial:"}),g.jsx("br",{}),s.serial]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Procesador:"}),g.jsx("br",{}),s.processor]}),g.jsxs("div",{children:[g.jsx("strong",{children:"RAM:"}),g.jsx("br",{}),s.ram]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Almacenamiento:"}),g.jsx("br",{}),s.storage]})]}),g.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px",marginTop:"auto"},children:g.jsxs("button",{onClick:()=>r(s),className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[g.jsx(zs,{size:18})," Descargar Hoja de Vida"]})})]},s.id))})]})},rR=()=>{const[n,e]=Ze.useState([]);return Ze.useEffect(()=>{const s=Vt.subscribeIndicators(o=>{e(o)});return()=>{typeof s=="function"&&s()}},[]),{indicators:n,addIndicator:s=>Vt.addIndicator(s),deleteIndicator:s=>Vt.deleteIndicator(s)}},aR=({tickets:n})=>{const{indicators:e,addIndicator:t,deleteIndicator:r}=rR(),[s,o]=Ze.useState("all"),[c,h]=Ze.useState([]),[f,d]=Ze.useState([]),[v,A]=Ze.useState(!1),[C,_]=Ze.useState({name:"",target:"",current:"",unit:"%"}),[P,q]=Ze.useState(null),[U,F]=Ze.useState(null),[ie,K]=Ze.useState([]),[ae,Se]=Ze.useState(!1),Ne=E=>{E.preventDefault(),t({name:C.name,target:parseFloat(C.target),current:parseFloat(C.current),unit:C.unit}),_({name:"",target:"",current:"",unit:"%"}),A(!1)},$=E=>{window.confirm("Eliminar este indicador?")&&r(E)},M={high:24,medium:48,low:72};Ze.useEffect(()=>{w()},[n,s]),Ze.useEffect(()=>{const E=Vt.subscribeSGIProcesses(X=>{d(X)});return()=>E&&E()},[]);const w=()=>{if(!n)return;const E=new Date,X=n.filter(pe=>{if(s==="all")return!0;const re=new Date(pe.createdAt),he=Math.abs(E-re),te=Math.ceil(he/(1e3*60*60*24));return s==="week"?te<=7:s==="month"?te<=30:s==="year"?te<=365:!0});h(X)},I=(()=>{if(!c.length)return null;let E=0,X=0,pe=0,re=0;const he=c.map(Re=>{const J=new Date(Re.createdAt),k=Re.closedAt?new Date(Re.closedAt):new Date,O=Re.status==="closed",G=(k-J)/(1e3*60*60),se=M[Re.priority]||48,fe=G<=se,_e=fe?"ontime":"overdue";return O&&(E++,pe+=G,re++,fe&&X++),{...Re,durationHours:G.toFixed(1),isCompliant:fe,slaStatus:_e,slaLimit:se}}),te=E>0?(X/E*100).toFixed(1):0,de=re>0?(pe/re).toFixed(1):0;return{total:c.length,closed:E,open:c.length-E,complianceRate:te,avgResolutionTime:de,ticketsWithMetrics:he}})(),N=()=>{const E=new yt,X=[0,108,224];try{const he=new Image;he.src=Sh,E.addImage(he,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("INFORME DE GESTIN (SGI)",105,20,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text(`Generado: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,105,26,{align:"center"}),E.text(`Filtro: ${s==="all"?"Todo el Histrico":s==="week"?"ltimos 7 das":s==="month"?"ltimo Mes":"ltimo Ao"}`,105,31,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(.5),E.line(14,35,196,35);let pe=40;if(e&&e.length>0){E.setFontSize(14),E.setTextColor(...X),E.text("Indicadores Personalizados / Metas",14,pe+10);const he=e.map(te=>[te.name,`${te.target} ${te.unit}`,`${te.current} ${te.unit}`,te.current>=te.target?"CUMPLE":"NO CUMPLE"]);Ll(E,{head:[["Indicador","Meta","Actual","Estado"]],body:he,startY:pe+15,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:10},didParseCell:te=>{te.section==="body"&&te.column.index===3&&(te.cell.styles.textColor=te.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],te.cell.styles.fontStyle="bold")}}),pe=E.lastAutoTable.finalY+10}if(f&&f.length>0&&(E.setFontSize(14),E.setTextColor(...X),E.text("Monitor de Procesos SGI",14,pe+10),pe+=15,f.forEach(he=>{if(he.indicators&&he.indicators.length>0){E.setFontSize(12),E.setTextColor(50,50,50),E.text(`Proceso: ${he.name}`,14,pe);const de=(new Date().getMonth()+1).toString().padStart(2,"0"),Re=he.indicators.map(J=>{const k=J.monthlyData?.[de]||0,O=k>=J.target;return[J.name,`${J.target} ${J.unit}`,`${k} ${J.unit}`,O?"CUMPLE":"REVISAR"]});Ll(E,{head:[["Indicador","Meta","Mes Actual","Estado"]],body:Re,startY:pe+5,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:9},didParseCell:J=>{J.section==="body"&&J.column.index===3&&(J.cell.styles.textColor=J.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],J.cell.styles.fontStyle="bold")}}),pe=E.lastAutoTable.finalY+10}})),I){E.setFontSize(14),E.setTextColor(...X),E.text("Resumen Ejecutivo (Tickets)",14,pe+10);const he=[[" % Cumplimiento SLA",`${I.complianceRate}%`],["Tiempo Promedio Resolucin",`${I.avgResolutionTime} Horas`],["Tickets Cerrados",`${I.closed}`],["Tickets Vencidos",`${I.ticketsWithMetrics.filter(de=>!de.isCompliant).length}`],["Total Solicitudes",`${I.total}`]];Ll(E,{body:he,startY:pe+15,theme:"grid",headStyles:{fillColor:X},styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",width:100},1:{halign:"right"}}}),E.setFontSize(14),E.setTextColor(...X),E.text("Detalle de Tickets y Cumplimiento",14,E.lastAutoTable.finalY+15);const te=I.ticketsWithMetrics.map(de=>[`#${de.id?de.id.slice(-6):"N/A"}`,new Date(de.createdAt).toLocaleDateString(),de.priority.toUpperCase(),de.status==="open"?"ABIERTO":"CERRADO",de.closedBy||"---",`${de.durationHours} hrs`,de.isCompliant?"CUMPLE":"VENCIDO"]);Ll(E,{head:[["ID","Fecha","Prioridad","Estado","Responsable","Tiempo","SLA"]],body:te,startY:E.lastAutoTable.finalY+20,theme:"striped",headStyles:{fillColor:X},styles:{fontSize:9},didParseCell:de=>{de.section==="body"&&de.column.index===6&&(de.cell.raw==="VENCIDO"?(de.cell.styles.textColor=[220,38,38],de.cell.styles.fontStyle="bold"):(de.cell.styles.textColor=[16,185,129],de.cell.styles.fontStyle="bold"))}})}else E.setFontSize(12),E.setTextColor(100),E.text("No hay actividad de tickets registrada en este periodo.",14,pe+20);const re=E.internal.getNumberOfPages();for(let he=1;he<=re;he++)E.setPage(he),E.setFontSize(8),E.setTextColor(150),E.text(`Pgina ${he} de ${re} - Sistema ELSPEC ANDINA`,105,290,{align:"center"});E.save(`Informe_SGI_${new Date().toISOString().split("T")[0]}.pdf`)};return g.jsxs("div",{style:{padding:"0 0 40px 0"},children:[g.jsx("style",{children:`
                @media (max-width: 768px) {
                    .controls-header {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .controls-header-right {
                        flex-direction: column;
                        gap: 10px !important;
                    }
                    .kpi-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-card-header {
                        padding: 15px !important;
                    }
                    .evidence-modal-content {
                        width: 95% !important;
                        padding: 20px !important;
                    }
                }
                `}),g.jsxs("div",{className:"glass-card controls-header",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Dv,{color:"var(--primary)"})," Indicadores de Gestin (SGI)"]}),g.jsxs("div",{className:"controls-header-right",style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("button",{onClick:()=>A(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",background:"var(--success)"},children:[g.jsx(Tu,{size:16})," Nuevo"]}),g.jsxs("button",{onClick:N,disabled:!I,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",opacity:I?1:.5,cursor:I?"pointer":"not-allowed"},children:[g.jsx(Nf,{size:16})," PDF"]}),g.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)",margin:"0 5px"}}),g.jsx(u4,{size:16,color:"var(--text-muted)"}),g.jsxs("select",{value:s,onChange:E=>o(E.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",padding:"8px",borderRadius:"8px"},children:[g.jsx("option",{value:"all",children:"Todo"}),g.jsx("option",{value:"week",children:"Semana"}),g.jsx("option",{value:"month",children:"Mes"}),g.jsx("option",{value:"year",children:"Ao"})]})]})]}),e.length>0&&g.jsxs("div",{style:{marginBottom:"30px"},children:[g.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Indicadores Personalizados"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:e.map(E=>g.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative"},children:[g.jsx("button",{onClick:()=>$(E.id),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",padding:"5px"},children:g.jsx(kl,{size:14})}),g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:E.name}),g.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"10px"},children:g.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"},children:[E.current," ",g.jsx("span",{style:{fontSize:"1rem"},children:E.unit})]})}),g.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"5px"},children:["Meta: ",E.target," ",E.unit]}),g.jsx("div",{style:{marginTop:"10px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:g.jsx("div",{style:{height:"100%",width:`${Math.min(E.current/E.target*100,100)}%`,background:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"}})})]},E.id))})]}),f&&f.length>0&&g.jsxs("div",{style:{marginBottom:"40px"},children:[g.jsxs("h3",{style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"10px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Dl,{color:"var(--primary)"})," Monitor de Procesos Corporativos"]}),g.jsx("div",{className:"process-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px"},children:f.map(E=>g.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{className:"process-card-header",style:{padding:"20px",background:"rgba(0, 108, 224, 0.1)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[g.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:E.name}),g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:["Lder: ",E.leader||"Sin asignar"]})]}),g.jsx("div",{style:{padding:"20px",flex:1},children:E.indicators&&E.indicators.length>0?g.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:g.jsx("tbody",{children:E.indicators.map(X=>{const re=(new Date().getMonth()+1).toString().padStart(2,"0"),he=X.monthlyData?.[re]||0,te=Math.min(he/(X.target||1)*100,100);return g.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{q(X),F(re),Se(!0),Vt.subscribeSGIEvidence(E.id,de=>{const Re=de.filter(J=>J.indicatorId===X.id&&J.month===re);K(Re)})},className:"indicator-row",children:[g.jsxs("td",{style:{padding:"10px 0"},children:[g.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:X.name}),g.jsx("div",{style:{height:"6px",width:"100%",background:"rgba(255,255,255,0.1)",borderRadius:"3px"},children:g.jsx("div",{style:{height:"100%",width:`${te}%`,background:te>=90?"var(--success)":te>=70?"var(--warning)":"var(--danger)",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),g.jsx("td",{style:{padding:"10px 0 10px 15px",textAlign:"right",whiteSpace:"nowrap"},children:g.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[he," ",g.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["/ ",X.target," ",X.unit]})]})})]},X.id)})})}):g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin indicadores configurados"})})]},E.id))})]}),I?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"kpi-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(52, 211, 153, 0.15)",padding:"15px",borderRadius:"50%"},children:g.jsx(Uo,{size:32,color:"var(--success)"})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Cumplimiento SLA"}),g.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:I.complianceRate>=80?"var(--success)":I.complianceRate>=50?"var(--warning)":"var(--danger)"},children:[I.complianceRate,"%"]}),g.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Meta: > 80%"})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"15px",borderRadius:"50%"},children:g.jsx(Dl,{size:32,color:"var(--primary)"})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tiempo Promedio Cierre"}),g.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[I.avgResolutionTime," ",g.jsx("span",{style:{fontSize:"1rem"},children:"hrs"})]})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(239, 68, 68, 0.15)",padding:"15px",borderRadius:"50%"},children:g.jsx(l4,{size:32,color:"var(--danger)"})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tickets Vencidos"}),g.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--danger)"},children:I.ticketsWithMetrics.filter(E=>!E.isCompliant).length}),g.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[I.ticketsWithMetrics.length," Totales"]})]})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"25px",overflowX:"auto"},children:[g.jsx("h4",{style:{marginBottom:"20px"},children:"Detalle de Cumplimiento por Ticket"}),g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.85rem",textAlign:"left"},children:[g.jsx("th",{style:{padding:"10px"},children:"ID Ticket"}),g.jsx("th",{style:{padding:"10px"},children:"Fecha Ingreso"}),g.jsx("th",{style:{padding:"10px"},children:"Prioridad / SLA"}),g.jsx("th",{style:{padding:"10px"},children:"Responsable (Cierre)"}),g.jsx("th",{style:{padding:"10px"},children:"Tiempo Transcurrido"}),g.jsx("th",{style:{padding:"10px"},children:"Estado SLA"}),g.jsx("th",{style:{padding:"10px"},children:"Estado Ticket"})]})}),g.jsx("tbody",{children:I.ticketsWithMetrics.map(E=>g.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"0.9rem"},children:[g.jsxs("td",{style:{padding:"15px 10px",fontFamily:"monospace",color:"var(--primary)"},children:["#",E.id?E.id.slice(-6):"N/A"]}),g.jsx("td",{style:{padding:"15px 10px"},children:new Date(E.createdAt).toLocaleDateString()}),g.jsx("td",{style:{padding:"15px 10px"},children:g.jsxs("span",{style:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem",color:E.priority==="high"?"var(--danger)":E.priority==="medium"?"var(--warning)":"var(--success)"},children:[E.priority," (",E.slaLimit,"h)"]})}),g.jsx("td",{style:{padding:"15px 10px"},children:E.closedBy||(E.status==="closed"?"Admin":"---")}),g.jsxs("td",{style:{padding:"15px 10px"},children:[E.durationHours," hrs"]}),g.jsx("td",{style:{padding:"15px 10px"},children:E.isCompliant?g.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[g.jsx(Uo,{size:12})," A Tiempo"]}):g.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--danger)",background:"rgba(239, 68, 68, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[g.jsx(Mp,{size:12})," Vencido"]})}),g.jsx("td",{style:{padding:"15px 10px",opacity:.8},children:E.status==="open"?"Abierto":"Cerrado"})]},E.id))})]})]})]}):g.jsxs("div",{className:"glass-card",style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[g.jsx("div",{style:{marginBottom:"15px"},children:g.jsx(Dv,{size:48,style:{opacity:.2}})}),"No hay actividad de tickets para generar indicadores automticos en este periodo."]}),v&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[g.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"Nuevo Indicador / Meta"}),g.jsxs("form",{onSubmit:Ne,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Nombre del Indicador"}),g.jsx("input",{type:"text",placeholder:"Ej: Satisfaccin Cliente",required:!0,value:C.name,onChange:E=>_({...C,name:E.target.value})})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Meta"}),g.jsx("input",{type:"number",step:"0.01",required:!0,value:C.target,onChange:E=>_({...C,target:E.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Valor Actual"}),g.jsx("input",{type:"number",step:"0.01",required:!0,value:C.current,onChange:E=>_({...C,current:E.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Unidad"}),g.jsxs("select",{value:C.unit,onChange:E=>_({...C,unit:E.target.value}),children:[g.jsx("option",{value:"%",children:"%"}),g.jsx("option",{value:"#",children:"#"}),g.jsx("option",{value:"$",children:"$"})]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[g.jsx("button",{type:"button",onClick:()=>A(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",children:"Crear Indicador"})]})]})]})}),ae&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card evidence-modal-content",style:{padding:"30px",width:"100%",maxWidth:"600px",maxHeight:"85vh",overflowY:"auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("div",{children:[g.jsx("h3",{style:{margin:0},children:"Detalle de Evidencia"}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:[P?.name," - Mes ",U]})]}),g.jsx("button",{onClick:()=>Se(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:g.jsx(Mp,{})})]}),ie.length===0?g.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontr evidencia para este periodo."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:ie.map(E=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[g.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:E.leaderName}),g.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(E.timestamp).toLocaleDateString()})]}),g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Valor reportado:"}),g.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:E.value})]}),E.comment&&g.jsxs("div",{style:{marginBottom:"15px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"8px",borderLeft:"3px solid var(--primary)"},children:[g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"5px",textTransform:"uppercase"},children:"Comentario / Feedback"}),g.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:E.comment})]}),E.attachments&&E.attachments.length>0&&g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:E.attachments.map((X,pe)=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[X.type?.includes("image")?g.jsx("img",{src:X.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(X.url,"_blank")}):g.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:g.jsx(zs,{size:32,color:"var(--primary)"})}),g.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:X.name}),g.jsx("a",{href:X.url,download:X.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none"},children:"Descargar"})]},pe))})]})]},E.id))})]})})]})},sR=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState([]),[s,o]=Ze.useState(null),[c,h]=Ze.useState(!1),[f,d]=Ze.useState(!1),[v,A]=Ze.useState(!0),[C,_]=Ze.useState({name:"",description:"",leaders:[]}),[P,q]=Ze.useState(null),[U,F]=Ze.useState({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),[ie,K]=Ze.useState([]),[ae,Se]=Ze.useState(!1),[Ne,$]=Ze.useState(null),[M,w]=Ze.useState(null),[V,I]=Ze.useState([]),[N,E]=Ze.useState(!1),[X,pe]=Ze.useState("");Ze.useEffect(()=>{const G=Vt.subscribeSGIProcesses(_e=>{e(_e),A(!1)});(async()=>{const _e=await Vt.getUsers();r(_e)})();const fe=Vt.subscribeSGIIndicatorTypes(_e=>{I(_e)});return()=>{G(),fe()}},[]);const re=async G=>{G.preventDefault();try{if(C.leaders.length===0){alert("Debe seleccionar al menos un lder para el proceso.");return}s&&!s.isNew?await Vt.updateSGIProcess(s.id,C):await Vt.addSGIProcess({...C,indicators:[]}),h(!1),_({name:"",description:"",leaders:[]}),o(null)}catch(se){console.error("Error saving process:",se)}},he=async G=>{window.confirm("Seguro que desea eliminar este proceso?")&&(await Vt.deleteSGIProcess(G),s?.id===G&&o(null))},te=async G=>{if(G.preventDefault(),!s)return;let se;if(P)se=s.indicators.map(fe=>fe.id===P.id?{...fe,...U}:fe);else{const fe={id:Date.now().toString(),...U,monthlyData:{}};se=[...s.indicators||[],fe]}try{await Vt.updateSGIProcess(s.id,{indicators:se}),o({...s,indicators:se}),d(!1),F({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),q(null)}catch(fe){console.error("Error saving indicator:",fe)}},de=async G=>{if(!window.confirm("Est seguro de eliminar este indicador?"))return;const se=s.indicators.filter(fe=>fe.id!==G);await Vt.updateSGIProcess(s.id,{indicators:se}),o({...s,indicators:se})},Re=(G,se=null)=>($(G),w(se),Se(!0),Vt.subscribeSGIEvidence(s.id,_e=>{let ge=_e.filter(Oe=>Oe.indicatorId===G.id);se&&(ge=ge.filter(Oe=>Oe.month===se)),K(ge)})),J=async(G,se,fe)=>{if(!s)return;const _e=s.indicators.map(ge=>ge.id===G?{...ge,monthlyData:{...ge.monthlyData,[se]:parseFloat(fe)}}:ge);try{await Vt.updateSGIProcess(s.id,{indicators:_e}),o({...s,indicators:_e})}catch(ge){console.error("Error updating data:",ge)}},k=()=>{let G="data:text/csv;charset=utf-8,";G+=`Proceso,Indicador,Tipo,Meta,Ene,Feb,Mar,Abr,May,Jun,Jul,Ago,Sep,Oct,Nov,Dic
`,n.forEach(_e=>{_e.indicators&&_e.indicators.forEach(ge=>{const Oe=V.find(Qe=>Qe.id===ge.typeId)?.name||"General",ye=[`"${_e.name}"`,`"${ge.name}"`,`"${Oe}"`,`"${ge.target} ${ge.unit}"`,ge.monthlyData?.["01"]||0,ge.monthlyData?.["02"]||0,ge.monthlyData?.["03"]||0,ge.monthlyData?.["04"]||0,ge.monthlyData?.["05"]||0,ge.monthlyData?.["06"]||0,ge.monthlyData?.["07"]||0,ge.monthlyData?.["08"]||0,ge.monthlyData?.["09"]||0,ge.monthlyData?.["10"]||0,ge.monthlyData?.["11"]||0,ge.monthlyData?.["12"]||0].join(",");G+=ye+`
`})});const se=encodeURI(G),fe=document.createElement("a");fe.setAttribute("href",se),fe.setAttribute("download","reporte_sgi_acumulado.csv"),document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},O=(G,se)=>{if(!G||!se)return"rgba(255,255,255,0.05)";const fe=parseFloat(G)/parseFloat(se)*100;return fe>=90?"rgba(16, 185, 129, 0.2)":fe>=70?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)"},Y=(G,se)=>{if(!G||!se)return"rgba(255,255,255,0.1)";const fe=parseFloat(G)/parseFloat(se)*100;return fe>=90?"#10b981":fe>=70?"#f59e0b":"#ef4444"};return g.jsxs("div",{style:{padding:"20px",width:"100%",margin:"0 auto"},children:[g.jsx("style",{children:`
                @media (max-width: 1024px) {
                    .sgi-management-layout {
                        grid-template-columns: 1fr !important;
                    }
                    .sidebar-processes {
                        order: -1;
                    }
                }
                @media (max-width: 768px) {
                    .header-management {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .process-detail-header {
                        flex-direction: column;
                        gap: 15px;
                    }
                    .indicators-table-container {
                        margin: 0 -15px;
                        border-radius: 0 !important;
                    }
                }
                `}),g.jsxs("div",{className:"header-management",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[g.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(zs,{color:"var(--primary)"})," Gestin de Procesos SGI"]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsxs("button",{onClick:k,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--success)"},children:[g.jsx(Nf,{size:18})," Reporte"]}),g.jsxs("button",{onClick:()=>E(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--secondary)"},children:[g.jsx($o,{size:18})," Tipos"]}),g.jsxs("button",{onClick:()=>{o({isNew:!0}),_({name:"",description:"",leaders:[]}),h(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(Tu,{size:18})," Proceso"]})]})]}),g.jsxs("div",{className:"sgi-management-layout mobile-column",style:{display:"grid",gridTemplateColumns:"minmax(250px, 1fr) 4fr",gap:"30px"},children:[g.jsx("style",{children:`
                    @media (max-width: 1024px) {
                        .sgi-management-layout {
                            grid-template-columns: 1fr !important;
                            display: flex !important;
                            flex-direction: column !important;
                        }
                    }
                    `}),g.jsxs("div",{className:"glass-card sidebar-processes sidebar-responsive",style:{padding:"20px",height:"fit-content"},children:[g.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Procesos"}),g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(G=>g.jsx("li",{style:{marginBottom:"10px"},children:g.jsxs("div",{onClick:()=>o(G),style:{padding:"12px",borderRadius:"8px",cursor:"pointer",background:s?.id===G.id?"rgba(0, 108, 224, 0.2)":"rgba(255,255,255,0.05)",border:s?.id===G.id?"1px solid var(--primary)":"1px solid transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{style:{fontWeight:500},children:G.name}),g.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[g.jsx("button",{onClick:se=>{se.stopPropagation(),o(G),_({name:G.name,description:G.description||"",leaders:G.leaders||(G.leader?[{id:G.leaderId||"",name:G.leader}]:[])}),h(!0)},style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer"},title:"Editar Proceso",children:g.jsx($o,{size:14})}),g.jsx("button",{onClick:se=>{se.stopPropagation(),he(G.id)},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},title:"Eliminar Proceso",children:g.jsx(kl,{size:14})})]})]})},G.id))})]}),g.jsx("div",{className:"glass-card main-process-content",style:{padding:"30px"},children:s&&!s.isNew?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"process-detail-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[g.jsxs("div",{children:[g.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"var(--primary)"},children:s.name}),g.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:s.description||"Sin descripcin"}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:["Lderes:",s.leaders?.map(G=>g.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:G.name},G.id))||s.leader&&g.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:s.leader})||"N/A"]})]}),g.jsxs("button",{onClick:()=>{q(null),F({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),d(!0)},className:"btn-primary",style:{background:"var(--success)",fontSize:"0.9rem",padding:"8px 15px"},children:[g.jsx(Tu,{size:16,style:{marginRight:"5px"}})," Agregar Indicador"]})]}),g.jsx("div",{className:"glass-card indicators-table-container table-responsive",style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"12px"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",textAlign:"left"},children:[g.jsx("th",{style:{padding:"10px"},children:"Indicador"}),g.jsx("th",{style:{padding:"10px"},children:"Meta"}),g.jsx("th",{style:{padding:"10px"},children:"Ene"}),g.jsx("th",{style:{padding:"10px"},children:"Feb"}),g.jsx("th",{style:{padding:"10px"},children:"Mar"}),g.jsx("th",{style:{padding:"10px"},children:"Abr"}),g.jsx("th",{style:{padding:"10px"},children:"May"}),g.jsx("th",{style:{padding:"10px"},children:"Jun"}),g.jsx("th",{style:{padding:"10px"},children:"Jul"}),g.jsx("th",{style:{padding:"10px"},children:"Ago"}),g.jsx("th",{style:{padding:"10px"},children:"Sep"}),g.jsx("th",{style:{padding:"10px"},children:"Oct"}),g.jsx("th",{style:{padding:"10px"},children:"Nov"}),g.jsx("th",{style:{padding:"10px"},children:"Dic"}),g.jsx("th",{style:{padding:"10px"},children:"Acciones"})]})}),g.jsx("tbody",{children:(()=>{const G=(s.indicators||[]).reduce((fe,_e)=>{const ge=_e.folder||"General";return fe[ge]||(fe[ge]=[]),fe[ge].push(_e),fe},{});return(s.indicators||[]).length>0?Object.entries(G).map(([fe,_e])=>g.jsxs(ax.Fragment,{children:[g.jsx("tr",{style:{background:"rgba(255, 255, 255, 0.03)"},children:g.jsx("td",{colSpan:"15",style:{padding:"10px",color:"var(--primary)",fontWeight:"bold",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:fe})}),_e.map(ge=>g.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[g.jsxs("td",{style:{padding:"15px 10px",paddingLeft:"20px"},children:[g.jsx("div",{style:{fontWeight:"bold"},children:ge.name}),g.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"5px",opacity:.6},children:[ge.requiresPhoto&&g.jsx(o4,{size:14,title:"Requiere Foto"}),ge.requiresFile&&g.jsx(j0,{size:14,title:"Requiere Archivo"}),ge.requiresComment&&g.jsx(c4,{size:14,title:"Requiere Comentario"})]})]}),g.jsxs("td",{style:{padding:"15px 10px"},children:[g.jsxs("div",{children:[ge.target||"-"," ",ge.unit]}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"4px"},children:ge.frequency||"Mensual"})]}),["01","02","03","04","05","06","07","08","09","10","11","12"].map(Oe=>g.jsx("td",{style:{padding:"5px"},children:g.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("input",{type:"number",style:{width:"50px",background:O(ge.monthlyData?.[Oe],ge.target),border:`1px solid ${Y(ge.monthlyData?.[Oe],ge.target)}`,color:"white",padding:"4px",borderRadius:"4px",fontSize:"0.85rem",transition:"all 0.3s ease"},value:ge.monthlyData?.[Oe]||"",onChange:ye=>J(ge.id,Oe,ye.target.value)}),ge.monthlyData?.[Oe]!==void 0&&g.jsx("button",{onClick:()=>Re(ge,Oe),style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer",padding:"2px",marginTop:"2px"},title:"Ver evidencia del mes",children:g.jsx(zs,{size:10})})]})},Oe)),g.jsxs("td",{style:{padding:"15px 10px",display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>{q(ge),F({name:ge.name,target:ge.target,unit:ge.unit,requiresPhoto:ge.requiresPhoto,requiresFile:ge.requiresFile,requiresComment:ge.requiresComment,folder:ge.folder||"",frequency:ge.frequency||"Mensual"}),d(!0)},title:"Editar Indicador",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:g.jsx($o,{size:16})}),g.jsx("button",{onClick:()=>Re(ge),title:"Ver Evidencia",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:g.jsx(zs,{size:16})}),g.jsx("button",{onClick:()=>de(ge.id),style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:g.jsx(kl,{size:16})})]})]},ge.id))]},fe)):g.jsx("tr",{children:g.jsx("td",{colSpan:"15",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No hay indicadores configurados para este proceso."})})})()})]})})]}):g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-muted)"},children:[g.jsx(zs,{size:48,style:{opacity:.2,marginBottom:"20px"}}),g.jsx("p",{children:"Seleccione un proceso para ver sus indicadores o cree uno nuevo."})]})})]}),c&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[g.jsx("h3",{children:s?.id?"Editar Proceso":"Nuevo Proceso"}),g.jsxs("form",{onSubmit:re,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Nombre del Proceso"}),g.jsx("input",{type:"text",required:!0,value:C.name,onChange:G=>_({...C,name:G.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Descripcin"}),g.jsx("textarea",{value:C.description,onChange:G=>_({...C,description:G.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"}})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Seleccionar Lderes (Puede seleccionar varios)"}),g.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px"},children:t.map(G=>{const se=C.leaders?.some(fe=>fe.id===G.id);return g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[g.jsx("input",{type:"checkbox",checked:se,onChange:fe=>{let _e=[...C.leaders||[]];fe.target.checked?_e.push({id:G.id,name:G.name}):_e=_e.filter(ge=>ge.id!==G.id),_({...C,leaders:_e})}}),g.jsxs("span",{style:{fontSize:"0.9rem"},children:[G.name," ",g.jsxs("small",{style:{opacity:.5},children:["(",G.role,")"]})]})]},G.id)})})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{type:"button",onClick:()=>h(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),g.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),f&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"450px"},children:[g.jsx("h3",{children:P?"Editar Indicador":"Nuevo Indicador de Proceso"}),g.jsxs("form",{onSubmit:te,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Nombre del Indicador / Tarea"}),g.jsx("input",{type:"text",placeholder:"Ej: Entrega de Reportes",required:!0,value:U.name,onChange:G=>F({...U,name:G.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Carpeta / Grupo (Opcional)"}),g.jsx("input",{type:"text",placeholder:"Ej: Seguridad, Calidad, etc.",value:U.folder||"",onChange:G=>F({...U,folder:G.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Tipo de Indicador"}),g.jsxs("select",{value:U.typeId||"",onChange:G=>F({...U,typeId:G.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[g.jsx("option",{value:"",children:"-- Seleccionar Tipo --"}),V.map(G=>g.jsx("option",{value:G.id,children:G.name},G.id))]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Meta"}),g.jsx("input",{type:"number",required:!0,value:U.target,onChange:G=>F({...U,target:G.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Unidad"}),g.jsxs("select",{value:U.unit,onChange:G=>F({...U,unit:G.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[g.jsx("option",{value:"%",children:"% (Porcentaje)"}),g.jsx("option",{value:"#",children:"# (Cantidad)"}),g.jsx("option",{value:"$",children:"$ (Pesos)"})]})]})]}),g.jsxs("div",{style:{margin:"15px 0"},children:[g.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Requerimientos de Evidencia:"}),g.jsxs("div",{style:{display:"flex",gap:"20px"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:U.requiresPhoto,onChange:G=>F({...U,requiresPhoto:G.target.checked})}),g.jsx("span",{children:"Foto"})]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:U.requiresFile,onChange:G=>F({...U,requiresFile:G.target.checked})}),g.jsx("span",{children:"Archivo"})]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:U.requiresComment,onChange:G=>F({...U,requiresComment:G.target.checked})}),g.jsx("span",{children:"Comentario"})]})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Frecuencia de Medicin"}),g.jsxs("select",{value:U.frequency||"Mensual",onChange:G=>F({...U,frequency:G.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[g.jsx("option",{value:"Mensual",children:"Mensual"}),g.jsx("option",{value:"Bimestral",children:"Bimestral"}),g.jsx("option",{value:"Trimestral",children:"Trimestral"}),g.jsx("option",{value:"Semestral",children:"Semestral"}),g.jsx("option",{value:"Anual",children:"Anual"})]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{type:"button",onClick:()=>{d(!1),q(null)},style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),g.jsx("button",{type:"submit",className:"btn-primary",children:P?"Guardar Cambios":"Agregar"})]})]})]})}),ae&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("div",{children:[g.jsxs("h3",{style:{margin:0},children:["Evidencia: ",Ne?.name]}),M&&g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:["Filtrado por Mes: ",M]})]}),g.jsx("button",{onClick:()=>{Se(!1),w(null)},style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:g.jsx(Mp,{})})]}),ie.length===0?g.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se ha cargado evidencia para este indicador an."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:ie.map(G=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"12px",borderLeft:"4px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[g.jsx("span",{style:{fontWeight:"bold"},children:G.leaderName}),g.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(G.timestamp).toLocaleString()})]}),G.value&&g.jsxs("div",{style:{marginBottom:"10px"},children:["Valor reportado: ",g.jsx("b",{style:{color:"var(--primary)"},children:G.value})]}),G.comment&&g.jsxs("p",{style:{fontSize:"0.9rem",margin:"0 0 10px 0",fontStyle:"italic"},children:['"',G.comment,'"']}),G.attachments&&G.attachments.length>0&&g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:G.attachments.map((se,fe)=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[se.type?.includes("image")?g.jsx("img",{src:se.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(se.url,"_blank")}):g.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:g.jsx(zs,{size:32,color:"var(--primary)"})}),g.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:se.name}),g.jsx("a",{href:se.url,download:se.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none",display:"block",marginTop:"5px"},children:"Descargar"})]},fe))})]})]},G.id))})]})}),N&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1200,display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsx("h3",{style:{margin:0},children:"Tipos de Indicadores"}),g.jsx("button",{onClick:()=>E(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:g.jsx(Mp,{})})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[g.jsx("input",{type:"text",placeholder:"Nuevo Tipo (ej: Seguridad)",value:X,onChange:G=>pe(G.target.value),style:{flex:1,padding:"8px",borderRadius:"4px",border:"none"}}),g.jsx("button",{onClick:async()=>{X.trim()&&(await Vt.addSGIIndicatorType({name:X.trim()}),pe(""))},className:"btn-primary",style:{padding:"8px 15px"},children:g.jsx(Tu,{size:16})})]}),g.jsxs("ul",{style:{listStyle:"none",padding:0,maxHeight:"300px",overflowY:"auto"},children:[V.map(G=>g.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[g.jsx("span",{children:G.name}),g.jsx("button",{onClick:()=>{window.confirm("Eliminar este tipo?")&&Vt.deleteSGIIndicatorType(G.id)},style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:g.jsx(kl,{size:16})})]},G.id)),V.length===0&&g.jsx("li",{style:{textAlign:"center",color:"var(--text-muted)",padding:"10px"},children:"No hay tipos definidos."})]})]})})]})},oR=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState(null),[s,o]=Ze.useState(!0),[c,h]=Ze.useState(Vt.getSession()),[f,d]=Ze.useState({indicatorId:"",value:"",comment:"",files:[]}),[v,A]=Ze.useState(!1),[C,_]=Ze.useState([]),[P,q]=Ze.useState(!1),[U,F]=Ze.useState(null),[ie,K]=Ze.useState({indicatorId:"",value:"",comment:"",files:[]});Ze.useEffect(()=>{if(!c)return;const I=Vt.subscribeSGIProcesses(N=>{const E=N.filter(X=>X.leaders?.some(pe=>pe.id===c.id)||X.leaderId===c.id||X.leader===c.name);if(e(E),o(!1),t){const X=E.find(pe=>pe.id===t.id);r(X||null)}});return()=>I()},[c,t?.id]),Ze.useEffect(()=>{if(!t)return;const I=Vt.subscribeSGIEvidence(t.id,N=>{_(N)});return()=>I()},[t?.id]);const ae=I=>{const N=Array.from(I.target.files);if(N.some(X=>X.size>1024*1024)){alert(` Uno o ms archivos exceden el lmite de 1MB.

Para esta versin gratuita (sin tarjeta vinculada), los archivos deben ser pequeos (<1MB). Por favor comprima el archivo e intente de nuevo.`),I.target.value="";return}d({...f,files:N})},Se=async(I,N=!1)=>{const E=N?ie:f;if(!E.value&&!E.comment&&E.files.length===0){alert("Por favor ingrese algn dato o evidencia.");return}A(!0);try{const pe=(new Date().getMonth()+1).toString().padStart(2,"0"),re=[];for(const he of E.files){if(he.size>1024*1024)throw new Error(`El archivo ${he.name} es demasiado grande. El lmite es 1MB.`);const te=await Vt.uploadFile(he);re.push({name:he.name,url:te,type:he.type})}if(N&&U){const he=C.find(de=>de.id===U),te=[...he.attachments||[],...re];if(await Vt.updateSGIEvidence(U,{value:E.value,comment:E.comment,attachments:te}),E.value){const de=parseFloat(he.value||0),Re=parseFloat(E.value)-de;await Ne(I,pe,Re)}alert("Evidencia actualizada."),M()}else await Vt.submitSGIEvidence({processId:t.id,indicatorId:I,leaderId:c.id,leaderName:c.name,month:pe,year:new Date().getFullYear(),value:E.value,comment:E.comment,attachments:re}),E.value&&await Ne(I,pe,parseFloat(E.value)),d({indicatorId:"",value:"",comment:"",files:[]}),alert("Evidencia enviada correctamente.")}catch(X){console.error("Error submitting:",X),alert(X.message||"Error al procesar la solicitud.")}finally{A(!1)}},Ne=async(I,N,E)=>{const X=t.indicators.map(pe=>{if(pe.id===I){let he=parseFloat(pe.monthlyData?.[N]||0)+E;if(pe.target){const te=parseFloat(pe.target);he>te&&(he=te)}return he<0&&(he=0),{...pe,monthlyData:{...pe.monthlyData||{},[N]:he}}}return pe});await Vt.updateSGIProcess(t.id,{indicators:X})},$=(I,N)=>{alert("Abriendo editor..."),F(I.id),K({indicatorId:N,value:I.value||"",comment:I.comment||"",files:[]}),q(!0)},M=()=>{q(!1),F(null),K({indicatorId:"",value:"",comment:"",files:[]})},w=I=>{const N=Array.from(I.target.files);if(N.some(X=>X.size>1024*1024)){alert(" Archivo > 1MB. Comprima e intente de nuevo."),I.target.value="";return}K({...ie,files:N})},V=async(I,N)=>{if(window.confirm("Seguro que deseas eliminar esta entrega? El valor se restar del acumulado."))try{if(await Vt.deleteSGIEvidence(I.id),I.value){const E=I.month,X=parseFloat(I.value),pe=t.indicators.map(re=>{if(re.id===N.id){let te=parseFloat(re.monthlyData?.[E]||0)-X;return te<0&&(te=0),{...re,monthlyData:{...re.monthlyData||{},[E]:te}}}return re});await Vt.updateSGIProcess(t.id,{indicators:pe})}alert("Evidencia eliminada y valor ajustado.")}catch(E){console.error("Error deleting evidence:",E),alert("Error al eliminar la evidencia.")}};return s?g.jsx("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:"Cargando procesos..."}):g.jsxs("div",{className:"mobile-column",style:{padding:"20px",display:"flex",gap:"30px",minHeight:"80vh"},children:[g.jsxs("div",{className:"sidebar-responsive",style:{width:"300px",flexShrink:0},children:[g.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Dl,{color:"var(--primary)"})," Mis Procesos SGI"]}),n.length===0?g.jsx("div",{className:"glass-card",style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:"No tienes procesos asignados en este momento."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(I=>g.jsxs("div",{onClick:()=>r(I),className:"glass-card",style:{padding:"15px",cursor:"pointer",border:t?.id===I.id?"1px solid var(--primary)":"1px solid transparent",background:t?.id===I.id?"rgba(0, 108, 224, 0.15)":"rgba(255,255,255,0.05)",transition:"all 0.2s ease"},children:[g.jsx("div",{style:{fontWeight:"bold"},children:I.name}),g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:[I.indicators?.length||0," Indicadores definidos"]})]},I.id))})]}),g.jsx("div",{style:{flex:1},children:t?g.jsxs("div",{children:[g.jsxs("div",{className:"glass-card",style:{padding:"25px",marginBottom:"30px"},children:[g.jsx("h2",{style:{margin:0},children:t.name}),g.jsx("p",{style:{color:"var(--text-muted)",margin:"10px 0 0 0"},children:t.description})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:(()=>{const I=(t.indicators||[]).reduce((N,E)=>{const X=E.folder||"General";return N[X]||(N[X]=[]),N[X].push(E),N},{});return Object.entries(I).map(([N,E])=>g.jsxs("div",{style:{marginBottom:"30px"},children:[g.jsx("h3",{style:{color:"var(--primary)",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px",marginBottom:"20px",fontSize:"1.2rem",fontWeight:"500"},children:N}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:E.map(X=>g.jsxs("div",{className:"glass-card",style:{padding:"25px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("div",{children:[g.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:X.name}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[X.requiresPhoto&&g.jsxs("span",{className:"badge-blue",children:[g.jsx(o4,{size:12})," Foto"]}),X.requiresFile&&g.jsxs("span",{className:"badge-blue",children:[g.jsx(j0,{size:12})," Archivo"]}),X.requiresComment&&g.jsxs("span",{className:"badge-blue",children:[g.jsx(c4,{size:12})," Comentario"]})]})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Meta ",X.frequency||"Mensual"]}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[X.target," ",X.unit]})]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"12px"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Valor Real (Mes Actual)"}),g.jsx("input",{type:"number",placeholder:`0.00 ${X.unit}`,onChange:pe=>d({...f,value:pe.target.value})})]}),X.requiresComment&&g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Comentarios / Observaciones"}),g.jsx("textarea",{placeholder:"Describa el progreso o hallazgos...",style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"},onChange:pe=>d({...f,comment:pe.target.value})})]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(X.requiresPhoto||X.requiresFile)&&g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Evidencia (Fotos/Archivos)"}),g.jsxs("div",{style:{border:"2px dashed var(--border-color)",padding:"20px",borderRadius:"12px",textAlign:"center",position:"relative",cursor:"pointer",background:f.files.length>0?"rgba(52, 211, 153, 0.05)":"transparent"},children:[g.jsx("input",{type:"file",multiple:!0,accept:X.requiresPhoto?"image/*,.pdf,.doc,.docx":"*",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:ae}),g.jsx(fC,{size:24,color:"var(--primary)",style:{marginBottom:"10px"}}),g.jsx("div",{style:{fontSize:"0.9rem"},children:f.files.length>0?`${f.files.length} archivos seleccionados`:"Haga clic o arrastre para subir evidencia"})]})]}),g.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"auto"},children:g.jsx("button",{disabled:v,onClick:()=>Se(X.id),className:"btn-primary",style:{flex:1,display:"flex",justifyContent:"center",gap:"10px"},children:v?"Enviando...":g.jsxs(g.Fragment,{children:[g.jsx(nC,{size:18})," Enviar Cumplimiento"]})})})]})]}),g.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px"},children:[g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(Dl,{size:14})," Historial de Entregas"]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:C.filter(pe=>pe.indicatorId===X.id).length===0?g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:"Sin entregas previas este mes."}):C.filter(pe=>pe.indicatorId===X.id).sort((pe,re)=>new Date(re.timestamp)-new Date(pe.timestamp)).map(pe=>g.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"8px",fontSize:"0.85rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"5px"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[g.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:[pe.value," ",X.unit]}),g.jsx("span",{style:{fontSize:"0.75rem",opacity:.6},children:new Date(pe.timestamp).toLocaleString()})]}),g.jsxs("div",{style:{display:"flex",gap:"5px"},children:[g.jsx("button",{onClick:()=>$(pe,X.id),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Editar esta entrega",children:g.jsx(kv,{size:16})}),g.jsx("button",{onClick:()=>V(pe,X),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Eliminar esta entrega",children:g.jsx(kl,{size:16})})]})]}),pe.comment&&g.jsx("p",{style:{margin:"0 0 5px 0",opacity:.8},children:pe.comment}),pe.attachments&&pe.attachments.length>0&&g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:pe.attachments.map((re,he)=>g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(255,255,255,0.1)",padding:"4px 8px",borderRadius:"4px"},children:g.jsxs("a",{href:re.url,download:re.name,style:{color:"var(--primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem"},children:[g.jsx(j0,{size:12})," ",re.name]})},he))})]},pe.id))})]})]},X.id))})]},N))})()})]}):g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[g.jsx(zs,{size:80,style:{marginBottom:"20px"}}),g.jsx("h2",{children:"Selecciona un proceso para comenzar"})]})}),P&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999},children:g.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"25px",position:"relative"},children:[g.jsx("button",{onClick:M,style:{position:"absolute",top:"15px",right:"15px",background:"transparent",border:"none",color:"white",cursor:"pointer"},children:g.jsx(Op,{size:24})}),g.jsxs("h3",{style:{marginTop:0,marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(kv,{size:20,color:"var(--primary)"})," Editar Entrega"]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Valor Real (Correccin)"}),g.jsx("input",{type:"number",value:ie.value,onChange:I=>K({...ie,value:I.target.value})})]}),g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Comentarios / Observaciones"}),g.jsx("textarea",{value:ie.comment,onChange:I=>K({...ie,comment:I.target.value}),style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"}})]}),g.jsxs("div",{className:"input-group",style:{margin:0},children:[g.jsx("label",{children:"Agregar Evidencia Adicional"}),g.jsx("input",{type:"file",multiple:!0,onChange:w,style:{color:"white"}})]}),g.jsx("button",{disabled:v,onClick:()=>Se(ie.indicatorId,!0),className:"btn-primary",style:{marginTop:"10px",display:"flex",justifyContent:"center",gap:"10px"},children:v?"Actualizando...":g.jsxs(g.Fragment,{children:[g.jsx(Uo,{size:18})," Guardar Cambios"]})})]})]})})]})},lR=()=>{const{user:n}=Ih(),[e,t]=Ze.useState([]),[r,s]=Ze.useState(!0),[o,c]=Ze.useState(!1),[h,f]=Ze.useState(null),[d,v]=Ze.useState({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"});Ze.useEffect(()=>{const K=Vt.getVisits(ae=>{t(ae),s(!1)});return()=>K()},[]);const C=n?.role==="admin"||n?.role==="operator"||n?.role==="technician",_=async K=>{K.preventDefault();try{h?await Vt.updateVisit(h.id,d):await Vt.addVisit({...d,createdBy:n.username}),c(!1),f(null),v({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"})}catch(ae){console.error("Error saving visit:",ae),alert("Error al guardar la visita.")}},P=async K=>{window.confirm("Est seguro de eliminar esta visita?")&&await Vt.deleteVisit(K)},q=K=>{f(K),v({date:K.date,location:K.location,client:K.client||"",description:K.description,personnel:K.personnel,status:K.status}),c(!0)},U=K=>{switch(K){case"completed":return"var(--success)";case"cancelled":return"var(--danger)";default:return"var(--primary)"}},F=K=>{switch(K){case"completed":return"Completada";case"cancelled":return"Cancelada";default:return"Programada"}},ie=(K,ae)=>{if(ae!=="scheduled")return null;const Se=new Date;Se.setHours(0,0,0,0);const Ne=new Date(K);Ne.setHours(0,0,0,0);const $=Ne-Se,M=Math.ceil($/(1e3*60*60*24));return M<0?{color:"var(--danger)",text:"Vencida"}:M===0?{color:"var(--warning)",text:"Hoy"}:M<=3?{color:"var(--warning)",text:`En ${M} das`}:null};return g.jsxs("div",{style:{padding:"20px",color:"white",maxWidth:"1200px",margin:"0 auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[g.jsxs("div",{children:[g.jsxs("h2",{style:{fontSize:"1.8rem",display:"flex",alignItems:"center",gap:"10px",margin:0},children:[g.jsx(wh,{color:"var(--primary)",size:32})," Cronograma de Operaciones"]}),g.jsx("p",{style:{color:"var(--text-muted)",margin:"5px 0 0 0"},children:"Planificacin de visitas tcnicas y mantenimientos en terreno."})]}),C&&g.jsxs("button",{onClick:()=>{f(null),v({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"}),c(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(Mv,{size:18})," Agendar Visita"]})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:e.map(K=>{const ae=ie(K.date,K.status);return g.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative",borderLeft:`4px solid ${U(K.status)}`},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",padding:"5px 10px",borderRadius:"15px"},children:[g.jsx(Dl,{size:14,color:U(K.status)}),g.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:new Date(K.date).toLocaleDateString()})]}),ae&&g.jsxs("span",{style:{color:ae.color,fontWeight:"bold",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx(Mm,{size:14})," ",ae.text]})]}),g.jsx("h4",{style:{fontSize:"1.2rem",margin:"0 0 10px 0"},children:K.location}),K.client&&g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:["Cliente: ",K.client]}),g.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.95rem",lineHeight:"1.5",marginBottom:"15px"},children:K.description}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[g.jsx(Om,{size:16}),g.jsxs("span",{children:["Personal: ",K.personnel]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[g.jsx("span",{style:{fontSize:"0.8rem",padding:"4px 10px",borderRadius:"10px",background:K.status==="completed"?"rgba(16, 185, 129, 0.2)":K.status==="cancelled"?"rgba(239, 68, 68, 0.2)":"rgba(37, 99, 235, 0.2)",color:U(K.status)},children:F(K.status)}),C&&g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>q(K),style:{background:"transparent",color:"var(--primary)",border:"none",cursor:"pointer",padding:"5px"},children:g.jsx($o,{size:18})}),g.jsx("button",{onClick:()=>P(K.id),style:{background:"transparent",color:"var(--danger)",border:"none",cursor:"pointer",padding:"5px"},children:g.jsx(kl,{size:18})})]})]})]},K.id)})}),o&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[g.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[h?g.jsx($o,{size:24}):g.jsx(Mv,{size:24}),h?"Editar Visita":"Nueva Visita"]}),g.jsxs("form",{onSubmit:_,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Fecha de Visita"}),g.jsx("input",{type:"date",required:!0,value:d.date,onChange:K=>v({...d,date:K.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Ubicacin / Proyecto"}),g.jsx("input",{type:"text",required:!0,placeholder:"Ej: Planta Principal, Sala de Servidores...",value:d.location,onChange:K=>v({...d,location:K.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Cliente (Opcional)"}),g.jsx("input",{type:"text",placeholder:"Nombre del cliente",value:d.client,onChange:K=>v({...d,client:K.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Personal Asignado"}),g.jsx("input",{type:"text",required:!0,placeholder:"Ej: Juan Perez, Equipo A...",value:d.personnel,onChange:K=>v({...d,personnel:K.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Descripcin de Actividades"}),g.jsx("textarea",{rows:"3",required:!0,placeholder:"Detalle de tareas a realizar...",value:d.description,onChange:K=>v({...d,description:K.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Estado"}),g.jsxs("select",{value:d.status,onChange:K=>v({...d,status:K.target.value}),children:[g.jsx("option",{value:"scheduled",children:"Programada"}),g.jsx("option",{value:"completed",children:"Completada"}),g.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Guardar"}),g.jsx("button",{type:"button",onClick:()=>c(!1),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",color:"white",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},uR=()=>{const{user:n,logout:e,users:t}=Ih(),{tickets:r,addTicket:s,updateTicketStatus:o,deleteTicket:c}=bC(),{computers:h}=Pm(),[f,d]=Ze.useState("home"),[v,A]=Ze.useState({title:"",description:"",priority:"medium"}),[C,_]=Ze.useState(!1),[P,q]=Ze.useState(!1),[U,F]=Ze.useState(!1),[ie,K]=Ze.useState(null),[ae,Se]=Ze.useState(null),[Ne,$]=Ze.useState({solution:"",recommendation:""}),[M,w]=Ze.useState(null),[V,I]=Ze.useState({rating:5,comment:""}),[N,E]=Ze.useState(10),[X,pe]=Ze.useState(""),[re,he]=Ze.useState(""),te=ye=>{ye.preventDefault(),M&&(o(M,"closed",{feedback:{rating:parseInt(V.rating),comment:V.comment,createdAt:new Date().toISOString()}}),w(null),I({rating:5,comment:""}))},[de,Re]=Ze.useState(null);if(!n)return null;console.log("Dashboard loaded - Version: 2.2.0 (Home Dashboard + Ticket Modal)");const J=()=>{try{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))}catch(ye){console.error("Fullscreen error",ye)}},k=async ye=>{ye.preventDefault(),F(!0);try{let Qe="";ie&&(Qe=await Vt.uploadFile(ie)),await s({...v,author:n.username,imageUrl:Qe||null}),A({title:"",description:"",priority:"medium"}),K(null),q(!1)}catch(Qe){console.error("Error creating ticket:",Qe),alert("Error al crear el ticket. Por favor intente nuevamente.")}finally{F(!1)}},O=ye=>{ye.preventDefault(),de&&(o(de.id,de.status,{title:de.title,description:de.description,priority:de.priority,...se&&{solution:de.solution,recommendation:de.recommendation}}),Re(null))},Y=ye=>{window.confirm("Est seguro de que desea eliminar este ticket?")&&c(ye)},G=ye=>{ye.preventDefault(),o(ae,"closed",{solution:Ne.solution,recommendation:Ne.recommendation,closedAt:new Date().toISOString(),closedBy:n.username});const Qe=(r||[]).find(et=>et.id===ae);if(Qe){const et=(t||[]).find(lt=>lt.username===Qe.author);et&&et.email&&(console.log(`%c SISTEMA ENVIANDO CORREO A: ${et.email}`,"color: #10b981; font-weight: bold;"),console.log(`Asunto:  Ticket Resuelto: ${Qe.title}`),console.log(`Solucin: ${Ne.solution}`),console.log(`Recomendacin: ${Ne.recommendation}`))}Se(null),$({solution:"",recommendation:""})},se=n.role==="admin",fe=se||n.canManageAssets,_e=r||[],ge=_e.filter(ye=>ye.status==="open").length,Oe=_e.filter(ye=>ye.status==="closed").length;return g.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-color)",color:"white"},children:[P&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Tu,{color:"var(--primary)",size:32})," Nueva Solicitud"]}),g.jsx("button",{onClick:()=>q(!1),style:{background:"transparent",color:"var(--text-muted)"},children:g.jsx(Op,{size:24})})]}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px"},children:"Complete los detalles para crear un nuevo ticket de soporte."}),g.jsxs("form",{onSubmit:k,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Asunto / Ttulo"}),g.jsx("input",{type:"text",required:!0,value:v.title,placeholder:"Ej: Falla en impresora, Error de software...",onChange:ye=>A({...v,title:ye.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Prioridad"}),g.jsxs("select",{value:v.priority,onChange:ye=>A({...v,priority:ye.target.value}),children:[g.jsx("option",{value:"low",children:"Baja"}),g.jsx("option",{value:"medium",children:"Media"}),g.jsx("option",{value:"high",children:"Alta"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Descripcin del Problema"}),g.jsx("textarea",{rows:"5",required:!0,value:v.description,onChange:ye=>A({...v,description:ye.target.value}),placeholder:"Describa detalladamente el problema..."})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Adjuntar Imagen (Opcional)"}),g.jsx("input",{type:"file",accept:"image/*",onChange:ye=>K(ye.target.files[0]),style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid var(--border-color)",width:"100%"}}),ie&&g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--primary)",marginTop:"5px"},children:["Imagen seleccionada: ",ie.name]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",disabled:U,style:{flex:1.5,padding:"15px"},children:U?"Subiendo...":"Crear Ticket"}),g.jsx("button",{type:"button",onClick:()=>q(!1),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),de&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx($o,{color:"var(--primary)",size:24})," Editar Ticket"]}),g.jsx("button",{onClick:()=>Re(null),style:{background:"transparent",color:"var(--text-muted)"},children:g.jsx(Op,{size:24})})]}),g.jsxs("form",{onSubmit:O,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Ttulo / Asunto"}),g.jsx("input",{type:"text",required:!0,value:de.title,onChange:ye=>Re({...de,title:ye.target.value})})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Prioridad"}),g.jsxs("select",{value:de.priority,onChange:ye=>Re({...de,priority:ye.target.value}),children:[g.jsx("option",{value:"low",children:"Baja"}),g.jsx("option",{value:"medium",children:"Media"}),g.jsx("option",{value:"high",children:"Alta"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Descripcin del Problema"}),g.jsx("textarea",{rows:"5",required:!0,value:de.description,onChange:ye=>Re({...de,description:ye.target.value})})]}),se&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Resolucin Tcnica (Admin)"}),g.jsx("textarea",{rows:"4",value:de.solution||"",onChange:ye=>Re({...de,solution:ye.target.value}),placeholder:"Detalle tcnico de la solucin..."})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Recomendaciones (Admin)"}),g.jsx("textarea",{rows:"3",value:de.recommendation||"",onChange:ye=>Re({...de,recommendation:ye.target.value}),placeholder:"Recomendaciones para el cliente..."})]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"15px"},children:"Guardar Cambios"}),g.jsx("button",{type:"button",onClick:()=>Re(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),ae&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[g.jsxs("h3",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Uo,{color:"var(--success)",size:24})," Finalizar Servicio Tcnico"]}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Complete los detalles de la solucin para cerrar el caso y notificar al usuario."}),g.jsxs("form",{onSubmit:G,children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Descripcin de la Solucin"}),g.jsx("textarea",{rows:"4",required:!0,value:Ne.solution,onChange:ye=>$({...Ne,solution:ye.target.value}),placeholder:"Detalle los pasos tcnicos realizados..."})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Recomendaciones al Usuario"}),g.jsx("textarea",{rows:"3",required:!0,value:Ne.recommendation,onChange:ye=>$({...Ne,recommendation:ye.target.value}),placeholder:"Recomendaciones sugeridas para el futuro..."})]}),g.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--success)",padding:"15px"},children:"Confirmar y Enviar Notificacin"}),g.jsx("button",{type:"button",onClick:()=>Se(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),M&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"500px",border:"1px solid var(--warning)",maxHeight:"90vh",overflowY:"auto"},children:[g.jsxs("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px",color:"var(--warning)"},children:[g.jsx(Qd,{size:24,fill:"var(--warning)"})," Calificar Servicio"]}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Su opinin es importante para mejorar nuestro servicio de soporte."}),g.jsxs("form",{onSubmit:te,children:[g.jsxs("div",{className:"input-group",style:{textAlign:"center",marginBottom:"20px"},children:[g.jsx("label",{style:{marginBottom:"10px",display:"block"},children:"Calificacin General"}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[1,2,3,4,5].map(ye=>g.jsx("button",{type:"button",onClick:()=>I({...V,rating:ye}),style:{background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:Qe=>Qe.currentTarget.style.transform="scale(1.2)",onMouseLeave:Qe=>Qe.currentTarget.style.transform="scale(1)",children:g.jsx(Qd,{size:32,color:ye<=V.rating?"var(--warning)":"gray",fill:ye<=V.rating?"var(--warning)":"transparent"})},ye))})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{children:"Comentarios Adicionales (Opcional)"}),g.jsx("textarea",{rows:"3",value:V.comment,onChange:ye=>I({...V,comment:ye.target.value}),placeholder:"Qu le pareci la atencin?..."})]}),g.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--warning)",color:"black",fontWeight:"bold",padding:"15px"},children:"Enviar Calificacin"}),g.jsx("button",{type:"button",onClick:()=>w(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Omitir"})]})]})]})}),g.jsxs("nav",{style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",padding:"10px 15px",borderBottom:"1px solid var(--border-color)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,gap:"10px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",flex:1},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx("img",{src:Sh,alt:"ELSPEC Logo",style:{height:"40px"}}),g.jsxs("h1",{style:{fontSize:"clamp(1rem, 4vw, 1.4rem)",margin:0,fontWeight:800,letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:["ELSPEC ",g.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]})]}),g.jsxs("div",{className:"glass-card",style:{display:"flex",padding:"3px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",flexWrap:"wrap"},children:[g.jsxs("button",{onClick:()=>d("home"),style:{background:f==="home"?"var(--primary)":"transparent",border:"none",color:f==="home"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(LT,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Inicio"})]}),g.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)",margin:"0 5px"}}),g.jsxs("button",{onClick:()=>d("view_tickets"),style:{background:f==="view_tickets"?"var(--primary)":"transparent",border:"none",color:f==="view_tickets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(Kd,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:se?"Bandeja de Entrada":"Mis Tickets"})]}),se&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>d("users"),style:{background:f==="users"?"var(--primary)":"transparent",border:"none",color:f==="users"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(Ov,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Usuarios"})]}),g.jsxs("button",{onClick:()=>d("reports"),style:{background:f==="reports"?"var(--primary)":"transparent",border:"none",color:f==="reports"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(zs,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Reportes"})]})]}),g.jsxs("button",{onClick:()=>d("assets"),style:{background:f==="assets"?"var(--primary)":"transparent",border:"none",color:f==="assets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(Vf,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Activos"})]}),fe&&g.jsxs("button",{onClick:()=>d("maintenance"),style:{background:f==="maintenance"?"var(--primary)":"transparent",border:"none",color:f==="maintenance"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(wh,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mantenimiento"})]}),(se||n.role==="sgi")&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>d("sgi_indicators"),style:{background:f==="sgi_indicators"?"var(--primary)":"transparent",border:"none",color:f==="sgi_indicators"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(kp,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Indicadores SGI"})]}),g.jsxs("button",{onClick:()=>d("sgi_processes"),style:{background:f==="sgi_processes"?"var(--primary)":"transparent",border:"none",color:f==="sgi_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(zs,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Gestin Procesos"})]})]}),g.jsxs("button",{onClick:()=>d("my_processes"),style:{background:f==="my_processes"?"var(--primary)":"transparent",border:"none",color:f==="my_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[g.jsx(Dl,{size:16})," ",g.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mis Procesos"})]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[g.jsx("button",{onClick:J,title:"Pantalla Completa",style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:C?g.jsx(GT,{size:18}):g.jsx(UT,{size:18})}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",borderLeft:"1px solid var(--border-color)",paddingLeft:"20px"},children:[g.jsxs("div",{style:{textAlign:"right"},children:[g.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:n.username}),g.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:n.role})]}),g.jsx("button",{onClick:()=>{e(),window.location.reload()},style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:g.jsx(BT,{size:18})})]})]})]}),g.jsxs("div",{style:{padding:"clamp(15px, 4vw, 30px)"},children:[g.jsx("header",{style:{marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[g.jsxs("div",{children:[g.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"5px"},children:f==="view_tickets"?se?"Consola de Administracin IT":"Mis Solicitudes Tcnicas":f==="users"?"Control de Accesos":f==="assets"?"Gestin de Activos y Equipos":f==="maintenance"?"Cronograma de Mantenimiento":f==="sgi_indicators"?"Tablero de Control SGI":f==="sgi_processes"?"Gestin de Procesos SGI":f==="my_processes"?"Mis Procesos Asignados":"Centro de Generacin de Informes"}),g.jsx("p",{style:{color:"var(--text-muted)"},children:"Mesa de servicios corporativa - Soporte Interno ELSPEC ANDINA."})]}),se&&f==="view_tickets"&&g.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Estado Global: ",g.jsx("span",{style:{color:"var(--success)",fontWeight:"bold"},children:"Operativo"})]})]})}),se&&f==="view_tickets"&&g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},children:[g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"14px",borderRadius:"15px"},children:g.jsx(OT,{color:"var(--primary)",size:28})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Tickets"}),g.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:_e.length})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(245, 158, 11, 0.15)",padding:"14px",borderRadius:"15px"},children:g.jsx(l4,{color:"var(--warning)",size:28})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Pendientes"}),g.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:ge})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(16, 185, 129, 0.15)",padding:"14px",borderRadius:"15px"},children:g.jsx(Uo,{color:"var(--success)",size:28})}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Finalizados"}),g.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:Oe})]})]})]}),f==="home"&&g.jsxs("div",{style:{width:"100%",padding:"20px"},children:[g.jsxs("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:["Bienvenido, ",n.username]}),g.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Seleccione una opcin para gestionar sus servicios."}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:[g.jsxs("div",{onClick:()=>q(!0),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(37, 99, 235, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--primary)"},children:g.jsx(Tu,{size:40})}),g.jsx("h3",{style:{margin:0},children:"Nueva Solicitud"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Reportar un problema o solicitar servicio tcnico."})]}),g.jsxs("div",{onClick:()=>d("view_tickets"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--success)"},children:g.jsx(Kd,{size:40})}),g.jsx("h3",{style:{margin:0},children:se?"Gestin de Tickets":"Mis Tickets"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Ver estado de solicitudes y respuestas."})]}),se&&g.jsxs("div",{onClick:()=>d("users"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(245, 158, 11, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--warning)"},children:g.jsx(Ov,{size:40})}),g.jsx("h3",{style:{margin:0},children:"Usuarios"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Administrar accesos y permisos."})]}),g.jsxs("div",{onClick:()=>d("assets"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(139, 92, 246, 0.2)",padding:"20px",borderRadius:"50%",color:"#8b5cf6"},children:g.jsx(Vf,{size:40})}),g.jsx("h3",{style:{margin:0},children:"Activos IT"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Inventario y asignacin de equipos."})]}),fe&&g.jsxs("div",{onClick:()=>d("maintenance"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(236, 72, 153, 0.2)",padding:"20px",borderRadius:"50%",color:"#ec4899"},children:g.jsx(wh,{size:40})}),g.jsx("h3",{style:{margin:0},children:"Mantenimiento"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Cronograma de mantenimientos preventivos."})]}),(se||n.role==="operator"||n.role==="technician")&&g.jsxs("div",{onClick:()=>d("operations"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ye=>ye.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ye=>ye.currentTarget.style.transform="translateY(0)",children:[g.jsx("div",{style:{background:"rgba(14, 165, 233, 0.2)",padding:"20px",borderRadius:"50%",color:"#0ea5e9"},children:g.jsx(kp,{size:40})}),g.jsx("h3",{style:{margin:0},children:"Operaciones"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Calendario de visitas y salidas."})]})]})]}),f==="view_tickets"&&g.jsx("div",{style:{width:"100%"},children:g.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[g.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx(Kd,{size:24,color:"var(--primary)"}),se?"Registro General de Actividades IT":"Listado de mis Requerimientos",g.jsxs("span",{style:{fontSize:"1rem",color:"var(--text-muted)",fontWeight:"normal"},children:["(",ge," pendientes)"]})]}),g.jsxs("button",{onClick:()=>q(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",fontSize:"0.95rem"},children:[g.jsx(Tu,{size:18})," Nueva Solicitud"]})]}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",marginBottom:"20px",background:"rgba(255,255,255,0.02)",padding:"15px",borderRadius:"10px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Mostrar:"}),g.jsxs("select",{value:N,onChange:ye=>E(Number(ye.target.value)),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"5px 10px"},children:[g.jsx("option",{value:5,children:"5 ltimos"}),g.jsx("option",{value:10,children:"10 ltimos"}),g.jsx("option",{value:20,children:"20 ltimos"}),g.jsx("option",{value:50,children:"50 ltimos"}),g.jsx("option",{value:1e3,children:"Todos"})]})]}),g.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)"}}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Desde:"}),g.jsx("input",{type:"date",value:X,onChange:ye=>pe(ye.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Hasta:"}),g.jsx("input",{type:"date",value:re,onChange:ye=>he(ye.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:_e.length===0?g.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"100px 0",opacity:.4},children:[g.jsx(Kd,{size:64,style:{marginBottom:"20px"}}),g.jsx("p",{style:{fontSize:"1.1rem"},children:"No existen tickets registrados en este momento."})]}):_e.filter(ye=>{if(se||ye.author===n.username){let Qe=!0;if(X&&(Qe=Qe&&new Date(ye.createdAt)>=new Date(X)),re){const et=new Date(re);et.setHours(23,59,59,999),Qe=Qe&&new Date(ye.createdAt)<=et}return Qe}return!1}).sort((ye,Qe)=>new Date(Qe.createdAt)-new Date(ye.createdAt)).slice(0,N).map(ye=>{const Qe=se||ye.author===n.username;return g.jsxs("div",{style:{padding:"clamp(15px, 4vw, 25px)",background:"rgba(255,255,255,0.01)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"var(--transition)"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"flex-start"),marginBottom:"20px",gap:"15px"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("h4",{style:{fontSize:"clamp(1.1rem, 3vw, 1.3rem)",margin:"0 0 10px 0",color:"white"},children:ye.title}),g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[g.jsx("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"20px",background:ye.priority==="high"?"rgba(239, 68, 68, 0.2)":ye.priority==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",color:ye.priority==="high"?"var(--danger)":ye.priority==="medium"?"var(--warning)":"var(--success)",textTransform:"uppercase",fontWeight:800,letterSpacing:"0.5px"},children:ye.priority}),g.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx(Dl,{size:14})," Creacin: ",ye.createdAt?new Date(ye.createdAt).toLocaleString():"Fecha N/A"]}),ye.closedAt&&g.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--success)",display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx(Uo,{size:14})," Cierre: ",new Date(ye.closedAt).toLocaleString()]}),g.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["ID: ",g.jsx("code",{style:{color:"var(--primary)"},children:ye.id?ye.id.slice(-6):"N/A"})]}),g.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",borderLeft:"1px solid rgba(255,255,255,0.1)",paddingLeft:"15px"},children:["Autor: ",g.jsx("b",{style:{color:"white"},children:ye.author})]}),ye.imageUrl&&g.jsxs("a",{href:ye.imageUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"0.85rem",color:"var(--primary)"},children:[g.jsx(kT,{size:14})," Ver Imagen Adjunta"]})]})]}),g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px"},children:[ye.status==="open"?g.jsxs("div",{style:{color:"var(--warning)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(245, 158, 11, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[g.jsx(Dl,{size:16})," Pendiente"]}):g.jsxs("div",{style:{color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(16, 185, 129, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[g.jsx(Uo,{size:16})," Resuelto"]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[Qe&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>Re(ye),title:"Editar Ticket",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px"},children:g.jsx($o,{size:18})}),g.jsx("button",{onClick:()=>Y(ye.id),title:"Eliminar Ticket",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px"},children:g.jsx(kl,{size:18})})]}),se&&ye.status==="open"&&g.jsx("button",{onClick:()=>Se(ye.id),className:"btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem",background:"var(--success)",borderRadius:"10px"},children:"Finalizar"})]})]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:ye.status==="closed"&&window.innerWidth>=768?"1fr 1fr":"1fr",gap:"20px"},children:[g.jsx("div",{style:{background:"rgba(0,0,0,0.15)",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Descripcin del Problema"}),g.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",margin:0,lineHeight:1.6},children:ye.description})]})}),ye.status==="closed"&&g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[g.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"20px",borderRadius:"12px",borderLeft:"4px solid var(--success)"},children:[g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Resolucin Tcnica"}),g.jsx("p",{style:{color:"white",fontSize:"0.95rem",marginBottom:"15px",lineHeight:1.6},children:ye.solution}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Recomendaciones"}),g.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0,lineHeight:1.6},children:ye.recommendation})]}),ye.feedback?g.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"15px",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[g.jsx(Qd,{size:16,fill:"var(--warning)",color:"var(--warning)"}),g.jsxs("span",{style:{fontWeight:"bold",color:"var(--warning)",fontSize:"0.9rem"},children:["Calificacin del Usuario: ",ye.feedback.rating,"/5"]})]}),ye.feedback.comment&&g.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",margin:"5px 0 0 0",fontStyle:"italic"},children:['"',ye.feedback.comment,'"']})]}):ye.author===n.username&&g.jsxs("button",{onClick:()=>{w(ye.id),I({rating:5,comment:""})},style:{background:"rgba(245, 158, 11, 0.15)",color:"var(--warning)",border:"1px dashed var(--warning)",padding:"12px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:et=>et.currentTarget.style.background="rgba(245, 158, 11, 0.25)",onMouseLeave:et=>et.currentTarget.style.background="rgba(245, 158, 11, 0.15)",children:[g.jsx(Qd,{size:18})," Calificar Atencin"]})]})]})]},ye.id)})})]})}),(f==="users"||f==="reports"||f==="assets"||f==="maintenance"||f==="sgi_indicators"||f==="sgi_processes"||f==="my_processes"||f==="operations")&&g.jsxs("div",{style:{width:"100%"},children:[f==="users"&&g.jsx(xC,{}),f==="reports"&&g.jsx(XI,{tickets:r,computers:h}),f==="assets"&&(fe?g.jsx(tR,{}):g.jsx(iR,{computers:h,currentUser:n})),f==="maintenance"&&g.jsx(nR,{}),f==="sgi_indicators"&&g.jsx(aR,{tickets:r}),f==="sgi_processes"&&g.jsx(sR,{}),f==="my_processes"&&g.jsx(oR,{}),f==="operations"&&g.jsx(lR,{})]})]})]})};class cR extends ax.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?g.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#0f172a",color:"white",padding:"20px",textAlign:"center"},children:g.jsxs("div",{className:"glass-card",style:{padding:"40px",maxWidth:"500px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.05)"},children:[g.jsx(Mm,{size:64,style:{color:"#ef4444",marginBottom:"20px"}}),g.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"Algo sali mal"}),g.jsx("p",{style:{color:"#94a3b8",marginBottom:"30px"},children:"La aplicacin ha encontrado un error inesperado al intentar cargar esta vista."}),g.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"8px",marginBottom:"30px",fontSize:"0.8rem",color:"#ef4444",maxHeight:"200px",overflow:"auto"},children:this.state.error&&this.state.error.toString()}),g.jsxs("button",{onClick:this.handleReload,style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[g.jsx(XT,{size:18})," Recargar Aplicacin"]})]})}):this.props.children}}function hR(){const{isAuthenticated:n}=Ih();return g.jsx("div",{className:"App",children:g.jsx(cR,{children:n?g.jsx(uR,{}):g.jsx(vC,{})})})}window.onerror=function(n,e,t,r,s){const o=`Error: ${n} at ${e}:${t}`;return console.error(o),!1};try{k3.createRoot(document.getElementById("root")).render(g.jsx(Ze.StrictMode,{children:g.jsx(hR,{})}))}catch(n){console.error("Render error:",n),document.body.innerHTML=`<div style="color: white; padding: 20px;">Error al cargar la aplicacin: ${n.message}</div>`}export{Zn as _,fR as c,A3 as g};
