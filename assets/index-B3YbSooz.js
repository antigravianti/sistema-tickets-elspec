(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var mL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wg={exports:{}},gf={};var dy;function $3(){if(dy)return gf;dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return gf.Fragment=t,gf.jsx=e,gf.jsxs=e,gf}var py;function K3(){return py||(py=1,wg.exports=$3()),wg.exports}var b=K3(),Sg={exports:{}},tn={};var gy;function Q3(){if(gy)return tn;gy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function _(nt){return nt===null||typeof nt!="object"?null:(nt=T&&nt[T]||nt["@@iterator"],typeof nt=="function"?nt:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,O={};function P(nt,k,z){this.props=nt,this.context=k,this.refs=O,this.updater=z||B}P.prototype.isReactComponent={},P.prototype.setState=function(nt,k){if(typeof nt!="object"&&typeof nt!="function"&&nt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,nt,k,"setState")},P.prototype.forceUpdate=function(nt){this.updater.enqueueForceUpdate(this,nt,"forceUpdate")};function tt(){}tt.prototype=P.prototype;function J(nt,k,z){this.props=nt,this.context=k,this.refs=O,this.updater=z||B}var it=J.prototype=new tt;it.constructor=J,q(it,P.prototype),it.isPureReactComponent=!0;var st=Array.isArray;function St(){}var G={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function w(nt,k,z){var W=z.ref;return{$$typeof:n,type:nt,key:k,ref:W!==void 0?W:null,props:z}}function F(nt,k){return w(nt.type,k,nt.props)}function R(nt){return typeof nt=="object"&&nt!==null&&nt.$$typeof===n}function N(nt){var k={"=":"=0",":":"=2"};return"$"+nt.replace(/[=:]/g,function(z){return k[z]})}var I=/\/+/g;function $(nt,k){return typeof nt=="object"&&nt!==null&&nt.key!=null?N(""+nt.key):k.toString(36)}function mt(nt){switch(nt.status){case"fulfilled":return nt.value;case"rejected":throw nt.reason;default:switch(typeof nt.status=="string"?nt.then(St,St):(nt.status="pending",nt.then(function(k){nt.status==="pending"&&(nt.status="fulfilled",nt.value=k)},function(k){nt.status==="pending"&&(nt.status="rejected",nt.reason=k)})),nt.status){case"fulfilled":return nt.value;case"rejected":throw nt.reason}}throw nt}function rt(nt,k,z,W,K){var ht=typeof nt;(ht==="undefined"||ht==="boolean")&&(nt=null);var gt=!1;if(nt===null)gt=!0;else switch(ht){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(nt.$$typeof){case n:case t:gt=!0;break;case y:return gt=nt._init,rt(gt(nt._payload),k,z,W,K)}}if(gt)return K=K(nt),gt=W===""?"."+$(nt,0):W,st(K)?(z="",gt!=null&&(z=gt.replace(I,"$&/")+"/"),rt(K,k,z,"",function(Ot){return Ot})):K!=null&&(R(K)&&(K=F(K,z+(K.key==null||nt&&nt.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+gt)),k.push(K)),1;gt=0;var Nt=W===""?".":W+":";if(st(nt))for(var Ct=0;Ct<nt.length;Ct++)W=nt[Ct],ht=Nt+$(W,Ct),gt+=rt(W,k,z,ht,K);else if(Ct=_(nt),typeof Ct=="function")for(nt=Ct.call(nt),Ct=0;!(W=nt.next()).done;)W=W.value,ht=Nt+$(W,Ct++),gt+=rt(W,k,z,ht,K);else if(ht==="object"){if(typeof nt.then=="function")return rt(mt(nt),k,z,W,K);throw k=String(nt),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(nt).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return gt}function ft(nt,k,z){if(nt==null)return nt;var W=[],K=0;return rt(nt,W,"","",function(ht){return k.call(z,ht,K++)}),W}function at(nt){if(nt._status===-1){var k=nt._result;k=k(),k.then(function(z){(nt._status===0||nt._status===-1)&&(nt._status=1,nt._result=z)},function(z){(nt._status===0||nt._status===-1)&&(nt._status=2,nt._result=z)}),nt._status===-1&&(nt._status=0,nt._result=k)}if(nt._status===1)return nt._result.default;throw nt._result}var bt=typeof reportError=="function"?reportError:function(nt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof nt=="object"&&nt!==null&&typeof nt.message=="string"?String(nt.message):String(nt),error:nt});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",nt);return}console.error(nt)},Dt={map:ft,forEach:function(nt,k,z){ft(nt,function(){k.apply(this,arguments)},z)},count:function(nt){var k=0;return ft(nt,function(){k++}),k},toArray:function(nt){return ft(nt,function(k){return k})||[]},only:function(nt){if(!R(nt))throw Error("React.Children.only expected to receive a single React element child.");return nt}};return tn.Activity=A,tn.Children=Dt,tn.Component=P,tn.Fragment=e,tn.Profiler=s,tn.PureComponent=J,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,tn.__COMPILER_RUNTIME={__proto__:null,c:function(nt){return G.H.useMemoCache(nt)}},tn.cache=function(nt){return function(){return nt.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(nt,k,z){if(nt==null)throw Error("The argument must be a React element, but you passed "+nt+".");var W=q({},nt.props),K=nt.key;if(k!=null)for(ht in k.key!==void 0&&(K=""+k.key),k)!M.call(k,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&k.ref===void 0||(W[ht]=k[ht]);var ht=arguments.length-2;if(ht===1)W.children=z;else if(1<ht){for(var gt=Array(ht),Nt=0;Nt<ht;Nt++)gt[Nt]=arguments[Nt+2];W.children=gt}return w(nt.type,K,W)},tn.createContext=function(nt){return nt={$$typeof:u,_currentValue:nt,_currentValue2:nt,_threadCount:0,Provider:null,Consumer:null},nt.Provider=nt,nt.Consumer={$$typeof:o,_context:nt},nt},tn.createElement=function(nt,k,z){var W,K={},ht=null;if(k!=null)for(W in k.key!==void 0&&(ht=""+k.key),k)M.call(k,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=k[W]);var gt=arguments.length-2;if(gt===1)K.children=z;else if(1<gt){for(var Nt=Array(gt),Ct=0;Ct<gt;Ct++)Nt[Ct]=arguments[Ct+2];K.children=Nt}if(nt&&nt.defaultProps)for(W in gt=nt.defaultProps,gt)K[W]===void 0&&(K[W]=gt[W]);return w(nt,ht,K)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(nt){return{$$typeof:h,render:nt}},tn.isValidElement=R,tn.lazy=function(nt){return{$$typeof:y,_payload:{_status:-1,_result:nt},_init:at}},tn.memo=function(nt,k){return{$$typeof:d,type:nt,compare:k===void 0?null:k}},tn.startTransition=function(nt){var k=G.T,z={};G.T=z;try{var W=nt(),K=G.S;K!==null&&K(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(St,bt)}catch(ht){bt(ht)}finally{k!==null&&z.types!==null&&(k.types=z.types),G.T=k}},tn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},tn.use=function(nt){return G.H.use(nt)},tn.useActionState=function(nt,k,z){return G.H.useActionState(nt,k,z)},tn.useCallback=function(nt,k){return G.H.useCallback(nt,k)},tn.useContext=function(nt){return G.H.useContext(nt)},tn.useDebugValue=function(){},tn.useDeferredValue=function(nt,k){return G.H.useDeferredValue(nt,k)},tn.useEffect=function(nt,k){return G.H.useEffect(nt,k)},tn.useEffectEvent=function(nt){return G.H.useEffectEvent(nt)},tn.useId=function(){return G.H.useId()},tn.useImperativeHandle=function(nt,k,z){return G.H.useImperativeHandle(nt,k,z)},tn.useInsertionEffect=function(nt,k){return G.H.useInsertionEffect(nt,k)},tn.useLayoutEffect=function(nt,k){return G.H.useLayoutEffect(nt,k)},tn.useMemo=function(nt,k){return G.H.useMemo(nt,k)},tn.useOptimistic=function(nt,k){return G.H.useOptimistic(nt,k)},tn.useReducer=function(nt,k,z){return G.H.useReducer(nt,k,z)},tn.useRef=function(nt){return G.H.useRef(nt)},tn.useState=function(nt){return G.H.useState(nt)},tn.useSyncExternalStore=function(nt,k,z){return G.H.useSyncExternalStore(nt,k,z)},tn.useTransition=function(){return G.H.useTransition()},tn.version="19.2.4",tn}var my;function Z0(){return my||(my=1,Sg.exports=Q3()),Sg.exports}var te=Z0();const X3=W3(te);var Ag={exports:{}},mf={},Eg={exports:{}},Tg={};var yy;function Z3(){return yy||(yy=1,(function(n){function t(rt,ft){var at=rt.length;rt.push(ft);t:for(;0<at;){var bt=at-1>>>1,Dt=rt[bt];if(0<s(Dt,ft))rt[bt]=ft,rt[at]=Dt,at=bt;else break t}}function e(rt){return rt.length===0?null:rt[0]}function r(rt){if(rt.length===0)return null;var ft=rt[0],at=rt.pop();if(at!==ft){rt[0]=at;t:for(var bt=0,Dt=rt.length,nt=Dt>>>1;bt<nt;){var k=2*(bt+1)-1,z=rt[k],W=k+1,K=rt[W];if(0>s(z,at))W<Dt&&0>s(K,z)?(rt[bt]=K,rt[W]=at,bt=W):(rt[bt]=z,rt[k]=at,bt=k);else if(W<Dt&&0>s(K,at))rt[bt]=K,rt[W]=at,bt=W;else break t}}return ft}function s(rt,ft){var at=rt.sortIndex-ft.sortIndex;return at!==0?at:rt.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],y=1,A=null,T=3,_=!1,B=!1,q=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function it(rt){for(var ft=e(d);ft!==null;){if(ft.callback===null)r(d);else if(ft.startTime<=rt)r(d),ft.sortIndex=ft.expirationTime,t(f,ft);else break;ft=e(d)}}function st(rt){if(q=!1,it(rt),!B)if(e(f)!==null)B=!0,St||(St=!0,N());else{var ft=e(d);ft!==null&&mt(st,ft.startTime-rt)}}var St=!1,G=-1,M=5,w=-1;function F(){return O?!0:!(n.unstable_now()-w<M)}function R(){if(O=!1,St){var rt=n.unstable_now();w=rt;var ft=!0;try{t:{B=!1,q&&(q=!1,tt(G),G=-1),_=!0;var at=T;try{e:{for(it(rt),A=e(f);A!==null&&!(A.expirationTime>rt&&F());){var bt=A.callback;if(typeof bt=="function"){A.callback=null,T=A.priorityLevel;var Dt=bt(A.expirationTime<=rt);if(rt=n.unstable_now(),typeof Dt=="function"){A.callback=Dt,it(rt),ft=!0;break e}A===e(f)&&r(f),it(rt)}else r(f);A=e(f)}if(A!==null)ft=!0;else{var nt=e(d);nt!==null&&mt(st,nt.startTime-rt),ft=!1}}break t}finally{A=null,T=at,_=!1}ft=void 0}}finally{ft?N():St=!1}}}var N;if(typeof J=="function")N=function(){J(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=R,N=function(){$.postMessage(null)}}else N=function(){P(R,0)};function mt(rt,ft){G=P(function(){rt(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(rt){rt.callback=null},n.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(rt){switch(T){case 1:case 2:case 3:var ft=3;break;default:ft=T}var at=T;T=ft;try{return rt()}finally{T=at}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(rt,ft){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var at=T;T=rt;try{return ft()}finally{T=at}},n.unstable_scheduleCallback=function(rt,ft,at){var bt=n.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?bt+at:bt):at=bt,rt){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=at+Dt,rt={id:y++,callback:ft,priorityLevel:rt,startTime:at,expirationTime:Dt,sortIndex:-1},at>bt?(rt.sortIndex=at,t(d,rt),e(f)===null&&rt===e(d)&&(q?(tt(G),G=-1):q=!0,mt(st,at-bt))):(rt.sortIndex=Dt,t(f,rt),B||_||(B=!0,St||(St=!0,N()))),rt},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(rt){var ft=T;return function(){var at=T;T=ft;try{return rt.apply(this,arguments)}finally{T=at}}}})(Tg)),Tg}var vy;function J3(){return vy||(vy=1,Eg.exports=Z3()),Eg.exports}var Cg={exports:{}},da={};var by;function tS(){if(by)return da;by=1;var n=Z0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,da.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},da.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},da.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},da.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},da.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,A=h(y,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:_}):y==="script"&&r.d.X(f,{crossOrigin:A,integrity:T,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},da.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},da.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,A=h(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},da.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},da.requestFormReset=function(f){r.d.r(f)},da.unstable_batchedUpdates=function(f,d){return f(d)},da.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},da.useFormStatus=function(){return u.H.useHostTransitionStatus()},da.version="19.2.4",da}var xy;function eS(){if(xy)return Cg.exports;xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cg.exports=tS(),Cg.exports}var _y;function nS(){if(_y)return mf;_y=1;var n=J3(),t=Z0(),e=eS();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return f(m),i;if(x===c)return f(m),a;x=x.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=x;else{for(var D=!1,Q=m.child;Q;){if(Q===l){D=!0,l=m,c=x;break}if(Q===c){D=!0,c=m,l=x;break}Q=Q.sibling}if(!D){for(Q=x.child;Q;){if(Q===l){D=!0,l=x,c=m;break}if(Q===c){D=!0,c=x,l=m;break}Q=Q.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case P:return"Profiler";case O:return"StrictMode";case st:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case B:return"Portal";case J:return i.displayName||"Context";case tt:return(i._context.displayName||"Context")+".Consumer";case it:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return a=i.displayName||null,a!==null?a:$(i.type)||"Memo";case M:a=i._payload,i=i._init;try{return $(i(a))}catch{}}return null}var mt=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},bt=[],Dt=-1;function nt(i){return{current:i}}function k(i){0>Dt||(i.current=bt[Dt],bt[Dt]=null,Dt--)}function z(i,a){Dt++,bt[Dt]=i.current,i.current=a}var W=nt(null),K=nt(null),ht=nt(null),gt=nt(null);function Nt(i,a){switch(z(ht,a),z(K,i),z(W,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?O5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=O5(a),i=P5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(W),z(W,i)}function Ct(){k(W),k(K),k(ht)}function Ot(i){i.memoizedState!==null&&z(gt,i);var a=W.current,l=P5(a,i.type);a!==l&&(z(K,i),z(W,l))}function Kt(i){K.current===i&&(k(W),k(K)),gt.current===i&&(k(gt),hf._currentValue=at)}var ne,ee;function ce(i){if(ne===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ne=a&&a[1]||"",ee=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+i+ee}var ot=!1;function Jt(i,a){if(!i||ot)return"";ot=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Mt){var kt=Mt}Reflect.construct(i,[],Ht)}else{try{Ht.call()}catch(Mt){kt=Mt}i.call(Ht.prototype)}}else{try{throw Error()}catch(Mt){kt=Mt}(Ht=i())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Mt){if(Mt&&kt&&typeof Mt.stack=="string")return[Mt.stack,kt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),D=x[0],Q=x[1];if(D&&Q){var dt=D.split(`
`),Lt=Q.split(`
`);for(m=c=0;c<dt.length&&!dt[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Lt.length&&!Lt[m].includes("DetermineComponentFrameRoot");)m++;if(c===dt.length||m===Lt.length)for(c=dt.length-1,m=Lt.length-1;1<=c&&0<=m&&dt[c]!==Lt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(dt[c]!==Lt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||dt[c]!==Lt[m]){var Bt=`
`+dt[c].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=c&&0<=m);break}}}finally{ot=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ce(l):""}function Ye(i,a){switch(i.tag){case 26:case 27:case 5:return ce(i.type);case 16:return ce("Lazy");case 13:return i.child!==a&&a!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return Jt(i.type,!1);case 11:return Jt(i.type.render,!1);case 1:return Jt(i.type,!0);case 31:return ce("Activity");default:return""}}function Te(i){try{var a="",l=null;do a+=Ye(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vt=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,_e=n.unstable_requestPaint,We=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,Ke=n.unstable_NormalPriority,me=n.unstable_LowPriority,qe=n.unstable_IdlePriority,ve=n.log,ci=n.unstable_setDisableYieldValue,Qe=null,Ce=null;function Pe(i){if(typeof ve=="function"&&ci(i),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Qe,i)}catch{}}var $e=Math.clz32?Math.clz32:Me,Se=Math.log,In=Math.LN2;function Me(i){return i>>>=0,i===0?32:31-(Se(i)/In|0)|0}var Oe=256,jn=262144,we=4194304;function be(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function sn(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,x=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var Q=c&134217727;return Q!==0?(c=Q&~x,c!==0?m=be(c):(D&=Q,D!==0?m=be(D):l||(l=Q&~i,l!==0&&(m=be(l))))):(Q=c&~x,Q!==0?m=be(Q):D!==0?m=be(D):l||(l=c&~i,l!==0&&(m=be(l)))),m===0?0:a!==0&&a!==m&&(a&x)===0&&(x=m&-m,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:m}function pr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function nr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function Wi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ae(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rs(i,a,l,c,m,x){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Q=i.entanglements,dt=i.expirationTimes,Lt=i.hiddenUpdates;for(l=D&~l;0<l;){var Bt=31-$e(l),Ht=1<<Bt;Q[Bt]=0,dt[Bt]=-1;var kt=Lt[Bt];if(kt!==null)for(Lt[Bt]=null,Bt=0;Bt<kt.length;Bt++){var Mt=kt[Bt];Mt!==null&&(Mt.lane&=-536870913)}l&=~Ht}c!==0&&qr(i,c,0),x!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=x&~(D&~a))}function qr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-$e(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Nr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-$e(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function Rr(i,a){var l=a&-a;return l=(l&42)!==0?1:Vn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Vn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mi(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:sy(i.type))}function gr(i,a){var l=ft.p;try{return ft.p=i,a()}finally{ft.p=l}}var ir=Math.random().toString(36).slice(2),kn="__reactFiber$"+ir,Gn="__reactProps$"+ir,Oi="__reactContainer$"+ir,Ir="__reactEvents$"+ir,sa="__reactListeners$"+ir,ws="__reactHandles$"+ir,wa="__reactResources$"+ir,Lr="__reactMarker$"+ir;function as(i){delete i[kn],delete i[Gn],delete i[Ir],delete i[sa],delete i[ws]}function Hr(i){var a=i[kn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[kn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=H5(i);i!==null;){if(l=i[kn])return l;i=H5(i)}return a}i=l,l=i.parentNode}return null}function mr(i){if(i=i[kn]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Gr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function oa(i){var a=i[wa];return a||(a=i[wa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function fi(i){i[Lr]=!0}var vo=new Set,Dr={};function la(i,a){Sa(i,a),Sa(i+"Capture",a)}function Sa(i,a){for(Dr[i]=a,i=0;i<a.length;i++)vo.add(a[i])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},xo={};function Zo(i){return Vt.call(xo,i)?!0:Vt.call(bo,i)?!1:qs.test(i)?xo[i]=!0:(bo[i]=!0,!1)}function Yr(i,a,l){if(Zo(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function rr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function _i(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ss(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ua(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(D){l=""+D,x.call(this,D)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(D){l=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function vn(i){if(!i._valueTracker){var a=ss(i)?"checked":"value";i._valueTracker=ua(i,a,""+i[a])}}function Ss(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=ss(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ai=/[\n"\\]/g;function wi(i){return i.replace(ai,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Hs(i,a,l,c,m,x,D,Q){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+cn(a)):i.value!==""+cn(a)&&(i.value=""+cn(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?Jo(i,D,cn(a)):l!=null?Jo(i,D,cn(l)):c!=null&&i.removeAttribute("value"),m==null&&x!=null&&(i.defaultChecked=!!x),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+cn(Q):i.removeAttribute("name")}function Ol(i,a,l,c,m,x,D,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){vn(i);return}l=l!=null?""+cn(l):"",a=a!=null?""+cn(a):l,Q||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=Q?i.checked:!!c,i.defaultChecked=!!c,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),vn(i)}function Jo(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function yr(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function tl(i,a,l){if(a!=null&&(a=""+cn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+cn(l):""}function os(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(mt(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=cn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),vn(i)}function $i(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||As.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function nl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&el(i,m,c)}else for(var x in a)a.hasOwnProperty(x)&&el(i,x,a[x])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(i){return ls.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Aa(){}var us=null;function kr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Es=null,Re=null;function Gs(i){var a=mr(i);if(a&&(i=a.stateNode)){var l=i[Gn]||null;t:switch(i=a.stateNode,a.type){case"input":if(Hs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[Gn]||null;if(!m)throw Error(r(90));Hs(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Ss(c)}break t;case"textarea":tl(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&yr(i,!!l.multiple,a,!1)}}}var So=!1;function Ts(i,a,l){if(So)return i(a,l);So=!0;try{var c=i(a);return c}finally{if(So=!1,(Es!==null||Re!==null)&&(Ed(),Es&&(a=Es,i=Re,Re=Es=null,Gs(a),i)))for(a=0;a<i.length;a++)Gs(i[a])}}function Ki(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Gn]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Pi)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ys=!1}var Wr=null,Ws=null,Ea=null;function il(){if(Ea)return Ea;var i,a=Ws,l=a.length,c,m="value"in Wr?Wr.value:Wr.textContent,x=m.length;for(i=0;i<l&&a[i]===m[i];i++);var D=l-i;for(c=1;c<=D&&a[l-c]===m[x-c];c++);return Ea=m.slice(i,1<c?1-c:void 0)}function $r(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function cs(){return!0}function Kr(){return!1}function Ri(i){function a(l,c,m,x,D){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?cs:Kr,this.isPropagationStopped=Kr,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Ri(ka),Ma=A({},ka,{view:0,detail:0}),Cs=Ri(Ma),Oa,Pa,ca,$s=A({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(Oa=i.screenX-ca.screenX,Pa=i.screenY-ca.screenY):Pa=Oa=0,ca=i),Oa)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),Ao=Ri($s),Qr=A({},$s,{dataTransfer:0}),za=Ri(Qr),rl=A({},Ma,{relatedTarget:0}),Ta=Ri(rl),Eo=A({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ri(Eo),U=A({},ka,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ut=Ri(U),pt=A({},ka,{data:0}),_t=Ri(pt),Ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=le[i])?!!a[i]:!1}function Le(){return de}var Ee=A({},Ma,{key:function(i){if(i.key){var a=Ft[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=$r(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?$r(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$r(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ri(Ee),Zn=A({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Ri(Zn),g=A({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),C=Ri(g),j=A({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z=Ri(j),At=A({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=Ri(At),Xt=A({},ka,{newState:0,oldState:0}),Ve=Ri(Xt),Jn=[9,13,27,32],ln=Pi&&"CompositionEvent"in window,On=null;Pi&&"documentMode"in document&&(On=document.documentMode);var sr=Pi&&"TextEvent"in window&&!On,vr=Pi&&(!ln||On&&8<On&&11>=On),Yn=" ",br=!1;function Ca(i,a){switch(i){case"keyup":return Jn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ns(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rs=!1;function Xr(i,a){switch(i){case"compositionend":return Ns(a);case"keypress":return a.which!==32?null:(br=!0,Yn);case"textInput":return i=a.data,i===Yn&&br?null:i;default:return null}}function Ks(i,a){if(Rs)return i==="compositionend"||!ln&&Ca(i,a)?(i=il(),Ea=Ws=Wr=null,Rs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vr&&a.locale!=="ko"?null:a.data;default:return null}}var Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Du(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Pl[i.type]:a==="textarea"}function Na(i,a,l,c){Es?Re?Re.push(c):Re=[c]:Es=c,a=Dd(a,"onChange"),0<a.length&&(l=new ar("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var hs=null,Qs=null;function ju(i){I5(i,0)}function fs(i){var a=Gr(i);if(Ss(a))return i}function To(i,a){if(i==="change")return a}var ha=!1;if(Pi){var Zr;if(Pi){var Is="oninput"in document;if(!Is){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),Is=typeof Ls.oninput=="function"}Zr=Is}else Zr=!1;ha=Zr&&(!document.documentMode||9<document.documentMode)}function Xs(){hs&&(hs.detachEvent("onpropertychange",zl),Qs=hs=null)}function zl(i){if(i.propertyName==="value"&&fs(Qs)){var a=[];Na(a,Qs,i,kr(i)),Ts(ju,a)}}function Fl(i,a,l){i==="focusin"?(Xs(),hs=a,Qs=l,hs.attachEvent("onpropertychange",zl)):i==="focusout"&&Xs()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fs(Qs)}function xc(i,a){if(i==="click")return fs(a)}function Ds(i,a){if(i==="input"||i==="change")return fs(a)}function js(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var xr=typeof Object.is=="function"?Object.is:js;function Zs(i,a){if(xr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Vt.call(a,m)||!xr(i[m],a[m]))return!1}return!0}function Bl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ul(i,a){var l=Bl(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Bl(l)}}function Js(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Js(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function to(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function ks(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var al=Pi&&"documentMode"in document&&11>=document.documentMode,Ra=null,eo=null,Mr=null,Fa=!1;function Ln(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fa||Ra==null||Ra!==Ni(c)||(c=Ra,"selectionStart"in c&&ks(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mr&&Zs(Mr,c)||(Mr=c,c=Dd(eo,"onSelect"),0<c.length&&(a=new ar("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Ra)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ti={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Li={},Ms={};Pi&&(Ms=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function ds(i){if(Li[i])return Li[i];if(!ti[i])return i;var a=ti[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ms)return Li[i]=a[l];return i}var sl=ds("animationend"),ku=ds("animationiteration"),jh=ds("animationstart"),ed=ds("transitionrun"),nd=ds("transitionstart"),id=ds("transitioncancel"),kh=ds("transitionend"),Mh=new Map,ol="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ol.push("scrollEnd");function Ba(i,a){Mh.set(i,a),la(a,[i])}var Mu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ia=[],ll=0,_c=0;function Ou(){for(var i=ll,a=_c=ll=0;a<i;){var l=Ia[a];Ia[a++]=null;var c=Ia[a];Ia[a++]=null;var m=Ia[a];Ia[a++]=null;var x=Ia[a];if(Ia[a++]=null,c!==null&&m!==null){var D=c.pending;D===null?m.next=m:(m.next=D.next,D.next=m),c.pending=m}x!==0&&zu(l,m,x)}}function Pu(i,a,l,c){Ia[ll++]=i,Ia[ll++]=a,Ia[ll++]=l,Ia[ll++]=c,_c|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function wc(i,a,l,c){return Pu(i,a,l,c),Or(i)}function no(i,a){return Pu(i,null,null,a),Or(i)}function zu(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,x=i.return;x!==null;)x.childLanes|=l,c=x.alternate,c!==null&&(c.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(m=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,m&&a!==null&&(m=31-$e(l),i=x.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),x):null}function Or(i){if(50<rf)throw rf=0,Y1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var _r={};function Sc(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(i,a,l,c){return new Sc(i,a,l,c)}function Ac(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ua(i,a){var l=i.alternate;return l===null?(l=Pr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Fu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Vl(i,a,l,c,m,x){var D=0;if(c=i,typeof i=="function")Ac(i)&&(D=1);else if(typeof i=="string")D=M3(i,l,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case w:return i=Pr(31,l,a,m),i.elementType=w,i.lanes=x,i;case q:return Co(l.children,m,x,a);case O:D=8,m|=24;break;case P:return i=Pr(12,l,a,m|2),i.elementType=P,i.lanes=x,i;case st:return i=Pr(13,l,a,m),i.elementType=st,i.lanes=x,i;case St:return i=Pr(19,l,a,m),i.elementType=St,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:D=10;break t;case tt:D=9;break t;case it:D=11;break t;case G:D=14;break t;case M:D=16,c=null;break t}D=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Pr(D,l,a,m),a.elementType=i,a.type=c,a.lanes=x,a}function Co(i,a,l,c){return i=Pr(7,i,c,a),i.lanes=l,i}function Bu(i,a,l){return i=Pr(6,i,null,a),i.lanes=l,i}function Ec(i){var a=Pr(18,null,null,0);return a.stateNode=i,a}function ql(i,a,l){return a=Pr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Tc=new WeakMap;function Va(i,a){if(typeof i=="object"&&i!==null){var l=Tc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Te(a)},Tc.set(i,a),a)}return{value:i,source:a,stack:Te(a)}}var Hl=[],ul=0,Cc=null,Uu=0,qa=[],Ha=0,No=null,Ga=1,Ya="";function La(i,a){Hl[ul++]=Uu,Hl[ul++]=Cc,Cc=i,Uu=a}function rd(i,a,l){qa[Ha++]=Ga,qa[Ha++]=Ya,qa[Ha++]=No,No=i;var c=Ga;i=Ya;var m=32-$e(c)-1;c&=~(1<<m),l+=1;var x=32-$e(a)+m;if(30<x){var D=m-m%5;x=(c&(1<<D)-1).toString(32),c>>=D,m-=D,Ga=1<<32-$e(a)+m|l<<m|c,Ya=x+i}else Ga=1<<x|l<<m|c,Ya=i}function Oh(i){i.return!==null&&(La(i,1),rd(i,1,0))}function Nc(i){for(;i===Cc;)Cc=Hl[--ul],Hl[ul]=null,Uu=Hl[--ul],Hl[ul]=null;for(;i===No;)No=qa[--Ha],qa[Ha]=null,Ya=qa[--Ha],qa[Ha]=null,Ga=qa[--Ha],qa[Ha]=null}function ad(i,a){qa[Ha++]=Ga,qa[Ha++]=Ya,qa[Ha++]=No,Ga=a.id,Ya=a.overflow,No=i}var wr=null,si=null,pn=!1,Jr=null,Si=!1,ps=Error(r(519));function Ro(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Va(a,i)),ps}function Ph(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[kn]=i,a[Gn]=c,l){case"dialog":mn("cancel",a),mn("close",a);break;case"iframe":case"object":case"embed":mn("load",a);break;case"video":case"audio":for(l=0;l<sf.length;l++)mn(sf[l],a);break;case"source":mn("error",a);break;case"img":case"image":case"link":mn("error",a),mn("load",a);break;case"details":mn("toggle",a);break;case"input":mn("invalid",a),Ol(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":mn("invalid",a);break;case"textarea":mn("invalid",a),os(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||k5(a.textContent,l)?(c.popover!=null&&(mn("beforetoggle",a),mn("toggle",a)),c.onScroll!=null&&mn("scroll",a),c.onScrollEnd!=null&&mn("scrollend",a),c.onClick!=null&&(a.onclick=Aa),a=!0):a=!1,a||Ro(i,!0)}function io(i){for(wr=i.return;wr;)switch(wr.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:wr=wr.return}}function Sr(i){if(i!==wr)return!1;if(!pn)return io(i),pn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||og(i.type,i.memoizedProps)),l=!l),l&&si&&Ro(i),io(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=q5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=q5(i)}else a===27?(a=si,au(i.type)?(i=fg,fg=null,si=i):si=a):si=wr?Fs(i.stateNode.nextSibling):null;return!0}function cl(){si=wr=null,pn=!1}function zh(){var i=Jr;return i!==null&&(Za===null?Za=i:Za.push.apply(Za,i),Jr=null),i}function Gl(i){Jr===null?Jr=[i]:Jr.push(i)}var Rc=nt(null),Io=null,Os=null;function Lo(i,a,l){z(Rc,a._currentValue),a._currentValue=l}function Wa(i){i._currentValue=Rc.current,k(Rc)}function Yl(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function hl(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var x=m.dependencies;if(x!==null){var D=m.child;x=x.firstContext;t:for(;x!==null;){var Q=x;x=m;for(var dt=0;dt<a.length;dt++)if(Q.context===a[dt]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Yl(x.return,l,i),c||(D=null);break t}x=Q.next}}else if(m.tag===18){if(D=m.return,D===null)throw Error(r(341));D.lanes|=l,x=D.alternate,x!==null&&(x.lanes|=l),Yl(D,l,i),D=null}else D=m.child;if(D!==null)D.return=m;else for(D=m;D!==null;){if(D===i){D=null;break}if(m=D.sibling,m!==null){m.return=D.return,D=m;break}D=D.return}m=D}}function Do(i,a,l,c){i=null;for(var m=a,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var D=m.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var Q=m.type;xr(m.pendingProps.value,D.value)||(i!==null?i.push(Q):i=[Q])}}else if(m===gt.current){if(D=m.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(hf):i=[hf])}m=m.return}i!==null&&hl(a,i,l,c),a.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!xr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jo(i){Io=i,Os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ar(i){return sd(Io,i)}function Lc(i,a){return Io===null&&jo(i),sd(i,a)}function sd(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Os===null){if(i===null)throw Error(r(308));Os=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Os=Os.next=a;return l}var h1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},f1=n.unstable_scheduleCallback,d1=n.unstable_NormalPriority,Di={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new h1,data:new Map,refCount:0}}function Vu(i){i.refCount--,i.refCount===0&&f1(d1,function(){i.controller.abort()})}var qu=null,Dc=0,p=0,v=null;function E(i,a){if(qu===null){var l=qu=[];Dc=0,p=Z1(),v={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Dc++,a.then(L,L),a}function L(){if(--Dc===0&&qu!==null){v!==null&&(v.status="fulfilled");var i=qu;qu=null,p=0,v=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function V(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var H=rt.S;rt.S=function(i,a){r5=We(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&E(i,a),H!==null&&H(i,a)};var Y=nt(null);function X(){var i=Y.current;return i!==null?i:li.pooledCache}function et(i,a){a===null?z(Y,Y.current):z(Y,a.pool)}function ct(){var i=X();return i===null?null:{parent:Di._currentValue,pool:i}}var yt=Error(r(460)),Rt=Error(r(474)),lt=Error(r(542)),xt={then:function(){}};function Et(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zt(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Aa,Aa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qt(i),i;default:if(typeof a.status=="string")a.then(Aa,Aa);else{if(i=li,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qt(i),i}throw Pt=a,yt}}function Tt(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,yt):l}}var Pt=null;function Ut(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Qt(i){if(i===yt||i===lt)throw Error(r(483))}var Yt=null,pe=0;function se(i){var a=pe;return pe+=1,Yt===null&&(Yt=[]),zt(Yt,i,a)}function He(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function he(i,a){throw a.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function dn(i){function a(wt,vt){if(i){var It=wt.deletions;It===null?(wt.deletions=[vt],wt.flags|=16):It.push(vt)}}function l(wt,vt){if(!i)return null;for(;vt!==null;)a(wt,vt),vt=vt.sibling;return null}function c(wt){for(var vt=new Map;wt!==null;)wt.key!==null?vt.set(wt.key,wt):vt.set(wt.index,wt),wt=wt.sibling;return vt}function m(wt,vt){return wt=Ua(wt,vt),wt.index=0,wt.sibling=null,wt}function x(wt,vt,It){return wt.index=It,i?(It=wt.alternate,It!==null?(It=It.index,It<vt?(wt.flags|=67108866,vt):It):(wt.flags|=67108866,vt)):(wt.flags|=1048576,vt)}function D(wt){return i&&wt.alternate===null&&(wt.flags|=67108866),wt}function Q(wt,vt,It,qt){return vt===null||vt.tag!==6?(vt=Bu(It,wt.mode,qt),vt.return=wt,vt):(vt=m(vt,It),vt.return=wt,vt)}function dt(wt,vt,It,qt){var je=It.type;return je===q?Bt(wt,vt,It.props.children,qt,It.key):vt!==null&&(vt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Tt(je)===vt.type)?(vt=m(vt,It.props),He(vt,It),vt.return=wt,vt):(vt=Vl(It.type,It.key,It.props,null,wt.mode,qt),He(vt,It),vt.return=wt,vt)}function Lt(wt,vt,It,qt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==It.containerInfo||vt.stateNode.implementation!==It.implementation?(vt=ql(It,wt.mode,qt),vt.return=wt,vt):(vt=m(vt,It.children||[]),vt.return=wt,vt)}function Bt(wt,vt,It,qt,je){return vt===null||vt.tag!==7?(vt=Co(It,wt.mode,qt,je),vt.return=wt,vt):(vt=m(vt,It),vt.return=wt,vt)}function Ht(wt,vt,It){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Bu(""+vt,wt.mode,It),vt.return=wt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case _:return It=Vl(vt.type,vt.key,vt.props,null,wt.mode,It),He(It,vt),It.return=wt,It;case B:return vt=ql(vt,wt.mode,It),vt.return=wt,vt;case M:return vt=Tt(vt),Ht(wt,vt,It)}if(mt(vt)||N(vt))return vt=Co(vt,wt.mode,It,null),vt.return=wt,vt;if(typeof vt.then=="function")return Ht(wt,se(vt),It);if(vt.$$typeof===J)return Ht(wt,Lc(wt,vt),It);he(wt,vt)}return null}function kt(wt,vt,It,qt){var je=vt!==null?vt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return je!==null?null:Q(wt,vt,""+It,qt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case _:return It.key===je?dt(wt,vt,It,qt):null;case B:return It.key===je?Lt(wt,vt,It,qt):null;case M:return It=Tt(It),kt(wt,vt,It,qt)}if(mt(It)||N(It))return je!==null?null:Bt(wt,vt,It,qt,null);if(typeof It.then=="function")return kt(wt,vt,se(It),qt);if(It.$$typeof===J)return kt(wt,vt,Lc(wt,It),qt);he(wt,It)}return null}function Mt(wt,vt,It,qt,je){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return wt=wt.get(It)||null,Q(vt,wt,""+qt,je);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case _:return wt=wt.get(qt.key===null?It:qt.key)||null,dt(vt,wt,qt,je);case B:return wt=wt.get(qt.key===null?It:qt.key)||null,Lt(vt,wt,qt,je);case M:return qt=Tt(qt),Mt(wt,vt,It,qt,je)}if(mt(qt)||N(qt))return wt=wt.get(It)||null,Bt(vt,wt,qt,je,null);if(typeof qt.then=="function")return Mt(wt,vt,It,se(qt),je);if(qt.$$typeof===J)return Mt(wt,vt,It,Lc(vt,qt),je);he(vt,qt)}return null}function fe(wt,vt,It,qt){for(var je=null,Pn=null,xe=vt,on=vt=0,xn=null;xe!==null&&on<It.length;on++){xe.index>on?(xn=xe,xe=null):xn=xe.sibling;var zn=kt(wt,xe,It[on],qt);if(zn===null){xe===null&&(xe=xn);break}i&&xe&&zn.alternate===null&&a(wt,xe),vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn,xe=xn}if(on===It.length)return l(wt,xe),pn&&La(wt,on),je;if(xe===null){for(;on<It.length;on++)xe=Ht(wt,It[on],qt),xe!==null&&(vt=x(xe,vt,on),Pn===null?je=xe:Pn.sibling=xe,Pn=xe);return pn&&La(wt,on),je}for(xe=c(xe);on<It.length;on++)xn=Mt(xe,wt,on,It[on],qt),xn!==null&&(i&&xn.alternate!==null&&xe.delete(xn.key===null?on:xn.key),vt=x(xn,vt,on),Pn===null?je=xn:Pn.sibling=xn,Pn=xn);return i&&xe.forEach(function(cu){return a(wt,cu)}),pn&&La(wt,on),je}function Fe(wt,vt,It,qt){if(It==null)throw Error(r(151));for(var je=null,Pn=null,xe=vt,on=vt=0,xn=null,zn=It.next();xe!==null&&!zn.done;on++,zn=It.next()){xe.index>on?(xn=xe,xe=null):xn=xe.sibling;var cu=kt(wt,xe,zn.value,qt);if(cu===null){xe===null&&(xe=xn);break}i&&xe&&cu.alternate===null&&a(wt,xe),vt=x(cu,vt,on),Pn===null?je=cu:Pn.sibling=cu,Pn=cu,xe=xn}if(zn.done)return l(wt,xe),pn&&La(wt,on),je;if(xe===null){for(;!zn.done;on++,zn=It.next())zn=Ht(wt,zn.value,qt),zn!==null&&(vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn);return pn&&La(wt,on),je}for(xe=c(xe);!zn.done;on++,zn=It.next())zn=Mt(xe,wt,on,zn.value,qt),zn!==null&&(i&&zn.alternate!==null&&xe.delete(zn.key===null?on:zn.key),vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn);return i&&xe.forEach(function(Y3){return a(wt,Y3)}),pn&&La(wt,on),je}function ri(wt,vt,It,qt){if(typeof It=="object"&&It!==null&&It.type===q&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case _:t:{for(var je=It.key;vt!==null;){if(vt.key===je){if(je=It.type,je===q){if(vt.tag===7){l(wt,vt.sibling),qt=m(vt,It.props.children),qt.return=wt,wt=qt;break t}}else if(vt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Tt(je)===vt.type){l(wt,vt.sibling),qt=m(vt,It.props),He(qt,It),qt.return=wt,wt=qt;break t}l(wt,vt);break}else a(wt,vt);vt=vt.sibling}It.type===q?(qt=Co(It.props.children,wt.mode,qt,It.key),qt.return=wt,wt=qt):(qt=Vl(It.type,It.key,It.props,null,wt.mode,qt),He(qt,It),qt.return=wt,wt=qt)}return D(wt);case B:t:{for(je=It.key;vt!==null;){if(vt.key===je)if(vt.tag===4&&vt.stateNode.containerInfo===It.containerInfo&&vt.stateNode.implementation===It.implementation){l(wt,vt.sibling),qt=m(vt,It.children||[]),qt.return=wt,wt=qt;break t}else{l(wt,vt);break}else a(wt,vt);vt=vt.sibling}qt=ql(It,wt.mode,qt),qt.return=wt,wt=qt}return D(wt);case M:return It=Tt(It),ri(wt,vt,It,qt)}if(mt(It))return fe(wt,vt,It,qt);if(N(It)){if(je=N(It),typeof je!="function")throw Error(r(150));return It=je.call(It),Fe(wt,vt,It,qt)}if(typeof It.then=="function")return ri(wt,vt,se(It),qt);if(It.$$typeof===J)return ri(wt,vt,Lc(wt,It),qt);he(wt,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,vt!==null&&vt.tag===6?(l(wt,vt.sibling),qt=m(vt,It),qt.return=wt,wt=qt):(l(wt,vt),qt=Bu(It,wt.mode,qt),qt.return=wt,wt=qt),D(wt)):l(wt,vt)}return function(wt,vt,It,qt){try{pe=0;var je=ri(wt,vt,It,qt);return Yt=null,je}catch(xe){if(xe===yt||xe===lt)throw xe;var Pn=Pr(29,xe,null,wt.mode);return Pn.lanes=qt,Pn.return=wt,Pn}}}var oi=dn(!0),Je=dn(!1),oe=!1;function Zt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ze(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Un&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Or(i),zu(i,null,l),a}return Pu(i,c,a,l),Or(i)}function Fn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Nr(i,l)}}function Qi(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?m=x=D:x=x.next=D,l=l.next}while(l!==null);x===null?m=x=a:x=x.next=a}else m=x=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Er=!1;function ei(){if(Er){var i=v;if(i!==null)throw i}}function zi(i,a,l,c){Er=!1;var m=i.updateQueue;oe=!1;var x=m.firstBaseUpdate,D=m.lastBaseUpdate,Q=m.shared.pending;if(Q!==null){m.shared.pending=null;var dt=Q,Lt=dt.next;dt.next=null,D===null?x=Lt:D.next=Lt,D=dt;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,Q=Bt.lastBaseUpdate,Q!==D&&(Q===null?Bt.firstBaseUpdate=Lt:Q.next=Lt,Bt.lastBaseUpdate=dt))}if(x!==null){var Ht=m.baseState;D=0,Bt=Lt=dt=null,Q=x;do{var kt=Q.lane&-536870913,Mt=kt!==Q.lane;if(Mt?(bn&kt)===kt:(c&kt)===kt){kt!==0&&kt===p&&(Er=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var fe=i,Fe=Q;kt=a;var ri=l;switch(Fe.tag){case 1:if(fe=Fe.payload,typeof fe=="function"){Ht=fe.call(ri,Ht,kt);break t}Ht=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Fe.payload,kt=typeof fe=="function"?fe.call(ri,Ht,kt):fe,kt==null)break t;Ht=A({},Ht,kt);break t;case 2:oe=!0}}kt=Q.callback,kt!==null&&(i.flags|=64,Mt&&(i.flags|=8192),Mt=m.callbacks,Mt===null?m.callbacks=[kt]:Mt.push(kt))}else Mt={lane:kt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Bt===null?(Lt=Bt=Mt,dt=Ht):Bt=Bt.next=Mt,D|=kt;if(Q=Q.next,Q===null){if(Q=m.shared.pending,Q===null)break;Mt=Q,Q=Mt.next,Mt.next=null,m.lastBaseUpdate=Mt,m.shared.pending=null}}while(!0);Bt===null&&(dt=Ht),m.baseState=dt,m.firstBaseUpdate=Lt,m.lastBaseUpdate=Bt,x===null&&(m.shared.lanes=0),tu|=D,i.lanes=D,i.memoizedState=Ht}}function zr(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Fi(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)zr(l[i],a)}var un=nt(null),En=nt(0);function pi(i,a){i=_l,z(En,i),z(un,a),_l=i|a.baseLanes}function Dn(){z(En,_l),z(un,un.current)}function Xi(){_l=En.current,k(un),k(En)}var gi=nt(null),Tn=null;function ji(i){var a=i.alternate;z(An,An.current&1),z(gi,i),Tn===null&&(a===null||un.current!==null||a.memoizedState!==null)&&(Tn=i)}function Bn(i){z(An,An.current),z(gi,i),Tn===null&&(Tn=i)}function Bi(i){i.tag===22?(z(An,An.current),z(gi,i),Tn===null&&(Tn=i)):Ui()}function Ui(){z(An,An.current),z(gi,gi.current)}function Wn(i){k(gi),Tn===i&&(Tn=null),k(An)}var An=nt(0);function Fr(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||cg(l)||hg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ai=0,Ie=null,De=null,Cn=null,fa=!1,$a=!1,ta=!1,Vi=0,ko=0,Mo=null,jc=0;function ni(){throw Error(r(321))}function Fh(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!xr(i[l],a[l]))return!1;return!0}function Bh(i,a,l,c,m,x){return Ai=x,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,rt.H=i===null||i.memoizedState===null?g2:_1,ta=!1,x=l(c,m),ta=!1,$a&&(x=ro(a,l,c,m)),kc(i),x}function kc(i){rt.H=$h;var a=De!==null&&De.next!==null;if(Ai=0,Cn=De=Ie=null,fa=!1,ko=0,Mo=null,a)throw Error(r(300));i===null||lr||(i=i.dependencies,i!==null&&Ic(i)&&(lr=!0))}function ro(i,a,l,c){Ie=i;var m=0;do{if($a&&(Mo=null),ko=0,$a=!1,25<=m)throw Error(r(301));if(m+=1,Cn=De=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}rt.H=m2,x=a(l,c)}while($a);return x}function p1(){var i=rt.H,a=i.useState()[0];return a=typeof a.then=="function"?Oo(a):a,i=i.useState()[0],(De!==null?De.memoizedState:null)!==i&&(Ie.flags|=1024),a}function Uh(){var i=Vi!==0;return Vi=0,i}function Vh(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Mc(i){if(fa){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}fa=!1}Ai=0,Cn=De=Ie=null,$a=!1,ko=Vi=0,Mo=null}function or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Ie.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Ei(){if(De===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=De.next;var a=Cn===null?Ie.memoizedState:Cn.next;if(a!==null)Cn=a,De=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));De=i,i={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Cn===null?Ie.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(i){var a=ko;return ko+=1,Mo===null&&(Mo=[]),i=zt(Mo,i,a),a=Ie,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,rt.H=a===null||a.memoizedState===null?g2:_1),i}function $l(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Oo(i);if(i.$$typeof===J)return Ar(i)}throw Error(r(438,String(i)))}function fl(i){var a=null,l=Ie.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Hu(),Ie.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=F;return a.index++,l}function Ps(i,a){return typeof a=="function"?a(i):a}function Oc(i){var a=Ei();return Kl(a,De,i)}function Kl(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,x=c.pending;if(x!==null){if(m!==null){var D=m.next;m.next=x.next,x.next=D}a.baseQueue=m=x,c.pending=null}if(x=i.baseState,m===null)i.memoizedState=x;else{a=m.next;var Q=D=null,dt=null,Lt=a,Bt=!1;do{var Ht=Lt.lane&-536870913;if(Ht!==Lt.lane?(bn&Ht)===Ht:(Ai&Ht)===Ht){var kt=Lt.revertLane;if(kt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),Ht===p&&(Bt=!0);else if((Ai&kt)===kt){Lt=Lt.next,kt===p&&(Bt=!0);continue}else Ht={lane:0,revertLane:Lt.revertLane,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},dt===null?(Q=dt=Ht,D=x):dt=dt.next=Ht,Ie.lanes|=kt,tu|=kt;Ht=Lt.action,ta&&l(x,Ht),x=Lt.hasEagerState?Lt.eagerState:l(x,Ht)}else kt={lane:Ht,revertLane:Lt.revertLane,gesture:Lt.gesture,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},dt===null?(Q=dt=kt,D=x):dt=dt.next=kt,Ie.lanes|=Ht,tu|=Ht;Lt=Lt.next}while(Lt!==null&&Lt!==a);if(dt===null?D=x:dt.next=Q,!xr(x,i.memoizedState)&&(lr=!0,Bt&&(l=v,l!==null)))throw l;i.memoizedState=x,i.baseState=D,i.baseQueue=dt,c.lastRenderedState=x}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Pc(i){var a=Ei(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,x=a.memoizedState;if(m!==null){l.pending=null;var D=m=m.next;do x=i(x,D.action),D=D.next;while(D!==m);xr(x,a.memoizedState)||(lr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,c]}function zc(i,a,l){var c=Ie,m=Ei(),x=pn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var D=!xr((De||m).memoizedState,l);if(D&&(m.memoizedState=l,lr=!0),m=m.queue,g1(Hh.bind(null,c,m,i),[i]),m.getSnapshot!==a||D||Cn!==null&&Cn.memoizedState.tag&1){if(c.flags|=2048,pl(9,{destroy:void 0},qh.bind(null,c,m,l,a),null),li===null)throw Error(r(349));x||(Ai&127)!==0||ao(c,a,l)}return l}function ao(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ie.updateQueue,a===null?(a=Hu(),Ie.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function qh(i,a,l,c){a.value=l,a.getSnapshot=c,od(a)&&Gh(i)}function Hh(i,a,l){return l(function(){od(a)&&Gh(i)})}function od(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!xr(i,l)}catch{return!0}}function Gh(i){var a=no(i,2);a!==null&&Ja(a,i,2)}function Po(i){var a=or();if(typeof i=="function"){var l=i;if(i=l(),ta){Pe(!0);try{l()}finally{Pe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:i},a}function ld(i,a,l,c){return i.baseState=l,Kl(i,De,typeof c=="function"?c:Ps)}function ud(i,a,l,c,m){if(dd(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};rt.T!==null?l(!0):x.isTransition=!1,c(x),l=a.pending,l===null?(x.next=a.pending=x,cd(a,x)):(x.next=l.next,a.pending=l.next=x)}}function cd(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var x=rt.T,D={};rt.T=D;try{var Q=l(m,c),dt=rt.S;dt!==null&&dt(D,Q),Yh(i,a,Q)}catch(Lt){dl(i,a,Lt)}finally{x!==null&&D.types!==null&&(x.types=D.types),rt.T=x}}else try{x=l(m,c),Yh(i,a,x)}catch(Lt){dl(i,a,Lt)}}function Yh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){hd(i,a,c)},function(c){return dl(i,a,c)}):hd(i,a,l)}function hd(i,a,l){a.status="fulfilled",a.value=l,Fc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,cd(i,l)))}function dl(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Fc(a),a=a.next;while(a!==c)}i.action=null}function Fc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Gu(i,a){return a}function zs(i,a){if(pn){var l=li.formState;if(l!==null){t:{var c=Ie;if(pn){if(si){e:{for(var m=si,x=Si;m.nodeType!==8;){if(!x){m=null;break e}if(m=Fs(m.nextSibling),m===null){m=null;break e}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){si=Fs(m.nextSibling),c=m.data==="F!";break t}}Ro(c)}c=!1}c&&(a=l[0])}}return l=or(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:a},l.queue=c,l=f2.bind(null,Ie,c),c.dispatch=l,c=Po(!1),x=x1.bind(null,Ie,!1,c.queue),c=or(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=ud.bind(null,Ie,m,x,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function so(i){var a=Ei();return oo(a,De,i)}function oo(i,a,l){if(a=Kl(i,a,Gu)[0],i=Oc(Ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Oo(a)}catch(D){throw D===yt?lt:D}else c=a;a=Ei();var m=a.queue,x=m.dispatch;return l!==a.memoizedState&&(Ie.flags|=2048,pl(9,{destroy:void 0},Bc.bind(null,m,l),null)),[c,x,i]}function Bc(i,a){i.action=a}function Uc(i){var a=Ei(),l=De;if(l!==null)return oo(a,l,i);Ei(),a=a.memoizedState,l=Ei();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function pl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ie.updateQueue,a===null&&(a=Hu(),Ie.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function fd(){return Ei().memoizedState}function Ql(i,a,l,c){var m=or();Ie.flags|=i,m.memoizedState=pl(1|a,{destroy:void 0},l,c===void 0?null:c)}function Xl(i,a,l,c){var m=Ei();c=c===void 0?null:c;var x=m.memoizedState.inst;De!==null&&c!==null&&Fh(c,De.memoizedState.deps)?m.memoizedState=pl(a,x,l,c):(Ie.flags|=i,m.memoizedState=pl(1|a,x,l,c))}function Zm(i,a){Ql(8390656,8,i,a)}function g1(i,a){Xl(2048,8,i,a)}function Bw(i){Ie.flags|=4;var a=Ie.updateQueue;if(a===null)a=Hu(),Ie.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Jm(i){var a=Ei().memoizedState;return Bw({ref:a,nextImpl:i}),function(){if((Un&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function t2(i,a){return Xl(4,2,i,a)}function e2(i,a){return Xl(4,4,i,a)}function n2(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function i2(i,a,l){l=l!=null?l.concat([i]):null,Xl(4,4,n2.bind(null,a,i),l)}function m1(){}function r2(i,a){var l=Ei();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Fh(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function a2(i,a){var l=Ei();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Fh(a,c[1]))return c[0];if(c=i(),ta){Pe(!0);try{i()}finally{Pe(!1)}}return l.memoizedState=[c,a],c}function y1(i,a,l){return l===void 0||(Ai&1073741824)!==0&&(bn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=s5(),Ie.lanes|=i,tu|=i,l)}function s2(i,a,l,c){return xr(l,a)?l:un.current!==null?(i=y1(i,l,c),xr(i,a)||(lr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(bn&261930)===0?(lr=!0,i.memoizedState=l):(i=s5(),Ie.lanes|=i,tu|=i,a)}function o2(i,a,l,c,m){var x=ft.p;ft.p=x!==0&&8>x?x:8;var D=rt.T,Q={};rt.T=Q,x1(i,!1,a,l);try{var dt=m(),Lt=rt.S;if(Lt!==null&&Lt(Q,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Bt=V(dt,c);Wh(i,a,Bt,ys(i))}else Wh(i,a,c,ys(i))}catch(Ht){Wh(i,a,{then:function(){},status:"rejected",reason:Ht},ys())}finally{ft.p=x,D!==null&&Q.types!==null&&(D.types=Q.types),rt.T=D}}function Uw(){}function v1(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=l2(i).queue;o2(i,m,a,at,l===null?Uw:function(){return u2(i),l(c)})}function l2(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:at},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function u2(i){var a=l2(i);a.next===null&&(a=i.alternate.memoizedState),Wh(i,a.next.queue,{},ys())}function b1(){return Ar(hf)}function c2(){return Ei().memoizedState}function h2(){return Ei().memoizedState}function Vw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ys();i=ze(l);var c=rn(a,i,l);c!==null&&(Ja(c,a,l),Fn(c,a,l)),a={cache:Wl()},i.payload=a;return}a=a.return}}function qw(i,a,l){var c=ys();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dd(i)?d2(a,l):(l=wc(i,a,l,c),l!==null&&(Ja(l,i,c),p2(l,a,c)))}function f2(i,a,l){var c=ys();Wh(i,a,l,c)}function Wh(i,a,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(dd(i))d2(a,m);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var D=a.lastRenderedState,Q=x(D,l);if(m.hasEagerState=!0,m.eagerState=Q,xr(Q,D))return Pu(i,a,m,0),li===null&&Ou(),!1}catch{}if(l=wc(i,a,m,c),l!==null)return Ja(l,i,c),p2(l,a,c),!0}return!1}function x1(i,a,l,c){if(c={lane:2,revertLane:Z1(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},dd(i)){if(a)throw Error(r(479))}else a=wc(i,l,c,2),a!==null&&Ja(a,i,2)}function dd(i){var a=i.alternate;return i===Ie||a!==null&&a===Ie}function d2(i,a){$a=fa=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function p2(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Nr(i,l)}}var $h={readContext:Ar,use:$l,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni,useHostTransitionStatus:ni,useFormState:ni,useActionState:ni,useOptimistic:ni,useMemoCache:ni,useCacheRefresh:ni};$h.useEffectEvent=ni;var g2={readContext:Ar,use:$l,useCallback:function(i,a){return or().memoizedState=[i,a===void 0?null:a],i},useContext:Ar,useEffect:Zm,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Ql(4194308,4,n2.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Ql(4194308,4,i,a)},useInsertionEffect:function(i,a){Ql(4,2,i,a)},useMemo:function(i,a){var l=or();a=a===void 0?null:a;var c=i();if(ta){Pe(!0);try{i()}finally{Pe(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=or();if(l!==void 0){var m=l(a);if(ta){Pe(!0);try{l(a)}finally{Pe(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=qw.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var a=or();return i={current:i},a.memoizedState=i},useState:function(i){i=Po(i);var a=i.queue,l=f2.bind(null,Ie,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:m1,useDeferredValue:function(i,a){var l=or();return y1(l,i,a)},useTransition:function(){var i=Po(!1);return i=o2.bind(null,Ie,i.queue,!0,!1),or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ie,m=or();if(pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),li===null)throw Error(r(349));(bn&127)!==0||ao(c,a,l)}m.memoizedState=l;var x={value:l,getSnapshot:a};return m.queue=x,Zm(Hh.bind(null,c,x,i),[i]),c.flags|=2048,pl(9,{destroy:void 0},qh.bind(null,c,x,l,a),null),l},useId:function(){var i=or(),a=li.identifierPrefix;if(pn){var l=Ya,c=Ga;l=(c&~(1<<32-$e(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Vi++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=jc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:b1,useFormState:zs,useActionState:zs,useOptimistic:function(i){var a=or();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=x1.bind(null,Ie,!0,l),l.dispatch=a,[i,a]},useMemoCache:fl,useCacheRefresh:function(){return or().memoizedState=Vw.bind(null,Ie)},useEffectEvent:function(i){var a=or(),l={impl:i};return a.memoizedState=l,function(){if((Un&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},_1={readContext:Ar,use:$l,useCallback:r2,useContext:Ar,useEffect:g1,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:e2,useMemo:a2,useReducer:Oc,useRef:fd,useState:function(){return Oc(Ps)},useDebugValue:m1,useDeferredValue:function(i,a){var l=Ei();return s2(l,De.memoizedState,i,a)},useTransition:function(){var i=Oc(Ps)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Oo(i),a]},useSyncExternalStore:zc,useId:c2,useHostTransitionStatus:b1,useFormState:so,useActionState:so,useOptimistic:function(i,a){var l=Ei();return ld(l,De,i,a)},useMemoCache:fl,useCacheRefresh:h2};_1.useEffectEvent=Jm;var m2={readContext:Ar,use:$l,useCallback:r2,useContext:Ar,useEffect:g1,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:e2,useMemo:a2,useReducer:Pc,useRef:fd,useState:function(){return Pc(Ps)},useDebugValue:m1,useDeferredValue:function(i,a){var l=Ei();return De===null?y1(l,i,a):s2(l,De.memoizedState,i,a)},useTransition:function(){var i=Pc(Ps)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Oo(i),a]},useSyncExternalStore:zc,useId:c2,useHostTransitionStatus:b1,useFormState:Uc,useActionState:Uc,useOptimistic:function(i,a){var l=Ei();return De!==null?ld(l,De,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:fl,useCacheRefresh:h2};m2.useEffectEvent=Jm;function w1(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var S1={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=ys(),m=ze(c);m.payload=a,l!=null&&(m.callback=l),a=rn(i,m,c),a!==null&&(Ja(a,i,c),Fn(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=ys(),m=ze(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=rn(i,m,c),a!==null&&(Ja(a,i,c),Fn(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ys(),c=ze(l);c.tag=2,a!=null&&(c.callback=a),a=rn(i,c,l),a!==null&&(Ja(a,i,l),Fn(a,i,l))}};function y2(i,a,l,c,m,x,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,x,D):a.prototype&&a.prototype.isPureReactComponent?!Zs(l,c)||!Zs(m,x):!0}function v2(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&S1.enqueueReplaceState(a,a.state,null)}function Yu(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function b2(i){Mu(i)}function x2(i){console.error(i)}function _2(i){Mu(i)}function pd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function w2(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function A1(i,a,l){return l=ze(l),l.tag=3,l.payload={element:null},l.callback=function(){pd(i,a)},l}function S2(i){return i=ze(i),i.tag=3,i}function A2(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var x=c.value;i.payload=function(){return m(x)},i.callback=function(){w2(a,l,c)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){w2(a,l,c),typeof m!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var Q=c.stack;this.componentDidCatch(c.value,{componentStack:Q!==null?Q:""})})}function Hw(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Do(a,l,m,!0),l=gi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Td():l.alternate===null&&qi===0&&(qi=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===xt?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),K1(i,c,m)),!1;case 22:return l.flags|=65536,c===xt?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),K1(i,c,m)),!1}throw Error(r(435,l.tag))}return K1(i,c,m),Td(),!1}if(pn)return a=gi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==ps&&(i=Error(r(422),{cause:c}),Gl(Va(i,l)))):(c!==ps&&(a=Error(r(423),{cause:c}),Gl(Va(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Va(c,l),m=A1(i.stateNode,c,m),Qi(i,m),qi!==4&&(qi=2)),!1;var x=Error(r(520),{cause:c});if(x=Va(x,l),nf===null?nf=[x]:nf.push(x),qi!==4&&(qi=2),a===null)return!0;c=Va(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=A1(l.stateNode,c,i),Qi(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(eu===null||!eu.has(x))))return l.flags|=65536,m&=-m,l.lanes|=m,m=S2(m),A2(m,i,l,c),Qi(l,m),!1}l=l.return}while(l!==null);return!1}var E1=Error(r(461)),lr=!1;function ea(i,a,l,c){a.child=i===null?Je(a,null,l,c):oi(a,i.child,l,c)}function E2(i,a,l,c,m){l=l.render;var x=a.ref;if("ref"in c){var D={};for(var Q in c)Q!=="ref"&&(D[Q]=c[Q])}else D=c;return jo(a),c=Bh(i,a,l,D,x,m),Q=Uh(),i!==null&&!lr?(Vh(i,a,m),gl(i,a,m)):(pn&&Q&&Oh(a),a.flags|=1,ea(i,a,c,m),a.child)}function T2(i,a,l,c,m){if(i===null){var x=l.type;return typeof x=="function"&&!Ac(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,C2(i,a,x,c,m)):(i=Vl(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!j1(i,m)){var D=x.memoizedProps;if(l=l.compare,l=l!==null?l:Zs,l(D,c)&&i.ref===a.ref)return gl(i,a,m)}return a.flags|=1,i=Ua(x,c),i.ref=a.ref,i.return=a,a.child=i}function C2(i,a,l,c,m){if(i!==null){var x=i.memoizedProps;if(Zs(x,c)&&i.ref===a.ref)if(lr=!1,a.pendingProps=c=x,j1(i,m))(i.flags&131072)!==0&&(lr=!0);else return a.lanes=i.lanes,gl(i,a,m)}return T1(i,a,l,c,m)}function N2(i,a,l,c){var m=c.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(c=a.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~x}else c=0,a.child=null;return R2(i,a,x,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&et(a,x!==null?x.cachePool:null),x!==null?pi(a,x):Dn(),Bi(a);else return c=a.lanes=536870912,R2(i,a,x!==null?x.baseLanes|l:l,l,c)}else x!==null?(et(a,x.cachePool),pi(a,x),Ui(),a.memoizedState=null):(i!==null&&et(a,null),Dn(),Ui());return ea(i,a,m,l),a.child}function Kh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function R2(i,a,l,c,m){var x=X();return x=x===null?null:{parent:Di._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&et(a,null),Dn(),Bi(a),i!==null&&Do(i,a,c,!0),a.childLanes=m,null}function gd(i,a){return a=yd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function I2(i,a,l){return oi(a,i.child,null,l),i=gd(a,a.pendingProps),i.flags|=2,Wn(a),a.memoizedState=null,i}function Gw(i,a,l){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(pn){if(c.mode==="hidden")return i=gd(a,c),a.lanes=536870912,Kh(null,i);if(Bn(a),(i=si)?(i=V5(i,Si),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:No!==null?{id:Ga,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},l=Ec(i),l.return=a,a.child=l,wr=a,si=null)):i=null,i===null)throw Ro(a);return a.lanes=536870912,null}return gd(a,c)}var x=i.memoizedState;if(x!==null){var D=x.dehydrated;if(Bn(a),m)if(a.flags&256)a.flags&=-257,a=I2(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(lr||Do(i,a,l,!1),m=(l&i.childLanes)!==0,lr||m){if(c=li,c!==null&&(D=Rr(c,l),D!==0&&D!==x.retryLane))throw x.retryLane=D,no(i,D),Ja(c,i,D),E1;Td(),a=I2(i,a,l)}else i=x.treeContext,si=Fs(D.nextSibling),wr=a,pn=!0,Jr=null,Si=!1,i!==null&&ad(a,i),a=gd(a,c),a.flags|=4096;return a}return i=Ua(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function md(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function T1(i,a,l,c,m){return jo(a),l=Bh(i,a,l,c,void 0,m),c=Uh(),i!==null&&!lr?(Vh(i,a,m),gl(i,a,m)):(pn&&c&&Oh(a),a.flags|=1,ea(i,a,l,m),a.child)}function L2(i,a,l,c,m,x){return jo(a),a.updateQueue=null,l=ro(a,c,l,m),kc(i),c=Uh(),i!==null&&!lr?(Vh(i,a,x),gl(i,a,x)):(pn&&c&&Oh(a),a.flags|=1,ea(i,a,l,x),a.child)}function D2(i,a,l,c,m){if(jo(a),a.stateNode===null){var x=_r,D=l.contextType;typeof D=="object"&&D!==null&&(x=Ar(D)),x=new l(c,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=S1,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=c,x.state=a.memoizedState,x.refs={},Zt(a),D=l.contextType,x.context=typeof D=="object"&&D!==null?Ar(D):_r,x.state=a.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(w1(a,l,D,c),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&S1.enqueueReplaceState(x,x.state,null),zi(a,c,x,m),ei(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){x=a.stateNode;var Q=a.memoizedProps,dt=Yu(l,Q);x.props=dt;var Lt=x.context,Bt=l.contextType;D=_r,typeof Bt=="object"&&Bt!==null&&(D=Ar(Bt));var Ht=l.getDerivedStateFromProps;Bt=typeof Ht=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,Bt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Lt!==D)&&v2(a,x,c,D),oe=!1;var kt=a.memoizedState;x.state=kt,zi(a,c,x,m),ei(),Lt=a.memoizedState,Q||kt!==Lt||oe?(typeof Ht=="function"&&(w1(a,l,Ht,c),Lt=a.memoizedState),(dt=oe||y2(a,l,dt,c,kt,Lt,D))?(Bt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Lt),x.props=c,x.state=Lt,x.context=D,c=dt):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{x=a.stateNode,di(i,a),D=a.memoizedProps,Bt=Yu(l,D),x.props=Bt,Ht=a.pendingProps,kt=x.context,Lt=l.contextType,dt=_r,typeof Lt=="object"&&Lt!==null&&(dt=Ar(Lt)),Q=l.getDerivedStateFromProps,(Lt=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ht||kt!==dt)&&v2(a,x,c,dt),oe=!1,kt=a.memoizedState,x.state=kt,zi(a,c,x,m),ei();var Mt=a.memoizedState;D!==Ht||kt!==Mt||oe||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof Q=="function"&&(w1(a,l,Q,c),Mt=a.memoizedState),(Bt=oe||y2(a,l,Bt,c,kt,Mt,dt)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(Lt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,Mt,dt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,Mt,dt)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Mt),x.props=c,x.state=Mt,x.context=dt,c=Bt):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=1024),c=!1)}return x=c,md(i,a),c=(a.flags&128)!==0,x||c?(x=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&c?(a.child=oi(a,i.child,null,m),a.child=oi(a,null,l,m)):ea(i,a,l,m),a.memoizedState=x.state,i=a.child):i=gl(i,a,m),i}function j2(i,a,l,c){return cl(),a.flags|=256,ea(i,a,l,c),a.child}var C1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N1(i){return{baseLanes:i,cachePool:ct()}}function R1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ms),i}function k2(i,a,l){var c=a.pendingProps,m=!1,x=(a.flags&128)!==0,D;if((D=x)||(D=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),D&&(m=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(pn){if(m?ji(a):Ui(),(i=si)?(i=V5(i,Si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:No!==null?{id:Ga,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},l=Ec(i),l.return=a,a.child=l,wr=a,si=null)):i=null,i===null)throw Ro(a);return hg(i)?a.lanes=32:a.lanes=536870912,null}var Q=c.children;return c=c.fallback,m?(Ui(),m=a.mode,Q=yd({mode:"hidden",children:Q},m),c=Co(c,m,l,null),Q.return=a,c.return=a,Q.sibling=c,a.child=Q,c=a.child,c.memoizedState=N1(l),c.childLanes=R1(i,D,l),a.memoizedState=C1,Kh(null,c)):(ji(a),I1(a,Q))}var dt=i.memoizedState;if(dt!==null&&(Q=dt.dehydrated,Q!==null)){if(x)a.flags&256?(ji(a),a.flags&=-257,a=L1(i,a,l)):a.memoizedState!==null?(Ui(),a.child=i.child,a.flags|=128,a=null):(Ui(),Q=c.fallback,m=a.mode,c=yd({mode:"visible",children:c.children},m),Q=Co(Q,m,l,null),Q.flags|=2,c.return=a,Q.return=a,c.sibling=Q,a.child=c,oi(a,i.child,null,l),c=a.child,c.memoizedState=N1(l),c.childLanes=R1(i,D,l),a.memoizedState=C1,a=Kh(null,c));else if(ji(a),hg(Q)){if(D=Q.nextSibling&&Q.nextSibling.dataset,D)var Lt=D.dgst;D=Lt,c=Error(r(419)),c.stack="",c.digest=D,Gl({value:c,source:null,stack:null}),a=L1(i,a,l)}else if(lr||Do(i,a,l,!1),D=(l&i.childLanes)!==0,lr||D){if(D=li,D!==null&&(c=Rr(D,l),c!==0&&c!==dt.retryLane))throw dt.retryLane=c,no(i,c),Ja(D,i,c),E1;cg(Q)||Td(),a=L1(i,a,l)}else cg(Q)?(a.flags|=192,a.child=i.child,a=null):(i=dt.treeContext,si=Fs(Q.nextSibling),wr=a,pn=!0,Jr=null,Si=!1,i!==null&&ad(a,i),a=I1(a,c.children),a.flags|=4096);return a}return m?(Ui(),Q=c.fallback,m=a.mode,dt=i.child,Lt=dt.sibling,c=Ua(dt,{mode:"hidden",children:c.children}),c.subtreeFlags=dt.subtreeFlags&65011712,Lt!==null?Q=Ua(Lt,Q):(Q=Co(Q,m,l,null),Q.flags|=2),Q.return=a,c.return=a,c.sibling=Q,a.child=c,Kh(null,c),c=a.child,Q=i.child.memoizedState,Q===null?Q=N1(l):(m=Q.cachePool,m!==null?(dt=Di._currentValue,m=m.parent!==dt?{parent:dt,pool:dt}:m):m=ct(),Q={baseLanes:Q.baseLanes|l,cachePool:m}),c.memoizedState=Q,c.childLanes=R1(i,D,l),a.memoizedState=C1,Kh(i.child,c)):(ji(a),l=i.child,i=l.sibling,l=Ua(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=l,a.memoizedState=null,l)}function I1(i,a){return a=yd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function yd(i,a){return i=Pr(22,i,null,a),i.lanes=0,i}function L1(i,a,l){return oi(a,i.child,null,l),i=I1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function M2(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Yl(i.return,a,l)}function D1(i,a,l,c,m,x){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:x}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=c,D.tail=l,D.tailMode=m,D.treeForkCount=x)}function O2(i,a,l){var c=a.pendingProps,m=c.revealOrder,x=c.tail;c=c.children;var D=An.current,Q=(D&2)!==0;if(Q?(D=D&1|2,a.flags|=128):D&=1,z(An,D),ea(i,a,c,l),c=pn?Uu:0,!Q&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M2(i,l,a);else if(i.tag===19)M2(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Fr(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),D1(a,!1,m,l,x,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Fr(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}D1(a,!0,l,null,x,c);break;case"together":D1(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function gl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),tu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Do(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ua(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ua(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function j1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function Yw(i,a,l){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Lo(a,Di,i.memoizedState.cache),cl();break;case 27:case 5:Ot(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Lo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bn(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ji(a),a.flags|=128,null):(l&a.child.childLanes)!==0?k2(i,a,l):(ji(a),i=gl(i,a,l),i!==null?i.sibling:null);ji(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Do(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return O2(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),z(An,An.current),c)break;return null;case 22:return a.lanes=0,N2(i,a,l,a.pendingProps);case 24:Lo(a,Di,i.memoizedState.cache)}return gl(i,a,l)}function P2(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)lr=!0;else{if(!j1(i,l)&&(a.flags&128)===0)return lr=!1,Yw(i,a,l);lr=(i.flags&131072)!==0}else lr=!1,pn&&(a.flags&1048576)!==0&&rd(a,Uu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(i=Tt(a.elementType),a.type=i,typeof i=="function")Ac(i)?(c=Yu(i,c),a.tag=1,a=D2(null,a,i,c,l)):(a.tag=0,a=T1(null,a,i,c,l));else{if(i!=null){var m=i.$$typeof;if(m===it){a.tag=11,a=E2(null,a,i,c,l);break t}else if(m===G){a.tag=14,a=T2(null,a,i,c,l);break t}}throw a=$(i)||i,Error(r(306,a,""))}}return a;case 0:return T1(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Yu(c,a.pendingProps),D2(i,a,c,m,l);case 3:t:{if(Nt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var x=a.memoizedState;m=x.element,di(i,a),zi(a,c,null,l);var D=a.memoizedState;if(c=D.cache,Lo(a,Di,c),c!==x.cache&&hl(a,[Di],l,!0),ei(),c=D.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=j2(i,a,c,l);break t}else if(c!==m){m=Va(Error(r(424)),a),Gl(m),a=j2(i,a,c,l);break t}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,si=Fs(i.firstChild),wr=a,pn=!0,Jr=null,Si=!0,l=Je(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(cl(),c===m){a=gl(i,a,l);break t}ea(i,a,c,l)}a=a.child}return a;case 26:return md(i,a),i===null?(l=$5(a.type,null,a.pendingProps,null))?a.memoizedState=l:pn||(l=a.type,i=a.pendingProps,c=jd(ht.current).createElement(l),c[kn]=a,c[Gn]=i,na(c,l,i),fi(c),a.stateNode=c):a.memoizedState=$5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ot(a),i===null&&pn&&(c=a.stateNode=G5(a.type,a.pendingProps,ht.current),wr=a,Si=!0,m=si,au(a.type)?(fg=m,si=Fs(c.firstChild)):si=m),ea(i,a,a.pendingProps.children,l),md(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&pn&&((m=c=si)&&(c=w3(c,a.type,a.pendingProps,Si),c!==null?(a.stateNode=c,wr=a,si=Fs(c.firstChild),Si=!1,m=!0):m=!1),m||Ro(a)),Ot(a),m=a.type,x=a.pendingProps,D=i!==null?i.memoizedProps:null,c=x.children,og(m,x)?c=null:D!==null&&og(m,D)&&(a.flags|=32),a.memoizedState!==null&&(m=Bh(i,a,p1,null,null,l),hf._currentValue=m),md(i,a),ea(i,a,c,l),a.child;case 6:return i===null&&pn&&((i=l=si)&&(l=S3(l,a.pendingProps,Si),l!==null?(a.stateNode=l,wr=a,si=null,i=!0):i=!1),i||Ro(a)),null;case 13:return k2(i,a,l);case 4:return Nt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=oi(a,null,c,l):ea(i,a,c,l),a.child;case 11:return E2(i,a,a.type,a.pendingProps,l);case 7:return ea(i,a,a.pendingProps,l),a.child;case 8:return ea(i,a,a.pendingProps.children,l),a.child;case 12:return ea(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Lo(a,a.type,c.value),ea(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,jo(a),m=Ar(m),c=c(m),a.flags|=1,ea(i,a,c,l),a.child;case 14:return T2(i,a,a.type,a.pendingProps,l);case 15:return C2(i,a,a.type,a.pendingProps,l);case 19:return O2(i,a,l);case 31:return Gw(i,a,l);case 22:return N2(i,a,l,a.pendingProps);case 24:return jo(a),c=Ar(Di),i===null?(m=X(),m===null&&(m=li,x=Wl(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=l),m=x),a.memoizedState={parent:c,cache:m},Zt(a),Lo(a,Di,m)):((i.lanes&l)!==0&&(di(i,a),zi(a,null,null,l),ei()),m=i.memoizedState,x=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Lo(a,Di,c)):(c=x.cache,Lo(a,Di,c),c!==m.cache&&hl(a,[Di],l,!0))),ea(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ml(i){i.flags|=4}function k1(i,a,l,c,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(c5())i.flags|=8192;else throw Pt=xt,Rt}else i.flags&=-16777217}function z2(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J5(a))if(c5())i.flags|=8192;else throw Pt=xt,Rt}function vd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ja():536870912,i.lanes|=a,Gc|=a)}function Qh(i,a){if(!pn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function mi(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function Ww(i,a,l){var c=a.pendingProps;switch(Nc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(a),null;case 1:return mi(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wa(Di),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Sr(a)?ml(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zh())),mi(a),null;case 26:var m=a.type,x=a.memoizedState;return i===null?(ml(a),x!==null?(mi(a),z2(a,x)):(mi(a),k1(a,m,null,c,l))):x?x!==i.memoizedState?(ml(a),mi(a),z2(a,x)):(mi(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&ml(a),mi(a),k1(a,m,i,c,l)),null;case 27:if(Kt(a),l=ht.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ml(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return mi(a),null}i=W.current,Sr(a)?Ph(a):(i=G5(m,c,l),a.stateNode=i,ml(a))}return mi(a),null;case 5:if(Kt(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ml(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return mi(a),null}if(x=W.current,Sr(a))Ph(a);else{var D=jd(ht.current);switch(x){case 1:x=D.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=D.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=D.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?D.createElement("select",{is:c.is}):D.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?D.createElement(m,{is:c.is}):D.createElement(m)}}x[kn]=a,x[Gn]=c;t:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)x.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break t;for(;D.sibling===null;){if(D.return===null||D.return===a)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=x;t:switch(na(x,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ml(a)}}return mi(a),k1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&ml(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=ht.current,Sr(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=wr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[kn]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||k5(i.nodeValue,l)),i||Ro(a,!0)}else i=jd(i).createTextNode(c),i[kn]=a,a.stateNode=i}return mi(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=Sr(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kn]=a}else cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mi(a),i=!1}else l=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Wn(a),a):(Wn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return mi(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Sr(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[kn]=a}else cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mi(a),m=!1}else m=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Wn(a),a):(Wn(a),null)}return Wn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),vd(a,a.updateQueue),mi(a),null);case 4:return Ct(),i===null&&ng(a.stateNode.containerInfo),mi(a),null;case 10:return Wa(a.type),mi(a),null;case 19:if(k(An),c=a.memoizedState,c===null)return mi(a),null;if(m=(a.flags&128)!==0,x=c.rendering,x===null)if(m)Qh(c,!1);else{if(qi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=Fr(i),x!==null){for(a.flags|=128,Qh(c,!1),i=x.updateQueue,a.updateQueue=i,vd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Fu(l,i),l=l.sibling;return z(An,An.current&1|2),pn&&La(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&We()>Sd&&(a.flags|=128,m=!0,Qh(c,!1),a.lanes=4194304)}else{if(!m)if(i=Fr(x),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,vd(a,i),Qh(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!pn)return mi(a),null}else 2*We()-c.renderingStartTime>Sd&&l!==536870912&&(a.flags|=128,m=!0,Qh(c,!1),a.lanes=4194304);c.isBackwards?(x.sibling=a.child,a.child=x):(i=c.last,i!==null?i.sibling=x:a.child=x,c.last=x)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=We(),i.sibling=null,l=An.current,z(An,m?l&1|2:l&1),pn&&La(a,c.treeForkCount),i):(mi(a),null);case 22:case 23:return Wn(a),Xi(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(mi(a),a.subtreeFlags&6&&(a.flags|=8192)):mi(a),l=a.updateQueue,l!==null&&vd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&k(Y),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Wa(Di),mi(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function $w(i,a){switch(Nc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wa(Di),Ct(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Kt(a),null;case 31:if(a.memoizedState!==null){if(Wn(a),a.alternate===null)throw Error(r(340));cl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Wn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));cl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return k(An),null;case 4:return Ct(),null;case 10:return Wa(a.type),null;case 22:case 23:return Wn(a),Xi(),i!==null&&k(Y),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wa(Di),null;case 25:return null;default:return null}}function F2(i,a){switch(Nc(a),a.tag){case 3:Wa(Di),Ct();break;case 26:case 27:case 5:Kt(a);break;case 4:Ct();break;case 31:a.memoizedState!==null&&Wn(a);break;case 13:Wn(a);break;case 19:k(An);break;case 10:Wa(a.type);break;case 22:case 23:Wn(a),Xi(),i!==null&&k(Y);break;case 24:Wa(Di)}}function Xh(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var x=l.create,D=l.inst;c=x(),D.destroy=c}l=l.next}while(l!==m)}}catch(Q){Kn(a,a.return,Q)}}function Zl(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&i)===i){var D=c.inst,Q=D.destroy;if(Q!==void 0){D.destroy=void 0,m=a;var dt=l,Lt=Q;try{Lt()}catch(Bt){Kn(m,dt,Bt)}}}c=c.next}while(c!==x)}}catch(Bt){Kn(a,a.return,Bt)}}function B2(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Fi(a,l)}catch(c){Kn(i,i.return,c)}}}function U2(i,a,l){l.props=Yu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Kn(i,a,c)}}function Zh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Kn(i,a,m)}}function zo(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Kn(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Kn(i,a,m)}else l.current=null}function V2(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Kn(i,i.return,m)}}function M1(i,a,l){try{var c=i.stateNode;m3(c,i.type,l,a),c[Gn]=a}catch(m){Kn(i,i.return,m)}}function q2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&au(i.type)||i.tag===4}function O1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||q2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&au(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function P1(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Aa));else if(c!==4&&(c===27&&au(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(P1(i,a,l),i=i.sibling;i!==null;)P1(i,a,l),i=i.sibling}function bd(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&au(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(bd(i,a,l),i=i.sibling;i!==null;)bd(i,a,l),i=i.sibling}function H2(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);na(a,c,l),a[kn]=i,a[Gn]=l}catch(x){Kn(i,i.return,x)}}var yl=!1,ur=!1,z1=!1,G2=typeof WeakSet=="function"?WeakSet:Set,Br=null;function Kw(i,a){if(i=i.containerInfo,ag=Bd,i=to(i),ks(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var D=0,Q=-1,dt=-1,Lt=0,Bt=0,Ht=i,kt=null;e:for(;;){for(var Mt;Ht!==l||m!==0&&Ht.nodeType!==3||(Q=D+m),Ht!==x||c!==0&&Ht.nodeType!==3||(dt=D+c),Ht.nodeType===3&&(D+=Ht.nodeValue.length),(Mt=Ht.firstChild)!==null;)kt=Ht,Ht=Mt;for(;;){if(Ht===i)break e;if(kt===l&&++Lt===m&&(Q=D),kt===x&&++Bt===c&&(dt=D),(Mt=Ht.nextSibling)!==null)break;Ht=kt,kt=Ht.parentNode}Ht=Mt}l=Q===-1||dt===-1?null:{start:Q,end:dt}}else l=null}l=l||{start:0,end:0}}else l=null;for(sg={focusedElem:i,selectionRange:l},Bd=!1,Br=a;Br!==null;)if(a=Br,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Br=i;else for(;Br!==null;){switch(a=Br,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,m=x.memoizedProps,x=x.memoizedState,c=l.stateNode;try{var fe=Yu(l.type,m);i=c.getSnapshotBeforeUpdate(fe,x),c.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Kn(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)ug(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ug(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Br=i;break}Br=a.return}}function Y2(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:bl(i,l),c&4&&Xh(5,l);break;case 1:if(bl(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(D){Kn(l,l.return,D)}else{var m=Yu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Kn(l,l.return,D)}}c&64&&B2(l),c&512&&Zh(l,l.return);break;case 3:if(bl(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Fi(i,a)}catch(D){Kn(l,l.return,D)}}break;case 27:a===null&&c&4&&H2(l);case 26:case 5:bl(i,l),a===null&&c&4&&V2(l),c&512&&Zh(l,l.return);break;case 12:bl(i,l);break;case 31:bl(i,l),c&4&&K2(i,l);break;case 13:bl(i,l),c&4&&Q2(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=r3.bind(null,l),A3(i,l))));break;case 22:if(c=l.memoizedState!==null||yl,!c){a=a!==null&&a.memoizedState!==null||ur,m=yl;var x=ur;yl=c,(ur=a)&&!x?xl(i,l,(l.subtreeFlags&8772)!==0):bl(i,l),yl=m,ur=x}break;case 30:break;default:bl(i,l)}}function W2(i){var a=i.alternate;a!==null&&(i.alternate=null,W2(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&as(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ti=null,Ka=!1;function vl(i,a,l){for(l=l.child;l!==null;)$2(i,a,l),l=l.sibling}function $2(i,a,l){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:ur||zo(l,a),vl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ur||zo(l,a);var c=Ti,m=Ka;au(l.type)&&(Ti=l.stateNode,Ka=!1),vl(i,a,l),lf(l.stateNode),Ti=c,Ka=m;break;case 5:ur||zo(l,a);case 6:if(c=Ti,m=Ka,Ti=null,vl(i,a,l),Ti=c,Ka=m,Ti!==null)if(Ka)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(l.stateNode)}catch(x){Kn(l,a,x)}else try{Ti.removeChild(l.stateNode)}catch(x){Kn(l,a,x)}break;case 18:Ti!==null&&(Ka?(i=Ti,B5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Jc(i)):B5(Ti,l.stateNode));break;case 4:c=Ti,m=Ka,Ti=l.stateNode.containerInfo,Ka=!0,vl(i,a,l),Ti=c,Ka=m;break;case 0:case 11:case 14:case 15:Zl(2,l,a),ur||Zl(4,l,a),vl(i,a,l);break;case 1:ur||(zo(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&U2(l,a,c)),vl(i,a,l);break;case 21:vl(i,a,l);break;case 22:ur=(c=ur)||l.memoizedState!==null,vl(i,a,l),ur=c;break;default:vl(i,a,l)}}function K2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jc(i)}catch(l){Kn(a,a.return,l)}}}function Q2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jc(i)}catch(l){Kn(a,a.return,l)}}function Qw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new G2),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new G2),a;default:throw Error(r(435,i.tag))}}function xd(i,a){var l=Qw(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var m=a3.bind(null,i,c);c.then(m,m)}})}function Qa(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],x=i,D=a,Q=D;t:for(;Q!==null;){switch(Q.tag){case 27:if(au(Q.type)){Ti=Q.stateNode,Ka=!1;break t}break;case 5:Ti=Q.stateNode,Ka=!1;break t;case 3:case 4:Ti=Q.stateNode.containerInfo,Ka=!0;break t}Q=Q.return}if(Ti===null)throw Error(r(160));$2(x,D,m),Ti=null,Ka=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)X2(a,i),a=a.sibling}var lo=null;function X2(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qa(a,i),Xa(i),c&4&&(Zl(3,i,i.return),Xh(3,i),Zl(5,i,i.return));break;case 1:Qa(a,i),Xa(i),c&512&&(ur||l===null||zo(l,l.return)),c&64&&yl&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=lo;if(Qa(a,i),Xa(i),c&512&&(ur||l===null||zo(l,l.return)),c&4){var x=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){t:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Lr]||x[kn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(c),m.head.insertBefore(x,m.querySelector("head > title"))),na(x,c,l),x[kn]=i,fi(x),c=x;break t;case"link":var D=X5("link","href",m).get(c+(l.href||""));if(D){for(var Q=0;Q<D.length;Q++)if(x=D[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Q,1);break e}}x=m.createElement(c),na(x,c,l),m.head.appendChild(x);break;case"meta":if(D=X5("meta","content",m).get(c+(l.content||""))){for(Q=0;Q<D.length;Q++)if(x=D[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Q,1);break e}}x=m.createElement(c),na(x,c,l),m.head.appendChild(x);break;default:throw Error(r(468,c))}x[kn]=i,fi(x),c=x}i.stateNode=c}else Z5(m,i.type,i.stateNode);else i.stateNode=Q5(m,c,i.memoizedProps);else x!==c?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,c===null?Z5(m,i.type,i.stateNode):Q5(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&M1(i,i.memoizedProps,l.memoizedProps)}break;case 27:Qa(a,i),Xa(i),c&512&&(ur||l===null||zo(l,l.return)),l!==null&&c&4&&M1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Qa(a,i),Xa(i),c&512&&(ur||l===null||zo(l,l.return)),i.flags&32){m=i.stateNode;try{$i(m,"")}catch(fe){Kn(i,i.return,fe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,M1(i,m,l!==null?l.memoizedProps:m)),c&1024&&(z1=!0);break;case 6:if(Qa(a,i),Xa(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(fe){Kn(i,i.return,fe)}}break;case 3:if(Od=null,m=lo,lo=kd(a.containerInfo),Qa(a,i),lo=m,Xa(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Jc(a.containerInfo)}catch(fe){Kn(i,i.return,fe)}z1&&(z1=!1,Z2(i));break;case 4:c=lo,lo=kd(i.stateNode.containerInfo),Qa(a,i),Xa(i),lo=c;break;case 12:Qa(a,i),Xa(i);break;case 31:Qa(a,i),Xa(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xd(i,c)));break;case 13:Qa(a,i),Xa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wd=We()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xd(i,c)));break;case 22:m=i.memoizedState!==null;var dt=l!==null&&l.memoizedState!==null,Lt=yl,Bt=ur;if(yl=Lt||m,ur=Bt||dt,Qa(a,i),ur=Bt,yl=Lt,Xa(i),c&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||dt||yl||ur||Wu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){dt=l=a;try{if(x=dt.stateNode,m)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Q=dt.stateNode;var Ht=dt.memoizedProps.style,kt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Q.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(fe){Kn(dt,dt.return,fe)}}}else if(a.tag===6){if(l===null){dt=a;try{dt.stateNode.nodeValue=m?"":dt.memoizedProps}catch(fe){Kn(dt,dt.return,fe)}}}else if(a.tag===18){if(l===null){dt=a;try{var Mt=dt.stateNode;m?U5(Mt,!0):U5(dt.stateNode,!1)}catch(fe){Kn(dt,dt.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,xd(i,l))));break;case 19:Qa(a,i),Xa(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xd(i,c)));break;case 30:break;case 21:break;default:Qa(a,i),Xa(i)}}function Xa(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(q2(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,x=O1(i);bd(i,x,m);break;case 5:var D=l.stateNode;l.flags&32&&($i(D,""),l.flags&=-33);var Q=O1(i);bd(i,Q,D);break;case 3:case 4:var dt=l.stateNode.containerInfo,Lt=O1(i);P1(i,Lt,dt);break;default:throw Error(r(161))}}catch(Bt){Kn(i,i.return,Bt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Z2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Z2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function bl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Y2(i,a.alternate,a),a=a.sibling}function Wu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Zl(4,a,a.return),Wu(a);break;case 1:zo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&U2(a,a.return,l),Wu(a);break;case 27:lf(a.stateNode);case 26:case 5:zo(a,a.return),Wu(a);break;case 22:a.memoizedState===null&&Wu(a);break;case 30:Wu(a);break;default:Wu(a)}i=i.sibling}}function xl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,x=a,D=x.flags;switch(x.tag){case 0:case 11:case 15:xl(m,x,l),Xh(4,x);break;case 1:if(xl(m,x,l),c=x,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Lt){Kn(c,c.return,Lt)}if(c=x,m=c.updateQueue,m!==null){var Q=c.stateNode;try{var dt=m.shared.hiddenCallbacks;if(dt!==null)for(m.shared.hiddenCallbacks=null,m=0;m<dt.length;m++)zr(dt[m],Q)}catch(Lt){Kn(c,c.return,Lt)}}l&&D&64&&B2(x),Zh(x,x.return);break;case 27:H2(x);case 26:case 5:xl(m,x,l),l&&c===null&&D&4&&V2(x),Zh(x,x.return);break;case 12:xl(m,x,l);break;case 31:xl(m,x,l),l&&D&4&&K2(m,x);break;case 13:xl(m,x,l),l&&D&4&&Q2(m,x);break;case 22:x.memoizedState===null&&xl(m,x,l),Zh(x,x.return);break;case 30:break;default:xl(m,x,l)}a=a.sibling}}function F1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Vu(l))}function B1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Vu(i))}function uo(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)J2(i,a,l,c),a=a.sibling}function J2(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,l,c),m&2048&&Xh(9,a);break;case 1:uo(i,a,l,c);break;case 3:uo(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Vu(i)));break;case 12:if(m&2048){uo(i,a,l,c),i=a.stateNode;try{var x=a.memoizedProps,D=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(dt){Kn(a,a.return,dt)}}else uo(i,a,l,c);break;case 31:uo(i,a,l,c);break;case 13:uo(i,a,l,c);break;case 23:break;case 22:x=a.stateNode,D=a.alternate,a.memoizedState!==null?x._visibility&2?uo(i,a,l,c):Jh(i,a):x._visibility&2?uo(i,a,l,c):(x._visibility|=2,Vc(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&F1(D,a);break;case 24:uo(i,a,l,c),m&2048&&B1(a.alternate,a);break;default:uo(i,a,l,c)}}function Vc(i,a,l,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,D=a,Q=l,dt=c,Lt=D.flags;switch(D.tag){case 0:case 11:case 15:Vc(x,D,Q,dt,m),Xh(8,D);break;case 23:break;case 22:var Bt=D.stateNode;D.memoizedState!==null?Bt._visibility&2?Vc(x,D,Q,dt,m):Jh(x,D):(Bt._visibility|=2,Vc(x,D,Q,dt,m)),m&&Lt&2048&&F1(D.alternate,D);break;case 24:Vc(x,D,Q,dt,m),m&&Lt&2048&&B1(D.alternate,D);break;default:Vc(x,D,Q,dt,m)}a=a.sibling}}function Jh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Jh(l,c),m&2048&&F1(c.alternate,c);break;case 24:Jh(l,c),m&2048&&B1(c.alternate,c);break;default:Jh(l,c)}a=a.sibling}}var tf=8192;function qc(i,a,l){if(i.subtreeFlags&tf)for(i=i.child;i!==null;)t5(i,a,l),i=i.sibling}function t5(i,a,l){switch(i.tag){case 26:qc(i,a,l),i.flags&tf&&i.memoizedState!==null&&O3(l,lo,i.memoizedState,i.memoizedProps);break;case 5:qc(i,a,l);break;case 3:case 4:var c=lo;lo=kd(i.stateNode.containerInfo),qc(i,a,l),lo=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=tf,tf=16777216,qc(i,a,l),tf=c):qc(i,a,l));break;default:qc(i,a,l)}}function e5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ef(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Br=c,i5(c,i)}e5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n5(i),i=i.sibling}function n5(i){switch(i.tag){case 0:case 11:case 15:ef(i),i.flags&2048&&Zl(9,i,i.return);break;case 3:ef(i);break;case 12:ef(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,_d(i)):ef(i);break;default:ef(i)}}function _d(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Br=c,i5(c,i)}e5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Zl(8,a,a.return),_d(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_d(a));break;default:_d(a)}i=i.sibling}}function i5(i,a){for(;Br!==null;){var l=Br;switch(l.tag){case 0:case 11:case 15:Zl(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Br=c;else t:for(l=i;Br!==null;){c=Br;var m=c.sibling,x=c.return;if(W2(c),c===l){Br=null;break t}if(m!==null){m.return=x,Br=m;break t}Br=x}}}var Xw={getCacheForType:function(i){var a=Ar(Di),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Ar(Di).controller.signal}},Zw=typeof WeakMap=="function"?WeakMap:Map,Un=0,li=null,gn=null,bn=0,$n=0,gs=null,Jl=!1,Hc=!1,U1=!1,_l=0,qi=0,tu=0,$u=0,V1=0,ms=0,Gc=0,nf=null,Za=null,q1=!1,wd=0,r5=0,Sd=1/0,Ad=null,eu=null,Tr=0,nu=null,Yc=null,wl=0,H1=0,G1=null,a5=null,rf=0,Y1=null;function ys(){return(Un&2)!==0&&bn!==0?bn&-bn:rt.T!==null?Z1():Mi()}function s5(){if(ms===0)if((bn&536870912)===0||pn){var i=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),ms=i}else ms=536870912;return i=gi.current,i!==null&&(i.flags|=32),ms}function Ja(i,a,l){(i===li&&($n===2||$n===9)||i.cancelPendingCommit!==null)&&(Wc(i,0),iu(i,bn,ms,!1)),Ae(i,l),((Un&2)===0||i!==li)&&(i===li&&((Un&2)===0&&($u|=l),qi===4&&iu(i,bn,ms,!1)),Fo(i))}function o5(i,a,l){if((Un&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||pr(i,a),m=c?e3(i,a):$1(i,a,!0),x=c;do{if(m===0){Hc&&!c&&iu(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!Jw(l)){m=$1(i,a,!1),x=!1;continue}if(m===2){if(x=a,i.errorRecoveryDisabledLanes&x)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;t:{var Q=i;m=nf;var dt=Q.current.memoizedState.isDehydrated;if(dt&&(Wc(Q,D).flags|=256),D=$1(Q,D,!1),D!==2){if(U1&&!dt){Q.errorRecoveryDisabledLanes|=x,$u|=x,m=4;break t}x=Za,Za=m,x!==null&&(Za===null?Za=x:Za.push.apply(Za,x))}m=D}if(x=!1,m!==2)continue}}if(m===1){Wc(i,0),iu(i,a,0,!0);break}t:{switch(c=i,x=m,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:iu(c,a,ms,!Jl);break t;case 2:Za=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=wd+300-We(),10<m)){if(iu(c,a,ms,!Jl),sn(c,0,!0)!==0)break t;wl=a,c.timeoutHandle=z5(l5.bind(null,c,l,Za,Ad,q1,a,ms,$u,Gc,Jl,x,"Throttled",-0,0),m);break t}l5(c,l,Za,Ad,q1,a,ms,$u,Gc,Jl,x,null,-0,0)}}break}while(!0);Fo(i)}function l5(i,a,l,c,m,x,D,Q,dt,Lt,Bt,Ht,kt,Mt){if(i.timeoutHandle=-1,Ht=a.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},t5(a,x,Ht);var fe=(x&62914560)===x?wd-We():(x&4194048)===x?r5-We():0;if(fe=P3(Ht,fe),fe!==null){wl=x,i.cancelPendingCommit=fe(m5.bind(null,i,a,x,l,c,m,D,Q,dt,Bt,Ht,null,kt,Mt)),iu(i,x,D,!Lt);return}}m5(i,a,x,l,c,m,D,Q,dt)}function Jw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],x=m.getSnapshot;m=m.value;try{if(!xr(x(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function iu(i,a,l,c){a&=~V1,a&=~$u,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var x=31-$e(m),D=1<<x;c[x]=-1,m&=~D}l!==0&&qr(i,l,a)}function Ed(){return(Un&6)===0?(af(0),!1):!0}function W1(){if(gn!==null){if($n===0)var i=gn.return;else i=gn,Os=Io=null,Mc(i),Yt=null,pe=0,i=gn;for(;i!==null;)F2(i.alternate,i),i=i.return;gn=null}}function Wc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,b3(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),wl=0,W1(),li=i,gn=l=Ua(i.current,null),bn=a,$n=0,gs=null,Jl=!1,Hc=pr(i,a),U1=!1,Gc=ms=V1=$u=tu=qi=0,Za=nf=null,q1=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-$e(c),x=1<<m;a|=i[m],c&=~x}return _l=a,Ou(),l}function u5(i,a){Ie=null,rt.H=$h,a===yt||a===lt?(a=Ut(),$n=3):a===Rt?(a=Ut(),$n=4):$n=a===E1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gs=a,gn===null&&(qi=1,pd(i,Va(a,i.current)))}function c5(){var i=gi.current;return i===null?!0:(bn&4194048)===bn?Tn===null:(bn&62914560)===bn||(bn&536870912)!==0?i===Tn:!1}function h5(){var i=rt.H;return rt.H=$h,i===null?$h:i}function f5(){var i=rt.A;return rt.A=Xw,i}function Td(){qi=4,Jl||(bn&4194048)!==bn&&gi.current!==null||(Hc=!0),(tu&134217727)===0&&($u&134217727)===0||li===null||iu(li,bn,ms,!1)}function $1(i,a,l){var c=Un;Un|=2;var m=h5(),x=f5();(li!==i||bn!==a)&&(Ad=null,Wc(i,a)),a=!1;var D=qi;t:do try{if($n!==0&&gn!==null){var Q=gn,dt=gs;switch($n){case 8:W1(),D=6;break t;case 3:case 2:case 9:case 6:gi.current===null&&(a=!0);var Lt=$n;if($n=0,gs=null,$c(i,Q,dt,Lt),l&&Hc){D=0;break t}break;default:Lt=$n,$n=0,gs=null,$c(i,Q,dt,Lt)}}t3(),D=qi;break}catch(Bt){u5(i,Bt)}while(!0);return a&&i.shellSuspendCounter++,Os=Io=null,Un=c,rt.H=m,rt.A=x,gn===null&&(li=null,bn=0,Ou()),D}function t3(){for(;gn!==null;)d5(gn)}function e3(i,a){var l=Un;Un|=2;var c=h5(),m=f5();li!==i||bn!==a?(Ad=null,Sd=We()+500,Wc(i,a)):Hc=pr(i,a);t:do try{if($n!==0&&gn!==null){a=gn;var x=gs;e:switch($n){case 1:$n=0,gs=null,$c(i,a,x,1);break;case 2:case 9:if(Et(x)){$n=0,gs=null,p5(a);break}a=function(){$n!==2&&$n!==9||li!==i||($n=7),Fo(i)},x.then(a,a);break t;case 3:$n=7;break t;case 4:$n=5;break t;case 7:Et(x)?($n=0,gs=null,p5(a)):($n=0,gs=null,$c(i,a,x,7));break;case 5:var D=null;switch(gn.tag){case 26:D=gn.memoizedState;case 5:case 27:var Q=gn;if(D?J5(D):Q.stateNode.complete){$n=0,gs=null;var dt=Q.sibling;if(dt!==null)gn=dt;else{var Lt=Q.return;Lt!==null?(gn=Lt,Cd(Lt)):gn=null}break e}}$n=0,gs=null,$c(i,a,x,5);break;case 6:$n=0,gs=null,$c(i,a,x,6);break;case 8:W1(),qi=6;break t;default:throw Error(r(462))}}n3();break}catch(Bt){u5(i,Bt)}while(!0);return Os=Io=null,rt.H=c,rt.A=m,Un=l,gn!==null?0:(li=null,bn=0,Ou(),qi)}function n3(){for(;gn!==null&&!Ne();)d5(gn)}function d5(i){var a=P2(i.alternate,i,_l);i.memoizedProps=i.pendingProps,a===null?Cd(i):gn=a}function p5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=L2(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=L2(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:Mc(a);default:F2(l,a),a=gn=Fu(a,_l),a=P2(l,a,_l)}i.memoizedProps=i.pendingProps,a===null?Cd(i):gn=a}function $c(i,a,l,c){Os=Io=null,Mc(a),Yt=null,pe=0;var m=a.return;try{if(Hw(i,m,a,l,bn)){qi=1,pd(i,Va(l,i.current)),gn=null;return}}catch(x){if(m!==null)throw gn=m,x;qi=1,pd(i,Va(l,i.current)),gn=null;return}a.flags&32768?(pn||c===1?i=!0:Hc||(bn&536870912)!==0?i=!1:(Jl=i=!0,(c===2||c===9||c===3||c===6)&&(c=gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),g5(a,i)):Cd(a)}function Cd(i){var a=i;do{if((a.flags&32768)!==0){g5(a,Jl);return}i=a.return;var l=Ww(a.alternate,a,_l);if(l!==null){gn=l;return}if(a=a.sibling,a!==null){gn=a;return}gn=a=i}while(a!==null);qi===0&&(qi=5)}function g5(i,a){do{var l=$w(i.alternate,i);if(l!==null){l.flags&=32767,gn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){gn=i;return}gn=i=l}while(i!==null);qi=6,gn=null}function m5(i,a,l,c,m,x,D,Q,dt){i.cancelPendingCommit=null;do Nd();while(Tr!==0);if((Un&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=_c,rs(i,l,x,D,Q,dt),i===li&&(gn=li=null,bn=0),Yc=a,nu=i,wl=l,H1=x,G1=m,a5=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s3(Ke,function(){return _5(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,m=ft.p,ft.p=2,D=Un,Un|=4;try{Kw(i,a,l)}finally{Un=D,ft.p=m,rt.T=c}}Tr=1,y5(),v5(),b5()}}function y5(){if(Tr===1){Tr=0;var i=nu,a=Yc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=rt.T,rt.T=null;var c=ft.p;ft.p=2;var m=Un;Un|=4;try{X2(a,i);var x=sg,D=to(i.containerInfo),Q=x.focusedElem,dt=x.selectionRange;if(D!==Q&&Q&&Q.ownerDocument&&Js(Q.ownerDocument.documentElement,Q)){if(dt!==null&&ks(Q)){var Lt=dt.start,Bt=dt.end;if(Bt===void 0&&(Bt=Lt),"selectionStart"in Q)Q.selectionStart=Lt,Q.selectionEnd=Math.min(Bt,Q.value.length);else{var Ht=Q.ownerDocument||document,kt=Ht&&Ht.defaultView||window;if(kt.getSelection){var Mt=kt.getSelection(),fe=Q.textContent.length,Fe=Math.min(dt.start,fe),ri=dt.end===void 0?Fe:Math.min(dt.end,fe);!Mt.extend&&Fe>ri&&(D=ri,ri=Fe,Fe=D);var wt=Ul(Q,Fe),vt=Ul(Q,ri);if(wt&&vt&&(Mt.rangeCount!==1||Mt.anchorNode!==wt.node||Mt.anchorOffset!==wt.offset||Mt.focusNode!==vt.node||Mt.focusOffset!==vt.offset)){var It=Ht.createRange();It.setStart(wt.node,wt.offset),Mt.removeAllRanges(),Fe>ri?(Mt.addRange(It),Mt.extend(vt.node,vt.offset)):(It.setEnd(vt.node,vt.offset),Mt.addRange(It))}}}}for(Ht=[],Mt=Q;Mt=Mt.parentNode;)Mt.nodeType===1&&Ht.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ht.length;Q++){var qt=Ht[Q];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Bd=!!ag,sg=ag=null}finally{Un=m,ft.p=c,rt.T=l}}i.current=a,Tr=2}}function v5(){if(Tr===2){Tr=0;var i=nu,a=Yc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=rt.T,rt.T=null;var c=ft.p;ft.p=2;var m=Un;Un|=4;try{Y2(i,a.alternate,a)}finally{Un=m,ft.p=c,rt.T=l}}Tr=3}}function b5(){if(Tr===4||Tr===3){Tr=0,_e();var i=nu,a=Yc,l=wl,c=a5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tr=5:(Tr=0,Yc=nu=null,x5(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(eu=null),Xn(l),a=a.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Qe,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=rt.T,m=ft.p,ft.p=2,rt.T=null;try{for(var x=i.onRecoverableError,D=0;D<c.length;D++){var Q=c[D];x(Q.value,{componentStack:Q.stack})}}finally{rt.T=a,ft.p=m}}(wl&3)!==0&&Nd(),Fo(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===Y1?rf++:(rf=0,Y1=i):rf=0,af(0)}}function x5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Vu(a)))}function Nd(){return y5(),v5(),b5(),_5()}function _5(){if(Tr!==5)return!1;var i=nu,a=H1;H1=0;var l=Xn(wl),c=rt.T,m=ft.p;try{ft.p=32>l?32:l,rt.T=null,l=G1,G1=null;var x=nu,D=wl;if(Tr=0,Yc=nu=null,wl=0,(Un&6)!==0)throw Error(r(331));var Q=Un;if(Un|=4,n5(x.current),J2(x,x.current,D,l),Un=Q,af(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Qe,x)}catch{}return!0}finally{ft.p=m,rt.T=c,x5(i,a)}}function w5(i,a,l){a=Va(l,a),a=A1(i.stateNode,a,2),i=rn(i,a,2),i!==null&&(Ae(i,2),Fo(i))}function Kn(i,a,l){if(i.tag===3)w5(i,i,l);else for(;a!==null;){if(a.tag===3){w5(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(eu===null||!eu.has(c))){i=Va(l,i),l=S2(2),c=rn(a,l,2),c!==null&&(A2(l,c,a,i),Ae(c,2),Fo(c));break}}a=a.return}}function K1(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Zw;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(U1=!0,m.add(l),i=i3.bind(null,i,a,l),a.then(i,i))}function i3(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,li===i&&(bn&l)===l&&(qi===4||qi===3&&(bn&62914560)===bn&&300>We()-wd?(Un&2)===0&&Wc(i,0):V1|=l,Gc===bn&&(Gc=0)),Fo(i)}function S5(i,a){a===0&&(a=ja()),i=no(i,a),i!==null&&(Ae(i,a),Fo(i))}function r3(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),S5(i,l)}function a3(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),S5(i,l)}function s3(i,a){return re(i,a)}var Rd=null,Kc=null,Q1=!1,Id=!1,X1=!1,ru=0;function Fo(i){i!==Kc&&i.next===null&&(Kc===null?Rd=Kc=i:Kc=Kc.next=i),Id=!0,Q1||(Q1=!0,l3())}function af(i,a){if(!X1&&Id){X1=!0;do for(var l=!1,c=Rd;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var x=0;else{var D=c.suspendedLanes,Q=c.pingedLanes;x=(1<<31-$e(42|i)+1)-1,x&=m&~(D&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,C5(c,x))}else x=bn,x=sn(c,c===li?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||pr(c,x)||(l=!0,C5(c,x));c=c.next}while(l);X1=!1}}function o3(){A5()}function A5(){Id=Q1=!1;var i=0;ru!==0&&v3()&&(i=ru);for(var a=We(),l=null,c=Rd;c!==null;){var m=c.next,x=E5(c,a);x===0?(c.next=null,l===null?Rd=m:l.next=m,m===null&&(Kc=l)):(l=c,(i!==0||(x&3)!==0)&&(Id=!0)),c=m}Tr!==0&&Tr!==5||af(i),ru!==0&&(ru=0)}function E5(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var D=31-$e(x),Q=1<<D,dt=m[D];dt===-1?((Q&l)===0||(Q&c)!==0)&&(m[D]=nr(Q,a)):dt<=a&&(i.expiredLanes|=Q),x&=~Q}if(a=li,l=bn,l=sn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&($n===2||$n===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ie(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&ie(c),Xn(l)){case 2:case 8:l=an;break;case 32:l=Ke;break;case 268435456:l=qe;break;default:l=Ke}return c=T5.bind(null,i),l=re(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&ie(c),i.callbackPriority=2,i.callbackNode=null,2}function T5(i,a){if(Tr!==0&&Tr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Nd()&&i.callbackNode!==l)return null;var c=bn;return c=sn(i,i===li?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(o5(i,c,a),E5(i,We()),i.callbackNode!=null&&i.callbackNode===l?T5.bind(null,i):null)}function C5(i,a){if(Nd())return null;o5(i,a,!0)}function l3(){x3(function(){(Un&6)!==0?re(Be,o3):A5()})}function Z1(){if(ru===0){var i=p;i===0&&(i=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),ru=i}return ru}function N5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jr(""+i)}function R5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function u3(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var x=N5((m[Gn]||null).action),D=c.submitter;D&&(a=(a=D[Gn]||null)?N5(a.formAction):D.getAttribute("formAction"),a!==null&&(x=a,D=null));var Q=new ar("action","action",null,c,m);i.push({event:Q,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ru!==0){var dt=D?R5(m,D):new FormData(m);v1(l,{pending:!0,data:dt,method:m.method,action:x},null,dt)}}else typeof x=="function"&&(Q.preventDefault(),dt=D?R5(m,D):new FormData(m),v1(l,{pending:!0,data:dt,method:m.method,action:x},x,dt))},currentTarget:m}]})}}for(var J1=0;J1<ol.length;J1++){var tg=ol[J1],c3=tg.toLowerCase(),h3=tg[0].toUpperCase()+tg.slice(1);Ba(c3,"on"+h3)}Ba(sl,"onAnimationEnd"),Ba(ku,"onAnimationIteration"),Ba(jh,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(ed,"onTransitionRun"),Ba(nd,"onTransitionStart"),Ba(id,"onTransitionCancel"),Ba(kh,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sf));function I5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;t:{var x=void 0;if(a)for(var D=c.length-1;0<=D;D--){var Q=c[D],dt=Q.instance,Lt=Q.currentTarget;if(Q=Q.listener,dt!==x&&m.isPropagationStopped())break t;x=Q,m.currentTarget=Lt;try{x(m)}catch(Bt){Mu(Bt)}m.currentTarget=null,x=dt}else for(D=0;D<c.length;D++){if(Q=c[D],dt=Q.instance,Lt=Q.currentTarget,Q=Q.listener,dt!==x&&m.isPropagationStopped())break t;x=Q,m.currentTarget=Lt;try{x(m)}catch(Bt){Mu(Bt)}m.currentTarget=null,x=dt}}}}function mn(i,a){var l=a[Ir];l===void 0&&(l=a[Ir]=new Set);var c=i+"__bubble";l.has(c)||(L5(a,i,2,!1),l.add(c))}function eg(i,a,l){var c=0;a&&(c|=4),L5(l,i,c,a)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function ng(i){if(!i[Ld]){i[Ld]=!0,vo.forEach(function(l){l!=="selectionchange"&&(f3.has(l)||eg(l,!1,i),eg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ld]||(a[Ld]=!0,eg("selectionchange",!1,a))}}function L5(i,a,l,c){switch(sy(a)){case 2:var m=B3;break;case 8:m=U3;break;default:m=yg}l=m.bind(null,a,l,i),m=void 0,!Ys||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function ig(i,a,l,c,m){var x=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var D=c.tag;if(D===3||D===4){var Q=c.stateNode.containerInfo;if(Q===m)break;if(D===4)for(D=c.return;D!==null;){var dt=D.tag;if((dt===3||dt===4)&&D.stateNode.containerInfo===m)return;D=D.return}for(;Q!==null;){if(D=Hr(Q),D===null)return;if(dt=D.tag,dt===5||dt===6||dt===26||dt===27){c=x=D;continue t}Q=Q.parentNode}}c=c.return}Ts(function(){var Lt=x,Bt=kr(l),Ht=[];t:{var kt=Mh.get(i);if(kt!==void 0){var Mt=ar,fe=i;switch(i){case"keypress":if($r(l)===0)break t;case"keydown":case"keyup":Mt=fn;break;case"focusin":fe="focus",Mt=Ta;break;case"focusout":fe="blur",Mt=Ta;break;case"beforeblur":case"afterblur":Mt=Ta;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=C;break;case sl:case ku:case jh:Mt=S;break;case kh:Mt=Z;break;case"scroll":case"scrollend":Mt=Cs;break;case"wheel":Mt=jt;break;case"copy":case"cut":case"paste":Mt=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=qn;break;case"toggle":case"beforetoggle":Mt=Ve}var Fe=(a&4)!==0,ri=!Fe&&(i==="scroll"||i==="scrollend"),wt=Fe?kt!==null?kt+"Capture":null:kt;Fe=[];for(var vt=Lt,It;vt!==null;){var qt=vt;if(It=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||It===null||wt===null||(qt=Ki(vt,wt),qt!=null&&Fe.push(of(vt,qt,It))),ri)break;vt=vt.return}0<Fe.length&&(kt=new Mt(kt,fe,null,l,Bt),Ht.push({event:kt,listeners:Fe}))}}if((a&7)===0){t:{if(kt=i==="mouseover"||i==="pointerover",Mt=i==="mouseout"||i==="pointerout",kt&&l!==us&&(fe=l.relatedTarget||l.fromElement)&&(Hr(fe)||fe[Oi]))break t;if((Mt||kt)&&(kt=Bt.window===Bt?Bt:(kt=Bt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Mt?(fe=l.relatedTarget||l.toElement,Mt=Lt,fe=fe?Hr(fe):null,fe!==null&&(ri=o(fe),Fe=fe.tag,fe!==ri||Fe!==5&&Fe!==27&&Fe!==6)&&(fe=null)):(Mt=null,fe=Lt),Mt!==fe)){if(Fe=Ao,qt="onMouseLeave",wt="onMouseEnter",vt="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=qn,qt="onPointerLeave",wt="onPointerEnter",vt="pointer"),ri=Mt==null?kt:Gr(Mt),It=fe==null?kt:Gr(fe),kt=new Fe(qt,vt+"leave",Mt,l,Bt),kt.target=ri,kt.relatedTarget=It,qt=null,Hr(Bt)===Lt&&(Fe=new Fe(wt,vt+"enter",fe,l,Bt),Fe.target=It,Fe.relatedTarget=ri,qt=Fe),ri=qt,Mt&&fe)e:{for(Fe=d3,wt=Mt,vt=fe,It=0,qt=wt;qt;qt=Fe(qt))It++;qt=0;for(var je=vt;je;je=Fe(je))qt++;for(;0<It-qt;)wt=Fe(wt),It--;for(;0<qt-It;)vt=Fe(vt),qt--;for(;It--;){if(wt===vt||vt!==null&&wt===vt.alternate){Fe=wt;break e}wt=Fe(wt),vt=Fe(vt)}Fe=null}else Fe=null;Mt!==null&&D5(Ht,kt,Mt,Fe,!1),fe!==null&&ri!==null&&D5(Ht,ri,fe,Fe,!0)}}t:{if(kt=Lt?Gr(Lt):window,Mt=kt.nodeName&&kt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&kt.type==="file")var Pn=To;else if(Du(kt))if(ha)Pn=Ds;else{Pn=Ii;var xe=Fl}else Mt=kt.nodeName,!Mt||Mt.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?Lt&&_o(Lt.elementType)&&(Pn=To):Pn=xc;if(Pn&&(Pn=Pn(i,Lt))){Na(Ht,Pn,l,Bt);break t}xe&&xe(i,kt,Lt),i==="focusout"&&Lt&&kt.type==="number"&&Lt.memoizedProps.value!=null&&Jo(kt,"number",kt.value)}switch(xe=Lt?Gr(Lt):window,i){case"focusin":(Du(xe)||xe.contentEditable==="true")&&(Ra=xe,eo=Lt,Mr=null);break;case"focusout":Mr=eo=Ra=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,Ln(Ht,l,Bt);break;case"selectionchange":if(al)break;case"keydown":case"keyup":Ln(Ht,l,Bt)}var on;if(ln)t:{switch(i){case"compositionstart":var xn="onCompositionStart";break t;case"compositionend":xn="onCompositionEnd";break t;case"compositionupdate":xn="onCompositionUpdate";break t}xn=void 0}else Rs?Ca(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(vr&&l.locale!=="ko"&&(Rs||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Rs&&(on=il()):(Wr=Bt,Ws="value"in Wr?Wr.value:Wr.textContent,Rs=!0)),xe=Dd(Lt,xn),0<xe.length&&(xn=new _t(xn,i,null,l,Bt),Ht.push({event:xn,listeners:xe}),on?xn.data=on:(on=Ns(l),on!==null&&(xn.data=on)))),(on=sr?Xr(i,l):Ks(i,l))&&(xn=Dd(Lt,"onBeforeInput"),0<xn.length&&(xe=new _t("onBeforeInput","beforeinput",null,l,Bt),Ht.push({event:xe,listeners:xn}),xe.data=on)),u3(Ht,i,Lt,l,Bt)}I5(Ht,a)})}function of(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Dd(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Ki(i,l),m!=null&&c.unshift(of(i,m,x)),m=Ki(i,a),m!=null&&c.push(of(i,m,x))),i.tag===3)return c;i=i.return}return[]}function d3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function D5(i,a,l,c,m){for(var x=a._reactName,D=[];l!==null&&l!==c;){var Q=l,dt=Q.alternate,Lt=Q.stateNode;if(Q=Q.tag,dt!==null&&dt===c)break;Q!==5&&Q!==26&&Q!==27||Lt===null||(dt=Lt,m?(Lt=Ki(l,x),Lt!=null&&D.unshift(of(l,Lt,dt))):m||(Lt=Ki(l,x),Lt!=null&&D.push(of(l,Lt,dt)))),l=l.return}D.length!==0&&i.push({event:a,listeners:D})}var p3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function j5(i){return(typeof i=="string"?i:""+i).replace(p3,`
`).replace(g3,"")}function k5(i,a){return a=j5(a),j5(i)===a}function ii(i,a,l,c,m,x){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||$i(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&$i(i,""+c);break;case"className":rr(i,"class",c);break;case"tabIndex":rr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(i,l,c);break;case"style":nl(i,c,x);break;case"data":if(a!=="object"){rr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=jr(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ii(i,a,"name",m.name,m,null),ii(i,a,"formEncType",m.formEncType,m,null),ii(i,a,"formMethod",m.formMethod,m,null),ii(i,a,"formTarget",m.formTarget,m,null)):(ii(i,a,"encType",m.encType,m,null),ii(i,a,"method",m.method,m,null),ii(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=jr(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Aa);break;case"onScroll":c!=null&&mn("scroll",i);break;case"onScrollEnd":c!=null&&mn("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=jr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":mn("beforetoggle",i),mn("toggle",i),Yr(i,"popover",c);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wo.get(l)||l,Yr(i,l,c))}}function rg(i,a,l,c,m,x){switch(l){case"style":nl(i,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?$i(i,c):(typeof c=="number"||typeof c=="bigint")&&$i(i,""+c);break;case"onScroll":c!=null&&mn("scroll",i);break;case"onScrollEnd":c!=null&&mn("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),x=i[Gn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,m),typeof c=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break t}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Yr(i,l,c)}}}function na(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",i),mn("load",i);var c=!1,m=!1,x;for(x in l)if(l.hasOwnProperty(x)){var D=l[x];if(D!=null)switch(x){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ii(i,a,x,D,l,null)}}m&&ii(i,a,"srcSet",l.srcSet,l,null),c&&ii(i,a,"src",l.src,l,null);return;case"input":mn("invalid",i);var Q=x=D=m=null,dt=null,Lt=null;for(c in l)if(l.hasOwnProperty(c)){var Bt=l[c];if(Bt!=null)switch(c){case"name":m=Bt;break;case"type":D=Bt;break;case"checked":dt=Bt;break;case"defaultChecked":Lt=Bt;break;case"value":x=Bt;break;case"defaultValue":Q=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,a));break;default:ii(i,a,c,Bt,l,null)}}Ol(i,x,Q,dt,Lt,D,m,!1);return;case"select":mn("invalid",i),c=D=x=null;for(m in l)if(l.hasOwnProperty(m)&&(Q=l[m],Q!=null))switch(m){case"value":x=Q;break;case"defaultValue":D=Q;break;case"multiple":c=Q;default:ii(i,a,m,Q,l,null)}a=x,l=D,i.multiple=!!c,a!=null?yr(i,!!c,a,!1):l!=null&&yr(i,!!c,l,!0);return;case"textarea":mn("invalid",i),x=m=c=null;for(D in l)if(l.hasOwnProperty(D)&&(Q=l[D],Q!=null))switch(D){case"value":c=Q;break;case"defaultValue":m=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:ii(i,a,D,Q,l,null)}os(i,c,m,x);return;case"option":for(dt in l)l.hasOwnProperty(dt)&&(c=l[dt],c!=null)&&(dt==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ii(i,a,dt,c,l,null));return;case"dialog":mn("beforetoggle",i),mn("toggle",i),mn("cancel",i),mn("close",i);break;case"iframe":case"object":mn("load",i);break;case"video":case"audio":for(c=0;c<sf.length;c++)mn(sf[c],i);break;case"image":mn("error",i),mn("load",i);break;case"details":mn("toggle",i);break;case"embed":case"source":case"link":mn("error",i),mn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Lt in l)if(l.hasOwnProperty(Lt)&&(c=l[Lt],c!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ii(i,a,Lt,c,l,null)}return;default:if(_o(a)){for(Bt in l)l.hasOwnProperty(Bt)&&(c=l[Bt],c!==void 0&&rg(i,a,Bt,c,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(c=l[Q],c!=null&&ii(i,a,Q,c,l,null))}function m3(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,D=null,Q=null,dt=null,Lt=null,Bt=null;for(Mt in l){var Ht=l[Mt];if(l.hasOwnProperty(Mt)&&Ht!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":dt=Ht;default:c.hasOwnProperty(Mt)||ii(i,a,Mt,null,c,Ht)}}for(var kt in c){var Mt=c[kt];if(Ht=l[kt],c.hasOwnProperty(kt)&&(Mt!=null||Ht!=null))switch(kt){case"type":x=Mt;break;case"name":m=Mt;break;case"checked":Lt=Mt;break;case"defaultChecked":Bt=Mt;break;case"value":D=Mt;break;case"defaultValue":Q=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(r(137,a));break;default:Mt!==Ht&&ii(i,a,kt,Mt,c,Ht)}}Hs(i,D,Q,dt,Lt,Bt,x,m);return;case"select":Mt=D=Q=kt=null;for(x in l)if(dt=l[x],l.hasOwnProperty(x)&&dt!=null)switch(x){case"value":break;case"multiple":Mt=dt;default:c.hasOwnProperty(x)||ii(i,a,x,null,c,dt)}for(m in c)if(x=c[m],dt=l[m],c.hasOwnProperty(m)&&(x!=null||dt!=null))switch(m){case"value":kt=x;break;case"defaultValue":Q=x;break;case"multiple":D=x;default:x!==dt&&ii(i,a,m,x,c,dt)}a=Q,l=D,c=Mt,kt!=null?yr(i,!!l,kt,!1):!!c!=!!l&&(a!=null?yr(i,!!l,a,!0):yr(i,!!l,l?[]:"",!1));return;case"textarea":Mt=kt=null;for(Q in l)if(m=l[Q],l.hasOwnProperty(Q)&&m!=null&&!c.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ii(i,a,Q,null,c,m)}for(D in c)if(m=c[D],x=l[D],c.hasOwnProperty(D)&&(m!=null||x!=null))switch(D){case"value":kt=m;break;case"defaultValue":Mt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==x&&ii(i,a,D,m,c,x)}tl(i,kt,Mt);return;case"option":for(var fe in l)kt=l[fe],l.hasOwnProperty(fe)&&kt!=null&&!c.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:ii(i,a,fe,null,c,kt));for(dt in c)kt=c[dt],Mt=l[dt],c.hasOwnProperty(dt)&&kt!==Mt&&(kt!=null||Mt!=null)&&(dt==="selected"?i.selected=kt&&typeof kt!="function"&&typeof kt!="symbol":ii(i,a,dt,kt,c,Mt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)kt=l[Fe],l.hasOwnProperty(Fe)&&kt!=null&&!c.hasOwnProperty(Fe)&&ii(i,a,Fe,null,c,kt);for(Lt in c)if(kt=c[Lt],Mt=l[Lt],c.hasOwnProperty(Lt)&&kt!==Mt&&(kt!=null||Mt!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(r(137,a));break;default:ii(i,a,Lt,kt,c,Mt)}return;default:if(_o(a)){for(var ri in l)kt=l[ri],l.hasOwnProperty(ri)&&kt!==void 0&&!c.hasOwnProperty(ri)&&rg(i,a,ri,void 0,c,kt);for(Bt in c)kt=c[Bt],Mt=l[Bt],!c.hasOwnProperty(Bt)||kt===Mt||kt===void 0&&Mt===void 0||rg(i,a,Bt,kt,c,Mt);return}}for(var wt in l)kt=l[wt],l.hasOwnProperty(wt)&&kt!=null&&!c.hasOwnProperty(wt)&&ii(i,a,wt,null,c,kt);for(Ht in c)kt=c[Ht],Mt=l[Ht],!c.hasOwnProperty(Ht)||kt===Mt||kt==null&&Mt==null||ii(i,a,Ht,kt,c,Mt)}function M5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],x=m.transferSize,D=m.initiatorType,Q=m.duration;if(x&&Q&&M5(D)){for(D=0,Q=m.responseEnd,c+=1;c<l.length;c++){var dt=l[c],Lt=dt.startTime;if(Lt>Q)break;var Bt=dt.transferSize,Ht=dt.initiatorType;Bt&&M5(Ht)&&(dt=dt.responseEnd,D+=Bt*(dt<Q?1:(Q-Lt)/(dt-Lt)))}if(--c,a+=8*(x+D)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ag=null,sg=null;function jd(i){return i.nodeType===9?i:i.ownerDocument}function O5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function og(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lg=null;function v3(){var i=window.event;return i&&i.type==="popstate"?i===lg?!1:(lg=i,!0):(lg=null,!1)}var z5=typeof setTimeout=="function"?setTimeout:void 0,b3=typeof clearTimeout=="function"?clearTimeout:void 0,F5=typeof Promise=="function"?Promise:void 0,x3=typeof queueMicrotask=="function"?queueMicrotask:typeof F5<"u"?function(i){return F5.resolve(null).then(i).catch(_3)}:z5;function _3(i){setTimeout(function(){throw i})}function au(i){return i==="head"}function B5(i,a){var l=a,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(m),Jc(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")lf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,lf(l);for(var x=l.firstChild;x;){var D=x.nextSibling,Q=x.nodeName;x[Lr]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=D}}else l==="body"&&lf(i.ownerDocument.body);l=m}while(l);Jc(a)}function U5(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function ug(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ug(l),as(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function w3(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Lr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Fs(i.nextSibling),i===null)break}return null}function S3(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Fs(i.nextSibling),i===null))return null;return i}function V5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Fs(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$?"||i.data==="$~"}function hg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function A3(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Fs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var fg=null;function q5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Fs(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function H5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function G5(i,a,l){switch(a=jd(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function lf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);as(i)}var Bs=new Map,Y5=new Set;function kd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Sl=ft.d;ft.d={f:E3,r:T3,D:C3,C:N3,L:R3,m:I3,X:D3,S:L3,M:j3};function E3(){var i=Sl.f(),a=Ed();return i||a}function T3(i){var a=mr(i);a!==null&&a.tag===5&&a.type==="form"?u2(a):Sl.r(i)}var Qc=typeof document>"u"?null:document;function W5(i,a,l){var c=Qc;if(c&&typeof a=="string"&&a){var m=wi(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Y5.has(m)||(Y5.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),na(a,"link",i),fi(a),c.head.appendChild(a)))}}function C3(i){Sl.D(i),W5("dns-prefetch",i,null)}function N3(i,a){Sl.C(i,a),W5("preconnect",i,a)}function R3(i,a,l){Sl.L(i,a,l);var c=Qc;if(c&&i&&a){var m='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+wi(l.imageSizes)+'"]')):m+='[href="'+wi(i)+'"]';var x=m;switch(a){case"style":x=Xc(i);break;case"script":x=Zc(i)}Bs.has(x)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Bs.set(x,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(uf(x))||a==="script"&&c.querySelector(cf(x))||(a=c.createElement("link"),na(a,"link",i),fi(a),c.head.appendChild(a)))}}function I3(i,a){Sl.m(i,a);var l=Qc;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+wi(c)+'"][href="'+wi(i)+'"]',x=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Zc(i)}if(!Bs.has(x)&&(i=A({rel:"modulepreload",href:i},a),Bs.set(x,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cf(x)))return}c=l.createElement("link"),na(c,"link",i),fi(c),l.head.appendChild(c)}}}function L3(i,a,l){Sl.S(i,a,l);var c=Qc;if(c&&i){var m=oa(c).hoistableStyles,x=Xc(i);a=a||"default";var D=m.get(x);if(!D){var Q={loading:0,preload:null};if(D=c.querySelector(uf(x)))Q.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Bs.get(x))&&dg(i,l);var dt=D=c.createElement("link");fi(dt),na(dt,"link",i),dt._p=new Promise(function(Lt,Bt){dt.onload=Lt,dt.onerror=Bt}),dt.addEventListener("load",function(){Q.loading|=1}),dt.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Md(D,a,c)}D={type:"stylesheet",instance:D,count:1,state:Q},m.set(x,D)}}}function D3(i,a){Sl.X(i,a);var l=Qc;if(l&&i){var c=oa(l).hoistableScripts,m=Zc(i),x=c.get(m);x||(x=l.querySelector(cf(m)),x||(i=A({src:i,async:!0},a),(a=Bs.get(m))&&pg(i,a),x=l.createElement("script"),fi(x),na(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(m,x))}}function j3(i,a){Sl.M(i,a);var l=Qc;if(l&&i){var c=oa(l).hoistableScripts,m=Zc(i),x=c.get(m);x||(x=l.querySelector(cf(m)),x||(i=A({src:i,async:!0,type:"module"},a),(a=Bs.get(m))&&pg(i,a),x=l.createElement("script"),fi(x),na(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(m,x))}}function $5(i,a,l,c){var m=(m=ht.current)?kd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Xc(l.href),l=oa(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Xc(l.href);var x=oa(m).hoistableStyles,D=x.get(i);if(D||(m=m.ownerDocument||m,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,D),(x=m.querySelector(uf(i)))&&!x._p&&(D.instance=x,D.state.loading=5),Bs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bs.set(i,l),x||k3(m,i,l,D.state))),a&&c===null)throw Error(r(528,""));return D}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zc(l),l=oa(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xc(i){return'href="'+wi(i)+'"'}function uf(i){return'link[rel="stylesheet"]['+i+"]"}function K5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function k3(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),na(a,"link",l),fi(a),i.head.appendChild(a))}function Zc(i){return'[src="'+wi(i)+'"]'}function cf(i){return"script[async]"+i}function Q5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+wi(l.href)+'"]');if(c)return a.instance=c,fi(c),c;var m=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),fi(c),na(c,"style",m),Md(c,l.precedence,i),a.instance=c;case"stylesheet":m=Xc(l.href);var x=i.querySelector(uf(m));if(x)return a.state.loading|=4,a.instance=x,fi(x),x;c=K5(l),(m=Bs.get(m))&&dg(c,m),x=(i.ownerDocument||i).createElement("link"),fi(x);var D=x;return D._p=new Promise(function(Q,dt){D.onload=Q,D.onerror=dt}),na(x,"link",c),a.state.loading|=4,Md(x,l.precedence,i),a.instance=x;case"script":return x=Zc(l.src),(m=i.querySelector(cf(x)))?(a.instance=m,fi(m),m):(c=l,(m=Bs.get(x))&&(c=A({},l),pg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),fi(m),na(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Md(c,l.precedence,i));return a.instance}function Md(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,x=m,D=0;D<c.length;D++){var Q=c[D];if(Q.dataset.precedence===a)x=Q;else if(x!==m)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function dg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function pg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Od=null;function X5(i,a,l){if(Od===null){var c=new Map,m=Od=new Map;m.set(l,c)}else m=Od,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var x=l[m];if(!(x[Lr]||x[kn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(a)||"";D=i+D;var Q=c.get(D);Q?Q.push(x):c.set(D,[x])}}return c}function Z5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function M3(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function O3(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Xc(c.href),x=a.querySelector(uf(m));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Pd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,fi(x);return}x=a.ownerDocument||a,c=K5(c),(m=Bs.get(m))&&dg(c,m),x=x.createElement("link"),fi(x);var D=x;D._p=new Promise(function(Q,dt){D.onload=Q,D.onerror=dt}),na(x,"link",c),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Pd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var gg=0;function P3(i,a){return i.stylesheets&&i.count===0&&Fd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Fd(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&gg===0&&(gg=62500*y3());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fd(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>gg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zd=null;function Fd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zd=new Map,a.forEach(z3,i),zd=null,Pd.call(i))}function z3(i,a){if(!(a.state.loading&4)){var l=zd.get(i);if(l)var c=l.get(null);else{l=new Map,zd.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var D=m[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),c=D)}c&&l.set(null,c)}m=a.instance,D=m.getAttribute("data-precedence"),x=l.get(D)||c,x===c&&l.set(null,m),l.set(D,m),this.count++,c=Pd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),x?x.parentNode.insertBefore(m,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var hf={$$typeof:J,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function F3(i,a,l,c,m,x,D,Q,dt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=dt,this.incompleteTransitions=new Map}function ty(i,a,l,c,m,x,D,Q,dt,Lt,Bt,Ht){return i=new F3(i,a,l,D,dt,Lt,Bt,Ht,Q),a=1,x===!0&&(a|=24),x=Pr(3,null,null,a),i.current=x,x.stateNode=i,a=Wl(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:c,isDehydrated:l,cache:a},Zt(x),i}function ey(i){return i?(i=_r,i):_r}function ny(i,a,l,c,m,x){m=ey(m),c.context===null?c.context=m:c.pendingContext=m,c=ze(a),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=rn(i,c,a),l!==null&&(Ja(l,i,a),Fn(l,i,a))}function iy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function mg(i,a){iy(i,a),(i=i.alternate)&&iy(i,a)}function ry(i){if(i.tag===13||i.tag===31){var a=no(i,67108864);a!==null&&Ja(a,i,67108864),mg(i,67108864)}}function ay(i){if(i.tag===13||i.tag===31){var a=ys();a=Vn(a);var l=no(i,a);l!==null&&Ja(l,i,a),mg(i,a)}}var Bd=!0;function B3(i,a,l,c){var m=rt.T;rt.T=null;var x=ft.p;try{ft.p=2,yg(i,a,l,c)}finally{ft.p=x,rt.T=m}}function U3(i,a,l,c){var m=rt.T;rt.T=null;var x=ft.p;try{ft.p=8,yg(i,a,l,c)}finally{ft.p=x,rt.T=m}}function yg(i,a,l,c){if(Bd){var m=vg(c);if(m===null)ig(i,a,c,Ud,l),oy(i,c);else if(q3(m,i,a,l,c))c.stopPropagation();else if(oy(i,c),a&4&&-1<V3.indexOf(i)){for(;m!==null;){var x=mr(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=be(x.pendingLanes);if(D!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;D;){var dt=1<<31-$e(D);Q.entanglements[1]|=dt,D&=~dt}Fo(x),(Un&6)===0&&(Sd=We()+500,af(0))}}break;case 31:case 13:Q=no(x,2),Q!==null&&Ja(Q,x,2),Ed(),mg(x,2)}if(x=vg(c),x===null&&ig(i,a,c,Ud,l),x===m)break;m=x}m!==null&&c.stopPropagation()}else ig(i,a,c,null,l)}}function vg(i){return i=kr(i),bg(i)}var Ud=null;function bg(i){if(Ud=null,i=Hr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ud=i,null}function sy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Be:return 2;case an:return 8;case Ke:case me:return 32;case qe:return 268435456;default:return 32}default:return 32}}var xg=!1,su=null,ou=null,lu=null,ff=new Map,df=new Map,uu=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(i,a){switch(i){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":ff.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(a.pointerId)}}function pf(i,a,l,c,m,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[m]},a!==null&&(a=mr(a),a!==null&&ry(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function q3(i,a,l,c,m){switch(a){case"focusin":return su=pf(su,i,a,l,c,m),!0;case"dragenter":return ou=pf(ou,i,a,l,c,m),!0;case"mouseover":return lu=pf(lu,i,a,l,c,m),!0;case"pointerover":var x=m.pointerId;return ff.set(x,pf(ff.get(x)||null,i,a,l,c,m)),!0;case"gotpointercapture":return x=m.pointerId,df.set(x,pf(df.get(x)||null,i,a,l,c,m)),!0}return!1}function ly(i){var a=Hr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,gr(i.priority,function(){ay(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,gr(i.priority,function(){ay(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=vg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);us=c,l.target.dispatchEvent(c),us=null}else return a=mr(l),a!==null&&ry(a),i.blockedOn=l,!1;a.shift()}return!0}function uy(i,a,l){Vd(i)&&l.delete(a)}function H3(){xg=!1,su!==null&&Vd(su)&&(su=null),ou!==null&&Vd(ou)&&(ou=null),lu!==null&&Vd(lu)&&(lu=null),ff.forEach(uy),df.forEach(uy)}function qd(i,a){i.blockedOn===a&&(i.blockedOn=null,xg||(xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H3)))}var Hd=null;function cy(i){Hd!==i&&(Hd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hd===i&&(Hd=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(bg(c||l)===null)continue;break}var x=mr(l);x!==null&&(i.splice(a,3),a-=3,v1(x,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Jc(i){function a(dt){return qd(dt,i)}su!==null&&qd(su,i),ou!==null&&qd(ou,i),lu!==null&&qd(lu,i),ff.forEach(a),df.forEach(a);for(var l=0;l<uu.length;l++){var c=uu[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<uu.length&&(l=uu[0],l.blockedOn===null);)ly(l),l.blockedOn===null&&uu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],x=l[c+1],D=m[Gn]||null;if(typeof x=="function")D||cy(l);else if(D){var Q=null;if(x&&x.hasAttribute("formAction")){if(m=x,D=x[Gn]||null)Q=D.formAction;else if(bg(m)!==null)continue}else Q=D.action;typeof Q=="function"?l[c+1]=Q:(l.splice(c,3),c-=3),cy(l)}}}function hy(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(D){return m=D})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function _g(i){this._internalRoot=i}Gd.prototype.render=_g.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=ys();ny(l,c,i,a,null,null)},Gd.prototype.unmount=_g.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ny(i.current,2,null,i,null,null),Ed(),a[Oi]=null}};function Gd(i){this._internalRoot=i}Gd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<uu.length&&a!==0&&a<uu[l].priority;l++);uu.splice(l,0,i),l===0&&ly(i)}};var fy=t.version;if(fy!=="19.2.4")throw Error(r(527,fy,"19.2.4"));ft.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var G3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Qe=Yd.inject(G3),Ce=Yd}catch{}}return mf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=b2,x=x2,D=_2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=ty(i,1,!1,null,null,l,c,null,m,x,D,hy),i[Oi]=a.current,ng(i),new _g(a)},mf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",x=b2,D=x2,Q=_2,dt=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(dt=l.formState)),a=ty(i,1,!0,a,l??null,c,m,dt,x,D,Q,hy),a.context=ey(null),l=a.current,c=ys(),c=Vn(c),m=ze(c),m.callback=null,rn(l,m,c),l=c,a.current.lanes=l,Ae(a,l),Fo(a),i[Oi]=a.current,ng(i),new Gd(a)},mf.version="19.2.4",mf}var wy;function iS(){if(wy)return Ag.exports;wy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ag.exports=nS(),Ag.exports}var rS=iS();const aS=()=>{};var Sy={};const fx=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},sS=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],u=n[e++],h=n[e++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,y=o>>2,A=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,_=d&63;f||(_=64,u||(T=64)),r.push(e[y],e[A],e[T],e[_])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(fx(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):sS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],h=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const A=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new oS;const T=o<<2|h>>4;if(r.push(T),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const B=d<<6&192|A;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(n){const t=fx(n);return dx.encodeByteArray(t,!0)},wp=function(n){return lS(n).replace(/\./g,"")},uS=function(n){try{return dx.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hS=()=>cS().__FIREBASE_DEFAULTS__,fS=()=>{if(typeof process>"u"||typeof Sy>"u")return;const n=Sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uS(n[1]);return t&&JSON.parse(t)},J0=()=>{try{return aS()||hS()||fS()||dS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pS=n=>J0()?.emulatorHosts?.[n],px=n=>{const t=pS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},gx=()=>J0()?.config;class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Yf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(n){return(await fetch(n,{credentials:"include"})).ok}function yx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wp(JSON.stringify(e)),wp(JSON.stringify(u)),""].join(".")}const Tf={};function mS(){const n={prod:[],emulator:[]};for(const t of Object.keys(Tf))Tf[t]?n.emulator.push(t):n.prod.push(t);return n}function yS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ay=!1;function vx(n,t){if(typeof window>"u"||typeof document>"u"||!Yf(window.location.host)||Tf[n]===t||Tf[n]||Ay)return;Tf[n]=t;function e(T){return`__firebase__banner__${T}`}const r="__firebase__banner",o=mS().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,_){T.setAttribute("width","24"),T.setAttribute("id",_),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ay=!0,u()},T}function y(T,_){T.setAttribute("id",_),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=yS(r),_=e("text"),B=document.getElementById(_)||document.createElement("span"),q=e("learnmore"),O=document.getElementById(q)||document.createElement("a"),P=e("preprendIcon"),tt=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;h(J),y(O,q);const it=d();f(tt,P),J.append(tt,B,O,it),document.body.appendChild(J)}o?(B.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function vS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){const n=J0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}const SS="FirebaseError";class gc extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=SS,Object.setPrototypeOf(this,gc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bx.prototype.create)}}class bx{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?AS(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new gc(s,h,r)}}function AS(n,t){return n.replace(ES,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const ES=/\{\$([^}]+)}/g;function Sp(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const o=n[s],u=t[s];if(Ey(o)&&Ey(u)){if(!Sp(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function Ey(n){return n!==null&&typeof n=="object"}function ns(n){return n&&n._delegate?n._delegate:n}class vh{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zu="[DEFAULT]";class TS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new gS;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NS(t))try{this.getOrInitializeService({instanceIdentifier:Zu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=Zu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zu){return this.instances.has(t)}getOptions(t=Zu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CS(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zu){return this.component?this.component.multipleInstances?t:Zu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(n){return n===Zu?void 0:n}function NS(n){return n.instantiationMode==="EAGER"}class RS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new TS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rn||(Rn={}));const IS={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},LS=Rn.INFO,DS={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},jS=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=DS[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xx{constructor(t){this.name=t,this._logLevel=LS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...t),this._logHandler(this,Rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...t),this._logHandler(this,Rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...t),this._logHandler(this,Rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...t),this._logHandler(this,Rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...t),this._logHandler(this,Rn.ERROR,...t)}}const kS=(n,t)=>t.some(e=>n instanceof e);let Ty,Cy;function MS(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _x=new WeakMap,d0=new WeakMap,wx=new WeakMap,Ng=new WeakMap,tm=new WeakMap;function PS(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(mu(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&_x.set(e,n)}).catch(()=>{}),tm.set(t,n),t}function zS(n){if(d0.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});d0.set(n,t)}let p0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return d0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||wx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function FS(n){p0=n(p0)}function BS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Rg(this),t,...e);return wx.set(r,t.sort?t.sort():[t]),mu(r)}:OS().includes(n)?function(...t){return n.apply(Rg(this),t),mu(_x.get(this))}:function(...t){return mu(n.apply(Rg(this),t))}}function US(n){return typeof n=="function"?BS(n):(n instanceof IDBTransaction&&zS(n),kS(n,MS())?new Proxy(n,p0):n)}function mu(n){if(n instanceof IDBRequest)return PS(n);if(Ng.has(n))return Ng.get(n);const t=US(n);return t!==n&&(Ng.set(n,t),tm.set(t,n)),t}const Rg=n=>tm.get(n);function VS(n,t,{blocked:e,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,t),h=mu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(mu(u.result),f.oldVersion,f.newVersion,mu(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Ig=new Map;function Ny(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ig.get(t))return Ig.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=HS.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qS.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),s&&f.done]))[0]};return Ig.set(t,o),o}FS(n=>({...n,get:(t,e,r)=>Ny(t,e)||n.get(t,e,r),has:(t,e)=>!!Ny(t,e)||n.has(t,e)}));class GS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(YS(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function YS(n){return n.getComponent()?.type==="VERSION"}const g0="@firebase/app",Ry="0.14.8";const Ll=new xx("@firebase/app"),WS="@firebase/app-compat",$S="@firebase/analytics-compat",KS="@firebase/analytics",QS="@firebase/app-check-compat",XS="@firebase/app-check",ZS="@firebase/auth",JS="@firebase/auth-compat",tA="@firebase/database",eA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",rA="@firebase/functions-compat",aA="@firebase/installations",sA="@firebase/installations-compat",oA="@firebase/messaging",lA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",fA="@firebase/remote-config-compat",dA="@firebase/storage",pA="@firebase/storage-compat",gA="@firebase/firestore",mA="@firebase/ai",yA="@firebase/firestore-compat",vA="firebase",bA="12.9.0";const m0="[DEFAULT]",xA={[g0]:"fire-core",[WS]:"fire-core-compat",[KS]:"fire-analytics",[$S]:"fire-analytics-compat",[XS]:"fire-app-check",[QS]:"fire-app-check-compat",[ZS]:"fire-auth",[JS]:"fire-auth-compat",[tA]:"fire-rtdb",[eA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[rA]:"fire-fn-compat",[aA]:"fire-iid",[sA]:"fire-iid-compat",[oA]:"fire-fcm",[lA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[fA]:"fire-rc-compat",[dA]:"fire-gcs",[pA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[mA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};const Ap=new Map,_A=new Map,y0=new Map;function Iy(n,t){try{n.container.addComponent(t)}catch(e){Ll.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Mf(n){const t=n.name;if(y0.has(t))return Ll.debug(`There were multiple attempts to register component ${t}.`),!1;y0.set(t,n);for(const e of Ap.values())Iy(e,n);for(const e of _A.values())Iy(e,n);return!0}function Sx(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ax(n){return n==null?!1:n.settings!==void 0}const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yu=new bx("app","Firebase",wA);class SA{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}const Ex=bA;function Tx(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:m0,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw yu.create("bad-app-name",{appName:String(s)});if(e||(e=gx()),!e)throw yu.create("no-options");const o=Ap.get(s);if(o){if(Sp(e,o.options)&&Sp(r,o.config))return o;throw yu.create("duplicate-app",{appName:s})}const u=new RS(s);for(const f of y0.values())u.addComponent(f);const h=new SA(e,r,u);return Ap.set(s,h),h}function Cx(n=m0){const t=Ap.get(n);if(!t&&n===m0&&gx())return Tx();if(!t)throw yu.create("no-app",{appName:n});return t}function vu(n,t,e){let r=xA[n]??n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${t}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ll.warn(u.join(" "));return}Mf(new vh(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const AA="firebase-heartbeat-database",EA=1,Of="firebase-heartbeat-store";let Lg=null;function Nx(){return Lg||(Lg=VS(AA,EA,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Of)}catch(e){console.warn(e)}}}}).catch(n=>{throw yu.create("idb-open",{originalErrorMessage:n.message})})),Lg}async function TA(n){try{const e=(await Nx()).transaction(Of),r=await e.objectStore(Of).get(Rx(n));return await e.done,r}catch(t){if(t instanceof gc)Ll.warn(t.message);else{const e=yu.create("idb-get",{originalErrorMessage:t?.message});Ll.warn(e.message)}}}async function Ly(n,t){try{const r=(await Nx()).transaction(Of,"readwrite");await r.objectStore(Of).put(t,Rx(n)),await r.done}catch(e){if(e instanceof gc)Ll.warn(e.message);else{const r=yu.create("idb-set",{originalErrorMessage:e?.message});Ll.warn(r.message)}}}function Rx(n){return`${n.name}!${n.options.appId}`}const CA=1024,NA=30;class RA{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new LA(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>NA){const s=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ll.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dy(),{heartbeatsToSend:e,unsentEntries:r}=IA(this._heartbeatsCache.heartbeats),s=wp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ll.warn(t),""}}}function Dy(){return new Date().toISOString().substring(0,10)}function IA(n,t=CA){const e=[];let r=n.slice();for(const s of n){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),jy(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),jy(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class LA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TA(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function jy(n){return wp(JSON.stringify({version:2,heartbeats:n})).length}function DA(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function jA(n){Mf(new vh("platform-logger",t=>new GS(t),"PRIVATE")),Mf(new vh("heartbeat",t=>new RA(t),"PRIVATE")),vu(g0,Ry,n),vu(g0,Ry,"esm2020"),vu("fire-js","")}jA("");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bu,Ix;(function(){var n;function t(G,M){function w(){}w.prototype=M.prototype,G.F=M.prototype,G.prototype=new w,G.prototype.constructor=G,G.D=function(F,R,N){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return M.prototype[R].apply(F,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(G,M,w){w||(w=0);const F=Array(16);if(typeof M=="string")for(var R=0;R<16;++R)F[R]=M.charCodeAt(w++)|M.charCodeAt(w++)<<8|M.charCodeAt(w++)<<16|M.charCodeAt(w++)<<24;else for(R=0;R<16;++R)F[R]=M[w++]|M[w++]<<8|M[w++]<<16|M[w++]<<24;M=G.g[0],w=G.g[1],R=G.g[2];let N=G.g[3],I;I=M+(N^w&(R^N))+F[0]+3614090360&4294967295,M=w+(I<<7&4294967295|I>>>25),I=N+(R^M&(w^R))+F[1]+3905402710&4294967295,N=M+(I<<12&4294967295|I>>>20),I=R+(w^N&(M^w))+F[2]+606105819&4294967295,R=N+(I<<17&4294967295|I>>>15),I=w+(M^R&(N^M))+F[3]+3250441966&4294967295,w=R+(I<<22&4294967295|I>>>10),I=M+(N^w&(R^N))+F[4]+4118548399&4294967295,M=w+(I<<7&4294967295|I>>>25),I=N+(R^M&(w^R))+F[5]+1200080426&4294967295,N=M+(I<<12&4294967295|I>>>20),I=R+(w^N&(M^w))+F[6]+2821735955&4294967295,R=N+(I<<17&4294967295|I>>>15),I=w+(M^R&(N^M))+F[7]+4249261313&4294967295,w=R+(I<<22&4294967295|I>>>10),I=M+(N^w&(R^N))+F[8]+1770035416&4294967295,M=w+(I<<7&4294967295|I>>>25),I=N+(R^M&(w^R))+F[9]+2336552879&4294967295,N=M+(I<<12&4294967295|I>>>20),I=R+(w^N&(M^w))+F[10]+4294925233&4294967295,R=N+(I<<17&4294967295|I>>>15),I=w+(M^R&(N^M))+F[11]+2304563134&4294967295,w=R+(I<<22&4294967295|I>>>10),I=M+(N^w&(R^N))+F[12]+1804603682&4294967295,M=w+(I<<7&4294967295|I>>>25),I=N+(R^M&(w^R))+F[13]+4254626195&4294967295,N=M+(I<<12&4294967295|I>>>20),I=R+(w^N&(M^w))+F[14]+2792965006&4294967295,R=N+(I<<17&4294967295|I>>>15),I=w+(M^R&(N^M))+F[15]+1236535329&4294967295,w=R+(I<<22&4294967295|I>>>10),I=M+(R^N&(w^R))+F[1]+4129170786&4294967295,M=w+(I<<5&4294967295|I>>>27),I=N+(w^R&(M^w))+F[6]+3225465664&4294967295,N=M+(I<<9&4294967295|I>>>23),I=R+(M^w&(N^M))+F[11]+643717713&4294967295,R=N+(I<<14&4294967295|I>>>18),I=w+(N^M&(R^N))+F[0]+3921069994&4294967295,w=R+(I<<20&4294967295|I>>>12),I=M+(R^N&(w^R))+F[5]+3593408605&4294967295,M=w+(I<<5&4294967295|I>>>27),I=N+(w^R&(M^w))+F[10]+38016083&4294967295,N=M+(I<<9&4294967295|I>>>23),I=R+(M^w&(N^M))+F[15]+3634488961&4294967295,R=N+(I<<14&4294967295|I>>>18),I=w+(N^M&(R^N))+F[4]+3889429448&4294967295,w=R+(I<<20&4294967295|I>>>12),I=M+(R^N&(w^R))+F[9]+568446438&4294967295,M=w+(I<<5&4294967295|I>>>27),I=N+(w^R&(M^w))+F[14]+3275163606&4294967295,N=M+(I<<9&4294967295|I>>>23),I=R+(M^w&(N^M))+F[3]+4107603335&4294967295,R=N+(I<<14&4294967295|I>>>18),I=w+(N^M&(R^N))+F[8]+1163531501&4294967295,w=R+(I<<20&4294967295|I>>>12),I=M+(R^N&(w^R))+F[13]+2850285829&4294967295,M=w+(I<<5&4294967295|I>>>27),I=N+(w^R&(M^w))+F[2]+4243563512&4294967295,N=M+(I<<9&4294967295|I>>>23),I=R+(M^w&(N^M))+F[7]+1735328473&4294967295,R=N+(I<<14&4294967295|I>>>18),I=w+(N^M&(R^N))+F[12]+2368359562&4294967295,w=R+(I<<20&4294967295|I>>>12),I=M+(w^R^N)+F[5]+4294588738&4294967295,M=w+(I<<4&4294967295|I>>>28),I=N+(M^w^R)+F[8]+2272392833&4294967295,N=M+(I<<11&4294967295|I>>>21),I=R+(N^M^w)+F[11]+1839030562&4294967295,R=N+(I<<16&4294967295|I>>>16),I=w+(R^N^M)+F[14]+4259657740&4294967295,w=R+(I<<23&4294967295|I>>>9),I=M+(w^R^N)+F[1]+2763975236&4294967295,M=w+(I<<4&4294967295|I>>>28),I=N+(M^w^R)+F[4]+1272893353&4294967295,N=M+(I<<11&4294967295|I>>>21),I=R+(N^M^w)+F[7]+4139469664&4294967295,R=N+(I<<16&4294967295|I>>>16),I=w+(R^N^M)+F[10]+3200236656&4294967295,w=R+(I<<23&4294967295|I>>>9),I=M+(w^R^N)+F[13]+681279174&4294967295,M=w+(I<<4&4294967295|I>>>28),I=N+(M^w^R)+F[0]+3936430074&4294967295,N=M+(I<<11&4294967295|I>>>21),I=R+(N^M^w)+F[3]+3572445317&4294967295,R=N+(I<<16&4294967295|I>>>16),I=w+(R^N^M)+F[6]+76029189&4294967295,w=R+(I<<23&4294967295|I>>>9),I=M+(w^R^N)+F[9]+3654602809&4294967295,M=w+(I<<4&4294967295|I>>>28),I=N+(M^w^R)+F[12]+3873151461&4294967295,N=M+(I<<11&4294967295|I>>>21),I=R+(N^M^w)+F[15]+530742520&4294967295,R=N+(I<<16&4294967295|I>>>16),I=w+(R^N^M)+F[2]+3299628645&4294967295,w=R+(I<<23&4294967295|I>>>9),I=M+(R^(w|~N))+F[0]+4096336452&4294967295,M=w+(I<<6&4294967295|I>>>26),I=N+(w^(M|~R))+F[7]+1126891415&4294967295,N=M+(I<<10&4294967295|I>>>22),I=R+(M^(N|~w))+F[14]+2878612391&4294967295,R=N+(I<<15&4294967295|I>>>17),I=w+(N^(R|~M))+F[5]+4237533241&4294967295,w=R+(I<<21&4294967295|I>>>11),I=M+(R^(w|~N))+F[12]+1700485571&4294967295,M=w+(I<<6&4294967295|I>>>26),I=N+(w^(M|~R))+F[3]+2399980690&4294967295,N=M+(I<<10&4294967295|I>>>22),I=R+(M^(N|~w))+F[10]+4293915773&4294967295,R=N+(I<<15&4294967295|I>>>17),I=w+(N^(R|~M))+F[1]+2240044497&4294967295,w=R+(I<<21&4294967295|I>>>11),I=M+(R^(w|~N))+F[8]+1873313359&4294967295,M=w+(I<<6&4294967295|I>>>26),I=N+(w^(M|~R))+F[15]+4264355552&4294967295,N=M+(I<<10&4294967295|I>>>22),I=R+(M^(N|~w))+F[6]+2734768916&4294967295,R=N+(I<<15&4294967295|I>>>17),I=w+(N^(R|~M))+F[13]+1309151649&4294967295,w=R+(I<<21&4294967295|I>>>11),I=M+(R^(w|~N))+F[4]+4149444226&4294967295,M=w+(I<<6&4294967295|I>>>26),I=N+(w^(M|~R))+F[11]+3174756917&4294967295,N=M+(I<<10&4294967295|I>>>22),I=R+(M^(N|~w))+F[2]+718787259&4294967295,R=N+(I<<15&4294967295|I>>>17),I=w+(N^(R|~M))+F[9]+3951481745&4294967295,G.g[0]=G.g[0]+M&4294967295,G.g[1]=G.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,G.g[2]=G.g[2]+R&4294967295,G.g[3]=G.g[3]+N&4294967295}r.prototype.v=function(G,M){M===void 0&&(M=G.length);const w=M-this.blockSize,F=this.C;let R=this.h,N=0;for(;N<M;){if(R==0)for(;N<=w;)s(this,G,N),N+=this.blockSize;if(typeof G=="string"){for(;N<M;)if(F[R++]=G.charCodeAt(N++),R==this.blockSize){s(this,F),R=0;break}}else for(;N<M;)if(F[R++]=G[N++],R==this.blockSize){s(this,F),R=0;break}}this.h=R,this.o+=M},r.prototype.A=function(){var G=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);G[0]=128;for(var M=1;M<G.length-8;++M)G[M]=0;M=this.o*8;for(var w=G.length-8;w<G.length;++w)G[w]=M&255,M/=256;for(this.v(G),G=Array(16),M=0,w=0;w<4;++w)for(let F=0;F<32;F+=8)G[M++]=this.g[w]>>>F&255;return G};function o(G,M){var w=h;return Object.prototype.hasOwnProperty.call(w,G)?w[G]:w[G]=M(G)}function u(G,M){this.h=M;const w=[];let F=!0;for(let R=G.length-1;R>=0;R--){const N=G[R]|0;F&&N==M||(w[R]=N,F=!1)}this.g=w}var h={};function f(G){return-128<=G&&G<128?o(G,function(M){return new u([M|0],M<0?-1:0)}):new u([G|0],G<0?-1:0)}function d(G){if(isNaN(G)||!isFinite(G))return A;if(G<0)return O(d(-G));const M=[];let w=1;for(let F=0;G>=w;F++)M[F]=G/w|0,w*=4294967296;return new u(M,0)}function y(G,M){if(G.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(G.charAt(0)=="-")return O(y(G.substring(1),M));if(G.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(M,8));let F=A;for(let N=0;N<G.length;N+=8){var R=Math.min(8,G.length-N);const I=parseInt(G.substring(N,N+R),M);R<8?(R=d(Math.pow(M,R)),F=F.j(R).add(d(I))):(F=F.j(w),F=F.add(d(I)))}return F}var A=f(0),T=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(q(this))return-O(this).m();let G=0,M=1;for(let w=0;w<this.g.length;w++){const F=this.i(w);G+=(F>=0?F:4294967296+F)*M,M*=4294967296}return G},n.toString=function(G){if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(B(this))return"0";if(q(this))return"-"+O(this).toString(G);const M=d(Math.pow(G,6));var w=this;let F="";for(;;){const R=it(w,M).g;w=P(w,R.j(M));let N=((w.g.length>0?w.g[0]:w.h)>>>0).toString(G);if(w=R,B(w))return N+F;for(;N.length<6;)N="0"+N;F=N+F}},n.i=function(G){return G<0?0:G<this.g.length?this.g[G]:this.h};function B(G){if(G.h!=0)return!1;for(let M=0;M<G.g.length;M++)if(G.g[M]!=0)return!1;return!0}function q(G){return G.h==-1}n.l=function(G){return G=P(this,G),q(G)?-1:B(G)?0:1};function O(G){const M=G.g.length,w=[];for(let F=0;F<M;F++)w[F]=~G.g[F];return new u(w,~G.h).add(T)}n.abs=function(){return q(this)?O(this):this},n.add=function(G){const M=Math.max(this.g.length,G.g.length),w=[];let F=0;for(let R=0;R<=M;R++){let N=F+(this.i(R)&65535)+(G.i(R)&65535),I=(N>>>16)+(this.i(R)>>>16)+(G.i(R)>>>16);F=I>>>16,N&=65535,I&=65535,w[R]=I<<16|N}return new u(w,w[w.length-1]&-2147483648?-1:0)};function P(G,M){return G.add(O(M))}n.j=function(G){if(B(this)||B(G))return A;if(q(this))return q(G)?O(this).j(O(G)):O(O(this).j(G));if(q(G))return O(this.j(O(G)));if(this.l(_)<0&&G.l(_)<0)return d(this.m()*G.m());const M=this.g.length+G.g.length,w=[];for(var F=0;F<2*M;F++)w[F]=0;for(F=0;F<this.g.length;F++)for(let R=0;R<G.g.length;R++){const N=this.i(F)>>>16,I=this.i(F)&65535,$=G.i(R)>>>16,mt=G.i(R)&65535;w[2*F+2*R]+=I*mt,tt(w,2*F+2*R),w[2*F+2*R+1]+=N*mt,tt(w,2*F+2*R+1),w[2*F+2*R+1]+=I*$,tt(w,2*F+2*R+1),w[2*F+2*R+2]+=N*$,tt(w,2*F+2*R+2)}for(G=0;G<M;G++)w[G]=w[2*G+1]<<16|w[2*G];for(G=M;G<2*M;G++)w[G]=0;return new u(w,0)};function tt(G,M){for(;(G[M]&65535)!=G[M];)G[M+1]+=G[M]>>>16,G[M]&=65535,M++}function J(G,M){this.g=G,this.h=M}function it(G,M){if(B(M))throw Error("division by zero");if(B(G))return new J(A,A);if(q(G))return M=it(O(G),M),new J(O(M.g),O(M.h));if(q(M))return M=it(G,O(M)),new J(O(M.g),M.h);if(G.g.length>30){if(q(G)||q(M))throw Error("slowDivide_ only works with positive integers.");for(var w=T,F=M;F.l(G)<=0;)w=st(w),F=st(F);var R=St(w,1),N=St(F,1);for(F=St(F,2),w=St(w,2);!B(F);){var I=N.add(F);I.l(G)<=0&&(R=R.add(w),N=I),F=St(F,1),w=St(w,1)}return M=P(G,R.j(M)),new J(R,M)}for(R=A;G.l(M)>=0;){for(w=Math.max(1,Math.floor(G.m()/M.m())),F=Math.ceil(Math.log(w)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),N=d(w),I=N.j(M);q(I)||I.l(G)>0;)w-=F,N=d(w),I=N.j(M);B(N)&&(N=T),R=R.add(N),G=P(G,I)}return new J(R,G)}n.B=function(G){return it(this,G).h},n.and=function(G){const M=Math.max(this.g.length,G.g.length),w=[];for(let F=0;F<M;F++)w[F]=this.i(F)&G.i(F);return new u(w,this.h&G.h)},n.or=function(G){const M=Math.max(this.g.length,G.g.length),w=[];for(let F=0;F<M;F++)w[F]=this.i(F)|G.i(F);return new u(w,this.h|G.h)},n.xor=function(G){const M=Math.max(this.g.length,G.g.length),w=[];for(let F=0;F<M;F++)w[F]=this.i(F)^G.i(F);return new u(w,this.h^G.h)};function st(G){const M=G.g.length+1,w=[];for(let F=0;F<M;F++)w[F]=G.i(F)<<1|G.i(F-1)>>>31;return new u(w,G.h)}function St(G,M){const w=M>>5;M%=32;const F=G.g.length-w,R=[];for(let N=0;N<F;N++)R[N]=M>0?G.i(N+w)>>>M|G.i(N+w+1)<<32-M:G.i(N+w);return new u(R,G.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ix=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,bu=u}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lx,wf,Dx,up,v0,jx,kx,Mx;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var C=0;C<g.length;++C){var j=g[C];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=e(this);function s(g,C){if(C)t:{var j=r;g=g.split(".");for(var Z=0;Z<g.length-1;Z++){var At=g[Z];if(!(At in j))break t;j=j[At]}g=g[g.length-1],Z=j[g],C=C(Z),C!=Z&&C!=null&&t(j,g,{configurable:!0,writable:!0,value:C})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(C){var j=[],Z;for(Z in C)Object.prototype.hasOwnProperty.call(C,Z)&&j.push([Z,C[Z]]);return j}});var o=o||{},u=this||self;function h(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function f(g,C,j){return g.call.apply(g.bind,arguments)}function d(g,C,j){return d=f,d.apply(null,arguments)}function y(g,C){var j=Array.prototype.slice.call(arguments,1);return function(){var Z=j.slice();return Z.push.apply(Z,arguments),g.apply(this,Z)}}function A(g,C){function j(){}j.prototype=C.prototype,g.Z=C.prototype,g.prototype=new j,g.prototype.constructor=g,g.Ob=function(Z,At,jt){for(var Xt=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Xt[Ve-2]=arguments[Ve];return C.prototype[At].apply(Z,Xt)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const C=g.length;if(C>0){const j=Array(C);for(let Z=0;Z<C;Z++)j[Z]=g[Z];return j}return[]}function B(g,C){for(let Z=1;Z<arguments.length;Z++){const At=arguments[Z];var j=typeof At;if(j=j!="object"?j:At?Array.isArray(At)?"array":j:"null",j=="array"||j=="object"&&typeof At.length=="number"){j=g.length||0;const jt=At.length||0;g.length=j+jt;for(let Xt=0;Xt<jt;Xt++)g[j+Xt]=At[Xt]}else g.push(At)}}class q{constructor(C,j){this.i=C,this.j=j,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function O(g){u.setTimeout(()=>{throw g},0)}function P(){var g=G;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class tt{constructor(){this.h=this.g=null}add(C,j){const Z=J.get();Z.set(C,j),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var J=new q(()=>new it,g=>g.reset());class it{constructor(){this.next=this.g=this.h=null}set(C,j){this.h=C,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let st,St=!1,G=new tt,M=()=>{const g=Promise.resolve(void 0);st=()=>{g.then(w)}};function w(){for(var g;g=P();){try{g.h.call(g.g)}catch(j){O(j)}var C=J;C.j(g),C.h<100&&(C.h++,g.next=C.g,C.g=g)}St=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};u.addEventListener("test",j,C),u.removeEventListener("test",j,C)}catch{}return g})();function I(g){return/^[\s\xa0]*$/.test(g)}function $(g,C){R.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,C)}A($,R),$.prototype.init=function(g,C){const j=this.type=g.type,Z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget,C||(j=="mouseover"?C=g.fromElement:j=="mouseout"&&(C=g.toElement)),this.relatedTarget=C,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),rt=0;function ft(g,C,j,Z,At){this.listener=g,this.proxy=null,this.src=C,this.type=j,this.capture=!!Z,this.ha=At,this.key=++rt,this.da=this.fa=!1}function at(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function bt(g,C,j){for(const Z in g)C.call(j,g[Z],Z,g)}function Dt(g,C){for(const j in g)C.call(void 0,g[j],j,g)}function nt(g){const C={};for(const j in g)C[j]=g[j];return C}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,C){let j,Z;for(let At=1;At<arguments.length;At++){Z=arguments[At];for(j in Z)g[j]=Z[j];for(let jt=0;jt<k.length;jt++)j=k[jt],Object.prototype.hasOwnProperty.call(Z,j)&&(g[j]=Z[j])}}function W(g){this.src=g,this.g={},this.h=0}W.prototype.add=function(g,C,j,Z,At){const jt=g.toString();g=this.g[jt],g||(g=this.g[jt]=[],this.h++);const Xt=ht(g,C,Z,At);return Xt>-1?(C=g[Xt],j||(C.fa=!1)):(C=new ft(C,this.src,jt,!!Z,At),C.fa=j,g.push(C)),C};function K(g,C){const j=C.type;if(j in g.g){var Z=g.g[j],At=Array.prototype.indexOf.call(Z,C,void 0),jt;(jt=At>=0)&&Array.prototype.splice.call(Z,At,1),jt&&(at(C),g.g[j].length==0&&(delete g.g[j],g.h--))}}function ht(g,C,j,Z){for(let At=0;At<g.length;++At){const jt=g[At];if(!jt.da&&jt.listener==C&&jt.capture==!!j&&jt.ha==Z)return At}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),Nt={};function Ct(g,C,j,Z,At){if(Array.isArray(C)){for(let jt=0;jt<C.length;jt++)Ct(g,C[jt],j,Z,At);return null}return j=Te(j),g&&g[mt]?g.J(C,j,h(Z)?!!Z.capture:!1,At):Ot(g,C,j,!1,Z,At)}function Ot(g,C,j,Z,At,jt){if(!C)throw Error("Invalid event type");const Xt=h(At)?!!At.capture:!!At;let Ve=Jt(g);if(Ve||(g[gt]=Ve=new W(g)),j=Ve.add(C,j,Z,Xt,jt),j.proxy)return j;if(Z=Kt(),j.proxy=Z,Z.src=g,Z.listener=j,g.addEventListener)N||(At=Xt),At===void 0&&(At=!1),g.addEventListener(C.toString(),Z,At);else if(g.attachEvent)g.attachEvent(ce(C.toString()),Z);else if(g.addListener&&g.removeListener)g.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Kt(){function g(j){return C.call(g.src,g.listener,j)}const C=ot;return g}function ne(g,C,j,Z,At){if(Array.isArray(C))for(var jt=0;jt<C.length;jt++)ne(g,C[jt],j,Z,At);else Z=h(Z)?!!Z.capture:!!Z,j=Te(j),g&&g[mt]?(g=g.i,jt=String(C).toString(),jt in g.g&&(C=g.g[jt],j=ht(C,j,Z,At),j>-1&&(at(C[j]),Array.prototype.splice.call(C,j,1),C.length==0&&(delete g.g[jt],g.h--)))):g&&(g=Jt(g))&&(C=g.g[C.toString()],g=-1,C&&(g=ht(C,j,Z,At)),(j=g>-1?C[g]:null)&&ee(j))}function ee(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[mt])K(C.i,g);else{var j=g.type,Z=g.proxy;C.removeEventListener?C.removeEventListener(j,Z,g.capture):C.detachEvent?C.detachEvent(ce(j),Z):C.addListener&&C.removeListener&&C.removeListener(Z),(j=Jt(C))?(K(j,g),j.h==0&&(j.src=null,C[gt]=null)):at(g)}}}function ce(g){return g in Nt?Nt[g]:Nt[g]="on"+g}function ot(g,C){if(g.da)g=!0;else{C=new $(C,this);const j=g.listener,Z=g.ha||g.src;g.fa&&ee(g),g=j.call(Z,C)}return g}function Jt(g){return g=g[gt],g instanceof W?g:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(g){return typeof g=="function"?g:(g[Ye]||(g[Ye]=function(C){return g.handleEvent(C)}),g[Ye])}function Vt(){F.call(this),this.i=new W(this),this.M=this,this.G=null}A(Vt,F),Vt.prototype[mt]=!0,Vt.prototype.removeEventListener=function(g,C,j,Z){ne(this,g,C,j,Z)};function re(g,C){var j,Z=g.G;if(Z)for(j=[];Z;Z=Z.G)j.push(Z);if(g=g.M,Z=C.type||C,typeof C=="string")C=new R(C,g);else if(C instanceof R)C.target=C.target||g;else{var At=C;C=new R(Z,g),z(C,At)}At=!0;let jt,Xt;if(j)for(Xt=j.length-1;Xt>=0;Xt--)jt=C.g=j[Xt],At=ie(jt,Z,!0,C)&&At;if(jt=C.g=g,At=ie(jt,Z,!0,C)&&At,At=ie(jt,Z,!1,C)&&At,j)for(Xt=0;Xt<j.length;Xt++)jt=C.g=j[Xt],At=ie(jt,Z,!1,C)&&At}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var g=this.i;for(const C in g.g){const j=g.g[C];for(let Z=0;Z<j.length;Z++)at(j[Z]);delete g.g[C],g.h--}}this.G=null},Vt.prototype.J=function(g,C,j,Z){return this.i.add(String(g),C,!1,j,Z)},Vt.prototype.K=function(g,C,j,Z){return this.i.add(String(g),C,!0,j,Z)};function ie(g,C,j,Z){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();let At=!0;for(let jt=0;jt<C.length;++jt){const Xt=C[jt];if(Xt&&!Xt.da&&Xt.capture==j){const Ve=Xt.listener,Jn=Xt.ha||Xt.src;Xt.fa&&K(g.i,Xt),At=Ve.call(Jn,Z)!==!1&&At}}return At&&!Z.defaultPrevented}function Ne(g,C){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:u.setTimeout(g,C||0)}function _e(g){g.g=Ne(()=>{g.g=null,g.i&&(g.i=!1,_e(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class We extends F{constructor(C,j){super(),this.m=C,this.l=j,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(g){F.call(this),this.h=g,this.g={}}A(Ze,F);var Be=[];function an(g){bt(g.g,function(C,j){this.g.hasOwnProperty(j)&&ee(C)},g),g.g={}}Ze.prototype.N=function(){Ze.Z.N.call(this),an(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=u.JSON.stringify,me=u.JSON.parse,qe=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function ve(){}function ci(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ce(){R.call(this,"d")}A(Ce,R);function Pe(){R.call(this,"c")}A(Pe,R);var $e={},Se=null;function In(){return Se=Se||new Vt}$e.Ia="serverreachability";function Me(g){R.call(this,$e.Ia,g)}A(Me,R);function Oe(g){const C=In();re(C,new Me(C))}$e.STAT_EVENT="statevent";function jn(g,C){R.call(this,$e.STAT_EVENT,g),this.stat=C}A(jn,R);function we(g){const C=In();re(C,new jn(C,g))}$e.Ja="timingevent";function be(g,C){R.call(this,$e.Ja,g),this.size=C}A(be,R);function sn(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},C)}function pr(){this.g=!0}pr.prototype.ua=function(){this.g=!1};function nr(g,C,j,Z,At,jt){g.info(function(){if(g.g)if(jt){var Xt="",Ve=jt.split("&");for(let ln=0;ln<Ve.length;ln++){var Jn=Ve[ln].split("=");if(Jn.length>1){const On=Jn[0];Jn=Jn[1];const sr=On.split("_");Xt=sr.length>=2&&sr[1]=="type"?Xt+(On+"="+Jn+"&"):Xt+(On+"=redacted&")}}}else Xt=null;else Xt=jt;return"XMLHTTP REQ ("+Z+") [attempt "+At+"]: "+C+`
`+j+`
`+Xt})}function ja(g,C,j,Z,At,jt,Xt){g.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+At+"]: "+C+`
`+j+`
`+jt+" "+Xt})}function Wi(g,C,j,Z){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+rs(g,j)+(Z?" "+Z:"")})}function Ae(g,C){g.info(function(){return"TIMEOUT: "+C})}pr.prototype.info=function(){};function rs(g,C){if(!g.g)return C;if(!C)return null;try{const jt=JSON.parse(C);if(jt){for(g=0;g<jt.length;g++)if(Array.isArray(jt[g])){var j=jt[g];if(!(j.length<2)){var Z=j[1];if(Array.isArray(Z)&&!(Z.length<1)){var At=Z[0];if(At!="noop"&&At!="stop"&&At!="close")for(let Xt=1;Xt<Z.length;Xt++)Z[Xt]=""}}}}return Ke(jt)}catch{return C}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rr;function Vn(){}A(Vn,ve),Vn.prototype.g=function(){return new XMLHttpRequest},Rr=new Vn;function Xn(g){return encodeURIComponent(String(g))}function Mi(g){var C=1;g=g.split(":");const j=[];for(;C>0&&g.length;)j.push(g.shift()),C--;return g.length&&j.push(g.join(":")),j}function gr(g,C,j,Z){this.j=g,this.i=C,this.l=j,this.S=Z||1,this.V=new Ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var kn={},Gn={};function Oi(g,C,j){g.M=1,g.A=Ss(_i(C)),g.u=j,g.R=!0,Ir(g,null)}function Ir(g,C){g.F=Date.now(),Lr(g),g.B=_i(g.A);var j=g.B,Z=g.S;Array.isArray(Z)||(Z=[String(Z)]),_o(j.i,"t",Z),g.C=0,j=g.j.L,g.h=new ir,g.g=le(g.j,j?C:null,!g.u),g.P>0&&(g.O=new We(d(g.Y,g,g.g),g.P)),C=g.V,j=g.g,Z=g.ba;var At="readystatechange";Array.isArray(At)||(At&&(Be[0]=At.toString()),At=Be);for(let jt=0;jt<At.length;jt++){const Xt=Ct(j,At[jt],Z||C.handleEvent,!1,C.h||C);if(!Xt)break;C.g[Xt.key]=Xt}C=g.J?nt(g.J):{},g.u?(g.v||(g.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,C)):(g.v="GET",g.g.ea(g.B,g.v,null,C)),Oe(),nr(g.i,g.v,g.B,g.l,g.S,g.u)}gr.prototype.ba=function(g){g=g.target;const C=this.O;C&&Kr(g)==3?C.j():this.Y(g)},gr.prototype.Y=function(g){try{if(g==this.g)t:{const Ve=Kr(this.g),Jn=this.g.ya(),ln=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Ri(this.g)))){this.K||Ve!=4||Jn==7||(Jn==8||ln<=0?Oe(3):Oe(2)),Hr(this);var C=this.g.ca();this.X=C;var j=sa(this);if(this.o=C==200,ja(this.i,this.v,this.B,this.l,this.S,Ve,C),this.o){if(this.U&&!this.L){e:{if(this.g){var Z,At=this.g;if((Z=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Z)){var jt=Z;break e}}jt=null}if(g=jt)Wi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oa(this,g);else{this.o=!1,this.m=3,we(12),Gr(this),mr(this);break t}}if(this.R){g=!0;let On;for(;!this.K&&this.C<j.length;)if(On=wa(this,j),On==Gn){Ve==4&&(this.m=4,we(14),g=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==kn){this.m=4,we(15),Wi(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else Wi(this.i,this.l,On,null),oa(this,On);if(ws(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||j.length!=0||this.h.h||(this.m=1,we(16),g=!1),this.o=this.o&&g,!g)Wi(this.i,this.l,j,"[Invalid Chunked Response]"),Gr(this),mr(this);else if(j.length>0&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.aa&&!Xt.P&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Eo(Xt),Xt.P=!0,we(11))}}else Wi(this.i,this.l,j,null),oa(this,j);Ve==4&&Gr(this),this.o&&!this.K&&(Ve==4?ut(this.j,this):(this.o=!1,Lr(this)))}else ka(this.g),C==400&&j.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Gr(this),mr(this)}}}catch{}};function sa(g){if(!ws(g))return g.g.la();const C=Ri(g.g);if(C==="")return"";let j="";const Z=C.length,At=Kr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Gr(g),mr(g),"";g.h.i=new u.TextDecoder}for(let jt=0;jt<Z;jt++)g.h.h=!0,j+=g.h.i.decode(C[jt],{stream:!(At&&jt==Z-1)});return C.length=0,g.h.g+=j,g.C=0,g.h.g}function ws(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function wa(g,C){var j=g.C,Z=C.indexOf(`
`,j);return Z==-1?Gn:(j=Number(C.substring(j,Z)),isNaN(j)?kn:(Z+=1,Z+j>C.length?Gn:(C=C.slice(Z,Z+j),g.C=Z+j,C)))}gr.prototype.cancel=function(){this.K=!0,Gr(this)};function Lr(g){g.T=Date.now()+g.H,as(g,g.H)}function as(g,C){if(g.D!=null)throw Error("WatchDog timer not null");g.D=sn(d(g.aa,g),C)}function Hr(g){g.D&&(u.clearTimeout(g.D),g.D=null)}gr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ae(this.i,this.B),this.M!=2&&(Oe(),we(17)),Gr(this),this.m=2,mr(this)):as(this,this.T-g)};function mr(g){g.j.I==0||g.K||ut(g.j,g)}function Gr(g){Hr(g);var C=g.O;C&&typeof C.dispose=="function"&&C.dispose(),g.O=null,an(g.V),g.g&&(C=g.g,g.g=null,C.abort(),C.dispose())}function oa(g,C){try{var j=g.j;if(j.I!=0&&(j.g==g||Sa(j.h,g))){if(!g.L&&Sa(j.h,g)&&j.I==3){try{var Z=j.Ba.g.parse(C)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var At=Z;if(At[0]==0){t:if(!j.v){if(j.g)if(j.g.F+3e3<g.F)U(j),Oa(j);else break t;Ta(j),we(18)}}else j.xa=At[1],0<j.xa-j.K&&At[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=sn(d(j.Va,j),6e3));la(j.h)<=1&&j.ta&&(j.ta=void 0)}else _t(j,11)}else if((g.L||j.g==g)&&U(j),!I(C))for(At=j.Ba.g.parse(C),C=0;C<At.length;C++){let ln=At[C];const On=ln[0];if(!(On<=j.K))if(j.K=On,ln=ln[1],j.I==2)if(ln[0]=="c"){j.M=ln[1],j.ba=ln[2];const sr=ln[3];sr!=null&&(j.ka=sr,j.j.info("VER="+j.ka));const vr=ln[4];vr!=null&&(j.za=vr,j.j.info("SVER="+j.za));const Yn=ln[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(Z=1.5*Yn,j.O=Z,j.j.info("backChannelRequestTimeoutMs_="+Z)),Z=j;const br=g.g;if(br){const Ca=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var jt=Z.h;jt.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(jt.j=jt.l,jt.g=new Set,jt.h&&(qs(jt,jt.h),jt.h=null))}if(Z.G){const Ns=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Ns&&(Z.wa=Ns,vn(Z.J,Z.G,Ns))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-g.F,j.j.info("Handshake RTT: "+j.T+"ms")),Z=j;var Xt=g;if(Z.na=Wt(Z,Z.L?Z.ba:null,Z.W),Xt.L){bo(Z.h,Xt);var Ve=Xt,Jn=Z.O;Jn&&(Ve.H=Jn),Ve.D&&(Hr(Ve),Lr(Ve)),Z.g=Xt}else rl(Z);j.i.length>0&&ca(j)}else ln[0]!="stop"&&ln[0]!="close"||_t(j,7);else j.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?_t(j,7):Cs(j):ln[0]!="noop"&&j.l&&j.l.qa(ln),j.A=0)}}Oe(4)}catch{}}var fi=class{constructor(g,C){this.g=g,this.map=C}};function vo(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function la(g){return g.h?1:g.g?g.g.size:0}function Sa(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function qs(g,C){g.g?g.g.add(C):g.h=C}function bo(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}vo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function xo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const j of g.g.values())C=C.concat(j.G);return C}return _(g.i)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(g,C){if(g){g=g.split("&");for(let j=0;j<g.length;j++){const Z=g[j].indexOf("=");let At,jt=null;Z>=0?(At=g[j].substring(0,Z),jt=g[j].substring(Z+1)):At=g[j],C(At,jt?decodeURIComponent(jt.replace(/\+/g," ")):"")}}}function rr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;g instanceof rr?(this.l=g.l,cn(this,g.j),this.o=g.o,this.g=g.g,ss(this,g.u),this.h=g.h,ua(this,wo(g.i)),this.m=g.m):g&&(C=String(g).match(Zo))?(this.l=!1,cn(this,C[1]||"",!0),this.o=Ni(C[2]||""),this.g=Ni(C[3]||"",!0),ss(this,C[4]),this.h=Ni(C[5]||"",!0),ua(this,C[6]||"",!0),this.m=Ni(C[7]||"")):(this.l=!1,this.i=new os(null,this.l))}rr.prototype.toString=function(){const g=[];var C=this.j;C&&g.push(ai(C,Hs,!0),":");var j=this.g;return(j||C=="file")&&(g.push("//"),(C=this.o)&&g.push(ai(C,Hs,!0),"@"),g.push(Xn(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&g.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(ai(j,j.charAt(0)=="/"?Jo:Ol,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",ai(j,tl)),g.join("")},rr.prototype.resolve=function(g){const C=_i(this);let j=!!g.j;j?cn(C,g.j):j=!!g.o,j?C.o=g.o:j=!!g.g,j?C.g=g.g:j=g.u!=null;var Z=g.h;if(j)ss(C,g.u);else if(j=!!g.h){if(Z.charAt(0)!="/")if(this.g&&!this.h)Z="/"+Z;else{var At=C.h.lastIndexOf("/");At!=-1&&(Z=C.h.slice(0,At+1)+Z)}if(At=Z,At==".."||At==".")Z="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){Z=At.lastIndexOf("/",0)==0,At=At.split("/");const jt=[];for(let Xt=0;Xt<At.length;){const Ve=At[Xt++];Ve=="."?Z&&Xt==At.length&&jt.push(""):Ve==".."?((jt.length>1||jt.length==1&&jt[0]!="")&&jt.pop(),Z&&Xt==At.length&&jt.push("")):(jt.push(Ve),Z=!0)}Z=jt.join("/")}else Z=At}return j?C.h=Z:j=g.i.toString()!=="",j?ua(C,wo(g.i)):j=!!g.m,j&&(C.m=g.m),C};function _i(g){return new rr(g)}function cn(g,C,j){g.j=j?Ni(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function ss(g,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);g.u=C}else g.u=null}function ua(g,C,j){C instanceof os?(g.i=C,jr(g.i,g.l)):(j||(C=ai(C,yr)),g.i=new os(C,g.l))}function vn(g,C,j){g.i.set(C,j)}function Ss(g){return vn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ni(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ai(g,C,j){return typeof g=="string"?(g=encodeURI(g).replace(C,wi),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function wi(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Hs=/[#\/\?@]/g,Ol=/[#\?:]/g,Jo=/[#\?]/g,yr=/[#\?@]/g,tl=/#/g;function os(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function $i(g){g.g||(g.g=new Map,g.h=0,g.i&&Yr(g.i,function(C,j){g.add(decodeURIComponent(C.replace(/\+/g," ")),j)}))}n=os.prototype,n.add=function(g,C){$i(this),this.i=null,g=ls(this,g);let j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(C),this.h+=1,this};function As(g,C){$i(g),C=ls(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function el(g,C){return $i(g),C=ls(g,C),g.g.has(C)}n.forEach=function(g,C){$i(this),this.g.forEach(function(j,Z){j.forEach(function(At){g.call(C,At,Z,this)},this)},this)};function nl(g,C){$i(g);let j=[];if(typeof C=="string")el(g,C)&&(j=j.concat(g.g.get(ls(g,C))));else for(g=Array.from(g.g.values()),C=0;C<g.length;C++)j=j.concat(g[C]);return j}n.set=function(g,C){return $i(this),this.i=null,g=ls(this,g),el(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=nl(this,g),g.length>0?String(g[0]):C):C};function _o(g,C,j){As(g,C),j.length>0&&(g.i=null,g.g.set(ls(g,C),_(j)),g.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(let Z=0;Z<C.length;Z++){var j=C[Z];const At=Xn(j);j=nl(this,j);for(let jt=0;jt<j.length;jt++){let Xt=At;j[jt]!==""&&(Xt+="="+Xn(j[jt])),g.push(Xt)}}return this.i=g.join("&")};function wo(g){const C=new os;return C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),C}function ls(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function jr(g,C){C&&!g.j&&($i(g),g.i=null,g.g.forEach(function(j,Z){const At=Z.toLowerCase();Z!=At&&(As(this,Z),_o(this,At,j))},g)),g.j=C}function Aa(g,C){const j=new pr;if(u.Image){const Z=new Image;Z.onload=y(kr,j,"TestLoadImage: loaded",!0,C,Z),Z.onerror=y(kr,j,"TestLoadImage: error",!1,C,Z),Z.onabort=y(kr,j,"TestLoadImage: abort",!1,C,Z),Z.ontimeout=y(kr,j,"TestLoadImage: timeout",!1,C,Z),u.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=g}else C(!1)}function us(g,C){const j=new pr,Z=new AbortController,At=setTimeout(()=>{Z.abort(),kr(j,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:Z.signal}).then(jt=>{clearTimeout(At),jt.ok?kr(j,"TestPingServer: ok",!0,C):kr(j,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(At),kr(j,"TestPingServer: error",!1,C)})}function kr(g,C,j,Z,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),Z(j)}catch{}}function Es(){this.g=new qe}function Re(g){this.i=g.Sb||null,this.h=g.ab||!1}A(Re,ve),Re.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(g,C){Vt.call(this),this.H=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Gs,Vt),n=Gs.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=C,this.readyState=1,Ki(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(C.body=g),(this.H||u).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?Ts(this):Ki(this),this.readyState==3&&So(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Ts(this))},n.Na=function(g){this.g&&(this.response=g,Ts(this))},n.ga=function(){this.g&&Ts(this)};function Ts(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ki(g)}n.setRequestHeader=function(g,C){this.A.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var j=C.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=C.next();return g.join(`\r
`)};function Ki(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pi(g){let C="";return bt(g,function(j,Z){C+=Z,C+=":",C+=j,C+=`\r
`}),C}function Ys(g,C,j){t:{for(Z in j){var Z=!1;break t}Z=!0}Z||(j=Pi(j),typeof g=="string"?j!=null&&Xn(j):vn(g,C,j))}function Mn(g){Vt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Mn,Vt);var Wr=/^https?$/i,Ws=["POST","PUT"];n=Mn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,C,j,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rr.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(jt){Ea(this,jt);return}if(g=j||"",j=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var At in Z)j.set(At,Z[At]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const jt of Z.keys())j.set(jt,Z.get(jt));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(j.keys()).find(jt=>jt.toLowerCase()=="content-type"),At=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Ws,C,void 0)>=0)||Z||At||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[jt,Xt]of j)this.g.setRequestHeader(jt,Xt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(jt){Ea(this,jt)}};function Ea(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.o=5,il(g),cs(g)}function il(g){g.A||(g.A=!0,re(g,"complete"),re(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,re(this,"complete"),re(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),Mn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},n.Xa=function(){$r(this)};function $r(g){if(g.h&&typeof o<"u"){if(g.v&&Kr(g)==4)setTimeout(g.Ca.bind(g),0);else if(re(g,"readystatechange"),Kr(g)==4){g.h=!1;try{const jt=g.ca();t:switch(jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break t;default:C=!1}var j;if(!(j=C)){var Z;if(Z=jt===0){let Xt=String(g.D).match(Zo)[1]||null;!Xt&&u.self&&u.self.location&&(Xt=u.self.location.protocol.slice(0,-1)),Z=!Wr.test(Xt?Xt.toLowerCase():"")}j=Z}if(j)re(g,"complete"),re(g,"success");else{g.o=6;try{var At=Kr(g)>2?g.g.statusText:""}catch{At=""}g.l=At+" ["+g.ca()+"]",il(g)}}finally{cs(g)}}}}function cs(g,C){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const j=g.g;g.g=null,C||re(g,"ready");try{j.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Kr(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),me(C)}};function Ri(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ka(g){const C={};g=(g.g&&Kr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<g.length;Z++){if(I(g[Z]))continue;var j=Mi(g[Z]);const At=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const jt=C[At]||[];C[At]=jt,jt.push(j)}Dt(C,function(Z){return Z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(g,C,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||C}function Ma(g){this.za=0,this.i=[],this.j=new pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,g),this.Za=ar("retryDelaySeedMs",1e4,g),this.Ta=ar("forwardChannelMaxRetries",2,g),this.va=ar("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(g&&g.concurrentRequestLimit),this.Ba=new Es,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ma.prototype,n.ka=8,n.I=1,n.connect=function(g,C,j,Z){we(0),this.W=g,this.H=C||{},j&&Z!==void 0&&(this.H.OSID=j,this.H.OAID=Z),this.F=this.X,this.J=Wt(this,null,this.W),ca(this)};function Cs(g){if(Pa(g),g.I==3){var C=g.V++,j=_i(g.J);if(vn(j,"SID",g.M),vn(j,"RID",C),vn(j,"TYPE","terminate"),Qr(g,j),C=new gr(g,g.j,C),C.M=2,C.A=Ss(_i(j)),j=!1,u.navigator&&u.navigator.sendBeacon)try{j=u.navigator.sendBeacon(C.A.toString(),"")}catch{}!j&&u.Image&&(new Image().src=C.A,j=!0),j||(C.g=le(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Lr(C)}Ft(g)}function Oa(g){g.g&&(Eo(g),g.g.cancel(),g.g=null)}function Pa(g){Oa(g),g.v&&(u.clearTimeout(g.v),g.v=null),U(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function ca(g){if(!Dr(g.h)&&!g.m){g.m=!0;var C=g.Ea;st||M(),St||(st(),St=!0),G.add(C,g),g.D=0}}function $s(g,C){return la(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=C.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=sn(d(g.Ea,g,C),pt(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const At=new gr(this,this.j,g);let jt=this.o;if(this.U&&(jt?(jt=nt(jt),z(jt,this.U)):jt=this.U),this.u!==null||this.R||(At.J=jt,jt=null),this.S)t:{for(var C=0,j=0;j<this.i.length;j++){e:{var Z=this.i[j];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break e}Z=void 0}if(Z===void 0)break;if(C+=Z,C>4096){C=j;break t}if(C===4096||j===this.i.length-1){C=j+1;break t}}C=1e3}else C=1e3;C=za(this,At,C),j=_i(this.J),vn(j,"RID",g),vn(j,"CVER",22),this.G&&vn(j,"X-HTTP-Session-Id",this.G),Qr(this,j),jt&&(this.R?C="headers="+Xn(Pi(jt))+"&"+C:this.u&&Ys(j,this.u,jt)),qs(this.h,At),this.Ra&&vn(j,"TYPE","init"),this.S?(vn(j,"$req",C),vn(j,"SID","null"),At.U=!0,Oi(At,j,null)):Oi(At,j,C),this.I=2}}else this.I==3&&(g?Ao(this,g):this.i.length==0||Dr(this.h)||Ao(this))};function Ao(g,C){var j;C?j=C.l:j=g.V++;const Z=_i(g.J);vn(Z,"SID",g.M),vn(Z,"RID",j),vn(Z,"AID",g.K),Qr(g,Z),g.u&&g.o&&Ys(Z,g.u,g.o),j=new gr(g,g.j,j,g.D+1),g.u===null&&(j.J=g.o),C&&(g.i=C.G.concat(g.i)),C=za(g,j,1e3),j.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),qs(g.h,j),Oi(j,Z,C)}function Qr(g,C){g.H&&bt(g.H,function(j,Z){vn(C,Z,j)}),g.l&&bt({},function(j,Z){vn(C,Z,j)})}function za(g,C,j){j=Math.min(g.i.length,j);const Z=g.l?d(g.l.Ka,g.l,g):null;t:{var At=g.i;let Ve=-1;for(;;){const Jn=["count="+j];Ve==-1?j>0?(Ve=At[0].g,Jn.push("ofs="+Ve)):Ve=0:Jn.push("ofs="+Ve);let ln=!0;for(let On=0;On<j;On++){var jt=At[On].g;const sr=At[On].map;if(jt-=Ve,jt<0)Ve=Math.max(0,At[On].g-100),ln=!1;else try{jt="req"+jt+"_"||"";try{var Xt=sr instanceof Map?sr:Object.entries(sr);for(const[vr,Yn]of Xt){let br=Yn;h(Yn)&&(br=Ke(Yn)),Jn.push(jt+vr+"="+encodeURIComponent(br))}}catch(vr){throw Jn.push(jt+"type="+encodeURIComponent("_badmap")),vr}}catch{Z&&Z(sr)}}if(ln){Xt=Jn.join("&");break t}}Xt=void 0}return g=g.i.splice(0,j),C.G=g,Xt}function rl(g){if(!g.g&&!g.v){g.Y=1;var C=g.Da;st||M(),St||(st(),St=!0),G.add(C,g),g.A=0}}function Ta(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=sn(d(g.Da,g),pt(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=sn(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Oa(this),S(this))};function Eo(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function S(g){g.g=new gr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var C=_i(g.na);vn(C,"RID","rpc"),vn(C,"SID",g.M),vn(C,"AID",g.K),vn(C,"CI",g.F?"0":"1"),!g.F&&g.ia&&vn(C,"TO",g.ia),vn(C,"TYPE","xmlhttp"),Qr(g,C),g.u&&g.o&&Ys(C,g.u,g.o),g.O&&(g.g.H=g.O);var j=g.g;g=g.ba,j.M=1,j.A=Ss(_i(C)),j.u=null,j.R=!0,Ir(j,g)}n.Va=function(){this.C!=null&&(this.C=null,Oa(this),Ta(this),we(19))};function U(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ut(g,C){var j=null;if(g.g==C){U(g),Eo(g),g.g=null;var Z=2}else if(Sa(g.h,C))j=C.G,bo(g.h,C),Z=1;else return;if(g.I!=0){if(C.o)if(Z==1){j=C.u?C.u.length:0,C=Date.now()-C.F;var At=g.D;Z=In(),re(Z,new be(Z,j)),ca(g)}else rl(g);else if(At=C.m,At==3||At==0&&C.X>0||!(Z==1&&$s(g,C)||Z==2&&Ta(g)))switch(j&&j.length>0&&(C=g.h,C.i=C.i.concat(j)),At){case 1:_t(g,5);break;case 4:_t(g,10);break;case 3:_t(g,6);break;default:_t(g,2)}}}function pt(g,C){let j=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(j*=2),j*C}function _t(g,C){if(g.j.info("Error code "+C),C==2){var j=d(g.bb,g),Z=g.Ua;const At=!Z;Z=new rr(Z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(Z,"https"),Ss(Z),At?Aa(Z.toString(),j):us(Z.toString(),j)}else we(2);g.I=0,g.l&&g.l.pa(C),Ft(g),Pa(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Ft(g){if(g.I=0,g.ja=[],g.l){const C=xo(g.h);(C.length!=0||g.i.length!=0)&&(B(g.ja,C),B(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Wt(g,C,j){var Z=j instanceof rr?_i(j):new rr(j);if(Z.g!="")C&&(Z.g=C+"."+Z.g),ss(Z,Z.u);else{var At=u.location;Z=At.protocol,C=C?C+"."+At.hostname:At.hostname,At=+At.port;const jt=new rr(null);Z&&cn(jt,Z),C&&(jt.g=C),At&&ss(jt,At),j&&(jt.h=j),Z=jt}return j=g.G,C=g.wa,j&&C&&vn(Z,j,C),vn(Z,"VER",g.ka),Qr(g,Z),Z}function le(g,C,j){if(C&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Aa&&!g.ma?new Mn(new Re({ab:j})):new Mn(g.ma),C.Fa(g.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}n=de.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Le(){}Le.prototype.g=function(g,C){return new Ee(g,C)};function Ee(g,C){Vt.call(this),this.g=new Ma(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(g?g["X-WebChannel-Client-Profile"]=C.sa:g={"X-WebChannel-Client-Profile":C.sa}),this.g.U=g,(g=C&&C.Qb)&&!I(g)&&(this.g.u=g),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!I(C)&&(this.g.G=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new qn(this)}A(Ee,Vt),Ee.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){Cs(this.g)},Ee.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.v&&(j={},j.__data__=Ke(g),g=j);C.i.push(new fi(C.Ya++,g)),C.I==3&&ca(C)},Ee.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,Ee.Z.N.call(this)};function fn(g){Ce.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){t:{for(const j in C){g=j;break t}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}A(fn,Ce);function Zn(){Pe.call(this),this.status=1}A(Zn,Pe);function qn(g){this.g=g}A(qn,de),qn.prototype.ra=function(){re(this.g,"a")},qn.prototype.qa=function(g){re(this.g,new fn(g))},qn.prototype.pa=function(g){re(this.g,new Zn)},qn.prototype.oa=function(){re(this.g,"b")},Le.prototype.createWebChannel=Le.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,Mx=function(){return new Le},kx=function(){return In()},jx=$e,v0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,up=qr,Nr.COMPLETE="complete",Dx=Nr,ci.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,wf=ci,Mn.prototype.listenOnce=Mn.prototype.K,Mn.prototype.getLastError=Mn.prototype.Ha,Mn.prototype.getLastErrorCode=Mn.prototype.ya,Mn.prototype.getStatus=Mn.prototype.ca,Mn.prototype.getResponseJson=Mn.prototype.La,Mn.prototype.getResponseText=Mn.prototype.la,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Fa,Lx=Mn}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});let xa=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};xa.UNAUTHENTICATED=new xa(null),xa.GOOGLE_CREDENTIALS=new xa("google-credentials-uid"),xa.FIRST_PARTY=new xa("first-party-uid"),xa.MOCK_USER=new xa("mock-user");let Ch="12.9.0";function kA(n){Ch=n}const sc=new xx("@firebase/firestore");function rh(){return sc.logLevel}function ue(n,...t){if(sc.logLevel<=Rn.DEBUG){const e=t.map(em);sc.debug(`Firestore (${Ch}): ${n}`,...e)}}function Dl(n,...t){if(sc.logLevel<=Rn.ERROR){const e=t.map(em);sc.error(`Firestore (${Ch}): ${n}`,...e)}}function oc(n,...t){if(sc.logLevel<=Rn.WARN){const e=t.map(em);sc.warn(`Firestore (${Ch}): ${n}`,...e)}}function em(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Ue(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Ox(n,r,e)}function Ox(n,t,e){let r=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Dl(r),new Error(r)}function Hn(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||Ox(t,s,r)}function nn(n,t){return n}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends gc{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xu{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Px{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(xa.UNAUTHENTICATED)))}shutdown(){}}class OA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class PA{constructor(t){this.t=t,this.currentUser=xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xu,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xu)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new Px(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hn(t===null||typeof t=="string",2055,{h:t}),new xa(t)}}class zA{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=xa.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FA{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new zA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(xa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class My{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ax(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Hn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new My(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UA(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=UA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<e&&(r+=t.charAt(s[o]%62))}return r}}function _n(n,t){return n<t?-1:n>t?1:0}function b0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const s=n.charAt(r),o=t.charAt(r);if(s!==o)return Dg(s)===Dg(o)?_n(s,o):Dg(s)?1:-1}return _n(n.length,t.length)}const VA=55296,qA=57343;function Dg(n){const t=n.charCodeAt(0);return t>=VA&&t<=qA}function bh(n,t,e){return n.length===t.length&&n.every(((r,s)=>e(r,t[s])))}const Oy="__name__";class qo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ue(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ue(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return qo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const o=qo.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return _n(t.length,e.length)}static compareSegments(t,e){const r=qo.isNumericId(t),s=qo.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?qo.extractNumericId(t).compare(qo.extractNumericId(e)):b0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bu.fromString(t.substring(4,t.length-2))}}class hi extends qo{construct(t,e,r){return new hi(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((s=>s.length>0)))}return new hi(e)}static emptyPath(){return new hi([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ra extends qo{construct(t,e,r){return new ra(t,e,r)}static isValidIdentifier(t){return HA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ra.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new ra([Oy])}static fromServerFormat(t){const e=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;s<t.length;){const h=t[s];if(h==="\\"){if(s+1===t.length)throw new ae(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new ae(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ra(e)}static emptyPath(){return new ra([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(hi.fromString(t))}static fromName(t){return new ke(hi.fromString(t).popFirst(5))}static empty(){return new ke(hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new hi(t.slice()))}}function zx(n,t,e){if(!e)throw new ae(Gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function GA(n,t,e,r){if(t===!0&&r===!0)throw new ae(Gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Py(n){if(!ke.isDocumentKey(n))throw new ae(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zy(n){if(ke.isDocumentKey(n))throw new ae(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Yo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ae(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Yp(n);throw new ae(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fr(n,t){const e={typeString:n};return t&&(e.value=t),e}function Wf(n,t){if(!Fx(n))throw new ae(Gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const s=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){e=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new ae(Gt.INVALID_ARGUMENT,e);return!0}const Fy=-62135596800,By=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*By);return new bi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Fy)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wf(t,bi._jsonSchema))return new bi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Fy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bi._jsonSchemaVersion="firestore/timestamp/1.0",bi._jsonSchema={type:fr("string",bi._jsonSchemaVersion),seconds:fr("number"),nanoseconds:fr("number")};class Xe{static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new bi(0,0))}static max(){return new Xe(new bi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pf=-1;function YA(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(r===1e9?new bi(e+1,0):new bi(e,r));return new Su(s,ke.empty(),t)}function WA(n){return new Su(n.readTime,n.key,Pf)}class Su{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Su(Xe.min(),ke.empty(),Pf)}static max(){return new Su(Xe.max(),ke.empty(),Pf)}}function $A(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ke.comparator(n.documentKey,t.documentKey),e!==0?e:_n(n.largestBatchId,t.largestBatchId))}const KA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Nh(n){if(n.code!==Gt.FAILED_PRECONDITION||n.message!==KA)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class $t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $t(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof $t?e:$t.resolve(e)}catch(e){return $t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):$t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):$t.reject(e)}static resolve(t){return new $t(((e,r)=>{e(t)}))}static reject(t){return new $t(((e,r)=>{r(t)}))}static waitFor(t){return new $t(((e,r)=>{let s=0,o=0,u=!1;t.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&e()}),(f=>r(f)))})),u=!0,o===s&&e()}))}static or(t){let e=$t.resolve(!1);for(const r of t)e=e.next((s=>s?$t.resolve(s):r()));return e}static forEach(t,e){const r=[];return t.forEach(((s,o)=>{r.push(e.call(this,s,o))})),this.waitFor(r)}static mapArray(t,e){return new $t(((r,s)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{u[d]=y,++h,h===o&&r(u)}),(y=>s(y)))}}))}static doWhile(t,e){return new $t(((r,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):r()};o()}))}}function XA(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Rh(n){return n.name==="IndexedDbTransactionError"}class Wp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Wp.ce=-1;const im=-1;function $p(n){return n==null}function Ep(n){return n===0&&1/n==-1/0}function ZA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ep(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bx="";function JA(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Uy(t)),t=t6(n.get(e),t);return Uy(t)}function t6(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case Bx:e+="";break;default:e+=o}}return e}function Uy(n){return n+Bx+""}function Vy(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Iu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ux(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ki{constructor(t,e){this.comparator=t,this.root=e||ia.EMPTY}insert(t,e){return new ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ia.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $d(this.root,t,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $d(this.root,t,this.comparator,!0)}}class $d{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ia{constructor(t,e,r,s,o){this.key=t,this.value=e,this.color=r??ia.RED,this.left=s??ia.EMPTY,this.right=o??ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,o){return new ia(t??this.key,e??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,r),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ia.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ue(27949);return t+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1;ia.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(t,e,r,s,o){return this}insert(t,e,r){return new ia(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qy(this.data.getIterator())}getIteratorFrom(t){return new qy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Cr(this.comparator);return e.data=t,e}}class qy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bs{constructor(t){this.fields=t,t.sort(ra.comparator)}static empty(){return new bs([])}unionWith(t){let e=new Cr(ra.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new bs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bh(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class aa{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vx("Invalid base64 string: "+o):o}})(t);return new aa(e)}static fromUint8Array(t){const e=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(t);return new aa(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}aa.EMPTY_BYTE_STRING=new aa("");const e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(n){if(Hn(!!n,39018),typeof n=="string"){let t=0;const e=e6.exec(n);if(Hn(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Eu(n){return typeof n=="string"?aa.fromBase64String(n):aa.fromUint8Array(n)}const qx="server_timestamp",Hx="__type__",Gx="__previous_value__",Yx="__local_write_time__";function rm(n){return(n?.mapValue?.fields||{})[Hx]?.stringValue===qx}function Kp(n){const t=n.mapValue.fields[Gx];return rm(t)?Kp(t):t}function zf(n){const t=Au(n.mapValue.fields[Yx].timestampValue);return new bi(t.seconds,t.nanos)}class n6{constructor(t,e,r,s,o,u,h,f,d,y,A){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=A}}const Tp="(default)";class Ff{constructor(t,e){this.projectId=t,this.database=e||Tp}static empty(){return new Ff("","")}get isDefaultDatabase(){return this.database===Tp}isEqual(t){return t instanceof Ff&&t.projectId===this.projectId&&t.database===this.database}}function i6(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(n.options.projectId,t)}const Wx="__type__",r6="__max__",Kd={mapValue:{}},$x="__vector__",Cp="value";function Tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rm(n)?4:s6(n)?9007199254740991:a6(n)?10:11:Ue(28295,{value:n})}function Qo(n,t){if(n===t)return!0;const e=Tu(n);if(e!==Tu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return zf(n).isEqual(zf(t));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Au(s.timestampValue),h=Au(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(s,o){return Eu(s.bytesValue).isEqual(Eu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(s,o){return Zi(s.geoPointValue.latitude)===Zi(o.geoPointValue.latitude)&&Zi(s.geoPointValue.longitude)===Zi(o.geoPointValue.longitude)})(n,t);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Zi(s.integerValue)===Zi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Zi(s.doubleValue),h=Zi(o.doubleValue);return u===h?Ep(u)===Ep(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return bh(n.arrayValue.values||[],t.arrayValue.values||[],Qo);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Vy(u)!==Vy(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Qo(u[f],h[f])))return!1;return!0})(n,t);default:return Ue(52216,{left:n})}}function Bf(n,t){return(n.values||[]).find((e=>Qo(e,t)))!==void 0}function xh(n,t){if(n===t)return 0;const e=Tu(n),r=Tu(t);if(e!==r)return _n(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=Zi(o.integerValue||o.doubleValue),f=Zi(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Hy(n.timestampValue,t.timestampValue);case 4:return Hy(zf(n),zf(t));case 5:return b0(n.stringValue,t.stringValue);case 6:return(function(o,u){const h=Eu(o),f=Eu(u);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=_n(h[d],f[d]);if(y!==0)return y}return _n(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=_n(Zi(o.latitude),Zi(u.latitude));return h!==0?h:_n(Zi(o.longitude),Zi(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Gy(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[Cp]?.arrayValue,y=f[Cp]?.arrayValue,A=_n(d?.values?.length||0,y?.values?.length||0);return A!==0?A:Gy(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Kd.mapValue&&u===Kd.mapValue)return 0;if(o===Kd.mapValue)return 1;if(u===Kd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let A=0;A<f.length&&A<y.length;++A){const T=b0(f[A],y[A]);if(T!==0)return T;const _=xh(h[f[A]],d[y[A]]);if(_!==0)return _}return _n(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Ue(23264,{he:e})}}function Hy(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return _n(n,t);const e=Au(n),r=Au(t),s=_n(e.seconds,r.seconds);return s!==0?s:_n(e.nanos,r.nanos)}function Gy(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const o=xh(e[s],r[s]);if(o)return o}return _n(e.length,r.length)}function _h(n){return x0(n)}function x0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Au(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Eu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ke.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",s=!0;for(const o of e.values||[])s?s=!1:r+=",",r+=x0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${x0(e.fields[u])}`;return s+"}"})(n.mapValue):Ue(61005,{value:n})}function cp(n){switch(Tu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kp(n);return t?16+cp(t):16;case 5:return 2*n.stringValue.length;case 6:return Eu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+cp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Iu(r.fields,((o,u)=>{s+=o.length+cp(u)})),s})(n.mapValue);default:throw Ue(13486,{value:n})}}function Yy(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _0(n){return!!n&&"integerValue"in n}function am(n){return!!n&&"arrayValue"in n}function Wy(n){return!!n&&"nullValue"in n}function $y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hp(n){return!!n&&"mapValue"in n}function a6(n){return(n?.mapValue?.fields||{})[Wx]?.stringValue===$x}function Cf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Iu(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Cf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Cf(n.arrayValue.values[e]);return t}return{...n}}function s6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===r6}class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!hp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cf(e)}setAll(t){let e=ra.emptyPath(),r={},s=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,s),r={},s=[],e=h.popLast()}u?r[h.lastSegment()]=Cf(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,s)}delete(t){const e=this.field(t.popLast());hp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];hp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){Iu(e,((s,o)=>t[s]=o));for(const s of r)delete t[s]}clone(){return new es(Cf(this.value))}}function Kx(n){const t=[];return Iu(n.fields,((e,r)=>{const s=new ra([e]);if(hp(r)){const o=Kx(r.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)})),new bs(t)}class _a{constructor(t,e,r,s,o,u,h){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new _a(t,0,Xe.min(),Xe.min(),Xe.min(),es.empty(),0)}static newFoundDocument(t,e,r,s){return new _a(t,1,e,Xe.min(),r,s,0)}static newNoDocument(t,e){return new _a(t,2,e,Xe.min(),Xe.min(),es.empty(),0)}static newUnknownDocument(t,e){return new _a(t,3,e,Xe.min(),Xe.min(),es.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _a&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Np{constructor(t,e){this.position=t,this.inclusive=e}}function Ky(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(u.referenceValue),e.key):r=xh(u,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qy(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qo(n.position[e],t.position[e]))return!1;return!0}class Uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function o6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Qx{}class hr extends Qx{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new u6(t,e,r):e==="array-contains"?new f6(t,r):e==="in"?new d6(t,r):e==="not-in"?new p6(t,r):e==="array-contains-any"?new g6(t,r):new hr(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new c6(t,r):new h6(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(xh(e,this.value)):e!==null&&Tu(this.value)===Tu(e)&&this.matchesComparison(xh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends Qx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new po(t,e)}matches(t){return Xx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function Zx(n){return l6(n)&&Xx(n)}function l6(n){for(const t of n.filters)if(t instanceof po)return!1;return!0}function w0(n){if(n instanceof hr)return n.field.canonicalString()+n.op.toString()+_h(n.value);if(Zx(n))return n.filters.map((t=>w0(t))).join(",");{const t=n.filters.map((e=>w0(e))).join(",");return`${n.op}(${t})`}}function Jx(n,t){return n instanceof hr?(function(r,s){return s instanceof hr&&r.op===s.op&&r.field.isEqual(s.field)&&Qo(r.value,s.value)})(n,t):n instanceof po?(function(r,s){return s instanceof po&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&Jx(u,s.filters[h])),!0):!1})(n,t):void Ue(19439)}function t_(n){return n instanceof hr?(function(e){return`${e.field.canonicalString()} ${e.op} ${_h(e.value)}`})(n):n instanceof po?(function(e){return e.op.toString()+" {"+e.getFilters().map(t_).join(" ,")+"}"})(n):"Filter"}class u6 extends hr{constructor(t,e,r){super(t,e,r),this.key=ke.fromName(r.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class c6 extends hr{constructor(t,e){super(t,"in",e),this.keys=e_("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class h6 extends hr{constructor(t,e){super(t,"not-in",e),this.keys=e_("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function e_(n,t){return(t.arrayValue?.values||[]).map((e=>ke.fromName(e.referenceValue)))}class f6 extends hr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return am(e)&&Bf(e.arrayValue,this.value)}}class d6 extends hr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Bf(this.value.arrayValue,e)}}class p6 extends hr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Bf(this.value.arrayValue,e)}}class g6 extends hr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!am(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Bf(this.value.arrayValue,r)))}}class m6{constructor(t,e=null,r=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Xy(n,t=null,e=[],r=[],s=null,o=null,u=null){return new m6(n,t,e,r,s,o,u)}function sm(n){const t=nn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>w0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),$p(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>_h(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>_h(r))).join(",")),t.Te=e}return t.Te}function om(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!o6(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Jx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Qy(n.startAt,t.startAt)&&Qy(n.endAt,t.endAt)}function S0(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ih{constructor(t,e=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y6(n,t,e,r,s,o,u,h){return new Ih(n,t,e,r,s,o,u,h)}function lm(n){return new Ih(n)}function Zy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function v6(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function n_(n){return n.collectionGroup!==null}function Nf(n){const t=nn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Cr(ra.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Uf(o,r))})),e.has(ra.keyField().canonicalString())||t.Ie.push(new Uf(ra.keyField(),r))}return t.Ie}function Wo(n){const t=nn(n);return t.Ee||(t.Ee=b6(t,Nf(n))),t.Ee}function b6(n,t){if(n.limitType==="F")return Xy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Uf(s.field,o)}));const e=n.endAt?new Np(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Np(n.startAt.position,n.startAt.inclusive):null;return Xy(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function A0(n,t){const e=n.filters.concat([t]);return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function x6(n,t){const e=n.explicitOrderBy.concat([t]);return new Ih(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Rp(n,t,e){return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qp(n,t){return om(Wo(n),Wo(t))&&n.limitType===t.limitType}function i_(n){return`${sm(Wo(n))}|lt:${n.limitType}`}function ah(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((s=>t_(s))).join(", ")}]`),$p(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>_h(s))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>_h(s))).join(",")),`Target(${r})`})(Wo(n))}; limitType=${n.limitType})`}function Xp(n,t){return t.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,s){for(const o of Nf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,t)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const d=Ky(u,h,f);return u.inclusive?d<=0:d<0})(r.startAt,Nf(r),s)||r.endAt&&!(function(u,h,f){const d=Ky(u,h,f);return u.inclusive?d>=0:d>0})(r.endAt,Nf(r),s))})(n,t)}function _6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function r_(n){return(t,e)=>{let r=!1;for(const s of Nf(n)){const o=w6(s,t,e);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function w6(n,t,e){const r=n.field.isKeyField()?ke.comparator(t.key,e.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?xh(f,d):Ue(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class mc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Iu(this.inner,((e,r)=>{for(const[s,o]of r)t(s,o)}))}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}const S6=new ki(ke.comparator);function jl(){return S6}const a_=new ki(ke.comparator);function Sf(...n){let t=a_;for(const e of n)t=t.insert(e.key,e);return t}function s_(n){let t=a_;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ec(){return Rf()}function o_(){return Rf()}function Rf(){return new mc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const A6=new ki(ke.comparator),E6=new Cr(ke.comparator);function wn(...n){let t=E6;for(const e of n)t=t.add(e);return t}const T6=new Cr(_n);function C6(){return T6}function um(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(t)?"-0":t}}function l_(n){return{integerValue:""+n}}function N6(n,t){return ZA(t)?l_(t):um(n,t)}class Zp{constructor(){this._=void 0}}function R6(n,t,e){return n instanceof Ip?(function(s,o){const u={fields:{[Hx]:{stringValue:qx},[Yx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&rm(o)&&(o=Kp(o)),o&&(u.fields[Gx]=o),{mapValue:u}})(e,t):n instanceof Vf?c_(n,t):n instanceof qf?h_(n,t):(function(s,o){const u=u_(s,o),h=Jy(u)+Jy(s.Ae);return _0(u)&&_0(s.Ae)?l_(h):um(s.serializer,h)})(n,t)}function I6(n,t,e){return n instanceof Vf?c_(n,t):n instanceof qf?h_(n,t):e}function u_(n,t){return n instanceof Lp?(function(r){return _0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class Ip extends Zp{}class Vf extends Zp{constructor(t){super(),this.elements=t}}function c_(n,t){const e=f_(t);for(const r of n.elements)e.some((s=>Qo(s,r)))||e.push(r);return{arrayValue:{values:e}}}class qf extends Zp{constructor(t){super(),this.elements=t}}function h_(n,t){let e=f_(t);for(const r of n.elements)e=e.filter((s=>!Qo(s,r)));return{arrayValue:{values:e}}}class Lp extends Zp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Jy(n){return Zi(n.integerValue||n.doubleValue)}function f_(n){return am(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function L6(n,t){return n.field.isEqual(t.field)&&(function(r,s){return r instanceof Vf&&s instanceof Vf||r instanceof qf&&s instanceof qf?bh(r.elements,s.elements,Qo):r instanceof Lp&&s instanceof Lp?Qo(r.Ae,s.Ae):r instanceof Ip&&s instanceof Ip})(n.transform,t.transform)}class D6{constructor(t,e){this.version=t,this.transformResults=e}}class ho{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ho}static exists(t){return new ho(void 0,t)}static updateTime(t){return new ho(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Jp{}function d_(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new cm(n.key,ho.none()):new $f(n.key,n.data,ho.none());{const e=n.data,r=es.empty();let s=new Cr(ra.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Lu(n.key,r,new bs(s.toArray()),ho.none())}}function j6(n,t,e){n instanceof $f?(function(s,o,u){const h=s.value.clone(),f=ev(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Lu?(function(s,o,u){if(!fp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=ev(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(p_(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function If(n,t,e,r){return n instanceof $f?(function(o,u,h,f){if(!fp(o.precondition,u))return h;const d=o.value.clone(),y=nv(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,r):n instanceof Lu?(function(o,u,h,f){if(!fp(o.precondition,u))return h;const d=nv(o.fieldTransforms,f,u),y=u.data;return y.setAll(p_(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,r):(function(o,u,h){return fp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function k6(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),o=u_(r.transform,s||null);o!=null&&(e===null&&(e=es.empty()),e.set(r.field,o))}return e||null}function tv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bh(r,s,((o,u)=>L6(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $f extends Jp{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lu extends Jp{constructor(t,e,r,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p_(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function ev(n,t,e){const r=new Map;Hn(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,h=t.data.field(o.field);r.set(o.field,I6(u,h,e[s]))}return r}function nv(n,t,e){const r=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);r.set(s.field,R6(o,u,t))}return r}class cm extends Jp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M6 extends Jp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O6{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&j6(o,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=If(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=If(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=o_();return this.mutations.forEach((s=>{const o=t.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(s.key)?null:h;const f=d_(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wn())}isEqual(t){return this.batchId===t.batchId&&bh(this.mutations,t.mutations,((e,r)=>tv(e,r)))&&bh(this.baseMutations,t.baseMutations,((e,r)=>tv(e,r)))}}class hm{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){Hn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return A6})();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new hm(t,e,r,s)}}class P6{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class z6{constructor(t,e){this.count=t,this.unchangedNames=e}}var cr,Nn;function F6(n){switch(n){case Gt.OK:return Ue(64938);case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function g_(n){if(n===void 0)return Dl("GRPC error has no .code"),Gt.UNKNOWN;switch(n){case cr.OK:return Gt.OK;case cr.CANCELLED:return Gt.CANCELLED;case cr.UNKNOWN:return Gt.UNKNOWN;case cr.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case cr.INTERNAL:return Gt.INTERNAL;case cr.UNAVAILABLE:return Gt.UNAVAILABLE;case cr.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case cr.NOT_FOUND:return Gt.NOT_FOUND;case cr.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case cr.ABORTED:return Gt.ABORTED;case cr.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case cr.DATA_LOSS:return Gt.DATA_LOSS;default:return Ue(39323,{code:n})}}(Nn=cr||(cr={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";function B6(){return new TextEncoder}const U6=new bu([4294967295,4294967295],0);function iv(n){const t=B6().encode(n),e=new Ix;return e.update(t),new Uint8Array(e.digest())}function rv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new bu([e,r],0),new bu([s,o],0)]}class fm{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Af(`Invalid padding: ${e}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Af(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=bu.fromNumber(this.ge)}ye(t,e,r){let s=t.add(e.multiply(bu.fromNumber(r)));return s.compare(U6)===1&&(s=new bu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=iv(t),[r,s]=rv(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new fm(o,s,e);return r.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=iv(t),[r,s]=rv(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.be(u)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class t1{constructor(t,e,r,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,Kf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new t1(Xe.min(),s,new ki(_n),jl(),wn())}}class Kf{constructor(t,e,r,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Kf(r,e,wn(),wn(),wn())}}class dp{constructor(t,e,r,s){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=s}}class m_{constructor(t,e){this.targetId=t,this.Ce=e}}class y_{constructor(t,e,r=aa.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class av{constructor(){this.ve=0,this.Fe=sv(),this.Me=aa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wn(),e=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:Ue(38017,{changeType:o})}})),new Kf(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=sv()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class V6{constructor(t){this.Ge=t,this.ze=new Map,this.je=jl(),this.He=Qd(),this.Je=Qd(),this.Ze=new ki(_n)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Ue(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,r=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(S0(o))if(r===0){const u=new ke(o.path);this.et(e,u,_a.newNoDocument(u,Xe.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(e);if(u!==r){const h=this.ut(t),f=h?this.ct(h,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=e;let u,h;try{u=Eu(r).toUint8Array()}catch(f){if(f instanceof Vx)return oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new fm(u,s,o)}catch(f){return oc(f instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&S0(h.target)){const f=new ke(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,_a.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.Ke())}}));let r=wn();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const s=new t1(t,e,this.Ze,this.je,r);return this.je=jl(),this.He=Qd(),this.Je=Qd(),this.Ze=new ki(_n),s}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.qe(e,1):s.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new av,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Cr(_n),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Cr(_n),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new av),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qd(){return new ki(ke.comparator)}function sv(){return new ki(ke.comparator)}const q6={asc:"ASCENDING",desc:"DESCENDING"},H6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G6={and:"AND",or:"OR"};class Y6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function E0(n,t){return n.useProto3Json||$p(t)?t:{value:t}}function Dp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v_(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function W6(n,t){return Dp(n,t.toTimestamp())}function $o(n){return Hn(!!n,49232),Xe.fromTimestamp((function(e){const r=Au(e);return new bi(r.seconds,r.nanos)})(n))}function dm(n,t){return T0(n,t).canonicalString()}function T0(n,t){const e=(function(s){return new hi(["projects",s.projectId,"databases",s.database])})(n).child("documents");return t===void 0?e:e.child(t)}function b_(n){const t=hi.fromString(n);return Hn(A_(t),10190,{key:t.toString()}),t}function C0(n,t){return dm(n.databaseId,t.path)}function jg(n,t){const e=b_(t);if(e.get(1)!==n.databaseId.projectId)throw new ae(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ae(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(__(e))}function x_(n,t){return dm(n.databaseId,t)}function $6(n){const t=b_(n);return t.length===4?hi.emptyPath():__(t)}function N0(n){return new hi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function __(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ov(n,t,e){return{name:C0(n,t),fields:e.value.mapValue.fields}}function K6(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Hn(y===void 0||typeof y=="string",58123),aa.fromBase64String(y||"")):(Hn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),aa.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(d){const y=d.code===void 0?Gt.UNKNOWN:g_(d.code);return new ae(y,d.message||"")})(u);e=new y_(r,s,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=jg(n,r.document.name),o=$o(r.document.updateTime),u=r.document.createTime?$o(r.document.createTime):Xe.min(),h=new es({mapValue:{fields:r.document.fields}}),f=_a.newFoundDocument(s,o,u,h),d=r.targetIds||[],y=r.removedTargetIds||[];e=new dp(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=jg(n,r.document),o=r.readTime?$o(r.readTime):Xe.min(),u=_a.newNoDocument(s,o),h=r.removedTargetIds||[];e=new dp([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=jg(n,r.document),o=r.removedTargetIds||[];e=new dp([],o,s,null)}else{if(!("filter"in t))return Ue(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new z6(s,o),h=r.targetId;e=new m_(h,u)}}return e}function Q6(n,t){let e;if(t instanceof $f)e={update:ov(n,t.key,t.value)};else if(t instanceof cm)e={delete:C0(n,t.key)};else if(t instanceof Lu)e={update:ov(n,t.key,t.data),updateMask:aE(t.fieldMask)};else{if(!(t instanceof M6))return Ue(16599,{dt:t.type});e={verify:C0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Ip)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Lp)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ue(20930,{transform:u.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:W6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)})(n,t.precondition)),e}function X6(n,t){return n&&n.length>0?(Hn(t!==void 0,14353),n.map((e=>(function(s,o){let u=s.updateTime?$o(s.updateTime):$o(o);return u.isEqual(Xe.min())&&(u=$o(o)),new D6(u,s.transformResults||[])})(e,t)))):[]}function Z6(n,t){return{documents:[x_(n,t.path)]}}function J6(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=x_(n,s);const o=(function(d){if(d.length!==0)return S_(po.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(T){return{field:sh(T.field),direction:nE(T.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=E0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function tE(n){let t=$6(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const y=e.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(A){const T=w_(A);return T instanceof po&&Zx(T)?T.getFilters():[T]})(e.where));let u=[];e.orderBy&&(u=(function(A){return A.map((T=>(function(B){return new Uf(oh(B.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let T;return T=typeof A=="object"?A.value:A,$p(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(A){const T=!!A.before,_=A.values||[];return new Np(_,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const T=!A.before,_=A.values||[];return new Np(_,T)})(e.endAt)),y6(t,s,u,o,h,"F",f,d)}function eE(n,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function w_(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=oh(e.unaryFilter.field);return hr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oh(e.unaryFilter.field);return hr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=oh(e.unaryFilter.field);return hr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=oh(e.unaryFilter.field);return hr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(e){return hr.create(oh(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return po.create(e.compositeFilter.filters.map((r=>w_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(e.compositeFilter.op))})(n):Ue(30097,{filter:n})}function nE(n){return q6[n]}function iE(n){return H6[n]}function rE(n){return G6[n]}function sh(n){return{fieldPath:n.canonicalString()}}function oh(n){return ra.fromServerFormat(n.fieldPath)}function S_(n){return n instanceof hr?(function(e){if(e.op==="=="){if($y(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NAN"}};if(Wy(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($y(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NAN"}};if(Wy(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(e.field),op:iE(e.op),value:e.value}}})(n):n instanceof po?(function(e){const r=e.getFilters().map((s=>S_(s)));return r.length===1?r[0]:{compositeFilter:{op:rE(e.op),filters:r}}})(n):Ue(54877,{filter:n})}function aE(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function A_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function E_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class pu{constructor(t,e,r,s,o=Xe.min(),u=Xe.min(),h=aa.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new pu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sE{constructor(t){this.yt=t}}function oE(n){const t=tE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rp(t,t.limit,"L"):t}class lE{constructor(){this.Sn=new uE}addToCollectionParentIndex(t,e){return this.Sn.add(e),$t.resolve()}getCollectionParents(t,e){return $t.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return $t.resolve()}deleteFieldIndex(t,e){return $t.resolve()}deleteAllFieldIndexes(t){return $t.resolve()}createTargetIndexes(t,e){return $t.resolve()}getDocumentsMatchingTarget(t,e){return $t.resolve(null)}getIndexType(t,e){return $t.resolve(0)}getFieldIndexes(t,e){return $t.resolve([])}getNextCollectionGroupToUpdate(t){return $t.resolve(null)}getMinOffset(t,e){return $t.resolve(Su.min())}getMinOffsetFromCollectionGroup(t,e){return $t.resolve(Su.min())}updateCollectionGroup(t,e,r){return $t.resolve()}updateIndexEntries(t,e){return $t.resolve()}}class uE{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new Cr(hi.comparator),o=!s.has(r);return this.index[e]=s.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Cr(hi.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T_=41943040;class ts{static withCacheSize(t){return new ts(t,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(T_,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class wh{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new wh(0)}static ar(){return new wh(-1)}}const uv="LruGarbageCollector",cE=1048576;function cv([n,t],[e,r]){const s=_n(n,e);return s===0?_n(t,r):s}class hE{constructor(t){this.Pr=t,this.buffer=new Cr(cv),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();cv(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fE{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ue(uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Rh(e)?ue(uv,"Ignoring IndexedDB error during garbage collection: ",e):await Nh(e)}await this.Ar(3e5)}))}}class dE{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return $t.resolve(Wp.ce);const r=new hE(e);return this.Vr.forEachTarget(t,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(lv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,s,o,u,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,u=Date.now(),this.nthSequenceNumber(t,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(t,r,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(d=Date.now(),rh()<=Rn.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function pE(n,t){return new dE(n,t)}class gE{constructor(){this.changes=new mc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_a.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?$t.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mE{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yE{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(r!==null&&If(r.mutation,s,bs.empty(),bi.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,wn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=wn()){const s=ec();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,r).next((o=>{let u=Sf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const r=ec();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,wn())))}populateOverlays(t,e,r){const s=[];return r.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,r,s){let o=jl();const u=Rf(),h=(function(){return Rf()})();return e.forEach(((f,d)=>{const y=r.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof Lu)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),If(y.mutation,d,y.mutation.getFieldMask(),bi.now())):u.set(d.key,bs.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),e.forEach(((d,y)=>h.set(d,new mE(y,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Rf();let s=new ki(((u,h)=>u-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=r.get(f)||bs.empty();y=h.applyToLocalView(d,y),r.set(f,y);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,A=o_();y.forEach((T=>{if(!o.has(T)){const _=d_(e.get(T),r.get(T));_!==null&&A.set(T,_),o=o.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,A))}return $t.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,s){return v6(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):n_(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-o.size):$t.resolve(ec());let h=Pf,f=o;return u.next((d=>$t.forEach(d,((y,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(y)?$t.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,wn()))).next((y=>({batchId:h,changes:s_(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next((r=>{let s=Sf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const o=e.collectionGroup;let u=Sf();return this.indexManager.getCollectionParents(t,o).next((h=>$t.forEach(h,(f=>{const d=(function(A,T){return new Ih(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,s).next((y=>{y.forEach(((A,T)=>{u=u.insert(A,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,_a.newInvalidDocument(y)))}));let h=Sf();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&If(y.mutation,d,bs.empty(),bi.now()),Xp(e,d)&&(h=h.insert(f,d))})),h}))}}class vE{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return $t.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:$o(s.createTime)}})(e)),$t.resolve()}getNamedQuery(t,e){return $t.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(s){return{name:s.name,query:oE(s.bundledQuery),readTime:$o(s.readTime)}})(e)),$t.resolve()}}class bE{constructor(){this.overlays=new ki(ke.comparator),this.Lr=new Map}getOverlay(t,e){return $t.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ec();return $t.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((s,o)=>{this.bt(t,e,o)})),$t.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),$t.resolve()}getOverlaysForCollection(t,e,r){const s=ec(),o=e.length+1,u=new ke(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return $t.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let o=new ki(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=ec(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=ec(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=s)););return $t.resolve(h)}bt(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new P6(e,r));let o=this.Lr.get(e);o===void 0&&(o=wn(),this.Lr.set(e,o)),this.Lr.set(e,o.add(r.key))}}class xE{constructor(){this.sessionToken=aa.EMPTY_BYTE_STRING}getSessionToken(t){return $t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,$t.resolve()}}class pm{constructor(){this.kr=new Cr(Ur.Kr),this.qr=new Cr(Ur.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new Ur(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new Ur(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new ke(new hi([])),r=new Ur(e,t),s=new Ur(e,t+1),o=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ke(new hi([])),r=new Ur(e,t),s=new Ur(e,t+1);let o=wn();return this.qr.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Ur(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Ur{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ke.comparator(t.key,e.key)||_n(t.Hr,e.Hr)}static Ur(t,e){return _n(t.Hr,e.Hr)||ke.comparator(t.key,e.key)}}class _E{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Cr(Ur.Kr)}checkEmpty(t){return $t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new O6(o,e,r,s);this.mutationQueue.push(u);for(const h of s)this.Jr=this.Jr.add(new Ur(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return $t.resolve(u)}lookupMutationBatch(t,e){return $t.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.Xr(r),o=s<0?0:s;return $t.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(this.mutationQueue.length===0?im:this.Yn-1)}getAllMutationBatches(t){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ur(e,0),s=new Ur(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(u=>{const h=this.Zr(u.Hr);o.push(h)})),$t.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Cr(_n);return e.forEach((s=>{const o=new Ur(s,0),u=new Ur(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{r=r.add(h.Hr)}))})),$t.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const u=new Ur(new ke(o),0);let h=new Cr(_n);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Hr)),!0)}),u),$t.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((r=>{const s=this.Zr(r);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Hn(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $t.forEach(e.mutations,(s=>{const o=new Ur(s.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new Ur(e,0),s=this.Jr.firstAfterOrEqual(r);return $t.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,$t.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class wE{constructor(t){this.ti=t,this.docs=(function(){return new ki(ke.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),o=s?s.size:0,u=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return $t.resolve(r?r.document.mutableCopy():_a.newInvalidDocument(e))}getEntries(t,e){let r=jl();return e.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():_a.newInvalidDocument(s))})),$t.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let o=jl();const u=e.path,h=new ke(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||$A(WA(y),r)<=0||(s.has(y.key)||Xp(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return $t.resolve(o)}getAllFromCollectionGroup(t,e,r,s){Ue(9500)}ni(t,e){return $t.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new SE(this)}getSize(t){return $t.resolve(this.size)}}class SE extends gE{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?e.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)})),$t.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class AE{constructor(t){this.persistence=t,this.ri=new mc((e=>sm(e)),om),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ii=0,this.si=new pm,this.targetCount=0,this.oi=wh._r()}forEachTarget(t,e){return this.ri.forEach(((r,s)=>e(s))),$t.resolve()}getLastRemoteSnapshotVersion(t){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $t.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),$t.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new wh(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,$t.resolve()}updateTargetData(t,e){return this.lr(e),$t.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,$t.resolve()}removeTargets(t,e,r){let s=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),$t.waitFor(o).next((()=>s))}getTargetCount(t){return $t.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return $t.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),$t.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((u=>{o.push(s.markPotentiallyOrphaned(t,u))})),$t.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),$t.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return $t.resolve(r)}containsKey(t,e){return $t.resolve(this.si.containsKey(e))}}class C_{constructor(t,e){this._i={},this.overlays={},this.ai=new Wp(0),this.ui=!1,this.ui=!0,this.ci=new xE,this.referenceDelegate=t(this),this.li=new AE(this),this.indexManager=new lE,this.remoteDocumentCache=(function(s){return new wE(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new sE(e),this.Pi=new vE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bE,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new _E(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ue("MemoryPersistence","Starting transaction:",t);const s=new EE(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(t,e){return $t.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class EE extends QA{constructor(t){super(),this.currentSequenceNumber=t}}class gm{constructor(t){this.persistence=t,this.Ri=new pm,this.Ai=null}static Vi(t){return new gm(t)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),$t.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),$t.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),$t.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.di,(r=>{const s=ke.fromPath(r);return this.mi(t,s).next((o=>{o||e.removeEntry(s,Xe.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return $t.or([()=>$t.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class jp{constructor(t,e){this.persistence=t,this.fi=new mc((r=>JA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=pE(this,e)}static Vi(t,e){return new jp(t,e)}Ti(){}Ii(t){return $t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((s=>r+s))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return $t.forEach(this.fi,((r,s)=>this.wr(t,r,s).next((o=>o?$t.resolve():e(s)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(r++,o.removeEntry(u,Xe.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),$t.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),$t.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),$t.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),$t.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=cp(t.data.value)),e}wr(t,e,r){return $t.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.fi.get(e);return $t.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mm{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=s}static Es(t,e){let r=wn(),s=wn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new mm(t,e.fromCache,r,s)}}class TE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class CE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xS()?8:XA(vS())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,s){const o={result:null};return this.gs(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(t,e,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new TE;return this.ys(t,e,u).next((h=>{if(o.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>o.result))}ws(t,e,r,s){return r.documentReadCount<this.Vs?(rh()<=Rn.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ah(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$t.resolve()):(rh()<=Rn.DEBUG&&ue("QueryEngine","Query:",ah(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(rh()<=Rn.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ah(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wo(e))):$t.resolve())}gs(t,e){if(Zy(e))return $t.resolve(null);let r=Wo(e);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=Rp(e,null,"F"),r=Wo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const u=wn(...o);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const d=this.bs(e,h);return this.Ss(e,d,u,f.readTime)?this.gs(t,Rp(e,null,"F")):this.Ds(t,d,e,f)}))))})))))}ps(t,e,r,s){return Zy(e)||s.isEqual(Xe.min())?$t.resolve(null):this.fs.getDocuments(t,r).next((o=>{const u=this.bs(e,o);return this.Ss(e,u,r,s)?$t.resolve(null):(rh()<=Rn.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ah(e)),this.Ds(t,u,e,YA(s,Pf)).next((h=>h)))}))}bs(t,e){let r=new Cr(r_(t));return e.forEach(((s,o)=>{Xp(t,o)&&(r=r.add(o))})),r}Ss(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(t,e,r){return rh()<=Rn.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ah(e)),this.fs.getDocumentsMatchingQuery(t,e,Su.min(),r)}Ds(t,e,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const ym="LocalStore",NE=3e8;class RE{constructor(t,e,r,s){this.persistence=t,this.Cs=e,this.serializer=s,this.vs=new ki(_n),this.Fs=new mc((o=>sm(o)),om),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yE(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function IE(n,t,e,r){return new RE(n,t,e,r)}async function N_(n,t){const e=nn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=wn();for(const d of s){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function LE(n,t){const e=nn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const A=d.batch,T=A.keys();let _=$t.resolve();return T.forEach((B=>{_=_.next((()=>y.getEntry(f,B))).next((q=>{const O=d.docVersions.get(B);Hn(O!==null,48541),q.version.compareTo(O)<0&&(A.applyToRemoteDocument(q,d),q.isValidDocument()&&(q.setReadTime(d.commitVersion),y.addEntry(q)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,s)))}))}function R_(n){const t=nn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function DE(n,t){const e=nn(n),r=t.snapshotVersion;let s=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});s=e.vs;const h=[];t.targetChanges.forEach(((y,A)=>{const T=s.get(A);if(!T)return;h.push(e.li.removeMatchingKeys(o,y.removedDocuments,A).next((()=>e.li.addMatchingKeys(o,y.addedDocuments,A))));let _=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?_=_.withResumeToken(aa.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,r)),s=s.insert(A,_),(function(q,O,P){return q.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=NE?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(T,_,y)&&h.push(e.li.updateTargetData(o,_))}));let f=jl(),d=wn();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(jE(o,u,t.documentUpdates).next((y=>{f=y.Bs,d=y.Ls}))),!r.isEqual(Xe.min())){const y=e.li.getLastRemoteSnapshotVersion(o).next((A=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return $t.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.vs=s,o)))}function jE(n,t,e){let r=wn(),s=wn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let u=jl();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ue(ym,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function kE(n,t){const e=nn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=im),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ME(n,t){const e=nn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return e.li.getTargetData(r,t).next((o=>o?(s=o,$t.resolve(s)):e.li.allocateTargetId(r).next((u=>(s=new pu(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=e.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function R0(n,t,e){const r=nn(n),s=r.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Rh(u))throw u;ue(ym,`Failed to update sequence numbers for target ${t}: ${u}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function hv(n,t,e){const r=nn(n);let s=Xe.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const A=nn(f),T=A.Fs.get(y);return T!==void 0?$t.resolve(A.vs.get(T)):A.li.getTargetData(d,y)})(r,u,Wo(t)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,t,e?s:Xe.min(),e?o:wn()))).next((h=>(OE(r,_6(t),h),{documents:h,ks:o})))))}function OE(n,t,e){let r=n.Ms.get(t)||Xe.min();e.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(t,r)}class fv{constructor(){this.activeTargetIds=C6()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PE{constructor(){this.vo=new fv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new fv,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zE{Mo(t){}shutdown(){}}const dv="ConnectivityMonitor";class pv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(dv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ue(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xd=null;function I0(){return Xd===null?Xd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xd++,"0x"+Xd.toString(16)}const kg="RestConnection",FE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BE{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Tp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,e,r,s,o){const u=I0(),h=this.Qo(t,e.toUriEncodedString());ue(kg,`Sending RPC '${t}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(h),y=Yf(d);return this.zo(t,h,f,r,y).then((A=>(ue(kg,`Received RPC '${t}' ${u}: `,A),A)),(A=>{throw oc(kg,`RPC '${t}' ${u} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(t,e,r,s,o,u){return this.Wo(t,e,r,s,o)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ch})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),r&&r.headers.forEach(((s,o)=>t[o]=s))}Qo(t,e){const r=FE[t];let s=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class UE{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const pa="WebChannelConnection",yf=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class hh extends BE{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!hh.c_){const t=kx();yf(t,jx.STAT_EVENT,(e=>{e.stat===v0.PROXY?ue(pa,"STAT_EVENT: detected buffering proxy"):e.stat===v0.NOPROXY&&ue(pa,"STAT_EVENT: detected no buffering proxy")})),hh.c_=!0}}zo(t,e,r,s,o){const u=I0();return new Promise(((h,f)=>{const d=new Lx;d.setWithCredentials(!0),d.listenOnce(Dx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case up.NO_ERROR:const A=d.getResponseJson();ue(pa,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),h(A);break;case up.TIMEOUT:ue(pa,`RPC '${t}' ${u} timed out`),f(new ae(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const T=d.getStatus();if(ue(pa,`RPC '${t}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const B=_?.error;if(B&&B.status&&B.message){const q=(function(P){const tt=P.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(tt)>=0?tt:Gt.UNKNOWN})(B.status);f(new ae(q,B.message))}else f(new ae(Gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ae(Gt.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ue(pa,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(s);ue(pa,`RPC '${t}' ${u} sending request:`,s),d.send(e,"POST",y,r,15)}))}T_(t,e,r){const s=I0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,r),h.encodeInitMessageHeaders=!0;const d=o.join("");ue(pa,`Creating RPC '${t}' stream ${s}: ${d}`,h);const y=u.createWebChannel(d,h);this.I_(y);let A=!1,T=!1;const _=new UE({Ho:B=>{T?ue(pa,`Not sending because RPC '${t}' stream ${s} is closed:`,B):(A||(ue(pa,`Opening RPC '${t}' stream ${s} transport.`),y.open(),A=!0),ue(pa,`RPC '${t}' stream ${s} sending:`,B),y.send(B))},Jo:()=>y.close()});return yf(y,wf.EventType.OPEN,(()=>{T||(ue(pa,`RPC '${t}' stream ${s} transport opened.`),_.i_())})),yf(y,wf.EventType.CLOSE,(()=>{T||(T=!0,ue(pa,`RPC '${t}' stream ${s} transport closed`),_.o_(),this.E_(y))})),yf(y,wf.EventType.ERROR,(B=>{T||(T=!0,oc(pa,`RPC '${t}' stream ${s} transport errored. Name:`,B.name,"Message:",B.message),_.o_(new ae(Gt.UNAVAILABLE,"The operation could not be completed")))})),yf(y,wf.EventType.MESSAGE,(B=>{if(!T){const q=B.data[0];Hn(!!q,16349);const O=q,P=O?.error||O[0]?.error;if(P){ue(pa,`RPC '${t}' stream ${s} received error:`,P);const tt=P.status;let J=(function(St){const G=cr[St];if(G!==void 0)return g_(G)})(tt),it=P.message;tt==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&oc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=Gt.INTERNAL,it="Unknown error status: "+tt+" with message "+P.message),T=!0,_.o_(new ae(J,it)),y.close()}else ue(pa,`RPC '${t}' stream ${s} received:`,q),_.__(q)}})),hh.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mx()}}function VE(n){return new hh(n)}function Mg(){return typeof document<"u"?document:null}function e1(n){return new Y6(n,!0)}hh.c_=!1;class I_{constructor(t,e,r=1e3,s=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gv="PersistentStream";class L_{constructor(t,e,r,s,o,u,h,f){this.Ci=t,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I_(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Gt.RESOURCE_EXHAUSTED?(Dl(e.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===e&&this.G_(r,s)}),(r=>{t((()=>{const s=new ae(Gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ue(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qE extends L_{constructor(t,e,r,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=K6(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?$o(u.readTime):Xe.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=N0(this.serializer),e.addTarget=(function(o,u){let h;const f=u.target;if(h=S0(f)?{documents:Z6(o,f)}:{query:J6(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=v_(o,u.resumeToken);const d=E0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Dp(o,u.snapshotVersion.toTimestamp());const d=E0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const r=eE(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=N0(this.serializer),e.removeTarget=t,this.K_(e)}}class HE extends L_{constructor(t,e,r,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Hn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Hn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Hn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=X6(t.writeResults,t.commitTime),r=$o(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=N0(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>Q6(this.serializer,r)))};this.K_(e)}}class GE{}class YE extends GE{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ae(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(t,T0(e,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Gt.UNKNOWN,o.toString())}))}jo(t,e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,T0(e,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Gt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WE(n,t,e,r){return new YE(n,t,e,r)}class $E{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dl(e),this.aa=!1):ue("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class KE{constructor(t,e,r,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{yc(this)&&(ue(lc,"Restarting streams for network reachability change."),await(async function(f){const d=nn(f);d.Ea.add(4),await Qf(d),d.Va.set("Unknown"),d.Ea.delete(4),await n1(d)})(this))}))})),this.Va=new $E(r,s)}}async function n1(n){if(yc(n))for(const t of n.Ra)await t(!0)}async function Qf(n){for(const t of n.Ra)await t(!1)}function D_(n,t){const e=nn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),_m(e)?xm(e):Lh(e).O_()&&bm(e,t))}function vm(n,t){const e=nn(n),r=Lh(e);e.Ia.delete(t),r.O_()&&j_(e,t),e.Ia.size===0&&(r.O_()?r.L_():yc(e)&&e.Va.set("Unknown"))}function bm(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Lh(n).Z_(t)}function j_(n,t){n.da.$e(t),Lh(n).X_(t)}function xm(n){n.da=new V6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Lh(n).start(),n.Va.ua()}function _m(n){return yc(n)&&!Lh(n).x_()&&n.Ia.size>0}function yc(n){return nn(n).Ea.size===0}function k_(n){n.da=void 0}async function QE(n){n.Va.set("Online")}async function XE(n){n.Ia.forEach(((t,e)=>{bm(n,t)}))}async function ZE(n,t){k_(n),_m(n)?(n.Va.ha(t),xm(n)):n.Va.set("Unknown")}async function JE(n,t,e){if(n.Va.set("Online"),t instanceof y_&&t.state===2&&t.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.da.removeTarget(h))})(n,t)}catch(r){ue(lc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kp(n,r)}else if(t instanceof dp?n.da.Xe(t):t instanceof m_?n.da.st(t):n.da.tt(t),!e.isEqual(Xe.min()))try{const r=await R_(n.localStore);e.compareTo(r)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(aa.EMPTY_BYTE_STRING,y.snapshotVersion)),j_(o,f);const A=new pu(y.target,f,d,y.sequenceNumber);bm(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){ue(lc,"Failed to raise snapshot:",r),await kp(n,r)}}async function kp(n,t,e){if(!Rh(t))throw t;n.Ea.add(1),await Qf(n),n.Va.set("Offline"),e||(e=()=>R_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(lc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await n1(n)}))}function M_(n,t){return t().catch((e=>kp(n,e,t)))}async function i1(n){const t=nn(n),e=Cu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:im;for(;tT(t);)try{const s=await kE(t.localStore,r);if(s===null){t.Ta.length===0&&e.L_();break}r=s.batchId,eT(t,s)}catch(s){await kp(t,s)}O_(t)&&P_(t)}function tT(n){return yc(n)&&n.Ta.length<10}function eT(n,t){n.Ta.push(t);const e=Cu(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function O_(n){return yc(n)&&!Cu(n).x_()&&n.Ta.length>0}function P_(n){Cu(n).start()}async function nT(n){Cu(n).ra()}async function iT(n){const t=Cu(n);for(const e of n.Ta)t.ea(e.mutations)}async function rT(n,t,e){const r=n.Ta.shift(),s=hm.from(r,t,e);await M_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await i1(n)}async function aT(n,t){t&&Cu(n).Y_&&await(async function(r,s){if((function(u){return F6(u)&&u!==Gt.ABORTED})(s.code)){const o=r.Ta.shift();Cu(r).B_(),await M_(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await i1(r)}})(n,t),O_(n)&&P_(n)}async function mv(n,t){const e=nn(n);e.asyncQueue.verifyOperationInProgress(),ue(lc,"RemoteStore received new credentials");const r=yc(e);e.Ea.add(3),await Qf(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await n1(e)}async function sT(n,t){const e=nn(n);t?(e.Ea.delete(2),await n1(e)):t||(e.Ea.add(2),await Qf(e),e.Va.set("Unknown"))}function Lh(n){return n.ma||(n.ma=(function(e,r,s){const o=nn(e);return o.sa(),new qE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:QE.bind(null,n),Yo:XE.bind(null,n),t_:ZE.bind(null,n),J_:JE.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),_m(n)?xm(n):n.Va.set("Unknown")):(await n.ma.stop(),k_(n))}))),n.ma}function Cu(n){return n.fa||(n.fa=(function(e,r,s){const o=nn(e);return o.sa(),new HE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nT.bind(null,n),t_:aT.bind(null,n),ta:iT.bind(null,n),na:rT.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await i1(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class wm{constructor(t,e,r,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,o){const u=Date.now()+r,h=new wm(t,e,u,s,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(n,t){if(Dl("AsyncQueue",`${t}: ${n}`),Rh(n))return new ae(Gt.UNAVAILABLE,`${t}: ${n}`);throw n}class fh{static emptySet(t){return new fh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||ke.comparator(e.key,r.key):(e,r)=>ke.comparator(e.key,r.key),this.keyedMap=Sf(),this.sortedSet=new ki(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new fh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class yv{constructor(){this.ga=new ki(ke.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ue(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Sh{constructor(t,e,r,s,o,u,h,f,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,s,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Sh(t,e,fh.emptySet(e),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}class oT{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class lT{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=nn(e),o=s.queries;s.queries=vv(),o.forEach(((u,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new ae(Gt.ABORTED,"Firestore shutting down"))}}function vv(){return new mc((n=>i_(n)),Qp)}async function z_(n,t){const e=nn(n);let r=3;const s=t.query;let o=e.queries.get(s);o?!o.Sa()&&t.Da()&&(r=2):(o=new oT,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const h=Sm(u,`Initialization of query '${ah(t.query)}' failed`);return void t.onError(h)}e.queries.set(s,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Am(e)}async function F_(n,t){const e=nn(n),r=t.query;let s=3;const o=e.queries.get(r);if(o){const u=o.ba.indexOf(t);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=t.Da()?0:1:!o.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function uT(n,t){const e=nn(n);let r=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const h of u.ba)h.Fa(s)&&(r=!0);u.wa=s}}r&&Am(e)}function cT(n,t,e){const r=nn(n),s=r.queries.get(t);if(s)for(const o of s.ba)o.onError(e);r.queries.delete(t)}function Am(n){n.Ca.forEach((t=>{t.next()}))}var L0,bv;(bv=L0||(L0={})).Ma="default",bv.Cache="cache";class B_{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Sh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Sh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==L0.Cache}}class U_{constructor(t){this.key=t}}class V_{constructor(t){this.key=t}}class hT{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.eu=r_(t),this.tu=new fh(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new yv,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,A)=>{const T=s.get(y),_=Xp(this.query,A)?A:null,B=!!T&&this.mutatedKeys.has(T.key),q=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let O=!1;T&&_?T.data.isEqual(_.data)?B!==q&&(r.track({type:3,doc:_}),O=!0):this.su(T,_)||(r.track({type:2,doc:_}),O=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!T&&_?(r.track({type:0,doc:_}),O=!0):T&&!_&&(r.track({type:1,doc:T}),O=!0,(f||d)&&(h=!0)),O&&(_?(u=u.add(_),o=q?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,A)=>(function(_,B){const q=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:O})}};return q(_)-q(B)})(y.type,A.type)||this.eu(y.doc,A.doc))),this.ou(r),s=s??!1;const h=e&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new Sh(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new V_(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new U_(r))})),e}cu(t){this.Za=t.ks,this.Ya=wn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Sh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Em="SyncEngine";class fT{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class dT{constructor(t){this.key=t,this.hu=!1}}class pT{constructor(t,e,r,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new mc((h=>i_(h)),Qp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(ke.comparator),this.Au=new Map,this.Vu=new pm,this.du={},this.mu=new Map,this.fu=wh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gT(n,t,e=!0){const r=$_(n);let s;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await q_(r,t,e,!0),s}async function mT(n,t){const e=$_(n);await q_(e,t,!0,!1)}async function q_(n,t,e,r){const s=await ME(n.localStore,Wo(t)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await yT(n,t,o,u==="current",s.resumeToken)),n.isPrimaryClient&&e&&D_(n.remoteStore,s),h}async function yT(n,t,e,r,s){n.pu=(A,T,_)=>(async function(q,O,P,tt){let J=O.view.ru(P);J.Ss&&(J=await hv(q.localStore,O.query,!1).then((({documents:G})=>O.view.ru(G,J))));const it=tt&&tt.targetChanges.get(O.targetId),st=tt&&tt.targetMismatches.get(O.targetId)!=null,St=O.view.applyChanges(J,q.isPrimaryClient,it,st);return _v(q,O.targetId,St.au),St.snapshot})(n,A,T,_);const o=await hv(n.localStore,t,!0),u=new hT(t,o.ks),h=u.ru(o.documents),f=Kf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),d=u.applyChanges(h,n.isPrimaryClient,f);_v(n,e,d.au);const y=new fT(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function vT(n,t,e){const r=nn(n),s=r.Tu.get(t),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!Qp(u,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await R0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),e&&vm(r.remoteStore,s.targetId),D0(r,s.targetId)})).catch(Nh)):(D0(r,s.targetId),await R0(r.localStore,s.targetId,!0))}async function bT(n,t){const e=nn(n),r=e.Tu.get(t),s=e.Iu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),vm(e.remoteStore,r.targetId))}async function xT(n,t,e){const r=CT(n);try{const s=await(function(u,h){const f=nn(u),d=bi.now(),y=h.reduce(((_,B)=>_.add(B.key)),wn());let A,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let B=jl(),q=wn();return f.xs.getEntries(_,y).next((O=>{B=O,B.forEach(((P,tt)=>{tt.isValidDocument()||(q=q.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,B))).next((O=>{A=O;const P=[];for(const tt of h){const J=k6(tt,A.get(tt.key).overlayedDocument);J!=null&&P.push(new Lu(tt.key,J,Kx(J.value.mapValue),ho.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,P,h)})).next((O=>{T=O;const P=O.applyToLocalDocumentSet(A,q);return f.documentOverlayCache.saveOverlays(_,O.batchId,P)}))})).then((()=>({batchId:T.batchId,changes:s_(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let d=u.du[u.currentUser.toKey()];d||(d=new ki(_n)),d=d.insert(h,f),u.du[u.currentUser.toKey()]=d})(r,s.batchId,e),await Xf(r,s.changes),await i1(r.remoteStore)}catch(s){const o=Sm(s,"Failed to persist write");e.reject(o)}}async function H_(n,t){const e=nn(n);try{const r=await DE(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const u=e.Au.get(o);u&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Hn(u.hu,14607):s.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Xf(e,r,t)}catch(r){await Nh(r)}}function xv(n,t,e){const r=nn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=nn(u);f.onlineState=h;let d=!1;f.queries.forEach(((y,A)=>{for(const T of A.ba)T.va(h)&&(d=!0)})),d&&Am(f)})(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _T(n,t,e){const r=nn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Au.get(t),o=s&&s.key;if(o){let u=new ki(ke.comparator);u=u.insert(o,_a.newNoDocument(o,Xe.min()));const h=wn().add(o),f=new t1(Xe.min(),new Map,new ki(_n),u,h);await H_(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(t),Tm(r)}else await R0(r.localStore,t,!1).then((()=>D0(r,t,e))).catch(Nh)}async function wT(n,t){const e=nn(n),r=t.batch.batchId;try{const s=await LE(e.localStore,t);Y_(e,r,null),G_(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(e,s)}catch(s){await Nh(s)}}async function ST(n,t,e){const r=nn(n);try{const s=await(function(u,h){const f=nn(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Hn(A!==null,37113),y=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,t);Y_(r,t,e),G_(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Xf(r,s)}catch(s){await Nh(s)}}function G_(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Y_(n,t,e){const r=nn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function D0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||W_(n,r)}))}function W_(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(vm(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Tm(n))}function _v(n,t,e){for(const r of e)r instanceof U_?(n.Vu.addReference(r.key,t),AT(n,r)):r instanceof V_?(ue(Em,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||W_(n,r.key)):Ue(19791,{wu:r})}function AT(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ue(Em,"New document in limbo: "+e),n.Eu.add(r),Tm(n))}function Tm(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ke(hi.fromString(t)),r=n.fu.next();n.Au.set(r,new dT(e)),n.Ru=n.Ru.insert(e,r),D_(n.remoteStore,new pu(Wo(lm(e.path)),r,"TargetPurposeLimboResolution",Wp.ce))}}async function Xf(n,t,e){const r=nn(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,t,e).then((d=>{if((d||e)&&r.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=mm.Es(f.targetId,d);o.push(y)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,d){const y=nn(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$t.forEach(d,(T=>$t.forEach(T.Ts,(_=>y.persistence.referenceDelegate.addReference(A,T.targetId,_))).next((()=>$t.forEach(T.Is,(_=>y.persistence.referenceDelegate.removeReference(A,T.targetId,_)))))))))}catch(A){if(!Rh(A))throw A;ue(ym,"Failed to update sequence numbers: "+A)}for(const A of d){const T=A.targetId;if(!A.fromCache){const _=y.vs.get(T),B=_.snapshotVersion,q=_.withLastLimboFreeSnapshotVersion(B);y.vs=y.vs.insert(T,q)}}})(r.localStore,o))}async function ET(n,t){const e=nn(n);if(!e.currentUser.isEqual(t)){ue(Em,"User change. New user:",t.toKey());const r=await N_(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ae(Gt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xf(e,r.Ns)}}function TT(n,t){const e=nn(n),r=e.Au.get(t);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=e.Iu.get(t);if(!o)return s;for(const u of o){const h=e.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function $_(n){const t=nn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=H_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_T.bind(null,t),t.Pu.J_=uT.bind(null,t.eventManager),t.Pu.yu=cT.bind(null,t.eventManager),t}function CT(n){const t=nn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ST.bind(null,t),t}class Mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=e1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return IE(this.persistence,new CE,t.initialUser,this.serializer)}Cu(t){return new C_(gm.Vi,this.serializer)}Du(t){return new PE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mp.provider={build:()=>new Mp};class NT extends Mp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Hn(this.persistence.referenceDelegate instanceof jp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fE(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new C_((r=>jp.Vi(r,e)),this.serializer)}}class j0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ET.bind(null,this.syncEngine),await sT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new lT})()}createDatastore(t){const e=e1(t.databaseInfo.databaseId),r=VE(t.databaseInfo);return WE(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,s,o,u,h){return new KE(r,s,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>xv(this.syncEngine,e,0)),(function(){return pv.v()?new pv:new zE})())}createSyncEngine(t,e){return(function(s,o,u,h,f,d,y){const A=new pT(s,o,u,h,f,d);return y&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=nn(e);ue(lc,"RemoteStore shutting down."),r.Ea.add(5),await Qf(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}j0.provider={build:()=>new j0};class K_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Dl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Nu="FirestoreClient";class RT{constructor(t,e,r,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=s,this.user=xa.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ue(Nu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(Nu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Sm(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Og(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Nu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await N_(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function wv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await IT(n);ue(Nu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>mv(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>mv(t.remoteStore,s))),n._onlineComponents=t}async function IT(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Nu,"Using user provided OfflineComponentProvider");try{await Og(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Gt.FAILED_PRECONDITION||s.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;oc("Error using user provided cache. Falling back to memory cache: "+e),await Og(n,new Mp)}}else ue(Nu,"Using default OfflineComponentProvider"),await Og(n,new NT(void 0));return n._offlineComponents}async function Q_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Nu,"Using user provided OnlineComponentProvider"),await wv(n,n._uninitializedComponentsProvider._online)):(ue(Nu,"Using default OnlineComponentProvider"),await wv(n,new j0))),n._onlineComponents}function LT(n){return Q_(n).then((t=>t.syncEngine))}async function k0(n){const t=await Q_(n),e=t.eventManager;return e.onListen=gT.bind(null,t.syncEngine),e.onUnlisten=vT.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=mT.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bT.bind(null,t.syncEngine),e}function DT(n,t,e,r){const s=new K_(r),o=new B_(t,s,e);return n.asyncQueue.enqueueAndForget((async()=>z_(await k0(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>F_(await k0(n),o)))}}function jT(n,t,e={}){const r=new xu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const y=new K_({next:T=>{y.Nu(),u.enqueueAndForget((()=>F_(o,A))),T.fromCache&&f.source==="server"?d.reject(new ae(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),A=new B_(h,y,{includeMetadataChanges:!0,Ka:!0});return z_(o,A)})(await k0(n),n.asyncQueue,t,e,r))),r.promise}function kT(n,t){const e=new xu;return n.asyncQueue.enqueueAndForget((async()=>xT(await LT(n),t,e))),e.promise}function X_(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const MT="ComponentProvider",Sv=new Map;function OT(n,t,e,r,s){return new n6(n,t,e,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,X_(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const Z_="firestore.googleapis.com",Av=!0;class Ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ae(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z_,this.ssl=Av}else this.host=t.host,this.ssl=t.ssl??Av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cE)throw new ae(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X_(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class r1{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ae(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MA;switch(r.type){case"firstParty":return new FA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Sv.get(e);r&&(ue(MT,"Removing Datastore"),Sv.delete(e),r.terminate())})(this),Promise.resolve()}}function PT(n,t,e,r={}){n=Yo(n,r1);const s=Yf(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;s&&(mx(`https://${h}`),vx("Firestore",!0)),o.host!==Z_&&o.host!==h&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!Sp(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=xa.MOCK_USER;else{d=yx(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ae(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new xa(A)}n._authCredentials=new OA(new Px(d,y))}}class Ml{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ml(this.firestore,t,this._query)}}class dr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dr(this.firestore,t,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Wf(e,dr._jsonSchema))return new dr(t,r||null,new ke(hi.fromString(e.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:fr("string",dr._jsonSchemaVersion),referencePath:fr("string")};class _u extends Ml{constructor(t,e,r){super(t,e,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dr(this.firestore,null,new ke(t))}withConverter(t){return new _u(this.firestore,t,this._path)}}function ga(n,t,...e){if(n=ns(n),zx("collection","path",t),n instanceof r1){const r=hi.fromString(t,...e);return zy(r),new _u(n,null,r)}{if(!(n instanceof dr||n instanceof _u))throw new ae(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return zy(r),new _u(n.firestore,null,r)}}function Uo(n,t,...e){if(n=ns(n),arguments.length===1&&(t=nm.newId()),zx("doc","path",t),n instanceof r1){const r=hi.fromString(t,...e);return Py(r),new dr(n,null,new ke(r))}{if(!(n instanceof dr||n instanceof _u))throw new ae(Gt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return Py(r),new dr(n.firestore,n instanceof _u?n.converter:null,new ke(r))}}const Tv="AsyncQueue";class Cv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I_(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&ue(Tv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Mg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Mg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Rh(t))throw t;ue(Tv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Dl("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=wm.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ue(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Nv(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class uc extends r1{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new Cv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cv(t),this._firestoreClient=void 0,await t}}}function zT(n,t){const e=typeof n=="object"?n:Cx(),r=typeof n=="string"?n:Tp,s=Sx(e,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=px("firestore");o&&PT(s,...o)}return s}function Cm(n){if(n._terminated)throw new ae(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FT(n),n._firestoreClient}function FT(n){const t=n._freezeSettings(),e=OT(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new RT(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Us{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Us(aa.fromBase64String(t))}catch(e){throw new ae(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Us(aa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wf(t,Us._jsonSchema))return Us.fromBase64String(t.bytes)}}Us._jsonSchemaVersion="firestore/bytes/1.0",Us._jsonSchema={type:fr("string",Us._jsonSchemaVersion),bytes:fr("string")};class Nm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ae(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ra(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rm{constructor(t){this._methodName=t}}class Ko{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ae(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ae(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ko._jsonSchemaVersion}}static fromJSON(t){if(Wf(t,Ko._jsonSchema))return new Ko(t.latitude,t.longitude)}}Ko._jsonSchemaVersion="firestore/geoPoint/1.0",Ko._jsonSchema={type:fr("string",Ko._jsonSchemaVersion),latitude:fr("number"),longitude:fr("number")};class fo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wf(t,fo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new fo(t.vectorValues);throw new ae(Gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fo._jsonSchemaVersion="firestore/vectorValue/1.0",fo._jsonSchema={type:fr("string",fo._jsonSchemaVersion),vectorValues:fr("object")};const BT=/^__.*__$/;class UT{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Lu(t,this.data,this.fieldMask,e,this.fieldTransforms):new $f(t,this.data,e,this.fieldTransforms)}}class J_{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Lu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function t4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:n})}}class Im{constructor(t,e,r,s,o,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Im({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Op(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(t4(this.dataSource)&&BT.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VT{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||e1(t)}createContext(t,e,r,s=!1){return new Im({dataSource:t,methodName:e,targetDoc:r,path:ra.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(n){const t=n._freezeSettings(),e=e1(n._databaseId);return new VT(n._databaseId,!!t.ignoreUndefinedProperties,e)}function qT(n,t,e,r,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,t,e,s);Dm("Data must be an object, but it was:",u,r);const h=e4(r,u);let f,d;if(o.merge)f=new bs(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const A of o.mergeFields){const T=cc(t,A,e);if(!u.contains(T))throw new ae(Gt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);r4(y,T)||y.push(T)}f=new bs(y),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new UT(new es(h),f,d)}class a1 extends Rm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof a1}}function HT(n,t,e,r){const s=n.createContext(1,t,e);Dm("Data must be an object, but it was:",s,r);const o=[],u=es.empty();Iu(r,((f,d)=>{const y=i4(t,f,e);d=ns(d);const A=s.childContextForFieldPath(y);if(d instanceof a1)o.push(y);else{const T=Zf(d,A);T!=null&&(o.push(y),u.set(y,T))}}));const h=new bs(o);return new J_(u,h,s.fieldTransforms)}function GT(n,t,e,r,s,o){const u=n.createContext(1,t,e),h=[cc(t,r,e)],f=[s];if(o.length%2!=0)throw new ae(Gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(cc(t,o[T])),f.push(o[T+1]);const d=[],y=es.empty();for(let T=h.length-1;T>=0;--T)if(!r4(d,h[T])){const _=h[T];let B=f[T];B=ns(B);const q=u.childContextForFieldPath(_);if(B instanceof a1)d.push(_);else{const O=Zf(B,q);O!=null&&(d.push(_),y.set(_,O))}}const A=new bs(d);return new J_(y,A,u.fieldTransforms)}function YT(n,t,e,r=!1){return Zf(e,n.createContext(r?4:3,t))}function Zf(n,t){if(n4(n=ns(n)))return Dm("Unsupported field value:",t,n),e4(n,t);if(n instanceof Rm)return(function(r,s){if(!t4(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let f=Zf(h,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(r,s){if((r=ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bi.fromDate(r);return{timestampValue:Dp(s.serializer,o)}}if(r instanceof bi){const o=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dp(s.serializer,o)}}if(r instanceof Ko)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Us)return{bytesValue:v_(s.serializer,r._byteString)};if(r instanceof dr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fo)return(function(u,h){const f=u instanceof fo?u.toArray():u;return{mapValue:{fields:{[Wx]:{stringValue:$x},[Cp]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return um(h.serializer,y)}))}}}}}})(r,s);if(E_(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Yp(r)}`)})(n,t)}function e4(n,t){const e={};return Ux(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iu(n,((r,s)=>{const o=Zf(s,t.childContextForField(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function n4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Ko||n instanceof Us||n instanceof dr||n instanceof Rm||n instanceof fo||E_(n))}function Dm(n,t,e){if(!n4(e)||!Fx(e)){const r=Yp(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function cc(n,t,e){if((t=ns(t))instanceof Nm)return t._internalPath;if(typeof t=="string")return i4(n,t);throw Op("Field path arguments must be of type string or ",n,!1,void 0,e)}const WT=new RegExp("[~\\*/\\[\\]]");function i4(n,t,e){if(t.search(WT)>=0)throw Op(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Nm(...t.split("."))._internalPath}catch{throw Op(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Op(n,t,e,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ae(Gt.INVALID_ARGUMENT,h+n+f)}function r4(n,t){return n.some((e=>e.isEqual(t)))}class $T{convertValue(t,e="none"){switch(Tu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ue(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Iu(t,((s,o)=>{r[s]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Cp].arrayValue?.values?.map((r=>Zi(r.doubleValue)));return new fo(e)}convertGeoPoint(t){return new Ko(Zi(t.latitude),Zi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Kp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(zf(t));default:return null}}convertTimestamp(t){const e=Au(t);return new bi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=hi.fromString(t);Hn(A_(r),9688,{name:t});const s=new Ff(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return s.isEqual(e)||Dl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class jm extends $T{constructor(t){super(),this.firestore=t}convertBytes(t){return new Us(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dr(this.firestore,null,e)}}const Rv="@firebase/firestore",Iv="4.11.0";function Lv(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class a4{constructor(t,e,r,s,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(cc("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KT extends a4{data(){return super.data()}}function s4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class Mm extends km{}function Ku(n,t,...e){let r=[];t instanceof km&&r.push(t),r=r.concat(e),(function(o){const u=o.filter((f=>f instanceof Om)).length,h=o.filter((f=>f instanceof s1)).length;if(u>1||u>0&&h>0)throw new ae(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class s1 extends Mm{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new s1(t,e,r)}_apply(t){const e=this._parse(t);return o4(t._query,e),new Ml(t.firestore,t.converter,A0(t._query,e))}_parse(t){const e=Lm(t.firestore);return(function(o,u,h,f,d,y,A){let T;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ae(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Mv(A,y);const B=[];for(const q of A)B.push(kv(f,o,q));T={arrayValue:{values:B}}}else T=kv(f,o,A)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Mv(A,y),T=YT(h,u,A,y==="in"||y==="not-in");return hr.create(d,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Dv(n,t,e){const r=t,s=cc("where",n);return s1._create(s,r,e)}class Om extends km{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Om(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:po.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)o4(u,f),u=A0(u,f)})(t._query,e),new Ml(t.firestore,t.converter,A0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pm extends Mm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Pm(t,e)}_apply(t){const e=(function(s,o,u){if(s.startAt!==null)throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uf(o,u)})(t._query,this._field,this._direction);return new Ml(t.firestore,t.converter,x6(t._query,e))}}function vf(n,t="asc"){const e=t,r=cc("orderBy",n);return Pm._create(r,e)}class zm extends Mm{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new zm(t,e,r)}_apply(t){return new Ml(t.firestore,t.converter,Rp(t._query,this._limit,this._limitType))}}function jv(n){return zm._create("limit",n,"F")}function kv(n,t,e){if(typeof(e=ns(e))=="string"){if(e==="")throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(t)&&e.indexOf("/")!==-1)throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(hi.fromString(e));if(!ke.isDocumentKey(r))throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yy(n,new ke(r))}if(e instanceof dr)return Yy(n,e._key);throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(e)}.`)}function Mv(n,t){if(!Array.isArray(n)||n.length===0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function o4(n,t){const e=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ae(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ae(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function QT(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Ef{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nc extends a4{constructor(t,e,r,s,o,u){super(t,e,r,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(cc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=nc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",nc._jsonSchema={type:fr("string",nc._jsonSchemaVersion),bundleSource:fr("string","DocumentSnapshot"),bundleName:fr("string"),bundle:fr("string")};class pp extends nc{data(t={}){return super.data(t)}}class ic{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Ef(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new pp(this._firestore,this._userDataWriter,r.key,r,new Ef(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ae(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new pp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ef(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new pp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ef(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:XT(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ic._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:fr("string",ic._jsonSchemaVersion),bundleSource:fr("string","QuerySnapshot"),bundleName:fr("string"),bundle:fr("string")};function Pg(n){n=Yo(n,Ml);const t=Yo(n.firestore,uc),e=Cm(t),r=new jm(t);return s4(n._query),jT(e,n._query).then((s=>new ic(t,r,n,s)))}function Qu(n,t,e,...r){n=Yo(n,dr);const s=Yo(n.firestore,uc),o=Lm(s);let u;return u=typeof(t=ns(t))=="string"||t instanceof Nm?GT(o,"updateDoc",n._key,t,e,r):HT(o,"updateDoc",n._key,t),Fm(s,[u.toMutation(n._key,ho.exists(!0))])}function Ov(n){return Fm(Yo(n.firestore,uc),[new cm(n._key,ho.none())])}function Xu(n,t){const e=Yo(n.firestore,uc),r=Uo(n),s=QT(n.converter,t),o=Lm(n.firestore);return Fm(e,[qT(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ho.exists(!1))]).then((()=>r))}function th(n,...t){n=ns(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Lv(t[r])||(e=t[r++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Lv(t[r])){const d=t[r];t[r]=d.next?.bind(d),t[r+1]=d.error?.bind(d),t[r+2]=d.complete?.bind(d)}let o,u,h;if(n instanceof dr)u=Yo(n.firestore,uc),h=lm(n._key.path),o={next:d=>{t[r]&&t[r](ZT(u,n,d))},error:t[r+1],complete:t[r+2]};else{const d=Yo(n,Ml);u=Yo(d.firestore,uc),h=d._query;const y=new jm(u);o={next:A=>{t[r]&&t[r](new ic(u,y,d,A))},error:t[r+1],complete:t[r+2]},s4(n._query)}const f=Cm(u);return DT(f,h,s,o)}function Fm(n,t){const e=Cm(n);return kT(e,t)}function ZT(n,t,e){const r=e.docs.get(t._key),s=new jm(n);return new nc(n,s,t._key,r,new Ef(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){kA(Ex),Mf(new vh("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new uc(new PA(r.getProvider("auth-internal")),new BA(u,r.getProvider("app-check-internal")),i6(u,s),u);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vu(Rv,Iv,t),vu(Rv,Iv,"esm2020")})();const l4="firebasestorage.googleapis.com",u4="storageBucket",JT=120*1e3,t8=600*1e3;class Yi extends gc{constructor(t,e,r=0){super(zg(t),`Firebase Storage: ${e} (${zg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return zg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function zg(n){return"storage/"+n}function Bm(){const n="An unknown error occurred, please check the error payload for server response.";return new Yi(Gi.UNKNOWN,n)}function e8(n){return new Yi(Gi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function n8(n){return new Yi(Gi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function i8(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yi(Gi.UNAUTHENTICATED,n)}function r8(){return new Yi(Gi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function a8(n){return new Yi(Gi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function s8(){return new Yi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o8(){return new Yi(Gi.CANCELED,"User canceled the upload/download.")}function l8(n){return new Yi(Gi.INVALID_URL,"Invalid URL '"+n+"'.")}function u8(n){return new Yi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function c8(){return new Yi(Gi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u4+"' property when initializing the app?")}function h8(){return new Yi(Gi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function f8(){return new Yi(Gi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d8(n){return new Yi(Gi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function M0(n){return new Yi(Gi.INVALID_ARGUMENT,n)}function c4(){return new Yi(Gi.APP_DELETED,"The Firebase app was deleted.")}function p8(n){return new Yi(Gi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lf(n,t){return new Yi(Gi.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function bf(n){throw new Yi(Gi.INTERNAL_ERROR,"Internal error: "+n)}class xs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=xs.makeFromUrl(t,e)}catch{return new xs(t,"")}if(r.path==="")return r;throw u8(t)}static makeFromUrl(t,e){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function d(it){it.path_=decodeURIComponent(it.path)}const y="v[A-Za-z0-9_]+",A=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${y}/b/${s}/o${T}`,"i"),B={bucket:1,path:3},q=e===l4?"(?:storage.googleapis.com|storage.cloud.google.com)":e,O="([^?#]*)",P=new RegExp(`^https?://${q}/${s}/${O}`,"i"),J=[{regex:h,indices:f,postModify:o},{regex:_,indices:B,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let it=0;it<J.length;it++){const st=J[it],St=st.regex.exec(t);if(St){const G=St[st.indices.bucket];let M=St[st.indices.path];M||(M=""),r=new xs(G,M),st.postModify(r);break}}if(r==null)throw l8(t);return r}}class g8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function m8(n,t,e){let r=1,s=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function y(...O){d||(d=!0,t.apply(null,O))}function A(O){s=setTimeout(()=>{s=null,n(_,f())},O)}function T(){o&&clearTimeout(o)}function _(O,...P){if(d){T();return}if(O){T(),y.call(null,O,...P);return}if(f()||u){T(),y.call(null,O,...P);return}r<64&&(r*=2);let J;h===1?(h=2,J=0):J=(r+Math.random())*1e3,A(J)}let B=!1;function q(O){B||(B=!0,T(),!d&&(s!==null?(O||(h=2),clearTimeout(s),A(0)):O||(h=1)))}return A(0),o=setTimeout(()=>{u=!0,q(!0)},e),q}function y8(n){n(!1)}function v8(n){return n!==void 0}function b8(n){return typeof n=="object"&&!Array.isArray(n)}function Um(n){return typeof n=="string"||n instanceof String}function Pv(n){return Vm()&&n instanceof Blob}function Vm(){return typeof Blob<"u"}function zv(n,t,e,r){if(r<t)throw M0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw M0(`Invalid value for '${n}'. Expected ${e} or less.`)}function qm(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function h4(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const s=t(r)+"="+t(n[r]);e=e+s+"&"}return e=e.slice(0,-1),e}var rc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rc||(rc={}));function x8(n,t){const e=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||s||o}class _8{constructor(t,e,r,s,o,u,h,f,d,y,A,T=!0,_=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,q)=>{this.resolve_=B,this.reject_=q,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Zd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===rc.NO_ERROR,f=o.getStatus();if(!h||x8(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===rc.ABORT;r(!1,new Zd(!1,null,y));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Zd(d,o))})},e=(r,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());v8(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=Bm();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?c4():o8();u(f)}else{const f=s8();u(f)}};this.canceled_?e(!1,new Zd(!1,null,!0)):this.backoffId_=m8(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&y8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zd{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function w8(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function S8(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function A8(n,t){t&&(n["X-Firebase-GMPID"]=t)}function E8(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function T8(n,t,e,r,s,o,u=!0,h=!1){const f=h4(n.urlParams),d=n.url+f,y=Object.assign({},n.headers);return A8(y,t),w8(y,e),S8(y,o),E8(y,r),new _8(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,h)}function C8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function N8(...n){const t=C8();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(Vm())return new Blob(n);throw new Yi(Gi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function R8(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function I8(n){if(typeof atob>"u")throw d8("base-64");return atob(n)}const Ho={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fg{constructor(t,e){this.data=t,this.contentType=e||null}}function L8(n,t){switch(n){case Ho.RAW:return new Fg(f4(t));case Ho.BASE64:case Ho.BASE64URL:return new Fg(d4(n,t));case Ho.DATA_URL:return new Fg(j8(t),k8(t))}throw Bm()}function f4(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=r,u=n.charCodeAt(++e);r=65536|(o&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function D8(n){let t;try{t=decodeURIComponent(n)}catch{throw Lf(Ho.DATA_URL,"Malformed data URL.")}return f4(t)}function d4(n,t){switch(n){case Ho.BASE64:{const s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw Lf(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ho.BASE64URL:{const s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw Lf(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=I8(t)}catch(s){throw s.message.includes("polyfill")?s:Lf(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}class p4{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Lf(Ho.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=M8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function j8(n){const t=new p4(n);return t.base64?d4(Ho.BASE64,t.rest):D8(t.rest)}function k8(n){return new p4(n).contentType}function M8(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class du{constructor(t,e){let r=0,s="";Pv(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(Pv(this.data_)){const r=this.data_,s=R8(r,t,e);return s===null?null:new du(s)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new du(r,!0)}}static getBlob(...t){if(Vm()){const e=t.map(r=>r instanceof du?r.data_:r);return new du(N8.apply(null,e))}else{const e=t.map(u=>Um(u)?L8(Ho.RAW,u).data:u.data_);let r=0;e.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)s[o++]=u[h]}),new du(s,!0)}}uploadData(){return this.data_}}function g4(n){let t;try{t=JSON.parse(n)}catch{return null}return b8(t)?t:null}function O8(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function P8(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function m4(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function z8(n,t){return t}class Da{constructor(t,e,r,s){this.server=t,this.local=e||t,this.writable=!!r,this.xform=s||z8}}let Jd=null;function F8(n){return!Um(n)||n.length<2?n:m4(n)}function y4(){if(Jd)return Jd;const n=[];n.push(new Da("bucket")),n.push(new Da("generation")),n.push(new Da("metageneration")),n.push(new Da("name","fullPath",!0));function t(o,u){return F8(u)}const e=new Da("name");e.xform=t,n.push(e);function r(o,u){return u!==void 0?Number(u):u}const s=new Da("size");return s.xform=r,n.push(s),n.push(new Da("timeCreated")),n.push(new Da("updated")),n.push(new Da("md5Hash",null,!0)),n.push(new Da("cacheControl",null,!0)),n.push(new Da("contentDisposition",null,!0)),n.push(new Da("contentEncoding",null,!0)),n.push(new Da("contentLanguage",null,!0)),n.push(new Da("contentType",null,!0)),n.push(new Da("metadata","customMetadata",!0)),Jd=n,Jd}function B8(n,t){function e(){const r=n.bucket,s=n.fullPath,o=new xs(r,s);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function U8(n,t,e){const r={};r.type="file";const s=e.length;for(let o=0;o<s;o++){const u=e[o];r[u.local]=u.xform(r,t[u.server])}return B8(r,n),r}function v4(n,t,e){const r=g4(t);return r===null?null:U8(n,r,e)}function V8(n,t,e,r){const s=g4(t);if(s===null||!Um(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(d=>{const y=n.bucket,A=n.fullPath,T="/b/"+u(y)+"/o/"+u(A),_=qm(T,e,r),B=h4({alt:"media",token:d});return _+B})[0]}function q8(n,t){const e={},r=t.length;for(let s=0;s<r;s++){const o=t[s];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class b4{constructor(t,e,r,s){this.url=t,this.method=e,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function x4(n){if(!n)throw Bm()}function H8(n,t){function e(r,s){const o=v4(n,s,t);return x4(o!==null),o}return e}function G8(n,t){function e(r,s){const o=v4(n,s,t);return x4(o!==null),V8(o,s,n.host,n._protocol)}return e}function _4(n){function t(e,r){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=r8():s=i8():e.getStatus()===402?s=n8(n.bucket):e.getStatus()===403?s=a8(n.path):s=r,s.status=e.getStatus(),s.serverResponse=r.serverResponse,s}return t}function Y8(n){const t=_4(n);function e(r,s){let o=t(r,s);return r.getStatus()===404&&(o=e8(n.path)),o.serverResponse=s.serverResponse,o}return e}function W8(n,t,e){const r=t.fullServerUrl(),s=qm(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new b4(s,o,G8(n,e),u);return h.errorHandler=Y8(t),h}function $8(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function K8(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=$8(null,t)),r}function Q8(n,t,e,r,s){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let J="";for(let it=0;it<2;it++)J=J+Math.random().toString().slice(2);return J}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=K8(t,r,s),y=q8(d,e),A="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,T=`\r
--`+f+"--",_=du.getBlob(A,r,T);if(_===null)throw h8();const B={name:d.fullPath},q=qm(o,n.host,n._protocol),O="POST",P=n.maxUploadRetryTime,tt=new b4(q,O,H8(n,e),P);return tt.urlParams=B,tt.headers=u,tt.body=_.uploadData(),tt.errorHandler=_4(t),tt}class X8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rc.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rc.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rc.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,s,o){if(this.sent_)throw bf("cannot .send() more than once");if(Yf(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Z8 extends X8{initXhr(){this.xhr_.responseType="text"}}function w4(){return new Z8}class hc{constructor(t,e){this._service=t,e instanceof xs?this._location=e:this._location=xs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new hc(t,e)}get root(){const t=new xs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m4(this._location.path)}get storage(){return this._service}get parent(){const t=O8(this._location.path);if(t===null)return null;const e=new xs(this._location.bucket,t);return new hc(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw p8(t)}}function J8(n,t,e){n._throwIfRoot("uploadBytes");const r=Q8(n.storage,n._location,y4(),new du(t,!0),e);return n.storage.makeRequestWithTokens(r,w4).then(s=>({metadata:s,ref:n}))}function tC(n){n._throwIfRoot("getDownloadURL");const t=W8(n.storage,n._location,y4());return n.storage.makeRequestWithTokens(t,w4).then(e=>{if(e===null)throw f8();return e})}function eC(n,t){const e=P8(n._location.path,t),r=new xs(n._location.bucket,e);return new hc(n.storage,r)}function nC(n){return/^[A-Za-z]+:\/\//.test(n)}function iC(n,t){return new hc(n,t)}function S4(n,t){if(n instanceof Hm){const e=n;if(e._bucket==null)throw c8();const r=new hc(e,e._bucket);return t!=null?S4(r,t):r}else return t!==void 0?eC(n,t):n}function rC(n,t){if(t&&nC(t)){if(n instanceof Hm)return iC(n,t);throw M0("To use ref(service, url), the first argument must be a Storage instance.")}else return S4(n,t)}function Fv(n,t){const e=t?.[u4];return e==null?null:xs.makeFromBucketSpec(e,n)}function aC(n,t,e,r={}){n.host=`${t}:${e}`;const s=Yf(t);s&&(mx(`https://${n.host}/b`),vx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:yx(o,n.app.options.projectId))}class Hm{constructor(t,e,r,s,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=l4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JT,this._maxUploadRetryTime=t8,this._requests=new Set,s!=null?this._bucket=xs.makeFromBucketSpec(s,this._host):this._bucket=Fv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xs.makeFromBucketSpec(this._url,t):this._bucket=Fv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ax(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new hc(this,t)}_makeRequest(t,e,r,s,o=!0){if(this._deleted)return new g8(c4());{const u=T8(t,this._appId,r,s,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,s).getPromise()}}const Bv="@firebase/storage",Uv="0.14.0";const A4="storage";function sC(n,t,e){return n=ns(n),J8(n,t,e)}function oC(n){return n=ns(n),tC(n)}function lC(n,t){return n=ns(n),rC(n,t)}function uC(n=Cx(),t){n=ns(n);const r=Sx(n,A4).getImmediate({identifier:t}),s=px("storage");return s&&cC(r,...s),r}function cC(n,t,e,r={}){aC(n,t,e,r)}function hC(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Hm(e,r,s,t,Ex)}function fC(){Mf(new vh(A4,hC,"PUBLIC").setMultipleInstances(!0)),vu(Bv,Uv,""),vu(Bv,Uv,"esm2020")}fC();var dC="firebase",pC="12.9.0";vu(dC,pC,"app");const gC={apiKey:"AIzaSyAqBIlDzqQdz-GxVGpsL1maWnnTwusleww",authDomain:"sistema-tickets-766f4.firebaseapp.com",projectId:"sistema-tickets-766f4",storageBucket:"sistema-tickets-766f4.firebasestorage.app",messagingSenderId:"1008656923219",appId:"1:1008656923219:web:66eccb70aedd284f3aa4a6"},E4=Tx(gC),yi=zT(E4),mC=uC(E4),vi={USERS:"users",TICKETS:"tickets",COMPUTERS:"computers",INDICATORS:"indicators",SGI_PROCESSES:"sgi_processes",SGI_EVIDENCE:"sgi_evidence"},yn={uploadFile:async(n,t)=>{try{const e=lC(mC,t),r=await sC(e,n);return await oC(r.ref)}catch(e){throw console.error("Storage Upload Error:",e),e}},initializeDefaults:async()=>{try{console.log("Firebase: Verificando datos iniciales...");const n=Ku(ga(yi,vi.USERS),jv(1));if((await Pg(n)).empty){console.log("Firebase: Base de datos vaca. Creando usuarios por defecto...");const e=[{username:"alejandro",password:"lucy931205",role:"admin",name:"Alejandro",email:"admin@elspecandina.com"},{username:"user",password:"user",role:"engineer",name:"Usuario Soporte",email:"soporte@elspecandina.com"}];for(const r of e)await Xu(ga(yi,vi.USERS),{...r,createdAt:new Date().toISOString()});return console.log("Firebase: Usuarios iniciales creados."),!0}return!1}catch(n){return console.error("Firebase Initialization Error:",n),!1}},loginUser:async(n,t)=>{try{const e=(n||"").toLowerCase().trim(),r=Ku(ga(yi,vi.USERS),Dv("username","==",e),jv(1)),s=await Pg(r);if(!s.empty){const o=s.docs[0],u=o.data();if(u.password===t)return{id:o.id,...u}}return null}catch(e){return console.error("Login Error:",e),null}},getUsers:async()=>(await Pg(ga(yi,vi.USERS))).docs.map(t=>({id:t.id,...t.data()})),subscribeUsers:n=>{try{return console.log("Firebase: Iniciando suscripcin de usuarios..."),th(ga(yi,vi.USERS),t=>{console.log("Firebase: Usuarios actualizados");const e=t.docs.map(r=>({id:r.id,...r.data()}));n(e)},t=>{console.error("Firebase Error (Usuarios):",t),alert("Error de conexin con la base de datos (Usuarios). Verifique su conexin.")})}catch(t){return console.error("Critical Firebase Error:",t),()=>{}}},addUser:async n=>({id:(await Xu(ga(yi,vi.USERS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateUser:async(n,t)=>{const e=Uo(yi,vi.USERS,n);await Qu(e,t)},deleteUser:async n=>{const t=Uo(yi,vi.USERS,n);await Ov(t)},subscribeTickets:n=>{try{console.log("Firebase: Iniciando suscripcin de tickets...");const t=Ku(ga(yi,vi.TICKETS),vf("createdAt","desc"));return th(t,e=>{console.log("Firebase: Tickets actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Tickets):",e)})}catch(t){return console.error("Critical Firebase Error (Tickets):",t),()=>{}}},addTicket:async n=>({id:(await Xu(ga(yi,vi.TICKETS),{...n,status:"open",deleted:!1,createdAt:new Date().toISOString()})).id,...n}),updateTicket:async(n,t)=>{const e=Uo(yi,vi.TICKETS,n);await Qu(e,t)},deleteTicket:async n=>{const t=Uo(yi,vi.TICKETS,n);await Qu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeComputers:n=>{try{console.log("Firebase: Iniciando suscripcin de computadores...");const t=Ku(ga(yi,vi.COMPUTERS),vf("createdAt","desc"));return th(t,e=>{console.log("Firebase: Computadores actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Computers):",e)})}catch(t){return console.error("Critical Firebase Error (Computers):",t),()=>{}}},addComputer:async n=>({id:(await Xu(ga(yi,vi.COMPUTERS),{...n,deleted:!1,createdAt:new Date().toISOString(),maintenanceLog:[]})).id,...n}),updateComputer:async(n,t)=>{const e=Uo(yi,vi.COMPUTERS,n);await Qu(e,t)},deleteComputer:async n=>{const t=Uo(yi,vi.COMPUTERS,n);await Qu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeIndicators:n=>{try{console.log("Firebase: Iniciando suscripcin de indicadores...");const t=Ku(ga(yi,vi.INDICATORS),vf("createdAt","desc"));return th(t,e=>{console.log("Firebase: Indicadores actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Indicators):",e)})}catch(t){return console.error("Critical Firebase Error (Indicators):",t),()=>{}}},addIndicator:async n=>({id:(await Xu(ga(yi,vi.INDICATORS),{...n,deleted:!1,createdAt:new Date().toISOString()})).id,...n}),deleteIndicator:async n=>{const t=Uo(yi,vi.INDICATORS,n);await Qu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeSGIProcesses:n=>{try{console.log("Firebase: Suscribiendo a procesos SGI...");const t=Ku(ga(yi,vi.SGI_PROCESSES),vf("name"));return th(t,e=>{const r=e.docs.map(s=>({id:s.id,...s.data()}));n(r)},e=>console.error("Firebase Error (SGI Processes):",e))}catch(t){return console.error("Critical Firebase Error (SGI Processes):",t),()=>{}}},addSGIProcess:async n=>({id:(await Xu(ga(yi,vi.SGI_PROCESSES),{...n,createdAt:new Date().toISOString()})).id,...n}),updateSGIProcess:async(n,t)=>{const e=Uo(yi,vi.SGI_PROCESSES,n);await Qu(e,t)},deleteSGIProcess:async n=>{const t=Uo(yi,vi.SGI_PROCESSES,n);await Ov(t)},submitSGIEvidence:async n=>({id:(await Xu(ga(yi,vi.SGI_EVIDENCE),{...n,timestamp:new Date().toISOString()})).id,...n}),subscribeSGIEvidence:(n,t)=>{const e=Ku(ga(yi,vi.SGI_EVIDENCE),Dv("processId","==",n),vf("timestamp","desc"));return th(e,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));t(s)})},getSession:()=>{try{const n=localStorage.getItem("app_logged_user");return n?JSON.parse(n):null}catch{return localStorage.removeItem("app_logged_user"),null}},setSession:n=>{localStorage.setItem("app_logged_user",JSON.stringify(n))},clearSession:()=>{localStorage.removeItem("app_logged_user")}},Jf=()=>{const[n,t]=te.useState(()=>yn.getSession()),[e,r]=te.useState([]);return te.useEffect(()=>{const d=yn.subscribeUsers(y=>{r(y)});return()=>{typeof d=="function"&&d()}},[]),{user:n,users:e,login:async(d,y)=>{const A=await yn.loginUser(d,y);return A?(t(A),yn.setSession(A),!0):!1},logout:()=>{t(null),yn.clearSession()},addUser:d=>yn.addUser(d),deleteUser:d=>yn.deleteUser(d),updateUser:(d,y)=>yn.updateUser(d,y),isAuthenticated:!!n}};const T4=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim();const yC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const vC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase());const Vv=n=>{const t=vC(n);return t.charAt(0).toUpperCase()+t.slice(1)};var bC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xC=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const _C=te.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...h},f)=>te.createElement("svg",{ref:f,...bC,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:T4("lucide",s),...!o&&!xC(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,y])=>te.createElement(d,y)),...Array.isArray(o)?o:[o]]));const hn=(n,t)=>{const e=te.forwardRef(({className:r,...s},o)=>te.createElement(_C,{ref:o,iconNode:t,className:T4(`lucide-${yC(Vv(n))}`,`lucide-${n}`,r),...s}));return e.displayName=Vv(n),e};const wC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gm=hn("activity",wC);const SC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pp=hn("calendar",SC);const AC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],O0=hn("camera",AC);const EC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qv=hn("chart-pie",EC);const TC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],C4=hn("circle-alert",TC);const CC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cl=hn("circle-check-big",CC);const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ah=hn("circle-plus",NC);const RC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N4=hn("circle-x",RC);const IC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Bg=hn("clipboard-list",IC);const LC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wu=hn("clock",LC);const DC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],jC=hn("cpu",DC);const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gp=hn("download",kC);const MC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OC=hn("eye-off",MC);const PC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zC=hn("eye",PC);const FC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Il=hn("file-text",FC);const BC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],R4=hn("funnel",BC);const UC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VC=hn("layout-dashboard",UC);const qC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],HC=hn("log-in",qC);const GC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YC=hn("log-out",GC);const WC=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],$C=hn("maximize",WC);const KC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],I4=hn("message-square",KC);const QC=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],XC=hn("minimize",QC);const ZC=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],o1=hn("monitor",ZC);const JC=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],zp=hn("paperclip",JC);const tN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eN=hn("refresh-cw",tN);const nN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iN=hn("save",nN);const rN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P0=hn("search",rN);const aN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sN=hn("send",aN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lN=hn("shield-check",oN);const uN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cN=hn("shield",uN);const hN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fc=hn("square-pen",hN);const fN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tp=hn("star",fN);const dN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eh=hn("trash-2",dN);const pN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L4=hn("triangle-alert",pN);const gN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mN=hn("upload",gN);const yN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vN=hn("user-plus",yN);const bN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D4=hn("user",bN);const xN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_N=hn("users",xN);const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j4=hn("x",wN),SN=()=>{const[n,t]=te.useState(""),[e,r]=te.useState(""),[s,o]=te.useState(!1),[u,h]=te.useState(""),{login:f}=Jf();te.useEffect(()=>{yn.initializeDefaults()},[]);const d=async y=>{y.preventDefault(),h("");try{await f(n,e)?window.location.reload():h("Usuario o contrasea incorrectos.")}catch(A){console.error(A),h("Error al iniciar sesin.")}};return b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"radial-gradient(circle at top right, rgba(0, 108, 224, 0.15), transparent 40%), radial-gradient(circle at bottom left, rgba(0, 108, 224, 0.1), transparent 40%)",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{padding:"50px 40px",width:"100%",maxWidth:"450px",border:"1px solid rgba(255,255,255,0.1)"},children:[b.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[b.jsx("div",{style:{background:"linear-gradient(135deg, var(--primary), #004da1)",width:"70px",height:"70px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",boxShadow:"0 10px 25px rgba(0, 108, 224, 0.3)"},children:b.jsx(lN,{color:"white",size:36})}),b.jsxs("h1",{style:{fontSize:"2rem",color:"white",fontWeight:800,letterSpacing:"-0.5px",marginBottom:"8px"},children:["ELSPEC ",b.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]}),b.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Mesa de Soporte Tcnico Especializado"})]}),b.jsxs("form",{onSubmit:d,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Usuario"}),b.jsx("input",{type:"text",value:n,onChange:y=>t(y.target.value),placeholder:"Ingrese su usuario",style:{padding:"14px 18px",fontSize:"1rem"},required:!0})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:"30px"},children:[b.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Contrasea"}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx("input",{type:s?"text":"password",value:e,onChange:y=>r(y.target.value),placeholder:"Ingrese su contrasea",style:{padding:"14px 18px",fontSize:"1rem",paddingRight:"50px"},required:!0}),b.jsx("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",padding:"5px",color:"var(--text-muted)"},children:s?b.jsx(OC,{size:20}):b.jsx(zC,{size:20})})]})]}),u&&b.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"var(--danger)",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"20px",textAlign:"center"},children:u}),b.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:"1.1rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:["Acceder al Sistema ",b.jsx(HC,{size:20})]})]}),b.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"El sistema ahora sincroniza datos en tiempo real entre todos sus dispositivos."}),b.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"Para restablecer su contrasea, contacte al administrador del sistema."})]})})},AN=()=>{const[n,t]=te.useState([]);return te.useEffect(()=>{const o=yn.subscribeTickets(u=>{t(u)});return()=>{typeof o=="function"&&o()}},[]),{tickets:n,addTicket:o=>yn.addTicket(o),updateTicketStatus:(o,u,h={})=>yn.updateTicket(o,{status:u,...h}),deleteTicket:o=>yn.deleteTicket(o)}},Ym=()=>{const[n,t]=te.useState([]),[e,r]=te.useState(!0);te.useEffect(()=>{const f=yn.subscribeComputers(d=>{t(d),r(!1)});return()=>{typeof f=="function"&&f()}},[]);const s=f=>yn.addComputer(f),o=(f,d)=>yn.updateComputer(f,d);return{computers:n,loading:e,addComputer:s,updateComputer:o,deleteComputer:f=>yn.deleteComputer(f),addMaintenanceLog:(f,d)=>{const y=n.find(A=>A.id===f);if(y){const A=[...y.maintenanceLog||[],{...d,createdAt:new Date().toISOString()}];return o(f,{maintenanceLog:A})}}}},EN=()=>{const{addUser:n,deleteUser:t,updateUser:e}=Jf(),[r,s]=te.useState([]);te.useEffect(()=>{const T=yn.subscribeUsers(s);return()=>T()},[]);const[o,u]=te.useState(null),[h,f]=te.useState({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1}),d=T=>{if(T.preventDefault(),o)e(o.id,h),u(null);else{if(r.some(_=>_.username===h.username)){alert("El nombre de usuario ya existe");return}n(h)}f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})},y=T=>{u(T),f({username:T.username,password:T.password,role:T.role,name:T.name,email:T.email,canManageAssets:T.canManageAssets||!1})},A=()=>{u(null),f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})};return b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("h3",{style:{marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:[o?b.jsx(fc,{size:22,color:"var(--warning)"}):b.jsx(vN,{size:22,color:"var(--primary)"}),o?`Editando Usuario: ${o.username}`:"Registro de Nuevo Usuario"]}),b.jsx("form",{onSubmit:d,style:{marginBottom:"40px",paddingBottom:"30px",borderBottom:"1px solid var(--border-color)"},children:b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Nombre Completo"}),b.jsx("input",{type:"text",value:h.name,placeholder:"Juan Prez",onChange:T=>f({...h,name:T.target.value}),required:!0})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Correo Electrnico"}),b.jsx("input",{type:"email",value:h.email,placeholder:"juan@empresa.com",onChange:T=>f({...h,email:T.target.value}),required:!0})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Usuario"}),b.jsx("input",{type:"text",value:h.username,placeholder:"juanp",onChange:T=>f({...h,username:T.target.value}),required:!0,disabled:!!o})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Contrasea"}),b.jsx("input",{type:"text",value:h.password,onChange:T=>f({...h,password:T.target.value}),required:!0})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Rol"}),b.jsxs("select",{value:h.role,onChange:T=>f({...h,role:T.target.value}),children:[b.jsx("option",{value:"engineer",children:"Ingeniero / Soporte"}),b.jsx("option",{value:"admin",children:"Administrador / Gerencia"}),b.jsx("option",{value:"ventas",children:"Ventas"}),b.jsx("option",{value:"sgi",children:"SGI (Gestin)"}),b.jsx("option",{value:"logistica",children:"Logstica"}),b.jsx("option",{value:"operaciones",children:"Operaciones"})]})]}),b.jsx("div",{className:"input-group",style:{marginBottom:0,display:"flex",alignItems:"center",height:"48px"},children:b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:0},children:[b.jsx("input",{type:"checkbox",checked:h.canManageAssets,onChange:T=>f({...h,canManageAssets:T.target.checked}),style:{width:"20px",height:"20px"}}),"Gestor de Activos"]})}),b.jsxs("div",{style:{display:"flex",gap:"5px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{height:"48px",padding:"0 20px",background:o?"var(--warning)":"var(--primary)",flex:1},children:o?"Actualizar":"Registrar"}),o&&b.jsx("button",{type:"button",onClick:A,style:{height:"48px",padding:"0 15px",background:"rgba(255,255,255,0.05)"},children:b.jsx(j4,{size:20})})]})]})}),b.jsx("h3",{style:{marginBottom:"20px",fontSize:"1.1rem"},children:"Cuentas Existentes"}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(T=>b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid var(--border-color)",opacity:o&&o.id===T.id?.6:1},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[b.jsx("div",{style:{background:T.role==="admin"?"rgba(245, 158, 11, 0.1)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px"},children:T.role==="admin"?b.jsx(cN,{size:20,color:"var(--warning)"}):b.jsx(D4,{size:20,color:"var(--text-muted)"})}),b.jsxs("div",{children:[b.jsxs("div",{style:{fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},children:[T.name||T.username,T.canManageAssets&&T.role!=="admin"&&b.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(0, 108, 224, 0.2)",color:"var(--primary)",padding:"2px 6px",borderRadius:"4px"},children:"Gestor Activos"})]}),b.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["@",T.username,"  ",T.email,"  ",b.jsx("span",{style:{textTransform:"capitalize"},children:T.role})]})]})]}),b.jsxs("div",{style:{display:"flex",gap:"10px"},children:[b.jsx("button",{onClick:()=>y(T),style:{background:"rgba(52, 211, 153, 0.1)",color:"var(--success)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Editar Usuario",children:b.jsx(fc,{size:18})}),T.username!=="admin"&&b.jsx("button",{onClick:()=>{confirm(`Eliminar al usuario ${T.username}?`)&&t(T.id)},style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Eliminar Usuario",children:b.jsx(Eh,{size:18})})]})]},T.id))})]})},TN="modulepreload",CN=function(n){return"/"+n},Hv={},Ug=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(e.map(d=>{if(d=CN(d),d in Hv)return;Hv[d]=!0;const y=d.endsWith(".css"),A=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":TN,y||(T.as="script"),T.crossOrigin="",T.href=d,h&&T.setAttribute("nonce",h),document.head.appendChild(T),y)return new Promise((_,B)=>{T.addEventListener("load",_),T.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(n)}var go=Uint8Array,_s=Uint16Array,Wm=Int32Array,$m=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Km=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gv=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k4=function(n,t){for(var e=new _s(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var s=new Wm(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)s[o]=o-e[r]<<5|r;return{b:e,r:s}},M4=k4($m,2),NN=M4.b,z0=M4.r;NN[28]=258,z0[258]=28;var RN=k4(Km,0),Yv=RN.r,F0=new _s(32768);for(var xi=0;xi<32768;++xi){var hu=(xi&43690)>>1|(xi&21845)<<1;hu=(hu&52428)>>2|(hu&13107)<<2,hu=(hu&61680)>>4|(hu&3855)<<4,F0[xi]=((hu&65280)>>8|(hu&255)<<8)>>1}var Df=(function(n,t,e){for(var r=n.length,s=0,o=new _s(t);s<r;++s)n[s]&&++o[n[s]-1];var u=new _s(t);for(s=1;s<t;++s)u[s]=u[s-1]+o[s-1]<<1;var h;if(e){h=new _s(1<<t);var f=15-t;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],y=t-n[s],A=u[n[s]-1]++<<y,T=A|(1<<y)-1;A<=T;++A)h[F0[A]>>f]=d}else for(h=new _s(r),s=0;s<r;++s)n[s]&&(h[s]=F0[u[n[s]-1]++]>>15-n[s]);return h}),dc=new go(288);for(var xi=0;xi<144;++xi)dc[xi]=8;for(var xi=144;xi<256;++xi)dc[xi]=9;for(var xi=256;xi<280;++xi)dc[xi]=7;for(var xi=280;xi<288;++xi)dc[xi]=8;var Fp=new go(32);for(var xi=0;xi<32;++xi)Fp[xi]=5;var IN=Df(dc,9,0),LN=Df(Fp,5,0),O4=function(n){return(n+7)/8|0},DN=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new go(n.subarray(t,e))},Al=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},xf=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Vg=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var s=e.length,o=e.slice();if(!s)return{t:z4,l:0};if(s==1){var u=new go(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(st,St){return st.f-St.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,y=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};y!=s-1;)h=e[e[d].f<e[A].f?d++:A++],f=e[d!=y&&e[d].f<e[A].f?d++:A++],e[y++]={s:-1,f:h.f+f.f,l:h,r:f};for(var T=o[0].s,r=1;r<s;++r)o[r].s>T&&(T=o[r].s);var _=new _s(T+1),B=B0(e[y-1],_,0);if(B>t){var r=0,q=0,O=B-t,P=1<<O;for(o.sort(function(St,G){return _[G.s]-_[St.s]||St.f-G.f});r<s;++r){var tt=o[r].s;if(_[tt]>t)q+=P-(1<<B-_[tt]),_[tt]=t;else break}for(q>>=O;q>0;){var J=o[r].s;_[J]<t?q-=1<<t-_[J]++-1:++r}for(;r>=0&&q;--r){var it=o[r].s;_[it]==t&&(--_[it],++q)}B=t}return{t:new go(_),l:B}},B0=function(n,t,e){return n.s==-1?Math.max(B0(n.l,t,e+1),B0(n.r,t,e+1)):t[n.s]=e},Wv=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new _s(++t),r=0,s=n[0],o=1,u=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==s&&h!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[h]}return{c:e.subarray(0,r),n:t}},_f=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},P4=function(n,t,e){var r=e.length,s=O4(t+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=e[o];return(s+4+r)*8},$v=function(n,t,e,r,s,o,u,h,f,d,y){Al(t,y++,e),++s[256];for(var A=Vg(s,15),T=A.t,_=A.l,B=Vg(o,15),q=B.t,O=B.l,P=Wv(T),tt=P.c,J=P.n,it=Wv(q),st=it.c,St=it.n,G=new _s(19),M=0;M<tt.length;++M)++G[tt[M]&31];for(var M=0;M<st.length;++M)++G[st[M]&31];for(var w=Vg(G,7),F=w.t,R=w.l,N=19;N>4&&!F[Gv[N-1]];--N);var I=d+5<<3,$=_f(s,dc)+_f(o,Fp)+u,mt=_f(s,T)+_f(o,q)+u+14+3*N+_f(G,F)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&I<=$&&I<=mt)return P4(t,y,n.subarray(f,f+d));var rt,ft,at,bt;if(Al(t,y,1+(mt<$)),y+=2,mt<$){rt=Df(T,_,0),ft=T,at=Df(q,O,0),bt=q;var Dt=Df(F,R,0);Al(t,y,J-257),Al(t,y+5,St-1),Al(t,y+10,N-4),y+=14;for(var M=0;M<N;++M)Al(t,y+3*M,F[Gv[M]]);y+=3*N;for(var nt=[tt,st],k=0;k<2;++k)for(var z=nt[k],M=0;M<z.length;++M){var W=z[M]&31;Al(t,y,Dt[W]),y+=F[W],W>15&&(Al(t,y,z[M]>>5&127),y+=z[M]>>12)}}else rt=IN,ft=dc,at=LN,bt=Fp;for(var M=0;M<h;++M){var K=r[M];if(K>255){var W=K>>18&31;xf(t,y,rt[W+257]),y+=ft[W+257],W>7&&(Al(t,y,K>>23&31),y+=$m[W]);var ht=K&31;xf(t,y,at[ht]),y+=bt[ht],ht>3&&(xf(t,y,K>>5&8191),y+=Km[ht])}else xf(t,y,rt[K]),y+=ft[K]}return xf(t,y,rt[256]),y+ft[256]},jN=new Wm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z4=new go(0),kN=function(n,t,e,r,s,o){var u=o.z||n.length,h=new go(r+u+5*(1+Math.ceil(u/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,y=(o.r||0)&7;if(t){y&&(f[0]=o.r>>3);for(var A=jN[t-1],T=A>>13,_=A&8191,B=(1<<e)-1,q=o.p||new _s(32768),O=o.h||new _s(B+1),P=Math.ceil(e/3),tt=2*P,J=function(ce){return(n[ce]^n[ce+1]<<P^n[ce+2]<<tt)&B},it=new Wm(25e3),st=new _s(288),St=new _s(32),G=0,M=0,w=o.i||0,F=0,R=o.w||0,N=0;w+2<u;++w){var I=J(w),$=w&32767,mt=O[I];if(q[$]=mt,O[I]=$,R<=w){var rt=u-w;if((G>7e3||F>24576)&&(rt>423||!d)){y=$v(n,f,0,it,st,St,M,F,N,w-N,y),F=G=M=0,N=w;for(var ft=0;ft<286;++ft)st[ft]=0;for(var ft=0;ft<30;++ft)St[ft]=0}var at=2,bt=0,Dt=_,nt=$-mt&32767;if(rt>2&&I==J(w-nt))for(var k=Math.min(T,rt)-1,z=Math.min(32767,w),W=Math.min(258,rt);nt<=z&&--Dt&&$!=mt;){if(n[w+at]==n[w+at-nt]){for(var K=0;K<W&&n[w+K]==n[w+K-nt];++K);if(K>at){if(at=K,bt=nt,K>k)break;for(var ht=Math.min(nt,K-2),gt=0,ft=0;ft<ht;++ft){var Nt=w-nt+ft&32767,Ct=q[Nt],Ot=Nt-Ct&32767;Ot>gt&&(gt=Ot,mt=Nt)}}}$=mt,mt=q[$],nt+=$-mt&32767}if(bt){it[F++]=268435456|z0[at]<<18|Yv[bt];var Kt=z0[at]&31,ne=Yv[bt]&31;M+=$m[Kt]+Km[ne],++st[257+Kt],++St[ne],R=w+at,++G}else it[F++]=n[w],++st[n[w]]}}for(w=Math.max(w,R);w<u;++w)it[F++]=n[w],++st[n[w]];y=$v(n,f,d,it,st,St,M,F,N,w-N,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=O,o.p=q,o.i=w,o.w=R)}else{for(var w=o.w||0;w<u+d;w+=65535){var ee=w+65535;ee>=u&&(f[y/8|0]=d,ee=u),y=P4(f,y+1,n.subarray(w,ee))}o.i=u}return DN(h,0,r+O4(y)+s)},F4=function(){var n=1,t=0;return{p:function(e){for(var r=n,s=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)s+=r+=e[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,t=s},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},MN=function(n,t,e,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new go(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return kN(n,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,s)},B4=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},ON=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var s=F4();s.p(t.dictionary),B4(n,2,s.d())}};function U0(n,t){t||(t={});var e=F4();e.p(n);var r=MN(n,t,t.dictionary?6:2,4);return ON(r,t),B4(r,r.length-4,e.d()),r}var PN=typeof TextDecoder<"u"&&new TextDecoder,zN=0;try{PN.decode(z4,{stream:!0}),zN=1}catch{}function FN(n){if(Array.isArray(n))return n}function BN(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,s,o,u,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(y){d=!0,s=y}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw s}}return h}}function Kv(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function UN(n,t){if(n){if(typeof n=="string")return Kv(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Kv(n,t):void 0}}function VN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qv(n,t){return FN(n)||BN(n,t)||UN(n,t)||VN()}function Xv(n,t="utf8"){return new TextDecoder(t).decode(n)}const qN=new TextEncoder;function HN(n){return qN.encode(n)}const GN=1024*8,YN=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),qg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Qm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=GN,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let u=s;(ArrayBuffer.isView(t)||t instanceof Qm)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+s),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=qg[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===YN&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new qg[e](h.buffer);return this.offset+=r,f.reverse(),f}const u=new qg[e](o);return this.offset+=r,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return Xv(this.readBytes(t))}decodeText(t=1,e="utf8"){return Xv(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(HN(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dh(n){let t=n.length;for(;--t>=0;)n[t]=0}const WN=3,$N=258,U4=29,KN=256,QN=KN+1+U4,V4=30,XN=512,ZN=new Array((QN+2)*2);Dh(ZN);const JN=new Array(V4*2);Dh(JN);const t7=new Array(XN);Dh(t7);const e7=new Array($N-WN+1);Dh(e7);const n7=new Array(U4);Dh(n7);const i7=new Array(V4);Dh(i7);const r7=(n,t,e,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var V0=r7;const a7=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},s7=new Uint32Array(a7()),o7=(n,t,e,r)=>{const s=s7,o=r+e;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^t[u])&255];return n^-1};var Bo=o7,q0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const l7=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var u7=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)l7(e,r)&&(n[r]=e[r])}}return n},c7=n=>{let t=0;for(let r=0,s=n.length;r<s;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];e.set(u,s),s+=u.length}return e},H4={assign:u7,flattenChunks:c7};let G4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G4=!1}const Hf=new Uint8Array(256);for(let n=0;n<256;n++)Hf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Hf[254]=Hf[254]=1;var h7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,s,o,u=n.length,h=0;for(s=0;s<u;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,s=0;o<h;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const f7=(n,t)=>{if(t<65534&&n.subarray&&G4)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var d7=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,s;const o=new Array(e*2);for(s=0,r=0;r<e;){let u=n[r++];if(u<128){o[s++]=u;continue}let h=Hf[u];if(h>4){o[s++]=65533,r+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&r<e;)u=u<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return f7(o,s)},p7=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Hf[n[e]]>t?e:t},H0={string2buf:h7,buf2string:d7,utf8border:p7};function g7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var m7=g7;const ep=16209,y7=16191;var v7=function(t,e){let r,s,o,u,h,f,d,y,A,T,_,B,q,O,P,tt,J,it,st,St,G,M,w,F;const R=t.state;r=t.next_in,w=t.input,s=r+(t.avail_in-5),o=t.next_out,F=t.output,u=o-(e-t.avail_out),h=o+(t.avail_out-257),f=R.dmax,d=R.wsize,y=R.whave,A=R.wnext,T=R.window,_=R.hold,B=R.bits,q=R.lencode,O=R.distcode,P=(1<<R.lenbits)-1,tt=(1<<R.distbits)-1;t:do{B<15&&(_+=w[r++]<<B,B+=8,_+=w[r++]<<B,B+=8),J=q[_&P];e:for(;;){if(it=J>>>24,_>>>=it,B-=it,it=J>>>16&255,it===0)F[o++]=J&65535;else if(it&16){st=J&65535,it&=15,it&&(B<it&&(_+=w[r++]<<B,B+=8),st+=_&(1<<it)-1,_>>>=it,B-=it),B<15&&(_+=w[r++]<<B,B+=8,_+=w[r++]<<B,B+=8),J=O[_&tt];n:for(;;){if(it=J>>>24,_>>>=it,B-=it,it=J>>>16&255,it&16){if(St=J&65535,it&=15,B<it&&(_+=w[r++]<<B,B+=8,B<it&&(_+=w[r++]<<B,B+=8)),St+=_&(1<<it)-1,St>f){t.msg="invalid distance too far back",R.mode=ep;break t}if(_>>>=it,B-=it,it=o-u,St>it){if(it=St-it,it>y&&R.sane){t.msg="invalid distance too far back",R.mode=ep;break t}if(G=0,M=T,A===0){if(G+=d-it,it<st){st-=it;do F[o++]=T[G++];while(--it);G=o-St,M=F}}else if(A<it){if(G+=d+A-it,it-=A,it<st){st-=it;do F[o++]=T[G++];while(--it);if(G=0,A<st){it=A,st-=it;do F[o++]=T[G++];while(--it);G=o-St,M=F}}}else if(G+=A-it,it<st){st-=it;do F[o++]=T[G++];while(--it);G=o-St,M=F}for(;st>2;)F[o++]=M[G++],F[o++]=M[G++],F[o++]=M[G++],st-=3;st&&(F[o++]=M[G++],st>1&&(F[o++]=M[G++]))}else{G=o-St;do F[o++]=F[G++],F[o++]=F[G++],F[o++]=F[G++],st-=3;while(st>2);st&&(F[o++]=F[G++],st>1&&(F[o++]=F[G++]))}}else if((it&64)===0){J=O[(J&65535)+(_&(1<<it)-1)];continue n}else{t.msg="invalid distance code",R.mode=ep;break t}break}}else if((it&64)===0){J=q[(J&65535)+(_&(1<<it)-1)];continue e}else if(it&32){R.mode=y7;break t}else{t.msg="invalid literal/length code",R.mode=ep;break t}break}}while(r<s&&o<h);st=B>>3,r-=st,B-=st<<3,_&=(1<<B)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<h?257+(h-o):257-(o-h),R.hold=_,R.bits=B};const eh=15,Zv=852,Jv=592,tb=0,Hg=1,eb=2,b7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),w7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),S7=(n,t,e,r,s,o,u,h)=>{const f=h.bits;let d=0,y=0,A=0,T=0,_=0,B=0,q=0,O=0,P=0,tt=0,J,it,st,St,G,M=null,w;const F=new Uint16Array(eh+1),R=new Uint16Array(eh+1);let N=null,I,$,mt;for(d=0;d<=eh;d++)F[d]=0;for(y=0;y<r;y++)F[t[e+y]]++;for(_=f,T=eh;T>=1&&F[T]===0;T--);if(_>T&&(_=T),T===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<T&&F[A]===0;A++);for(_<A&&(_=A),O=1,d=1;d<=eh;d++)if(O<<=1,O-=F[d],O<0)return-1;if(O>0&&(n===tb||T!==1))return-1;for(R[1]=0,d=1;d<eh;d++)R[d+1]=R[d]+F[d];for(y=0;y<r;y++)t[e+y]!==0&&(u[R[t[e+y]]++]=y);if(n===tb?(M=N=u,w=20):n===Hg?(M=b7,N=x7,w=257):(M=_7,N=w7,w=0),tt=0,y=0,d=A,G=o,B=_,q=0,st=-1,P=1<<_,St=P-1,n===Hg&&P>Zv||n===eb&&P>Jv)return 1;for(;;){I=d-q,u[y]+1<w?($=0,mt=u[y]):u[y]>=w?($=N[u[y]-w],mt=M[u[y]-w]):($=96,mt=0),J=1<<d-q,it=1<<B,A=it;do it-=J,s[G+(tt>>q)+it]=I<<24|$<<16|mt|0;while(it!==0);for(J=1<<d-1;tt&J;)J>>=1;if(J!==0?(tt&=J-1,tt+=J):tt=0,y++,--F[d]===0){if(d===T)break;d=t[e+u[y]]}if(d>_&&(tt&St)!==st){for(q===0&&(q=_),G+=A,B=d-q,O=1<<B;B+q<T&&(O-=F[B+q],!(O<=0));)B++,O<<=1;if(P+=1<<B,n===Hg&&P>Zv||n===eb&&P>Jv)return 1;st=tt&St,s[st]=_<<24|B<<16|G-o|0}}return tt!==0&&(s[G+tt]=d-q<<24|64<<16|0),h.bits=_,0};var jf=S7;const A7=0,Y4=1,W4=2,{Z_FINISH:nb,Z_BLOCK:E7,Z_TREES:np,Z_OK:pc,Z_STREAM_END:T7,Z_NEED_DICT:C7,Z_STREAM_ERROR:Vs,Z_DATA_ERROR:$4,Z_MEM_ERROR:K4,Z_BUF_ERROR:N7,Z_DEFLATED:ib}=q4,l1=16180,rb=16181,ab=16182,sb=16183,ob=16184,lb=16185,ub=16186,cb=16187,hb=16188,fb=16189,Bp=16190,El=16191,Gg=16192,db=16193,Yg=16194,pb=16195,gb=16196,mb=16197,yb=16198,ip=16199,rp=16200,vb=16201,bb=16202,xb=16203,_b=16204,wb=16205,Wg=16206,Sb=16207,Ab=16208,Ci=16209,Q4=16210,X4=16211,R7=852,I7=592,L7=15,D7=L7,Eb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function j7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<l1||t.mode>X4?1:0},Z4=n=>{if(vc(n))return Vs;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=l1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(R7),t.distcode=t.distdyn=new Int32Array(I7),t.sane=1,t.back=-1,pc},J4=n=>{if(vc(n))return Vs;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,Z4(n)},tw=(n,t)=>{let e;if(vc(n))return Vs;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Vs:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,J4(n))},ew=(n,t)=>{if(!n)return Vs;const e=new j7;n.state=e,e.strm=n,e.window=null,e.mode=l1;const r=tw(n,t);return r!==pc&&(n.state=null),r},k7=n=>ew(n,D7);let Tb=!0,$g,Kg;const M7=n=>{if(Tb){$g=new Int32Array(512),Kg=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(jf(Y4,n.lens,0,288,$g,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;jf(W4,n.lens,0,32,Kg,0,n.work,{bits:5}),Tb=!1}n.lencode=$g,n.lenbits=9,n.distcode=Kg,n.distbits=5},nw=(n,t,e,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(t.subarray(e-r,e-r+s),o.wnext),r-=s,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},O7=(n,t)=>{let e,r,s,o,u,h,f,d,y,A,T,_,B,q,O=0,P,tt,J,it,st,St,G,M;const w=new Uint8Array(4);let F,R;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vc(n)||!n.output||!n.input&&n.avail_in!==0)return Vs;e=n.state,e.mode===El&&(e.mode=Gg),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,y=e.bits,A=h,T=f,M=pc;t:for(;;)switch(e.mode){case l1:if(e.wrap===0){e.mode=Gg;break}for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,w[0]=d&255,w[1]=d>>>8&255,e.check=Bo(e.check,w,2,0),d=0,y=0,e.mode=rb;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Ci;break}if((d&15)!==ib){n.msg="unknown compression method",e.mode=Ci;break}if(d>>>=4,y-=4,G=(d&15)+8,e.wbits===0&&(e.wbits=G),G>15||G>e.wbits){n.msg="invalid window size",e.mode=Ci;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?fb:El,d=0,y=0;break;case rb:for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.flags=d,(e.flags&255)!==ib){n.msg="unknown compression method",e.mode=Ci;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Ci;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=Bo(e.check,w,2,0)),d=0,y=0,e.mode=ab;case ab:for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,w[2]=d>>>16&255,w[3]=d>>>24&255,e.check=Bo(e.check,w,4,0)),d=0,y=0,e.mode=sb;case sb:for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=Bo(e.check,w,2,0)),d=0,y=0,e.mode=ob;case ob:if(e.flags&1024){for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=Bo(e.check,w,2,0)),d=0,y=0}else e.head&&(e.head.extra=null);e.mode=lb;case lb:if(e.flags&1024&&(_=e.length,_>h&&(_=h),_&&(e.head&&(G=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+_),G)),e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,_,o)),h-=_,o+=_,e.length-=_),e.length))break t;e.length=0,e.mode=ub;case ub:if(e.flags&2048){if(h===0)break t;_=0;do G=r[o+_++],e.head&&G&&e.length<65536&&(e.head.name+=String.fromCharCode(G));while(G&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,_,o)),h-=_,o+=_,G)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=cb;case cb:if(e.flags&4096){if(h===0)break t;_=0;do G=r[o+_++],e.head&&G&&e.length<65536&&(e.head.comment+=String.fromCharCode(G));while(G&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,_,o)),h-=_,o+=_,G)break t}else e.head&&(e.head.comment=null);e.mode=hb;case hb:if(e.flags&512){for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Ci;break}d=0,y=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=El;break;case fb:for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}n.adler=e.check=Eb(d),d=0,y=0,e.mode=Bp;case Bp:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,C7;n.adler=e.check=1,e.mode=El;case El:if(t===E7||t===np)break t;case Gg:if(e.last){d>>>=y&7,y-=y&7,e.mode=Wg;break}for(;y<3;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}switch(e.last=d&1,d>>>=1,y-=1,d&3){case 0:e.mode=db;break;case 1:if(M7(e),e.mode=ip,t===np){d>>>=2,y-=2;break t}break;case 2:e.mode=gb;break;case 3:n.msg="invalid block type",e.mode=Ci}d>>>=2,y-=2;break;case db:for(d>>>=y&7,y-=y&7;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Ci;break}if(e.length=d&65535,d=0,y=0,e.mode=Yg,t===np)break t;case Yg:e.mode=pb;case pb:if(_=e.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break t;s.set(r.subarray(o,o+_),u),h-=_,o+=_,f-=_,u+=_,e.length-=_;break}e.mode=El;break;case gb:for(;y<14;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.nlen=(d&31)+257,d>>>=5,y-=5,e.ndist=(d&31)+1,d>>>=5,y-=5,e.ncode=(d&15)+4,d>>>=4,y-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Ci;break}e.have=0,e.mode=mb;case mb:for(;e.have<e.ncode;){for(;y<3;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.lens[N[e.have++]]=d&7,d>>>=3,y-=3}for(;e.have<19;)e.lens[N[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},M=jf(A7,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,M){n.msg="invalid code lengths set",e.mode=Ci;break}e.have=0,e.mode=yb;case yb:for(;e.have<e.nlen+e.ndist;){for(;O=e.lencode[d&(1<<e.lenbits)-1],P=O>>>24,tt=O>>>16&255,J=O&65535,!(P<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(J<16)d>>>=P,y-=P,e.lens[e.have++]=J;else{if(J===16){for(R=P+2;y<R;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(d>>>=P,y-=P,e.have===0){n.msg="invalid bit length repeat",e.mode=Ci;break}G=e.lens[e.have-1],_=3+(d&3),d>>>=2,y-=2}else if(J===17){for(R=P+3;y<R;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=P,y-=P,G=0,_=3+(d&7),d>>>=3,y-=3}else{for(R=P+7;y<R;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=P,y-=P,G=0,_=11+(d&127),d>>>=7,y-=7}if(e.have+_>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Ci;break}for(;_--;)e.lens[e.have++]=G}}if(e.mode===Ci)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Ci;break}if(e.lenbits=9,F={bits:e.lenbits},M=jf(Y4,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,M){n.msg="invalid literal/lengths set",e.mode=Ci;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},M=jf(W4,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,M){n.msg="invalid distances set",e.mode=Ci;break}if(e.mode=ip,t===np)break t;case ip:e.mode=rp;case rp:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,v7(n,T),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,y=e.bits,e.mode===El&&(e.back=-1);break}for(e.back=0;O=e.lencode[d&(1<<e.lenbits)-1],P=O>>>24,tt=O>>>16&255,J=O&65535,!(P<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(tt&&(tt&240)===0){for(it=P,st=tt,St=J;O=e.lencode[St+((d&(1<<it+st)-1)>>it)],P=O>>>24,tt=O>>>16&255,J=O&65535,!(it+P<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=it,y-=it,e.back+=it}if(d>>>=P,y-=P,e.back+=P,e.length=J,tt===0){e.mode=wb;break}if(tt&32){e.back=-1,e.mode=El;break}if(tt&64){n.msg="invalid literal/length code",e.mode=Ci;break}e.extra=tt&15,e.mode=vb;case vb:if(e.extra){for(R=e.extra;y<R;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=bb;case bb:for(;O=e.distcode[d&(1<<e.distbits)-1],P=O>>>24,tt=O>>>16&255,J=O&65535,!(P<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if((tt&240)===0){for(it=P,st=tt,St=J;O=e.distcode[St+((d&(1<<it+st)-1)>>it)],P=O>>>24,tt=O>>>16&255,J=O&65535,!(it+P<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=it,y-=it,e.back+=it}if(d>>>=P,y-=P,e.back+=P,tt&64){n.msg="invalid distance code",e.mode=Ci;break}e.offset=J,e.extra=tt&15,e.mode=xb;case xb:if(e.extra){for(R=e.extra;y<R;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Ci;break}e.mode=_b;case _b:if(f===0)break t;if(_=T-f,e.offset>_){if(_=e.offset-_,_>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Ci;break}_>e.wnext?(_-=e.wnext,B=e.wsize-_):B=e.wnext-_,_>e.length&&(_=e.length),q=e.window}else q=s,B=u-e.offset,_=e.length;_>f&&(_=f),f-=_,e.length-=_;do s[u++]=q[B++];while(--_);e.length===0&&(e.mode=rp);break;case wb:if(f===0)break t;s[u++]=e.length,f--,e.mode=rp;break;case Wg:if(e.wrap){for(;y<32;){if(h===0)break t;h--,d|=r[o++]<<y,y+=8}if(T-=f,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Bo(e.check,s,T,u-T):V0(e.check,s,T,u-T)),T=f,e.wrap&4&&(e.flags?d:Eb(d))!==e.check){n.msg="incorrect data check",e.mode=Ci;break}d=0,y=0}e.mode=Sb;case Sb:if(e.wrap&&e.flags){for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Ci;break}d=0,y=0}e.mode=Ab;case Ab:M=T7;break t;case Ci:M=$4;break t;case Q4:return K4;case X4:default:return Vs}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,(e.wsize||T!==n.avail_out&&e.mode<Ci&&(e.mode<Wg||t!==nb))&&nw(n,n.output,n.next_out,T-n.avail_out),A-=n.avail_in,T-=n.avail_out,n.total_in+=A,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Bo(e.check,s,T,n.next_out-T):V0(e.check,s,T,n.next_out-T)),n.data_type=e.bits+(e.last?64:0)+(e.mode===El?128:0)+(e.mode===ip||e.mode===Yg?256:0),(A===0&&T===0||t===nb)&&M===pc&&(M=N7),M},P7=n=>{if(vc(n))return Vs;let t=n.state;return t.window&&(t.window=null),n.state=null,pc},z7=(n,t)=>{if(vc(n))return Vs;const e=n.state;return(e.wrap&2)===0?Vs:(e.head=t,t.done=!1,pc)},F7=(n,t)=>{const e=t.length;let r,s,o;return vc(n)||(r=n.state,r.wrap!==0&&r.mode!==Bp)?Vs:r.mode===Bp&&(s=1,s=V0(s,t,e,0),s!==r.check)?$4:(o=nw(n,t,e,e),o?(r.mode=Q4,K4):(r.havedict=1,pc))};var B7=J4,U7=tw,V7=Z4,q7=k7,H7=ew,G7=O7,Y7=P7,W7=z7,$7=F7,K7="pako inflate (from Nodeca project)",Tl={inflateReset:B7,inflateReset2:U7,inflateResetKeep:V7,inflateInit:q7,inflateInit2:H7,inflate:G7,inflateEnd:Y7,inflateGetHeader:W7,inflateSetDictionary:$7,inflateInfo:K7};function Q7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var X7=Q7;const iw=Object.prototype.toString,{Z_NO_FLUSH:Z7,Z_FINISH:J7,Z_OK:Gf,Z_STREAM_END:Qg,Z_NEED_DICT:Xg,Z_STREAM_ERROR:tR,Z_DATA_ERROR:Cb,Z_MEM_ERROR:eR}=q4;function td(n){this.options=H4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m7,this.strm.avail_out=0;let e=Tl.inflateInit2(this.strm,t.windowBits);if(e!==Gf)throw new Error(q0[e]);if(this.header=new X7,Tl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=H0.string2buf(t.dictionary):iw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Tl.inflateSetDictionary(this.strm,t.dictionary),e!==Gf)))throw new Error(q0[e])}td.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?J7:Z7,iw.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Tl.inflate(e,u),o===Xg&&s&&(o=Tl.inflateSetDictionary(e,s),o===Gf?o=Tl.inflate(e,u):o===Cb&&(o=Xg));e.avail_in>0&&o===Qg&&e.state.wrap>0&&n[e.next_in]!==0;)Tl.inflateReset(e),o=Tl.inflate(e,u);switch(o){case tR:case Cb:case Xg:case eR:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===Qg))if(this.options.to==="string"){let f=H0.utf8border(e.output,e.next_out),d=e.next_out-f,y=H0.buf2string(e.output,f);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(y)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Gf&&h===0)){if(o===Qg)return o=Tl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};td.prototype.onData=function(n){this.chunks.push(n)};td.prototype.onEnd=function(n){n===Gf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=H4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function nR(n,t){const e=new td(t);if(e.push(n),e.err)throw e.msg||q0[e.err];return e.result}var iR=td,rR=nR,aR={Inflate:iR,inflate:rR};const{Inflate:sR,inflate:oR}=aR;var Nb=sR,lR=oR;const rw=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;rw[n]=t}const Rb=4294967295;function uR(n,t,e){let r=n;for(let s=0;s<e;s++)r=rw[(r^t[s])&255]^r>>>8;return r}function cR(n,t){return(uR(Rb,n,t)^Rb)>>>0}function Ib(n,t,e){const r=n.readUint32(),s=cR(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(s!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${s}`)}function aw(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function sw(n,t,e,r){let s=0;for(;s<r;s++)t[s]=n[s];for(;s<e;s++)t[s]=n[s]+t[s-r]&255}function ow(n,t,e,r){let s=0;if(e.length===0)for(;s<r;s++)t[s]=n[s];else for(;s<r;s++)t[s]=n[s]+e[s]&255}function lw(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-s]+e[o]>>1)&255}}function uw(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+hR(t[o-s],e[o],e[o-s])&255}}function hR(n,t,e){const r=n+t-e,s=Math.abs(r-n),o=Math.abs(r-t),u=Math.abs(r-e);return s<=o&&s<=u?n:o<=u?t:e}function fR(n,t,e,r,s,o){switch(n){case 0:aw(t,e,s);break;case 1:sw(t,e,s,o);break;case 2:ow(t,e,r,s);break;case 3:lw(t,e,r,s,o);break;case 4:uw(t,e,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const dR=new Uint16Array([255]),pR=new Uint8Array(dR.buffer),gR=pR[0]===255;function mR(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*e*h);let d=0;for(let y=0;y<7;y++){const A=u[y],T=Math.ceil((e-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(T<=0||_<=0)continue;const B=T*h,q=new Uint8Array(B);for(let O=0;O<_;O++){const P=t[d++],tt=t.subarray(d,d+B);d+=B;const J=new Uint8Array(B);fR(P,tt,J,q,B,h),q.set(J);for(let it=0;it<T;it++){const st=A.x+it*A.xStep,St=A.y+O*A.yStep;if(!(st>=e||St>=r))for(let G=0;G<h;G++)f[(St*e+st)*h+G]=J[it*h+G]}}}if(o===16){const y=new Uint16Array(f.buffer);if(gR)for(let A=0;A<y.length;A++)y[A]=yR(y[A]);return y}else return f}function yR(n){return(n&255)<<8|n>>8&255}const vR=new Uint16Array([255]),bR=new Uint8Array(vR.buffer),xR=bR[0]===255,_R=new Uint8Array(0);function Lb(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*e),f=new Uint8Array(r*h);let d=_R,y=0,A,T;for(let _=0;_<r;_++){switch(A=t.subarray(y+1,y+1+h),T=f.subarray(_*h,(_+1)*h),t[y]){case 0:aw(A,T,h);break;case 1:sw(A,T,h,u);break;case 2:ow(A,T,d,h);break;case 3:lw(A,T,d,h,u);break;case 4:uw(A,T,d,h,u);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}d=T,y+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(xR)for(let B=0;B<_.length;B++)_[B]=wR(_[B]);return _}else return f}function wR(n){return(n&255)<<8|n>>8&255}const mp=Uint8Array.of(137,80,78,71,13,10,26,10);function Db(n){if(!SR(n.readBytes(mp.length)))throw new Error("wrong PNG signature")}function SR(n){if(n.length<mp.length)return!1;for(let t=0;t<mp.length;t++)if(n[t]!==mp[t])return!1;return!0}const AR="tEXt",ER=0,cw=new TextDecoder("latin1");function TR(n){if(NR(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const CR=/^[\u0000-\u00FF]*$/;function NR(n){if(!CR.test(n))throw new Error("invalid latin1 text")}function RR(n,t,e){const r=hw(t);n[r]=IR(t,e-r.length-1)}function hw(n){for(n.mark();n.readByte()!==ER;);const t=n.offset;n.reset();const e=cw.decode(n.readBytes(t-n.offset-1));return n.skip(1),TR(e),e}function IR(n,t){return cw.decode(n.readBytes(t))}const vs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zg={UNKNOWN:-1,DEFLATE:0},jb={UNKNOWN:-1,ADAPTIVE:0},Jg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ap={NONE:0,BACKGROUND:1,PREVIOUS:2},t0={SOURCE:0,OVER:1};class LR extends Qm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new Nb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zg.UNKNOWN,this._filterMethod=jb.UNKNOWN,this._interlaceMethod=Jg.UNKNOWN,this._colorType=vs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Db(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(Db(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case AR:RR(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Ib(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Ib(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=DR(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case vs.GREYSCALE:r=1;break;case vs.TRUECOLOUR:r=3;break;case vs.INDEXED_COLOUR:r=1;break;case vs.GREYSCALE_ALPHA:r=2;break;case vs.TRUECOLOUR_ALPHA:r=4;break;case vs.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<e;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case vs.GREYSCALE:case vs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case vs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case vs.UNKNOWN:case vs.GREYSCALE_ALPHA:case vs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=hw(this),r=this.readUint8();if(r!==Zg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:lR(s)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=Lb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(r,s,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case ap.NONE:break;case ap.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[u+h]=0}break;case ap.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,s=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case t0.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)t.data[h+d]=e.data[f+d]}break;case t0.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const y=e.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:e.data[f+d],T=Math.floor(y*A+(1-y)*t.data[h+d]);t.data[h+d]+=T}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==jb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Jg.NO_INTERLACE)this._png.data=Lb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Jg.ADAM7)this._png.data=mR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ap.NONE,blendOp:t0.SOURCE,data:t}),this._inflator=new Nb,this._writingDataChunks=!1}}function DR(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var kb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(kb||(kb={}));function jR(n,t){return new LR(n,t).decode()}var Ge=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function e0(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var ui={log:e0,warn:function(n){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):e0.call(null,arguments))},error:function(n){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):e0(n))}};function n0(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ju(r.response,t,e)},r.onerror=function(){ui.error("could not download file")},r.send()}function Mb(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function sp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Ju=Ge.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ge.URL||Ge.webkitURL,s=document.createElement("a");t=t||n.name||"download",s.download=t,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Mb(s.href)?n0(n,t,e):sp(s,s.target="_blank"):sp(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){sp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Mb(n))n0(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){sp(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return n0(n,t,e);var s=n.type==="application/octet-stream",o=/constructor/i.test(Ge.HTMLElement)||Ge.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var y=h.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},h.readAsDataURL(n)}else{var f=Ge.URL||Ge.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function fw(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var s=e[r].re,o=e[r].process,u=s.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var yp=Ge.atob.bind(Ge),Ob=Ge.btoa.bind(Ge);function i0(n,t){var e=n[0],r=n[1],s=n[2],o=n[3];e=ma(e,r,s,o,t[0],7,-680876936),o=ma(o,e,r,s,t[1],12,-389564586),s=ma(s,o,e,r,t[2],17,606105819),r=ma(r,s,o,e,t[3],22,-1044525330),e=ma(e,r,s,o,t[4],7,-176418897),o=ma(o,e,r,s,t[5],12,1200080426),s=ma(s,o,e,r,t[6],17,-1473231341),r=ma(r,s,o,e,t[7],22,-45705983),e=ma(e,r,s,o,t[8],7,1770035416),o=ma(o,e,r,s,t[9],12,-1958414417),s=ma(s,o,e,r,t[10],17,-42063),r=ma(r,s,o,e,t[11],22,-1990404162),e=ma(e,r,s,o,t[12],7,1804603682),o=ma(o,e,r,s,t[13],12,-40341101),s=ma(s,o,e,r,t[14],17,-1502002290),e=ya(e,r=ma(r,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=ya(o,e,r,s,t[6],9,-1069501632),s=ya(s,o,e,r,t[11],14,643717713),r=ya(r,s,o,e,t[0],20,-373897302),e=ya(e,r,s,o,t[5],5,-701558691),o=ya(o,e,r,s,t[10],9,38016083),s=ya(s,o,e,r,t[15],14,-660478335),r=ya(r,s,o,e,t[4],20,-405537848),e=ya(e,r,s,o,t[9],5,568446438),o=ya(o,e,r,s,t[14],9,-1019803690),s=ya(s,o,e,r,t[3],14,-187363961),r=ya(r,s,o,e,t[8],20,1163531501),e=ya(e,r,s,o,t[13],5,-1444681467),o=ya(o,e,r,s,t[2],9,-51403784),s=ya(s,o,e,r,t[7],14,1735328473),e=va(e,r=ya(r,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=va(o,e,r,s,t[8],11,-2022574463),s=va(s,o,e,r,t[11],16,1839030562),r=va(r,s,o,e,t[14],23,-35309556),e=va(e,r,s,o,t[1],4,-1530992060),o=va(o,e,r,s,t[4],11,1272893353),s=va(s,o,e,r,t[7],16,-155497632),r=va(r,s,o,e,t[10],23,-1094730640),e=va(e,r,s,o,t[13],4,681279174),o=va(o,e,r,s,t[0],11,-358537222),s=va(s,o,e,r,t[3],16,-722521979),r=va(r,s,o,e,t[6],23,76029189),e=va(e,r,s,o,t[9],4,-640364487),o=va(o,e,r,s,t[12],11,-421815835),s=va(s,o,e,r,t[15],16,530742520),e=ba(e,r=va(r,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=ba(o,e,r,s,t[7],10,1126891415),s=ba(s,o,e,r,t[14],15,-1416354905),r=ba(r,s,o,e,t[5],21,-57434055),e=ba(e,r,s,o,t[12],6,1700485571),o=ba(o,e,r,s,t[3],10,-1894986606),s=ba(s,o,e,r,t[10],15,-1051523),r=ba(r,s,o,e,t[1],21,-2054922799),e=ba(e,r,s,o,t[8],6,1873313359),o=ba(o,e,r,s,t[15],10,-30611744),s=ba(s,o,e,r,t[6],15,-1560198380),r=ba(r,s,o,e,t[13],21,1309151649),e=ba(e,r,s,o,t[4],6,-145523070),o=ba(o,e,r,s,t[11],10,-1120210379),s=ba(s,o,e,r,t[2],15,718787259),r=ba(r,s,o,e,t[9],21,-343485551),n[0]=gu(e,n[0]),n[1]=gu(r,n[1]),n[2]=gu(s,n[2]),n[3]=gu(o,n[3])}function u1(n,t,e,r,s,o){return t=gu(gu(t,n),gu(r,o)),gu(t<<s|t>>>32-s,e)}function ma(n,t,e,r,s,o,u){return u1(t&e|~t&r,n,t,s,o,u)}function ya(n,t,e,r,s,o,u){return u1(t&r|e&~r,n,t,s,o,u)}function va(n,t,e,r,s,o,u){return u1(t^e^r,n,t,s,o,u)}function ba(n,t,e,r,s,o,u){return u1(e^(t|~r),n,t,s,o,u)}function dw(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)i0(r,kR(n.substring(t-64,t)));n=n.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(i0(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,i0(r,s),r}function kR(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Pb="0123456789abcdef".split("");function MR(n){for(var t="",e=0;e<4;e++)t+=Pb[n>>8*e+4&15]+Pb[n>>8*e&15];return t}function OR(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function G0(n){return dw(n).map(OR).join("")}var PR=(function(n){for(var t=0;t<n.length;t++)n[t]=MR(n[t]);return n.join("")})(dw("hello"))!="5d41402abc4b2a76b9719d911017c592";function gu(n,t){if(PR){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function Y0(n,t){var e,r,s,o;if(n!==e){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var y=h[f];d=(d+y+u.charCodeAt(f))%256,h[f]=h[d],h[d]=y}e=n,r=h}else h=r;var A=t.length,T=0,_=0,B="";for(f=0;f<A;f++)_=(_+(y=h[T=(T+1)%256]))%256,h[T]=h[_],h[_]=y,u=h[(h[T]+h[_])%256],B+=String.fromCharCode(t.charCodeAt(f)^u);return B}var zb={print:4,modify:8,copy:16,"annot-forms":32};function lh(n,t,e,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(zb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=zb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=G0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function uh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var s=n.charCodeAt(r);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return t}function Fb(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,s){if(s=s||!1,typeof e!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!s],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,r)}catch(h){Ge.console&&ui.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Up(n){if(!(this instanceof Up))return new Up(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function pw(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function tc(n,t,e,r,s){if(!(this instanceof tc))return new tc(n,t,e,r,s);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,pw.call(this,r,s)}function ch(n,t,e,r,s){if(!(this instanceof ch))return new ch(n,t,e,r,s);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,pw.call(this,r,s)}function ye(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],h=1,f=16,d="S",y=null;Qn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,T={},_={internal:{},__private__:{}};_.__private__.PubSub=Fb;var B="1.3",q=_.__private__.getPdfVersion=function(){return B};_.__private__.setPdfVersion=function(S){B=S};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return O};var P=_.__private__.getPageFormat=function(S){return O[S]};s=s||"a4";var tt="compat",J="advanced",it=tt;function st(){this.saveGraphicsState(),ot(new Ae(qe,0,0,-qe,0,Ta()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),d="n",it=J}function St(){this.restoreGraphicsState(),d="S",it=tt}var G=_.__private__.combineFontStyleAndFontWeight=function(S,U){if(S=="bold"&&U=="normal"||S=="bold"&&U==400||S=="normal"&&U=="italic"||S=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(S=U==400||U==="normal"?S==="italic"?"italic":"normal":U!=700&&U!=="bold"||S!=="normal"?(U==700?"bold":U)+""+S:"bold"),S};_.advancedAPI=function(S){var U=it===tt;return U&&st.call(this),typeof S!="function"||(S(this),U&&St.call(this)),this},_.compatAPI=function(S){var U=it===J;return U&&St.call(this),typeof S!="function"||(S(this),U&&st.call(this)),this},_.isAdvancedAPI=function(){return it===J};var M,w=function(S){if(it!==J)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=_.roundToPrecision=_.__private__.roundToPrecision=function(S,U){var ut=t||U;if(isNaN(S)||isNaN(ut))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ut).replace(/0+$/,"")};M=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return F(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return F(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return F(S,16)};var R=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return F(S,2)},N=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return F(S,3)},I=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return it===tt?S*qe:it===J?S:void 0},$=function(S){return I((function(U){return it===tt?Ta()-U:it===J?U:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var mt,rt="00000000000000000000000000000000",ft=_.__private__.getFileId=function(){return rt},at=_.__private__.setFileId=function(S){return rt=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():rt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(ai=new lh(y.userPermissions,y.userPassword,y.ownerPassword,rt)),rt};_.setFileId=function(S){return at(S),this},_.getFileId=function(){return ft()};var bt=_.__private__.convertDateToPDFDate=function(S){var U=S.getTimezoneOffset(),ut=U<0?"+":"-",pt=Math.floor(Math.abs(U/60)),_t=Math.abs(U%60),Ft=[ut,W(pt),"'",W(_t),"'"].join("");return["D:",S.getFullYear(),W(S.getMonth()+1),W(S.getDate()),W(S.getHours()),W(S.getMinutes()),W(S.getSeconds()),Ft].join("")},Dt=_.__private__.convertPDFDateToDate=function(S){var U=parseInt(S.substr(2,4),10),ut=parseInt(S.substr(6,2),10)-1,pt=parseInt(S.substr(8,2),10),_t=parseInt(S.substr(10,2),10),Ft=parseInt(S.substr(12,2),10),Wt=parseInt(S.substr(14,2),10);return new Date(U,ut,pt,_t,Ft,Wt,0)},nt=_.__private__.setCreationDate=function(S){var U;if(S===void 0&&(S=new Date),S instanceof Date)U=bt(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=S}return mt=U},k=_.__private__.getCreationDate=function(S){var U=mt;return S==="jsDate"&&(U=Dt(mt)),U};_.setCreationDate=function(S){return nt(S),this},_.getCreationDate=function(S){return k(S)};var z,W=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},K=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ht=0,gt=[],Nt=[],Ct=0,Ot=[],Kt=[],ne=!1,ee=Nt;_.__private__.setCustomOutputDestination=function(S){ne=!0,ee=S};var ce=function(S){ne||(ee=S)};_.__private__.resetCustomOutputDestination=function(){ne=!1,ee=Nt};var ot=_.__private__.out=function(S){return S=S.toString(),Ct+=S.length+1,ee.push(S),ee},Jt=_.__private__.write=function(S){return ot(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ye=_.__private__.getArrayBuffer=function(S){for(var U=S.length,ut=new ArrayBuffer(U),pt=new Uint8Array(ut);U--;)pt[U]=S.charCodeAt(U);return ut},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Te};var Vt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return Vt=it===J?S/qe:S,this};var re,ie=_.__private__.getFontSize=_.getFontSize=function(){return it===tt?Vt:Vt*qe},Ne=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Ne=S,this},_.__private__.getR2L=_.getR2L=function(){return Ne};var _e,We=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))re=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');re=S}else re=parseInt(S,10)};_.__private__.getZoomMode=function(){return re};var Ze,Be=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_e=S};_.__private__.getPageMode=function(){return _e};var an=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ze=S};_.__private__.getLayoutMode=function(){return Ze},_.__private__.setDisplayMode=_.setDisplayMode=function(S,U,ut){return We(S),an(U),Be(ut),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(Ke).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[S]},_.__private__.getDocumentProperties=function(){return Ke},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var U in Ke)Ke.hasOwnProperty(U)&&S[U]&&(Ke[U]=S[U]);return this},_.__private__.setDocumentProperty=function(S,U){if(Object.keys(Ke).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[S]=U};var me,qe,ve,ci,Qe,Ce={},Pe={},$e=[],Se={},In={},Me={},Oe={},jn=null,we=0,be=[],sn=new Fb(_),pr=n.hotfixes||[],nr={},ja={},Wi=[],Ae=function S(U,ut,pt,_t,Ft,Wt){if(!(this instanceof S))return new S(U,ut,pt,_t,Ft,Wt);isNaN(U)&&(U=1),isNaN(ut)&&(ut=0),isNaN(pt)&&(pt=0),isNaN(_t)&&(_t=1),isNaN(Ft)&&(Ft=0),isNaN(Wt)&&(Wt=0),this._matrix=[U,ut,pt,_t,Ft,Wt]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(S)},Ae.prototype.multiply=function(S){var U=S.sx*this.sx+S.shy*this.shx,ut=S.sx*this.shy+S.shy*this.sy,pt=S.shx*this.sx+S.sy*this.shx,_t=S.shx*this.shy+S.sy*this.sy,Ft=S.tx*this.sx+S.ty*this.shx+this.tx,Wt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ae(U,ut,pt,_t,Ft,Wt)},Ae.prototype.decompose=function(){var S=this.sx,U=this.shy,ut=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty,Wt=Math.sqrt(S*S+U*U),le=(S/=Wt)*ut+(U/=Wt)*pt;ut-=S*le,pt-=U*le;var de=Math.sqrt(ut*ut+pt*pt);return le/=de,S*(pt/=de)<U*(ut/=de)&&(S=-S,U=-U,le=-le,Wt=-Wt),{scale:new Ae(Wt,0,0,de,0,0),translate:new Ae(1,0,0,1,_t,Ft),rotate:new Ae(S,U,-U,S,0,0),skew:new Ae(1,0,le,1,0,0)}},Ae.prototype.toString=function(S){return this.join(" ")},Ae.prototype.inversed=function(){var S=this.sx,U=this.shy,ut=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty,Wt=1/(S*pt-U*ut),le=pt*Wt,de=-U*Wt,Le=-ut*Wt,Ee=S*Wt;return new Ae(le,de,Le,Ee,-le*_t-Le*Ft,-de*_t-Ee*Ft)},Ae.prototype.applyToPoint=function(S){var U=S.x*this.sx+S.y*this.shx+this.tx,ut=S.x*this.shy+S.y*this.sy+this.ty;return new ar(U,ut)},Ae.prototype.applyToRectangle=function(S){var U=this.applyToPoint(S),ut=this.applyToPoint(new ar(S.x+S.w,S.y+S.h));return new Ma(U.x,U.y,ut.x-U.x,ut.y-U.y)},Ae.prototype.clone=function(){var S=this.sx,U=this.shy,ut=this.shx,pt=this.sy,_t=this.tx,Ft=this.ty;return new Ae(S,U,ut,pt,_t,Ft)},_.Matrix=Ae;var rs=_.matrixMult=function(S,U){return U.multiply(S)},qr=new Ae(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=qr;var Nr=function(S,U){if(!In[S]){var ut=(U instanceof tc?"Sh":"P")+(Object.keys(Se).length+1).toString(10);U.id=ut,In[S]=ut,Se[ut]=U,sn.publish("addPattern",U)}};_.ShadingPattern=tc,_.TilingPattern=ch,_.addShadingPattern=function(S,U){return w("addShadingPattern()"),Nr(S,U),this},_.beginTilingPattern=function(S){w("beginTilingPattern()"),Oa(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,U){w("endTilingPattern()"),U.stream=Kt[z].join(`
`),Nr(S,U),sn.publish("endTilingPattern",U),Wi.pop().restore()};var Rr,Vn=_.__private__.newObject=function(){var S=Xn();return Mi(S,!0),S},Xn=_.__private__.newObjectDeferred=function(){return ht++,gt[ht]=function(){return Ct},ht},Mi=function(S,U){return U=typeof U=="boolean"&&U,gt[S]=Ct,U&&ot(S+" 0 obj"),S},gr=_.__private__.newAdditionalObject=function(){var S={objId:Xn(),content:""};return Ot.push(S),S},ir=Xn(),kn=Xn(),Gn=_.__private__.decodeColorString=function(S){var U=S.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ut=parseFloat(U[0]);U=[ut,ut,ut,"r"]}for(var pt="#",_t=0;_t<3;_t++)pt+=("0"+Math.floor(255*parseFloat(U[_t])).toString(16)).slice(-2);return pt},Oi=_.__private__.encodeColorString=function(S){var U;typeof S=="string"&&(S={ch1:S});var ut=S.ch1,pt=S.ch2,_t=S.ch3,Ft=S.ch4,Wt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ut=="string"&&ut.charAt(0)!=="#"){var le=new fw(ut);if(le.ok)ut=le.toHex();else if(!/^\d*\.?\d*$/.test(ut))throw new Error('Invalid color "'+ut+'" passed to jsPDF.encodeColorString.')}if(typeof ut=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ut)&&(ut="#"+ut[1]+ut[1]+ut[2]+ut[2]+ut[3]+ut[3]),typeof ut=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ut)){var de=parseInt(ut.substr(1),16);ut=de>>16&255,pt=de>>8&255,_t=255&de}if(pt===void 0||Ft===void 0&&ut===pt&&pt===_t)U=typeof ut=="string"?ut+" "+Wt[0]:S.precision===2?R(ut/255)+" "+Wt[0]:N(ut/255)+" "+Wt[0];else if(Ft===void 0||Qn(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Wt[1]].join(" ");U=typeof ut=="string"?[ut,pt,_t,Wt[1]].join(" "):S.precision===2?[R(ut/255),R(pt/255),R(_t/255),Wt[1]].join(" "):[N(ut/255),N(pt/255),N(_t/255),Wt[1]].join(" ")}else U=typeof ut=="string"?[ut,pt,_t,Ft,Wt[2]].join(" "):S.precision===2?[R(ut),R(pt),R(_t),R(Ft),Wt[2]].join(" "):[N(ut),N(pt),N(_t),N(Ft),Wt[2]].join(" ");return U},Ir=_.__private__.getFilters=function(){return u},sa=_.__private__.putStream=function(S){var U=(S=S||{}).data||"",ut=S.filters||Ir(),pt=S.alreadyAppliedFilters||[],_t=S.addLength1||!1,Ft=U.length,Wt=S.objectId,le=function(C){return C};if(y!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(le=ai.encryptor(Wt,0));var de={};ut===!0&&(ut=["FlateEncode"]);var Le=S.additionalKeyValues||[],Ee=(de=ye.API.processDataByFilters!==void 0?ye.API.processDataByFilters(U,ut):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(de.data.length!==0&&(Le.push({key:"Length",value:de.data.length}),_t===!0&&Le.push({key:"Length1",value:Ft})),Ee.length!=0)if(Ee.split("/").length-1==1)Le.push({key:"Filter",value:Ee});else{Le.push({key:"Filter",value:"["+Ee+"]"});for(var fn=0;fn<Le.length;fn+=1)if(Le[fn].key==="DecodeParms"){for(var Zn=[],qn=0;qn<de.reverseChain.split("/").length-1;qn+=1)Zn.push("null");Zn.push(Le[fn].value),Le[fn].value="["+Zn.join(" ")+"]"}}ot("<<");for(var g=0;g<Le.length;g++)ot("/"+Le[g].key+" "+Le[g].value);ot(">>"),de.data.length!==0&&(ot("stream"),ot(le(de.data)),ot("endstream"))},ws=_.__private__.putPage=function(S){var U=S.number,ut=S.data,pt=S.objId,_t=S.contentsObjId;Mi(pt,!0),ot("<</Type /Page"),ot("/Parent "+S.rootDictionaryObjId+" 0 R"),ot("/Resources "+S.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(M(S.mediaBox.bottomLeftX))+" "+parseFloat(M(S.mediaBox.bottomLeftY))+" "+M(S.mediaBox.topRightX)+" "+M(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ot("/CropBox ["+M(S.cropBox.bottomLeftX)+" "+M(S.cropBox.bottomLeftY)+" "+M(S.cropBox.topRightX)+" "+M(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ot("/BleedBox ["+M(S.bleedBox.bottomLeftX)+" "+M(S.bleedBox.bottomLeftY)+" "+M(S.bleedBox.topRightX)+" "+M(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ot("/TrimBox ["+M(S.trimBox.bottomLeftX)+" "+M(S.trimBox.bottomLeftY)+" "+M(S.trimBox.topRightX)+" "+M(S.trimBox.topRightY)+"]"),S.artBox!==null&&ot("/ArtBox ["+M(S.artBox.bottomLeftX)+" "+M(S.artBox.bottomLeftY)+" "+M(S.artBox.topRightX)+" "+M(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ot("/UserUnit "+S.userUnit),sn.publish("putPage",{objId:pt,pageContext:be[U],pageNumber:U,page:ut}),ot("/Contents "+_t+" 0 R"),ot(">>"),ot("endobj");var Ft=ut.join(`
`);return it===J&&(Ft+=`
Q`),Mi(_t,!0),sa({data:Ft,filters:Ir(),objectId:_t}),ot("endobj"),pt},wa=_.__private__.putPages=function(){var S,U,ut=[];for(S=1;S<=we;S++)be[S].objId=Xn(),be[S].contentsObjId=Xn();for(S=1;S<=we;S++)ut.push(ws({number:S,data:Kt[S],objId:be[S].objId,contentsObjId:be[S].contentsObjId,mediaBox:be[S].mediaBox,cropBox:be[S].cropBox,bleedBox:be[S].bleedBox,trimBox:be[S].trimBox,artBox:be[S].artBox,userUnit:be[S].userUnit,rootDictionaryObjId:ir,resourceDictionaryObjId:kn}));Mi(ir,!0),ot("<</Type /Pages");var pt="/Kids [";for(U=0;U<we;U++)pt+=ut[U]+" 0 R ";ot(pt+"]"),ot("/Count "+we),ot(">>"),ot("endobj"),sn.publish("postPutPages")},Lr=function(S){sn.publish("putFont",{font:S,out:ot,newObject:Vn,putStream:sa}),S.isAlreadyPutted!==!0&&(S.objectNumber=Vn(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+uh(S.postScriptName)),ot("/Subtype /Type1"),typeof S.encoding=="string"&&ot("/Encoding /"+S.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},as=function(S){S.objectNumber=Vn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[M(S.x),M(S.y),M(S.x+S.width),M(S.y+S.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ut=S.pages[1].join(`
`);sa({data:ut,additionalKeyValues:U,objectId:S.objectNumber}),ot("endobj")},Hr=function(S,U){U||(U=21);var ut=Vn(),pt=(function(Wt,le){var de,Le=[],Ee=1/(le-1);for(de=0;de<1;de+=Ee)Le.push(de);if(Le.push(1),Wt[0].offset!=0){var fn={offset:0,color:Wt[0].color};Wt.unshift(fn)}if(Wt[Wt.length-1].offset!=1){var Zn={offset:1,color:Wt[Wt.length-1].color};Wt.push(Zn)}for(var qn="",g=0,C=0;C<Le.length;C++){for(de=Le[C];de>Wt[g+1].offset;)g++;var j=Wt[g].offset,Z=(de-j)/(Wt[g+1].offset-j),At=Wt[g].color,jt=Wt[g+1].color;qn+=K(Math.round((1-Z)*At[0]+Z*jt[0]).toString(16))+K(Math.round((1-Z)*At[1]+Z*jt[1]).toString(16))+K(Math.round((1-Z)*At[2]+Z*jt[2]).toString(16))}return qn.trim()})(S.colors,U),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+U+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sa({data:pt,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ut}),ot("endobj"),S.objectNumber=Vn(),ot("<< /ShadingType "+S.type),ot("/ColorSpace /DeviceRGB");var Ft="/Coords ["+M(parseFloat(S.coords[0]))+" "+M(parseFloat(S.coords[1]))+" ";S.type===2?Ft+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3])):Ft+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3]))+" "+M(parseFloat(S.coords[4]))+" "+M(parseFloat(S.coords[5])),ot(Ft+="]"),S.matrix&&ot("/Matrix ["+S.matrix.toString()+"]"),ot("/Function "+ut+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},mr=function(S,U){var ut=Xn(),pt=Vn();U.push({resourcesOid:ut,objectOid:pt}),S.objectNumber=pt;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+S.boundingBox.map(M).join(" ")+"]"}),_t.push({key:"XStep",value:M(S.xStep)}),_t.push({key:"YStep",value:M(S.yStep)}),_t.push({key:"Resources",value:ut+" 0 R"}),S.matrix&&_t.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),sa({data:S.stream,additionalKeyValues:_t,objectId:S.objectNumber}),ot("endobj")},Gr=function(S){for(var U in S.objectNumber=Vn(),ot("<<"),S)switch(U){case"opacity":ot("/ca "+R(S[U]));break;case"stroke-opacity":ot("/CA "+R(S[U]))}ot(">>"),ot("endobj")},oa=function(S){Mi(S.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in ot("/Font <<"),Ce)Ce.hasOwnProperty(U)&&(A===!1||A===!0&&T.hasOwnProperty(U))&&ot("/"+U+" "+Ce[U].objectNumber+" 0 R");ot(">>")})(),(function(){if(Object.keys(Se).length>0){for(var U in ot("/Shading <<"),Se)Se.hasOwnProperty(U)&&Se[U]instanceof tc&&Se[U].objectNumber>=0&&ot("/"+U+" "+Se[U].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),ot(">>")}})(),(function(U){if(Object.keys(Se).length>0){for(var ut in ot("/Pattern <<"),Se)Se.hasOwnProperty(ut)&&Se[ut]instanceof _.TilingPattern&&Se[ut].objectNumber>=0&&Se[ut].objectNumber<U&&ot("/"+ut+" "+Se[ut].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),ot(">>")}})(S.objectOid),(function(){if(Object.keys(Me).length>0){var U;for(U in ot("/ExtGState <<"),Me)Me.hasOwnProperty(U)&&Me[U].objectNumber>=0&&ot("/"+U+" "+Me[U].objectNumber+" 0 R");sn.publish("putGStateDict"),ot(">>")}})(),(function(){for(var U in ot("/XObject <<"),nr)nr.hasOwnProperty(U)&&nr[U].objectNumber>=0&&ot("/"+U+" "+nr[U].objectNumber+" 0 R");sn.publish("putXobjectDict"),ot(">>")})(),ot(">>"),ot("endobj")},fi=function(S){Pe[S.fontName]=Pe[S.fontName]||{},Pe[S.fontName][S.fontStyle]=S.id},vo=function(S,U,ut,pt,_t){var Ft={id:"F"+(Object.keys(Ce).length+1).toString(10),postScriptName:S,fontName:U,fontStyle:ut,encoding:pt,isStandardFont:_t||!1,metadata:{}};return sn.publish("addFont",{font:Ft,instance:this}),Ce[Ft.id]=Ft,fi(Ft),Ft.id},Dr=_.__private__.pdfEscape=_.pdfEscape=function(S,U){return(function(ut,pt){var _t,Ft,Wt,le,de,Le,Ee,fn,Zn;if(Wt=(pt=pt||{}).sourceEncoding||"Unicode",de=pt.outputEncoding,(pt.autoencode||de)&&Ce[me].metadata&&Ce[me].metadata[Wt]&&Ce[me].metadata[Wt].encoding&&(le=Ce[me].metadata[Wt].encoding,!de&&Ce[me].encoding&&(de=Ce[me].encoding),!de&&le.codePages&&(de=le.codePages[0]),typeof de=="string"&&(de=le[de]),de)){for(Ee=!1,Le=[],_t=0,Ft=ut.length;_t<Ft;_t++)(fn=de[ut.charCodeAt(_t)])?Le.push(String.fromCharCode(fn)):Le.push(ut[_t]),Le[_t].charCodeAt(0)>>8&&(Ee=!0);ut=Le.join("")}for(_t=ut.length;Ee===void 0&&_t!==0;)ut.charCodeAt(_t-1)>>8&&(Ee=!0),_t--;if(!Ee)return ut;for(Le=pt.noBOM?[]:[254,255],_t=0,Ft=ut.length;_t<Ft;_t++){if((Zn=(fn=ut.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+ut+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Le.push(Zn),Le.push(fn-(Zn<<8))}return String.fromCharCode.apply(void 0,Le)})(S,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},la=_.__private__.beginPage=function(S){Kt[++we]=[],be[we]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},bo(we),ce(Kt[z])},Sa=function(S,U){var ut,pt,_t;switch(e=U||e,typeof S=="string"&&(ut=P(S.toLowerCase()),Array.isArray(ut)&&(pt=ut[0],_t=ut[1])),Array.isArray(S)&&(pt=S[0]*qe,_t=S[1]*qe),isNaN(pt)&&(pt=s[0],_t=s[1]),(pt>14400||_t>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),_t=Math.min(14400,_t)),s=[pt,_t],e.substr(0,1)){case"l":_t>pt&&(s=[_t,pt]);break;case"p":pt>_t&&(s=[_t,pt])}la(s),Re(kr),ot(Wr),Kr!==0&&ot(Kr+" J"),Ri!==0&&ot(Ri+" j"),sn.publish("addPage",{pageNumber:we})},qs=function(S){S>0&&S<=we&&(Kt.splice(S,1),be.splice(S,1),we--,z>we&&(z=we),this.setPage(z))},bo=function(S){S>0&&S<=we&&(z=S)},xo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Kt.length-1},Zo=function(S,U,ut){var pt,_t=void 0;return ut=ut||{},S=S!==void 0?S:Ce[me].fontName,U=U!==void 0?U:Ce[me].fontStyle,pt=S.toLowerCase(),Pe[pt]!==void 0&&Pe[pt][U]!==void 0?_t=Pe[pt][U]:Pe[S]!==void 0&&Pe[S][U]!==void 0?_t=Pe[S][U]:ut.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+S+"', '"+U+"'. Refer to getFontList() for available fonts."),_t||ut.noFallback||(_t=Pe.times[U])==null&&(_t=Pe.times.normal),_t},Yr=_.__private__.putInfo=function(){var S=Vn(),U=function(pt){return pt};for(var ut in y!==null&&(U=ai.encryptor(S,0)),ot("<<"),ot("/Producer ("+Dr(U("jsPDF "+ye.version))+")"),Ke)Ke.hasOwnProperty(ut)&&Ke[ut]&&ot("/"+ut.substr(0,1).toUpperCase()+ut.substr(1)+" ("+Dr(U(Ke[ut]))+")");ot("/CreationDate ("+Dr(U(mt))+")"),ot(">>"),ot("endobj")},rr=_.__private__.putCatalog=function(S){var U=(S=S||{}).rootDictionaryObjId||ir;switch(Vn(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+U+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ut=""+re;ut.substr(ut.length-1)==="%"&&(re=parseInt(re)/100),typeof re=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+R(re)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}_e&&ot("/PageMode /"+_e),sn.publish("putCatalog"),ot(">>"),ot("endobj")},_i=_.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(ht+1)),ot("/Root "+ht+" 0 R"),ot("/Info "+(ht-1)+" 0 R"),y!==null&&ot("/Encrypt "+ai.oid+" 0 R"),ot("/ID [ <"+rt+"> <"+rt+"> ]"),ot(">>")},cn=_.__private__.putHeader=function(){ot("%PDF-"+B),ot("%")},ss=_.__private__.putXRef=function(){var S="0000000000";ot("xref"),ot("0 "+(ht+1)),ot("0000000000 65535 f ");for(var U=1;U<=ht;U++)typeof gt[U]=="function"?ot((S+gt[U]()).slice(-10)+" 00000 n "):gt[U]!==void 0?ot((S+gt[U]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},ua=_.__private__.buildDocument=function(){var S;ht=0,Ct=0,Nt=[],gt=[],Ot=[],ir=Xn(),kn=Xn(),ce(Nt),sn.publish("buildDocument"),cn(),wa(),(function(){sn.publish("putAdditionalObjects");for(var ut=0;ut<Ot.length;ut++){var pt=Ot[ut];Mi(pt.objId,!0),ot(pt.content),ot("endobj")}sn.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ut in Ce)Ce.hasOwnProperty(ut)&&(A===!1||A===!0&&T.hasOwnProperty(ut))&&Lr(Ce[ut])})(),(function(){var ut;for(ut in Me)Me.hasOwnProperty(ut)&&Gr(Me[ut])})(),(function(){for(var ut in nr)nr.hasOwnProperty(ut)&&as(nr[ut])})(),(function(ut){var pt;for(pt in Se)Se.hasOwnProperty(pt)&&(Se[pt]instanceof tc?Hr(Se[pt]):Se[pt]instanceof ch&&mr(Se[pt],ut))})(S),sn.publish("putResources"),S.forEach(oa),oa({resourcesOid:kn,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),y!==null&&(ai.oid=Vn(),ot("<<"),ot("/Filter /Standard"),ot("/V "+ai.v),ot("/R "+ai.r),ot("/U <"+ai.toHexString(ai.U)+">"),ot("/O <"+ai.toHexString(ai.O)+">"),ot("/P "+ai.P),ot(">>"),ot("endobj")),Yr(),rr();var U=Ct;return ss(),_i(),ot("startxref"),ot(""+U),ot("%%EOF"),ce(Kt[z]),Nt.join(`
`)},vn=_.__private__.getBlob=function(S){return new Blob([Ye(S)],{type:"application/pdf"})},Ss=_.output=_.__private__.output=(Rr=function(S,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",S){case void 0:return ua();case"save":_.save(U.filename);break;case"arraybuffer":return Ye(ua());case"blob":return vn(ua());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(vn(ua()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ut="",pt=ua();try{ut=Ob(pt)}catch{ut=Ob(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+U.filename+";base64,"+ut;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(_t=U.pdfObjectUrl,Ft="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",le=Ge.open();return le!==null&&le.document.write(Wt),le}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Le=Ge.open();if(Le!==null){Le.document.write(de);var Ee=this;Le.document.documentElement.querySelector("#pdfViewer").onload=function(){Le.document.title=U.filename,Le.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ee.output("bloburl"))}}return Le}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Zn=Ge.open();if(Zn!==null&&(Zn.document.write(fn),Zn.document.title=U.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",U);default:return null}},Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(ut){var S=ut.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var U="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ut.message;if(!Ge.console)throw new Error(U);Ge.console.error(U,ut),Ge.alert&&alert(U)}},Rr.foo.bar=Rr,Rr.foo),Ni=function(S){return Array.isArray(pr)===!0&&pr.indexOf(S)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var ai=null;nt(),at();var wi=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:be[S].objId,pageNumber:S,pageContext:be[S]}},Hs=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in be)if(be[U].objId===S)break;return wi(U)},Ol=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:be[z].objId,pageNumber:z,pageContext:be[z]}};_.addPage=function(){return Sa.apply(this,arguments),this},_.setPage=function(){return bo.apply(this,arguments),ce.call(this,Kt[z]),this},_.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},_.movePage=function(S,U){var ut,pt;if(S>U){ut=Kt[S],pt=be[S];for(var _t=S;_t>U;_t--)Kt[_t]=Kt[_t-1],be[_t]=be[_t-1];Kt[U]=ut,be[U]=pt,this.setPage(U)}else if(S<U){ut=Kt[S],pt=be[S];for(var Ft=S;Ft<U;Ft++)Kt[Ft]=Kt[Ft+1],be[Ft]=be[Ft+1];Kt[U]=ut,be[U]=pt,this.setPage(U)}return this},_.deletePage=function(){return qs.apply(this,arguments),this},_.__private__.text=_.text=function(S,U,ut,pt,_t){var Ft,Wt,le,de,Le,Ee,fn,Zn,qn,g=(pt=pt||{}).scope||this;if(typeof S=="number"&&typeof U=="number"&&(typeof ut=="string"||Array.isArray(ut))){var C=ut;ut=U,U=S,S=C}if(arguments[3]instanceof Ae==0?(le=arguments[4],de=arguments[5],Qn(fn=arguments[3])==="object"&&fn!==null||(typeof le=="string"&&(de=le,le=null),typeof fn=="string"&&(de=fn,fn=null),typeof fn=="number"&&(le=fn,fn=null),pt={flags:fn,angle:le,align:de})):(w("The transform parameter of text() with a Matrix value"),qn=_t),isNaN(U)||isNaN(ut)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var j,Z="",At=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:us,jt=g.internal.scaleFactor;function Xt(Ln){return Ln=Ln.split("	").join(Array(pt.TabLen||9).join(" ")),Dr(Ln,fn)}function Ve(Ln){for(var Sn,ti=Ln.concat(),Li=[],Ms=ti.length;Ms--;)typeof(Sn=ti.shift())=="string"?Li.push(Sn):Array.isArray(Ln)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Li.push(Sn[0]):Li.push([Sn[0],Sn[1],Sn[2]]);return Li}function Jn(Ln,Sn){var ti;if(typeof Ln=="string")ti=Sn(Ln)[0];else if(Array.isArray(Ln)){for(var Li,Ms,ds=Ln.concat(),sl=[],ku=ds.length;ku--;)typeof(Li=ds.shift())=="string"?sl.push(Sn(Li)[0]):Array.isArray(Li)&&typeof Li[0]=="string"&&(Ms=Sn(Li[0],Li[1],Li[2]),sl.push([Ms[0],Ms[1],Ms[2]]));ti=sl}return ti}var ln=!1,On=!0;if(typeof S=="string")ln=!0;else if(Array.isArray(S)){var sr=S.concat();Wt=[];for(var vr,Yn=sr.length;Yn--;)(typeof(vr=sr.shift())!="string"||Array.isArray(vr)&&typeof vr[0]!="string")&&(On=!1);ln=On}if(ln===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var br=Vt/g.internal.scaleFactor,Ca=br*(At-1);switch(pt.baseline){case"bottom":ut-=Ca;break;case"top":ut+=br-Ca;break;case"hanging":ut+=br-2*Ca;break;case"middle":ut+=br/2-Ca}if((Ee=pt.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,Ee):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Ln,Sn){return Ln.concat(g.splitTextToSize(Sn,Ee))},[]))),Ft={text:S,x:U,y:ut,options:pt,mutex:{pdfEscape:Dr,activeFontKey:me,fonts:Ce,activeFontSize:Vt}},sn.publish("preProcessText",Ft),S=Ft.text,le=(pt=Ft.options).angle,qn instanceof Ae==0&&le&&typeof le=="number"){le*=Math.PI/180,pt.rotationDirection===0&&(le=-le),it===J&&(le=-le);var Ns=Math.cos(le),Rs=Math.sin(le);qn=new Ae(Ns,Rs,-Rs,Ns,0,0)}else le&&le instanceof Ae&&(qn=le);it!==J||qn||(qn=qr),(Le=pt.charSpace||$r)!==void 0&&(Z+=M(I(Le))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=pt.horizontalScale)!==void 0&&(Z+=M(100*Zn)+` Tz
`),pt.lang;var Xr=-1,Ks=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,Pl=g.internal.getCurrentPageInfo().pageContext;switch(Ks){case 0:case!1:case"fill":Xr=0;break;case 1:case!0:case"stroke":Xr=1;break;case 2:case"fillThenStroke":Xr=2;break;case 3:case"invisible":Xr=3;break;case 4:case"fillAndAddForClipping":Xr=4;break;case 5:case"strokeAndAddPathForClipping":Xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xr=6;break;case 7:case"addToPathForClipping":Xr=7}var Du=Pl.usedRenderingMode!==void 0?Pl.usedRenderingMode:-1;Xr!==-1?Z+=Xr+` Tr
`:Du!==-1&&(Z+=`0 Tr
`),Xr!==-1&&(Pl.usedRenderingMode=Xr),de=pt.align||"left";var Na,hs=Vt*At,Qs=g.internal.pageSize.getWidth(),ju=Ce[me];Le=pt.charSpace||$r,Ee=pt.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var fs=[],To=function(Ln){return g.getStringUnitWidth(Ln,{font:ju,charSpace:Le,fontSize:Vt,doKerning:!1})*Vt/jt};if(Object.prototype.toString.call(S)==="[object Array]"){var ha;Wt=Ve(S),de!=="left"&&(Na=Wt.map(To));var Zr,Is=0;if(de==="right"){U-=Na[0],S=[],Yn=Wt.length;for(var Ls=0;Ls<Yn;Ls++)Ls===0?(Zr=Ki(U),ha=Pi(ut)):(Zr=I(Is-Na[Ls]),ha=-hs),S.push([Wt[Ls],Zr,ha]),Is=Na[Ls]}else if(de==="center"){U-=Na[0]/2,S=[],Yn=Wt.length;for(var Xs=0;Xs<Yn;Xs++)Xs===0?(Zr=Ki(U),ha=Pi(ut)):(Zr=I((Is-Na[Xs])/2),ha=-hs),S.push([Wt[Xs],Zr,ha]),Is=Na[Xs]}else if(de==="left"){S=[],Yn=Wt.length;for(var zl=0;zl<Yn;zl++)S.push(Wt[zl])}else if(de==="justify"&&ju.encoding==="Identity-H"){S=[],Yn=Wt.length,Ee=Ee!==0?Ee:Qs;for(var Fl=0,Ii=0;Ii<Yn;Ii++)if(ha=Ii===0?Pi(ut):-hs,Zr=Ii===0?Ki(U):Fl,Ii<Yn-1){var xc=I((Ee-Na[Ii])/(Wt[Ii].split(" ").length-1)),Ds=Wt[Ii].split(" ");S.push([Ds[0]+" ",Zr,ha]),Fl=0;for(var js=1;js<Ds.length;js++){var xr=(To(Ds[js-1]+" "+Ds[js])-To(Ds[js]))*jt+xc;js==Ds.length-1?S.push([Ds[js],xr,0]):S.push([Ds[js]+" ",xr,0]),Fl-=xr}}else S.push([Wt[Ii],Zr,ha]);S.push(["",Fl,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Yn=Wt.length,Ee=Ee!==0?Ee:Qs,Ii=0;Ii<Yn;Ii++){ha=Ii===0?Pi(ut):-hs,Zr=Ii===0?Ki(U):0;var Zs=Wt[Ii].split(" ").length-1,Bl=Zs>0?(Ee-Na[Ii])/Zs:0;Ii<Yn-1?fs.push(M(I(Bl))):fs.push(0),S.push([Wt[Ii],Zr,ha])}}}(typeof pt.R2L=="boolean"?pt.R2L:Ne)===!0&&(S=Jn(S,function(Ln,Sn,ti){return[Ln.split("").reverse().join(""),Sn,ti]})),Ft={text:S,x:U,y:ut,options:pt,mutex:{pdfEscape:Dr,activeFontKey:me,fonts:Ce,activeFontSize:Vt}},sn.publish("postProcessText",Ft),S=Ft.text,j=Ft.mutex.isHex||!1;var Ul=Ce[me].encoding;Ul!=="WinAnsiEncoding"&&Ul!=="StandardEncoding"||(S=Jn(S,function(Ln,Sn,ti){return[Xt(Ln),Sn,ti]})),Wt=Ve(S),S=[];for(var Js,to,ks,al=Array.isArray(Wt[0])?1:0,Ra="",eo=function(Ln,Sn,ti){var Li="";return ti instanceof Ae?(ti=typeof pt.angle=="number"?rs(ti,new Ae(1,0,0,1,Ln,Sn)):rs(new Ae(1,0,0,1,Ln,Sn),ti),it===J&&(ti=rs(new Ae(1,0,0,-1,0,0),ti)),Li=ti.join(" ")+` Tm
`):Li=M(Ln)+" "+M(Sn)+` Td
`,Li},Mr=0;Mr<Wt.length;Mr++){switch(Ra="",al){case 1:ks=(j?"<":"(")+Wt[Mr][0]+(j?">":")"),Js=parseFloat(Wt[Mr][1]),to=parseFloat(Wt[Mr][2]);break;case 0:ks=(j?"<":"(")+Wt[Mr]+(j?">":")"),Js=Ki(U),to=Pi(ut)}fs!==void 0&&fs[Mr]!==void 0&&(Ra=fs[Mr]+` Tw
`),Mr===0?S.push(Ra+eo(Js,to,qn)+ks):al===0?S.push(Ra+ks):al===1&&S.push(Ra+eo(Js,to,qn)+ks)}S=al===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Fa=`BT
/`;return Fa+=me+" "+Vt+` Tf
`,Fa+=M(Vt*At)+` TL
`,Fa+=Ea+`
`,Fa+=Z,Fa+=S,ot(Fa+="ET"),T[me]=!0,g};var Jo=_.__private__.clip=_.clip=function(S){return ot(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Jo("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ot("n"),this};var yr=_.__private__.isValidStyle=function(S){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(U=!0),U};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return yr(S)&&(d=S),this};var tl=_.__private__.getStyle=_.getStyle=function(S){var U=d;switch(S){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=S}return U},os=_.close=function(){return ot("h"),this};_.stroke=function(){return ot("S"),this},_.fill=function(S){return $i("f",S),this},_.fillEvenOdd=function(S){return $i("f*",S),this},_.fillStroke=function(S){return $i("B",S),this},_.fillStrokeEvenOdd=function(S){return $i("B*",S),this};var $i=function(S,U){Qn(U)==="object"?nl(U,S):ot(S)},As=function(S){S===null||it===J&&S===void 0||(S=tl(S),ot(S))};function el(S,U,ut,pt,_t){var Ft=new ch(U||this.boundingBox,ut||this.xStep,pt||this.yStep,this.gState,_t||this.matrix);Ft.stream=this.stream;var Wt=S+"$$"+this.cloneIndex+++"$$";return Nr(Wt,Ft),Ft}var nl=function(S,U){var ut=In[S.key],pt=Se[ut];if(pt instanceof tc)ot("q"),ot(_o(U)),pt.gState&&_.setGState(pt.gState),ot(S.matrix.toString()+" cm"),ot("/"+ut+" sh"),ot("Q");else if(pt instanceof ch){var _t=new Ae(1,0,0,-1,0,Ta());S.matrix&&(_t=_t.multiply(S.matrix||qr),ut=el.call(pt,S.key,S.boundingBox,S.xStep,S.yStep,_t).id),ot("q"),ot("/Pattern cs"),ot("/"+ut+" scn"),pt.gState&&_.setGState(pt.gState),ot(U),ot("Q")}},_o=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wo=_.moveTo=function(S,U){return ot(M(I(S))+" "+M($(U))+" m"),this},ls=_.lineTo=function(S,U){return ot(M(I(S))+" "+M($(U))+" l"),this},jr=_.curveTo=function(S,U,ut,pt,_t,Ft){return ot([M(I(S)),M($(U)),M(I(ut)),M($(pt)),M(I(_t)),M($(Ft)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,U,ut,pt,_t){if(isNaN(S)||isNaN(U)||isNaN(ut)||isNaN(pt)||!yr(_t))throw new Error("Invalid arguments passed to jsPDF.line");return it===tt?this.lines([[ut-S,pt-U]],S,U,[1,1],_t||"S"):this.lines([[ut-S,pt-U]],S,U,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,U,ut,pt,_t,Ft){var Wt,le,de,Le,Ee,fn,Zn,qn,g,C,j,Z;if(typeof S=="number"&&(Z=ut,ut=U,U=S,S=Z),pt=pt||[1,1],Ft=Ft||!1,isNaN(U)||isNaN(ut)||!Array.isArray(S)||!Array.isArray(pt)||!yr(_t)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wo(U,ut),Wt=pt[0],le=pt[1],Le=S.length,C=U,j=ut,de=0;de<Le;de++)(Ee=S[de]).length===2?(C=Ee[0]*Wt+C,j=Ee[1]*le+j,ls(C,j)):(fn=Ee[0]*Wt+C,Zn=Ee[1]*le+j,qn=Ee[2]*Wt+C,g=Ee[3]*le+j,C=Ee[4]*Wt+C,j=Ee[5]*le+j,jr(fn,Zn,qn,g,C,j));return Ft&&os(),As(_t),this},_.path=function(S){for(var U=0;U<S.length;U++){var ut=S[U],pt=ut.c;switch(ut.op){case"m":wo(pt[0],pt[1]);break;case"l":ls(pt[0],pt[1]);break;case"c":jr.apply(this,pt);break;case"h":os()}}return this},_.__private__.rect=_.rect=function(S,U,ut,pt,_t){if(isNaN(S)||isNaN(U)||isNaN(ut)||isNaN(pt)||!yr(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return it===tt&&(pt=-pt),ot([M(I(S)),M($(U)),M(I(ut)),M(I(pt)),"re"].join(" ")),As(_t),this},_.__private__.triangle=_.triangle=function(S,U,ut,pt,_t,Ft,Wt){if(isNaN(S)||isNaN(U)||isNaN(ut)||isNaN(pt)||isNaN(_t)||isNaN(Ft)||!yr(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ut-S,pt-U],[_t-ut,Ft-pt],[S-_t,U-Ft]],S,U,[1,1],Wt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,U,ut,pt,_t,Ft,Wt){if(isNaN(S)||isNaN(U)||isNaN(ut)||isNaN(pt)||isNaN(_t)||isNaN(Ft)||!yr(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var le=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*ut),Ft=Math.min(Ft,.5*pt),this.lines([[ut-2*_t,0],[_t*le,0,_t,Ft-Ft*le,_t,Ft],[0,pt-2*Ft],[0,Ft*le,-_t*le,Ft,-_t,Ft],[2*_t-ut,0],[-_t*le,0,-_t,-Ft*le,-_t,-Ft],[0,2*Ft-pt],[0,-Ft*le,_t*le,-Ft,_t,-Ft]],S+_t,U,[1,1],Wt,!0),this},_.__private__.ellipse=_.ellipse=function(S,U,ut,pt,_t){if(isNaN(S)||isNaN(U)||isNaN(ut)||isNaN(pt)||!yr(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*ut,Wt=4/3*(Math.SQRT2-1)*pt;return wo(S+ut,U),jr(S+ut,U-Wt,S+Ft,U-pt,S,U-pt),jr(S-Ft,U-pt,S-ut,U-Wt,S-ut,U),jr(S-ut,U+Wt,S-Ft,U+pt,S,U+pt),jr(S+Ft,U+pt,S+ut,U+Wt,S+ut,U),As(_t),this},_.__private__.circle=_.circle=function(S,U,ut,pt){if(isNaN(S)||isNaN(U)||isNaN(ut)||!yr(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,U,ut,ut,pt)},_.setFont=function(S,U,ut){return ut&&(U=G(U,ut)),me=Zo(S,U,{disableWarning:!1}),this};var Aa=_.__private__.getFont=_.getFont=function(){return Ce[Zo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,U,ut={};for(S in Pe)if(Pe.hasOwnProperty(S))for(U in ut[S]=[],Pe[S])Pe[S].hasOwnProperty(U)&&ut[S].push(U);return ut},_.addFont=function(S,U,ut,pt,_t){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(ut=G(ut,pt)),vo.call(this,S,U,ut,_t=_t||"Identity-H")};var us,kr=n.lineWidth||.200025,Es=_.__private__.getLineWidth=_.getLineWidth=function(){return kr},Re=_.__private__.setLineWidth=_.setLineWidth=function(S){return kr=S,ot(M(I(S))+" w"),this};_.__private__.setLineDash=ye.API.setLineDash=ye.API.setLineDashPattern=function(S,U){if(S=S||[],U=U||0,isNaN(U)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ut){return M(I(ut))}).join(" "),U=M(I(U)),ot("["+S+"] "+U+" d"),this};var Gs=_.__private__.getLineHeight=_.getLineHeight=function(){return Vt*us};_.__private__.getLineHeight=_.getLineHeight=function(){return Vt*us};var So=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(us=S),this},Ts=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return us};So(n.lineHeight);var Ki=_.__private__.getHorizontalCoordinate=function(S){return I(S)},Pi=_.__private__.getVerticalCoordinate=function(S){return it===J?S:be[z].mediaBox.topRightY-be[z].mediaBox.bottomLeftY-I(S)},Ys=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return M(Ki(S))},Mn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return M(Pi(S))},Wr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Gn(Wr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,U,ut,pt){return Wr=Oi({ch1:S,ch2:U,ch3:ut,ch4:pt,pdfColorType:"draw",precision:2}),ot(Wr),this};var Ws=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Gn(Ws)},_.__private__.setFillColor=_.setFillColor=function(S,U,ut,pt){return Ws=Oi({ch1:S,ch2:U,ch3:ut,ch4:pt,pdfColorType:"fill",precision:2}),ot(Ws),this};var Ea=n.textColor||"0 g",il=_.__private__.getTextColor=_.getTextColor=function(){return Gn(Ea)};_.__private__.setTextColor=_.setTextColor=function(S,U,ut,pt){return Ea=Oi({ch1:S,ch2:U,ch3:ut,ch4:pt,pdfColorType:"text",precision:3}),this};var $r=n.charSpace,cs=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat($r||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $r=S,this};var Kr=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var U=_.CapJoinStyles[S];if(U===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=U,ot(U+" J"),this};var Ri=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var U=_.CapJoinStyles[S];if(U===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=U,ot(U+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(M(I(S))+" M"),this},_.GState=Up,_.setGState=function(S){(S=typeof S=="string"?Me[Oe[S]]:ka(null,S)).equals(jn)||(ot("/"+S.id+" gs"),jn=S)};var ka=function(S,U){if(!S||!Oe[S]){var ut=!1;for(var pt in Me)if(Me.hasOwnProperty(pt)&&Me[pt].equals(U)){ut=!0;break}if(ut)U=Me[pt];else{var _t="GS"+(Object.keys(Me).length+1).toString(10);Me[_t]=U,U.id=_t}return S&&(Oe[S]=U.id),sn.publish("addGState",U),U}};_.addGState=function(S,U){return ka(S,U),this},_.saveGraphicsState=function(){return ot("q"),$e.push({key:me,size:Vt,color:Ea}),this},_.restoreGraphicsState=function(){ot("Q");var S=$e.pop();return me=S.key,Vt=S.size,Ea=S.color,jn=null,this},_.setCurrentTransformationMatrix=function(S){return ot(S.toString()+" cm"),this},_.comment=function(S){return ot("#"+S),this};var ar=function(S,U){var ut=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ut},set:function(Ft){isNaN(Ft)||(ut=parseFloat(Ft))}});var pt=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ft){isNaN(Ft)||(pt=parseFloat(Ft))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Ft){_t=Ft.toString()}}),this},Ma=function(S,U,ut,pt){ar.call(this,S,U),this.type="rect";var _t=ut||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Wt){isNaN(Wt)||(_t=parseFloat(Wt))}});var Ft=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Wt){isNaN(Wt)||(Ft=parseFloat(Wt))}}),this},Cs=function(){this.page=we,this.currentPage=z,this.pages=Kt.slice(0),this.pagesContext=be.slice(0),this.x=ve,this.y=ci,this.matrix=Qe,this.width=ca(z),this.height=Ao(z),this.outputDestination=ee,this.id="",this.objectNumber=-1};Cs.prototype.restore=function(){we=this.page,z=this.currentPage,be=this.pagesContext,Kt=this.pages,ve=this.x,ci=this.y,Qe=this.matrix,$s(z,this.width),Qr(z,this.height),ee=this.outputDestination};var Oa=function(S,U,ut,pt,_t){Wi.push(new Cs),we=z=0,Kt=[],ve=S,ci=U,Qe=_t,la([ut,pt])};for(var Pa in _.beginFormObject=function(S,U,ut,pt,_t){return Oa(S,U,ut,pt,_t),this},_.endFormObject=function(S){return(function(U){if(ja[U])Wi.pop().restore();else{var ut=new Cs,pt="Xo"+(Object.keys(nr).length+1).toString(10);ut.id=pt,ja[U]=pt,nr[pt]=ut,sn.publish("addFormObject",ut),Wi.pop().restore()}})(S),this},_.doFormObject=function(S,U){var ut=nr[ja[S]];return ot("q"),ot(U.toString()+" cm"),ot("/"+ut.id+" Do"),ot("Q"),this},_.getFormObject=function(S){var U=nr[ja[S]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},_.save=function(S,U){return S=S||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Ju(vn(ua()),S),typeof Ju.unload=="function"&&Ge.setTimeout&&setTimeout(Ju.unload,911),this):new Promise(function(ut,pt){try{var _t=Ju(vn(ua()),S);typeof Ju.unload=="function"&&Ge.setTimeout&&setTimeout(Ju.unload,911),ut(_t)}catch(Ft){pt(Ft.message)}})},ye.API)ye.API.hasOwnProperty(Pa)&&(Pa==="events"&&ye.API.events.length?(function(S,U){var ut,pt,_t;for(_t=U.length-1;_t!==-1;_t--)ut=U[_t][0],pt=U[_t][1],S.subscribe.apply(S,[ut].concat(typeof pt=="function"?[pt]:pt))})(sn,ye.API.events):_[Pa]=ye.API[Pa]);function ca(S){return be[S].mediaBox.topRightX-be[S].mediaBox.bottomLeftX}function $s(S,U){be[S].mediaBox.topRightX=U+be[S].mediaBox.bottomLeftX}function Ao(S){return be[S].mediaBox.topRightY-be[S].mediaBox.bottomLeftY}function Qr(S,U){be[S].mediaBox.topRightY=U+be[S].mediaBox.bottomLeftY}var za=_.getPageWidth=function(S){return ca(S=S||z)/qe},rl=_.setPageWidth=function(S,U){$s(S,U*qe)},Ta=_.getPageHeight=function(S){return Ao(S=S||z)/qe},Eo=_.setPageHeight=function(S,U){Qr(S,U*qe)};return _.internal={pdfEscape:Dr,getStyle:tl,getFont:Aa,getFontSize:ie,getCharSpace:cs,getTextColor:il,getLineHeight:Gs,getLineHeightFactor:Ts,getLineWidth:Es,write:Jt,getHorizontalCoordinate:Ki,getVerticalCoordinate:Pi,getCoordinateString:Ys,getVerticalCoordinateString:Mn,collections:{},newObject:Vn,newAdditionalObject:gr,newObjectDeferred:Xn,newObjectDeferredBegin:Mi,getFilters:Ir,putStream:sa,events:sn,scaleFactor:qe,pageSize:{getWidth:function(){return za(z)},setWidth:function(S){rl(z,S)},getHeight:function(){return Ta(z)},setHeight:function(S){Eo(z,S)}},encryptionOptions:y,encryption:ai,getEncryptor:function(S){return y!==null?ai.encryptor(S,0):function(U){return U}},output:Ss,getNumberOfPages:xo,get pages(){return Kt},out:ot,f2:R,f3:N,getPageInfo:wi,getPageInfoByObjId:Hs,getCurrentPageInfo:Ol,getPDFVersion:q,Point:ar,Rectangle:Ma,Matrix:Ae,hasHotfix:Ni},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return za(z)},set:function(S){rl(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Ta(z)},set:function(S){Eo(z,S)},enumerable:!0,configurable:!0}),(function(S){for(var U=0,ut=Te.length;U<ut;U++){var pt=vo.call(this,S[U][0],S[U][1],S[U][2],Te[U][3],!0);A===!1&&(T[pt]=!0);var _t=S[U][0].split("-");fi({id:pt,fontName:_t[0],fontStyle:_t[1]||""})}sn.publish("addFonts",{fonts:Ce,dictionary:Pe})}).call(_,Te),me="F1",Sa(s,e),sn.publish("initialized"),_}lh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},lh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},lh.prototype.processOwnerPassword=function(n,t){return Y0(G0(t).substr(0,5),n)},lh.prototype.encryptor=function(n,t){var e=G0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Y0(e,r)}},Up.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},ye.API={events:[]},ye.version="4.1.0";var Hi=ye.API,Xm=1,bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vp=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(e.length===1?"0"+e:e)})},en=function(n){return n.toFixed(2)},fu=function(n){return n.toFixed(5)};Hi.__acroform__={};var is=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Bb=function(n){return n*Xm},Vo=function(n){var t=new mw,e=ge.internal.getHeight(n)||0,r=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(en(r)),Number(en(e))],t},zR=Hi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},FR=Hi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},BR=Hi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Ji=Hi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BR(n,t-1)},tr=Hi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zR(n,t-1)},er=Hi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FR(n,t-1)},UR=Hi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=e(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(s+u)||0,f.upperRight_Y=r(o)||0,[Number(en(f.lowerLeft_X)),Number(en(f.lowerLeft_Y)),Number(en(f.upperRight_X)),Number(en(f.upperRight_Y))]},VR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=W0(n,e),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+s+" "+en(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Vo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},W0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=n.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var o=e,u=ge.internal.getHeight(n)||0;u=u<0?-u:u;var h=ge.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(R,N,I){if(R+1<s.length){var $=N+" "+s[R+1][0];return op($,n,I).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,y,A=op("3",n,o).height,T=n.multiline?u-o:(u-A)/2,_=T+=2,B=0,q=0,O=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+op(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var P="",tt=0,J=0;J<s.length;J++)if(s.hasOwnProperty(J)){var it=!1;if(s[J].length!==1&&O!==s[J].length-1){if((A+2)*(tt+2)+2>u)continue t;P+=s[J][O],it=!0,q=J,J--}else{P=(P+=s[J][O]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var st=parseInt(J),St=f(st,P,o),G=J>=s.length-1;if(St&&!G){P+=" ",O=0;continue}if(St||G){if(G)q=st;else if(n.multiline&&(A+2)*(tt+2)+2>u)continue t}else{if(!n.multiline||(A+2)*(tt+2)+2>u)continue t;q=st}}for(var M="",w=B;w<=q;w++){var F=s[w];if(n.multiline){if(w===q){M+=F[O]+" ",O=(O+1)%F.length;continue}if(w===B){M+=F[F.length-1]+" ";continue}}M+=F[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,y=op(M,n,o).width,n.textAlign){case"right":d=h-y-2;break;case"center":d=(h-y)/2;break;default:d=2}t+=en(d)+" "+en(_)+` Td
`,t+="("+bc(M)+`) Tj
`,t+=-en(d)+` 0 Td
`,_=-(o+2),y=0,B=it?q:q+1,tt++,P=""}break}return r.text=t,r.fontSize=o,r},op=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},qR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HR=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},GR=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(qR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xm=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new yw,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&HR(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],d=h.Rect;if(h.Rect&&(h.Rect=UR(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ge.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var y=VR(h);f.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(h.appearanceStreamContent){var A="";for(var T in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(T)){var _=h.appearanceStreamContent[T];if(A+="/"+T+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var B=_[u];typeof B=="function"&&(B=B.call(s,h)),A+="/"+u+" "+B+" ",s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B)}}else typeof(B=_)=="function"&&(B=B.call(s,h)),A+="/"+u+" "+B,s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(q,O){for(var P in q)if(q.hasOwnProperty(P)){var tt=P,J=q[P];O.internal.newObjectDeferredBegin(J.objId,!0),Qn(J)==="object"&&typeof J.putStream=="function"&&J.putStream(),delete q[tt]}})(s.internal.acroformPlugin.xForms,s)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},gw=Hi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Qn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Vp(n[o].substr(1)):(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),s+="("+bc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},r0=function(n,t,e){var r=function(s){return s};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+bc(r(n))+")"},Go=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Go.prototype.toString=function(){return this.objId+" 0 R"},Go.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Go.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:gw(s,this.objId,this.scope)}):s instanceof Go?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var mw=function(){Go.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};is(mw,Go);var yw=function(){Go.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+bc(e(n))+")"}},set:function(e){n=e}})};is(yw,Go);var mo=function n(){Go.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');t=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ji(t,3)},set:function(P){P?this.F=tr(t,3):this.F=er(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');e=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof qp)return;o="FieldObject"+n.FieldNum++}var P=function(tt){return tt};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+bc(P(o))+")"},set:function(P){o=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(P){o=P}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(P){h=P}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(P){f=P}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Xm:d},set:function(P){d=P}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(P){y=P}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof qp||this instanceof ac))return r0(A,this.objId,this.scope)},set:function(P){P=P.toString(),A=P}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof Vr==0?r0(T,this.objId,this.scope):T},set:function(P){P=P.toString(),T=this instanceof Vr==0?P.substr(0,1)==="("?nh(P.substr(1,P.length-2)):nh(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?nh(T.substr(1,T.length-1)):T},set:function(P){P=P.toString(),T=this instanceof Vr==1?"/"+Vp(P):P}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Vr==0?r0(_,this.objId,this.scope):_},set:function(P){P=P.toString(),_=this instanceof Vr==0?P.substr(0,1)==="("?nh(P.substr(1,P.length-2)):nh(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?nh(_.substr(1,_.length-1)):_},set:function(P){P=P.toString(),_=this instanceof Vr==1?"/"+Vp(P):P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,q=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return q},set:function(P){P=!!P,q=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(P){B=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,1)},set:function(P){P?this.Ff=tr(this.Ff,1):this.Ff=er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,2)},set:function(P){P?this.Ff=tr(this.Ff,2):this.Ff=er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,3)},set:function(P){P?this.Ff=tr(this.Ff,3):this.Ff=er(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');O=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(O){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};is(mo,Go);var dh=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gw(t,this.objId,this.scope)},set:function(e){var r,s;s=[],typeof(r=e)=="string"&&(s=(function(o,u,h){h||(h=1);for(var f,d=[];f=u.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,18)},set:function(e){e?this.Ff=tr(this.Ff,18):this.Ff=er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=tr(this.Ff,19):this.Ff=er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,20)},set:function(e){e?(this.Ff=tr(this.Ff,20),t.sort()):this.Ff=er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,22)},set:function(e){e?this.Ff=tr(this.Ff,22):this.Ff=er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,27)},set:function(e){e?this.Ff=tr(this.Ff,27):this.Ff=er(this.Ff,27)}}),this.hasAppearanceStream=!1};is(dh,mo);var ph=function(){dh.call(this),this.fontName="helvetica",this.combo=!1};is(ph,dh);var gh=function(){ph.call(this),this.combo=!0};is(gh,ph);var vp=function(){gh.call(this),this.edit=!0};is(vp,gh);var Vr=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,15)},set:function(e){e?this.Ff=tr(this.Ff,15):this.Ff=er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,16)},set:function(e){e?this.Ff=tr(this.Ff,16):this.Ff=er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,17)},set:function(e){e?this.Ff=tr(this.Ff,17):this.Ff=er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=er(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+bc(e(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+Vp(e)}})};is(Vr,mo);var bp=function(){Vr.call(this),this.pushButton=!0};is(bp,Vr);var mh=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};is(mh,Vr);var qp=function(){var n,t;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+bc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Qn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};is(qp,mo),mh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},mh.prototype.createOption=function(n){var t=new qp;return t.Parent=this,t.optionName=n,this.Kids.push(t),YR.call(this.scope,t),t};var xp=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};is(xp,Vr);var ac=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,13)},set:function(t){t?this.Ff=tr(this.Ff,13):this.Ff=er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,21)},set:function(t){t?this.Ff=tr(this.Ff,21):this.Ff=er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,23)},set:function(t){t?this.Ff=tr(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,24)},set:function(t){t?this.Ff=tr(this.Ff,24):this.Ff=er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,25)},set:function(t){t?this.Ff=tr(this.Ff,25):this.Ff=er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,26)},set:function(t){t?this.Ff=tr(this.Ff,26):this.Ff=er(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};is(ac,mo);var _p=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,14)},set:function(n){n?this.Ff=tr(this.Ff,14):this.Ff=er(this.Ff,14)}}),this.password=!0};is(_p,ac);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=W0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+en(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Vo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=ge.internal.getHeight(n),u=ge.internal.getWidth(n),h=W0(n,n.caption);return s.push("1 g"),s.push("0 0 "+en(u)+" "+en(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+en(u-1)+" "+en(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+en(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Vo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=ge.internal.Bezier_C,o=Number((r*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+fu(ge.internal.getWidth(n)/2)+" "+fu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*ge.internal.Bezier_C).toFixed(5)),u=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+fu(ge.internal.getWidth(n)/2)+" "+fu(ge.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+fu(ge.internal.getWidth(n)/2)+" "+fu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),e.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),e.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),e.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+fu(ge.internal.getWidth(n)/2)+" "+fu(ge.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Vo(n);t.scope=n.scope;var e=[],r=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+en(ge.internal.getWidth(n)-2)+" "+en(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),e.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),e.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),e.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(ge.internal.getWidth(n)-2)+" "+en(ge.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(e.x1.x)+" "+en(e.x1.y)+" m"),r.push(en(e.x2.x)+" "+en(e.x2.y)+" l"),r.push(en(e.x4.x)+" "+en(e.x4.y)+" m"),r.push(en(e.x3.x)+" "+en(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Vo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ge.internal.getWidth=function(n){var t=0;return Qn(n)==="object"&&(t=Bb(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return Qn(n)==="object"&&(t=Bb(n.Rect[3])),t};var YR=Hi.addField=function(n){if(GR(this,n),!(n instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=dh,Hi.AcroFormListBox=ph,Hi.AcroFormComboBox=gh,Hi.AcroFormEditBox=vp,Hi.AcroFormButton=Vr,Hi.AcroFormPushButton=bp,Hi.AcroFormRadioButton=mh,Hi.AcroFormCheckBox=xp,Hi.AcroFormTextField=ac,Hi.AcroFormPasswordField=_p,Hi.AcroFormAppearance=ge,Hi.AcroForm={ChoiceField:dh,ListBox:ph,ComboBox:gh,EditBox:vp,Button:Vr,PushButton:bp,RadioButton:mh,CheckBox:xp,TextField:ac,PasswordField:_p,Appearance:ge},ye.AcroForm={ChoiceField:dh,ListBox:ph,ComboBox:gh,EditBox:vp,Button:Vr,PushButton:bp,RadioButton:mh,CheckBox:xp,TextField:ac,PasswordField:_p,Appearance:ge};ye.AcroForm;function vw(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(R,N){var I,$,mt,rt,ft,at=e;if((N=N||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(St(R))for(ft in r)for(mt=r[ft],I=0;I<mt.length;I+=1){for(rt=!0,$=0;$<mt[I].length;$+=1)if(mt[I][$]!==void 0&&mt[I][$]!==R[$]){rt=!1;break}if(rt===!0){at=ft;break}}else for(ft in r)for(mt=r[ft],I=0;I<mt.length;I+=1){for(rt=!0,$=0;$<mt[I].length;$+=1)if(mt[I][$]!==void 0&&mt[I][$]!==R.charCodeAt($)){rt=!1;break}if(rt===!0){at=ft;break}}return at===e&&N!==e&&(at=N),at},o=function R(N){for(var I=this.internal.write,$=this.internal.putStream,mt=(0,this.internal.getFilters)();mt.indexOf("FlateEncode")!==-1;)mt.splice(mt.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var rt=[];if(rt.push({key:"Type",value:"/XObject"}),rt.push({key:"Subtype",value:"/Image"}),rt.push({key:"Width",value:N.width}),rt.push({key:"Height",value:N.height}),N.colorSpace===P.INDEXED?rt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(rt.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===P.DEVICE_CMYK&&rt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),rt.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&rt.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var ft="",at=0,bt=N.transparency.length;at<bt;at++)ft+=N.transparency[at]+" "+N.transparency[at]+" ";rt.push({key:"Mask",value:"["+ft+"]"})}N.sMask!==void 0&&rt.push({key:"SMask",value:N.objectId+1+" 0 R"});var Dt=N.filter!==void 0?["/"+N.filter]:void 0;if($({data:N.data,additionalKeyValues:rt,alreadyAppliedFilters:Dt,objectId:N.objectId}),I("endobj"),"sMask"in N&&N.sMask!==void 0){var nt,k=(nt=N.sMaskBitsPerComponent)!==null&&nt!==void 0?nt:N.bitsPerComponent,z={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:N.sMask};"filter"in N&&(z.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(N.width),z.filter=N.filter),R.call(this,z)}if(N.colorSpace===P.INDEXED){var W=this.internal.newObject();$({data:M(new Uint8Array(N.palette)),objectId:W}),I("endobj")}},u=function(){var R=this.internal.collections[t+"images"];for(var N in R)o.call(this,R[N])},h=function(){var R,N=this.internal.collections[t+"images"],I=this.internal.write;for(var $ in N)I("/I"+(R=N[$]).index,R.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var R=this.internal.collections[t+"images"];return f.call(this),R},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(R){return typeof n["process"+R.toUpperCase()]=="function"},T=function(R){return Qn(R)==="object"&&R.nodeType===1},_=function(R,N){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var I=""+R.getAttribute("src");if(I.indexOf("data:image/")===0)return yp(unescape(I).split("base64,").pop());var $=n.loadFile(I,!0);if($!==void 0)return $}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var mt;switch(N){case"PNG":mt="image/png";break;case"WEBP":mt="image/webp";break;default:mt="image/jpeg"}return yp(R.toDataURL(mt,1).split("base64,").pop())}},B=function(R){var N=this.internal.collections[t+"images"];if(N){for(var I in N)if(R===N[I].alias)return N[I]}},q=function(R,N,I){return R||N||(R=-96,N=-96),R<0&&(R=-1*I.width*72/R/this.internal.scaleFactor),N<0&&(N=-1*I.height*72/N/this.internal.scaleFactor),R===0&&(R=N*I.width/I.height),N===0&&(N=R*I.height/I.width),[R,N]},O=function(R,N,I,$,mt,rt){var ft=q.call(this,I,$,mt),at=this.internal.getCoordinateString,bt=this.internal.getVerticalCoordinateString,Dt=d.call(this);if(I=ft[0],$=ft[1],Dt[mt.index]=mt,rt){rt*=Math.PI/180;var nt=Math.cos(rt),k=Math.sin(rt),z=function(K){return K.toFixed(4)},W=[z(nt),z(k),z(-1*k),z(nt),0,0,"cm"]}this.internal.write("q"),rt?(this.internal.write([1,"0","0",1,at(R),bt(N+$),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([at(I),"0","0",at($),"0","0","cm"].join(" "))):this.internal.write([at(I),"0","0",at($),at(R),bt(N+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mt.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var tt=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},J=n.__addimage__.sHashCode=function(R){var N,I,$=0;if(typeof R=="string")for(I=R.length,N=0;N<I;N++)$=($<<5)-$+R.charCodeAt(N),$|=0;else if(St(R))for(I=R.byteLength/2,N=0;N<I;N++)$=($<<5)-$+R[N],$|=0;return $},it=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var N=!0;return R.length===0&&(N=!1),R.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(N=!1),N},st=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var N=R.indexOf(",");return N<0?null:R.substring(0,N).trim().endsWith("base64")?R.substring(N+1):null};n.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var St=n.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(R){for(var N=R.length,I=new Uint8Array(N),$=0;$<N;$++)I[$]=R.charCodeAt($);return I},M=n.__addimage__.arrayBufferToBinaryString=function(R){for(var N="",I=St(R)?R:new Uint8Array(R),$=0;$<I.length;$+=8192)N+=String.fromCharCode.apply(null,I.subarray($,$+8192));return N};n.addImage=function(){var R,N,I,$,mt,rt,ft,at,bt;if(typeof arguments[1]=="number"?(N=e,I=arguments[1],$=arguments[2],mt=arguments[3],rt=arguments[4],ft=arguments[5],at=arguments[6],bt=arguments[7]):(N=arguments[1],I=arguments[2],$=arguments[3],mt=arguments[4],rt=arguments[5],ft=arguments[6],at=arguments[7],bt=arguments[8]),Qn(R=arguments[0])==="object"&&!T(R)&&"imageData"in R){var Dt=R;R=Dt.imageData,N=Dt.format||N||e,I=Dt.x||I||0,$=Dt.y||$||0,mt=Dt.w||Dt.width||mt,rt=Dt.h||Dt.height||rt,ft=Dt.alias||ft,at=Dt.compression||at,bt=Dt.rotation||Dt.angle||bt}var nt=this.internal.getFilters();if(at===void 0&&nt.indexOf("FlateEncode")!==-1&&(at="SLOW"),isNaN(I)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=w.call(this,R,N,ft,at);return O.call(this,I,$,mt,rt,k,bt),this};var w=function(R,N,I,$){var mt,rt,ft;if(typeof R=="string"&&s(R)===e){R=unescape(R);var at=F(R,!1);(at!==""||(at=n.loadFile(R,!0))!==void 0)&&(R=at)}if(T(R)&&(R=_(R,N)),N=s(R,N),!A(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ft=I)==null||ft.length===0)&&(I=(function(bt){return typeof bt=="string"||St(bt)?J(bt):St(bt.data)?J(bt.data):null})(R)),(mt=B.call(this,I))||(R instanceof Uint8Array||N==="RGBA"||(rt=R,R=G(R)),mt=this["process"+N.toUpperCase()](R,y.call(this),I,(function(bt){return bt&&typeof bt=="string"&&(bt=bt.toUpperCase()),bt in n.image_compression?bt:tt.NONE})($),rt)),!mt)throw new Error("An unknown error occurred whilst processing the image.");return mt},F=n.__addimage__.convertBase64ToBinaryString=function(R,N){N=typeof N!="boolean"||N;var I,$="";if(typeof R=="string"){var mt;I=(mt=st(R))!==null&&mt!==void 0?mt:R;try{$=yp(I)}catch(rt){if(N)throw it(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+rt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};n.getImageProperties=function(R){var N,I,$="";if(T(R)&&(R=_(R)),typeof R=="string"&&s(R)===e&&(($=F(R,!1))===""&&($=n.loadFile(R)||""),R=$),I=s(R),!A(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(R instanceof Uint8Array||(R=G(R)),!(N=this["process"+I.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=I,N}})(ye.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ye.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,s,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,y=!1,A=0;A<d.length&&!y;A++)switch((r=d[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var T=0;T<d.length;T++){r=d[T];var _=this.internal.pdfEscape,B=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var q=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(q.objId),tt=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(P(r.contents))+")",o+=" /Popup "+O.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(P(tt))+") >>",q.content=o;var J=q.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+J,r.open&&(o+=" /Open true"),o+=" >>",O.content=o,this.internal.write(q.objId,"0 R",O.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var it=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(B(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+it+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var st=this.annotations._nameMap[r.options.name];r.options.pageNumber=st.page,r.options.top=st.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(B(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var St=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+St+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,s,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(r),w:f(e+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(e,r,s,o){var u,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var y=this.splitTextToSize(e,h).length;u=Math.ceil(d*y)}else h=f,u=d;return this.text(e,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,u,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(ye.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(q){return t[q.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(q){return typeof q=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(q)},h=n.__arabicParser__.isArabicEndLetter=function(q){return u(q)&&o(q)&&t[q.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(q){return u(q)&&s.indexOf(q.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(q){return u(q)&&o(q)&&t[q.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(q){return u(q)&&o(q)&&t[q.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(q){return u(q)&&o(q)&&t[q.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(q){return u(q)&&o(q)&&t[q.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(q){var O=0,P=e,tt="",J=0;for(O=0;O<q.length;O+=1)P[q.charCodeAt(O)]!==void 0?(J++,typeof(P=P[q.charCodeAt(O)])=="number"&&(tt+=String.fromCharCode(P),P=e,J=0),O===q.length-1&&(P=e,tt+=q.charAt(O-(J-1)),O-=J-1,J=0)):(P=e,tt+=q.charAt(O-J),O-=J,J=0);return tt};n.__arabicParser__.isArabicDiacritic=function(q){return q!==void 0&&r[q.charCodeAt(0)]!==void 0};var T=n.__arabicParser__.getCorrectForm=function(q,O,P){return u(q)?o(q)===!1?-1:!d(q)||!u(O)&&!u(P)||!u(P)&&h(O)||h(q)&&!u(O)||h(q)&&f(O)||h(q)&&h(O)?0:y(q)&&u(O)&&!h(O)&&u(P)&&d(P)?3:h(q)||!u(P)?1:2:-1},_=function(q){var O=0,P=0,tt=0,J="",it="",st="",St=(q=q||"").split("\\s+"),G=[];for(O=0;O<St.length;O+=1){for(G.push(""),P=0;P<St[O].length;P+=1)J=St[O][P],it=St[O][P-1],st=St[O][P+1],u(J)?(tt=T(J,it,st),G[O]+=tt!==-1?String.fromCharCode(t[J.charCodeAt(0)][tt]):J):G[O]+=J;G[O]=A(G[O])}return G.join(" ")},B=n.__arabicParser__.processArabic=n.processArabic=function(){var q,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(O)){var tt=0;for(P=[],tt=0;tt<O.length;tt+=1)Array.isArray(O[tt])?P.push([_(O[tt][0]),O[tt][1],O[tt][2]]):P.push([_(O[tt])]);q=P}else q=_(O);return typeof arguments[0]=="string"?q:(arguments[0].text=q,arguments[0])};n.events.push(["preProcessText",B])})(ye.API),ye.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var s;if((e=e||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ye.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(q){f=q}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(q){d=q}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(q){y=q}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(q){A=q}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(q){T=q}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(q){_=q}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(q){B=q}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),T=d.scaleFactor||this.internal.scaleFactor,_=0,B=0,q=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var P=d.maxWidth;P>0?typeof f=="string"?f=this.splitTextToSize(f,P):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(J,it){return J.concat(O.splitTextToSize(it,P))},[])):f=Array.isArray(f)?f:[f];for(var tt=0;tt<f.length;tt++)_<(q=this.getStringUnitWidth(f[tt],{font:A})*y)&&(_=q);return _!==0&&(B=f.length),{w:_/=T,h:Math.max((B*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/T,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,T=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&T&&(this.printHeaderRow(f.lineNumber,!0),f.y+=T[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,A,T){if(r.call(this),!y)throw new Error("No data for PDF table.");var _,B,q,O,P=[],tt=[],J=[],it={},st={},St=[],G=[],M=(T=T||{}).autoSize||!1,w=T.printHeaders!==!1,F=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,R=T.margins||Object.assign({width:this.getPageWidth()},t),N=typeof T.padding=="number"?T.padding:3,I=T.headerBackgroundColor||"#c8c8c8",$=T.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=$,this.setFontSize(F),A==null)tt=P=Object.keys(y[0]),J=P.map(function(){return"left"});else if(Array.isArray(A)&&Qn(A[0])==="object")for(P=A.map(function(Dt){return Dt.name}),tt=A.map(function(Dt){return Dt.prompt||Dt.name||""}),J=A.map(function(Dt){return Dt.align||"left"}),_=0;_<A.length;_+=1)st[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(tt=P=A,J=P.map(function(){return"left"}));if(M||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<P.length;_+=1){for(it[O=P[_]]=y.map(function(Dt){return Dt[O]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(tt[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=it[O],this.setFont(void 0,"normal"),q=0;q<B.length;q+=1)St.push(this.getTextDimensions(B[q],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);st[O]=Math.max.apply(null,St)+N+N,St=[]}if(w){var mt={};for(_=0;_<P.length;_+=1)mt[P[_]]={},mt[P[_]].text=tt[_],mt[P[_]].align=J[_];var rt=h.call(this,mt,st);G=P.map(function(Dt){return new o(f,d,st[Dt],rt,mt[Dt].text,void 0,mt[Dt].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ft=A.reduce(function(Dt,nt){return Dt[nt.name]=nt.align,Dt},{});for(_=0;_<y.length;_+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:_,data:y[_]},this);var at=h.call(this,y[_],st);for(q=0;q<P.length;q+=1){var bt=y[_][P[q]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:_,col:q,data:bt},this),u.call(this,new o(f,d,st[P[q]],at,bt,_+2,ft[P[q]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var y=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(f).map(function(_){var B=f[_];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,d[_]-y-y)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/T+y+y},this).reduce(function(_,B){return Math.max(_,B)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){y=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,T.push(y)),y.lineNumber=f;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(B)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),e=!1}})(ye.API);var bw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$0=vw(xw),_w=[100,200,300,400,500,600,700,800,900],WR=vw(_w);function a0(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return bw[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof $0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:t,style:[s,e,r].join(" ")}}}function Ub(n,t,e,r){var s;for(s=e;s>=0&&s<t.length;s+=r)if(n[t[s]])return n[t[s]];for(s=e;s>=0&&s<t.length;s-=r)if(n[t[s]])return n[t[s]]}var $R={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Hb(n){return n.trimLeft()}function KR(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function QR(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var ih,lp,Gb,Yb,Wb,s0=["times"];function $b(n,t,e,r,s){var o=4,u=Qb;switch(s){case ye.API.image_compression.FAST:o=1,u=Kb;break;case ye.API.image_compression.MEDIUM:o=6,u=Xb;break;case ye.API.image_compression.SLOW:o=9,u=Zb}n=(function(f,d,y,A){for(var T,_=f.length/d,B=new Uint8Array(f.length+_),q=[XR,Kb,Qb,Xb,Zb],O=0;O<_;O+=1){var P=O*d,tt=f.subarray(P,P+d);if(A)B.set(A(tt,y,T),P+O);else{for(var J=q.length,it=[],st=0;st<J;st+=1)it[st]=q[st](tt,y,T);var St=JR(it.concat());B.set(it[St],P+O)}T=tt}return B})(n,t,Math.ceil(e*r/8),u);var h=U0(n,{level:o});return ye.API.__addimage__.arrayBufferToBinaryString(h)}function XR(n){var t=Array.apply([],n);return t.unshift(0),t}function Kb(n,t){var e=n.length,r=[];r[0]=1;for(var s=0;s<e;s+=1){var o=n[s-t]||0;r[s+1]=n[s]-o+256&255}return r}function Qb(n,t,e){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=e&&e[o]||0;s[o+1]=n[o]-u+256&255}return s}function Xb(n,t,e){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-t]||0,h=e&&e[o]||0;s[o+1]=n[o]+256-(u+h>>>1)&255}return s}function Zb(n,t,e){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=ZR(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=n[o]-u+256&255}return s}function ZR(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),s=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=s&&r<=o?n:s<=o?t:e}function JR(n){var t=n.map(function(e){return e.reduce(function(r,s){return r+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function o0(n,t,e){var r=t*e,s=Math.floor(r/8),o=16-(r-8*s+e),u=(1<<e)-1;return ww(n,s)>>o&u}function Jb(n,t,e,r){var s=e*r,o=Math.floor(s/8),u=16-(s-8*o+r),h=(1<<r)-1,f=(t&h)<<u;(function(d,y,A){if(y+1<d.byteLength)d.setUint16(y,A,!1);else{var T=A>>8&255;d.setUint8(y,T)}})(n,o,ww(n,o)&~(h<<u)&65535|f)}function ww(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function tI(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,s=n[t++],o=s>>7,u=1<<1+(7&s);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=u,t+=3*u);var d=!0,y=[],A=0,T=null,_=0,B=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,B=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var q=n[t++];A=n[t++]|n[t++]<<8,T=n[t++],1&q||(T=null),_=q>>2&7,t++;break;case 254:for(;;){if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var O=n[t++]|n[t++]<<8,P=n[t++]|n[t++]<<8,tt=n[t++]|n[t++]<<8,J=n[t++]|n[t++]<<8,it=n[t++],st=it>>6&1,St=1<<1+(7&it),G=h,M=f,w=!1;it>>7&&(w=!0,G=t,M=St,t+=3*St);var F=t;for(t++;;){var R;if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}y.push({x:O,y:P,width:tt,height:J,has_local_palette:w,palette_offset:G,palette_size:M,data_offset:F,data_length:t-F,transparent_index:T,interlaced:!!st,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return B},this.frameInfo=function(N){if(N<0||N>=y.length)throw new Error("Frame index out of range.");return y[N]},this.decodeAndBlitFrameBGRA=function(N,I){var $=this.frameInfo(N),mt=$.width*$.height,rt=new Uint8Array(mt);tx(n,$.data_offset,rt,mt);var ft=$.palette_offset,at=$.transparent_index;at===null&&(at=256);var bt=$.width,Dt=e-bt,nt=bt,k=4*($.y*e+$.x),z=4*(($.y+$.height)*e+$.x),W=k,K=4*Dt;$.interlaced===!0&&(K+=4*e*7);for(var ht=8,gt=0,Nt=rt.length;gt<Nt;++gt){var Ct=rt[gt];if(nt===0&&(nt=bt,(W+=K)>=z&&(K=4*Dt+4*e*(ht-1),W=k+(bt+Dt)*(ht<<1),ht>>=1)),Ct===at)W+=4;else{var Ot=n[ft+3*Ct],Kt=n[ft+3*Ct+1],ne=n[ft+3*Ct+2];I[W++]=ne,I[W++]=Kt,I[W++]=Ot,I[W++]=255}--nt}},this.decodeAndBlitFrameRGBA=function(N,I){var $=this.frameInfo(N),mt=$.width*$.height,rt=new Uint8Array(mt);tx(n,$.data_offset,rt,mt);var ft=$.palette_offset,at=$.transparent_index;at===null&&(at=256);var bt=$.width,Dt=e-bt,nt=bt,k=4*($.y*e+$.x),z=4*(($.y+$.height)*e+$.x),W=k,K=4*Dt;$.interlaced===!0&&(K+=4*e*7);for(var ht=8,gt=0,Nt=rt.length;gt<Nt;++gt){var Ct=rt[gt];if(nt===0&&(nt=bt,(W+=K)>=z&&(K=4*Dt+4*e*(ht-1),W=k+(bt+Dt)*(ht<<1),ht>>=1)),Ct===at)W+=4;else{var Ot=n[ft+3*Ct],Kt=n[ft+3*Ct+1],ne=n[ft+3*Ct+2];I[W++]=Ot,I[W++]=Kt,I[W++]=ne,I[W++]=255}--nt}}}function tx(n,t,e,r){for(var s=n[t++],o=1<<s,u=o+1,h=u+1,f=s+1,d=(1<<f)-1,y=0,A=0,T=0,_=n[t++],B=new Int32Array(4096),q=null;;){for(;y<16&&_!==0;)A|=n[t++]<<y,y+=8,_===1?_=n[t++]:--_;if(y<f)break;var O=A&d;if(A>>=f,y-=f,O!==o){if(O===u)break;for(var P=O<h?O:q,tt=0,J=P;J>o;)J=B[J]>>8,++tt;var it=J;if(T+tt+(P!==O?1:0)>r)return void ui.log("Warning, gif stream longer than expected.");e[T++]=it;var st=T+=tt;for(P!==O&&(e[T++]=it),J=P;tt--;)J=B[J],e[--st]=255&J,J>>=8;q!==null&&h<4096&&(B[h++]=q<<8|it,h>=d+1&&f<12&&(++f,d=d<<1|1)),q=O}else h=u+1,d=(1<<(f=s+1))-1,q=null}return T!==r&&ui.log("Warning, gif stream shorter than expected."),e}function l0(n){var t,e,r,s,o,u=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),A=new Array(65535),T=new Array(65535),_=new Array(64),B=new Array(64),q=[],O=0,P=7,tt=new Array(64),J=new Array(64),it=new Array(64),st=new Array(256),St=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function rt(k,z){for(var W=0,K=0,ht=new Array,gt=1;gt<=16;gt++){for(var Nt=1;Nt<=k[gt];Nt++)ht[z[K]]=[],ht[z[K]][0]=W,ht[z[K]][1]=gt,K++,W++;W*=2}return ht}function ft(k){for(var z=k[0],W=k[1]-1;W>=0;)z&1<<W&&(O|=1<<P),W--,--P<0&&(O==255?(at(255),at(0)):at(O),P=7,O=0)}function at(k){q.push(k)}function bt(k){at(k>>8&255),at(255&k)}function Dt(k,z,W,K,ht){for(var gt,Nt=ht[0],Ct=ht[240],Ot=(function(Vt,re){var ie,Ne,_e,We,Ze,Be,an,Ke,me,qe,ve=0;for(me=0;me<8;++me){ie=Vt[ve],Ne=Vt[ve+1],_e=Vt[ve+2],We=Vt[ve+3],Ze=Vt[ve+4],Be=Vt[ve+5],an=Vt[ve+6];var ci=ie+(Ke=Vt[ve+7]),Qe=ie-Ke,Ce=Ne+an,Pe=Ne-an,$e=_e+Be,Se=_e-Be,In=We+Ze,Me=We-Ze,Oe=ci+In,jn=ci-In,we=Ce+$e,be=Ce-$e;Vt[ve]=Oe+we,Vt[ve+4]=Oe-we;var sn=.707106781*(be+jn);Vt[ve+2]=jn+sn,Vt[ve+6]=jn-sn;var pr=.382683433*((Oe=Me+Se)-(be=Pe+Qe)),nr=.5411961*Oe+pr,ja=1.306562965*be+pr,Wi=.707106781*(we=Se+Pe),Ae=Qe+Wi,rs=Qe-Wi;Vt[ve+5]=rs+nr,Vt[ve+3]=rs-nr,Vt[ve+1]=Ae+ja,Vt[ve+7]=Ae-ja,ve+=8}for(ve=0,me=0;me<8;++me){ie=Vt[ve],Ne=Vt[ve+8],_e=Vt[ve+16],We=Vt[ve+24],Ze=Vt[ve+32],Be=Vt[ve+40],an=Vt[ve+48];var qr=ie+(Ke=Vt[ve+56]),Nr=ie-Ke,Rr=Ne+an,Vn=Ne-an,Xn=_e+Be,Mi=_e-Be,gr=We+Ze,ir=We-Ze,kn=qr+gr,Gn=qr-gr,Oi=Rr+Xn,Ir=Rr-Xn;Vt[ve]=kn+Oi,Vt[ve+32]=kn-Oi;var sa=.707106781*(Ir+Gn);Vt[ve+16]=Gn+sa,Vt[ve+48]=Gn-sa;var ws=.382683433*((kn=ir+Mi)-(Ir=Vn+Nr)),wa=.5411961*kn+ws,Lr=1.306562965*Ir+ws,as=.707106781*(Oi=Mi+Vn),Hr=Nr+as,mr=Nr-as;Vt[ve+40]=mr+wa,Vt[ve+24]=mr-wa,Vt[ve+8]=Hr+Lr,Vt[ve+56]=Hr-Lr,ve++}for(me=0;me<64;++me)qe=Vt[me]*re[me],_[me]=qe>0?qe+.5|0:qe-.5|0;return _})(k,z),Kt=0;Kt<64;++Kt)B[G[Kt]]=Ot[Kt];var ne=B[0]-W;W=B[0],ne==0?ft(K[0]):(ft(K[T[gt=32767+ne]]),ft(A[gt]));for(var ee=63;ee>0&&B[ee]==0;)ee--;if(ee==0)return ft(Nt),W;for(var ce,ot=1;ot<=ee;){for(var Jt=ot;B[ot]==0&&ot<=ee;)++ot;var Ye=ot-Jt;if(Ye>=16){ce=Ye>>4;for(var Te=1;Te<=ce;++Te)ft(Ct);Ye&=15}gt=32767+B[ot],ft(ht[(Ye<<4)+T[gt]]),ft(A[gt]),ot++}return ee!=63&&ft(Nt),W}function nt(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(z){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ht=u((W[K]*z+50)/100);ht=Math.min(Math.max(ht,1),255),h[G[K]]=ht}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Nt=0;Nt<64;Nt++){var Ct=u((gt[Nt]*z+50)/100);Ct=Math.min(Math.max(Ct,1),255),f[G[Nt]]=Ct}for(var Ot=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Kt=0,ne=0;ne<8;ne++)for(var ee=0;ee<8;ee++)d[Kt]=1/(h[G[Kt]]*Ot[ne]*Ot[ee]*8),y[Kt]=1/(f[G[Kt]]*Ot[ne]*Ot[ee]*8),Kt++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,z){z&&nt(z),q=new Array,O=0,P=7,bt(65496),bt(65504),bt(16),at(74),at(70),at(73),at(70),at(0),at(1),at(1),at(0),bt(1),bt(1),at(0),at(0),(function(){bt(65499),bt(132),at(0);for(var Ne=0;Ne<64;Ne++)at(h[Ne]);at(1);for(var _e=0;_e<64;_e++)at(f[_e])})(),(function(Ne,_e){bt(65472),bt(17),at(8),bt(_e),bt(Ne),at(3),at(1),at(17),at(0),at(2),at(17),at(1),at(3),at(17),at(1)})(k.width,k.height),(function(){bt(65476),bt(418),at(0);for(var Ne=0;Ne<16;Ne++)at(M[Ne+1]);for(var _e=0;_e<=11;_e++)at(w[_e]);at(16);for(var We=0;We<16;We++)at(F[We+1]);for(var Ze=0;Ze<=161;Ze++)at(R[Ze]);at(1);for(var Be=0;Be<16;Be++)at(N[Be+1]);for(var an=0;an<=11;an++)at(I[an]);at(17);for(var Ke=0;Ke<16;Ke++)at($[Ke+1]);for(var me=0;me<=161;me++)at(mt[me])})(),bt(65498),bt(12),at(3),at(1),at(0),at(2),at(17),at(3),at(17),at(0),at(63),at(0);var W=0,K=0,ht=0;O=0,P=7,this.encode.displayName="_encode_";for(var gt,Nt,Ct,Ot,Kt,ne,ee,ce,ot,Jt=k.data,Ye=k.width,Te=k.height,Vt=4*Ye,re=0;re<Te;){for(gt=0;gt<Vt;){for(Kt=Vt*re+gt,ee=-1,ce=0,ot=0;ot<64;ot++)ne=Kt+(ce=ot>>3)*Vt+(ee=4*(7&ot)),re+ce>=Te&&(ne-=Vt*(re+1+ce-Te)),gt+ee>=Vt&&(ne-=gt+ee-Vt+4),Nt=Jt[ne++],Ct=Jt[ne++],Ot=Jt[ne++],tt[ot]=(St[Nt]+St[Ct+256|0]+St[Ot+512|0]>>16)-128,J[ot]=(St[Nt+768|0]+St[Ct+1024|0]+St[Ot+1280|0]>>16)-128,it[ot]=(St[Nt+1280|0]+St[Ct+1536|0]+St[Ot+1792|0]>>16)-128;W=Dt(tt,d,W,t,r),K=Dt(J,y,K,e,s),ht=Dt(it,y,ht,e,s),gt+=32}re+=8}if(P>=0){var ie=[];ie[1]=P+1,ie[0]=(1<<P+1)-1,ft(ie)}return bt(65497),new Uint8Array(q)},n=n||50,(function(){for(var k=String.fromCharCode,z=0;z<256;z++)st[z]=k(z)})(),t=rt(M,w),e=rt(N,I),r=rt(F,R),s=rt($,mt),(function(){for(var k=1,z=2,W=1;W<=15;W++){for(var K=k;K<z;K++)T[32767+K]=W,A[32767+K]=[],A[32767+K][1]=W,A[32767+K][0]=K;for(var ht=-(z-1);ht<=-k;ht++)T[32767+ht]=W,A[32767+ht]=[],A[32767+ht][1]=W,A[32767+ht][0]=z-1+ht;k<<=1,z<<=1}})(),(function(){for(var k=0;k<256;k++)St[k]=19595*k,St[k+256|0]=38470*k,St[k+512|0]=7471*k+32768,St[k+768|0]=-11059*k,St[k+1024|0]=-21709*k,St[k+1280|0]=32768*k+8421375,St[k+1536|0]=-27439*k,St[k+1792|0]=-5329*k})(),nt(n)}function co(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ex(n){function t(w){if(!w)throw Error("assert :P")}function e(w,F,R){for(var N=0;4>N;N++)if(w[F+N]!=R.charCodeAt(N))return!0;return!1}function r(w,F,R,N,I){for(var $=0;$<I;$++)w[F+$]=R[N+$]}function s(w,F,R,N){for(var I=0;I<N;I++)w[F+I]=R}function o(w){return new Int32Array(w)}function u(w,F){for(var R=[],N=0;N<w;N++)R.push(new F);return R}function h(w,F){var R=[];return(function N(I,$,mt){for(var rt=mt[$],ft=0;ft<rt&&(I.push(mt.length>$+1?[]:new F),!(mt.length<$+1));ft++)N(I[ft],$+1,mt)})(R,0,w),R}var f=function(){var w=this;function F(p,v){for(var E=1<<v-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function R(p,v,E,L,V){t(!(L%E));do p[v+(L-=E)]=V;while(0<L)}function N(p,v,E,L,V){if(t(2328>=V),512>=V)var H=o(512);else if((H=o(V))==null)return 0;return(function(Y,X,et,ct,yt,Rt){var lt,xt,Et=X,zt=1<<et,Tt=o(16),Pt=o(16);for(t(yt!=0),t(ct!=null),t(Y!=null),t(0<et),xt=0;xt<yt;++xt){if(15<ct[xt])return 0;++Tt[ct[xt]]}if(Tt[0]==yt)return 0;for(Pt[1]=0,lt=1;15>lt;++lt){if(Tt[lt]>1<<lt)return 0;Pt[lt+1]=Pt[lt]+Tt[lt]}for(xt=0;xt<yt;++xt)lt=ct[xt],0<ct[xt]&&(Rt[Pt[lt]++]=xt);if(Pt[15]==1)return(ct=new I).g=0,ct.value=Rt[0],R(Y,Et,1,zt,ct),zt;var Ut,Qt=-1,Yt=zt-1,pe=0,se=1,He=1,he=1<<et;for(xt=0,lt=1,yt=2;lt<=et;++lt,yt<<=1){if(se+=He<<=1,0>(He-=Tt[lt]))return 0;for(;0<Tt[lt];--Tt[lt])(ct=new I).g=lt,ct.value=Rt[xt++],R(Y,Et+pe,yt,he,ct),pe=F(pe,lt)}for(lt=et+1,yt=2;15>=lt;++lt,yt<<=1){if(se+=He<<=1,0>(He-=Tt[lt]))return 0;for(;0<Tt[lt];--Tt[lt]){if(ct=new I,(pe&Yt)!=Qt){for(Et+=he,Ut=1<<(Qt=lt)-et;15>Qt&&!(0>=(Ut-=Tt[Qt]));)++Qt,Ut<<=1;zt+=he=1<<(Ut=Qt-et),Y[X+(Qt=pe&Yt)].g=Ut+et,Y[X+Qt].value=Et-X-Qt}ct.g=lt-et,ct.value=Rt[xt++],R(Y,Et+(pe>>et),yt,he,ct),pe=F(pe,lt)}}return se!=2*Pt[15]-1?0:zt})(p,v,E,L,V,H)}function I(){this.value=this.g=0}function $(){this.value=this.g=0}function mt(){this.G=u(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(To,$)}function rt(p,v,E,L){t(p!=null),t(v!=null),t(2147483648>L),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=E,p.Jd=v,p.Yc=E+L,p.Zc=4<=L?E+L-4+1:E,Nt(p)}function ft(p,v){for(var E=0;0<v--;)E|=Ot(p,128)<<v;return E}function at(p,v){var E=ft(p,v);return Ct(p)?-E:E}function bt(p,v,E,L){var V,H=0;for(t(p!=null),t(v!=null),t(4294967288>L),p.Sb=L,p.Ra=0,p.u=0,p.h=0,4<L&&(L=4),V=0;V<L;++V)H+=v[E+V]<<8*V;p.Ra=H,p.bb=L,p.oa=v,p.pa=E}function Dt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Is-8>>>0,++p.bb,p.u-=8;K(p)&&(p.h=1,p.u=0)}function nt(p,v){if(t(0<=v),!p.h&&v<=Zr){var E=W(p)&ha[v];return p.u+=v,Dt(p),E}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(p){return p.Ra>>>(p.u&Is-1)>>>0}function K(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Is}function ht(p,v){p.u=v,p.h=K(p)}function gt(p){p.u>=Ls&&(t(p.u>=Ls),Dt(p))}function Nt(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ct(p){return ft(p,1)}function Ot(p,v){var E=p.Ca;0>p.b&&Nt(p);var L=p.b,V=E*v>>>8,H=(p.I>>>L>V)+0;for(H?(E-=V,p.I-=V+1<<L>>>0):E=V+1,L=E,V=0;256<=L;)V+=8,L>>=8;return L=7^V+Xs[L],p.b-=L,p.Ca=(E<<L)-1,H}function Kt(p,v,E){p[v+0]=E>>24&255,p[v+1]=E>>16&255,p[v+2]=E>>8&255,p[v+3]=255&E}function ne(p,v){return p[v+0]|p[v+1]<<8}function ee(p,v){return ne(p,v)|p[v+2]<<16}function ce(p,v){return ne(p,v)|ne(p,v+2)<<16}function ot(p,v){var E=1<<v;return t(p!=null),t(0<v),p.X=o(E),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Jt(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Te(p,v,E,L){t(E!=null),t(L!=null);var V=E[0],H=L[0];return V==0&&(V=(p*H+v/2)/v),H==0&&(H=(v*V+p/2)/p),0>=V||0>=H?0:(E[0]=V,L[0]=H,1)}function Vt(p,v){return p+(1<<v)-1>>>v}function re(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ie(p,v){w[v]=function(E,L,V,H,Y,X,et){var ct;for(ct=0;ct<Y;++ct){var yt=w[p](X[et+ct-1],V,H+ct);X[et+ct]=re(E[L+ct],yt)}}}function Ne(){this.ud=this.hd=this.jd=0}function _e(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function We(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ze(p,v){return We(p+(p-v+.5>>1))}function Be(p,v,E){return Math.abs(v-E)-Math.abs(p-E)}function an(p,v,E,L,V,H,Y){for(L=H[Y-1],E=0;E<V;++E)H[Y+E]=L=re(p[v+E],L)}function Ke(p,v,E,L,V){var H;for(H=0;H<E;++H){var Y=p[v+H],X=Y>>8&255,et=16711935&(et=(et=16711935&Y)+((X<<16)+X));L[V+H]=(4278255360&Y)+et>>>0}}function me(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function qe(p,v,E,L,V,H){var Y;for(Y=0;Y<L;++Y){var X=v[E+Y],et=X>>>8,ct=X,yt=255&(yt=(yt=X>>>16)+((p.jd<<24>>24)*(et<<24>>24)>>>5));ct=255&(ct=(ct+=(p.hd<<24>>24)*(et<<24>>24)>>>5)+((p.ud<<24>>24)*(yt<<24>>24)>>>5)),V[H+Y]=(4278255360&X)+(yt<<16)+ct}}function ve(p,v,E,L,V){w[v]=function(H,Y,X,et,ct,yt,Rt,lt,xt){for(et=Rt;et<lt;++et)for(Rt=0;Rt<xt;++Rt)ct[yt++]=V(X[L(H[Y++])])},w[p]=function(H,Y,X,et,ct,yt,Rt){var lt=8>>H.b,xt=H.Ea,Et=H.K[0],zt=H.w;if(8>lt)for(H=(1<<H.b)-1,zt=(1<<lt)-1;Y<X;++Y){var Tt,Pt=0;for(Tt=0;Tt<xt;++Tt)Tt&H||(Pt=L(et[ct++])),yt[Rt++]=V(Et[Pt&zt]),Pt>>=lt}else w["VP8LMapColor"+E](et,ct,Et,zt,yt,Rt,Y,X,xt)}}function ci(p,v,E,L,V){for(E=v+E;v<E;){var H=p[v++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H}}function Qe(p,v,E,L,V){for(E=v+E;v<E;){var H=p[v++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H,L[V++]=H>>24&255}}function Ce(p,v,E,L,V){for(E=v+E;v<E;){var H=(Y=p[v++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[V++]=H,L[V++]=Y}}function Pe(p,v,E,L,V){for(E=v+E;v<E;){var H=(Y=p[v++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[V++]=H,L[V++]=Y}}function $e(p,v,E,L,V){for(E=v+E;v<E;){var H=p[v++];L[V++]=255&H,L[V++]=H>>8&255,L[V++]=H>>16&255}}function Se(p,v,E,L,V,H){if(H==0)for(E=v+E;v<E;)Kt(L,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else r(L,V,p,v,E)}function In(p,v){w[v][0]=w[p+"0"],w[v][1]=w[p+"1"],w[v][2]=w[p+"2"],w[v][3]=w[p+"3"],w[v][4]=w[p+"4"],w[v][5]=w[p+"5"],w[v][6]=w[p+"6"],w[v][7]=w[p+"7"],w[v][8]=w[p+"8"],w[v][9]=w[p+"9"],w[v][10]=w[p+"10"],w[v][11]=w[p+"11"],w[v][12]=w[p+"12"],w[v][13]=w[p+"13"],w[v][14]=w[p+"0"],w[v][15]=w[p+"0"]}function Me(p){return p==Bu||p==Ec||p==ql||p==Tc}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function we(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new jn,this.sd=null}function be(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function nr(p,v){var E=p.T,L=v.ba.f.RGBA,V=L.eb,H=L.fb+p.ka*L.A,Y=Sr[v.ba.S],X=p.y,et=p.O,ct=p.f,yt=p.N,Rt=p.ea,lt=p.W,xt=v.cc,Et=v.dc,zt=v.Mc,Tt=v.Nc,Pt=p.ka,Ut=p.ka+p.T,Qt=p.U,Yt=Qt+1>>1;for(Pt==0?Y(X,et,null,null,ct,yt,Rt,lt,ct,yt,Rt,lt,V,H,null,null,Qt):(Y(v.ec,v.fc,X,et,xt,Et,zt,Tt,ct,yt,Rt,lt,V,H-L.A,V,H,Qt),++E);Pt+2<Ut;Pt+=2)xt=ct,Et=yt,zt=Rt,Tt=lt,yt+=p.Rc,lt+=p.Rc,H+=2*L.A,Y(X,(et+=2*p.fa)-p.fa,X,et,xt,Et,zt,Tt,ct,yt,Rt,lt,V,H-L.A,V,H,Qt);return et+=p.fa,p.j+Ut<p.o?(r(v.ec,v.fc,X,et,Qt),r(v.cc,v.dc,ct,yt,Yt),r(v.Mc,v.Nc,Rt,lt,Yt),E--):1&Ut||Y(X,et,null,null,ct,yt,Rt,lt,ct,yt,Rt,lt,V,H+L.A,null,null,Qt),E}function ja(p,v,E){var L=p.F,V=[p.J];if(L!=null){var H=p.U,Y=v.ba.S,X=Y==Fu||Y==ql;v=v.ba.f.RGBA;var et=[0],ct=p.ka;et[0]=p.T,p.Kb&&(ct==0?--et[0]:(--ct,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(et[0]=p.o-p.j-ct));var yt=v.eb;ct=v.fb+ct*v.A,p=Mu(L,V[0],p.width,H,et,yt,ct+(X?0:3),v.A),t(E==et),p&&Me(Y)&&ol(yt,ct,X,H,et,v.A)}return 0}function Wi(p){var v=p.ma,E=v.ba.S,L=11>E,V=E==Pr||E==Ua||E==Fu||E==Vl||E==12||Me(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Qs(v.Oa,p,V?11:12))return 0;if(V&&Me(E)&&Ve(),p.da)alert("todo:use_scaling");else{if(L){if(v.Ib=pr,p.Kb){if(E=p.U+1>>1,v.memory=o(p.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=nr,Ve()}}else alert("todo:EmitYUV");V&&(v.Jb=ja,L&&jt())}if(L&&!jo){for(p=0;256>p;++p)Ar[p]=89858*(p-128)+Yl>>Wa,h1[p]=-22014*(p-128)+Yl,sd[p]=-45773*(p-128),Lc[p]=113618*(p-128)+Yl>>Wa;for(p=hl;p<Do;++p)v=76283*(p-16)+Yl>>Wa,f1[p-hl]=Yr(v,255),d1[p-hl]=Yr(v+8>>4,15);jo=1}return 1}function Ae(p){var v=p.ma,E=p.U,L=p.T;return t(!(1&p.ka)),0>=E||0>=L?0:(E=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,E),v.Dc+=E,1)}function rs(p){p.ma.memory=null}function qr(p,v,E,L){return nt(p,8)!=47?0:(v[0]=nt(p,14)+1,E[0]=nt(p,14)+1,L[0]=nt(p,1),nt(p,3)!=0?0:!p.h)}function Nr(p,v){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+nt(v,E)+1}function Rr(p,v){return 120<v?v-120:1<=(E=((E=qa[v-1])>>4)*p+(8-(15&E)))?E:1;var E}function Vn(p,v,E){var L=W(E),V=p[v+=255&L].g-8;return 0<V&&(ht(E,E.u+8),L=W(E),v+=p[v].value,v+=L&(1<<V)-1),ht(E,E.u+p[v].g),p[v].value}function Xn(p,v,E){return E.g+=p.g,E.value+=p.value<<v>>>0,t(8>=E.g),p.g}function Mi(p,v,E){var L=p.xc;return t((v=L==0?0:p.vc[p.md*(E>>L)+(v>>L)])<p.Wb),p.Ya[v]}function gr(p,v,E,L){var V=p.ab,H=p.c*v,Y=p.C;v=Y+v;var X=E,et=L;for(L=p.Ta,E=p.Ua;0<V--;){var ct=p.gc[V],yt=Y,Rt=v,lt=X,xt=et,Et=(et=L,X=E,ct.Ea);switch(t(yt<Rt),t(Rt<=ct.nc),ct.hc){case 2:Ii(lt,xt,(Rt-yt)*Et,et,X);break;case 0:var zt=yt,Tt=Rt,Pt=et,Ut=X,Qt=(he=ct).Ea;zt==0&&(zl(lt,xt,null,null,1,Pt,Ut),an(lt,xt+1,0,0,Qt-1,Pt,Ut+1),xt+=Qt,Ut+=Qt,++zt);for(var Yt=1<<he.b,pe=Yt-1,se=Vt(Qt,he.b),He=he.K,he=he.w+(zt>>he.b)*se;zt<Tt;){var dn=He,oi=he,Je=1;for(Fl(lt,xt,Pt,Ut-Qt,1,Pt,Ut);Je<Qt;){var oe=(Je&~pe)+Yt;oe>Qt&&(oe=Qt),(0,Zs[dn[oi++]>>8&15])(lt,xt+ +Je,Pt,Ut+Je-Qt,oe-Je,Pt,Ut+Je),Je=oe}xt+=Qt,Ut+=Qt,++zt&pe||(he+=se)}Rt!=ct.nc&&r(et,X-Et,et,X+(Rt-yt-1)*Et,Et);break;case 1:for(Et=lt,Tt=xt,Qt=(lt=ct.Ea)-(Ut=lt&~(Pt=(xt=1<<ct.b)-1)),zt=Vt(lt,ct.b),Yt=ct.K,ct=ct.w+(yt>>ct.b)*zt;yt<Rt;){for(pe=Yt,se=ct,He=new Ne,he=Tt+Ut,dn=Tt+lt;Tt<he;)me(pe[se++],He),Bl(He,Et,Tt,xt,et,X),Tt+=xt,X+=xt;Tt<dn&&(me(pe[se++],He),Bl(He,Et,Tt,Qt,et,X),Tt+=Qt,X+=Qt),++yt&Pt||(ct+=zt)}break;case 3:if(lt==et&&xt==X&&0<ct.b){for(Tt=et,lt=Et=X+(Rt-yt)*Et-(Ut=(Rt-yt)*Vt(ct.Ea,ct.b)),xt=et,Pt=X,zt=[],Ut=(Qt=Ut)-1;0<=Ut;--Ut)zt[Ut]=xt[Pt+Ut];for(Ut=Qt-1;0<=Ut;--Ut)Tt[lt+Ut]=zt[Ut];xc(ct,yt,Rt,et,Et,et,X)}else xc(ct,yt,Rt,lt,xt,et,X)}X=L,et=E}et!=E&&r(L,E,X,et,H)}function ir(p,v){var E=p.V,L=p.Ba+p.c*p.C,V=v-p.C;if(t(v<=p.l.o),t(16>=V),0<V){var H=p.l,Y=p.Ta,X=p.Ua,et=H.width;if(gr(p,V,E,L),V=X=[X],t((E=p.C)<(L=v)),t(H.v<H.va),L>H.o&&(L=H.o),E<H.j){var ct=H.j-E;E=H.j,V[0]+=ct*et}if(E>=L?E=0:(V[0]+=4*H.v,H.ka=E-H.j,H.U=H.va-H.v,H.T=L-E,E=1),E){if(X=X[0],11>(E=p.ca).S){var yt=E.f.RGBA,Rt=(L=E.S,V=H.U,H=H.T,ct=yt.eb,yt.A),lt=H;for(yt=yt.fb+p.Ma*yt.A;0<lt--;){var xt=Y,Et=X,zt=V,Tt=ct,Pt=yt;switch(L){case Sc:Ul(xt,Et,zt,Tt,Pt);break;case Pr:Js(xt,Et,zt,Tt,Pt);break;case Bu:Js(xt,Et,zt,Tt,Pt),ol(Tt,Pt,0,zt,1,0);break;case Ac:al(xt,Et,zt,Tt,Pt);break;case Ua:Se(xt,Et,zt,Tt,Pt,1);break;case Ec:Se(xt,Et,zt,Tt,Pt,1),ol(Tt,Pt,0,zt,1,0);break;case Fu:Se(xt,Et,zt,Tt,Pt,0);break;case ql:Se(xt,Et,zt,Tt,Pt,0),ol(Tt,Pt,1,zt,1,0);break;case Vl:to(xt,Et,zt,Tt,Pt);break;case Tc:to(xt,Et,zt,Tt,Pt),Ba(Tt,Pt,zt,1,0);break;case Co:ks(xt,Et,zt,Tt,Pt);break;default:t(0)}X+=et,yt+=Rt}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=E.height)}}p.C=v,t(p.C<=p.i)}function kn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var E=p.Ya[v].G,L=p.Ya[v].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function Gn(p,v,E,L,V,H){if(p.Z!=0){var Y=p.qd,X=p.rd;for(t(io[p.Z]!=null);v<E;++v)io[p.Z](Y,X,L,V,L,V,H),Y=L,X=V,V+=H;p.qd=Y,p.rd=X}}function Oi(p,v){var E=p.l.ma,L=E.Z==0||E.Z==1?p.l.j:p.C;if(L=p.C<L?L:p.C,t(v<=p.l.o),v>L){var V=p.l.width,H=E.ca,Y=E.tb+V*L,X=p.V,et=p.Ba+p.c*L,ct=p.gc;t(p.ab==1),t(ct[0].hc==3),js(ct[0],L,v,X,et,H,Y),Gn(E,L,v,H,Y,V)}p.C=p.Ma=v}function Ir(p,v,E,L,V,H,Y){var X=p.$/L,et=p.$%L,ct=p.m,yt=p.s,Rt=E+p.$,lt=Rt;V=E+L*V;var xt=E+L*H,Et=280+yt.ua,zt=p.Pb?X:16777216,Tt=0<yt.ua?yt.Wa:null,Pt=yt.wc,Ut=Rt<xt?Mi(yt,et,X):null;t(p.C<H),t(xt<=V);var Qt=!1;t:for(;;){for(;Qt||Rt<xt;){var Yt=0;if(X>=zt){var pe=Rt-E;t((zt=p).Pb),zt.wd=zt.m,zt.xd=pe,0<zt.s.ua&&Jt(zt.s.Wa,zt.s.vb),zt=X+No}if(et&Pt||(Ut=Mi(yt,et,X)),t(Ut!=null),Ut.Qb&&(v[Rt]=Ut.qb,Qt=!0),!Qt)if(gt(ct),Ut.jc){Yt=ct,pe=v;var se=Rt,He=Ut.pd[W(Yt)&To-1];t(Ut.jc),256>He.g?(ht(Yt,Yt.u+He.g),pe[se]=He.value,Yt=0):(ht(Yt,Yt.u+He.g-256),t(256<=He.value),Yt=He.value),Yt==0&&(Qt=!0)}else Yt=Vn(Ut.G[0],Ut.H[0],ct);if(ct.h)break;if(Qt||256>Yt){if(!Qt)if(Ut.nd)v[Rt]=(Ut.qb|Yt<<8)>>>0;else{if(gt(ct),Qt=Vn(Ut.G[1],Ut.H[1],ct),gt(ct),pe=Vn(Ut.G[2],Ut.H[2],ct),se=Vn(Ut.G[3],Ut.H[3],ct),ct.h)break;v[Rt]=(se<<24|Qt<<16|Yt<<8|pe)>>>0}if(Qt=!1,++Rt,++et>=L&&(et=0,++X,Y!=null&&X<=H&&!(X%16)&&Y(p,X),Tt!=null))for(;lt<Rt;)Yt=v[lt++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else if(280>Yt){if(Yt=Nr(Yt-256,ct),pe=Vn(Ut.G[4],Ut.H[4],ct),gt(ct),pe=Rr(L,pe=Nr(pe,ct)),ct.h)break;if(Rt-E<pe||V-Rt<Yt)break t;for(se=0;se<Yt;++se)v[Rt+se]=v[Rt+se-pe];for(Rt+=Yt,et+=Yt;et>=L;)et-=L,++X,Y!=null&&X<=H&&!(X%16)&&Y(p,X);if(t(Rt<=V),et&Pt&&(Ut=Mi(yt,et,X)),Tt!=null)for(;lt<Rt;)Yt=v[lt++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else{if(!(Yt<Et))break t;for(Qt=Yt-280,t(Tt!=null);lt<Rt;)Yt=v[lt++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt;Yt=Rt,t(!(Qt>>>(pe=Tt).Xa)),v[Yt]=pe.X[Qt],Qt=!0}Qt||t(ct.h==K(ct))}if(p.Pb&&ct.h&&Rt<V)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Jt(p.s.vb,p.s.Wa);else{if(ct.h)break t;Y?.(p,X>H?H:X),p.a=0,p.$=Rt-E}return 1}return p.a=3,0}function sa(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null)}function ws(){var p=new Le;return p==null?null:(p.a=0,p.xb=Ph,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ii=Ke,Bl=qe,Ul=ci,Js=Qe,to=Ce,ks=Pe,al=$e,w.VP8LMapColor32b=Ds,w.VP8LMapColor8b=xr,p)}function wa(p,v,E,L,V){var H=1,Y=[p],X=[v],et=L.m,ct=L.s,yt=null,Rt=0;t:for(;;){if(E)for(;H&&nt(et,1);){var lt=Y,xt=X,Et=L,zt=1,Tt=Et.m,Pt=Et.gc[Et.ab],Ut=nt(Tt,2);if(Et.Oc&1<<Ut)H=0;else{switch(Et.Oc|=1<<Ut,Pt.hc=Ut,Pt.Ea=lt[0],Pt.nc=xt[0],Pt.K=[null],++Et.ab,t(4>=Et.ab),Ut){case 0:case 1:Pt.b=nt(Tt,3)+2,zt=wa(Vt(Pt.Ea,Pt.b),Vt(Pt.nc,Pt.b),0,Et,Pt.K),Pt.K=Pt.K[0];break;case 3:var Qt,Yt=nt(Tt,8)+1,pe=16<Yt?0:4<Yt?1:2<Yt?2:3;if(lt[0]=Vt(Pt.Ea,pe),Pt.b=pe,Qt=zt=wa(Yt,1,0,Et,Pt.K)){var se,He=Yt,he=Pt,dn=1<<(8>>he.b),oi=o(dn);if(oi==null)Qt=0;else{var Je=he.K[0],oe=he.w;for(oi[0]=he.K[0][0],se=1;se<1*He;++se)oi[se]=re(Je[oe+se],oi[se-1]);for(;se<4*dn;++se)oi[se]=0;he.K[0]=null,he.K[0]=oi,Qt=1}}zt=Qt;break;case 2:break;default:t(0)}H=zt}}if(Y=Y[0],X=X[0],H&&nt(et,1)&&!(H=1<=(Rt=nt(et,4))&&11>=Rt)){L.a=3;break t}var Zt;if(Zt=H)e:{var di,ze,rn,Fn=L,Qi=Y,Er=X,ei=Rt,zi=E,zr=Fn.m,Fi=Fn.s,un=[null],En=1,pi=0,Dn=Ha[ei];n:for(;;){if(zi&&nt(zr,1)){var Xi=nt(zr,3)+2,gi=Vt(Qi,Xi),Tn=Vt(Er,Xi),ji=gi*Tn;if(!wa(gi,Tn,0,Fn,un))break n;for(un=un[0],Fi.xc=Xi,di=0;di<ji;++di){var Bn=un[di]>>8&65535;un[di]=Bn,Bn>=En&&(En=Bn+1)}}if(zr.h)break n;for(ze=0;5>ze;++ze){var Bi=ul[ze];!ze&&0<ei&&(Bi+=1<<ei),pi<Bi&&(pi=Bi)}var Ui=u(En*Dn,I),Wn=En,An=u(Wn,mt);if(An==null)var Fr=null;else t(65536>=Wn),Fr=An;var Ai=o(pi);if(Fr==null||Ai==null||Ui==null){Fn.a=1;break n}var Ie=Ui;for(di=rn=0;di<En;++di){var De=Fr[di],Cn=De.G,fa=De.H,$a=0,ta=1,Vi=0;for(ze=0;5>ze;++ze){Bi=ul[ze],Cn[ze]=Ie,fa[ze]=rn,!ze&&0<ei&&(Bi+=1<<ei);r:{var ko,Mo=Bi,jc=Fn,ni=Ai,Fh=Ie,Bh=rn,kc=0,ro=jc.m,p1=nt(ro,1);if(s(ni,0,0,Mo),p1){var Uh=nt(ro,1)+1,Vh=nt(ro,1),Mc=nt(ro,Vh==0?1:8);ni[Mc]=1,Uh==2&&(ni[Mc=nt(ro,8)]=1);var or=1}else{var Ei=o(19),Hu=nt(ro,4)+4;if(19<Hu){jc.a=3;var Oo=0;break r}for(ko=0;ko<Hu;++ko)Ei[Uu[ko]]=nt(ro,3);var $l=void 0,fl=void 0,Ps=jc,Oc=Ei,Kl=Mo,Pc=ni,zc=0,ao=Ps.m,qh=8,Hh=u(128,I);i:for(;N(Hh,0,7,Oc,19);){if(nt(ao,1)){var od=2+2*nt(ao,3);if(($l=2+nt(ao,od))>Kl)break i}else $l=Kl;for(fl=0;fl<Kl&&$l--;){gt(ao);var Gh=Hh[0+(127&W(ao))];ht(ao,ao.u+Gh.g);var Po=Gh.value;if(16>Po)Pc[fl++]=Po,Po!=0&&(qh=Po);else{var ld=Po==16,ud=Po-16,cd=Hl[ud],Yh=nt(ao,Va[ud])+cd;if(fl+Yh>Kl)break i;for(var hd=ld?qh:0;0<Yh--;)Pc[fl++]=hd}}zc=1;break i}zc||(Ps.a=3),or=zc}(or=or&&!ro.h)&&(kc=N(Fh,Bh,8,ni,Mo)),or&&kc!=0?Oo=kc:(jc.a=3,Oo=0)}if(Oo==0)break n;if(ta&&Cc[ze]==1&&(ta=Ie[rn].g==0),$a+=Ie[rn].g,rn+=Oo,3>=ze){var dl,Fc=Ai[0];for(dl=1;dl<Bi;++dl)Ai[dl]>Fc&&(Fc=Ai[dl]);Vi+=Fc}}if(De.nd=ta,De.Qb=0,ta&&(De.qb=(Cn[3][fa[3]+0].value<<24|Cn[1][fa[1]+0].value<<16|Cn[2][fa[2]+0].value)>>>0,$a==0&&256>Cn[0][fa[0]+0].value&&(De.Qb=1,De.qb+=Cn[0][fa[0]+0].value<<8)),De.jc=!De.Qb&&6>Vi,De.jc){var Gu,zs=De;for(Gu=0;Gu<To;++Gu){var so=Gu,oo=zs.pd[so],Bc=zs.G[0][zs.H[0]+so];256<=Bc.value?(oo.g=Bc.g+256,oo.value=Bc.value):(oo.g=0,oo.value=0,so>>=Xn(Bc,8,oo),so>>=Xn(zs.G[1][zs.H[1]+so],16,oo),so>>=Xn(zs.G[2][zs.H[2]+so],0,oo),Xn(zs.G[3][zs.H[3]+so],24,oo))}}}Fi.vc=un,Fi.Wb=En,Fi.Ya=Fr,Fi.yc=Ui,Zt=1;break e}Zt=0}if(!(H=Zt)){L.a=3;break t}if(0<Rt){if(ct.ua=1<<Rt,!ot(ct.Wa,Rt)){L.a=1,H=0;break t}}else ct.ua=0;var Uc=L,pl=Y,fd=X,Ql=Uc.s,Xl=Ql.xc;if(Uc.c=pl,Uc.i=fd,Ql.md=Vt(pl,Xl),Ql.wc=Xl==0?-1:(1<<Xl)-1,E){L.xb=Ro;break t}if((yt=o(Y*X))==null){L.a=1,H=0;break t}H=(H=Ir(L,yt,0,Y,X,X,null))&&!et.h;break t}return H?(V!=null?V[0]=yt:(t(yt==null),t(E)),L.$=0,E||sa(ct)):sa(ct),H}function Lr(p,v){var E=p.c*p.i,L=E+v+16*v;return t(p.c<=v),p.V=o(L),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+v,1)}function as(p,v){var E=p.C,L=v-E,V=p.V,H=p.Ba+p.c*E;for(t(v<=p.l.o);0<L;){var Y=16<L?16:L,X=p.l.ma,et=p.l.width,ct=et*Y,yt=X.ca,Rt=X.tb+et*E,lt=p.Ta,xt=p.Ua;gr(p,Y,V,H),Ia(lt,xt,yt,Rt,ct),Gn(X,E,E+Y,yt,Rt,et),L-=Y,V+=Y*p.c,E+=Y}t(E==v),p.C=p.Ma=v}function Hr(){this.ub=this.yd=this.td=this.Rb=0}function mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function oa(){this.Yb=(function(){var p=[];return(function v(E,L,V){for(var H=V[L],Y=0;Y<H&&(E.push(V.length>L+1?[]:0),!(V.length<L+1));Y++)v(E[Y],L+1,V)})(p,0,[3,11]),p})()}function fi(){this.jb=o(3),this.Wc=h([4,8],oa),this.Xc=h([4,17],oa)}function vo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Dr(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function Sa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dr),this.Y=0,this.ya=Array(new qs),this.aa=0,this.l=new rr}function xo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Zo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Hr,this.Kc=new mr,this.ed=new vo,this.Qa=new Gr,this.Ic=this.$c=this.Aa=0,this.D=new bo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,k),this.ia=0,this.pb=u(4,Sa),this.Pa=new fi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xo),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new Dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qs),this.L=this.aa=0,this.gd=h([4,2],Dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yr(p,v){return 0>p?0:p>v?v:p}function rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var p=new Zo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,La||(La=vn)),p}function cn(p,v,E){return p.a==0&&(p.a=v,p.sc=E,p.cb=0),0}function ss(p,v,E){return 3<=E&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ua(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return cn(p,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,L=v.w,V=v.ha;if(4>V)return cn(p,7,"Truncated header.");var H=E[L+0]|E[L+1]<<8|E[L+2]<<16,Y=p.Od;if(Y.Rb=!(1&H),Y.td=H>>1&7,Y.yd=H>>4&1,Y.ub=H>>5,3<Y.td)return cn(p,3,"Incorrect keyframe parameters.");if(!Y.yd)return cn(p,4,"Frame not displayable.");L+=3,V-=3;var X=p.Kc;if(Y.Rb){if(7>V)return cn(p,7,"cannot parse picture header");if(!ss(E,L,V))return cn(p,3,"Bad code word");X.c=16383&(E[L+4]<<8|E[L+3]),X.Td=E[L+4]>>6,X.i=16383&(E[L+6]<<8|E[L+5]),X.Ud=E[L+6]>>6,L+=7,V-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,v.width=X.c,v.height=X.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=p.Pa).jb,0,255,H.jb.length),t((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(Y.ub>V)return cn(p,7,"bad partition length");rt(H=p.m,E,L,Y.ub),L+=Y.ub,V-=Y.ub,Y.Rb&&(X.Ld=Ct(H),X.Kd=Ct(H)),X=p.Qa;var et,ct=p.Pa;if(t(H!=null),t(X!=null),X.Cb=Ct(H),X.Cb){if(X.Bb=Ct(H),Ct(H)){for(X.Fb=Ct(H),et=0;4>et;++et)X.Zb[et]=Ct(H)?at(H,7):0;for(et=0;4>et;++et)X.Lb[et]=Ct(H)?at(H,6):0}if(X.Bb)for(et=0;3>et;++et)ct.jb[et]=Ct(H)?ft(H,8):255}else X.Bb=0;if(H.Ka)return cn(p,3,"cannot parse segment header");if((X=p.ed).zd=Ct(H),X.Tb=ft(H,6),X.wb=ft(H,3),X.Pc=Ct(H),X.Pc&&Ct(H)){for(ct=0;4>ct;++ct)Ct(H)&&(X.vd[ct]=at(H,6));for(ct=0;4>ct;++ct)Ct(H)&&(X.od[ct]=at(H,6))}if(p.L=X.Tb==0?0:X.zd?1:2,H.Ka)return cn(p,3,"cannot parse filter header");var yt=V;if(V=et=L,L=et+yt,X=yt,p.Xb=(1<<ft(p.m,2))-1,yt<3*(ct=p.Xb))E=7;else{for(et+=3*ct,X-=3*ct,yt=0;yt<ct;++yt){var Rt=E[V+0]|E[V+1]<<8|E[V+2]<<16;Rt>X&&(Rt=X),rt(p.Jc[+yt],E,et,Rt),et+=Rt,X-=Rt,V+=3}rt(p.Jc[+ct],E,et,X),E=et<L?0:5}if(E!=0)return cn(p,E,"cannot parse partitions");for(E=ft(et=p.m,7),V=Ct(et)?at(et,4):0,L=Ct(et)?at(et,4):0,X=Ct(et)?at(et,4):0,ct=Ct(et)?at(et,4):0,et=Ct(et)?at(et,4):0,yt=p.Qa,Rt=0;4>Rt;++Rt){if(yt.Cb){var lt=yt.Zb[Rt];yt.Fb||(lt+=E)}else{if(0<Rt){p.pb[Rt]=p.pb[0];continue}lt=E}var xt=p.pb[Rt];xt.Sc[0]=Ga[Yr(lt+V,127)],xt.Sc[1]=Ya[Yr(lt+0,127)],xt.Eb[0]=2*Ga[Yr(lt+L,127)],xt.Eb[1]=101581*Ya[Yr(lt+X,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Ga[Yr(lt+ct,117)],xt.Qc[1]=Ya[Yr(lt+et,127)],xt.lc=lt+et}if(!Y.Rb)return cn(p,4,"Not a key frame.");for(Ct(H),Y=p.Pa,E=0;4>E;++E){for(V=0;8>V;++V)for(L=0;3>L;++L)for(X=0;11>X;++X)ct=Ot(H,si[E][V][L][X])?ft(H,8):ad[E][V][L][X],Y.Wc[E][V].Yb[L][X]=ct;for(V=0;17>V;++V)Y.Xc[E][V]=Y.Wc[E][pn[V]]}return p.kc=Ct(H),p.kc&&(p.Bd=ft(H,8)),p.cb=1}function vn(p,v,E,L,V,H,Y){var X=v[V].Yb[E];for(E=0;16>V;++V){if(!Ot(p,X[E+0]))return V;for(;!Ot(p,X[E+1]);)if(X=v[++V].Yb[0],E=0,V==16)return 16;var et=v[V+1].Yb;if(Ot(p,X[E+2])){var ct=p,yt=0;if(Ot(ct,(lt=X)[(Rt=E)+3]))if(Ot(ct,lt[Rt+6])){for(X=0,Rt=2*(yt=Ot(ct,lt[Rt+8]))+(lt=Ot(ct,lt[Rt+9+yt])),yt=0,lt=rd[Rt];lt[X];++X)yt+=yt+Ot(ct,lt[X]);yt+=3+(8<<Rt)}else Ot(ct,lt[Rt+7])?(yt=7+2*Ot(ct,165),yt+=Ot(ct,145)):yt=5+Ot(ct,159);else yt=Ot(ct,lt[Rt+4])?3+Ot(ct,lt[Rt+5]):2;X=et[2]}else yt=1,X=et[1];et=Y+Oh[V],0>(ct=p).b&&Nt(ct);var Rt,lt=ct.b,xt=(Rt=ct.Ca>>1)-(ct.I>>lt)>>31;--ct.b,ct.Ca+=xt,ct.Ca|=1,ct.I-=(Rt+1&xt)<<lt,H[et]=((yt^xt)-xt)*L[(0<V)+0]}return 16}function Ss(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,v,E,L,V){V=p[v+E+32*L]+(V>>3),p[v+E+32*L]=-256&V?0>V?0:255:V}function ai(p,v,E,L,V,H){Ni(p,v,0,E,L+V),Ni(p,v,1,E,L+H),Ni(p,v,2,E,L-H),Ni(p,v,3,E,L-V)}function wi(p){return(20091*p>>16)+p}function Hs(p,v,E,L){var V,H=0,Y=o(16);for(V=0;4>V;++V){var X=p[v+0]+p[v+8],et=p[v+0]-p[v+8],ct=(35468*p[v+4]>>16)-wi(p[v+12]),yt=wi(p[v+4])+(35468*p[v+12]>>16);Y[H+0]=X+yt,Y[H+1]=et+ct,Y[H+2]=et-ct,Y[H+3]=X-yt,H+=4,v++}for(V=H=0;4>V;++V)X=(p=Y[H+0]+4)+Y[H+8],et=p-Y[H+8],ct=(35468*Y[H+4]>>16)-wi(Y[H+12]),Ni(E,L,0,0,X+(yt=wi(Y[H+4])+(35468*Y[H+12]>>16))),Ni(E,L,1,0,et+ct),Ni(E,L,2,0,et-ct),Ni(E,L,3,0,X-yt),H++,L+=32}function Ol(p,v,E,L){var V=p[v+0]+4,H=35468*p[v+4]>>16,Y=wi(p[v+4]),X=35468*p[v+1]>>16;ai(E,L,0,V+Y,p=wi(p[v+1]),X),ai(E,L,1,V+H,p,X),ai(E,L,2,V-H,p,X),ai(E,L,3,V-Y,p,X)}function Jo(p,v,E,L,V){Hs(p,v,E,L),V&&Hs(p,v+16,E,L+4)}function yr(p,v,E,L){eo(p,v+0,E,L,1),eo(p,v+32,E,L+128,1)}function tl(p,v,E,L){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)Ni(E,L,v,V,p)}function os(p,v,E,L){p[v+0]&&Ln(p,v+0,E,L),p[v+16]&&Ln(p,v+16,E,L+4),p[v+32]&&Ln(p,v+32,E,L+128),p[v+48]&&Ln(p,v+48,E,L+128+4)}function $i(p,v,E,L){var V,H=o(16);for(V=0;4>V;++V){var Y=p[v+0+V]+p[v+12+V],X=p[v+4+V]+p[v+8+V],et=p[v+4+V]-p[v+8+V],ct=p[v+0+V]-p[v+12+V];H[0+V]=Y+X,H[8+V]=Y-X,H[4+V]=ct+et,H[12+V]=ct-et}for(V=0;4>V;++V)Y=(p=H[0+4*V]+3)+H[3+4*V],X=H[1+4*V]+H[2+4*V],et=H[1+4*V]-H[2+4*V],ct=p-H[3+4*V],E[L+0]=Y+X>>3,E[L+16]=ct+et>>3,E[L+32]=Y-X>>3,E[L+48]=ct-et>>3,L+=64}function As(p,v,E){var L,V=v-32,H=Or,Y=255-p[V-1];for(L=0;L<E;++L){var X,et=H,ct=Y+p[v-1];for(X=0;X<E;++X)p[v+X]=et[ct+p[V+X]];v+=32}}function el(p,v){As(p,v,4)}function nl(p,v){As(p,v,8)}function _o(p,v){As(p,v,16)}function wo(p,v){var E;for(E=0;16>E;++E)r(p,v+32*E,p,v-32,16)}function ls(p,v){var E;for(E=16;0<E;--E)s(p,v,p[v-1],16),v+=32}function jr(p,v,E){var L;for(L=0;16>L;++L)s(v,E+32*L,p,16)}function Aa(p,v){var E,L=16;for(E=0;16>E;++E)L+=p[v-1+32*E]+p[v+E-32];jr(L>>5,p,v)}function us(p,v){var E,L=8;for(E=0;16>E;++E)L+=p[v-1+32*E];jr(L>>4,p,v)}function kr(p,v){var E,L=8;for(E=0;16>E;++E)L+=p[v+E-32];jr(L>>4,p,v)}function Es(p,v){jr(128,p,v)}function Re(p,v,E){return p+2*v+E+2>>2}function Gs(p,v){var E,L=v-32;for(L=new Uint8Array([Re(p[L-1],p[L+0],p[L+1]),Re(p[L+0],p[L+1],p[L+2]),Re(p[L+1],p[L+2],p[L+3]),Re(p[L+2],p[L+3],p[L+4])]),E=0;4>E;++E)r(p,v+32*E,L,0,L.length)}function So(p,v){var E=p[v-1],L=p[v-1+32],V=p[v-1+64],H=p[v-1+96];Kt(p,v+0,16843009*Re(p[v-1-32],E,L)),Kt(p,v+32,16843009*Re(E,L,V)),Kt(p,v+64,16843009*Re(L,V,H)),Kt(p,v+96,16843009*Re(V,H,H))}function Ts(p,v){var E,L=4;for(E=0;4>E;++E)L+=p[v+E-32]+p[v-1+32*E];for(L>>=3,E=0;4>E;++E)s(p,v+32*E,L,4)}function Ki(p,v){var E=p[v-1+0],L=p[v-1+32],V=p[v-1+64],H=p[v-1-32],Y=p[v+0-32],X=p[v+1-32],et=p[v+2-32],ct=p[v+3-32];p[v+0+96]=Re(L,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=Re(E,L,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=Re(H,E,L),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Re(Y,H,E),p[v+3+64]=p[v+2+32]=p[v+1+0]=Re(X,Y,H),p[v+3+32]=p[v+2+0]=Re(et,X,Y),p[v+3+0]=Re(ct,et,X)}function Pi(p,v){var E=p[v+1-32],L=p[v+2-32],V=p[v+3-32],H=p[v+4-32],Y=p[v+5-32],X=p[v+6-32],et=p[v+7-32];p[v+0+0]=Re(p[v+0-32],E,L),p[v+1+0]=p[v+0+32]=Re(E,L,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=Re(L,V,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Re(V,H,Y),p[v+3+32]=p[v+2+64]=p[v+1+96]=Re(H,Y,X),p[v+3+64]=p[v+2+96]=Re(Y,X,et),p[v+3+96]=Re(X,et,et)}function Ys(p,v){var E=p[v-1+0],L=p[v-1+32],V=p[v-1+64],H=p[v-1-32],Y=p[v+0-32],X=p[v+1-32],et=p[v+2-32],ct=p[v+3-32];p[v+0+0]=p[v+1+64]=H+Y+1>>1,p[v+1+0]=p[v+2+64]=Y+X+1>>1,p[v+2+0]=p[v+3+64]=X+et+1>>1,p[v+3+0]=et+ct+1>>1,p[v+0+96]=Re(V,L,E),p[v+0+64]=Re(L,E,H),p[v+0+32]=p[v+1+96]=Re(E,H,Y),p[v+1+32]=p[v+2+96]=Re(H,Y,X),p[v+2+32]=p[v+3+96]=Re(Y,X,et),p[v+3+32]=Re(X,et,ct)}function Mn(p,v){var E=p[v+0-32],L=p[v+1-32],V=p[v+2-32],H=p[v+3-32],Y=p[v+4-32],X=p[v+5-32],et=p[v+6-32],ct=p[v+7-32];p[v+0+0]=E+L+1>>1,p[v+1+0]=p[v+0+64]=L+V+1>>1,p[v+2+0]=p[v+1+64]=V+H+1>>1,p[v+3+0]=p[v+2+64]=H+Y+1>>1,p[v+0+32]=Re(E,L,V),p[v+1+32]=p[v+0+96]=Re(L,V,H),p[v+2+32]=p[v+1+96]=Re(V,H,Y),p[v+3+32]=p[v+2+96]=Re(H,Y,X),p[v+3+64]=Re(Y,X,et),p[v+3+96]=Re(X,et,ct)}function Wr(p,v){var E=p[v-1+0],L=p[v-1+32],V=p[v-1+64],H=p[v-1+96];p[v+0+0]=E+L+1>>1,p[v+2+0]=p[v+0+32]=L+V+1>>1,p[v+2+32]=p[v+0+64]=V+H+1>>1,p[v+1+0]=Re(E,L,V),p[v+3+0]=p[v+1+32]=Re(L,V,H),p[v+3+32]=p[v+1+64]=Re(V,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function Ws(p,v){var E=p[v-1+0],L=p[v-1+32],V=p[v-1+64],H=p[v-1+96],Y=p[v-1-32],X=p[v+0-32],et=p[v+1-32],ct=p[v+2-32];p[v+0+0]=p[v+2+32]=E+Y+1>>1,p[v+0+32]=p[v+2+64]=L+E+1>>1,p[v+0+64]=p[v+2+96]=V+L+1>>1,p[v+0+96]=H+V+1>>1,p[v+3+0]=Re(X,et,ct),p[v+2+0]=Re(Y,X,et),p[v+1+0]=p[v+3+32]=Re(E,Y,X),p[v+1+32]=p[v+3+64]=Re(L,E,Y),p[v+1+64]=p[v+3+96]=Re(V,L,E),p[v+1+96]=Re(H,V,L)}function Ea(p,v){var E;for(E=0;8>E;++E)r(p,v+32*E,p,v-32,8)}function il(p,v){var E;for(E=0;8>E;++E)s(p,v,p[v-1],8),v+=32}function $r(p,v,E){var L;for(L=0;8>L;++L)s(v,E+32*L,p,8)}function cs(p,v){var E,L=8;for(E=0;8>E;++E)L+=p[v+E-32]+p[v-1+32*E];$r(L>>4,p,v)}function Kr(p,v){var E,L=4;for(E=0;8>E;++E)L+=p[v+E-32];$r(L>>3,p,v)}function Ri(p,v){var E,L=4;for(E=0;8>E;++E)L+=p[v-1+32*E];$r(L>>3,p,v)}function ka(p,v){$r(128,p,v)}function ar(p,v,E){var L=p[v-E],V=p[v+0],H=3*(V-L)+no[1020+p[v-2*E]-p[v+E]],Y=zu[112+(H+4>>3)];p[v-E]=Or[255+L+zu[112+(H+3>>3)]],p[v+0]=Or[255+V-Y]}function Ma(p,v,E,L){var V=p[v+0],H=p[v+E];return _r[255+p[v-2*E]-p[v-E]]>L||_r[255+H-V]>L}function Cs(p,v,E,L){return 4*_r[255+p[v-E]-p[v+0]]+_r[255+p[v-2*E]-p[v+E]]<=L}function Oa(p,v,E,L,V){var H=p[v-3*E],Y=p[v-2*E],X=p[v-E],et=p[v+0],ct=p[v+E],yt=p[v+2*E],Rt=p[v+3*E];return 4*_r[255+X-et]+_r[255+Y-ct]>L?0:_r[255+p[v-4*E]-H]<=V&&_r[255+H-Y]<=V&&_r[255+Y-X]<=V&&_r[255+Rt-yt]<=V&&_r[255+yt-ct]<=V&&_r[255+ct-et]<=V}function Pa(p,v,E,L){var V=2*L+1;for(L=0;16>L;++L)Cs(p,v+L,E,V)&&ar(p,v+L,E)}function ca(p,v,E,L){var V=2*L+1;for(L=0;16>L;++L)Cs(p,v+L*E,1,V)&&ar(p,v+L*E,1)}function $s(p,v,E,L){var V;for(V=3;0<V;--V)Pa(p,v+=4*E,E,L)}function Ao(p,v,E,L){var V;for(V=3;0<V;--V)ca(p,v+=4,E,L)}function Qr(p,v,E,L,V,H,Y,X){for(H=2*H+1;0<V--;){if(Oa(p,v,E,H,Y))if(Ma(p,v,E,X))ar(p,v,E);else{var et=p,ct=v,yt=E,Rt=et[ct-2*yt],lt=et[ct-yt],xt=et[ct+0],Et=et[ct+yt],zt=et[ct+2*yt],Tt=27*(Ut=no[1020+3*(xt-lt)+no[1020+Rt-Et]])+63>>7,Pt=18*Ut+63>>7,Ut=9*Ut+63>>7;et[ct-3*yt]=Or[255+et[ct-3*yt]+Ut],et[ct-2*yt]=Or[255+Rt+Pt],et[ct-yt]=Or[255+lt+Tt],et[ct+0]=Or[255+xt-Tt],et[ct+yt]=Or[255+Et-Pt],et[ct+2*yt]=Or[255+zt-Ut]}v+=L}}function za(p,v,E,L,V,H,Y,X){for(H=2*H+1;0<V--;){if(Oa(p,v,E,H,Y))if(Ma(p,v,E,X))ar(p,v,E);else{var et=p,ct=v,yt=E,Rt=et[ct-yt],lt=et[ct+0],xt=et[ct+yt],Et=zu[112+(4+(zt=3*(lt-Rt))>>3)],zt=zu[112+(zt+3>>3)],Tt=Et+1>>1;et[ct-2*yt]=Or[255+et[ct-2*yt]+Tt],et[ct-yt]=Or[255+Rt+zt],et[ct+0]=Or[255+lt-Et],et[ct+yt]=Or[255+xt-Tt]}v+=L}}function rl(p,v,E,L,V,H){Qr(p,v,E,1,16,L,V,H)}function Ta(p,v,E,L,V,H){Qr(p,v,1,E,16,L,V,H)}function Eo(p,v,E,L,V,H){var Y;for(Y=3;0<Y;--Y)za(p,v+=4*E,E,1,16,L,V,H)}function S(p,v,E,L,V,H){var Y;for(Y=3;0<Y;--Y)za(p,v+=4,1,E,16,L,V,H)}function U(p,v,E,L,V,H,Y,X){Qr(p,v,V,1,8,H,Y,X),Qr(E,L,V,1,8,H,Y,X)}function ut(p,v,E,L,V,H,Y,X){Qr(p,v,1,V,8,H,Y,X),Qr(E,L,1,V,8,H,Y,X)}function pt(p,v,E,L,V,H,Y,X){za(p,v+4*V,V,1,8,H,Y,X),za(E,L+4*V,V,1,8,H,Y,X)}function _t(p,v,E,L,V,H,Y,X){za(p,v+4,1,V,8,H,Y,X),za(E,L+4,1,V,8,H,Y,X)}function Ft(){this.ba=new we,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function de(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new mt,this.yc=new I}function Le(){this.xb=this.a=0,this.l=new rr,this.ca=new we,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new de,this.ab=0,this.gc=u(4,le),this.Oc=0}function Ee(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(p,v,E,L,V,H,Y){for(p=p==null?0:p[v+0],v=0;v<Y;++v)V[H+v]=p+E[L+v]&255,p=V[H+v]}function Zn(p,v,E,L,V,H,Y){var X;if(p==null)fn(null,null,E,L,V,H,Y);else for(X=0;X<Y;++X)V[H+X]=p[v+X]+E[L+X]&255}function qn(p,v,E,L,V,H,Y){if(p==null)fn(null,null,E,L,V,H,Y);else{var X,et=p[v+0],ct=et,yt=et;for(X=0;X<Y;++X)ct=yt+(et=p[v+X])-ct,yt=E[L+X]+(-256&ct?0>ct?0:255:ct)&255,ct=et,V[H+X]=yt}}function g(p,v,E,L){var V=v.width,H=v.o;if(t(p!=null&&v!=null),0>E||0>=L||E+L>H)return null;if(!p.Cc){if(p.ga==null){var Y;if(p.ga=new Ee,(Y=p.ga==null)||(Y=v.width*v.o,t(p.Gb.length==0),p.Gb=o(Y),p.Uc=0,p.Gb==null?Y=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Y=1),Y=!Y),!Y){Y=p.ga;var X=p.Fa,et=p.P,ct=p.qc,yt=p.mb,Rt=p.nb,lt=et+1,xt=ct-1,Et=Y.l;if(t(X!=null&&yt!=null&&v!=null),io[0]=null,io[1]=fn,io[2]=Zn,io[3]=qn,Y.ca=yt,Y.tb=Rt,Y.c=v.width,Y.i=v.height,t(0<Y.c&&0<Y.i),1>=ct)v=0;else if(Y.$a=3&X[et+0],Y.Z=X[et+0]>>2&3,Y.Lc=X[et+0]>>4&3,et=X[et+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||et)v=0;else if(Et.put=Ae,Et.ac=Wi,Et.bc=rs,Et.ma=Y,Et.width=v.width,Et.height=v.height,Et.Da=v.Da,Et.v=v.v,Et.va=v.va,Et.j=v.j,Et.o=v.o,Y.$a)t:{t(Y.$a==1),v=ws();e:for(;;){if(v==null){v=0;break t}if(t(Y!=null),Y.mc=v,v.c=Y.c,v.i=Y.i,v.l=Y.l,v.l.ma=Y,v.l.width=Y.c,v.l.height=Y.i,v.a=0,bt(v.m,X,lt,xt),!wa(Y.c,Y.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&kn(v.s)?(Y.ic=1,X=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(X),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Y.ic=0,v=Lr(v,Y.c)),!v))break e;v=1;break t}Y.mc=null,v=0}else v=xt>=Y.c*Y.i;Y=!v}if(Y)return null;p.ga.Lc!=1?p.Ga=0:L=H-E}t(p.ga!=null),t(E+L<=H);t:{if(v=(X=p.ga).c,H=X.l.o,X.$a==0){if(lt=p.rc,xt=p.Vc,Et=p.Fa,et=p.P+1+E*v,ct=p.mb,yt=p.nb+E*v,t(et<=p.P+p.qc),X.Z!=0)for(t(io[X.Z]!=null),Y=0;Y<L;++Y)io[X.Z](lt,xt,Et,et,ct,yt,v),lt=ct,xt=yt,yt+=v,et+=v;else for(Y=0;Y<L;++Y)r(ct,yt,Et,et,v),lt=ct,xt=yt,yt+=v,et+=v;p.rc=lt,p.Vc=xt}else{if(t(X.mc!=null),v=E+L,t((Y=X.mc)!=null),t(v<=Y.i),Y.C>=v)v=1;else if(X.ic||jt(),X.ic){X=Y.V,lt=Y.Ba,xt=Y.c;var zt=Y.i,Tt=(Et=1,et=Y.$/xt,ct=Y.$%xt,yt=Y.m,Rt=Y.s,Y.$),Pt=xt*zt,Ut=xt*v,Qt=Rt.wc,Yt=Tt<Ut?Mi(Rt,ct,et):null;t(Tt<=Pt),t(v<=zt),t(kn(Rt));e:for(;;){for(;!yt.h&&Tt<Ut;){if(ct&Qt||(Yt=Mi(Rt,ct,et)),t(Yt!=null),gt(yt),256>(zt=Vn(Yt.G[0],Yt.H[0],yt)))X[lt+Tt]=zt,++Tt,++ct>=xt&&(ct=0,++et<=v&&!(et%16)&&Oi(Y,et));else{if(!(280>zt)){Et=0;break e}zt=Nr(zt-256,yt);var pe,se=Vn(Yt.G[4],Yt.H[4],yt);if(gt(yt),!(Tt>=(se=Rr(xt,se=Nr(se,yt)))&&Pt-Tt>=zt)){Et=0;break e}for(pe=0;pe<zt;++pe)X[lt+Tt+pe]=X[lt+Tt+pe-se];for(Tt+=zt,ct+=zt;ct>=xt;)ct-=xt,++et<=v&&!(et%16)&&Oi(Y,et);Tt<Ut&&ct&Qt&&(Yt=Mi(Rt,ct,et))}t(yt.h==K(yt))}Oi(Y,et>v?v:et);break e}!Et||yt.h&&Tt<Pt?(Et=0,Y.a=yt.h?5:3):Y.$=Tt,v=Et}else v=Ir(Y,Y.V,Y.Ba,Y.c,Y.i,v,as);if(!v){L=0;break t}}E+L>=H&&(p.Cc=1),L=1}if(!L)return null;if(p.Cc&&((L=p.ga)!=null&&(L.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*V}function C(p,v,E,L,V,H){for(;0<V--;){var Y,X=p,et=v+(E?1:0),ct=p,yt=v+(E?0:3);for(Y=0;Y<L;++Y){var Rt=ct[yt+4*Y];Rt!=255&&(Rt*=32897,X[et+4*Y+0]=X[et+4*Y+0]*Rt>>23,X[et+4*Y+1]=X[et+4*Y+1]*Rt>>23,X[et+4*Y+2]=X[et+4*Y+2]*Rt>>23)}v+=H}}function j(p,v,E,L,V){for(;0<L--;){var H;for(H=0;H<E;++H){var Y=p[v+2*H+0],X=15&(ct=p[v+2*H+1]),et=4369*X,ct=(240&ct|ct>>4)*et>>16;p[v+2*H+0]=(240&Y|Y>>4)*et>>16&240|(15&Y|Y<<4)*et>>16>>4&15,p[v+2*H+1]=240&ct|X}v+=V}}function Z(p,v,E,L,V,H,Y,X){var et,ct,yt=255;for(ct=0;ct<V;++ct){for(et=0;et<L;++et){var Rt=p[v+et];H[Y+4*et]=Rt,yt&=Rt}v+=E,Y+=X}return yt!=255}function At(p,v,E,L,V){var H;for(H=0;H<V;++H)E[L+H]=p[v+H]>>8}function jt(){ol=C,Ba=j,Mu=Z,Ia=At}function Xt(p,v,E){w[p]=function(L,V,H,Y,X,et,ct,yt,Rt,lt,xt,Et,zt,Tt,Pt,Ut,Qt){var Yt,pe=Qt-1>>1,se=X[et+0]|ct[yt+0]<<16,He=Rt[lt+0]|xt[Et+0]<<16;t(L!=null);var he=3*se+He+131074>>2;for(v(L[V+0],255&he,he>>16,zt,Tt),H!=null&&(he=3*He+se+131074>>2,v(H[Y+0],255&he,he>>16,Pt,Ut)),Yt=1;Yt<=pe;++Yt){var dn=X[et+Yt]|ct[yt+Yt]<<16,oi=Rt[lt+Yt]|xt[Et+Yt]<<16,Je=se+dn+He+oi+524296,oe=Je+2*(dn+He)>>3;he=oe+se>>1,se=(Je=Je+2*(se+oi)>>3)+dn>>1,v(L[V+2*Yt-1],255&he,he>>16,zt,Tt+(2*Yt-1)*E),v(L[V+2*Yt-0],255&se,se>>16,zt,Tt+(2*Yt-0)*E),H!=null&&(he=Je+He>>1,se=oe+oi>>1,v(H[Y+2*Yt-1],255&he,he>>16,Pt,Ut+(2*Yt-1)*E),v(H[Y+2*Yt+0],255&se,se>>16,Pt,Ut+(2*Yt+0)*E)),se=dn,He=oi}1&Qt||(he=3*se+He+131074>>2,v(L[V+Qt-1],255&he,he>>16,zt,Tt+(Qt-1)*E),H!=null&&(he=3*He+se+131074>>2,v(H[Y+Qt-1],255&he,he>>16,Pt,Ut+(Qt-1)*E)))}}function Ve(){Sr[Sc]=cl,Sr[Pr]=Gl,Sr[Ac]=zh,Sr[Ua]=Rc,Sr[Fu]=Io,Sr[Vl]=Os,Sr[Co]=Lo,Sr[Bu]=Gl,Sr[Ec]=Rc,Sr[ql]=Io,Sr[Tc]=Os}function Jn(p){return p&-16384?0>p?0:255:p>>Ic}function ln(p,v){return Jn((19077*p>>8)+(26149*v>>8)-14234)}function On(p,v,E){return Jn((19077*p>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function sr(p,v){return Jn((19077*p>>8)+(33050*v>>8)-17685)}function vr(p,v,E,L,V){L[V+0]=ln(p,E),L[V+1]=On(p,v,E),L[V+2]=sr(p,v)}function Yn(p,v,E,L,V){L[V+0]=sr(p,v),L[V+1]=On(p,v,E),L[V+2]=ln(p,E)}function br(p,v,E,L,V){var H=On(p,v,E);v=H<<3&224|sr(p,v)>>3,L[V+0]=248&ln(p,E)|H>>5,L[V+1]=v}function Ca(p,v,E,L,V){var H=240&sr(p,v)|15;L[V+0]=240&ln(p,E)|On(p,v,E)>>4,L[V+1]=H}function Ns(p,v,E,L,V){L[V+0]=255,vr(p,v,E,L,V+1)}function Rs(p,v,E,L,V){Yn(p,v,E,L,V),L[V+3]=255}function Xr(p,v,E,L,V){vr(p,v,E,L,V),L[V+3]=255}function Ks(p,v,E){w[p]=function(L,V,H,Y,X,et,ct,yt,Rt){for(var lt=yt+(-2&Rt)*E;yt!=lt;)v(L[V+0],H[Y+0],X[et+0],ct,yt),v(L[V+1],H[Y+0],X[et+0],ct,yt+E),V+=2,++Y,++et,yt+=2*E;1&Rt&&v(L[V+0],H[Y+0],X[et+0],ct,yt)}}function Pl(p,v,E){return E==0?p==0?v==0?6:5:v==0?4:0:E}function Du(p,v,E,L,V){switch(p>>>30){case 3:eo(v,E,L,V,0);break;case 2:Mr(v,E,L,V);break;case 1:Ln(v,E,L,V)}}function Na(p,v){var E,L,V=v.M,H=v.Nb,Y=p.oc,X=p.pc+40,et=p.oc,ct=p.pc+584,yt=p.oc,Rt=p.pc+600;for(E=0;16>E;++E)Y[X+32*E-1]=129;for(E=0;8>E;++E)et[ct+32*E-1]=129,yt[Rt+32*E-1]=129;for(0<V?Y[X-1-32]=et[ct-1-32]=yt[Rt-1-32]=129:(s(Y,X-32-1,127,21),s(et,ct-32-1,127,9),s(yt,Rt-32-1,127,9)),L=0;L<p.za;++L){var lt=v.ya[v.aa+L];if(0<L){for(E=-1;16>E;++E)r(Y,X+32*E-4,Y,X+32*E+12,4);for(E=-1;8>E;++E)r(et,ct+32*E-4,et,ct+32*E+4,4),r(yt,Rt+32*E-4,yt,Rt+32*E+4,4)}var xt=p.Gd,Et=p.Hd+L,zt=lt.ad,Tt=lt.Hc;if(0<V&&(r(Y,X-32,xt[Et].y,0,16),r(et,ct-32,xt[Et].f,0,8),r(yt,Rt-32,xt[Et].ea,0,8)),lt.Za){var Pt=Y,Ut=X-32+16;for(0<V&&(L>=p.za-1?s(Pt,Ut,xt[Et].y[15],4):r(Pt,Ut,xt[Et+1].y,0,4)),E=0;4>E;E++)Pt[Ut+128+E]=Pt[Ut+256+E]=Pt[Ut+384+E]=Pt[Ut+0+E];for(E=0;16>E;++E,Tt<<=2)Pt=Y,Ut=X+Di[E],Si[lt.Ob[E]](Pt,Ut),Du(Tt,zt,16*+E,Pt,Ut)}else if(Pt=Pl(L,V,lt.Ob[0]),Jr[Pt](Y,X),Tt!=0)for(E=0;16>E;++E,Tt<<=2)Du(Tt,zt,16*+E,Y,X+Di[E]);for(E=lt.Gc,Pt=Pl(L,V,lt.Dd),ps[Pt](et,ct),ps[Pt](yt,Rt),Tt=zt,Pt=et,Ut=ct,255&(lt=0|E)&&(170&lt?Fa(Tt,256,Pt,Ut):Sn(Tt,256,Pt,Ut)),lt=yt,Tt=Rt,255&(E>>=8)&&(170&E?Fa(zt,320,lt,Tt):Sn(zt,320,lt,Tt)),V<p.Ub-1&&(r(xt[Et].y,0,Y,X+480,16),r(xt[Et].f,0,et,ct+224,8),r(xt[Et].ea,0,yt,Rt+224,8)),E=8*H*p.B,xt=p.sa,Et=p.ta+16*L+16*H*p.R,zt=p.qa,lt=p.ra+8*L+E,Tt=p.Ha,Pt=p.Ia+8*L+E,E=0;16>E;++E)r(xt,Et+E*p.R,Y,X+32*E,16);for(E=0;8>E;++E)r(zt,lt+E*p.B,et,ct+32*E,8),r(Tt,Pt+E*p.B,yt,Rt+32*E,8)}}function hs(p,v,E,L,V,H,Y,X,et){var ct=[0],yt=[0],Rt=0,lt=et!=null?et.kd:0,xt=et??new Wt;if(p==null||12>E)return 7;xt.data=p,xt.w=v,xt.ha=E,v=[v],E=[E],xt.gb=[xt.gb];t:{var Et=v,zt=E,Tt=xt.gb;if(t(p!=null),t(zt!=null),t(Tt!=null),Tt[0]=0,12<=zt[0]&&!e(p,Et[0],"RIFF")){if(e(p,Et[0]+8,"WEBP")){Tt=3;break t}var Pt=ce(p,Et[0]+4);if(12>Pt||4294967286<Pt){Tt=3;break t}if(lt&&Pt>zt[0]-8){Tt=7;break t}Tt[0]=Pt,Et[0]+=12,zt[0]-=12}Tt=0}if(Tt!=0)return Tt;for(Pt=0<xt.gb[0],E=E[0];;){t:{var Ut=p;zt=v,Tt=E;var Qt=ct,Yt=yt,pe=Et=[0];if((he=Rt=[Rt])[0]=0,8>Tt[0])Tt=7;else{if(!e(Ut,zt[0],"VP8X")){if(ce(Ut,zt[0]+4)!=10){Tt=3;break t}if(18>Tt[0]){Tt=7;break t}var se=ce(Ut,zt[0]+8),He=1+ee(Ut,zt[0]+12);if(2147483648<=He*(Ut=1+ee(Ut,zt[0]+15))){Tt=3;break t}pe!=null&&(pe[0]=se),Qt!=null&&(Qt[0]=He),Yt!=null&&(Yt[0]=Ut),zt[0]+=18,Tt[0]-=18,he[0]=1}Tt=0}}if(Rt=Rt[0],Et=Et[0],Tt!=0)return Tt;if(zt=!!(2&Et),!Pt&&Rt)return 3;if(H!=null&&(H[0]=!!(16&Et)),Y!=null&&(Y[0]=zt),X!=null&&(X[0]=0),Y=ct[0],Et=yt[0],Rt&&zt&&et==null){Tt=0;break}if(4>E){Tt=7;break}if(Pt&&Rt||!Pt&&!Rt&&!e(p,v[0],"ALPH")){E=[E],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{se=p,Tt=v,Pt=E;var he=xt.gb;Qt=xt.na,Yt=xt.P,pe=xt.Sa,He=22,t(se!=null),t(Pt!=null),Ut=Tt[0];var dn=Pt[0];for(t(Qt!=null),t(pe!=null),Qt[0]=null,Yt[0]=null,pe[0]=0;;){if(Tt[0]=Ut,Pt[0]=dn,8>dn){Tt=7;break t}var oi=ce(se,Ut+4);if(4294967286<oi){Tt=3;break t}var Je=8+oi+1&-2;if(He+=Je,0<he&&He>he){Tt=3;break t}if(!e(se,Ut,"VP8 ")||!e(se,Ut,"VP8L")){Tt=0;break t}if(dn[0]<Je){Tt=7;break t}e(se,Ut,"ALPH")||(Qt[0]=se,Yt[0]=Ut+8,pe[0]=oi),Ut+=Je,dn-=Je}}if(E=E[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],Tt!=0)break}E=[E],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(he=p,Tt=v,Pt=E,Qt=xt.gb[0],Yt=xt.Ja,pe=xt.xa,se=Tt[0],Ut=!e(he,se,"VP8 "),He=!e(he,se,"VP8L"),t(he!=null),t(Pt!=null),t(Yt!=null),t(pe!=null),8>Pt[0])Tt=7;else{if(Ut||He){if(he=ce(he,se+4),12<=Qt&&he>Qt-12){Tt=3;break t}if(lt&&he>Pt[0]-8){Tt=7;break t}Yt[0]=he,Tt[0]+=8,Pt[0]-=8,pe[0]=He}else pe[0]=5<=Pt[0]&&he[se+0]==47&&!(he[se+4]>>5),Yt[0]=Pt[0];Tt=0}if(E=E[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],v=v[0],Tt!=0)break;if(4294967286<xt.Ja)return 3;if(X==null||zt||(X[0]=xt.xa?2:1),Y=[Y],Et=[Et],xt.xa){if(5>E){Tt=7;break}X=Y,lt=Et,zt=H,p==null||5>E?p=0:5<=E&&p[v+0]==47&&!(p[v+4]>>5)?(Pt=[0],he=[0],Qt=[0],bt(Yt=new z,p,v,E),qr(Yt,Pt,he,Qt)?(X!=null&&(X[0]=Pt[0]),lt!=null&&(lt[0]=he[0]),zt!=null&&(zt[0]=Qt[0]),p=1):p=0):p=0}else{if(10>E){Tt=7;break}X=Et,p==null||10>E||!ss(p,v+3,E-3)?p=0:(lt=p[v+0]|p[v+1]<<8|p[v+2]<<16,zt=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&lt||3<(lt>>1&7)||!(lt>>4&1)||lt>>5>=xt.Ja||!zt||!p?p=0:(Y&&(Y[0]=zt),X&&(X[0]=p),p=1))}if(!p||(Y=Y[0],Et=Et[0],Rt&&(ct[0]!=Y||yt[0]!=Et)))return 3;et!=null&&(et[0]=xt,et.offset=v-et.w,t(4294967286>v-et.w),t(et.offset==et.ha-E));break}return Tt==0||Tt==7&&Rt&&et==null?(H!=null&&(H[0]|=xt.na!=null&&0<xt.na.length),L!=null&&(L[0]=Y),V!=null&&(V[0]=Et),0):Tt}function Qs(p,v,E){var L=v.width,V=v.height,H=0,Y=0,X=L,et=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(X=p.cd,et=p.bd,H=p.v,Y=p.j,11>E||(H&=-2,Y&=-2),0>H||0>Y||0>=X||0>=et||H+X>L||Y+et>V))return 0;if(v.v=H,v.j=Y,v.va=H+X,v.o=Y+et,v.U=X,v.T=et,v.da=p!=null&&0<p.da,v.da){if(!Te(X,et,E=[p.ib],H=[p.hb]))return 0;v.ib=E[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*L/4&&v.hb<3*V/4,v.Kb=0),1}function ju(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function fs(p,v,E,L){if(L==null||0>=p||0>=v)return 2;if(E!=null){if(E.Da){var V=E.cd,H=E.bd,Y=-2&E.v,X=-2&E.j;if(0>Y||0>X||0>=V||0>=H||Y+V>p||X+H>v)return 2;p=V,v=H}if(E.da){if(!Te(p,v,V=[E.ib],H=[E.hb]))return 2;p=V[0],v=H[0]}}L.width=p,L.height=v;t:{var et=L.width,ct=L.height;if(p=L.S,0>=et||0>=ct||!(p>=Sc&&13>p))p=2;else{if(0>=L.Rd&&L.sd==null){Y=H=V=v=0;var yt=(X=et*Dc[p])*ct;if(11>p||(H=(ct+1)/2*(v=(et+1)/2),p==12&&(Y=(V=et)*ct)),(ct=o(yt+2*H+Y))==null){p=1;break t}L.sd=ct,11>p?((et=L.f.RGBA).eb=ct,et.fb=0,et.A=X,et.size=yt):((et=L.f.kb).y=ct,et.O=0,et.fa=X,et.Fd=yt,et.f=ct,et.N=0+yt,et.Ab=v,et.Cd=H,et.ea=ct,et.W=0+yt+H,et.Db=v,et.Ed=H,p==12&&(et.F=ct,et.J=0+yt+2*H),et.Tc=Y,et.lb=V)}if(v=1,V=L.S,H=L.width,Y=L.height,V>=Sc&&13>V)if(11>V)p=L.f.RGBA,v&=(X=Math.abs(p.A))*(Y-1)+H<=p.size,v&=X>=H*Dc[V],v&=p.eb!=null;else{p=L.f.kb,X=(H+1)/2,yt=(Y+1)/2,et=Math.abs(p.fa),ct=Math.abs(p.Ab);var Rt=Math.abs(p.Db),lt=Math.abs(p.lb),xt=lt*(Y-1)+H;v&=et*(Y-1)+H<=p.Fd,v&=ct*(yt-1)+X<=p.Cd,v=(v&=Rt*(yt-1)+X<=p.Ed)&et>=H&ct>=X&Rt>=X,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=lt>=H,v&=xt<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||E!=null&&E.fd&&(p=ju(L)),p}var To=64,ha=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zr=24,Is=32,Ls=8,Xs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(p){return p},w.Predictor2=function(p,v,E){return v[E+0]},w.Predictor3=function(p,v,E){return v[E+1]},w.Predictor4=function(p,v,E){return v[E-1]},w.Predictor5=function(p,v,E){return _e(_e(p,v[E+1]),v[E+0])},w.Predictor6=function(p,v,E){return _e(p,v[E-1])},w.Predictor7=function(p,v,E){return _e(p,v[E+0])},w.Predictor8=function(p,v,E){return _e(v[E-1],v[E+0])},w.Predictor9=function(p,v,E){return _e(v[E+0],v[E+1])},w.Predictor10=function(p,v,E){return _e(_e(p,v[E-1]),_e(v[E+0],v[E+1]))},w.Predictor11=function(p,v,E){var L=v[E+0];return 0>=Be(L>>24&255,p>>24&255,(v=v[E-1])>>24&255)+Be(L>>16&255,p>>16&255,v>>16&255)+Be(L>>8&255,p>>8&255,v>>8&255)+Be(255&L,255&p,255&v)?L:p},w.Predictor12=function(p,v,E){var L=v[E+0];return(We((p>>24&255)+(L>>24&255)-((v=v[E-1])>>24&255))<<24|We((p>>16&255)+(L>>16&255)-(v>>16&255))<<16|We((p>>8&255)+(L>>8&255)-(v>>8&255))<<8|We((255&p)+(255&L)-(255&v)))>>>0},w.Predictor13=function(p,v,E){var L=v[E-1];return(Ze((p=_e(p,v[E+0]))>>24&255,L>>24&255)<<24|Ze(p>>16&255,L>>16&255)<<16|Ze(p>>8&255,L>>8&255)<<8|Ze(255&p,255&L))>>>0};var zl=w.PredictorAdd0;w.PredictorAdd1=an,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var Fl=w.PredictorAdd2;ve("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ii,xc=w.ColorIndexInverseTransform,Ds=w.MapARGB,js=w.VP8LColorIndexInverseTransformAlpha,xr=w.MapAlpha,Zs=w.VP8LPredictorsAdd=[];Zs.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Bl,Ul,Js,to,ks,al,Ra,eo,Mr,Fa,Ln,Sn,ti,Li,Ms,ds,sl,ku,jh,ed,nd,id,kh,Mh,ol,Ba,Mu,Ia,ll=o(511),_c=o(2041),Ou=o(225),Pu=o(767),wc=0,no=_c,zu=Ou,Or=Pu,_r=ll,Sc=0,Pr=1,Ac=2,Ua=3,Fu=4,Vl=5,Co=6,Bu=7,Ec=8,ql=9,Tc=10,Va=[2,3,7],Hl=[3,3,11],ul=[280,256,256,256,40],Cc=[0,1,1,1,0],Uu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ha=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],No=8,Ga=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ya=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],La=null,rd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Oh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ad=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jr=[],Si=[],ps=[],Ro=1,Ph=2,io=[],Sr=[];Xt("UpsampleRgbLinePair",vr,3),Xt("UpsampleBgrLinePair",Yn,3),Xt("UpsampleRgbaLinePair",Xr,4),Xt("UpsampleBgraLinePair",Rs,4),Xt("UpsampleArgbLinePair",Ns,4),Xt("UpsampleRgba4444LinePair",Ca,2),Xt("UpsampleRgb565LinePair",br,2);var cl=w.UpsampleRgbLinePair,zh=w.UpsampleBgrLinePair,Gl=w.UpsampleRgbaLinePair,Rc=w.UpsampleBgraLinePair,Io=w.UpsampleArgbLinePair,Os=w.UpsampleRgba4444LinePair,Lo=w.UpsampleRgb565LinePair,Wa=16,Yl=1<<Wa-1,hl=-227,Do=482,Ic=6,jo=0,Ar=o(256),Lc=o(256),sd=o(256),h1=o(256),f1=o(Do-hl),d1=o(Do-hl);Ks("YuvToRgbRow",vr,3),Ks("YuvToBgrRow",Yn,3),Ks("YuvToRgbaRow",Xr,4),Ks("YuvToBgraRow",Rs,4),Ks("YuvToArgbRow",Ns,4),Ks("YuvToRgba4444Row",Ca,2),Ks("YuvToRgb565Row",br,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wl=[0,2,8],Vu=[8,7,6,4,4,2,2,2,1,1,1,1],qu=1;this.WebPDecodeRGBA=function(p,v,E,L,V){var H=Pr,Y=new Ft,X=new we;Y.ba=X,X.S=H,X.width=[X.width],X.height=[X.height];var et=X.width,ct=X.height,yt=new be;if(yt==null||p==null)var Rt=2;else t(yt!=null),Rt=hs(p,v,E,yt.width,yt.height,yt.Pd,yt.Qd,yt.format,null);if(Rt!=0?et=0:(et!=null&&(et[0]=yt.width[0]),ct!=null&&(ct[0]=yt.height[0]),et=1),et){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),V!=null&&(V[0]=X.height);t:{if(L=new rr,(V=new Wt).data=p,V.w=v,V.ha=E,V.kd=1,v=[0],t(V!=null),((p=hs(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(Y!=null),L.data=V.data,L.w=V.w+V.offset,L.ha=V.ha-V.offset,L.put=Ae,L.ac=Wi,L.bc=rs,L.ma=Y,V.xa){if((p=ws())==null){Y=1;break t}if((function(lt,xt){var Et=[0],zt=[0],Tt=[0];e:for(;;){if(lt==null)return 0;if(xt==null)return lt.a=2,0;if(lt.l=xt,lt.a=0,bt(lt.m,xt.data,xt.w,xt.ha),!qr(lt.m,Et,zt,Tt)){lt.a=3;break e}if(lt.xb=Ph,xt.width=Et[0],xt.height=zt[0],!wa(Et[0],zt[0],1,lt,null))break e;return 1}return t(lt.a!=0),0})(p,L)){if(L=(v=fs(L.width,L.height,Y.Oa,Y.ba))==0){e:{L=p;n:for(;;){if(L==null){L=0;break e}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((E=L.l)!=null),t((V=E.ma)!=null),L.xb!=0){if(L.ca=V.ba,L.tb=V.tb,t(L.ca!=null),!Qs(V.Oa,E,Ua)){L.a=2;break n}if(!Lr(L,E.width)||E.da)break n;if((E.da||Me(L.ca.S))&&jt(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&jt()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!ot(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Ir(L,L.V,L.Ba,L.c,L.i,E.o,ir))break n;V.Dc=L.Ma,L=1;break e}t(L.a!=0),L=0}L=!L}L&&(v=p.a)}else v=p.a}else{if((p=new _i)==null){Y=1;break t}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,ua(p,L)){if((v=fs(L.width,L.height,Y.Oa,Y.ba))==0){if(p.Aa=0,E=Y.Oa,t((V=p)!=null),E!=null){if(0<(et=0>(et=E.Md)?0:100<et?255:255*et/100)){for(ct=yt=0;4>ct;++ct)12>(Rt=V.pb[ct]).lc&&(Rt.ia=et*Vu[0>Rt.lc?0:Rt.lc]>>3),yt|=Rt.ia;yt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=E.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(lt,xt){if(lt==null)return 0;if(xt==null)return cn(lt,2,"NULL VP8Io parameter in VP8Decode().");if(!lt.cb&&!ua(lt,xt))return 0;if(t(lt.cb),xt.ac==null||xt.ac(xt)){xt.ob&&(lt.L=0);var Et=Wl[lt.L];if(lt.L==2?(lt.yb=0,lt.zb=0):(lt.yb=xt.v-Et>>4,lt.zb=xt.j-Et>>4,0>lt.yb&&(lt.yb=0),0>lt.zb&&(lt.zb=0)),lt.Va=xt.o+15+Et>>4,lt.Hb=xt.va+15+Et>>4,lt.Hb>lt.za&&(lt.Hb=lt.za),lt.Va>lt.Ub&&(lt.Va=lt.Ub),0<lt.L){var zt=lt.ed;for(Et=0;4>Et;++Et){var Tt;if(lt.Qa.Cb){var Pt=lt.Qa.Lb[Et];lt.Qa.Fb||(Pt+=zt.Tb)}else Pt=zt.Tb;for(Tt=0;1>=Tt;++Tt){var Ut=lt.gd[Et][Tt],Qt=Pt;if(zt.Pc&&(Qt+=zt.vd[0],Tt&&(Qt+=zt.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Yt=Qt;0<zt.wb&&(Yt=4<zt.wb?Yt>>2:Yt>>1)>9-zt.wb&&(Yt=9-zt.wb),1>Yt&&(Yt=1),Ut.dd=Yt,Ut.tc=2*Qt+Yt,Ut.ld=40<=Qt?2:15<=Qt?1:0}else Ut.tc=0;Ut.La=Tt}}}Et=0}else cn(lt,6,"Frame setup failed"),Et=lt.a;if(Et=Et==0){if(Et){lt.$c=0,0<lt.Aa||(lt.Ic=qu);e:{Et=lt.Ic,zt=4*(Yt=lt.za);var pe=32*Yt,se=Yt+1,He=0<lt.L?Yt*(0<lt.Aa?2:1):0,he=(lt.Aa==2?2:1)*Yt;if((Ut=zt+832+(Tt=3*(16*Et+Wl[lt.L])/2*pe)+(Pt=lt.Fa!=null&&0<lt.Fa.length?lt.Kc.c*lt.Kc.i:0))!=Ut)Et=0;else{if(Ut>lt.Vb){if(lt.Vb=0,lt.Ec=o(Ut),lt.Fc=0,lt.Ec==null){Et=cn(lt,1,"no memory during frame initialization.");break e}lt.Vb=Ut}Ut=lt.Ec,Qt=lt.Fc,lt.Ac=Ut,lt.Bc=Qt,Qt+=zt,lt.Gd=u(pe,xo),lt.Hd=0,lt.rb=u(se+1,la),lt.sb=1,lt.wa=He?u(He,Dr):null,lt.Y=0,lt.D.Nb=0,lt.D.wa=lt.wa,lt.D.Y=lt.Y,0<lt.Aa&&(lt.D.Y+=Yt),t(!0),lt.oc=Ut,lt.pc=Qt,Qt+=832,lt.ya=u(he,qs),lt.aa=0,lt.D.ya=lt.ya,lt.D.aa=lt.aa,lt.Aa==2&&(lt.D.aa+=Yt),lt.R=16*Yt,lt.B=8*Yt,Yt=(pe=Wl[lt.L])*lt.R,pe=pe/2*lt.B,lt.sa=Ut,lt.ta=Qt+Yt,lt.qa=lt.sa,lt.ra=lt.ta+16*Et*lt.R+pe,lt.Ha=lt.qa,lt.Ia=lt.ra+8*Et*lt.B+pe,lt.$c=0,Qt+=Tt,lt.mb=Pt?Ut:null,lt.nb=Pt?Qt:null,t(Qt+Pt<=lt.Fc+lt.Vb),Ss(lt),s(lt.Ac,lt.Bc,0,zt),Et=1}}if(Et){if(xt.ka=0,xt.y=lt.sa,xt.O=lt.ta,xt.f=lt.qa,xt.N=lt.ra,xt.ea=lt.Ha,xt.Vd=lt.Ia,xt.fa=lt.R,xt.Rc=lt.B,xt.F=null,xt.J=0,!wc){for(Et=-255;255>=Et;++Et)ll[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)_c[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)Ou[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)Pu[255+Et]=0>Et?0:255<Et?255:Et;wc=1}Ra=$i,eo=Jo,Fa=yr,Ln=tl,Sn=os,Mr=Ol,ti=rl,Li=Ta,Ms=U,ds=ut,sl=Eo,ku=S,jh=pt,ed=_t,nd=Pa,id=ca,kh=$s,Mh=Ao,Si[0]=Ts,Si[1]=el,Si[2]=Gs,Si[3]=So,Si[4]=Ki,Si[5]=Ys,Si[6]=Pi,Si[7]=Mn,Si[8]=Ws,Si[9]=Wr,Jr[0]=Aa,Jr[1]=_o,Jr[2]=wo,Jr[3]=ls,Jr[4]=us,Jr[5]=kr,Jr[6]=Es,ps[0]=cs,ps[1]=nl,ps[2]=Ea,ps[3]=il,ps[4]=Ri,ps[5]=Kr,ps[6]=ka,Et=1}else Et=0}Et&&(Et=(function(dn,oi){for(dn.M=0;dn.M<dn.Va;++dn.M){var Je,oe=dn.Jc[dn.M&dn.Xb],Zt=dn.m,di=dn;for(Je=0;Je<di.za;++Je){var ze=Zt,rn=di,Fn=rn.Ac,Qi=rn.Bc+4*Je,Er=rn.zc,ei=rn.ya[rn.aa+Je];if(rn.Qa.Bb?ei.$b=Ot(ze,rn.Pa.jb[0])?2+Ot(ze,rn.Pa.jb[2]):Ot(ze,rn.Pa.jb[1]):ei.$b=0,rn.kc&&(ei.Ad=Ot(ze,rn.Bd)),ei.Za=!Ot(ze,145)+0,ei.Za){var zi=ei.Ob,zr=0;for(rn=0;4>rn;++rn){var Fi,un=Er[0+rn];for(Fi=0;4>Fi;++Fi){un=wr[Fn[Qi+Fi]][un];for(var En=Nc[Ot(ze,un[0])];0<En;)En=Nc[2*En+Ot(ze,un[En])];un=-En,Fn[Qi+Fi]=un}r(zi,zr,Fn,Qi,4),zr+=4,Er[0+rn]=un}}else un=Ot(ze,156)?Ot(ze,128)?1:3:Ot(ze,163)?2:0,ei.Ob[0]=un,s(Fn,Qi,un,4),s(Er,0,un,4);ei.Dd=Ot(ze,142)?Ot(ze,114)?Ot(ze,183)?1:3:2:0}if(di.m.Ka)return cn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(di=oe,ze=(Zt=dn).rb[Zt.sb-1],Fn=Zt.rb[Zt.sb+Zt.ja],Je=Zt.ya[Zt.aa+Zt.ja],Qi=Zt.kc?Je.Ad:0)ze.la=Fn.la=0,Je.Za||(ze.Na=Fn.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var pi,Dn;if(ze=Fn,Fn=di,Qi=Zt.Pa.Xc,Er=Zt.ya[Zt.aa+Zt.ja],ei=Zt.pb[Er.$b],rn=Er.ad,zi=0,zr=Zt.rb[Zt.sb-1],un=Fi=0,s(rn,zi,0,384),Er.Za)var Xi=0,gi=Qi[3];else{En=o(16);var Tn=ze.Na+zr.Na;if(Tn=La(Fn,Qi[1],Tn,ei.Eb,0,En,0),ze.Na=zr.Na=(0<Tn)+0,1<Tn)Ra(En,0,rn,zi);else{var ji=En[0]+3>>3;for(En=0;256>En;En+=16)rn[zi+En]=ji}Xi=1,gi=Qi[0]}var Bn=15&ze.la,Bi=15&zr.la;for(En=0;4>En;++En){var Ui=1&Bi;for(ji=Dn=0;4>ji;++ji)Bn=Bn>>1|(Ui=(Tn=La(Fn,gi,Tn=Ui+(1&Bn),ei.Sc,Xi,rn,zi))>Xi)<<7,Dn=Dn<<2|(3<Tn?3:1<Tn?2:rn[zi+0]!=0),zi+=16;Bn>>=4,Bi=Bi>>1|Ui<<7,Fi=(Fi<<8|Dn)>>>0}for(gi=Bn,Xi=Bi>>4,pi=0;4>pi;pi+=2){for(Dn=0,Bn=ze.la>>4+pi,Bi=zr.la>>4+pi,En=0;2>En;++En){for(Ui=1&Bi,ji=0;2>ji;++ji)Tn=Ui+(1&Bn),Bn=Bn>>1|(Ui=0<(Tn=La(Fn,Qi[2],Tn,ei.Qc,0,rn,zi)))<<3,Dn=Dn<<2|(3<Tn?3:1<Tn?2:rn[zi+0]!=0),zi+=16;Bn>>=2,Bi=Bi>>1|Ui<<5}un|=Dn<<4*pi,gi|=Bn<<4<<pi,Xi|=(240&Bi)<<pi}ze.la=gi,zr.la=Xi,Er.Hc=Fi,Er.Gc=un,Er.ia=43690&un?0:ei.ia,Qi=!(Fi|un)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[Je.$b][Je.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Qi),di.Ka)return cn(dn,7,"Premature end-of-file encountered.")}if(Ss(dn),Zt=oi,di=1,Je=(oe=dn).D,ze=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Je.M=oe.M,Je.uc=ze,Na(oe,Je),di=1,Je=(Dn=oe.D).Nb,ze=(un=Wl[oe.L])*oe.R,Fn=un/2*oe.B,En=16*Je*oe.R,ji=8*Je*oe.B,Qi=oe.sa,Er=oe.ta-ze+En,ei=oe.qa,rn=oe.ra-Fn+ji,zi=oe.Ha,zr=oe.Ia-Fn+ji,Bi=(Bn=Dn.M)==0,Fi=Bn>=oe.Va-1,oe.Aa==2&&Na(oe,Dn),Dn.uc)for(Ui=(Tn=oe).D.M,t(Tn.D.uc),Dn=Tn.yb;Dn<Tn.Hb;++Dn){Xi=Dn,gi=Ui;var Wn=(An=(Vi=Tn).D).Nb;pi=Vi.R;var An=An.wa[An.Y+Xi],Fr=Vi.sa,Ai=Vi.ta+16*Wn*pi+16*Xi,Ie=An.dd,De=An.tc;if(De!=0)if(t(3<=De),Vi.L==1)0<Xi&&id(Fr,Ai,pi,De+4),An.La&&Mh(Fr,Ai,pi,De),0<gi&&nd(Fr,Ai,pi,De+4),An.La&&kh(Fr,Ai,pi,De);else{var Cn=Vi.B,fa=Vi.qa,$a=Vi.ra+8*Wn*Cn+8*Xi,ta=Vi.Ha,Vi=Vi.Ia+8*Wn*Cn+8*Xi;Wn=An.ld,0<Xi&&(Li(Fr,Ai,pi,De+4,Ie,Wn),ds(fa,$a,ta,Vi,Cn,De+4,Ie,Wn)),An.La&&(ku(Fr,Ai,pi,De,Ie,Wn),ed(fa,$a,ta,Vi,Cn,De,Ie,Wn)),0<gi&&(ti(Fr,Ai,pi,De+4,Ie,Wn),Ms(fa,$a,ta,Vi,Cn,De+4,Ie,Wn)),An.La&&(sl(Fr,Ai,pi,De,Ie,Wn),jh(fa,$a,ta,Vi,Cn,De,Ie,Wn))}}if(oe.ia&&alert("todo:DitherRow"),Zt.put!=null){if(Dn=16*Bn,Bn=16*(Bn+1),Bi?(Zt.y=oe.sa,Zt.O=oe.ta+En,Zt.f=oe.qa,Zt.N=oe.ra+ji,Zt.ea=oe.Ha,Zt.W=oe.Ia+ji):(Dn-=un,Zt.y=Qi,Zt.O=Er,Zt.f=ei,Zt.N=rn,Zt.ea=zi,Zt.W=zr),Fi||(Bn-=un),Bn>Zt.o&&(Bn=Zt.o),Zt.F=null,Zt.J=null,oe.Fa!=null&&0<oe.Fa.length&&Dn<Bn&&(Zt.J=g(oe,Zt,Dn,Bn-Dn),Zt.F=oe.mb,Zt.F==null&&Zt.F.length==0)){di=cn(oe,3,"Could not decode alpha data.");break e}Dn<Zt.j&&(un=Zt.j-Dn,Dn=Zt.j,t(!(1&un)),Zt.O+=oe.R*un,Zt.N+=oe.B*(un>>1),Zt.W+=oe.B*(un>>1),Zt.F!=null&&(Zt.J+=Zt.width*un)),Dn<Bn&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=Dn-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=Bn-Dn,di=Zt.put(Zt))}Je+1!=oe.Ic||Fi||(r(oe.sa,oe.ta-ze,Qi,Er+16*oe.R,ze),r(oe.qa,oe.ra-Fn,ei,rn+8*oe.B,Fn),r(oe.Ha,oe.Ia-Fn,zi,zr+8*oe.B,Fn))}if(!di)return cn(dn,6,"Output aborted.")}return 1})(lt,xt)),xt.bc!=null&&xt.bc(xt),Et&=1}return Et?(lt.cb=0,Et):0})(p,L)||(v=p.a)}}else v=p.a}v==0&&Y.Oa!=null&&Y.Oa.fd&&(v=ju(Y.ba))}Y=v}H=Y!=0?null:11>H?X.f.RGBA.eb:X.f.kb.y}else H=null;return H};var Dc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,F){for(var R="",N=0;N<4;N++)R+=String.fromCharCode(w[F++]);return R}function y(w,F){return w[F+0]|w[F+1]<<8}function A(w,F){return(w[F+0]|w[F+1]<<8|w[F+2]<<16)>>>0}function T(w,F){return(w[F+0]|w[F+1]<<8|w[F+2]<<16|w[F+3]<<24)>>>0}new f;var _=[0],B=[0],q=[],O=new f,P=n,tt=(function(w,F){var R={},N=0,I=!1,$=0,mt=0;if(R.frames=[],!(function(k,z){for(var W=0;W<4;W++)if(k[z+W]!="RIFF".charCodeAt(W))return!0;return!1})(w,F)){for(T(w,F+=4),F+=8;F<w.length;){var rt=d(w,F),ft=T(w,F+=4);F+=4;var at=ft+(1&ft);switch(rt){case"VP8 ":case"VP8L":R.frames[N]===void 0&&(R.frames[N]={}),(nt=R.frames[N]).src_off=I?mt:F-8,nt.src_size=$+ft+8,N++,I&&(I=!1,$=0,mt=0);break;case"VP8X":(nt=R.header={}).feature_flags=w[F];var bt=F+4;nt.canvas_width=1+A(w,bt),bt+=3,nt.canvas_height=1+A(w,bt),bt+=3;break;case"ALPH":I=!0,$=at+8,mt=F-8;break;case"ANIM":(nt=R.header).bgcolor=T(w,F),bt=F+4,nt.loop_count=y(w,bt),bt+=2;break;case"ANMF":var Dt,nt;(nt=R.frames[N]={}).offset_x=2*A(w,F),F+=3,nt.offset_y=2*A(w,F),F+=3,nt.width=1+A(w,F),F+=3,nt.height=1+A(w,F),F+=3,nt.duration=A(w,F),F+=3,Dt=w[F++],nt.dispose=1&Dt,nt.blend=Dt>>1&1}rt!="ANMF"&&(F+=at)}return R}})(P,0);tt.response=P,tt.rgbaoutput=!0,tt.dataurl=!1;var J=tt.header?tt.header:null,it=tt.frames?tt.frames:null;if(J){J.loop_counter=J.loop_count,_=[J.canvas_height],B=[J.canvas_width];for(var st=0;st<it.length&&it[st].blend!=0;st++);}var St=it[0],G=O.WebPDecodeRGBA(P,St.src_off,St.src_size,B,_);St.rgba=G,St.imgwidth=B[0],St.imgheight=_[0];for(var M=0;M<B[0]*_[0]*4;M++)q[M]=G[M];return this.width=B,this.height=_,this.data=q,this}function eI(){var n,t=this.internal.__metadata__.metadata,e=unescape(encodeURIComponent(t));n=this.internal.__metadata__.rawXml?e:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function nI(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var t,e,r,s,o,u,h,f,d,y=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new u,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new u,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var A=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=k;Object.defineProperty(this,"pdf",{get:function(){return z}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ot){W=!!ot}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ot){K=!!ot}});var ht=0;Object.defineProperty(this,"posX",{get:function(){return ht},set:function(ot){isNaN(ot)||(ht=ot)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(ot){isNaN(ot)||(gt=ot)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ot){var Jt;typeof ot=="number"?Jt=[ot,ot,ot,ot]:((Jt=new Array(4))[0]=ot[0],Jt[1]=ot.length>=2?ot[1]:Jt[0],Jt[2]=ot.length>=3?ot[2]:Jt[0],Jt[3]=ot.length>=4?ot[3]:Jt[1]),d.margin=Jt}});var Nt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Nt},set:function(ot){Nt=ot}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(ot){Ct=ot}});var Ot=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ot},set:function(ot){Ot=ot}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ot){ot instanceof y&&(d=ot)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ot){d.path=ot}});var Kt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Kt},set:function(ot){Kt=ot}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ot){var Jt;Jt=T(ot),this.ctx.fillStyle=Jt.style,this.ctx.isFillTransparent=Jt.a===0,this.ctx.fillOpacity=Jt.a,this.pdf.setFillColor(Jt.r,Jt.g,Jt.b,{a:Jt.a}),this.pdf.setTextColor(Jt.r,Jt.g,Jt.b,{a:Jt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ot){var Jt=T(ot);this.ctx.strokeStyle=Jt.style,this.ctx.isStrokeTransparent=Jt.a===0,this.ctx.strokeOpacity=Jt.a,Jt.a===0?this.pdf.setDrawColor(255,255,255):(Jt.a,this.pdf.setDrawColor(Jt.r,Jt.g,Jt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ot){["butt","round","square"].indexOf(ot)!==-1&&(this.ctx.lineCap=ot,this.pdf.setLineCap(ot))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ot){isNaN(ot)||(this.ctx.lineWidth=ot,this.pdf.setLineWidth(ot))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ot){["bevel","round","miter"].indexOf(ot)!==-1&&(this.ctx.lineJoin=ot,this.pdf.setLineJoin(ot))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ot){isNaN(ot)||(this.ctx.miterLimit=ot,this.pdf.setMiterLimit(ot))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ot){this.ctx.textBaseline=ot}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ot){["right","end","center","left","start"].indexOf(ot)!==-1&&(this.ctx.textAlign=ot)}});var ne=null,ee=null,ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(ot){ne=null,ee=null,ce=ot}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ot){var Jt;if(this.ctx.font=ot,(Jt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ot))!==null){var Ye=Jt[1];Jt[2];var Te=Jt[3],Vt=Jt[4];Jt[5];var re=Jt[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vt)[2];Vt=Math.floor(ie==="px"?parseFloat(Vt)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Vt)*this.pdf.getFontSize():parseFloat(Vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vt);var Ne=(function(ve){var ci,Qe,Ce=[],Pe=ve.trim();if(Pe==="")return s0;if(Pe in Vb)return[Vb[Pe]];for(;Pe!=="";){switch(Qe=null,ci=(Pe=Hb(Pe)).charAt(0)){case'"':case"'":Qe=KR(Pe.substring(1),ci);break;default:Qe=QR(Pe)}if(Qe===null||(Ce.push(Qe[0]),(Pe=Hb(Qe[1]))!==""&&Pe.charAt(0)!==","))return s0;Pe=Pe.replace(/^,/,"")}return Ce})(re);if(this.fontFaces){var _e=(function(ve,ci){var Qe=ve.getFontList(),Ce=JSON.stringify(Qe);if(ne===null||ee!==Ce){var Pe=(function($e){var Se=[];return Object.keys($e).forEach(function(In){$e[In].forEach(function(Me){var Oe=null;switch(Me){case"bold":Oe={family:In,weight:"bold"};break;case"italic":Oe={family:In,style:"italic"};break;case"bolditalic":Oe={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:In}}Oe!==null&&(Oe.ref={name:In,style:Me},Se.push(Oe))})}),Se})(Qe);ne=(function($e){for(var Se={},In=0;In<$e.length;++In){var Me=a0($e[In]),Oe=Me.family,jn=Me.stretch,we=Me.style,be=Me.weight;Se[Oe]=Se[Oe]||{},Se[Oe][jn]=Se[Oe][jn]||{},Se[Oe][jn][we]=Se[Oe][jn][we]||{},Se[Oe][jn][we][be]=Me}return Se})(Pe.concat(ci)),ee=Ce}return ne})(this.pdf,this.fontFaces),We=Ne.map(function(ve){return{family:ve,stretch:"normal",weight:Te,style:Ye}}),Ze=(function(ve,ci,Qe){for(var Ce=(Qe=Qe||{}).defaultFontFamily||"times",Pe=Object.assign({},$R,Qe.genericFontFamilies||{}),$e=null,Se=null,In=0;In<ci.length;++In)if(Pe[($e=a0(ci[In])).family]&&($e.family=Pe[$e.family]),ve.hasOwnProperty($e.family)){Se=ve[$e.family];break}if(!(Se=Se||ve[Ce]))throw new Error("Could not find a font-family for the rule '"+qb($e)+"' and default family '"+Ce+"'.");if(Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];var jn=$0[Me],we=jn<=$0.normal?-1:1,be=Ub(Oe,xw,jn,we);if(!be)throw new Error("Could not find a matching font-stretch value for "+Me);return be})($e.stretch,Se),Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];for(var jn=bw[Me],we=0;we<jn.length;++we)if(Oe[jn[we]])return Oe[jn[we]];throw new Error("Could not find a matching font-style for "+Me)})($e.style,Se),!(Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];if(Me===400&&Oe[500])return Oe[500];if(Me===500&&Oe[400])return Oe[400];var jn=WR[Me],we=Ub(Oe,_w,jn,Me<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+Me);return we})($e.weight,Se)))throw new Error("Failed to resolve a font for the rule '"+qb($e)+"'.");return Se})(_e,We);this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var Be="";(Te==="bold"||parseInt(Te,10)>=700||Ye==="bold")&&(Be="bold"),Ye==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var an="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<Ne.length;me++){if(this.pdf.internal.getFont(Ne[me],Be,{noFallback:!0,disableWarning:!0})!==void 0){an=Ne[me];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Ne[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=Ne[me],Be="bold";else if(this.pdf.internal.getFont(Ne[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=Ne[me],Be="normal";break}}if(an===""){for(var qe=0;qe<Ne.length;qe++)if(Ke[Ne[qe]]){an=Ke[Ne[qe]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ot){this.ctx.globalCompositeOperation=ot}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ot){this.ctx.globalAlpha=ot}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ot){this.ctx.lineDashOffset=ot,nt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ot){this.ctx.lineDash=ot,nt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ot){this.ctx.ignoreClearRect=!!ot}})};A.prototype.setLineDash=function(k){this.lineDash=k},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){it.call(this,"fill",!1)},A.prototype.stroke=function(){it.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(k,z){if(isNaN(k)||isNaN(z))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new u(k,z));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(k,z)},A.prototype.closePath=function(){var k=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Qn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){k=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(k.x,k.y)},A.prototype.lineTo=function(k,z){if(isNaN(k)||isNaN(z))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new u(k,z));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(W.x,W.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),it.call(this,null,!0)},A.prototype.quadraticCurveTo=function(k,z,W,K){if(isNaN(W)||isNaN(K)||isNaN(k)||isNaN(z))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ht=this.ctx.transform.applyToPoint(new u(W,K)),gt=this.ctx.transform.applyToPoint(new u(k,z));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new u(ht.x,ht.y)},A.prototype.bezierCurveTo=function(k,z,W,K,ht,gt){if(isNaN(ht)||isNaN(gt)||isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Nt=this.ctx.transform.applyToPoint(new u(ht,gt)),Ct=this.ctx.transform.applyToPoint(new u(k,z)),Ot=this.ctx.transform.applyToPoint(new u(W,K));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:Ot.x,y2:Ot.y,x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new u(Nt.x,Nt.y)},A.prototype.arc=function(k,z,W,K,ht,gt){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K)||isNaN(ht))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var Nt=this.ctx.transform.applyToPoint(new u(k,z));k=Nt.x,z=Nt.y;var Ct=this.ctx.transform.applyToPoint(new u(0,W)),Ot=this.ctx.transform.applyToPoint(new u(0,0));W=Math.sqrt(Math.pow(Ct.x-Ot.x,2)+Math.pow(Ct.y-Ot.y,2))}Math.abs(ht-K)>=2*Math.PI&&(K=0,ht=2*Math.PI),this.path.push({type:"arc",x:k,y:z,radius:W,startAngle:K,endAngle:ht,counterclockwise:gt})},A.prototype.arcTo=function(k,z,W,K,ht){throw new Error("arcTo not implemented.")},A.prototype.rect=function(k,z,W,K){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,z),this.lineTo(k+W,z),this.lineTo(k+W,z+K),this.lineTo(k,z+K),this.lineTo(k,z),this.lineTo(k+W,z),this.lineTo(k,z)},A.prototype.fillRect=function(k,z,W,K){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ht={};this.lineCap!=="butt"&&(ht.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ht.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,z,W,K),this.fill(),ht.hasOwnProperty("lineCap")&&(this.lineCap=ht.lineCap),ht.hasOwnProperty("lineJoin")&&(this.lineJoin=ht.lineJoin)}},A.prototype.strokeRect=function(k,z,W,K){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(k,z,W,K),this.stroke())},A.prototype.clearRect=function(k,z,W,K){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,z,W,K))},A.prototype.save=function(k){k=typeof k!="boolean"||k;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},A.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(z),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(k){var z,W,K,ht;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))z=0,W=0,K=0,ht=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(gt!==null)z=parseInt(gt[1]),W=parseInt(gt[2]),K=parseInt(gt[3]),ht=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)z=parseInt(gt[1]),W=parseInt(gt[2]),K=parseInt(gt[3]),ht=parseFloat(gt[4]);else{if(ht=1,typeof k=="string"&&k.charAt(0)!=="#"){var Nt=new fw(k);k=Nt.ok?Nt.toHex():"#000000"}k.length===4?(z=k.substring(1,2),z+=z,W=k.substring(2,3),W+=W,K=k.substring(3,4),K+=K):(z=k.substring(1,3),W=k.substring(3,5),K=k.substring(5,7)),z=parseInt(z,16),W=parseInt(W,16),K=parseInt(K,16)}}return{r:z,g:W,b:K,a:ht,style:k}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(k,z,W,K){if(isNaN(z)||isNaN(W)||typeof k!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!_.call(this)){var ht=at(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;N.call(this,{text:k,x:z,y:W,scale:gt,angle:ht,align:this.textAlign,maxWidth:K})}},A.prototype.strokeText=function(k,z,W,K){if(isNaN(z)||isNaN(W)||typeof k!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){K=isNaN(K)?void 0:K;var ht=at(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;N.call(this,{text:k,x:z,y:W,scale:gt,renderingMode:"stroke",angle:ht,align:this.textAlign,maxWidth:K})}},A.prototype.measureText=function(k){if(typeof k!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,W=this.pdf.internal.scaleFactor,K=z.internal.getFontSize(),ht=z.getStringUnitWidth(k)*K/z.internal.scaleFactor;return new function(gt){var Nt=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Nt}}),this}({width:ht*=Math.round(96*W/72*1e4)/1e4})},A.prototype.scale=function(k,z){if(isNaN(k)||isNaN(z))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new f(k,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.rotate=function(k){if(isNaN(k))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},A.prototype.translate=function(k,z){if(isNaN(k)||isNaN(z))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new f(1,0,0,1,k,z);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.transform=function(k,z,W,K,ht,gt){if(isNaN(k)||isNaN(z)||isNaN(W)||isNaN(K)||isNaN(ht)||isNaN(gt))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Nt=new f(k,z,W,K,ht,gt);this.ctx.transform=this.ctx.transform.multiply(Nt)},A.prototype.setTransform=function(k,z,W,K,ht,gt){k=isNaN(k)?1:k,z=isNaN(z)?0:z,W=isNaN(W)?0:W,K=isNaN(K)?1:K,ht=isNaN(ht)?0:ht,gt=isNaN(gt)?0:gt,this.ctx.transform=new f(k,z,W,K,ht,gt)};var q=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(k,z,W,K,ht,gt,Nt,Ct,Ot){var Kt=this.pdf.getImageProperties(k),ne=1,ee=1,ce=1,ot=1;K!==void 0&&Ct!==void 0&&(ce=Ct/K,ot=Ot/ht,ne=Kt.width/K*Ct/K,ee=Kt.height/ht*Ot/ht),gt===void 0&&(gt=z,Nt=W,z=0,W=0),K!==void 0&&Ct===void 0&&(Ct=K,Ot=ht),K===void 0&&Ct===void 0&&(Ct=Kt.width,Ot=Kt.height);var Jt=this.ctx.transform.decompose(),Ye=at(Jt.rotate.shx),Te=new f,Vt=(Te=(Te=(Te=Te.multiply(Jt.translate)).multiply(Jt.skew)).multiply(Jt.scale)).applyToRectangle(new h(gt-z*ce,Nt-W*ot,K*ne,ht*ee));if(this.autoPaging){for(var re,ie=O.call(this,Vt),Ne=[],_e=0;_e<ie.length;_e+=1)Ne.indexOf(ie[_e])===-1&&Ne.push(ie[_e]);J(Ne);for(var We=Ne[0],Ze=Ne[Ne.length-1],Be=We;Be<Ze+1;Be++){this.pdf.setPage(Be);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Be===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=Be===1?0:me+(Be-2)*qe;if(this.ctx.clip_path.length!==0){var ci=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(re,this.posX+this.margin[3],-ve+Ke+this.ctx.prevPageLastElemOffset),st.call(this,"fill",!0),this.path=ci}var Qe=JSON.parse(JSON.stringify(Vt));Qe=tt([Qe],this.posX+this.margin[3],-ve+Ke+this.ctx.prevPageLastElemOffset)[0];var Ce=(Be>We||Be<Ze)&&q.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,qe,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ye),Ce&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Ye)};var O=function(k,z,W){var K=[];z=z||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ht=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":K.push(Math.floor((k.y+ht)/W)+1);break;case"arc":K.push(Math.floor((k.y+ht-k.radius)/W)+1),K.push(Math.floor((k.y+ht+k.radius)/W)+1);break;case"qct":var gt=bt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);K.push(Math.floor((gt.y+ht)/W)+1),K.push(Math.floor((gt.y+gt.h+ht)/W)+1);break;case"bct":var Nt=Dt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);K.push(Math.floor((Nt.y+ht)/W)+1),K.push(Math.floor((Nt.y+Nt.h+ht)/W)+1);break;case"rect":K.push(Math.floor((k.y+ht)/W)+1),K.push(Math.floor((k.y+k.h+ht)/W)+1)}for(var Ct=0;Ct<K.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<K[Ct];)P.call(this);return K},P=function(){var k=this.fillStyle,z=this.strokeStyle,W=this.font,K=this.lineCap,ht=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=z,this.font=W,this.lineCap=K,this.lineWidth=ht,this.lineJoin=gt},tt=function(k,z,W){for(var K=0;K<k.length;K++)switch(k[K].type){case"bct":k[K].x2+=z,k[K].y2+=W;case"qct":k[K].x1+=z,k[K].y1+=W;default:k[K].x+=z,k[K].y+=W}return k},J=function(k){return k.sort(function(z,W){return z-W})},it=function(k,z){var W=this.fillStyle,K=this.strokeStyle,ht=this.lineCap,gt=this.lineWidth,Nt=Math.abs(gt*this.ctx.transform.scaleX),Ct=this.lineJoin;if(this.autoPaging){for(var Ot,Kt,ne=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),ce=[],ot=0;ot<ee.length;ot++)if(ee[ot].x!==void 0)for(var Jt=O.call(this,ee[ot]),Ye=0;Ye<Jt.length;Ye+=1)ce.indexOf(Jt[Ye])===-1&&ce.push(Jt[Ye]);for(var Te=0;Te<ce.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ce[Te];)P.call(this);J(ce);for(var Vt=ce[0],re=ce[ce.length-1],ie=Vt;ie<re+1;ie++){this.pdf.setPage(ie),this.fillStyle=W,this.strokeStyle=K,this.lineCap=ht,this.lineWidth=Nt,this.lineJoin=Ct;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ie===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ie===1?0:We+(ie-2)*Ze;if(this.ctx.clip_path.length!==0){var an=this.path;Ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(Ot,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),st.call(this,k,!0),this.path=an}if(Kt=JSON.parse(JSON.stringify(ne)),this.path=tt(Kt,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),z===!1||ie===0){var Ke=(ie>Vt||ie<re)&&q.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ze,null).clip().discardPath()),st.call(this,k,z),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}this.path=ne}else this.lineWidth=Nt,st.call(this,k,z),this.lineWidth=gt},st=function(k,z){if((k!=="stroke"||z||!B.call(this))&&(k==="stroke"||z||!_.call(this))){for(var W,K,ht=[],gt=this.path,Nt=0;Nt<gt.length;Nt++){var Ct=gt[Nt];switch(Ct.type){case"begin":ht.push({begin:!0});break;case"close":ht.push({close:!0});break;case"mt":ht.push({start:Ct,deltas:[],abs:[]});break;case"lt":var Ot=ht.length;if(gt[Nt-1]&&!isNaN(gt[Nt-1].x)&&(W=[Ct.x-gt[Nt-1].x,Ct.y-gt[Nt-1].y],Ot>0)){for(;Ot>=0;Ot--)if(ht[Ot-1].close!==!0&&ht[Ot-1].begin!==!0){ht[Ot-1].deltas.push(W),ht[Ot-1].abs.push(Ct);break}}break;case"bct":W=[Ct.x1-gt[Nt-1].x,Ct.y1-gt[Nt-1].y,Ct.x2-gt[Nt-1].x,Ct.y2-gt[Nt-1].y,Ct.x-gt[Nt-1].x,Ct.y-gt[Nt-1].y],ht[ht.length-1].deltas.push(W);break;case"qct":var Kt=gt[Nt-1].x+2/3*(Ct.x1-gt[Nt-1].x),ne=gt[Nt-1].y+2/3*(Ct.y1-gt[Nt-1].y),ee=Ct.x+2/3*(Ct.x1-Ct.x),ce=Ct.y+2/3*(Ct.y1-Ct.y),ot=Ct.x,Jt=Ct.y;W=[Kt-gt[Nt-1].x,ne-gt[Nt-1].y,ee-gt[Nt-1].x,ce-gt[Nt-1].y,ot-gt[Nt-1].x,Jt-gt[Nt-1].y],ht[ht.length-1].deltas.push(W);break;case"arc":ht.push({deltas:[],abs:[],arc:!0}),Array.isArray(ht[ht.length-1].abs)&&ht[ht.length-1].abs.push(Ct)}}K=z?null:k==="stroke"?"stroke":"fill";for(var Ye=!1,Te=0;Te<ht.length;Te++)if(ht[Te].arc)for(var Vt=ht[Te].abs,re=0;re<Vt.length;re++){var ie=Vt[re];ie.type==="arc"?M.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,z,!Ye):I.call(this,ie.x,ie.y),Ye=!0}else if(ht[Te].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ht[Te].begin!==!0){var Ne=ht[Te].start.x,_e=ht[Te].start.y;$.call(this,ht[Te].deltas,Ne,_e),Ye=!0}K&&w.call(this,K),z&&F.call(this)}},St=function(k){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-W;case"top":return k+z-W;case"hanging":return k+z-2*W;case"middle":return k+z/2-W;default:return k}},G=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(z,W){this.colorStops.push([z,W])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(k,z,W,K,ht,gt,Nt,Ct,Ot){for(var Kt=rt.call(this,W,K,ht,gt),ne=0;ne<Kt.length;ne++){var ee=Kt[ne];ne===0&&(Ot?R.call(this,ee.x1+k,ee.y1+z):I.call(this,ee.x1+k,ee.y1+z)),mt.call(this,k,z,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}Ct?F.call(this):w.call(this,Nt)},w=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(k,z){this.pdf.internal.out(e(k)+" "+r(z)+" m")},N=function(k){var z;switch(k.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var W,K,ht,gt=this.pdf.getTextDimensions(k.text),Nt=St.call(this,k.y),Ct=G.call(this,Nt)-gt.h,Ot=this.ctx.transform.applyToPoint(new u(k.x,Nt));if(this.autoPaging){var Kt=this.ctx.transform.decompose(),ne=new f;ne=(ne=(ne=ne.multiply(Kt.translate)).multiply(Kt.skew)).multiply(Kt.scale);for(var ee=this.ctx.transform.applyToRectangle(new h(k.x,Nt,gt.w,gt.h)),ce=ne.applyToRectangle(new h(k.x,Ct,gt.w,gt.h)),ot=O.call(this,ce),Jt=[],Ye=0;Ye<ot.length;Ye+=1)Jt.indexOf(ot[Ye])===-1&&Jt.push(ot[Ye]);J(Jt);for(var Te=Jt[0],Vt=Jt[Jt.length-1],re=Te;re<Vt+1;re++){this.pdf.setPage(re);var ie=re===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],We=_e-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],Be=Ze-this.margin[3],an=re===1?0:Ne+(re-2)*We;if(this.ctx.clip_path.length!==0){var Ke=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(W,this.posX+this.margin[3],-1*an+ie),st.call(this,"fill",!0),this.path=Ke}var me=tt([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-an+ie+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*k.scale),ht=this.lineWidth,this.lineWidth=ht*k.scale);var qe=this.autoPaging!=="text";if(qe||me.y+me.h<=_e){if(qe||me.y>=ie&&me.x<=Ze){var ve=qe?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Ze-me.x)[0],ci=tt([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-an+ie+this.ctx.prevPageLastElemOffset)[0],Qe=qe&&(re>Te||re<Vt)&&q.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,We,null).clip().discardPath()),this.pdf.text(ve,ci.x,ci.y,{angle:k.angle,align:z,renderingMode:k.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else me.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-me.y);k.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ht)}}else k.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*k.scale),ht=this.lineWidth,this.lineWidth=ht*k.scale),this.pdf.text(k.text,Ot.x+this.posX,Ot.y+this.posY,{angle:k.angle,align:z,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ht)},I=function(k,z,W,K){W=W||0,K=K||0,this.pdf.internal.out(e(k+W)+" "+r(z+K)+" l")},$=function(k,z,W){return this.pdf.lines(k,z,W,null,null)},mt=function(k,z,W,K,ht,gt,Nt,Ct){this.pdf.internal.out([t(s(W+k)),t(o(K+z)),t(s(ht+k)),t(o(gt+z)),t(s(Nt+k)),t(o(Ct+z)),"c"].join(" "))},rt=function(k,z,W,K){for(var ht=2*Math.PI,gt=Math.PI/2;z>W;)z-=ht;var Nt=Math.abs(W-z);Nt<ht&&K&&(Nt=ht-Nt);for(var Ct=[],Ot=K?-1:1,Kt=z;Nt>1e-5;){var ne=Kt+Ot*Math.min(Nt,gt);Ct.push(ft.call(this,k,Kt,ne)),Nt-=Math.abs(ne-Kt),Kt=ne}return Ct},ft=function(k,z,W){var K=(W-z)/2,ht=k*Math.cos(K),gt=k*Math.sin(K),Nt=ht,Ct=-gt,Ot=Nt*Nt+Ct*Ct,Kt=Ot+Nt*ht+Ct*gt,ne=4/3*(Math.sqrt(2*Ot*Kt)-Kt)/(Nt*gt-Ct*ht),ee=Nt-ne*Ct,ce=Ct+ne*Nt,ot=ee,Jt=-ce,Ye=K+z,Te=Math.cos(Ye),Vt=Math.sin(Ye);return{x1:k*Math.cos(z),y1:k*Math.sin(z),x2:ee*Te-ce*Vt,y2:ee*Vt+ce*Te,x3:ot*Te-Jt*Vt,y3:ot*Vt+Jt*Te,x4:k*Math.cos(W),y4:k*Math.sin(W)}},at=function(k){return 180*k/Math.PI},bt=function(k,z,W,K,ht,gt){var Nt=k+.5*(W-k),Ct=z+.5*(K-z),Ot=ht+.5*(W-ht),Kt=gt+.5*(K-gt),ne=Math.min(k,ht,Nt,Ot),ee=Math.max(k,ht,Nt,Ot),ce=Math.min(z,gt,Ct,Kt),ot=Math.max(z,gt,Ct,Kt);return new h(ne,ce,ee-ne,ot-ce)},Dt=function(k,z,W,K,ht,gt,Nt,Ct){var Ot,Kt,ne,ee,ce,ot,Jt,Ye,Te,Vt,re,ie,Ne,_e,We=W-k,Ze=K-z,Be=ht-W,an=gt-K,Ke=Nt-ht,me=Ct-gt;for(Kt=0;Kt<41;Kt++)Te=(Jt=(ne=k+(Ot=Kt/40)*We)+Ot*((ce=W+Ot*Be)-ne))+Ot*(ce+Ot*(ht+Ot*Ke-ce)-Jt),Vt=(Ye=(ee=z+Ot*Ze)+Ot*((ot=K+Ot*an)-ee))+Ot*(ot+Ot*(gt+Ot*me-ot)-Ye),Kt==0?(re=Te,ie=Vt,Ne=Te,_e=Vt):(re=Math.min(re,Te),ie=Math.min(ie,Vt),Ne=Math.max(Ne,Te),_e=Math.max(_e,Vt));return new h(Math.round(re),Math.round(ie),Math.round(Ne-re),Math.round(_e-ie))},nt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,z,W=(k=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:z}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ye.API),(function(n){var t=function(u){var h,f,d,y,A,T,_,B,q,O;for(f=[],d=0,y=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;y>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(T=(A=((A=((A=((A=(A-(O=A%85))/85)-(q=A%85))/85)-(B=A%85))/85)-(_=A%85))/85)%85,f.push(T+33,_+33,B+33,q+33,O+33)):f.push(122);return(function(P,tt){for(var J=tt;J>0;J--)P.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var h,f,d,y,A,T=String,_="length",B=255,q="charCodeAt",O="slice",P="replace";for(u[O](-2),u=u[O](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),d=[],y=0,A=(u+=h="uuuuu"[O](u[_]%5||5))[_];A>y;y+=5)f=52200625*(u[q](y)-33)+614125*(u[q](y+1)-33)+7225*(u[q](y+2)-33)+85*(u[q](y+3)-33)+(u[q](y+4)-33),d.push(B&f>>24,B&f>>16,B&f>>8,B&f);return(function(tt,J){for(var it=J;it>0;it--)tt.pop()})(d,h[_]),T.fromCharCode.apply(T,d)},r=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=U0(h)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(u,h){var f=0,d=u||"",y=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(ye.API),(function(n){n.loadFile=function(t,e,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,d,y){var A=new XMLHttpRequest,T=0,_=function(B){var q=B.length,O=[],P=String.fromCharCode;for(T=0;T<q;T+=1)O.push(P(255&B.charCodeAt(T)));return O.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?y(_(this.responseText)):y(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,u)}catch{}return h})(t,e,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(ye.API),(function(n){function t(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):Ug(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):Ug(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function h(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),y=h.convert(Promise.resolve(),d);return(y=y.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,T=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete T.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var _=0;_<y.length;++_){var B=y[_],q=B.src.find(function(O){return O.format==="truetype"});q&&d.addFont(q.url,B.ref.name,B.ref.style)}return T.windowHeight=T.windowHeight||0,T.windowHeight=T.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):T.windowHeight,d.context2d.save(!0),f(this.prop.container,T)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var d=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},u.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(h=h||ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,d,y){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,d,y){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(y,A){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(T){return d.updateProgress(null,y),T}).then(y,A).then(function(T){return d.updateProgress(1),T})})},u.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var y=this;h&&(h=h.bind(y)),f&&(f=f.bind(y));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),T=d.call(A,h,f);return u.convert(T,y.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,ye.getPageSize=function(h,f,d){if(Qn(h)==="object"){var y=h;h=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,T=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var B,q=0,O=0;if(_.hasOwnProperty(T))q=_[T][1]/A,O=_[T][0]/A;else try{q=d[1],O=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",O>q&&(B=O,O=q,q=B);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",q>O&&(B=O,O=q,q=B)}return{width:O,height:q,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(a0):null;var d=new u(f);return f.worker?d:d.from(h).doCallback()}})(ye.API),ye.API.addJS=function(n){var t,e,r=n;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&e!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],h=r.exec(u);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var A=e.internal.newObject();y.push(A);var T=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<y.length;o++)e.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(ye.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,s,o,u,h){var f,d=this.decode.DCT_DECODE,y=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var T,_=256*A.charCodeAt(4)+A.charCodeAt(5),B=A.length,q={width:0,height:0,numcomponents:1},O=4;O<B;O+=2){if(O+=_,t.indexOf(A.charCodeAt(O+1))!==-1){T=256*A.charCodeAt(O+5)+A.charCodeAt(O+6),q={width:256*A.charCodeAt(O+7)+A.charCodeAt(O+8),height:T,numcomponents:A.charCodeAt(O+9)};break}_=256*A.charCodeAt(O+2)+A.charCodeAt(O+3)}return q})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}y={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return y}})(ye.API),ye.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=jR(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,d=o.palette,y=o.depth;s=d&&f===1?(function(M){for(var w=M.width,F=M.height,R=M.data,N=M.palette,I=M.depth,$=!1,mt=[],rt=[],ft=void 0,at=!1,bt=0,Dt=0;Dt<N.length;Dt++){var nt=Qv(N[Dt],4),k=nt[0],z=nt[1],W=nt[2],K=nt[3];mt.push(k,z,W),K!=null&&(K===0?(bt++,rt.length<1&&rt.push(Dt)):K<255&&(at=!0))}if(at||bt>1){$=!0,rt=void 0;var ht=w*F;ft=new Uint8Array(ht);for(var gt=new DataView(R.buffer),Nt=0;Nt<ht;Nt++){var Ct=o0(gt,Nt,I),Ot=Qv(N[Ct],4)[3];ft[Nt]=Ot}}else bt===0&&(rt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:R,alphaBytes:ft,needSMask:$,palette:mt,mask:rt}})(o):f===2||f===4?(function(M){for(var w=M.data,F=M.width,R=M.height,N=M.channels,I=M.depth,$=N===2?"DeviceGray":"DeviceRGB",mt=N-1,rt=F*R,ft=mt,at=rt*ft,bt=1*rt,Dt=Math.ceil(at*I/8),nt=Math.ceil(bt*I/8),k=new Uint8Array(Dt),z=new Uint8Array(nt),W=new DataView(w.buffer),K=new DataView(k.buffer),ht=new DataView(z.buffer),gt=!1,Nt=0;Nt<rt;Nt++){for(var Ct=Nt*N,Ot=0;Ot<ft;Ot++)Jb(K,o0(W,Ct+Ot,I),Nt*ft+Ot,I);var Kt=o0(W,Ct+ft,I);Kt<(1<<I)-1&&(gt=!0),Jb(ht,Kt,1*Nt,I)}return{colorSpace:$,colorsPerPixel:mt,sMaskBitsPerComponent:gt?I:void 0,colorBytes:k,alphaBytes:z,needSMask:gt}})(o):(function(M){var w=M.data,F=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(R){for(var N=R.length,I=new Uint8Array(2*N),$=new DataView(I.buffer,I.byteOffset,I.byteLength),mt=0;mt<N;mt++)$.setUint16(2*mt,R[mt],!1);return I})(w):w,needSMask:!1}})(o);var A,T,_,B=s,q=B.colorSpace,O=B.colorsPerPixel,P=B.sMaskBitsPerComponent,tt=B.colorBytes,J=B.alphaBytes,it=B.needSMask,st=B.palette,St=B.mask,G=null;return r!==ye.API.image_compression.NONE&&typeof U0=="function"?(G=(function(M){var w;switch(M){case ye.API.image_compression.FAST:w=11;break;case ye.API.image_compression.MEDIUM:w=13;break;case ye.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),A=this.decode.FLATE_DECODE,T="/Predictor ".concat(G," /Colors ").concat(O," /BitsPerComponent ").concat(y," /Columns ").concat(u),n=$b(tt,Math.ceil(u*O*y/8),O,y,r),it&&(_=$b(J,Math.ceil(u*P/8),1,P,r))):(A=void 0,T=void 0,n=tt,it&&(_=J)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:e,data:n,index:t,filter:A,decodeParameters:T,transparency:St,palette:st,sMask:_,predictor:G,width:u,height:h,bitsPerComponent:y,sMaskBitsPerComponent:P,colorSpace:q}}},(function(n){n.processGIF89A=function(t,e,r,s){var o=new tI(t),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:h},y=new l0(100).encode(d,100);return n.processJPEG.call(this,y,e,r,s)},n.processGIF87A=n.processGIF89A})(ye.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[n]()}catch(e){ui.log("bit decode error:"+e)}},co.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},co.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=f,this.data[y+1]=h,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},co.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,y=s*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=h,this.data[y+3]=255}this.pos+=n}},co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=u}},co.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,s){var o=new co(t,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new l0(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(ye.API),ex.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,s){var o=new ex(t),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new l0(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(ye.API),ye.API.processRGBA=function(n,t,e){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var y=r[d],A=r[d+1],T=r[d+2],_=r[d+3];o[h++]=y,o[h++]=A,o[h++]=T,u[f++]=_}var B=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:B,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ye.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=ye.API,lp=ih.getCharWidthsArray=function(n,t){var e,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,y=d.fof?d.fof:1,A=t.doKerning!==!1,T=0,_=n.length,B=0,q=h[0]||f,O=[];for(e=0;e<_;e++)r=n.charCodeAt(e),typeof s.metadata.widthOfString=="function"?O.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(T=A&&Qn(d[r])==="object"&&!isNaN(parseInt(d[r][B],10))?d[r][B]/y:0,O.push((h[r]||q)/f+T)),B=r;return O},Gb=ih.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return ih.processArabic&&(n=ih.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,s)/e:lp.apply(this,arguments).reduce(function(o,u){return o+u},0)},Yb=function(n,t,e,r){for(var s=[],o=0,u=n.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+t[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Wb=function(n,t,e){e||(e={});var r,s,o,u,h,f,d,y=[],A=[y],T=e.textIndent||0,_=0,B=0,q=n.split(" "),O=lp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?q[0].length+2:e.lineIndent||0){var P=Array(f).join(" "),tt=[];q.map(function(it){(it=it.split(/\s*\n/)).length>1?tt=tt.concat(it.map(function(st,St){return(St&&st.length?`
`:"")+st})):tt.push(it[0])}),q=tt,f=Gb.apply(this,[P,e])}for(o=0,u=q.length;o<u;o++){var J=0;if(r=q[o],f&&r[0]==`
`&&(r=r.substr(1),J=1),T+_+(B=(s=lp.apply(this,[r,e])).reduce(function(it,st){return it+st},0))>t||J){if(B>t){for(h=Yb.apply(this,[r,s,t-(T+_),t]),y.push(h.shift()),y=[h.pop()];h.length;)A.push([h.shift()]);B=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(it,st){return it+st},0)}else y=[r];A.push(y),T=B+f,_=O}else y.push(r),T+=_+B,_=O}return d=f?function(it,st){return(st?P:"")+it.join(" ")}:function(it){return it.join(" ")},A.map(d)},ih.splitTextToSize=function(n,t,e){var r,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var A=this.internal.getFont(y.fontName,y.fontStyle),T="Unicode";return A.metadata[T]?{widths:A.metadata[T].widths||{0:1},kerning:A.metadata[T].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(Wb.apply(this,[r[h],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[e[o]]=t[o],s[t[o]]=e[o];var u=function(T){return"0x"+parseInt(T,10).toString(16)},h=n.__fontmetrics__.compress=function(T){var _,B,q,O,P=["{"];for(var tt in T){if(_=T[tt],isNaN(parseInt(tt,10))?B="'"+tt+"'":(tt=parseInt(tt,10),B=(B=u(tt).slice(2)).slice(0,-1)+s[B.slice(-1)]),typeof _=="number")_<0?(q=u(_).slice(3),O="-"):(q=u(_).slice(2),O=""),q=O+q.slice(0,-1)+s[q.slice(-1)];else{if(Qn(_)!=="object")throw new Error("Don't know what to do with value type "+Qn(_)+".");q=h(_)}P.push(B+q)}return P.push("}"),P.join("")},f=n.__fontmetrics__.uncompress=function(T){if(typeof T!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,B,q,O,P={},tt=1,J=P,it=[],st="",St="",G=T.length-1,M=1;M<G;M+=1)(O=T[M])=="'"?_?(q=_.join(""),_=void 0):_=[]:_?_.push(O):O=="{"?(it.push([J,q]),J={},q=void 0):O=="}"?((B=it.pop())[0][B[1]]=J,q=void 0,J=B[0]):O=="-"?tt=-1:q===void 0?r.hasOwnProperty(O)?(st+=r[O],q=parseInt(st,16)*tt,tt=1,st=""):st+=O:r.hasOwnProperty(O)?(St+=r[O],J[q]=parseInt(St,16)*tt,tt=1,q=void 0,St=""):St+=O;return P},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(T){var _=T.font,B=A.Unicode[_.postScriptName];B&&(_.metadata.Unicode={},_.metadata.Unicode.widths=B.widths,_.metadata.Unicode.kerning=B.kerning);var q=y.Unicode[_.postScriptName];q&&(_.metadata.Unicode.encoding=q,_.encoding=q.codePages[0])}])})(ye.API),(function(n){var t=function(e){for(var r=e.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=e.charCodeAt(o);return s};n.API.events.push(["addFont",function(e){var r=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(yp(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(ye),ye.API.addSvgAsImage=function(n,t,e,r,s,o,u,h){if(isNaN(t)||isNaN(e))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Ge.canvg?Promise.resolve(Ge.canvg):Ug(()=>import("./index.es-BkNXatD5.js"),[])).catch(function(T){return Promise.reject(new Error("Could not load canvg: "+T))}).then(function(T){return T.default?T.default:T}).then(function(T){return T.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(y)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,r,s,u,h)})},ye.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,e);return this},ye.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],d=0,y=0,A=0;function T(B,q){var O,P=!1;for(O=0;O<B.length;O+=1)B[O]===q&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=h.length;for(A=0;A<_;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Qn(n)==="object"){for(s in n)if(o=n[s],T(h,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&T(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[s].value="["+f.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,q=[];for(B in e)e[B].explicitSet===!0&&(e[B].type==="name"?q.push("/"+B+" /"+e[B].value):q.push("/"+B+" "+e[B].value));q.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+q.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},ye.API.addMetadata=function(n,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",nI),this.internal.events.subscribe("postPutResources",eI)),this},(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],A=0,T=o.length;A<T;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return y.join("");h=h.toString(16),y.push(d[4-h.length],h)}return y.join("")},r=function(o){var u,h,f,d,y,A,T;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,T=(h=Object.keys(o).sort(function(_,B){return _-B})).length;A<T;A++)u=h[A],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,y=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,T=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",B=0;B<T.length;B++)_+=String.fromCharCode(T[B]);var q=d();y({data:_,addLength1:!0,objectId:q}),f("endobj");var O=d();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var P=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+uh(h.fontName)),f("/FontFile2 "+q+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var tt=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+uh(h.fontName)),f("/FontDescriptor "+P+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+uh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+tt+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,y=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,T="",_=0;_<A.length;_++)T+=String.fromCharCode(A[_]);var B=d();y({data:T,addLength1:!0,objectId:B}),f("endobj");var q=d();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var O=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+B+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+uh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var P=0;P<h.metadata.hmtx.widths.length;P++)h.metadata.hmtx.widths[P]=parseInt(h.metadata.hmtx.widths[P]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+q+" 0 R/BaseFont/"+uh(h.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,h=o.text||"",f=o.x,d=o.y,y=o.options||{},A=o.mutex||{},T=A.pdfEscape,_=A.activeFontKey,B=A.fonts,q=_,O="",P=0,tt="",J=B[q].encoding;if(B[q].encoding!=="Identity-H")return{text:h,x:f,y:d,options:y,mutex:A};for(tt=h,q=_,Array.isArray(h)&&(tt=h[0]),P=0;P<tt.length;P+=1)B[q].metadata.hasOwnProperty("cmap")&&(u=B[q].metadata.cmap.unicode.codeMap[tt[P].charCodeAt(0)]),u||tt[P].charCodeAt(0)<256&&B[q].metadata.hasOwnProperty("Unicode")?O+=tt[P]:O+="";var it="";return parseInt(q.slice(1))<14||J==="WinAnsiEncoding"?it=T(O,q).split("").map(function(st){return st.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(it=e(O,B[q])),A.isHex=!0,{text:it,x:f,y:d,options:y,mutex:A}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?h.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):h.push(s(Object.assign({},f,{text:u[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:u})).text}])})(ye),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(ye.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,h,f,d,y,A=t,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},q={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),tt=!1,J=0;this.__bidiEngine__={};var it=function(R){var N=R.charCodeAt(),I=N>>8,$=q[I];return $!==void 0?A[256*$+(255&N)]:I===252||I===253?"AL":P.test(I)?"L":I===8?"R":"N"},st=function(R){for(var N,I=0;I<R.length;I++){if((N=it(R.charAt(I)))==="L")return!1;if(N==="R")return!0}return!1},St=function(R,N,I,$){var mt,rt,ft,at,bt=N[$];switch(bt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":tt=!1;break;case"N":case"AN":break;case"EN":tt&&(bt="AN");break;case"AL":tt=!0,bt="R";break;case"WS":case"BN":bt="N";break;case"CS":$<1||$+1>=N.length||(mt=I[$-1])!=="EN"&&mt!=="AN"||(rt=N[$+1])!=="EN"&&rt!=="AN"?bt="N":tt&&(rt="AN"),bt=rt===mt?rt:"N";break;case"ES":bt=(mt=$>0?I[$-1]:"B")==="EN"&&$+1<N.length&&N[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&I[$-1]==="EN"){bt="EN";break}if(tt){bt="N";break}for(ft=$+1,at=N.length;ft<at&&N[ft]==="ET";)ft++;bt=ft<at&&N[ft]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(at=N.length,ft=$+1;ft<at&&N[ft]==="NSM";)ft++;if(ft<at){var Dt=R[$],nt=Dt>=1425&&Dt<=2303||Dt===64286;if(mt=N[ft],nt&&(mt==="R"||mt==="AL")){bt="R";break}}}bt=$<1||(mt=N[$-1])==="B"?"N":I[$-1];break;case"B":tt=!1,s=!0,bt=J;break;case"S":o=!0,bt="N"}return bt},G=function(R,N,I){var $=R.split("");return I&&M($,I,{hiLevel:J}),$.reverse(),N&&N.reverse(),$.join("")},M=function(R,N,I){var $,mt,rt,ft,at,bt=-1,Dt=R.length,nt=0,k=[],z=J?_:T,W=[];for(tt=!1,s=!1,o=!1,mt=0;mt<Dt;mt++)W[mt]=it(R[mt]);for(rt=0;rt<Dt;rt++){if(at=nt,k[rt]=St(R,W,k,rt),$=240&(nt=z[at][B[k[rt]]]),nt&=15,N[rt]=ft=z[nt][5],$>0)if($===16){for(mt=bt;mt<rt;mt++)N[mt]=1;bt=-1}else bt=-1;if(z[nt][6])bt===-1&&(bt=rt);else if(bt>-1){for(mt=bt;mt<rt;mt++)N[mt]=ft;bt=-1}W[rt]==="B"&&(N[rt]=0),I.hiLevel|=ft}o&&(function(K,ht,gt){for(var Nt=0;Nt<gt;Nt++)if(K[Nt]==="S"){ht[Nt]=J;for(var Ct=Nt-1;Ct>=0&&K[Ct]==="WS";Ct--)ht[Ct]=J}})(W,N,Dt)},w=function(R,N,I,$,mt){if(!(mt.hiLevel<R)){if(R===1&&J===1&&!s)return N.reverse(),void(I&&I.reverse());for(var rt,ft,at,bt,Dt=N.length,nt=0;nt<Dt;){if($[nt]>=R){for(at=nt+1;at<Dt&&$[at]>=R;)at++;for(bt=nt,ft=at-1;bt<ft;bt++,ft--)rt=N[bt],N[bt]=N[ft],N[ft]=rt,I&&(rt=I[bt],I[bt]=I[ft],I[ft]=rt);nt=at}nt++}}},F=function(R,N,I){var $=R.split(""),mt={hiLevel:J};return I||(I=[]),M($,I,mt),(function(rt,ft,at){if(at.hiLevel!==0&&y)for(var bt,Dt=0;Dt<rt.length;Dt++)ft[Dt]===1&&(bt=O.indexOf(rt[Dt]))>=0&&(rt[Dt]=O[bt+1])})($,I,mt),w(2,$,N,I,mt),w(1,$,N,I,mt),$.join("")};return this.__bidiEngine__.doBidiReorder=function(R,N,I){if((function(mt,rt){if(rt)for(var ft=0;ft<mt.length;ft++)rt[ft]=ft;h===void 0&&(h=st(mt)),d===void 0&&(d=st(mt))})(R,N),u||!f||d)if(u&&f&&h^d)J=h?1:0,R=G(R,N,I);else if(!u&&f&&d)J=h?1:0,R=F(R,N,I),R=G(R,N);else if(!u||h||f||d){if(u&&!f&&h^d)R=G(R,N),h?(J=0,R=F(R,N,I)):(J=1,R=F(R,N,I),R=G(R,N));else if(u&&h&&!f&&d)J=1,R=F(R,N,I),R=G(R,N);else if(!u&&!f&&h^d){var $=y;h?(J=1,R=F(R,N,I),J=0,y=!1,R=F(R,N,I),y=$):(J=0,R=F(R,N,I),R=G(R,N),J=1,y=!1,R=F(R,N,I),y=$,R=G(R,N))}}else J=0,R=F(R,N,I);else J=h?1:0,R=F(R,N,I);return R},this.__bidiEngine__.setOptions=function(R){R&&(u=R.isInputVisual,f=R.isOutputVisual,h=R.isInputRtl,d=R.isOutputRtl,y=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([e.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([e.doBidiReorder(s[h])]);r.text=u}else r.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(ye),ye.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Ru(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new yI(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new iI(this.contents),this.head=new aI(this),this.name=new cI(this),this.cmap=new Sw(this),this.toUnicode={},this.hhea=new sI(this),this.maxp=new hI(this),this.hmtx=new fI(this),this.post=new lI(this),this.os2=new oI(this),this.loca=new mI(this),this.glyf=new dI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.bbox).length;u<h;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var s,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var yo,Ru=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,s;for(s=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,s,o,u,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*s+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),iI=(function(){var n;function t(e){var r,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,s,o,u,h,f,d,y,A,T,_,B,q;for(q in _=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),u=Math.floor(A/f),y=16*_-A,(s=new Ru).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(u),s.writeShort(y),o=16*_,d=s.pos+o,h=null,B=[],e)for(T=e[q],s.writeString(q),s.writeInt(n(T)),s.writeInt(d),s.writeInt(T.length),B=B.concat(T),q==="head"&&(h=d),d+=T.length;d%4;)B.push(0),d++;return s.write(B),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(e){var r,s,o,u;for(e=Aw.call(e);e.length%4;)e.push(0);for(o=new Ru(e),s=0,r=0,u=e.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},t})(),rI={}.hasOwnProperty,Xo=function(n,t){for(var e in t)rI.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};yo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var aI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Ru).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),nx=(function(){function n(t,e){var r,s,o,u,h,f,d,y,A,T,_,B,q,O,P,tt,J;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(_=t.readUInt16(),T=_/2,t.pos+=6,o=(function(){var it,st;for(st=[],f=it=0;0<=T?it<T:it>T;f=0<=T?++it:--it)st.push(t.readUInt16());return st})(),t.pos+=2,q=(function(){var it,st;for(st=[],f=it=0;0<=T?it<T:it>T;f=0<=T?++it:--it)st.push(t.readUInt16());return st})(),d=(function(){var it,st;for(st=[],f=it=0;0<=T?it<T:it>T;f=0<=T?++it:--it)st.push(t.readUInt16());return st})(),y=(function(){var it,st;for(st=[],f=it=0;0<=T?it<T:it>T;f=0<=T?++it:--it)st.push(t.readUInt16());return st})(),s=(this.length-t.pos+this.offset)/2,h=(function(){var it,st;for(st=[],f=it=0;0<=s?it<s:it>s;f=0<=s?++it:--it)st.push(t.readUInt16());return st})(),f=P=0,J=o.length;P<J;f=++P)for(O=o[f],r=tt=B=q[f];B<=O?tt<=O:tt>=O;r=B<=O?++tt:--tt)y[f]===0?u=r+d[f]:(u=h[y[f]/2+(r-B)-(T-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}t.pos=A}return n.encode=function(t,e){var r,s,o,u,h,f,d,y,A,T,_,B,q,O,P,tt,J,it,st,St,G,M,w,F,R,N,I,$,mt,rt,ft,at,bt,Dt,nt,k,z,W,K,ht,gt,Nt,Ct,Ot,Kt,ne;switch($=new Ru,u=Object.keys(t).sort(function(ee,ce){return ee-ce}),e){case"macroman":for(q=0,O=(function(){var ee=[];for(B=0;B<256;++B)ee.push(0);return ee})(),tt={0:0},o={},mt=0,bt=u.length;mt<bt;mt++)tt[Ct=t[s=u[mt]]]==null&&(tt[Ct]=++q),o[s]={old:t[s],new:tt[t[s]]},O[s]=tt[t[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(O),{charMap:o,subtable:$.data,maxGlyphID:q+1};case"unicode":for(N=[],A=[],J=0,tt={},r={},P=d=null,rt=0,Dt=u.length;rt<Dt;rt++)tt[st=t[s=u[rt]]]==null&&(tt[st]=++J),r[s]={old:st,new:tt[st]},h=tt[st]-s,P!=null&&h===d||(P&&A.push(P),N.push(s),d=h),P=s;for(P&&A.push(P),A.push(65535),N.push(65535),F=2*(w=N.length),M=2*Math.pow(Math.log(w)/Math.LN2,2),T=Math.log(M/2)/Math.LN2,G=2*w-M,f=[],St=[],_=[],B=ft=0,nt=N.length;ft<nt;B=++ft){if(R=N[B],y=A[B],R===65535){f.push(0),St.push(0);break}if(R-(I=r[R].new)>=32768)for(f.push(0),St.push(2*(_.length+w-B)),s=at=R;R<=y?at<=y:at>=y;s=R<=y?++at:--at)_.push(r[s].new);else f.push(I-R),St.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*w+2*_.length),$.writeUInt16(0),$.writeUInt16(F),$.writeUInt16(M),$.writeUInt16(T),$.writeUInt16(G),gt=0,k=A.length;gt<k;gt++)s=A[gt],$.writeUInt16(s);for($.writeUInt16(0),Nt=0,z=N.length;Nt<z;Nt++)s=N[Nt],$.writeUInt16(s);for(Ot=0,W=f.length;Ot<W;Ot++)h=f[Ot],$.writeUInt16(h);for(Kt=0,K=St.length;Kt<K;Kt++)it=St[Kt],$.writeUInt16(it);for(ne=0,ht=_.length;ne<ht;ne++)q=_[ne],$.writeUInt16(q);return{charMap:r,subtable:$.data,maxGlyphID:J+1}}},n})(),Sw=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)e=new nx(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,s;return e==null&&(e="macroman"),r=nx.encode(t,e),(s=new Ru).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),sI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),oI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),lI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),uI=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,s,o,u,h,f,d,y,A,T;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=y=0,A=r.length;y<A;o=++y)s=r[o],t.pos=s.offset,d=t.readString(s.length),u=new uI(d,s),f[T=s.nameID]==null&&(f[T]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),hI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),fI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,s,o,u,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)y.push(t.readInt16());return y})(),this.widths=(function(){var d,y,A,T;for(T=[],d=0,y=(A=this.metrics).length;d<y;d++)o=A[d],T.push(o.advance);return T}).call(this),r=this.widths[this.widths.length-1],f=[],e=u=0;0<=s?u<s:u>s;e=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),Aw=[].slice,dI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,s,o,u,h,f,d,y,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,u=(h=new Ru(e.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),y=h.readShort(),this.cache[t]=u===-1?new gI(h,d,A,f,y):new pI(h,u,d,A,f,y),this.cache[t]))},n.prototype.encode=function(t,e,r){var s,o,u,h,f;for(u=[],o=[],h=0,f=e.length;h<f;h++)s=t[e[h]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),pI=(function(){function n(t,e,r,s,o,u){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),gI=(function(){function n(t,e,r,s,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Ru(Aw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),mI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<e.length&&e[o]==u){++o,r[u]=s;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),yI=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=s[r];return t},n.prototype.glyphsFor=function(t){var e,r,s,o,u,h,f;for(s={},u=0,h=t.length;u<h;u++)s[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(r=s[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],s[o]=r;return s},n.prototype.encode=function(t,e){var r,s,o,u,h,f,d,y,A,T,_,B,q,O,P;for(s in r=Sw.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),_={0:0},P=r.charMap)_[(f=P[s]).old]=f.new;for(B in T=r.maxGlyphID,u)B in _||(_[B]=T++);return y=(function(tt){var J,it;for(J in it={},tt)it[tt[J]]=J;return it})(_),A=Object.keys(y).sort(function(tt,J){return tt-J}),q=(function(){var tt,J,it;for(it=[],tt=0,J=A.length;tt<J;tt++)h=A[tt],it.push(y[h]);return it})(),o=this.font.glyf.encode(u,q,_),d=this.font.loca.encode(o.offsets,q),O={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},n})();ye.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,s,o,u;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)r=e[h],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)u=e[s],o.push("/"+s+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();function Ew(n,t,e,r,s){r=r||{};var o=1.15,u=s.internal.scaleFactor,h=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,y=/\r\n|\r|\n/g,A="",T=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(y):n,T=A.length||1),e+=h*(2-o),r.valign==="middle"?e-=T/2*d:r.valign==="bottom"&&(e-=T*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),A&&T>=1){for(var B=0;B<A.length;B++)s.text(A[B],t-s.getStringUnitWidth(A[B])*_,e),e+=d;return s}t-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,t,e),s}var ix={},yh=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:ix=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var r,s,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var u=this.jsPDFDocument.internal.getFont(),h=u.fontStyle,f=u.fontName;if(t.font&&(f=t.font),t.fontStyle){h=t.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var y=n.unifyColor(t.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(t.textColor),y&&(s=this.jsPDFDocument).setTextColor.apply(s,y),y=n.unifyColor(t.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},n.prototype.rect=function(t,e,r,s,o){return this.jsPDFDocument.rect(t,e,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return ix||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),K0=function(n,t){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},K0(n,t)};function Tw(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K0(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Cw=(function(n){Tw(t,n);function t(e){var r=n.call(this)||this;return r._element=e,r}return t})(Array);function vI(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function bI(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function Hp(n,t,e){e.applyStyles(t,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return e.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function Nw(n,t,e,r){var s=t.settings.tableLineWidth,o=t.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var u=Rw(s,!1);u&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),r.y-e.y,u)}function Rw(n,t){var e=n>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function c1(n,t){var e,r,s,o;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(r=n.top)!==null&&r!==void 0?r:t,right:(s=n.right)!==null&&s!==void 0?s:t,bottom:(o=n.bottom)!==null&&o!==void 0?o:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function Iw(n,t){var e=c1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function xI(n,t,e,r,s){var o={},u=1.3333333333333333,h=u0(t,function(J){return s.getComputedStyle(J).backgroundColor});h!=null&&(o.fillColor=h);var f=u0(t,function(J){return s.getComputedStyle(J).color});f!=null&&(o.textColor=f);var d=wI(r,e);d&&(o.cellPadding=d);var y="borderTopColor",A=u*e,T=r.borderTopWidth;if(r.borderBottomWidth===T&&r.borderRightWidth===T&&r.borderLeftWidth===T){var _=(parseFloat(T)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var B=u0(t,function(J){return s.getComputedStyle(J)[y]});B!=null&&(o.lineColor=B);var q=["left","right","center","justify"];q.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),q=["middle","bottom","top"],q.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var O=parseInt(r.fontSize||"");isNaN(O)||(o.fontSize=O/u);var P=_I(r);P&&(o.fontStyle=P);var tt=(r.fontFamily||"").toLowerCase();return n.indexOf(tt)!==-1&&(o.font=tt),o}function _I(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function u0(n,t){var e=Lw(n,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Lw(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:Lw(n.parentElement,t):e}function wI(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/t),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,o=e.map(function(h){return parseInt(h||"0")/r}),u=c1(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function Dw(n,t,e,r,s){var o,u;r===void 0&&(r=!1),s===void 0&&(s=!1);var h;typeof t=="string"?h=e.document.querySelector(t):h=t;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],A=[],T=[];if(!h)return console.error("Html table could not be found with input: ",t),{head:y,body:A,foot:T};for(var _=0;_<h.rows.length;_++){var B=h.rows[_],q=(u=(o=B?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),O=SI(f,d,e,B,r,s);O&&(q==="thead"?y.push(O):q==="tfoot"?T.push(O):A.push(O))}return{head:y,body:A,foot:T}}function SI(n,t,e,r,s,o){for(var u=new Cw(r),h=0;h<r.cells.length;h++){var f=r.cells[h],d=e.getComputedStyle(f);if(s||d.display!=="none"){var y=void 0;o&&(y=xI(n,f,t,d,e)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:AI(f)})}}var A=e.getComputedStyle(r);if(u.length>0&&(s||A.display!=="none"))return u}function AI(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function EI(n,t,e){for(var r=0,s=[n,t,e];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Nl(n,t,e,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function jw(n,t){var e=new yh(n),r=e.getDocumentOptions(),s=e.getGlobalOptions();EI(s,r,t);var o=Nl({},s,r,t),u;typeof window<"u"&&(u=window);var h=TI(s,r,t),f=CI(s,r,t),d=NI(e,o),y=II(e,o,u);return{id:t.tableId,content:y,hooks:f,styles:h,settings:d}}function TI(n,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],y=t[f],A=e[f];r.columnStyles=Nl({},d,y,A)}else{var T=[n,t,e],_=T.map(function(B){return B[f]||{}});r[f]=Nl({},_[0],_[1],_[2])}},o=0,u=Object.keys(r);o<u.length;o++){var h=u[o];s(h)}return r}function CI(n,t,e){for(var r=[n,t,e],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var h=u[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function NI(n,t){var e,r,s,o,u,h,f,d,y,A,T,_,B=c1(t.margin,40/n.scaleFactor()),q=(e=RI(n,t.startY))!==null&&e!==void 0?e:B.top,O;t.showFoot===!0?O="everyPage":t.showFoot===!1?O="never":O=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var P;t.showHead===!0?P="everyPage":t.showHead===!1?P="never":P=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var tt=(o=t.useCss)!==null&&o!==void 0?o:!1,J=t.theme||(tt?"plain":"striped"),it=!!t.horizontalPageBreak,st=(u=t.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(h=t.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:tt,theme:J,startY:q,margin:B,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=t.tableWidth)!==null&&y!==void 0?y:"auto",showHead:P,showFoot:O,tableLineWidth:(A=t.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(T=t.tableLineColor)!==null&&T!==void 0?T:200,horizontalPageBreak:it,horizontalPageBreakRepeat:st,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function RI(n,t){var e=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(e&&e.startPageNumber){var u=e.startPageNumber+e.pageNumber-1;o=u===s}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/r:null}function II(n,t,e){var r=t.head||[],s=t.body||[],o=t.foot||[];if(t.html){var u=t.includeHiddenHtml;if(e){var h=Dw(n,t.html,e,u,t.useCss)||{};r=h.head||r,s=h.body||r,o=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=t.columns||LI(r,s,o);return{columns:f,head:r,body:s,foot:o}}function LI(n,t,e){var r=n[0]||t[0]||e[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,h;Array.isArray(r)?h=r[parseInt(o)]:h=r[o],typeof h=="object"&&!Array.isArray(h)&&(u=h?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};s.push(y)}}),s}var Q0=(function(){function n(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return n})(),DI=(function(n){Tw(t,n);function t(e,r,s,o,u,h){var f=n.call(this,e,r,h)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return t})(Q0),jI=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,r,s,o,u){for(var h=0,f=e;h<f.length;h++){var d=f[h],y=new DI(t,this,r,s,o,u),A=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new Q0(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new Q0(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},n})(),kw=(function(){function n(t,e,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof Cw&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,s){var o;return Math.max(r,((o=e.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var s=e.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(s,o){var u=r.cells[o.index];if(!u)return 0;var h=e.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),Mw=(function(){function n(t,e,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=u.split(h)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*e,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=c1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),kI=(function(){function n(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,s=t.allRows();r<s.length;r++){var o=s[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(e=Math.max(e,u.styles.cellWidth))}return e},n})();function MI(n,t){OI(n,t);var e=[],r=0;t.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(t);u?o.width=u:(o.width=o.wrappedWidth,e.push(o)),r+=o.width});var s=t.getWidth(n.pageSize().width)-r;s&&(s=X0(e,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=X0(e,s,function(o){return o.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),zI(t),FI(t,n),PI(t)}function OI(n,t){var e=n.scaleFactor(),r=t.settings.horizontalPageBreak,s=Iw(n,t);t.allRows().forEach(function(o){for(var u=0,h=t.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d){var y=t.hooks.didParseCell;t.callCellHooks(n,y,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=Hp(d.text,d.styles,n)+A;var T=Hp(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=T+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/e;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(o){for(var u=0,h=t.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},A=y.cellWidth||y.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function X0(n,t,e){for(var r=t,s=n.reduce(function(_,B){return _+B.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],h=u.wrappedWidth/s,f=r*h,d=u.width+f,y=e(u),A=d<y?y:d;t-=A-u.width,u.width=A}if(t=Math.round(t*1e10)/1e10,t){var T=n.filter(function(_){return t<0?_.width>e(_):!0});T.length&&(t=X0(T,t,e))}return t}function PI(n){for(var t={},e=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],u=0,h=n.columns;u<h.length;u++){var f=h[u],d=t[f.index];if(e>1)e--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,e=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete t[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var A=r.length-s,T=y.rowSpan>A?A:y.rowSpan;t[f.index]={cell:y,left:T,row:o}}}}}function zI(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var r=t[e],s=null,o=0,u=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(u-=1,u>1&&n.columns[h+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function FI(n,t){for(var e={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],u=0,h=n.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d){t.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,y+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=rx(d.text,y,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=rx(d.text,y,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,y);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var T=d.contentHeight/d.rowSpan;d.rowSpan>1&&e.count*e.height<T*d.rowSpan?e={height:T,count:d.rowSpan}:e&&e.count>0&&e.height>T&&(T=e.height),T>o.height&&(o.height=T)}}e.count--}}function rx(n,t,e,r,s){return n.map(function(o){return BI(o,t,e,r,s)})}function BI(n,t,e,r,s){var o=1e4*r.scaleFactor();if(t=Math.ceil(t*o)/o,t>=Hp(n,e,r))return n;for(;t<Hp(n+s,e,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function Ow(n,t){var e=new yh(n),r=UI(t,e.scaleFactor()),s=new jI(t,r);return MI(e,s),e.applyStyles(e.userStyles),s}function UI(n,t){var e=n.content,r=qI(e.columns);if(e.head.length===0){var s=ax(r,"head");s&&e.head.push(s)}if(e.foot.length===0){var s=ax(r,"foot");s&&e.foot.push(s)}var o=n.settings.theme,u=n.styles;return{columns:r,head:c0("head",e.head,r,u,o,t),body:c0("body",e.body,r,u,o,t),foot:c0("foot",e.foot,r,u,o,t)}}function c0(n,t,e,r,s,o){var u={},h=t.map(function(f,d){for(var y=0,A={},T=0,_=0,B=0,q=e;B<q.length;B++){var O=q[B];if(u[O.index]==null||u[O.index].left===0)if(_===0){var P=void 0;Array.isArray(f)?P=f[O.index-T-y]:P=f[O.dataKey];var tt={};typeof P=="object"&&!Array.isArray(P)&&(tt=P?.styles||{});var J=HI(n,O,d,s,r,o,tt),it=new Mw(P,J,n);A[O.dataKey]=it,A[O.index]=it,_=it.colSpan-1,u[O.index]={left:it.rowSpan-1,times:_}}else _--,T++;else u[O.index].left--,_=u[O.index].times,y++}return new kw(f,d,n,A)});return h}function ax(n,t){var e={};return n.forEach(function(r){if(r.raw!=null){var s=VI(t,r.raw);s!=null&&(e[r.dataKey]=s)}}),Object.keys(e).length>0?e:null}function VI(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function qI(n){return n.map(function(t,e){var r,s;return typeof t=="object"?s=(r=t.dataKey)!==null&&r!==void 0?r:e:s=e,new kI(s,t,e)})}function HI(n,t,e,r,s,o,u){var h=bI(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Nl({},h.table,h[n],s.styles,f),y=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},A=n==="body"?y:{},T=n==="body"&&e%2===0?Nl({},h.alternateRow,s.alternateRowStyles):{},_=vI(o),B=Nl({},_,d,T,A);return Nl(B,u)}function GI(n,t,e){var r;e===void 0&&(e={});var s=Iw(n,t),o=new Map,u=[],h=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(T){var _=t.columns.find(function(B){return B.dataKey===T||B.index===T});_&&!o.has(_.index)&&(o.set(_.index,!0),u.push(_.index),h.push(t.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,y=(r=e?.start)!==null&&r!==void 0?r:0;y<t.columns.length;){if(o.has(y)){y++;continue}var A=t.columns[y].wrappedWidth;if(d||s>=A)d=!1,u.push(y),h.push(t.columns[y]),s-=A;else break;y++}return{colIndexes:u,columns:h,lastIndex:y-1}}function YI(n,t){for(var e=[],r=0;r<t.columns.length;r++){var s=GI(n,t,{start:r});s.columns.length&&(e.push(s),r=s.lastIndex)}return e}function Pw(n,t){var e=t.settings,r=e.startY,s=e.margin,o={x:s.left,y:r},u=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),h=r+s.bottom+u;if(e.pageBreak==="avoid"){var f=t.body,d=f.reduce(function(T,_){return T+_.height},0);h+=d}var y=new yh(n);(e.pageBreak==="always"||e.startY!=null&&h>y.pageSize().height)&&(Fw(y),o.y=s.top),t.callWillDrawPageHooks(y,o);var A=Nl({},o);t.startPageNumber=y.pageNumber(),e.horizontalPageBreak?WI(y,t,A,o):(y.applyStyles(y.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(T){return kl(y,t,T,o,t.columns)}),y.applyStyles(y.userStyles),t.body.forEach(function(T,_){var B=_===t.body.length-1;Gp(y,t,T,B,A,o,t.columns)}),y.applyStyles(y.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(T){return kl(y,t,T,o,t.columns)})),Nw(y,t,A,o),t.callEndPageHooks(y,o),t.finalY=o.y,n.lastAutoTable=t,y.applyStyles(y.userStyles)}function WI(n,t,e,r){var s=YI(n,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?kf(n,t,e,r,d.columns,!0):sx(n,t,r,d.columns),$I(n,t,e,r,d.columns),h0(n,t,r,d.columns)});else for(var u=-1,h=s[0],f=function(){var d=u;if(h){n.applyStyles(n.userStyles);var y=h.columns;u>=0?kf(n,t,e,r,y,!0):sx(n,t,r,y),d=ox(n,t,u+1,r,y),h0(n,t,r,y)}var A=d-u;s.slice(1).forEach(function(T){n.applyStyles(n.userStyles),kf(n,t,e,r,T.columns,!0),ox(n,t,u+1,r,T.columns,A),h0(n,t,r,T.columns)}),u=d};u<t.body.length-1;)f()}function sx(n,t,e,r){var s=t.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(o){return kl(n,t,o,e,r)})}function $I(n,t,e,r,s){n.applyStyles(n.userStyles),t.body.forEach(function(o,u){var h=u===t.body.length-1;Gp(n,t,o,h,e,r,s)})}function ox(n,t,e,r,s,o){n.applyStyles(n.userStyles),o=o??t.body.length;var u=Math.min(e+o,t.body.length),h=-1;return t.body.slice(e,u).forEach(function(f,d){var y=e+d===t.body.length-1,A=zw(n,t,y,r);f.canEntireRowFit(A,s)&&(kl(n,t,f,r,s),h=e+d)}),h}function h0(n,t,e,r){var s=t.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(o){return kl(n,t,o,e,r)})}function KI(n,t,e){var r=e.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((t-s)/r);return Math.max(0,o)}function QI(n,t,e,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,h=e.columns;u<h.length;u++){var f=h[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new Mw(d.raw,d.styles,d.section);y=Nl(y,d),y.text=[];var A=KI(d,t,r);d.text.length>A&&(y.text=d.text.splice(A,d.text.length));var T=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(T,_),d.contentHeight>=t&&(d.contentHeight=t,y.styles.minCellHeight-=t),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(T,_),y.contentHeight>o&&(o=y.contentHeight),s[f.index]=y}}var B=new kw(n.raw,-1,n.section,s,!0);B.height=o;for(var q=0,O=e.columns;q<O.length;q++){var f=O[q],y=B.cells[f.index];y&&(y.height=B.height);var d=n.cells[f.index];d&&(d.height=n.height)}return B}function XI(n,t,e,r){var s=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,h=s-u;t.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=t.getMinimumRowHeight(r.columns,n),d=f<e;if(f>h)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=t.hasRowSpan(r.columns),A=t.getMaxCellHeight(r.columns)>h;return A?(y&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function Gp(n,t,e,r,s,o,u){var h=zw(n,t,r,o);if(e.canEntireRowFit(h,u))kl(n,t,e,o,u);else if(XI(n,e,h,t)){var f=QI(e,h,t,n);kl(n,t,e,o,u),kf(n,t,s,o,u),Gp(n,t,f,r,s,o,u)}else kf(n,t,s,o,u),Gp(n,t,e,r,s,o,u)}function kl(n,t,e,r,s){r.x=t.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var h=u[o],f=e.cells[h.index];if(!f){r.x+=h.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=t.callCellHooks(n,t.hooks.willDrawCell,f,e,h,r);if(d===!1){r.x+=h.width;continue}ZI(n,f,r);var y=f.getTextPos();Ew(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,f,e,h,r),r.x+=h.width}r.y+=e.height}function ZI(n,t,e){var r=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=Rw(r.lineWidth,r.fillColor);s&&n.rect(t.x,e.y,t.width,t.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),JI(n,t,e,r.lineWidth))}function JI(n,t,e,r){var s,o,u,h;r.top&&(s=e.x,o=e.y,u=e.x+t.width,h=e.y,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,u,h)),r.bottom&&(s=e.x,o=e.y+t.height,u=e.x+t.width,h=e.y+t.height,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,u,h)),r.left&&(s=e.x,o=e.y,u=e.x,h=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,s,o,u,h)),r.right&&(s=e.x+t.width,o=e.y,u=e.x+t.width,h=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,s,o,u,h));function f(d,y,A,T,_){n.getDocument().setLineWidth(d),n.getDocument().line(y,A,T,_,"S")}}function zw(n,t,e,r){var s=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(s+=t.getFootHeight(t.columns)),n.pageSize().height-r.y-s}function kf(n,t,e,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(h){return kl(n,t,h,r,s)}),t.callEndPageHooks(n,r);var u=t.settings.margin;Nw(n,t,e,r),Fw(n),t.pageNumber++,r.x=u.left,r.y=u.top,e.y=u.top,t.callWillDrawPageHooks(n,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(h){return kl(n,t,h,r,s)}),n.applyStyles(n.userStyles))}function Fw(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function tL(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],s=jw(this,r),o=Ow(this,s);return Pw(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,r,s){Ew(t,e,r,s,this)},n.API.autoTableSetDefaults=function(t){return yh.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){yh.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new yh(this),o=Dw(s,t,window,e,!1),u=o.head,h=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var f0;function Rl(n,t){var e=jw(n,t),r=Ow(n,e);Pw(n,r)}try{if(typeof window<"u"&&window){var lx=window,ux=lx.jsPDF||((f0=lx.jspdf)===null||f0===void 0?void 0:f0.jsPDF);ux&&tL(ux)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Th="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3cdefs%3e%3clinearGradient%20id='grad1'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23006CE0;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23004BA0;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3ccircle%20cx='50'%20cy='50'%20r='45'%20fill='url(%23grad1)'%20/%3e%3cpath%20d='M55%2020%20L35%2050%20L50%2050%20L45%2080%20L65%2050%20L50%2050%20Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3c/svg%3e",eL=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],nL=({tickets:n,computers:t})=>{const[e,r]=te.useState("tickets"),[s,o]=te.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[u,h]=te.useState([]),[f,d]=te.useState(!1),y=w=>{h(F=>F.includes(w)?F.filter(R=>R!==w):[...F,w])},A=()=>u.length===0?t||[]:(t||[]).filter(w=>u.includes(w.type)),_=(n||[]).filter(w=>w.status==="closed").filter(w=>{if(!w.closedAt)return!1;try{const F=new Date(w.closedAt).toISOString().split("T")[0];return F>=s.start&&F<=s.end}catch{return!1}}),B=[0,108,224],q=[100,100,100],O=[245,247,250],P=(w,F,R)=>{const N=w.internal.pageSize.width;try{const I=new Image;I.src=Th,w.addImage(I,"PNG",14,10,30,10)}catch{console.warn("Logo not loaded")}w.setFillColor(...B),w.rect(0,0,N,5,"F"),w.setTextColor(0),w.setFontSize(22),w.setFont("helvetica","bold"),w.text("ELSPEC ANDINA",50,20),w.setFontSize(10),w.setTextColor(100),w.setFont("helvetica","normal"),w.text("Soluciones en Calidad de Energa",50,25),w.setDrawColor(200),w.line(14,30,N-14,30),F&&(w.setFontSize(18),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(F,14,42)),R&&(w.setFontSize(11),w.setTextColor(...q),w.setFont("helvetica","normal"),w.text(R,14,49))},tt=(w,F)=>{const R=w.internal.pageSize.width,N=w.internal.pageSize.height,I=w.internal.getNumberOfPages();w.setTextColor(150),w.setFontSize(8),w.text(`Pgina ${F} de ${I}`,R-14,N-10,{align:"right"}),w.text(`Confidencial - Uso Interno - Generado el ${new Date().toLocaleDateString()}`,14,N-10)},J=(w,F,R,N,I,$,mt,rt)=>{w.setFillColor(...O),w.setDrawColor(220),w.roundedRect(F,R,N,I,3,3,"FD"),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text($.toUpperCase(),F+5,R+8),w.setFontSize(16),w.setTextColor(...rt),w.setFont("helvetica","bold"),w.text(String(mt),F+5,R+20)},it=()=>{const w=new ye,F=w.internal.pageSize.width,R=_.length,N=_.reduce((z,W)=>(z[W.priority]=(z[W.priority]||0)+1,z),{high:0,medium:0,low:0}),I=_.reduce((z,W)=>(W.feedback&&W.feedback.rating&&(z.sum+=W.feedback.rating,z.count+=1),z),{sum:0,count:0}),$=I.count>0?(I.sum/I.count).toFixed(1):"N/A";P(w,"Resumen Ejecutivo de Servicios",`Periodo: ${s.start} al ${s.end}`);const mt=55,rt=25,ft=(F-34)/3;J(w,14,mt,ft,rt,"Tickets Resueltos",R,B),J(w,14+ft+3,mt,ft,rt,"Calificacin Prom.",`${$} / 5.0`,[245,158,11]),J(w,14+ft*2+6,mt,ft,rt,"Alta Prioridad",N.high,[220,38,38]);let at=mt+rt+15;w.setFontSize(12),w.setTextColor(...B),w.setFont("helvetica","bold"),w.text("Detalle de Servicios Prestados:",14,at),at+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("A continuacin se presenta el detalle de las solicitudes de soporte tcnico atendidas y cerradas durante el periodo seleccionado. Este informe consolida la gestin de incidentes y requerimientos para garantizar la continuidad operativa.",F-28),14,at),at+=20;const Dt=["ID","Ttulo","Solicitante","Prioridad","Fecha Cierre","Calif."],nt=_.map(z=>[z.id?z.id.slice(-6):"",z.title||"",z.author||"",(z.priority||"").toUpperCase(),z.closedAt?new Date(z.closedAt).toLocaleDateString():"",z.feedback?`${z.feedback.rating}/5`:"-"]);Rl(w,{head:[Dt],body:nt,startY:at,theme:"grid",headStyles:{fillColor:B,textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:O},margin:{top:35}});const k=w.internal.getNumberOfPages();for(let z=1;z<=k;z++)w.setPage(z),z>1&&P(w),tt(w,z);w.addPage(),P(w),at=40,w.setFontSize(16),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Detalladas de Servicio Tcnico",14,at),at+=15,_.forEach(z=>{const W=w.splitTextToSize(z.description||"",F-40).length,K=z.solution?w.splitTextToSize(z.solution,F-40).length:0,ht=60+W*5+K*5+(z.feedback?30:0);at+ht>280&&(w.addPage(),P(w),at=40),w.setFillColor(...O),w.setDrawColor(200),w.roundedRect(14,at,F-28,12,2,2,"F"),w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(0),w.text(`TICKET #${z.id?z.id.slice(-6):"N/A"}`,20,at+8),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Fecha: ${new Date(z.createdAt).toLocaleDateString()}`,60,at+8);const gt=z.priority==="high"?[220,38,38]:z.priority==="medium"?[217,119,6]:[22,163,74];w.setFont("helvetica","bold"),w.setTextColor(...gt),w.text(`Prioridad: ${z.priority.toUpperCase()}`,110,at+8),w.setTextColor(0),w.text(`Solicitante: ${z.author}`,160,at+8),at+=18,w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(...B);const Nt=w.splitTextToSize(z.title,F-28);w.text(Nt,14,at),at+=Nt.length*6+4,w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(50),w.text("DESCRIPCIN DEL PROBLEMA:",14,at),at+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Ct=w.splitTextToSize(z.description||"Sin detalles.",F-34);if(w.setFillColor(250),w.rect(14,at-4,F-28,Ct.length*5+6,"F"),w.text(Ct,17,at),at+=Ct.length*5+12,z.solution){w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(22,163,74),w.text("SOLUCIN TCNICA APLICADA:",14,at),at+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Ot=w.splitTextToSize(z.solution,F-34);if(w.setFillColor(240,253,244),w.rect(14,at-4,F-28,Ot.length*5+6,"F"),w.text(Ot,17,at),at+=Ot.length*5+4,z.recommendation){at+=4,w.setFont("helvetica","bold"),w.setTextColor(60),w.text("Recomendacin:",17,at),w.setFont("helvetica","normal");const Kt=w.splitTextToSize(z.recommendation,F-60);w.text(Kt,45,at),at+=Kt.length*5+6}else at+=8}else at+=5;if(z.feedback){w.setDrawColor(245,158,11),w.setLineWidth(.5),w.line(14,at,F-14,at),at+=6,w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(180,83,9),w.text("EVALUACIN DEL SERVICIO",14,at+4),w.setFontSize(12);const Ot="".repeat(z.feedback.rating)+"".repeat(5-z.feedback.rating);if(w.text(Ot,70,at+4),w.setFontSize(9),z.feedback.comment){w.setFont("helvetica","italic"),w.setTextColor(80);const Kt=w.splitTextToSize(`"${z.feedback.comment}"`,F-110);w.text(Kt,100,at+4),at+=Math.max(10,Kt.length*4+10)}else at+=12}else at+=10;w.setDrawColor(200),w.setLineWidth(.5),w.line(14,at-2,F-14,at-2),at+=10}),w.save(`Informe_Soporte_${s.end}.pdf`)},st=()=>{const w=new ye,F=w.internal.pageSize.width,R=A(),N=R.length,I=R.filter(z=>z.status==="Active").length,$=R.filter(z=>z.status==="Stock").length,mt=R.filter(z=>z.status==="Maintenance").length;P(w,"Inventario General de Activos IT",`Fecha de Corte: ${new Date().toLocaleDateString()}`);const rt=55,ft=25,at=(F-34)/4;J(w,14,rt,at,ft,"Total Equipos",N,B),J(w,14+at+2,rt,at,ft,"En Uso (Asignados)",I,[22,163,74]),J(w,14+at*2+4,rt,at,ft,"En Stock",$,[245,158,11]),J(w,14+at*3+6,rt,at,ft,"Mantenimiento",mt,[220,38,38]);let bt=rt+ft+15;w.setFontSize(12),w.setTextColor(...B),w.setFont("helvetica","bold"),w.text("Estado del Parque Informtico:",14,bt),bt+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Informe detallado de los activos tecnolgicos registrados en el sistema. Incluye equipos de cmputo asignados a usuarios, equipos disponibles en inventario y aquellos que se encuentran en procesos de reparacin o baja.",F-28),14,bt),bt+=20;const nt=R.map(z=>[z.name||`${z.brand} ${z.model}`,z.type||"N/A",z.serial||"N/A",z.assignedTo||"---",z.location||"N/A",z.status==="Active"?"EN USO":z.status==="Stock"?"DISPONIBLE":z.status.toUpperCase()]);Rl(w,{head:[["Equipo / Modelo","Tipo","Serial","Asignado A","Ubicacin","Estado","Fallas"]],body:nt.map(z=>{const K=R.find(ht=>ht.serial===z[2]||ht.name===z[0])?.hasFault?"S":"NO";return[...z,K]}),startY:bt,theme:"striped",headStyles:{fillColor:B,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:O},margin:{top:35}}),w.addPage(),P(w),bt=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Tcnicas Resumidas",14,bt),bt+=10,R.forEach((z,W)=>{bt+40>280&&(w.addPage(),P(w),bt=40),w.setFillColor(250,250,250),w.setDrawColor(220),w.roundedRect(14,bt,F-28,35,2,2,"FD"),w.setFontSize(12),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${z.brand} ${z.model}`.toUpperCase(),25,bt+10),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(`Serial: ${z.serial}`,25,bt+16),w.text(`Tipo: ${z.type}`,25,bt+22),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Especificaciones:",90,bt+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`CPU: ${z.processor||"N/A"}`,90,bt+16),w.text(`RAM: ${z.ram||"N/A"} | HDD: ${z.storage||"N/A"}`,90,bt+22),w.text(`OS: ${z.os||"N/A"}`,90,bt+28),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Asignacin:",150,bt+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Usuario: ${z.assignedTo||"---"}`,150,bt+16),w.text(`Ubicacin: ${z.location||"N/A"}`,150,bt+22);const K=z.status==="Active"?[22,163,74]:z.status==="Stock"?[245,158,11]:[220,38,38];w.setTextColor(...K),w.setFont("helvetica","bold"),w.text(z.status.toUpperCase(),150,bt+28),z.hasFault&&(w.setFillColor(254,242,242),w.setDrawColor(220,38,38),w.roundedRect(25,bt+32,F-50,12,1,1,"FD"),w.setFontSize(8),w.setTextColor(185,28,28),w.setFont("helvetica","bold"),w.text("REPORTE DE FALLA ACTIV0:",28,bt+37),w.setFont("helvetica","normal"),w.text(z.faultDescription||"Sin detalles",28,bt+41),bt+=15),bt+=40});const k=w.internal.getNumberOfPages();for(let z=1;z<=k;z++)w.setPage(z),z>1&&P(w),tt(w,z);w.save(`Inventario_IT_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},St=()=>{const w=new ye,F=w.internal.pageSize.width,R=A(),N=W=>{if(!W.maintenanceLog||W.maintenanceLog.length===0)return{status:"Pendiente",color:[100,100,100]};const K=new Date(W.maintenanceLog[W.maintenanceLog.length-1].createdAt||W.maintenanceLog[W.maintenanceLog.length-1].date),ht=new Date().getFullYear();let gt;K.getFullYear()<ht?gt=new Date(ht,6,15):K.getMonth()<=6?gt=new Date(ht,10,15):gt=new Date(ht+1,6,15);const Ct=Math.ceil((gt-new Date)/(1e3*60*60*24));return Ct<0?{status:"Vencido",color:[220,38,38]}:Ct<=30?{status:"Prximo",color:[234,179,8]}:{status:"Al Da",color:[22,163,74]}},I=R.length,$=R.filter(W=>N(W).status==="Vencido").length,mt=R.filter(W=>N(W).status==="Prximo").length,rt=R.filter(W=>N(W).status==="Al Da").length;P(w,"Informe de Mantenimiento Preventivo",`Fecha de Generacin: ${new Date().toLocaleDateString()}`);const ft=55,at=25,bt=(F-34)/4;J(w,14,ft,bt,at,"Total Equipos",I,B),J(w,14+bt+2,ft,bt,at,"Al Da (OK)",rt,[22,163,74]),J(w,14+bt*2+4,ft,bt,at,"Atencin Req.",mt,[234,179,8]),J(w,14+bt*3+6,ft,bt,at,"Vencidos / Crtico",$,[220,38,38]);let Dt=ft+at+15;w.setFontSize(12),w.setTextColor(...B),w.setFont("helvetica","bold"),w.text("Anlisis de Salud del Parque Informtico:",14,Dt),Dt+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Este informe presenta el estado actual del cronograma de mantenimiento preventivo. Se identifican los equipos que requieren atencin inmediata (Vencidos) y aquellos prximos a su fecha de servicio, permitiendo una planificacin eficiente de los recursos tcnicos.",F-28),14,Dt),Dt+=20;const k=R.map(W=>{const K=N(W),ht=W.maintenanceLog?.length>0?new Date(W.maintenanceLog[W.maintenanceLog.length-1].createdAt||W.maintenanceLog[W.maintenanceLog.length-1].date).toLocaleDateString():"Sin Registros";return[W.name||`${W.brand} ${W.model}`,W.serial||"N/A",W.assignedTo||"Stock",ht,K.status.toUpperCase()]});Rl(w,{head:[["Equipo","Serial","Usuario / Ubicacin","ltimo Mant.","Estado Actual"]],body:k,startY:Dt,theme:"grid",headStyles:{fillColor:B,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:O},margin:{top:35},didParseCell:W=>{if(W.section==="body"&&W.column.index===4){const K=W.cell.raw;K==="VENCIDO"&&(W.cell.styles.textColor=[220,38,38]),K==="PRXIMO"&&(W.cell.styles.textColor=[217,119,6]),K==="AL DA"&&(W.cell.styles.textColor=[22,163,74])}}}),w.addPage(),P(w),Dt=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Historial de Mantenimientos por Equipo",14,Dt),Dt+=15,R.forEach((W,K)=>{const ht=W.maintenanceLog?.length||0,gt=35+ht*10;Dt+gt>280&&(w.addPage(),P(w),Dt=40),w.setFillColor(245,245,245),w.rect(14,Dt,F-28,8,"F"),w.setFontSize(10),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${W.brand} ${W.model} (${W.serial})`,16,Dt+5.5);const Nt=N(W);w.setTextColor(...Nt.color),w.text(Nt.status.toUpperCase(),F-30,Dt+5.5,{align:"right"}),Dt+=12,ht>0?W.maintenanceLog.slice(-3).forEach(Ot=>{w.setFontSize(9),w.setTextColor(80),w.setFont("helvetica","normal");const Kt=new Date(Ot.createdAt||Ot.date).toLocaleDateString();w.text(` ${Kt}`,20,Dt),w.text(`${Ot.activity} (Tc: ${Ot.technician||"Admin"})`,50,Dt),Dt+=6}):(w.setFontSize(9),w.setTextColor(150),w.setFont("helvetica","italic"),w.text("   Sin registros de mantenimiento.",20,Dt),Dt+=6),Dt+=8});const z=w.internal.getNumberOfPages();for(let W=1;W<=z;W++)w.setPage(W),W>1&&P(w),tt(w,W);w.save(`Plan_Mantenimiento_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},G=_.reduce((w,F)=>(F.feedback&&F.feedback.rating&&(w.sum+=F.feedback.rating,w.count+=1),w),{sum:0,count:0}),M=G.count>0?(G.sum/G.count).toFixed(1):"N/A";return b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px",flexWrap:"wrap",gap:"20px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[b.jsx("img",{src:Th,alt:"ELSPEC Logo",style:{height:"50px"}}),b.jsxs("div",{children:[b.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ELSPEC ANDINA"}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[b.jsx(Il,{size:16,color:"var(--primary)"})," Centro de Inteligencia y Reportes IT"]})]})]}),b.jsx("div",{style:{position:"relative",minWidth:"280px"},children:b.jsxs("select",{value:e,onChange:w=>r(w.target.value),style:{width:"100%",padding:"12px 20px",background:"rgba(0,0,0,0.3)",border:"1px solid var(--primary)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",outline:"none",fontWeight:"bold"},children:[b.jsx("option",{value:"tickets",style:{background:"#1e293b"},children:" Informe de Asistencia Tcnica"}),b.jsx("option",{value:"assets",style:{background:"#1e293b"},children:" Inventario General de Activos"}),b.jsx("option",{value:"maintenance",style:{background:"#1e293b"},children:" Estado de Mantenimiento"})]})})]}),e==="tickets"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[b.jsxs("div",{style:{background:"rgba(0, 108, 224, 0.1)",border:"1px solid rgba(0, 108, 224, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:_.length}),b.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tickets en Rango"})]}),b.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--success)"},children:_.filter(w=>w.status==="closed").length}),b.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Resueltos"})]}),b.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--warning)"},children:M}),b.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Satisfaccin (1-5)"})]})]}),b.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)"},children:[b.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"end",flexWrap:"wrap"},children:[b.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(Pp,{size:14})," Fecha Inicio"]}),b.jsx("input",{type:"date",value:s.start,onChange:w=>o({...s,start:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),b.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(Pp,{size:14})," Fecha Fin"]}),b.jsx("input",{type:"date",value:s.end,onChange:w=>o({...s,end:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),b.jsxs("button",{onClick:it,disabled:_.length===0,className:"btn-primary",style:{height:"48px",padding:"0 30px",display:"flex",alignItems:"center",gap:"10px",background:_.length===0?"rgba(255,255,255,0.05)":"var(--primary)",cursor:_.length===0?"not-allowed":"pointer"},children:[b.jsx(gp,{size:20})," Generar Informe (PDF)"]})]}),_.length===0&&b.jsx("p",{style:{marginTop:"20px",color:"var(--warning)",fontSize:"0.9rem",textAlign:"center"},children:"* No se encontraron tickets cerrados en el rango de fechas seleccionado."})]})]}),e==="assets"&&b.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[b.jsx(o1,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),b.jsx("h3",{style:{marginBottom:"10px"},children:"Inventario Completo de Activos IT"}),b.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Genera un reporte detallado de todo el hardware registrado en el sistema."}),b.jsxs("div",{style:{marginBottom:"25px",maxWidth:"400px",margin:"0 auto 25px auto",position:"relative"},children:[b.jsxs("button",{onClick:()=>d(!f),className:"btn-secondary",style:{width:"100%",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"10px",cursor:"pointer"},children:[b.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(R4,{size:16}),u.length===0?"Incluir: Todos los Tipos":`Incluir: ${u.length} seleccionados`]}),b.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:""})]}),f&&b.jsxs("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"10px",padding:"15px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",textAlign:"left",maxHeight:"300px",overflowY:"auto"},children:[b.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[b.jsx("span",{children:"Seleccione Tipos:"}),b.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>h([]),children:"Limpiar Filtros"})]}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:eL.map(w=>b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px",cursor:"pointer",fontSize:"0.9rem",borderRadius:"5px",background:u.includes(w)?"rgba(0, 108, 224, 0.1)":"transparent"},children:[b.jsx("input",{type:"checkbox",checked:u.includes(w),onChange:()=>y(w)}),w]},w))})]})]}),b.jsxs("button",{onClick:st,className:"btn-primary",style:{padding:"15px 30px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[b.jsx(gp,{size:20})," Descargar Reporte de Inventario"]}),u.length>0&&b.jsxs("p",{style:{marginTop:"10px",fontSize:"0.85rem",color:"var(--primary)"},children:["* Filtrado por: ",u.join(", ")]})]}),e==="maintenance"&&b.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[b.jsx(Gm,{size:48,color:"var(--warning)",style:{marginBottom:"20px"}}),b.jsx("h3",{style:{marginBottom:"10px"},children:"Estado de Mantenimiento Preventivo"}),b.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Informe de salud del parque informtico, identificando equipos crticos, vencidos y prximos a mantenimiento."}),b.jsxs("button",{onClick:St,className:"btn-primary",style:{background:"var(--warning)",color:"black",padding:"15px 30px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[b.jsx(gp,{size:20})," Descargar Informe de Salud (PDF)"]})]})]})},iL=["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M1 Pro","Apple M1 Max","Apple M2","Apple M2 Pro","Apple M2 Max","Apple M3","Apple M3 Pro","Apple M3 Max","Intel Xeon","AMD Threadripper","Otro"],rL=["4GB","8GB","12GB","16GB","24GB","32GB","64GB","128GB"],aL=["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD","500GB HDD","1TB HDD","2TB HDD","4TB HDD"],cx=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],hx=["Laptop","Desktop","Servidor","Tablet","Smartphone","Otro"],sL=()=>{const{computers:n,addComputer:t,updateComputer:e,deleteComputer:r,addMaintenanceLog:s}=Ym(),{users:o}=Jf(),[u,h]=te.useState(""),[f,d]=te.useState([]),[y,A]=te.useState(!1),[T,_]=te.useState(null),[B,q]=te.useState(null),[O,P]=te.useState({activity:"",technician:""}),[tt,J]=te.useState({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),it=N=>{J(N),_(N)},st=()=>{J({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),_({id:"new"})},St=async N=>{N.preventDefault(),T.id==="new"?await t({...tt,createdAt:new Date().toISOString()}):await e(T.id,tt),_(null)},G=N=>{window.confirm("Est seguro de eliminar este equipo?")&&r(N)},M=async N=>{N.preventDefault(),B&&O.activity&&(await s(B.id,O),q(null),P({activity:"",technician:""}))},w=N=>{const I=new ye,$=[0,108,224];try{const at=new Image;at.src=Th,I.addImage(at,"PNG",14,10,40,15)}catch{console.warn("Logo error")}I.setFontSize(18),I.setTextColor(0),I.setFont("helvetica","bold"),I.text("HOJA DE VIDA",150,18,{align:"center"}),I.setFontSize(10),I.setTextColor(100),I.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),I.setDrawColor(0,108,224),I.setLineWidth(1),I.line(14,30,196,30),I.setDrawColor(200),I.setFillColor(245,247,250),I.roundedRect(14,35,182,35,3,3,"FD"),I.setFontSize(10),I.setTextColor(100),I.text("TIPO DE EQUIPO",20,42),I.text("MARCA",80,42),I.text("MODELO",140,42),I.setFontSize(12),I.setTextColor(0),I.setFont("helvetica","bold"),I.text(N.type.toUpperCase(),20,48),I.text(N.brand.toUpperCase(),80,48),I.text(N.model.toUpperCase(),140,48),I.setFontSize(10),I.setTextColor(100),I.setFont("helvetica","normal"),I.text("SERIAL",20,58),I.text("ESTADO ACTUAL",80,58),I.text("FECHA COMPRA",140,58),I.setFontSize(12),I.setTextColor(0),I.setFont("helvetica","bold"),I.text(N.serial||"N/A",20,64),I.text(N.status.toUpperCase(),80,64),I.text(N.purchaseDate||"N/A",140,64),I.setFontSize(14),I.setTextColor(...$),I.text("Especificaciones Tcnicas",14,85);const mt=[["Tipo de Equipo",N.type],["Marca",N.brand],["Modelo",N.model],["Serial",N.serial]];hx.includes(N.type)&&mt.push(["Procesador",N.processor],["Memoria RAM",N.ram],["Almacenamiento",N.storage],["Sistema Operativo",N.os]),mt.push(["Ubicacin",N.location],["Asignado a",N.assignedTo],["Estado Funcional",N.hasFault?"CON FALLAS / AVERAS":"Operativo Correctamente"]),N.hasFault&&mt.push(["Descripcin de Falla",N.faultDescription||"Sin detalles registrados"]),N.details&&mt.push(["Detalles Adicionales",N.details]),Rl(I,{body:mt,startY:90,theme:"grid",styles:{fontSize:10,cellPadding:5},columnStyles:{0:{fontStyle:"bold",width:60,fillColor:[240,240,240]},1:{textColor:at=>at.raw[0]==="Estado Funcional"&&N.hasFault?[220,38,38]:[0,0,0]}},didParseCell:at=>{at.section==="body"&&at.row.raw[0]==="Estado Funcional"&&N.hasFault&&(at.cell.styles.textColor=[220,38,38],at.cell.styles.fontStyle="bold")}});const rt=I.lastAutoTable.finalY+15;I.setFontSize(14),I.setTextColor(...$),I.text("Historial de Mantenimientos",14,rt);const ft=(N.maintenanceLog||[]).map(at=>[new Date(at.createdAt).toLocaleDateString(),at.activity,at.technician||"Admin"]);ft.length>0?Rl(I,{head:[["Fecha","Actividad Realizada","Tcnico"]],body:ft,startY:rt+5,theme:"striped",headStyles:{fillColor:$}}):(I.setFontSize(10),I.setTextColor(100),I.text("No hay registros de mantenimiento.",14,rt+10)),I.setFontSize(8),I.setTextColor(150),I.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Gestin ELSPEC ANDINA`,105,290,{align:"center"}),I.save(`HojaVida_${N.serial||"Equipo"}.pdf`)},F=n.filter(N=>{const I=(N.assignedTo?.toLowerCase()||"").includes(u.toLowerCase())||(N.serial?.toLowerCase()||"").includes(u.toLowerCase())||(N.brand?.toLowerCase()||"").includes(u.toLowerCase()),$=f.length===0||f.includes(N.type);return I&&$}),R=N=>{d(I=>I.includes(N)?I.filter($=>$!==N):[...I,N])};return b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[b.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(o1,{color:"var(--primary)",size:24})," Inventario General de Activos"]}),b.jsxs("div",{style:{display:"flex",gap:"10px"},children:[b.jsxs("div",{style:{position:"relative"},children:[b.jsxs("button",{onClick:()=>A(!y),className:"btn-secondary",style:{padding:"10px 15px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"8px",cursor:"pointer"},children:[b.jsx(P0,{size:16}),f.length===0?"Todos los Tipos":`${f.length} Filtros`]}),y&&b.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",width:"200px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},children:[b.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[b.jsx("span",{children:"Filtrar por Tipo:"}),b.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>d([]),children:"Limpiar"})]}),cx.map(N=>b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",cursor:"pointer",fontSize:"0.9rem"},children:[b.jsx("input",{type:"checkbox",checked:f.includes(N),onChange:()=>R(N)}),N]},N))]})]}),b.jsxs("button",{onClick:st,className:"btn-primary",style:{padding:"10px 20px",display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(Ah,{size:18})," Nuevo Equipo"]})]})]}),T&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",padding:"30px",border:"1px solid var(--primary)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:[b.jsx("h4",{style:{marginTop:0,marginBottom:"25px",fontSize:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"15px"},children:T.id==="new"?"Registrar Nuevo Equipo":"Editar Informacin del Equipo"}),b.jsxs("form",{onSubmit:St,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Tipo"}),b.jsx("select",{value:tt.type,onChange:N=>J({...tt,type:N.target.value}),children:cx.map(N=>b.jsx("option",{value:N,children:N},N))})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Marca"}),b.jsx("input",{required:!0,value:tt.brand,onChange:N=>J({...tt,brand:N.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Modelo"}),b.jsx("input",{required:!0,value:tt.model,onChange:N=>J({...tt,model:N.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Serial / Service Tag"}),b.jsx("input",{required:!0,value:tt.serial,onChange:N=>J({...tt,serial:N.target.value})})]}),hx.includes(tt.type)&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Procesador"}),b.jsx("input",{list:"processor-list",value:tt.processor,onChange:N=>J({...tt,processor:N.target.value})}),b.jsx("datalist",{id:"processor-list",children:iL.map(N=>b.jsx("option",{value:N},N))})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"RAM"}),b.jsx("input",{list:"ram-list",value:tt.ram,onChange:N=>J({...tt,ram:N.target.value})}),b.jsx("datalist",{id:"ram-list",children:rL.map(N=>b.jsx("option",{value:N},N))})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Almacenamiento"}),b.jsx("input",{list:"storage-list",value:tt.storage,onChange:N=>J({...tt,storage:N.target.value})}),b.jsx("datalist",{id:"storage-list",children:aL.map(N=>b.jsx("option",{value:N},N))})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Sistema Operativo"}),b.jsx("input",{value:tt.os,onChange:N=>J({...tt,os:N.target.value})})]})]}),b.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[b.jsx("label",{children:"Observaciones / Detalles Tcnicos Adicionales (IP, MAC, Puertos, etc.)"}),b.jsx("textarea",{rows:"2",value:tt.details||"",onChange:N=>J({...tt,details:N.target.value}),placeholder:"Ej: Direccin IP fija, Direccin MAC, Nmero de Puertos..."})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Asignado A (Usuario/Area)"}),b.jsxs("select",{value:tt.assignedTo,onChange:N=>{const I=N.target.value;J({...tt,assignedTo:I,status:I?"Active":"Stock"})},children:[b.jsx("option",{value:"",children:"-- Disponible / En Stock --"}),o&&o.map(N=>b.jsx("option",{value:N.username,children:N.name||N.username},N.id))]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Ubicacin"}),b.jsx("input",{value:tt.location,onChange:N=>J({...tt,location:N.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Fecha Compra"}),b.jsx("input",{type:"date",value:tt.purchaseDate,onChange:N=>J({...tt,purchaseDate:N.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Estado"}),b.jsxs("select",{value:tt.status,onChange:N=>J({...tt,status:N.target.value}),children:[b.jsx("option",{value:"Active",children:"En Uso (Activo)"}),b.jsx("option",{value:"Stock",children:"Disponible (Stock)"}),b.jsx("option",{value:"Maintenance",children:"En Mantenimiento"}),b.jsx("option",{value:"Retired",children:"Retirado / De Baja"})]})]}),b.jsxs("div",{style:{gridColumn:"1 / -1",background:"rgba(255, 0, 0, 0.05)",padding:"15px",borderRadius:"10px",border:"1px solid rgba(255, 0, 0, 0.2)"},children:[b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:tt.hasFault?"15px":"0"},children:[b.jsx("input",{type:"checkbox",checked:tt.hasFault,onChange:N=>J({...tt,hasFault:N.target.checked}),style:{width:"20px",height:"20px"}}),b.jsx("span",{style:{fontWeight:"bold",color:tt.hasFault?"var(--danger)":"inherit"},children:"El equipo presenta fallas o averas?"})]}),tt.hasFault&&b.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[b.jsx("label",{children:"Descripcin de la Falla / Avera"}),b.jsx("textarea",{required:tt.hasFault,value:tt.faultDescription,onChange:N=>J({...tt,faultDescription:N.target.value}),placeholder:"Describa el problema tcnico, dao fsico o mal funcionamiento...",rows:"3",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--danger)"}})]})]}),b.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"15px",marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[b.jsx("button",{type:"button",onClick:()=>_(null),style:{flex:1,background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancelar"}),b.jsxs("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",fontSize:"1.1rem"},children:[b.jsx(iN,{size:18})," Guardar Cambios"]})]})]})]})}),B&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:b.jsxs("div",{className:"glass-card",style:{width:"400px",padding:"25px",border:"1px solid var(--primary)"},children:[b.jsx("h4",{style:{marginTop:0},children:"Registrar Mantenimiento"}),b.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Para: ",B.brand," ",B.model]}),b.jsxs("form",{onSubmit:M,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Actividad Realizada"}),b.jsx("textarea",{required:!0,rows:"4",value:O.activity,onChange:N=>P({...O,activity:N.target.value}),placeholder:"Ej: Limpieza fsica, Actualizacin de Drivers..."})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Tcnico Responsable"}),b.jsx("input",{value:O.technician,onChange:N=>P({...O,technician:N.target.value}),placeholder:"Nombre del tcnico"})]}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Registrar"}),b.jsx("button",{type:"button",onClick:()=>q(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white"},children:"Cancelar"})]})]})]})}),b.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[b.jsx("input",{type:"text",placeholder:"Buscar por serial, marca o usuario...",value:u,onChange:N=>h(N.target.value),style:{width:"100%",padding:"12px 15px 12px 45px",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),b.jsx(P0,{size:20,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),b.jsxs("div",{style:{display:"grid",gap:"15px"},children:[F.map(N=>b.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[b.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsxs("h4",{style:{margin:0,fontSize:"1.1rem"},children:[N.brand," ",N.model]}),b.jsx("span",{style:{fontSize:"0.7rem",padding:"3px 8px",borderRadius:"10px",background:N.status==="Active"?"rgba(16, 185, 129, 0.2)":N.status==="Stock"?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:N.status==="Active"?"var(--success)":N.status==="Stock"?"var(--primary)":"var(--danger)"},children:N.status==="Active"?"En Uso":N.status==="Stock"?"Disponible":N.status})]}),b.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginTop:"5px"},children:[b.jsx(D4,{size:14,style:{display:"inline",marginRight:"5px"}})," ",N.assignedTo||"Sin Asignar"," | Serial: ",N.serial]}),N.hasFault&&b.jsxs("div",{style:{fontSize:"0.9rem",color:"#7f1d1d",background:"#fecaca",padding:"8px 12px",borderRadius:"8px",marginTop:"10px",display:"flex",alignItems:"start",gap:"8px",border:"1px solid #f87171"},children:[b.jsx(Gm,{size:16,style:{marginTop:"2px",flexShrink:0}}),b.jsxs("div",{children:[b.jsx("strong",{children:"Falla Reportada:"}),b.jsx("div",{style:{marginTop:"2px"},children:N.faultDescription})]})]})]}),b.jsxs("div",{style:{display:"flex",gap:"8px"},children:[b.jsx("button",{onClick:()=>w(N),title:"Descargar Hoja de Vida",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:b.jsx(Il,{size:18})}),b.jsx("button",{onClick:()=>q(N),title:"Registrar Mantenimiento",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:b.jsx(jC,{size:18})}),b.jsx("button",{onClick:()=>it(N),title:"Editar",style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:b.jsx(fc,{size:18})}),b.jsx("button",{onClick:()=>G(N.id),title:"Eliminar",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:b.jsx(Eh,{size:18})})]})]},N.id)),F.length===0&&b.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"No se encontraron equipos registrados."})]})]})},oL=()=>{const{computers:n,addMaintenanceLog:t}=Ym(),[e,r]=te.useState(null),[s,o]=te.useState({activity:"",technician:""}),[u,h]=te.useState(""),f=async A=>{A.preventDefault(),e&&s.activity&&(await t(e.id,s),r(null),o({activity:"",technician:""}))},d=A=>{const T=new Date;let _,B;if(!A.maintenanceLog||A.maintenanceLog.length===0){const tt=T.getFullYear(),J=new Date(tt,6,15),it=new Date(tt,10,15);T<J?_=J:T<it?_=it:_=new Date(tt+1,6,15),B=new Date(A.purchaseDate||A.createdAt)}else{const tt=A.maintenanceLog[A.maintenanceLog.length-1],J=tt.createdAt||tt.date;B=new Date(J);const it=T.getFullYear();B.getFullYear()<it?(_=new Date(it,6,15),T>_&&(_=new Date(it,10,15)),T>_&&(_=new Date(it+1,6,15))):B.getMonth()<=6?(_=new Date(it,10,15),T>_&&(_=new Date(it+1,6,15))):_=new Date(it+1,6,15)}const q=_-T,O=Math.ceil(q/(1e3*60*60*24));let P="ok";return O<0?P="overdue":O<=30&&(P="warning"),{nextDate:_,diffDays:O,status:P,lastDate:B}},y=n.map(A=>({...A,...d(A)})).filter(A=>(A.brand?.toLowerCase()||"").includes(u.toLowerCase())||(A.model?.toLowerCase()||"").includes(u.toLowerCase())||(A.serial?.toLowerCase()||"").includes(u.toLowerCase())).sort((A,T)=>A.diffDays-T.diffDays);return b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(Pp,{color:"var(--primary)",size:24})," Cronograma de Mantenimiento Preventivo"]}),b.jsxs("div",{style:{position:"relative",width:"300px"},children:[b.jsx("input",{type:"text",placeholder:"Buscar equipo...",value:u,onChange:A=>h(A.target.value),style:{width:"100%",padding:"10px 15px 10px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),b.jsx(P0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]})]}),b.jsx("div",{style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)"},children:[b.jsx("th",{style:{padding:"15px"},children:"Equipo / Serial"}),b.jsx("th",{style:{padding:"15px"},children:"ltimo Mantenimiento"}),b.jsx("th",{style:{padding:"15px"},children:"Prximo Mantenimiento"}),b.jsx("th",{style:{padding:"15px"},children:"Estado Actual"}),b.jsx("th",{style:{padding:"15px"},children:"Accin"})]})}),b.jsx("tbody",{children:y.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontraron equipos para el criterio de bsqueda."})}):y.map(A=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsxs("td",{style:{padding:"15px"},children:[b.jsxs("div",{style:{fontWeight:"bold"},children:[A.brand," ",A.model]}),b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",gap:"5px",alignItems:"center"},children:b.jsx("span",{style:{color:"var(--primary)"},children:A.serial})})]}),b.jsx("td",{style:{padding:"15px",color:"var(--text-muted)"},children:A.lastDate.toLocaleDateString()}),b.jsx("td",{style:{padding:"15px",fontWeight:"bold"},children:A.nextDate.toLocaleDateString()}),b.jsxs("td",{style:{padding:"15px"},children:[A.status==="overdue"&&b.jsxs("span",{style:{color:"var(--danger)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(239, 68, 68, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[b.jsx(L4,{size:16})," Vencido (",Math.abs(A.diffDays)," das)"]}),A.status==="warning"&&b.jsxs("span",{style:{color:"var(--warning)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(245, 158, 11, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[b.jsx(wu,{size:16})," Atencin (",A.diffDays," das)"]}),A.status==="ok"&&b.jsxs("span",{style:{color:"var(--success)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[b.jsx(Cl,{size:16})," OK (",A.diffDays," das)"]})]}),b.jsx("td",{style:{padding:"15px"},children:b.jsx("button",{onClick:()=>r(A),className:"btn-primary",style:{padding:"8px 15px",fontSize:"0.85rem"},children:"Registrar"})})]},A.id))})]})}),e&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:b.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"30px",border:"1px solid var(--primary)"},children:[b.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(Cl,{size:24,color:"var(--success)"})," Registrar Mantenimiento"]}),b.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:["Equipo: ",b.jsxs("span",{style:{color:"white",fontWeight:"bold"},children:[e.brand," ",e.model]})," ",b.jsx("br",{}),"Serial: ",e.serial]}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Actividad Realizada"}),b.jsx("textarea",{required:!0,rows:"4",value:s.activity,onChange:A=>o({...s,activity:A.target.value}),placeholder:"Detalle el trabajo realizado (Ej: Limpieza interna, Cambio de pasta trmica, Formateo...)"})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Tcnico Responsable"}),b.jsx("input",{required:!0,value:s.technician,onChange:A=>o({...s,technician:A.target.value}),placeholder:"Nombre del tcnico"})]}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"12px"},children:"Guardar Registro"}),b.jsx("button",{type:"button",onClick:()=>r(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},lL=({computers:n,currentUser:t})=>{const e=n.filter(s=>s.assignedTo===t.username),r=s=>{const o=new ye,u=[0,108,224];try{const y=new Image;y.src=Th,o.addImage(y,"SVG",14,10,40,15)}catch{console.warn("Logo error")}o.setFontSize(18),o.setTextColor(0),o.setFont("helvetica","bold"),o.text("HOJA DE VIDA",150,18,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),o.setDrawColor(0,108,224),o.setLineWidth(1),o.line(14,30,196,30),o.setDrawColor(200),o.setFillColor(245,247,250),o.roundedRect(14,35,182,35,3,3,"FD"),o.setFontSize(10),o.setTextColor(100),o.text("TIPO DE EQUIPO",20,42),o.text("MARCA",80,42),o.text("MODELO",140,42),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text((s.type||"N/A").toUpperCase(),20,48),o.text((s.brand||"N/A").toUpperCase(),80,48),o.text((s.model||"N/A").toUpperCase(),140,48),o.setFontSize(10),o.setTextColor(100),o.setFont("helvetica","normal"),o.text("SERIAL",20,58),o.text("ESTADO ACTUAL",80,58),o.text("FECHA COMPRA",140,58),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text(s.serial||"N/A",20,64),o.text((s.status||"N/A").toUpperCase(),80,64),o.text(s.purchaseDate||"N/A",140,64),o.setFontSize(14),o.setTextColor(...u),o.text("Especificaciones Tcnicas",14,85);const h=[["Procesador",s.processor],["Memoria RAM",s.ram],["Almacenamiento",s.storage],["Sistema Operativo",s.os],["Ubicacin",s.location],["Asignado a",s.assignedTo]];let f=95;if(o.setFontSize(10),o.setTextColor(0),o.setFont("helvetica","normal"),h.forEach(([y,A])=>{o.setFillColor(250),o.rect(14,f-4,182,8,"F"),o.setFont("helvetica","bold"),o.text(y+":",20,f+1),o.setFont("helvetica","normal"),o.text(A||"N/A",80,f+1),f+=10}),f+=10,o.setFontSize(14),o.setTextColor(...u),o.text("Historial de Mantenimientos",14,f),f+=10,s.maintenanceLog&&s.maintenanceLog.length>0){const y=s.maintenanceLog.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.activity,A.technician||"N/A"]);o.autoTable({startY:f,head:[["Fecha","Actividad Realizada","Tcnico"]],body:y,theme:"grid",headStyles:{fillColor:u,textColor:255},styles:{fontSize:9}})}else o.setFontSize(10),o.setTextColor(100),o.text("No hay registros de mantenimiento.",14,f+5);const d=o.internal.getNumberOfPages();for(let y=1;y<=d;y++)o.setPage(y),o.setFontSize(8),o.setTextColor(150),o.text(`Generado el: ${new Date().toLocaleDateString()} - ELSPEC ANDINA S.A.S`,105,290,{align:"center"});o.save(`HojaDeVida_${s.brand}_${s.model}.pdf`)};return b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("h3",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(o1,{color:"var(--primary)",size:24})," Mis Equipos Asignados"]}),e.length===0?b.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"15px"},children:b.jsx("p",{style:{color:"var(--text-muted)"},children:"No tienes equipos de cmputo asignados actualmente."})}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:e.map(s=>b.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-color)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s",cursor:"default"},onMouseEnter:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseLeave:o=>o.currentTarget.style.transform="translateY(0)",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[b.jsxs("div",{children:[b.jsxs("h4",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:[s.brand," ",s.model]}),b.jsx("span",{style:{fontSize:"0.8rem",color:"var(--primary)",fontWeight:"bold"},children:s.type})]}),b.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",padding:"5px 10px",borderRadius:"8px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[b.jsx(Cl,{size:14})," Asignado"]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:[b.jsxs("div",{children:[b.jsx("strong",{children:"Serial:"}),b.jsx("br",{}),s.serial]}),b.jsxs("div",{children:[b.jsx("strong",{children:"Procesador:"}),b.jsx("br",{}),s.processor]}),b.jsxs("div",{children:[b.jsx("strong",{children:"RAM:"}),b.jsx("br",{}),s.ram]}),b.jsxs("div",{children:[b.jsx("strong",{children:"Almacenamiento:"}),b.jsx("br",{}),s.storage]})]}),b.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px",marginTop:"auto"},children:b.jsxs("button",{onClick:()=>r(s),className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[b.jsx(Il,{size:18})," Descargar Hoja de Vida"]})})]},s.id))})]})},uL=()=>{const[n,t]=te.useState([]);return te.useEffect(()=>{const s=yn.subscribeIndicators(o=>{t(o)});return()=>{typeof s=="function"&&s()}},[]),{indicators:n,addIndicator:s=>yn.addIndicator(s),deleteIndicator:s=>yn.deleteIndicator(s)}},cL=({tickets:n})=>{const{indicators:t,addIndicator:e,deleteIndicator:r}=uL(),[s,o]=te.useState("all"),[u,h]=te.useState([]),[f,d]=te.useState([]),[y,A]=te.useState(!1),[T,_]=te.useState({name:"",target:"",current:"",unit:"%"}),B=st=>{st.preventDefault(),e({name:T.name,target:parseFloat(T.target),current:parseFloat(T.current),unit:T.unit}),_({name:"",target:"",current:"",unit:"%"}),A(!1)},q=st=>{window.confirm("Eliminar este indicador?")&&r(st)},O={high:24,medium:48,low:72};te.useEffect(()=>{P()},[n,s]),te.useEffect(()=>{const st=yn.subscribeSGIProcesses(St=>{d(St)});return()=>st&&st()},[]);const P=()=>{if(!n)return;const st=new Date,St=n.filter(G=>{if(s==="all")return!0;const M=new Date(G.createdAt),w=Math.abs(st-M),F=Math.ceil(w/(1e3*60*60*24));return s==="week"?F<=7:s==="month"?F<=30:s==="year"?F<=365:!0});h(St)},J=(()=>{if(!u.length)return null;let st=0,St=0,G=0,M=0;const w=u.map(N=>{const I=new Date(N.createdAt),$=N.closedAt?new Date(N.closedAt):new Date,mt=N.status==="closed",ft=($-I)/(1e3*60*60),at=O[N.priority]||48,bt=ft<=at,Dt=bt?"ontime":"overdue";return mt&&(st++,G+=ft,M++,bt&&St++),{...N,durationHours:ft.toFixed(1),isCompliant:bt,slaStatus:Dt,slaLimit:at}}),F=st>0?(St/st*100).toFixed(1):0,R=M>0?(G/M).toFixed(1):0;return{total:u.length,closed:st,open:u.length-st,complianceRate:F,avgResolutionTime:R,ticketsWithMetrics:w}})(),it=()=>{const st=new ye,St=[0,108,224];try{const w=new Image;w.src=Th,st.addImage(w,"PNG",14,10,40,15)}catch{console.warn("Logo error")}st.setFontSize(18),st.setTextColor(0),st.setFont("helvetica","bold"),st.text("INFORME DE GESTIN (SGI)",105,20,{align:"center"}),st.setFontSize(10),st.setTextColor(100),st.text(`Generado: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,105,26,{align:"center"}),st.text(`Filtro: ${s==="all"?"Todo el Histrico":s==="week"?"ltimos 7 das":s==="month"?"ltimo Mes":"ltimo Ao"}`,105,31,{align:"center"}),st.setDrawColor(0,108,224),st.setLineWidth(.5),st.line(14,35,196,35);let G=40;if(t&&t.length>0){st.setFontSize(14),st.setTextColor(...St),st.text("Indicadores Personalizados / Metas",14,G+10);const w=t.map(F=>[F.name,`${F.target} ${F.unit}`,`${F.current} ${F.unit}`,F.current>=F.target?"CUMPLE":"NO CUMPLE"]);Rl(st,{head:[["Indicador","Meta","Actual","Estado"]],body:w,startY:G+15,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:10},didParseCell:F=>{F.section==="body"&&F.column.index===3&&(F.cell.styles.textColor=F.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],F.cell.styles.fontStyle="bold")}}),G=st.lastAutoTable.finalY+10}if(f&&f.length>0&&(st.setFontSize(14),st.setTextColor(...St),st.text("Monitor de Procesos SGI",14,G+10),G+=15,f.forEach(w=>{if(w.indicators&&w.indicators.length>0){st.setFontSize(12),st.setTextColor(50,50,50),st.text(`Proceso: ${w.name}`,14,G);const R=(new Date().getMonth()+1).toString().padStart(2,"0"),N=w.indicators.map(I=>{const $=I.monthlyData?.[R]||0,mt=$>=I.target;return[I.name,`${I.target} ${I.unit}`,`${$} ${I.unit}`,mt?"CUMPLE":"REVISAR"]});Rl(st,{head:[["Indicador","Meta","Mes Actual","Estado"]],body:N,startY:G+5,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:9},didParseCell:I=>{I.section==="body"&&I.column.index===3&&(I.cell.styles.textColor=I.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],I.cell.styles.fontStyle="bold")}}),G=st.lastAutoTable.finalY+10}})),J){st.setFontSize(14),st.setTextColor(...St),st.text("Resumen Ejecutivo (Tickets)",14,G+10);const w=[[" % Cumplimiento SLA",`${J.complianceRate}%`],["Tiempo Promedio Resolucin",`${J.avgResolutionTime} Horas`],["Tickets Cerrados",`${J.closed}`],["Tickets Vencidos",`${J.ticketsWithMetrics.filter(R=>!R.isCompliant).length}`],["Total Solicitudes",`${J.total}`]];Rl(st,{body:w,startY:G+15,theme:"grid",headStyles:{fillColor:St},styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",width:100},1:{halign:"right"}}}),st.setFontSize(14),st.setTextColor(...St),st.text("Detalle de Tickets y Cumplimiento",14,st.lastAutoTable.finalY+15);const F=J.ticketsWithMetrics.map(R=>[`#${R.id?R.id.slice(-6):"N/A"}`,new Date(R.createdAt).toLocaleDateString(),R.priority.toUpperCase(),R.status==="open"?"ABIERTO":"CERRADO",R.closedBy||"---",`${R.durationHours} hrs`,R.isCompliant?"CUMPLE":"VENCIDO"]);Rl(st,{head:[["ID","Fecha","Prioridad","Estado","Responsable","Tiempo","SLA"]],body:F,startY:st.lastAutoTable.finalY+20,theme:"striped",headStyles:{fillColor:St},styles:{fontSize:9},didParseCell:R=>{R.section==="body"&&R.column.index===6&&(R.cell.raw==="VENCIDO"?(R.cell.styles.textColor=[220,38,38],R.cell.styles.fontStyle="bold"):(R.cell.styles.textColor=[16,185,129],R.cell.styles.fontStyle="bold"))}})}else st.setFontSize(12),st.setTextColor(100),st.text("No hay actividad de tickets registrada en este periodo.",14,G+20);const M=st.internal.getNumberOfPages();for(let w=1;w<=M;w++)st.setPage(w),st.setFontSize(8),st.setTextColor(150),st.text(`Pgina ${w} de ${M} - Sistema ELSPEC ANDINA`,105,290,{align:"center"});st.save(`Informe_SGI_${new Date().toISOString().split("T")[0]}.pdf`)};return b.jsxs("div",{style:{padding:"0 0 40px 0"},children:[b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[b.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(qv,{color:"var(--primary)"})," Indicadores de Gestin (SGI)"]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsxs("button",{onClick:()=>A(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",background:"var(--success)"},children:[b.jsx(Ah,{size:16})," Nuevo Indicador"]}),b.jsxs("button",{onClick:it,disabled:!J,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",opacity:J?1:.5,cursor:J?"pointer":"not-allowed"},children:[b.jsx(gp,{size:16})," Descargar Informe"]}),b.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)",margin:"0 5px"}}),b.jsx(R4,{size:16,color:"var(--text-muted)"}),b.jsxs("select",{value:s,onChange:st=>o(st.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",padding:"8px",borderRadius:"8px"},children:[b.jsx("option",{value:"all",children:"Todo el Histrico"}),b.jsx("option",{value:"week",children:"ltimos 7 das"}),b.jsx("option",{value:"month",children:"ltimo Mes"}),b.jsx("option",{value:"year",children:"ltimo Ao"})]})]})]}),t.length>0&&b.jsxs("div",{style:{marginBottom:"30px"},children:[b.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Indicadores Personalizados"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:t.map(st=>b.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative"},children:[b.jsx("button",{onClick:()=>q(st.id),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",padding:"5px"},children:b.jsx(Eh,{size:14})}),b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:st.name}),b.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"10px"},children:b.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:st.current>=st.target?"var(--success)":"var(--danger)"},children:[st.current," ",b.jsx("span",{style:{fontSize:"1rem"},children:st.unit})]})}),b.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"5px"},children:["Meta: ",st.target," ",st.unit]}),b.jsx("div",{style:{marginTop:"10px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:b.jsx("div",{style:{height:"100%",width:`${Math.min(st.current/st.target*100,100)}%`,background:st.current>=st.target?"var(--success)":"var(--danger)"}})})]},st.id))})]}),f&&f.length>0&&b.jsxs("div",{style:{marginBottom:"40px"},children:[b.jsxs("h3",{style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"10px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(wu,{color:"var(--primary)"})," Monitor de Procesos Corporativos"]}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px"},children:f.map(st=>b.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{padding:"20px",background:"rgba(0, 108, 224, 0.1)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:st.name}),b.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:["Lder: ",st.leader||"Sin asignar"]})]}),b.jsx("div",{style:{padding:"20px",flex:1},children:st.indicators&&st.indicators.length>0?b.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:b.jsx("tbody",{children:st.indicators.map(St=>{const M=(new Date().getMonth()+1).toString().padStart(2,"0"),w=St.monthlyData?.[M]||0,F=Math.min(w/(St.target||1)*100,100);return b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsxs("td",{style:{padding:"10px 0"},children:[b.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:St.name}),b.jsx("div",{style:{height:"6px",width:"100%",background:"rgba(255,255,255,0.1)",borderRadius:"3px"},children:b.jsx("div",{style:{height:"100%",width:`${F}%`,background:w>=St.target?"var(--success)":"var(--warning)",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),b.jsx("td",{style:{padding:"10px 0 10px 15px",textAlign:"right",whiteSpace:"nowrap"},children:b.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[w," ",b.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["/ ",St.target," ",St.unit]})]})})]},St.id)})})}):b.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin indicadores configurados"})})]},st.id))})]}),J?b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(52, 211, 153, 0.15)",padding:"15px",borderRadius:"50%"},children:b.jsx(Cl,{size:32,color:"var(--success)"})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Cumplimiento SLA"}),b.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:J.complianceRate>=80?"var(--success)":J.complianceRate>=50?"var(--warning)":"var(--danger)"},children:[J.complianceRate,"%"]}),b.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Meta: > 80%"})]})]}),b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"15px",borderRadius:"50%"},children:b.jsx(wu,{size:32,color:"var(--primary)"})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tiempo Promedio Cierre"}),b.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[J.avgResolutionTime," ",b.jsx("span",{style:{fontSize:"1rem"},children:"hrs"})]})]})]}),b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(239, 68, 68, 0.15)",padding:"15px",borderRadius:"50%"},children:b.jsx(C4,{size:32,color:"var(--danger)"})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tickets Vencidos"}),b.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--danger)"},children:J.ticketsWithMetrics.filter(st=>!st.isCompliant).length}),b.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[J.ticketsWithMetrics.length," Totales"]})]})]})]}),b.jsxs("div",{className:"glass-card",style:{padding:"25px",overflowX:"auto"},children:[b.jsx("h4",{style:{marginBottom:"20px"},children:"Detalle de Cumplimiento por Ticket"}),b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.85rem",textAlign:"left"},children:[b.jsx("th",{style:{padding:"10px"},children:"ID Ticket"}),b.jsx("th",{style:{padding:"10px"},children:"Fecha Ingreso"}),b.jsx("th",{style:{padding:"10px"},children:"Prioridad / SLA"}),b.jsx("th",{style:{padding:"10px"},children:"Responsable (Cierre)"}),b.jsx("th",{style:{padding:"10px"},children:"Tiempo Transcurrido"}),b.jsx("th",{style:{padding:"10px"},children:"Estado SLA"}),b.jsx("th",{style:{padding:"10px"},children:"Estado Ticket"})]})}),b.jsx("tbody",{children:J.ticketsWithMetrics.map(st=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"0.9rem"},children:[b.jsxs("td",{style:{padding:"15px 10px",fontFamily:"monospace",color:"var(--primary)"},children:["#",st.id?st.id.slice(-6):"N/A"]}),b.jsx("td",{style:{padding:"15px 10px"},children:new Date(st.createdAt).toLocaleDateString()}),b.jsx("td",{style:{padding:"15px 10px"},children:b.jsxs("span",{style:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem",color:st.priority==="high"?"var(--danger)":st.priority==="medium"?"var(--warning)":"var(--success)"},children:[st.priority," (",st.slaLimit,"h)"]})}),b.jsx("td",{style:{padding:"15px 10px"},children:st.closedBy||(st.status==="closed"?"Admin":"---")}),b.jsxs("td",{style:{padding:"15px 10px"},children:[st.durationHours," hrs"]}),b.jsx("td",{style:{padding:"15px 10px"},children:st.isCompliant?b.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[b.jsx(Cl,{size:12})," A Tiempo"]}):b.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--danger)",background:"rgba(239, 68, 68, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[b.jsx(N4,{size:12})," Vencido"]})}),b.jsx("td",{style:{padding:"15px 10px",opacity:.8},children:st.status==="open"?"Abierto":"Cerrado"})]},st.id))})]})]})]}):b.jsxs("div",{className:"glass-card",style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[b.jsx("div",{style:{marginBottom:"15px"},children:b.jsx(qv,{size:48,style:{opacity:.2}})}),"No hay actividad de tickets para generar indicadores automticos en este periodo."]}),y&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[b.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"Nuevo Indicador / Meta"}),b.jsxs("form",{onSubmit:B,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Nombre del Indicador"}),b.jsx("input",{type:"text",placeholder:"Ej: Satisfaccin Cliente",required:!0,value:T.name,onChange:st=>_({...T,name:st.target.value})})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Meta"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:T.target,onChange:st=>_({...T,target:st.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Valor Actual"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:T.current,onChange:st=>_({...T,current:st.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Unidad"}),b.jsxs("select",{value:T.unit,onChange:st=>_({...T,unit:st.target.value}),children:[b.jsx("option",{value:"%",children:"%"}),b.jsx("option",{value:"#",children:"#"}),b.jsx("option",{value:"$",children:"$"})]})]})]}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[b.jsx("button",{type:"button",onClick:()=>A(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn-primary",children:"Crear Indicador"})]})]})]})})]})},hL=()=>{const[n,t]=te.useState([]),[e,r]=te.useState([]),[s,o]=te.useState(null),[u,h]=te.useState(!1),[f,d]=te.useState(!1),[y,A]=te.useState(!0),[T,_]=te.useState({name:"",description:"",leaders:[]}),[B,q]=te.useState(null),[O,P]=te.useState({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),[tt,J]=te.useState([]),[it,st]=te.useState(!1),[St,G]=te.useState(null);te.useEffect(()=>{const $=yn.subscribeSGIProcesses(rt=>{t(rt),A(!1)});return(async()=>{const rt=await yn.getUsers();r(rt)})(),()=>$()},[]);const M=async $=>{$.preventDefault();try{if(T.leaders.length===0){alert("Debe seleccionar al menos un lder para el proceso.");return}s&&!s.isNew?await yn.updateSGIProcess(s.id,T):await yn.addSGIProcess({...T,indicators:[]}),h(!1),_({name:"",description:"",leaders:[]}),o(null)}catch(mt){console.error("Error saving process:",mt)}},w=async $=>{window.confirm("Seguro que desea eliminar este proceso?")&&(await yn.deleteSGIProcess($),s?.id===$&&o(null))},F=async $=>{if($.preventDefault(),!s)return;let mt;if(B)mt=s.indicators.map(rt=>rt.id===B.id?{...rt,...O}:rt);else{const rt={id:Date.now().toString(),...O,monthlyData:{}};mt=[...s.indicators||[],rt]}try{await yn.updateSGIProcess(s.id,{indicators:mt}),o({...s,indicators:mt}),d(!1),P({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),q(null)}catch(rt){console.error("Error saving indicator:",rt)}},R=async $=>{if(!window.confirm("Est seguro de eliminar este indicador?"))return;const mt=s.indicators.filter(rt=>rt.id!==$);await yn.updateSGIProcess(s.id,{indicators:mt}),o({...s,indicators:mt})},N=$=>(G($),st(!0),yn.subscribeSGIEvidence(s.id,rt=>{const ft=rt.filter(at=>at.indicatorId===$.id);J(ft)})),I=async($,mt,rt)=>{if(!s)return;const ft=s.indicators.map(at=>at.id===$?{...at,monthlyData:{...at.monthlyData,[mt]:parseFloat(rt)}}:at);try{await yn.updateSGIProcess(s.id,{indicators:ft}),o({...s,indicators:ft})}catch(at){console.error("Error updating data:",at)}};return b.jsxs("div",{style:{padding:"20px",width:"100%",margin:"0 auto"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[b.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(Il,{color:"var(--primary)"})," Gestin de Procesos SGI"]}),b.jsxs("button",{onClick:()=>{o({isNew:!0}),_({name:"",description:"",leaders:[]}),h(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(Ah,{size:18})," Nuevo Proceso"]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(250px, 1fr) 4fr",gap:"30px"},children:[b.jsxs("div",{className:"glass-card",style:{padding:"20px",height:"fit-content"},children:[b.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Procesos"}),b.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map($=>b.jsx("li",{style:{marginBottom:"10px"},children:b.jsxs("div",{onClick:()=>o($),style:{padding:"12px",borderRadius:"8px",cursor:"pointer",background:s?.id===$.id?"rgba(0, 108, 224, 0.2)":"rgba(255,255,255,0.05)",border:s?.id===$.id?"1px solid var(--primary)":"1px solid transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("span",{style:{fontWeight:500},children:$.name}),b.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[b.jsx("button",{onClick:mt=>{mt.stopPropagation(),o($),_({name:$.name,description:$.description||"",leaders:$.leaders||($.leader?[{id:$.leaderId||"",name:$.leader}]:[])}),h(!0)},style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer"},title:"Editar Proceso",children:b.jsx(fc,{size:14})}),b.jsx("button",{onClick:mt=>{mt.stopPropagation(),w($.id)},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},title:"Eliminar Proceso",children:b.jsx(Eh,{size:14})})]})]})},$.id))})]}),b.jsx("div",{className:"glass-card",style:{padding:"30px"},children:s&&!s.isNew?b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[b.jsxs("div",{children:[b.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"var(--primary)"},children:s.name}),b.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:s.description||"Sin descripcin"}),b.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:["Lderes:",s.leaders?.map($=>b.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:$.name},$.id))||s.leader&&b.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:s.leader})||"N/A"]})]}),b.jsxs("button",{onClick:()=>{q(null),P({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),d(!0)},className:"btn-primary",style:{background:"var(--success)",fontSize:"0.9rem",padding:"8px 15px"},children:[b.jsx(Ah,{size:16,style:{marginRight:"5px"}})," Agregar Indicador"]})]}),b.jsx("div",{className:"glass-card",style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"12px"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",textAlign:"left"},children:[b.jsx("th",{style:{padding:"10px"},children:"Indicador"}),b.jsx("th",{style:{padding:"10px"},children:"Meta"}),b.jsx("th",{style:{padding:"10px"},children:"Ene"}),b.jsx("th",{style:{padding:"10px"},children:"Feb"}),b.jsx("th",{style:{padding:"10px"},children:"Mar"}),b.jsx("th",{style:{padding:"10px"},children:"Abr"}),b.jsx("th",{style:{padding:"10px"},children:"May"}),b.jsx("th",{style:{padding:"10px"},children:"Jun"}),b.jsx("th",{style:{padding:"10px"},children:"Jul"}),b.jsx("th",{style:{padding:"10px"},children:"Ago"}),b.jsx("th",{style:{padding:"10px"},children:"Sep"}),b.jsx("th",{style:{padding:"10px"},children:"Oct"}),b.jsx("th",{style:{padding:"10px"},children:"Nov"}),b.jsx("th",{style:{padding:"10px"},children:"Dic"}),b.jsx("th",{style:{padding:"10px"},children:"Acciones"})]})}),b.jsxs("tbody",{children:[s.indicators&&s.indicators.map($=>b.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsxs("td",{style:{padding:"15px 10px"},children:[b.jsx("div",{style:{fontWeight:"bold"},children:$.name}),b.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"5px",opacity:.6},children:[$.requiresPhoto&&b.jsx(O0,{size:14,title:"Requiere Foto"}),$.requiresFile&&b.jsx(zp,{size:14,title:"Requiere Archivo"}),$.requiresComment&&b.jsx(I4,{size:14,title:"Requiere Comentario"})]})]}),b.jsxs("td",{style:{padding:"15px 10px"},children:[$.target||"-"," ",$.unit]}),["01","02","03","04","05","06","07","08","09","10","11","12"].map(mt=>b.jsx("td",{style:{padding:"5px"},children:b.jsx("input",{type:"number",style:{width:"50px",background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"4px",borderRadius:"4px",fontSize:"0.85rem"},value:$.monthlyData?.[mt]||"",onChange:rt=>I($.id,mt,rt.target.value)})},mt)),b.jsxs("td",{style:{padding:"15px 10px",display:"flex",gap:"10px"},children:[b.jsx("button",{onClick:()=>{q($),P({name:$.name,target:$.target,unit:$.unit,requiresPhoto:$.requiresPhoto,requiresFile:$.requiresFile,requiresComment:$.requiresComment}),d(!0)},title:"Editar Indicador",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:b.jsx(fc,{size:16})}),b.jsx("button",{onClick:()=>N($),title:"Ver Evidencia",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:b.jsx(Il,{size:16})}),b.jsx("button",{onClick:()=>R($.id),style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:b.jsx(Eh,{size:16})})]})]},$.id)),(!s.indicators||s.indicators.length===0)&&b.jsx("tr",{children:b.jsx("td",{colSpan:"15",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No hay indicadores configurados para este proceso."})})]})]})})]}):b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-muted)"},children:[b.jsx(Il,{size:48,style:{opacity:.2,marginBottom:"20px"}}),b.jsx("p",{children:"Seleccione un proceso para ver sus indicadores o cree uno nuevo."})]})})]}),u&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:b.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[b.jsx("h3",{children:s?.id?"Editar Proceso":"Nuevo Proceso"}),b.jsxs("form",{onSubmit:M,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Nombre del Proceso"}),b.jsx("input",{type:"text",required:!0,value:T.name,onChange:$=>_({...T,name:$.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Descripcin"}),b.jsx("textarea",{value:T.description,onChange:$=>_({...T,description:$.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"}})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Seleccionar Lderes (Puede seleccionar varios)"}),b.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px"},children:e.map($=>{const mt=T.leaders?.some(rt=>rt.id===$.id);return b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[b.jsx("input",{type:"checkbox",checked:mt,onChange:rt=>{let ft=[...T.leaders||[]];rt.target.checked?ft.push({id:$.id,name:$.name}):ft=ft.filter(at=>at.id!==$.id),_({...T,leaders:ft})}}),b.jsxs("span",{style:{fontSize:"0.9rem"},children:[$.name," ",b.jsxs("small",{style:{opacity:.5},children:["(",$.role,")"]})]})]},$.id)})})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[b.jsx("button",{type:"button",onClick:()=>h(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),b.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),f&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:b.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"450px"},children:[b.jsx("h3",{children:B?"Editar Indicador":"Nuevo Indicador de Proceso"}),b.jsxs("form",{onSubmit:F,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Nombre del Indicador / Tarea"}),b.jsx("input",{type:"text",placeholder:"Ej: Entrega de Reportes",required:!0,value:O.name,onChange:$=>P({...O,name:$.target.value})})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Meta"}),b.jsx("input",{type:"number",required:!0,value:O.target,onChange:$=>P({...O,target:$.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Unidad"}),b.jsxs("select",{value:O.unit,onChange:$=>P({...O,unit:$.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[b.jsx("option",{value:"%",children:"% (Porcentaje)"}),b.jsx("option",{value:"#",children:"# (Cantidad)"}),b.jsx("option",{value:"$",children:"$ (Pesos)"})]})]})]}),b.jsxs("div",{style:{margin:"15px 0"},children:[b.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Requerimientos de Evidencia:"}),b.jsxs("div",{style:{display:"flex",gap:"20px"},children:[b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[b.jsx("input",{type:"checkbox",checked:O.requiresPhoto,onChange:$=>P({...O,requiresPhoto:$.target.checked})}),b.jsx("span",{children:"Foto"})]}),b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[b.jsx("input",{type:"checkbox",checked:O.requiresFile,onChange:$=>P({...O,requiresFile:$.target.checked})}),b.jsx("span",{children:"Archivo"})]}),b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[b.jsx("input",{type:"checkbox",checked:O.requiresComment,onChange:$=>P({...O,requiresComment:$.target.checked})}),b.jsx("span",{children:"Comentario"})]})]})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[b.jsx("button",{type:"button",onClick:()=>{d(!1),q(null)},style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),b.jsx("button",{type:"submit",className:"btn-primary",children:B?"Guardar Cambios":"Agregar"})]})]})]})}),it&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center"},children:b.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsxs("h3",{style:{margin:0},children:["Evidencia: ",St?.name]}),b.jsx("button",{onClick:()=>st(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:b.jsx(N4,{})})]}),tt.length===0?b.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se ha cargado evidencia para este indicador an."}):b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:tt.map($=>b.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"12px",borderLeft:"4px solid var(--primary)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[b.jsx("span",{style:{fontWeight:"bold"},children:$.leaderName}),b.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date($.timestamp).toLocaleString()})]}),$.value&&b.jsxs("div",{style:{marginBottom:"10px"},children:["Valor reportado: ",b.jsx("b",{style:{color:"var(--primary)"},children:$.value})]}),$.comment&&b.jsxs("p",{style:{fontSize:"0.9rem",margin:"0 0 10px 0",fontStyle:"italic"},children:['"',$.comment,'"']}),$.attachments&&$.attachments.length>0&&b.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:$.attachments.map((mt,rt)=>b.jsxs("a",{href:mt.url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"5px 10px",borderRadius:"6px",fontSize:"0.8rem",textDecoration:"none"},children:[mt.type?.includes("image")?b.jsx(O0,{size:14}):b.jsx(zp,{size:14}),mt.name]},rt))})]},$.id))})]})})]})},fL=()=>{const[n,t]=te.useState([]),[e,r]=te.useState(null),[s,o]=te.useState(!0),[u,h]=te.useState(yn.getSession()),[f,d]=te.useState({indicatorId:"",value:"",comment:"",files:[]}),[y,A]=te.useState(!1),[T,_]=te.useState([]);te.useEffect(()=>{if(!u)return;const O=yn.subscribeSGIProcesses(P=>{const tt=P.filter(J=>J.leaders?.some(it=>it.id===u.id)||J.leaderId===u.id||J.leader===u.name);if(t(tt),o(!1),e){const J=tt.find(it=>it.id===e.id);r(J||null)}});return()=>O()},[u,e?.id]),te.useEffect(()=>{if(!e)return;const O=yn.subscribeSGIEvidence(e.id,P=>{_(P)});return()=>O()},[e?.id]);const B=O=>{d({...f,files:Array.from(O.target.files)})},q=async O=>{if(!f.value&&!f.comment&&f.files.length===0){alert("Por favor ingrese algn dato o evidencia.");return}A(!0);try{const tt=(new Date().getMonth()+1).toString().padStart(2,"0"),J=[];for(const it of f.files){const st=`sgi/${e.id}/${O}/${Date.now()}_${it.name}`,St=await yn.uploadFile(it,st);J.push({name:it.name,url:St,type:it.type})}if(await yn.submitSGIEvidence({processId:e.id,indicatorId:O,leaderId:u.id,leaderName:u.name,month:tt,year:new Date().getFullYear(),value:f.value,comment:f.comment,attachments:J}),f.value){const it=e.indicators.map(st=>st.id===O?{...st,monthlyData:{...st.monthlyData||{},[tt]:parseFloat(f.value)}}:st);await yn.updateSGIProcess(e.id,{indicators:it})}d({indicatorId:"",value:"",comment:"",files:[]}),alert("Evidencia enviada correctamente.")}catch(P){console.error("Error submitting fulfillment:",P),alert("Error al enviar la evidencia.")}finally{A(!1)}};return s?b.jsx("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:"Cargando procesos..."}):b.jsxs("div",{style:{padding:"20px",display:"flex",gap:"30px",minHeight:"80vh"},children:[b.jsxs("div",{style:{width:"300px",flexShrink:0},children:[b.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(wu,{color:"var(--primary)"})," Mis Procesos SGI"]}),n.length===0?b.jsx("div",{className:"glass-card",style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:"No tienes procesos asignados en este momento."}):b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(O=>b.jsxs("div",{onClick:()=>r(O),className:"glass-card",style:{padding:"15px",cursor:"pointer",border:e?.id===O.id?"1px solid var(--primary)":"1px solid transparent",background:e?.id===O.id?"rgba(0, 108, 224, 0.15)":"rgba(255,255,255,0.05)",transition:"all 0.2s ease"},children:[b.jsx("div",{style:{fontWeight:"bold"},children:O.name}),b.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:[O.indicators?.length||0," Indicadores definidos"]})]},O.id))})]}),b.jsx("div",{style:{flex:1},children:e?b.jsxs("div",{children:[b.jsxs("div",{className:"glass-card",style:{padding:"25px",marginBottom:"30px"},children:[b.jsx("h2",{style:{margin:0},children:e.name}),b.jsx("p",{style:{color:"var(--text-muted)",margin:"10px 0 0 0"},children:e.description})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:e.indicators?.map(O=>b.jsxs("div",{className:"glass-card",style:{padding:"25px"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsxs("div",{children:[b.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:O.name}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[O.requiresPhoto&&b.jsxs("span",{className:"badge-blue",children:[b.jsx(O0,{size:12})," Foto"]}),O.requiresFile&&b.jsxs("span",{className:"badge-blue",children:[b.jsx(zp,{size:12})," Archivo"]}),O.requiresComment&&b.jsxs("span",{className:"badge-blue",children:[b.jsx(I4,{size:12})," Comentario"]})]})]}),b.jsxs("div",{style:{textAlign:"right"},children:[b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Meta Mensual"}),b.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[O.target," ",O.unit]})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"12px"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[b.jsxs("div",{className:"input-group",style:{margin:0},children:[b.jsx("label",{children:"Valor Real (Mes Actual)"}),b.jsx("input",{type:"number",placeholder:`0.00 ${O.unit}`,onChange:P=>d({...f,value:P.target.value})})]}),O.requiresComment&&b.jsxs("div",{className:"input-group",style:{margin:0},children:[b.jsx("label",{children:"Comentarios / Observaciones"}),b.jsx("textarea",{placeholder:"Describa el progreso o hallazgos...",style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"},onChange:P=>d({...f,comment:P.target.value})})]})]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(O.requiresPhoto||O.requiresFile)&&b.jsxs("div",{className:"input-group",style:{margin:0},children:[b.jsx("label",{children:"Evidencia (Fotos/Archivos)"}),b.jsxs("div",{style:{border:"2px dashed var(--border-color)",padding:"20px",borderRadius:"12px",textAlign:"center",position:"relative",cursor:"pointer",background:f.files.length>0?"rgba(52, 211, 153, 0.05)":"transparent"},children:[b.jsx("input",{type:"file",multiple:!0,accept:O.requiresPhoto?"image/*,.pdf,.doc,.docx":"*",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:B}),b.jsx(mN,{size:24,color:"var(--primary)",style:{marginBottom:"10px"}}),b.jsx("div",{style:{fontSize:"0.9rem"},children:f.files.length>0?`${f.files.length} archivos seleccionados`:"Haga clic o arrastre para subir evidencia"})]})]}),b.jsx("button",{disabled:y,onClick:()=>q(O.id),className:"btn-primary",style:{marginTop:"auto",display:"flex",justifyContent:"center",gap:"10px"},children:y?"Enviando...":b.jsxs(b.Fragment,{children:[b.jsx(sN,{size:18})," Enviar Cumplimiento"]})})]})]}),b.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px"},children:[b.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(wu,{size:14})," Historial de Entregas"]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:T.filter(P=>P.indicatorId===O.id).length===0?b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:"Sin entregas previas este mes."}):T.filter(P=>P.indicatorId===O.id).map(P=>b.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"8px",fontSize:"0.85rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[b.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:[P.value," ",O.unit]}),b.jsx("span",{style:{fontSize:"0.75rem",opacity:.6},children:new Date(P.timestamp).toLocaleString()})]}),P.comment&&b.jsx("p",{style:{margin:"0 0 5px 0",opacity:.8},children:P.comment}),P.attachments&&P.attachments.length>0&&b.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:P.attachments.map((tt,J)=>b.jsxs("a",{href:tt.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:[b.jsx(zp,{size:12})," ",b.jsx("span",{style:{textDecoration:"underline"},children:tt.name})]},J))})]},P.id))})]})]},O.id))})]}):b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[b.jsx(Il,{size:80,style:{marginBottom:"20px"}}),b.jsx("h2",{children:"Selecciona un proceso para comenzar"})]})})]})},dL=()=>{const{user:n,logout:t,users:e}=Jf(),{tickets:r,addTicket:s,updateTicketStatus:o,deleteTicket:u}=AN(),{computers:h}=Ym(),[f,d]=te.useState("view_tickets"),[y,A]=te.useState({title:"",description:"",priority:"medium"}),[T,_]=te.useState(!1),[B,q]=te.useState(null),[O,P]=te.useState({solution:"",recommendation:""}),[tt,J]=te.useState(null),[it,st]=te.useState({rating:5,comment:""}),[St,G]=te.useState(10),[M,w]=te.useState(""),[F,R]=te.useState(""),N=K=>{K.preventDefault(),tt&&(o(tt,"closed",{feedback:{rating:parseInt(it.rating),comment:it.comment,createdAt:new Date().toISOString()}}),J(null),st({rating:5,comment:""}))},[I,$]=te.useState(null);if(!n)return null;console.log("Dashboard loaded - Version: 2.1.1 (Activity Fixed)");const mt=()=>{try{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))}catch(K){console.error("Fullscreen error",K)}},rt=K=>{K.preventDefault(),s({...y,author:n.username}),A({title:"",description:"",priority:"medium"}),d("view_tickets")},ft=K=>{K.preventDefault(),I&&(o(I.id,I.status,{title:I.title,description:I.description,priority:I.priority,...Dt&&{solution:I.solution,recommendation:I.recommendation}}),$(null))},at=K=>{window.confirm("Est seguro de que desea eliminar este ticket?")&&u(K)},bt=K=>{K.preventDefault(),o(B,"closed",{solution:O.solution,recommendation:O.recommendation,closedAt:new Date().toISOString(),closedBy:n.username});const ht=(r||[]).find(gt=>gt.id===B);if(ht){const gt=(e||[]).find(Nt=>Nt.username===ht.author);gt&&gt.email&&(console.log(`%c SISTEMA ENVIANDO CORREO A: ${gt.email}`,"color: #10b981; font-weight: bold;"),console.log(`Asunto:  Ticket Resuelto: ${ht.title}`),console.log(`Solucin: ${O.solution}`),console.log(`Recomendacin: ${O.recommendation}`))}q(null),P({solution:"",recommendation:""})},Dt=n.role==="admin",nt=Dt||n.canManageAssets,k=r||[],z=k.filter(K=>K.status==="open").length,W=k.filter(K=>K.status==="closed").length;return b.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-color)",color:"white"},children:[I&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(fc,{color:"var(--primary)",size:24})," Editar Ticket"]}),b.jsx("button",{onClick:()=>$(null),style:{background:"transparent",color:"var(--text-muted)"},children:b.jsx(j4,{size:24})})]}),b.jsxs("form",{onSubmit:ft,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Ttulo / Asunto"}),b.jsx("input",{type:"text",required:!0,value:I.title,onChange:K=>$({...I,title:K.target.value})})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Prioridad"}),b.jsxs("select",{value:I.priority,onChange:K=>$({...I,priority:K.target.value}),children:[b.jsx("option",{value:"low",children:"Baja"}),b.jsx("option",{value:"medium",children:"Media"}),b.jsx("option",{value:"high",children:"Alta"})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Descripcin del Problema"}),b.jsx("textarea",{rows:"5",required:!0,value:I.description,onChange:K=>$({...I,description:K.target.value})})]}),Dt&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Resolucin Tcnica (Admin)"}),b.jsx("textarea",{rows:"4",value:I.solution||"",onChange:K=>$({...I,solution:K.target.value}),placeholder:"Detalle tcnico de la solucin..."})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Recomendaciones (Admin)"}),b.jsx("textarea",{rows:"3",value:I.recommendation||"",onChange:K=>$({...I,recommendation:K.target.value}),placeholder:"Recomendaciones para el cliente..."})]})]}),b.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"15px"},children:"Guardar Cambios"}),b.jsx("button",{type:"button",onClick:()=>$(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),B&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[b.jsxs("h3",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx(Cl,{color:"var(--success)",size:24})," Finalizar Servicio Tcnico"]}),b.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Complete los detalles de la solucin para cerrar el caso y notificar al usuario."}),b.jsxs("form",{onSubmit:bt,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Descripcin de la Solucin"}),b.jsx("textarea",{rows:"4",required:!0,value:O.solution,onChange:K=>P({...O,solution:K.target.value}),placeholder:"Detalle los pasos tcnicos realizados..."})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Recomendaciones al Usuario"}),b.jsx("textarea",{rows:"3",required:!0,value:O.recommendation,onChange:K=>P({...O,recommendation:K.target.value}),placeholder:"Recomendaciones sugeridas para el futuro..."})]}),b.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--success)",padding:"15px"},children:"Confirmar y Enviar Notificacin"}),b.jsx("button",{type:"button",onClick:()=>q(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),tt&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:b.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"500px",border:"1px solid var(--warning)",maxHeight:"90vh",overflowY:"auto"},children:[b.jsxs("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px",color:"var(--warning)"},children:[b.jsx(tp,{size:24,fill:"var(--warning)"})," Calificar Servicio"]}),b.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Su opinin es importante para mejorar nuestro servicio de soporte."}),b.jsxs("form",{onSubmit:N,children:[b.jsxs("div",{className:"input-group",style:{textAlign:"center",marginBottom:"20px"},children:[b.jsx("label",{style:{marginBottom:"10px",display:"block"},children:"Calificacin General"}),b.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[1,2,3,4,5].map(K=>b.jsx("button",{type:"button",onClick:()=>st({...it,rating:K}),style:{background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:ht=>ht.currentTarget.style.transform="scale(1.2)",onMouseLeave:ht=>ht.currentTarget.style.transform="scale(1)",children:b.jsx(tp,{size:32,color:K<=it.rating?"var(--warning)":"gray",fill:K<=it.rating?"var(--warning)":"transparent"})},K))})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Comentarios Adicionales (Opcional)"}),b.jsx("textarea",{rows:"3",value:it.comment,onChange:K=>st({...it,comment:K.target.value}),placeholder:"Qu le pareci la atencin?..."})]}),b.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[b.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--warning)",color:"black",fontWeight:"bold",padding:"15px"},children:"Enviar Calificacin"}),b.jsx("button",{type:"button",onClick:()=>J(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Omitir"})]})]})]})}),b.jsxs("nav",{style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",padding:"10px 15px",borderBottom:"1px solid var(--border-color)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,gap:"10px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",flex:1},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx("img",{src:Th,alt:"ELSPEC Logo",style:{height:"40px"}}),b.jsxs("h1",{style:{fontSize:"clamp(1rem, 4vw, 1.4rem)",margin:0,fontWeight:800,letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:["ELSPEC ",b.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]})]}),b.jsxs("div",{className:"glass-card",style:{display:"flex",padding:"3px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",flexWrap:"wrap"},children:[b.jsxs("button",{onClick:()=>d("create_ticket"),style:{background:f==="create_ticket"?"var(--primary)":"transparent",border:"none",color:f==="create_ticket"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Ah,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Nueva Solicitud"})]}),b.jsxs("button",{onClick:()=>d("view_tickets"),style:{background:f==="view_tickets"?"var(--primary)":"transparent",border:"none",color:f==="view_tickets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Bg,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:Dt?"Bandeja de Entrada":"Mis Tickets"})]}),Dt&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>d("users"),style:{background:f==="users"?"var(--primary)":"transparent",border:"none",color:f==="users"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(_N,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Usuarios"})]}),b.jsxs("button",{onClick:()=>d("reports"),style:{background:f==="reports"?"var(--primary)":"transparent",border:"none",color:f==="reports"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Il,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Reportes"})]})]}),b.jsxs("button",{onClick:()=>d("assets"),style:{background:f==="assets"?"var(--primary)":"transparent",border:"none",color:f==="assets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(o1,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Activos"})]}),nt&&b.jsxs("button",{onClick:()=>d("maintenance"),style:{background:f==="maintenance"?"var(--primary)":"transparent",border:"none",color:f==="maintenance"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Pp,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mantenimiento"})]}),(Dt||n.role==="sgi")&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>d("sgi_indicators"),style:{background:f==="sgi_indicators"?"var(--primary)":"transparent",border:"none",color:f==="sgi_indicators"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Gm,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Indicadores SGI"})]}),b.jsxs("button",{onClick:()=>d("sgi_processes"),style:{background:f==="sgi_processes"?"var(--primary)":"transparent",border:"none",color:f==="sgi_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(Il,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Gestin Procesos"})]})]}),b.jsxs("button",{onClick:()=>d("my_processes"),style:{background:f==="my_processes"?"var(--primary)":"transparent",border:"none",color:f==="my_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[b.jsx(wu,{size:16})," ",b.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mis Procesos"})]})]})]}),b.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[b.jsx("button",{onClick:mt,title:"Pantalla Completa",style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:T?b.jsx(XC,{size:18}):b.jsx($C,{size:18})}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",borderLeft:"1px solid var(--border-color)",paddingLeft:"20px"},children:[b.jsxs("div",{style:{textAlign:"right"},children:[b.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:n.username}),b.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:n.role})]}),b.jsx("button",{onClick:()=>{t(),window.location.reload()},style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:b.jsx(YC,{size:18})})]})]})]}),b.jsxs("div",{style:{padding:"clamp(15px, 4vw, 30px)"},children:[b.jsx("header",{style:{marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"5px"},children:f==="create_ticket"?"Nueva Solicitud de Soporte":f==="view_tickets"?Dt?"Consola de Administracin IT":"Mis Solicitudes Tcnicas":f==="users"?"Control de Accesos":f==="assets"?"Gestin de Activos y Equipos":f==="maintenance"?"Cronograma de Mantenimiento":f==="sgi_indicators"?"Tablero de Control SGI":f==="sgi_processes"?"Gestin de Procesos SGI":f==="my_processes"?"Mis Procesos Asignados":"Centro de Generacin de Informes"}),b.jsx("p",{style:{color:"var(--text-muted)"},children:"Mesa de servicios corporativa - Soporte Interno ELSPEC ANDINA."})]}),Dt&&f==="view_tickets"&&b.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Estado Global: ",b.jsx("span",{style:{color:"var(--success)",fontWeight:"bold"},children:"Operativo"})]})]})}),Dt&&f==="view_tickets"&&b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},children:[b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"14px",borderRadius:"15px"},children:b.jsx(VC,{color:"var(--primary)",size:28})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Tickets"}),b.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:k.length})]})]}),b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(245, 158, 11, 0.15)",padding:"14px",borderRadius:"15px"},children:b.jsx(C4,{color:"var(--warning)",size:28})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Pendientes"}),b.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:z})]})]}),b.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(16, 185, 129, 0.15)",padding:"14px",borderRadius:"15px"},children:b.jsx(Cl,{color:"var(--success)",size:28})}),b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Finalizados"}),b.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:W})]})]})]}),f==="create_ticket"&&b.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:b.jsxs("div",{className:"glass-card",style:{padding:"40px"},children:[b.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px",fontSize:"1.5rem"},children:[b.jsx(Ah,{size:32,color:"var(--primary)"})," Nueva Solicitud de Soporte"]}),b.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Por favor complete el siguiente formulario con el mayor detalle posible para que nuestro equipo pueda asistirle eficientemente."}),b.jsxs("form",{onSubmit:rt,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Tipo de Servicio / Asunto"}),b.jsx("input",{type:"text",value:y.title,placeholder:"Ej: Falla en servidor de archivos, Error de software...",onChange:K=>A({...y,title:K.target.value}),required:!0,style:{fontSize:"1.1rem",padding:"15px"}})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Nivel de Prioridad"}),b.jsxs("select",{value:y.priority,onChange:K=>A({...y,priority:K.target.value}),style:{fontSize:"1rem",padding:"15px"},children:[b.jsx("option",{value:"low",children:"Baja - Consulta General"}),b.jsx("option",{value:"medium",children:"Media - Incidencia Relevante"}),b.jsx("option",{value:"high",children:"Alta - Urgencia Tcnica"})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Descripcin Detallada"}),b.jsx("textarea",{rows:"8",value:y.description,placeholder:"Describa el problema aqu. Incluya mensajes de error, pasos para reproducir, etc.",onChange:K=>A({...y,description:K.target.value}),required:!0,style:{fontSize:"1rem",padding:"15px"}})]}),b.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"20px",fontSize:"1.1rem",fontWeight:"bold"},children:"Enviar Solicitud"})]})]})}),f==="view_tickets"&&b.jsx("div",{style:{width:"100%"},children:b.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[b.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px"},children:[b.jsx(Bg,{size:24,color:"var(--primary)"}),Dt?"Registro General de Actividades IT":"Listado de mis Requerimientos"]}),b.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",marginBottom:"20px",background:"rgba(255,255,255,0.02)",padding:"15px",borderRadius:"10px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Mostrar:"}),b.jsxs("select",{value:St,onChange:K=>G(Number(K.target.value)),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"5px 10px"},children:[b.jsx("option",{value:5,children:"5 ltimos"}),b.jsx("option",{value:10,children:"10 ltimos"}),b.jsx("option",{value:20,children:"20 ltimos"}),b.jsx("option",{value:50,children:"50 ltimos"}),b.jsx("option",{value:1e3,children:"Todos"})]})]}),b.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)"}}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Desde:"}),b.jsx("input",{type:"date",value:M,onChange:K=>w(K.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Hasta:"}),b.jsx("input",{type:"date",value:F,onChange:K=>R(K.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:k.length===0?b.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"100px 0",opacity:.4},children:[b.jsx(Bg,{size:64,style:{marginBottom:"20px"}}),b.jsx("p",{style:{fontSize:"1.1rem"},children:"No existen tickets registrados en este momento."})]}):k.filter(K=>{if(Dt||K.author===n.username){let ht=!0;if(M&&(ht=ht&&new Date(K.createdAt)>=new Date(M)),F){const gt=new Date(F);gt.setHours(23,59,59,999),ht=ht&&new Date(K.createdAt)<=gt}return ht}return!1}).sort((K,ht)=>new Date(ht.createdAt)-new Date(K.createdAt)).slice(0,St).map(K=>{const ht=Dt||K.author===n.username;return b.jsxs("div",{style:{padding:"clamp(15px, 4vw, 25px)",background:"rgba(255,255,255,0.01)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"var(--transition)"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"flex-start"),marginBottom:"20px",gap:"15px"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("h4",{style:{fontSize:"clamp(1.1rem, 3vw, 1.3rem)",margin:"0 0 10px 0",color:"white"},children:K.title}),b.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[b.jsx("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"20px",background:K.priority==="high"?"rgba(239, 68, 68, 0.2)":K.priority==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",color:K.priority==="high"?"var(--danger)":K.priority==="medium"?"var(--warning)":"var(--success)",textTransform:"uppercase",fontWeight:800,letterSpacing:"0.5px"},children:K.priority}),b.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[b.jsx(wu,{size:14})," Creacin: ",K.createdAt?new Date(K.createdAt).toLocaleString():"Fecha N/A"]}),K.closedAt&&b.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--success)",display:"flex",alignItems:"center",gap:"5px"},children:[b.jsx(Cl,{size:14})," Cierre: ",new Date(K.closedAt).toLocaleString()]}),b.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["ID: ",b.jsx("code",{style:{color:"var(--primary)"},children:K.id?K.id.slice(-6):"N/A"})]}),b.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",borderLeft:"1px solid rgba(255,255,255,0.1)",paddingLeft:"15px"},children:["Autor: ",b.jsx("b",{style:{color:"white"},children:K.author})]})]})]}),b.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px"},children:[K.status==="open"?b.jsxs("div",{style:{color:"var(--warning)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(245, 158, 11, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[b.jsx(wu,{size:16})," Pendiente"]}):b.jsxs("div",{style:{color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(16, 185, 129, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[b.jsx(Cl,{size:16})," Resuelto"]}),b.jsxs("div",{style:{display:"flex",gap:"10px"},children:[ht&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>$(K),title:"Editar Ticket",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px"},children:b.jsx(fc,{size:18})}),b.jsx("button",{onClick:()=>at(K.id),title:"Eliminar Ticket",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px"},children:b.jsx(Eh,{size:18})})]}),Dt&&K.status==="open"&&b.jsx("button",{onClick:()=>q(K.id),className:"btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem",background:"var(--success)",borderRadius:"10px"},children:"Finalizar"})]})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:K.status==="closed"&&window.innerWidth>=768?"1fr 1fr":"1fr",gap:"20px"},children:[b.jsx("div",{style:{background:"rgba(0,0,0,0.15)",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Descripcin del Problema"}),b.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",margin:0,lineHeight:1.6},children:K.description})]})}),K.status==="closed"&&b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[b.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"20px",borderRadius:"12px",borderLeft:"4px solid var(--success)"},children:[b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Resolucin Tcnica"}),b.jsx("p",{style:{color:"white",fontSize:"0.95rem",marginBottom:"15px",lineHeight:1.6},children:K.solution}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Recomendaciones"}),b.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0,lineHeight:1.6},children:K.recommendation})]}),K.feedback?b.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"15px",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[b.jsx(tp,{size:16,fill:"var(--warning)",color:"var(--warning)"}),b.jsxs("span",{style:{fontWeight:"bold",color:"var(--warning)",fontSize:"0.9rem"},children:["Calificacin del Usuario: ",K.feedback.rating,"/5"]})]}),K.feedback.comment&&b.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",margin:"5px 0 0 0",fontStyle:"italic"},children:['"',K.feedback.comment,'"']})]}):K.author===n.username&&b.jsxs("button",{onClick:()=>{J(K.id),st({rating:5,comment:""})},style:{background:"rgba(245, 158, 11, 0.15)",color:"var(--warning)",border:"1px dashed var(--warning)",padding:"12px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:gt=>gt.currentTarget.style.background="rgba(245, 158, 11, 0.25)",onMouseLeave:gt=>gt.currentTarget.style.background="rgba(245, 158, 11, 0.15)",children:[b.jsx(tp,{size:18})," Calificar Atencin"]})]})]})]},K.id)})})]})}),(f==="users"||f==="reports"||f==="assets"||f==="maintenance"||f==="sgi_indicators"||f==="sgi_processes"||f==="my_processes")&&b.jsxs("div",{style:{width:"100%"},children:[f==="users"&&b.jsx(EN,{}),f==="reports"&&b.jsx(nL,{tickets:r,computers:h}),f==="assets"&&(nt?b.jsx(sL,{}):b.jsx(lL,{computers:h,currentUser:n})),f==="maintenance"&&b.jsx(oL,{}),f==="sgi_indicators"&&b.jsx(cL,{tickets:r}),f==="sgi_processes"&&b.jsx(hL,{}),f==="my_processes"&&b.jsx(fL,{})]})]})]})};class pL extends X3.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("ErrorBoundary caught an error:",t,e),this.setState({errorInfo:e})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?b.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#0f172a",color:"white",padding:"20px",textAlign:"center"},children:b.jsxs("div",{className:"glass-card",style:{padding:"40px",maxWidth:"500px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.05)"},children:[b.jsx(L4,{size:64,style:{color:"#ef4444",marginBottom:"20px"}}),b.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"Algo sali mal"}),b.jsx("p",{style:{color:"#94a3b8",marginBottom:"30px"},children:"La aplicacin ha encontrado un error inesperado al intentar cargar esta vista."}),b.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"8px",marginBottom:"30px",fontSize:"0.8rem",color:"#ef4444",maxHeight:"200px",overflow:"auto"},children:this.state.error&&this.state.error.toString()}),b.jsxs("button",{onClick:this.handleReload,style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[b.jsx(eN,{size:18})," Recargar Aplicacin"]})]})}):this.props.children}}function gL(){const{isAuthenticated:n}=Jf();return b.jsx("div",{className:"App",children:b.jsx(pL,{children:n?b.jsx(dL,{}):b.jsx(SN,{})})})}window.onerror=function(n,t,e,r,s){const o=`Error: ${n} at ${t}:${e}`;return console.error(o),!1};try{rS.createRoot(document.getElementById("root")).render(b.jsx(te.StrictMode,{children:b.jsx(gL,{})}))}catch(n){console.error("Render error:",n),document.body.innerHTML=`<div style="color: white; padding: 20px;">Error al cargar la aplicacin: ${n.message}</div>`}export{Qn as _,mL as c,W3 as g};
