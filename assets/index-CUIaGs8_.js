(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var aI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yg={exports:{}},cf={};var ny;function S3(){if(ny)return cf;ny=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return cf.Fragment=e,cf.jsx=t,cf.jsxs=t,cf}var iy;function A3(){return iy||(iy=1,yg.exports=S3()),yg.exports}var m=A3(),vg={exports:{}},en={};var ry;function E3(){if(ry)return en;ry=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function _(Z){return Z===null||typeof Z!="object"?null:(Z=C&&Z[C]||Z["@@iterator"],typeof Z=="function"?Z:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,U={};function B(Z,k,P){this.props=Z,this.context=k,this.refs=U,this.updater=P||z}B.prototype.isReactComponent={},B.prototype.setState=function(Z,k){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,k,"setState")},B.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function ne(){}ne.prototype=B.prototype;function ae(Z,k,P){this.props=Z,this.context=k,this.refs=U,this.updater=P||z}var se=ae.prototype=new ne;se.constructor=ae,H(se,B.prototype),se.isPureReactComponent=!0;var Se=Array.isArray;function je(){}var $={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function w(Z,k,P){var Y=P.ref;return{$$typeof:n,type:Z,key:k,ref:Y!==void 0?Y:null,props:P}}function q(Z,k){return w(Z.type,k,Z.props)}function I(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function N(Z){var k={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(P){return k[P]})}var E=/\/+/g;function Q(Z,k){return typeof Z=="object"&&Z!==null&&Z.key!=null?N(""+Z.key):k.toString(36)}function de(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(je,je):(Z.status="pending",Z.then(function(k){Z.status==="pending"&&(Z.status="fulfilled",Z.value=k)},function(k){Z.status==="pending"&&(Z.status="rejected",Z.reason=k)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ie(Z,k,P,Y,M){var re=typeof Z;(re==="undefined"||re==="boolean")&&(Z=null);var fe=!1;if(Z===null)fe=!0;else switch(re){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Z.$$typeof){case n:case e:fe=!0;break;case v:return fe=Z._init,ie(fe(Z._payload),k,P,Y,M)}}if(fe)return M=M(Z),fe=Y===""?"."+Q(Z,0):Y,Se(M)?(P="",fe!=null&&(P=fe.replace(E,"$&/")+"/"),ie(M,k,P,"",function(Me){return Me})):M!=null&&(I(M)&&(M=q(M,P+(M.key==null||Z&&Z.key===M.key?"":(""+M.key).replace(E,"$&/")+"/")+fe)),k.push(M)),1;fe=0;var _e=Y===""?".":Y+":";if(Se(Z))for(var me=0;me<Z.length;me++)Y=Z[me],re=_e+Q(Y,me),fe+=ie(Y,k,P,re,M);else if(me=_(Z),typeof me=="function")for(Z=me.call(Z),me=0;!(Y=Z.next()).done;)Y=Y.value,re=_e+Q(Y,me++),fe+=ie(Y,k,P,re,M);else if(re==="object"){if(typeof Z.then=="function")return ie(de(Z),k,P,Y,M);throw k=String(Z),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return fe}function he(Z,k,P){if(Z==null)return Z;var Y=[],M=0;return ie(Z,Y,"","",function(re){return k.call(P,re,M++)}),Y}function ee(Z){if(Z._status===-1){var k=Z._result;k=k(),k.then(function(P){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=P)},function(P){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=P)}),Z._status===-1&&(Z._status=0,Z._result=k)}if(Z._status===1)return Z._result.default;throw Z._result}var pe=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Ce={map:he,forEach:function(Z,k,P){he(Z,function(){k.apply(this,arguments)},P)},count:function(Z){var k=0;return he(Z,function(){k++}),k},toArray:function(Z){return he(Z,function(k){return k})||[]},only:function(Z){if(!I(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return en.Activity=A,en.Children=Ce,en.Component=B,en.Fragment=t,en.Profiler=s,en.PureComponent=ae,en.StrictMode=r,en.Suspense=f,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,en.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return $.H.useMemoCache(Z)}},en.cache=function(Z){return function(){return Z.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function(Z,k,P){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Y=H({},Z.props),M=Z.key;if(k!=null)for(re in k.key!==void 0&&(M=""+k.key),k)!O.call(k,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&k.ref===void 0||(Y[re]=k[re]);var re=arguments.length-2;if(re===1)Y.children=P;else if(1<re){for(var fe=Array(re),_e=0;_e<re;_e++)fe[_e]=arguments[_e+2];Y.children=fe}return w(Z.type,M,Y)},en.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},en.createElement=function(Z,k,P){var Y,M={},re=null;if(k!=null)for(Y in k.key!==void 0&&(re=""+k.key),k)O.call(k,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(M[Y]=k[Y]);var fe=arguments.length-2;if(fe===1)M.children=P;else if(1<fe){for(var _e=Array(fe),me=0;me<fe;me++)_e[me]=arguments[me+2];M.children=_e}if(Z&&Z.defaultProps)for(Y in fe=Z.defaultProps,fe)M[Y]===void 0&&(M[Y]=fe[Y]);return w(Z,re,M)},en.createRef=function(){return{current:null}},en.forwardRef=function(Z){return{$$typeof:h,render:Z}},en.isValidElement=I,en.lazy=function(Z){return{$$typeof:v,_payload:{_status:-1,_result:Z},_init:ee}},en.memo=function(Z,k){return{$$typeof:d,type:Z,compare:k===void 0?null:k}},en.startTransition=function(Z){var k=$.T,P={};$.T=P;try{var Y=Z(),M=$.S;M!==null&&M(P,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(je,pe)}catch(re){pe(re)}finally{k!==null&&P.types!==null&&(k.types=P.types),$.T=k}},en.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},en.use=function(Z){return $.H.use(Z)},en.useActionState=function(Z,k,P){return $.H.useActionState(Z,k,P)},en.useCallback=function(Z,k){return $.H.useCallback(Z,k)},en.useContext=function(Z){return $.H.useContext(Z)},en.useDebugValue=function(){},en.useDeferredValue=function(Z,k){return $.H.useDeferredValue(Z,k)},en.useEffect=function(Z,k){return $.H.useEffect(Z,k)},en.useEffectEvent=function(Z){return $.H.useEffectEvent(Z)},en.useId=function(){return $.H.useId()},en.useImperativeHandle=function(Z,k,P){return $.H.useImperativeHandle(Z,k,P)},en.useInsertionEffect=function(Z,k){return $.H.useInsertionEffect(Z,k)},en.useLayoutEffect=function(Z,k){return $.H.useLayoutEffect(Z,k)},en.useMemo=function(Z,k){return $.H.useMemo(Z,k)},en.useOptimistic=function(Z,k){return $.H.useOptimistic(Z,k)},en.useReducer=function(Z,k,P){return $.H.useReducer(Z,k,P)},en.useRef=function(Z){return $.H.useRef(Z)},en.useState=function(Z){return $.H.useState(Z)},en.useSyncExternalStore=function(Z,k,P){return $.H.useSyncExternalStore(Z,k,P)},en.useTransition=function(){return $.H.useTransition()},en.version="19.2.4",en}var ay;function G0(){return ay||(ay=1,vg.exports=E3()),vg.exports}var Ze=G0();const tx=w3(Ze);var bg={exports:{}},hf={},xg={exports:{}},_g={};var sy;function T3(){return sy||(sy=1,(function(n){function e(ie,he){var ee=ie.length;ie.push(he);e:for(;0<ee;){var pe=ee-1>>>1,Ce=ie[pe];if(0<s(Ce,he))ie[pe]=he,ie[ee]=Ce,ee=pe;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var he=ie[0],ee=ie.pop();if(ee!==he){ie[0]=ee;e:for(var pe=0,Ce=ie.length,Z=Ce>>>1;pe<Z;){var k=2*(pe+1)-1,P=ie[k],Y=k+1,M=ie[Y];if(0>s(P,ee))Y<Ce&&0>s(M,P)?(ie[pe]=M,ie[Y]=ee,pe=Y):(ie[pe]=P,ie[k]=ee,pe=k);else if(Y<Ce&&0>s(M,ee))ie[pe]=M,ie[Y]=ee,pe=Y;else break e}}return he}function s(ie,he){var ee=ie.sortIndex-he.sortIndex;return ee!==0?ee:ie.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,A=null,C=3,_=!1,z=!1,H=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(ie){for(var he=t(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=ie)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(d)}}function Se(ie){if(H=!1,se(ie),!z)if(t(f)!==null)z=!0,je||(je=!0,N());else{var he=t(d);he!==null&&de(Se,he.startTime-ie)}}var je=!1,$=-1,O=5,w=-1;function q(){return U?!0:!(n.unstable_now()-w<O)}function I(){if(U=!1,je){var ie=n.unstable_now();w=ie;var he=!0;try{e:{z=!1,H&&(H=!1,ne($),$=-1),_=!0;var ee=C;try{t:{for(se(ie),A=t(f);A!==null&&!(A.expirationTime>ie&&q());){var pe=A.callback;if(typeof pe=="function"){A.callback=null,C=A.priorityLevel;var Ce=pe(A.expirationTime<=ie);if(ie=n.unstable_now(),typeof Ce=="function"){A.callback=Ce,se(ie),he=!0;break t}A===t(f)&&r(f),se(ie)}else r(f);A=t(f)}if(A!==null)he=!0;else{var Z=t(d);Z!==null&&de(Se,Z.startTime-ie),he=!1}}break e}finally{A=null,C=ee,_=!1}he=void 0}}finally{he?N():je=!1}}}var N;if(typeof ae=="function")N=function(){ae(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,Q=E.port2;E.port1.onmessage=I,N=function(){Q.postMessage(null)}}else N=function(){B(I,0)};function de(ie,he){$=B(function(){ie(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var he=3;break;default:he=C}var ee=C;C=he;try{return ie()}finally{C=ee}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ee=C;C=ie;try{return he()}finally{C=ee}},n.unstable_scheduleCallback=function(ie,he,ee){var pe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,ie){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ee+Ce,ie={id:v++,callback:he,priorityLevel:ie,startTime:ee,expirationTime:Ce,sortIndex:-1},ee>pe?(ie.sortIndex=ee,e(d,ie),t(f)===null&&ie===t(d)&&(H?(ne($),$=-1):H=!0,de(Se,ee-pe))):(ie.sortIndex=Ce,e(f,ie),z||_||(z=!0,je||(je=!0,N()))),ie},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(ie){var he=C;return function(){var ee=C;C=he;try{return ie.apply(this,arguments)}finally{C=ee}}}})(_g)),_g}var oy;function C3(){return oy||(oy=1,xg.exports=T3()),xg.exports}var wg={exports:{}},fa={};var ly;function N3(){if(ly)return fa;ly=1;var n=G0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fa.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,v)},fa.flushSync=function(f){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=v,r.d.f()}},fa.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fa.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),C=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:_}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:C,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fa.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fa.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fa.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fa.requestFormReset=function(f){r.d.r(f)},fa.unstable_batchedUpdates=function(f,d){return f(d)},fa.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},fa.useFormStatus=function(){return c.H.useHostTransitionStatus()},fa.version="19.2.4",fa}var uy;function R3(){if(uy)return wg.exports;uy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wg.exports=N3(),wg.exports}var cy;function I3(){if(cy)return hf;cy=1;var n=C3(),e=G0(),t=R3();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return f(y),i;if(x===u)return f(y),a;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=y,u=x;else{for(var L=!1,K=y.child;K;){if(K===l){L=!0,l=y,u=x;break}if(K===u){L=!0,u=y,l=x;break}K=K.sibling}if(!L){for(K=x.child;K;){if(K===l){L=!0,l=x,u=y;break}if(K===u){L=!0,u=x,l=y;break}K=K.sibling}if(!L)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case Se:return"Suspense";case je:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case z:return"Portal";case ae:return i.displayName||"Context";case ne:return(i._context.displayName||"Context")+".Consumer";case se:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:Q(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return Q(i(a))}catch{}}return null}var de=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],Ce=-1;function Z(i){return{current:i}}function k(i){0>Ce||(i.current=pe[Ce],pe[Ce]=null,Ce--)}function P(i,a){Ce++,pe[Ce]=i.current,i.current=a}var Y=Z(null),M=Z(null),re=Z(null),fe=Z(null);function _e(i,a){switch(P(re,a),P(M,i),P(Y,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?E5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=E5(a),i=T5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(Y),P(Y,i)}function me(){k(Y),k(M),k(re)}function Me(i){i.memoizedState!==null&&P(fe,i);var a=Y.current,l=T5(a,i.type);a!==l&&(P(M,i),P(Y,l))}function We(i){M.current===i&&(k(Y),k(M)),fe.current===i&&(k(fe),sf._currentValue=ee)}var tt,nt;function ct(i){if(tt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);tt=a&&a[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+i+nt}var oe=!1;function et(i,a){if(!i||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Oe){var ke=Oe}Reflect.construct(i,[],He)}else{try{He.call()}catch(Oe){ke=Oe}i.call(He.prototype)}}else{try{throw Error()}catch(Oe){ke=Oe}(He=i())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Oe){if(Oe&&ke&&typeof Oe.stack=="string")return[Oe.stack,ke.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],K=x[1];if(L&&K){var ge=L.split(`
`),Le=K.split(`
`);for(y=u=0;u<ge.length&&!ge[u].includes("DetermineComponentFrameRoot");)u++;for(;y<Le.length&&!Le[y].includes("DetermineComponentFrameRoot");)y++;if(u===ge.length||y===Le.length)for(u=ge.length-1,y=Le.length-1;1<=u&&0<=y&&ge[u]!==Le[y];)y--;for(;1<=u&&0<=y;u--,y--)if(ge[u]!==Le[y]){if(u!==1||y!==1)do if(u--,y--,0>y||ge[u]!==Le[y]){var Be=`
`+ge[u].replace(" at new "," at ");return i.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",i.displayName)),Be}while(1<=u&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function Yt(i,a){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==a&&a!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return ct("Activity");default:return""}}function Tt(i){try{var a="",l=null;do a+=Yt(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ue=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,_t=n.unstable_requestPaint,Wt=n.unstable_now,Zt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Kt=n.unstable_NormalPriority,mt=n.unstable_LowPriority,qt=n.unstable_IdlePriority,vt=n.log,fi=n.unstable_setDisableYieldValue,Qt=null,Ct=null;function Pt(i){if(typeof vt=="function"&&fi(i),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Qt,i)}catch{}}var $t=Math.clz32?Math.clz32:Mt,St=Math.log,In=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(St(i)/In|0)|0}var Ot=256,Dn=262144,wt=4194304;function bt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function on(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var y=0,x=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var K=u&134217727;return K!==0?(u=K&~x,u!==0?y=bt(u):(L&=K,L!==0?y=bt(L):l||(l=K&~i,l!==0&&(y=bt(l))))):(K=u&~x,K!==0?y=bt(K):L!==0?y=bt(L):l||(l=u&~i,l!==0&&(y=bt(l)))),y===0?0:a!==0&&a!==y&&(a&x)===0&&(x=y&-y,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:y}function fr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function er(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function Gi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function At(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function es(i,a,l,u,y,x){var L=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var K=i.entanglements,ge=i.expirationTimes,Le=i.hiddenUpdates;for(l=L&~l;0<l;){var Be=31-$t(l),He=1<<Be;K[Be]=0,ge[Be]=-1;var ke=Le[Be];if(ke!==null)for(Le[Be]=null,Be=0;Be<ke.length;Be++){var Oe=ke[Be];Oe!==null&&(Oe.lane&=-536870913)}l&=~He}u!==0&&Ur(i,u,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(L&~a))}function Ur(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-$t(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Tr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-$t(l),y=1<<u;y&a|i[u]&a&&(i[u]|=a),l&=~y}}function Cr(i,a){var l=a&-a;return l=(l&42)!==0?1:Un(l),(l&(i.suspendedLanes|a))!==0?0:l}function Un(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mi(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:K5(i.type))}function dr(i,a){var l=he.p;try{return he.p=i,a()}finally{he.p=l}}var tr=Math.random().toString(36).slice(2),kn="__reactFiber$"+tr,Wn="__reactProps$"+tr,Oi="__reactContainer$"+tr,Nr="__reactEvents$"+tr,aa="__reactListeners$"+tr,vs="__reactHandles$"+tr,xa="__reactResources$"+tr,Rr="__reactMarker$"+tr;function ts(i){delete i[kn],delete i[Wn],delete i[Nr],delete i[aa],delete i[vs]}function qr(i){var a=i[kn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[kn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=D5(i);i!==null;){if(l=i[kn])return l;i=D5(i)}return a}i=l,l=i.parentNode}return null}function pr(i){if(i=i[kn]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Hr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function sa(i){var a=i[xa];return a||(a=i[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pi(i){i[Rr]=!0}var yo=new Set,Ir={};function oa(i,a){_a(i,a),_a(i+"Capture",a)}function _a(i,a){for(Ir[i]=a,i=0;i<a.length;i++)yo.add(a[i])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},bo={};function Zo(i){return Ue.call(bo,i)?!0:Ue.call(vo,i)?!1:Bs.test(i)?bo[i]=!0:(vo[i]=!0,!1)}function Gr(i,a,l){if(Zo(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function nr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function _i(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ns(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function la(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function vn(i){if(!i._valueTracker){var a=ns(i)?"checked":"value";i._valueTracker=la(i,a,""+i[a])}}function bs(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=ns(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oi=/[\n"\\]/g;function wi(i){return i.replace(oi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vs(i,a,l,u,y,x,L,K){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),a!=null?L==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+fn(a)):i.value!==""+fn(a)&&(i.value=""+fn(a)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),a!=null?Jo(i,L,fn(a)):l!=null?Jo(i,L,fn(l)):u!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+fn(K):i.removeAttribute("name")}function kl(i,a,l,u,y,x,L,K){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){vn(i);return}l=l!=null?""+fn(l):"",a=a!=null?""+fn(a):l,K||a===i.value||(i.value=a),i.defaultValue=a}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=K?i.checked:!!u,i.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),vn(i)}function Jo(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function gr(i,a,l,u){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&u&&(i[l].defaultSelected=!0)}else{for(l=""+fn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,u&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function el(i,a,l){if(a!=null&&(a=""+fn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+fn(l):""}function is(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=fn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),vn(i)}function Yi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||xs.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function nl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var y in a)u=a[y],a.hasOwnProperty(y)&&l[y]!==u&&tl(i,y,u)}else for(var x in a)a.hasOwnProperty(x)&&tl(i,x,a[x])}function xo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(i){return rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wa(){}var as=null;function Lr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,Rt=null;function Us(i){var a=pr(i);if(a&&(i=a.stateNode)){var l=i[Wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Vs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var y=u[Wn]||null;if(!y)throw Error(r(90));Vs(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&bs(u)}break e;case"textarea":el(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&gr(i,!!l.multiple,a,!1)}}}var wo=!1;function ws(i,a,l){if(wo)return i(a,l);wo=!0;try{var u=i(a);return u}finally{if(wo=!1,(_s!==null||Rt!==null)&&(vd(),_s&&(a=_s,i=Rt,Rt=_s=null,Us(a),i)))for(a=0;a<i.length;a++)Us(i[a])}}function Wi(i,a){var l=i.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Pi)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{qs=!1}var Yr=null,Hs=null,Sa=null;function il(){if(Sa)return Sa;var i,a=Hs,l=a.length,u,y="value"in Yr?Yr.value:Yr.textContent,x=y.length;for(i=0;i<l&&a[i]===y[i];i++);var L=l-i;for(u=1;u<=L&&a[l-u]===y[x-u];u++);return Sa=y.slice(i,1<u?1-u:void 0)}function Wr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function $r(){return!1}function Ri(i){function a(l,u,y,x,L){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(l=i[K],this[K]=l?l(x):x[K]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ss:$r,this.isPropagationStopped=$r,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Ri(ja),La=A({},ja,{view:0,detail:0}),Ss=Ri(La),Da,ka,ua,Gs=A({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ua&&(ua&&i.type==="mousemove"?(Da=i.screenX-ua.screenX,ka=i.screenY-ua.screenY):ka=Da=0,ua=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),So=Ri(Gs),Kr=A({},Gs,{dataTransfer:0}),Ma=Ri(Kr),rl=A({},La,{relatedTarget:0}),Aa=Ri(rl),Ao=A({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ri(Ao),F=A({},ja,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ue=Ri(F),ye=A({},ja,{data:0}),we=Ri(ye),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=lt[i])?!!a[i]:!1}function jt(){return dt}var Et=A({},La,{key:function(i){if(i.key){var a=Fe[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$e[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jt,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dn=Ri(Et),ei=A({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Ri(ei),g=A({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jt}),R=Ri(g),D=A({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Ri(D),Ee=A({},Gs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Ri(Ee),Xe=A({},ja,{newState:0,oldState:0}),Ut=Ri(Xe),ti=[9,13,27,32],un=Pi&&"CompositionEvent"in window,On=null;Pi&&"documentMode"in document&&(On=document.documentMode);var rr=Pi&&"TextEvent"in window&&!On,mr=Pi&&(!un||On&&8<On&&11>=On),$n=" ",yr=!1;function Ea(i,a){switch(i){case"keyup":return ti.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Es=!1;function Qr(i,a){switch(i){case"compositionend":return As(a);case"keypress":return a.which!==32?null:(yr=!0,$n);case"textInput":return i=a.data,i===$n&&yr?null:i;default:return null}}function Ys(i,a){if(Es)return i==="compositionend"||!un&&Ea(i,a)?(i=il(),Sa=Hs=Yr=null,Es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mr&&a.locale!=="ko"?null:a.data;default:return null}}var Ml={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ml[i.type]:a==="textarea"}function Ta(i,a,l,u){_s?Rt?Rt.push(u):Rt=[u]:_s=u,a=Ed(a,"onChange"),0<a.length&&(l=new ir("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var os=null,Ws=null;function Mu(i){b5(i,0)}function ls(i){var a=Hr(i);if(bs(a))return i}function Eo(i,a){if(i==="change")return a}var ca=!1;if(Pi){var Xr;if(Pi){var Ts="oninput"in document;if(!Ts){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),Ts=typeof Cs.oninput=="function"}Xr=Ts}else Xr=!1;ca=Xr&&(!document.documentMode||9<document.documentMode)}function $s(){os&&(os.detachEvent("onpropertychange",Ol),Ws=os=null)}function Ol(i){if(i.propertyName==="value"&&ls(Ws)){var a=[];Ta(a,Ws,i,Lr(i)),ws(Mu,a)}}function Pl(i,a,l){i==="focusin"?($s(),os=a,Ws=l,os.attachEvent("onpropertychange",Ol)):i==="focusout"&&$s()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ls(Ws)}function vc(i,a){if(i==="click")return ls(a)}function Ns(i,a){if(i==="input"||i==="change")return ls(a)}function Rs(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vr=typeof Object.is=="function"?Object.is:Rs;function Ks(i,a){if(vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!Ue.call(a,y)||!vr(i[y],a[y]))return!1}return!0}function zl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fl(i,a){var l=zl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zl(l)}}function Qs(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Qs(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Xs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function Is(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var al=Pi&&"documentMode"in document&&11>=document.documentMode,Ca=null,Zs=null,Dr=null,Oa=!1;function jn(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Oa||Ca==null||Ca!==Ni(u)||(u=Ca,"selectionStart"in u&&Is(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dr&&Ks(Dr,u)||(Dr=u,u=Ed(Zs,"onSelect"),0<u.length&&(a=new ir("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Ca)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ni={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},ji={},js={};Pi&&(js=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function us(i){if(ji[i])return ji[i];if(!ni[i])return i;var a=ni[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in js)return ji[i]=a[l];return i}var sl=us("animationend"),Ou=us("animationiteration"),Nh=us("animationstart"),$f=us("transitionrun"),Kf=us("transitionstart"),Qf=us("transitioncancel"),Rh=us("transitionend"),Ih=new Map,ol="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ol.push("scrollEnd");function Pa(i,a){Ih.set(i,a),oa(a,[i])}var Pu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Na=[],ll=0,bc=0;function zu(){for(var i=ll,a=bc=ll=0;a<i;){var l=Na[a];Na[a++]=null;var u=Na[a];Na[a++]=null;var y=Na[a];Na[a++]=null;var x=Na[a];if(Na[a++]=null,u!==null&&y!==null){var L=u.pending;L===null?y.next=y:(y.next=L.next,L.next=y),u.pending=y}x!==0&&Bu(l,y,x)}}function Fu(i,a,l,u){Na[ll++]=i,Na[ll++]=a,Na[ll++]=l,Na[ll++]=u,bc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xc(i,a,l,u){return Fu(i,a,l,u),kr(i)}function Js(i,a){return Fu(i,null,null,a),kr(i)}function Bu(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&a!==null&&(y=31-$t(l),i=x.hiddenUpdates,u=i[y],u===null?i[y]=[a]:u.push(a),a.lane=l|536870912),x):null}function kr(i){if(50<Zh)throw Zh=0,V1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var br={};function _c(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,a,l,u){return new _c(i,a,l,u)}function wc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function za(i,a){var l=i.alternate;return l===null?(l=Mr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Vu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Bl(i,a,l,u,y,x){var L=0;if(u=i,typeof i=="function")wc(i)&&(L=1);else if(typeof i=="string")L=c3(i,l,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Mr(31,l,a,y),i.elementType=w,i.lanes=x,i;case H:return To(l.children,y,x,a);case U:L=8,y|=24;break;case B:return i=Mr(12,l,a,y|2),i.elementType=B,i.lanes=x,i;case Se:return i=Mr(13,l,a,y),i.elementType=Se,i.lanes=x,i;case je:return i=Mr(19,l,a,y),i.elementType=je,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ae:L=10;break e;case ne:L=9;break e;case se:L=11;break e;case $:L=14;break e;case O:L=16,u=null;break e}L=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Mr(L,l,a,y),a.elementType=i,a.type=u,a.lanes=x,a}function To(i,a,l,u){return i=Mr(7,i,u,a),i.lanes=l,i}function Uu(i,a,l){return i=Mr(6,i,null,a),i.lanes=l,i}function Sc(i){var a=Mr(18,null,null,0);return a.stateNode=i,a}function Vl(i,a,l){return a=Mr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ac=new WeakMap;function Fa(i,a){if(typeof i=="object"&&i!==null){var l=Ac.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Tt(a)},Ac.set(i,a),a)}return{value:i,source:a,stack:Tt(a)}}var Ul=[],ul=0,Ec=null,qu=0,Ba=[],Va=0,Co=null,Ua=1,qa="";function Ra(i,a){Ul[ul++]=qu,Ul[ul++]=Ec,Ec=i,qu=a}function Xf(i,a,l){Ba[Va++]=Ua,Ba[Va++]=qa,Ba[Va++]=Co,Co=i;var u=Ua;i=qa;var y=32-$t(u)-1;u&=~(1<<y),l+=1;var x=32-$t(a)+y;if(30<x){var L=y-y%5;x=(u&(1<<L)-1).toString(32),u>>=L,y-=L,Ua=1<<32-$t(a)+y|l<<y|u,qa=x+i}else Ua=1<<x|l<<y|u,qa=i}function jh(i){i.return!==null&&(Ra(i,1),Xf(i,1,0))}function Tc(i){for(;i===Ec;)Ec=Ul[--ul],Ul[ul]=null,qu=Ul[--ul],Ul[ul]=null;for(;i===Co;)Co=Ba[--Va],Ba[Va]=null,qa=Ba[--Va],Ba[Va]=null,Ua=Ba[--Va],Ba[Va]=null}function Zf(i,a){Ba[Va++]=Ua,Ba[Va++]=qa,Ba[Va++]=Co,Ua=a.id,qa=a.overflow,Co=i}var xr=null,li=null,gn=!1,Zr=null,Si=!1,cs=Error(r(519));function No(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Fa(a,i)),cs}function Lh(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[kn]=i,a[Wn]=u,l){case"dialog":yn("cancel",a),yn("close",a);break;case"iframe":case"object":case"embed":yn("load",a);break;case"video":case"audio":for(l=0;l<ef.length;l++)yn(ef[l],a);break;case"source":yn("error",a);break;case"img":case"image":case"link":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"input":yn("invalid",a),kl(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":yn("invalid",a);break;case"textarea":yn("invalid",a),is(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||S5(a.textContent,l)?(u.popover!=null&&(yn("beforetoggle",a),yn("toggle",a)),u.onScroll!=null&&yn("scroll",a),u.onScrollEnd!=null&&yn("scrollend",a),u.onClick!=null&&(a.onclick=wa),a=!0):a=!1,a||No(i,!0)}function eo(i){for(xr=i.return;xr;)switch(xr.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:xr=xr.return}}function _r(i){if(i!==xr)return!1;if(!gn)return eo(i),gn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ng(i.type,i.memoizedProps)),l=!l),l&&li&&No(i),eo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=L5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=L5(i)}else a===27?(a=li,iu(i.type)?(i=og,og=null,li=i):li=a):li=xr?Ms(i.stateNode.nextSibling):null;return!0}function cl(){li=xr=null,gn=!1}function Dh(){var i=Zr;return i!==null&&(Ka===null?Ka=i:Ka.push.apply(Ka,i),Zr=null),i}function ql(i){Zr===null?Zr=[i]:Zr.push(i)}var Cc=Z(null),Ro=null,Ls=null;function Io(i,a,l){P(Cc,a._currentValue),a._currentValue=l}function Ha(i){i._currentValue=Cc.current,k(Cc)}function Hl(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function hl(i,a,l,u){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var L=y.child;x=x.firstContext;e:for(;x!==null;){var K=x;x=y;for(var ge=0;ge<a.length;ge++)if(K.context===a[ge]){x.lanes|=l,K=x.alternate,K!==null&&(K.lanes|=l),Hl(x.return,l,i),u||(L=null);break e}x=K.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(r(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Hl(L,l,i),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===i){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function jo(i,a,l,u){i=null;for(var y=a,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var K=y.type;vr(y.pendingProps.value,L.value)||(i!==null?i.push(K):i=[K])}}else if(y===fe.current){if(L=y.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(sf):i=[sf])}y=y.return}i!==null&&hl(a,i,l,u),a.flags|=262144}function Nc(i){for(i=i.firstContext;i!==null;){if(!vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lo(i){Ro=i,Ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wr(i){return Jf(Ro,i)}function Rc(i,a){return Ro===null&&Lo(i),Jf(i,a)}function Jf(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ls===null){if(i===null)throw Error(r(308));Ls=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ls=Ls.next=a;return l}var s1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},o1=n.unstable_scheduleCallback,l1=n.unstable_NormalPriority,Li={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gl(){return{controller:new s1,data:new Map,refCount:0}}function Hu(i){i.refCount--,i.refCount===0&&o1(l1,function(){i.controller.abort()})}var Gu=null,Ic=0,p=0,b=null;function T(i,a){if(Gu===null){var l=Gu=[];Ic=0,p=W1(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ic++,a.then(j,j),a}function j(){if(--Ic===0&&Gu!==null){b!==null&&(b.status="fulfilled");var i=Gu;Gu=null,p=0,b=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function V(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var G=ie.S;ie.S=function(i,a){W2=Wt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T(i,a),G!==null&&G(i,a)};var W=Z(null);function X(){var i=W.current;return i!==null?i:ci.pooledCache}function te(i,a){a===null?P(W,W.current):P(W,a.pool)}function ce(){var i=X();return i===null?null:{parent:Li._currentValue,pool:i}}var ve=Error(r(460)),Re=Error(r(474)),le=Error(r(542)),xe={then:function(){}};function Te(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ze(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(wa,wa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qe(i),i;default:if(typeof a.status=="string")a.then(wa,wa);else{if(i=ci,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=u}},function(u){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qe(i),i}throw Pe=a,ve}}function Ne(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,ve):l}}var Pe=null;function Ve(){if(Pe===null)throw Error(r(459));var i=Pe;return Pe=null,i}function Qe(i){if(i===ve||i===le)throw Error(r(483))}var Ye=null,pt=0;function st(i){var a=pt;return pt+=1,Ye===null&&(Ye=[]),ze(Ye,i,a)}function Ht(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ht(i,a){throw a.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function pn(i){function a(Ae,be){if(i){var Ie=Ae.deletions;Ie===null?(Ae.deletions=[be],Ae.flags|=16):Ie.push(be)}}function l(Ae,be){if(!i)return null;for(;be!==null;)a(Ae,be),be=be.sibling;return null}function u(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function y(Ae,be){return Ae=za(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function x(Ae,be,Ie){return Ae.index=Ie,i?(Ie=Ae.alternate,Ie!==null?(Ie=Ie.index,Ie<be?(Ae.flags|=67108866,be):Ie):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function L(Ae){return i&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,be,Ie,qe){return be===null||be.tag!==6?(be=Uu(Ie,Ae.mode,qe),be.return=Ae,be):(be=y(be,Ie),be.return=Ae,be)}function ge(Ae,be,Ie,qe){var Dt=Ie.type;return Dt===H?Be(Ae,be,Ie.props.children,qe,Ie.key):be!==null&&(be.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===O&&Ne(Dt)===be.type)?(be=y(be,Ie.props),Ht(be,Ie),be.return=Ae,be):(be=Bl(Ie.type,Ie.key,Ie.props,null,Ae.mode,qe),Ht(be,Ie),be.return=Ae,be)}function Le(Ae,be,Ie,qe){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ie.containerInfo||be.stateNode.implementation!==Ie.implementation?(be=Vl(Ie,Ae.mode,qe),be.return=Ae,be):(be=y(be,Ie.children||[]),be.return=Ae,be)}function Be(Ae,be,Ie,qe,Dt){return be===null||be.tag!==7?(be=To(Ie,Ae.mode,qe,Dt),be.return=Ae,be):(be=y(be,Ie),be.return=Ae,be)}function He(Ae,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Uu(""+be,Ae.mode,Ie),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case _:return Ie=Bl(be.type,be.key,be.props,null,Ae.mode,Ie),Ht(Ie,be),Ie.return=Ae,Ie;case z:return be=Vl(be,Ae.mode,Ie),be.return=Ae,be;case O:return be=Ne(be),He(Ae,be,Ie)}if(de(be)||N(be))return be=To(be,Ae.mode,Ie,null),be.return=Ae,be;if(typeof be.then=="function")return He(Ae,st(be),Ie);if(be.$$typeof===ae)return He(Ae,Rc(Ae,be),Ie);ht(Ae,be)}return null}function ke(Ae,be,Ie,qe){var Dt=be!==null?be.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Dt!==null?null:K(Ae,be,""+Ie,qe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case _:return Ie.key===Dt?ge(Ae,be,Ie,qe):null;case z:return Ie.key===Dt?Le(Ae,be,Ie,qe):null;case O:return Ie=Ne(Ie),ke(Ae,be,Ie,qe)}if(de(Ie)||N(Ie))return Dt!==null?null:Be(Ae,be,Ie,qe,null);if(typeof Ie.then=="function")return ke(Ae,be,st(Ie),qe);if(Ie.$$typeof===ae)return ke(Ae,be,Rc(Ae,Ie),qe);ht(Ae,Ie)}return null}function Oe(Ae,be,Ie,qe,Dt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ae=Ae.get(Ie)||null,K(be,Ae,""+qe,Dt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case _:return Ae=Ae.get(qe.key===null?Ie:qe.key)||null,ge(be,Ae,qe,Dt);case z:return Ae=Ae.get(qe.key===null?Ie:qe.key)||null,Le(be,Ae,qe,Dt);case O:return qe=Ne(qe),Oe(Ae,be,Ie,qe,Dt)}if(de(qe)||N(qe))return Ae=Ae.get(Ie)||null,Be(be,Ae,qe,Dt,null);if(typeof qe.then=="function")return Oe(Ae,be,Ie,st(qe),Dt);if(qe.$$typeof===ae)return Oe(Ae,be,Ie,Rc(be,qe),Dt);ht(be,qe)}return null}function ft(Ae,be,Ie,qe){for(var Dt=null,Pn=null,xt=be,ln=be=0,xn=null;xt!==null&&ln<Ie.length;ln++){xt.index>ln?(xn=xt,xt=null):xn=xt.sibling;var zn=ke(Ae,xt,Ie[ln],qe);if(zn===null){xt===null&&(xt=xn);break}i&&xt&&zn.alternate===null&&a(Ae,xt),be=x(zn,be,ln),Pn===null?Dt=zn:Pn.sibling=zn,Pn=zn,xt=xn}if(ln===Ie.length)return l(Ae,xt),gn&&Ra(Ae,ln),Dt;if(xt===null){for(;ln<Ie.length;ln++)xt=He(Ae,Ie[ln],qe),xt!==null&&(be=x(xt,be,ln),Pn===null?Dt=xt:Pn.sibling=xt,Pn=xt);return gn&&Ra(Ae,ln),Dt}for(xt=u(xt);ln<Ie.length;ln++)xn=Oe(xt,Ae,ln,Ie[ln],qe),xn!==null&&(i&&xn.alternate!==null&&xt.delete(xn.key===null?ln:xn.key),be=x(xn,be,ln),Pn===null?Dt=xn:Pn.sibling=xn,Pn=xn);return i&&xt.forEach(function(lu){return a(Ae,lu)}),gn&&Ra(Ae,ln),Dt}function Ft(Ae,be,Ie,qe){if(Ie==null)throw Error(r(151));for(var Dt=null,Pn=null,xt=be,ln=be=0,xn=null,zn=Ie.next();xt!==null&&!zn.done;ln++,zn=Ie.next()){xt.index>ln?(xn=xt,xt=null):xn=xt.sibling;var lu=ke(Ae,xt,zn.value,qe);if(lu===null){xt===null&&(xt=xn);break}i&&xt&&lu.alternate===null&&a(Ae,xt),be=x(lu,be,ln),Pn===null?Dt=lu:Pn.sibling=lu,Pn=lu,xt=xn}if(zn.done)return l(Ae,xt),gn&&Ra(Ae,ln),Dt;if(xt===null){for(;!zn.done;ln++,zn=Ie.next())zn=He(Ae,zn.value,qe),zn!==null&&(be=x(zn,be,ln),Pn===null?Dt=zn:Pn.sibling=zn,Pn=zn);return gn&&Ra(Ae,ln),Dt}for(xt=u(xt);!zn.done;ln++,zn=Ie.next())zn=Oe(xt,Ae,ln,zn.value,qe),zn!==null&&(i&&zn.alternate!==null&&xt.delete(zn.key===null?ln:zn.key),be=x(zn,be,ln),Pn===null?Dt=zn:Pn.sibling=zn,Pn=zn);return i&&xt.forEach(function(_3){return a(Ae,_3)}),gn&&Ra(Ae,ln),Dt}function si(Ae,be,Ie,qe){if(typeof Ie=="object"&&Ie!==null&&Ie.type===H&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case _:e:{for(var Dt=Ie.key;be!==null;){if(be.key===Dt){if(Dt=Ie.type,Dt===H){if(be.tag===7){l(Ae,be.sibling),qe=y(be,Ie.props.children),qe.return=Ae,Ae=qe;break e}}else if(be.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===O&&Ne(Dt)===be.type){l(Ae,be.sibling),qe=y(be,Ie.props),Ht(qe,Ie),qe.return=Ae,Ae=qe;break e}l(Ae,be);break}else a(Ae,be);be=be.sibling}Ie.type===H?(qe=To(Ie.props.children,Ae.mode,qe,Ie.key),qe.return=Ae,Ae=qe):(qe=Bl(Ie.type,Ie.key,Ie.props,null,Ae.mode,qe),Ht(qe,Ie),qe.return=Ae,Ae=qe)}return L(Ae);case z:e:{for(Dt=Ie.key;be!==null;){if(be.key===Dt)if(be.tag===4&&be.stateNode.containerInfo===Ie.containerInfo&&be.stateNode.implementation===Ie.implementation){l(Ae,be.sibling),qe=y(be,Ie.children||[]),qe.return=Ae,Ae=qe;break e}else{l(Ae,be);break}else a(Ae,be);be=be.sibling}qe=Vl(Ie,Ae.mode,qe),qe.return=Ae,Ae=qe}return L(Ae);case O:return Ie=Ne(Ie),si(Ae,be,Ie,qe)}if(de(Ie))return ft(Ae,be,Ie,qe);if(N(Ie)){if(Dt=N(Ie),typeof Dt!="function")throw Error(r(150));return Ie=Dt.call(Ie),Ft(Ae,be,Ie,qe)}if(typeof Ie.then=="function")return si(Ae,be,st(Ie),qe);if(Ie.$$typeof===ae)return si(Ae,be,Rc(Ae,Ie),qe);ht(Ae,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,be!==null&&be.tag===6?(l(Ae,be.sibling),qe=y(be,Ie),qe.return=Ae,Ae=qe):(l(Ae,be),qe=Uu(Ie,Ae.mode,qe),qe.return=Ae,Ae=qe),L(Ae)):l(Ae,be)}return function(Ae,be,Ie,qe){try{pt=0;var Dt=si(Ae,be,Ie,qe);return Ye=null,Dt}catch(xt){if(xt===ve||xt===le)throw xt;var Pn=Mr(29,xt,null,Ae.mode);return Pn.lanes=qe,Pn.return=Ae,Pn}}}var ui=pn(!0),Jt=pn(!1),ot=!1;function Je(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gi(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function an(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Vn&2)!==0){var y=u.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),u.pending=a,a=kr(i),Bu(i,null,l),a}return Fu(i,u,a,l),kr(i)}function Fn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Tr(i,l)}}function $i(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?y=x=a:x=x.next=a}else y=x=a;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Sr=!1;function ii(){if(Sr){var i=b;if(i!==null)throw i}}function zi(i,a,l,u){Sr=!1;var y=i.updateQueue;ot=!1;var x=y.firstBaseUpdate,L=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var ge=K,Le=ge.next;ge.next=null,L===null?x=Le:L.next=Le,L=ge;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,K=Be.lastBaseUpdate,K!==L&&(K===null?Be.firstBaseUpdate=Le:K.next=Le,Be.lastBaseUpdate=ge))}if(x!==null){var He=y.baseState;L=0,Be=Le=ge=null,K=x;do{var ke=K.lane&-536870913,Oe=ke!==K.lane;if(Oe?(bn&ke)===ke:(u&ke)===ke){ke!==0&&ke===p&&(Sr=!0),Be!==null&&(Be=Be.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var ft=i,Ft=K;ke=a;var si=l;switch(Ft.tag){case 1:if(ft=Ft.payload,typeof ft=="function"){He=ft.call(si,He,ke);break e}He=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Ft.payload,ke=typeof ft=="function"?ft.call(si,He,ke):ft,ke==null)break e;He=A({},He,ke);break e;case 2:ot=!0}}ke=K.callback,ke!==null&&(i.flags|=64,Oe&&(i.flags|=8192),Oe=y.callbacks,Oe===null?y.callbacks=[ke]:Oe.push(ke))}else Oe={lane:ke,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Be===null?(Le=Be=Oe,ge=He):Be=Be.next=Oe,L|=ke;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;Oe=K,K=Oe.next,Oe.next=null,y.lastBaseUpdate=Oe,y.shared.pending=null}}while(!0);Be===null&&(ge=He),y.baseState=ge,y.firstBaseUpdate=Le,y.lastBaseUpdate=Be,x===null&&(y.shared.lanes=0),Zl|=L,i.lanes=L,i.memoizedState=He}}function Or(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Fi(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Or(l[i],a)}var cn=Z(null),En=Z(0);function mi(i,a){i=_l,P(En,i),P(cn,a),_l=i|a.baseLanes}function Ln(){P(En,_l),P(cn,cn.current)}function Ki(){_l=En.current,k(cn),k(En)}var yi=Z(null),Tn=null;function Di(i){var a=i.alternate;P(An,An.current&1),P(yi,i),Tn===null&&(a===null||cn.current!==null||a.memoizedState!==null)&&(Tn=i)}function Bn(i){P(An,An.current),P(yi,i),Tn===null&&(Tn=i)}function Bi(i){i.tag===22?(P(An,An.current),P(yi,i),Tn===null&&(Tn=i)):Vi()}function Vi(){P(An,An.current),P(yi,yi.current)}function Kn(i){k(yi),Tn===i&&(Tn=null),k(An)}var An=Z(0);function Pr(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ag(l)||sg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ai=0,It=null,Lt=null,Cn=null,ha=!1,Ga=!1,Jr=!1,Ui=0,Do=0,ko=null,jc=0;function ri(){throw Error(r(321))}function kh(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!vr(i[l],a[l]))return!1;return!0}function Mh(i,a,l,u,y,x){return Ai=x,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ie.H=i===null||i.memoizedState===null?r2:m1,Jr=!1,x=l(u,y),Jr=!1,Ga&&(x=to(a,l,u,y)),Lc(i),x}function Lc(i){ie.H=qh;var a=Lt!==null&&Lt.next!==null;if(Ai=0,Cn=Lt=It=null,ha=!1,Do=0,ko=null,a)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Nc(i)&&(sr=!0))}function to(i,a,l,u){It=i;var y=0;do{if(Ga&&(ko=null),Do=0,Ga=!1,25<=y)throw Error(r(301));if(y+=1,Cn=Lt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ie.H=a2,x=a(l,u)}while(Ga);return x}function u1(){var i=ie.H,a=i.useState()[0];return a=typeof a.then=="function"?Mo(a):a,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(It.flags|=1024),a}function Oh(){var i=Ui!==0;return Ui=0,i}function Ph(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Dc(i){if(ha){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ha=!1}Ai=0,Cn=Lt=It=null,Ga=!1,Do=Ui=0,ko=null}function ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?It.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Ei(){if(Lt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var a=Cn===null?It.memoizedState:Cn.next;if(a!==null)Cn=a,Lt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Cn===null?It.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var a=Do;return Do+=1,ko===null&&(ko=[]),i=ze(ko,i,a),a=It,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,ie.H=a===null||a.memoizedState===null?r2:m1),i}function Yl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===ae)return wr(i)}throw Error(r(438,String(i)))}function fl(i){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Yu(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=q;return a.index++,l}function Ds(i,a){return typeof a=="function"?a(i):a}function kc(i){var a=Ei();return Wl(a,Lt,i)}function Wl(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var y=i.baseQueue,x=u.pending;if(x!==null){if(y!==null){var L=y.next;y.next=x.next,x.next=L}a.baseQueue=y=x,u.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{a=y.next;var K=L=null,ge=null,Le=a,Be=!1;do{var He=Le.lane&-536870913;if(He!==Le.lane?(bn&He)===He:(Ai&He)===He){var ke=Le.revertLane;if(ke===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),He===p&&(Be=!0);else if((Ai&ke)===ke){Le=Le.next,ke===p&&(Be=!0);continue}else He={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(K=ge=He,L=x):ge=ge.next=He,It.lanes|=ke,Zl|=ke;He=Le.action,Jr&&l(x,He),x=Le.hasEagerState?Le.eagerState:l(x,He)}else ke={lane:He,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(K=ge=ke,L=x):ge=ge.next=ke,It.lanes|=He,Zl|=He;Le=Le.next}while(Le!==null&&Le!==a);if(ge===null?L=x:ge.next=K,!vr(x,i.memoizedState)&&(sr=!0,Be&&(l=b,l!==null)))throw l;i.memoizedState=x,i.baseState=L,i.baseQueue=ge,u.lastRenderedState=x}return y===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mc(i){var a=Ei(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,y=l.pending,x=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do x=i(x,L.action),L=L.next;while(L!==y);vr(x,a.memoizedState)||(sr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function Oc(i,a,l){var u=It,y=Ei(),x=gn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var L=!vr((Lt||y).memoizedState,l);if(L&&(y.memoizedState=l,sr=!0),y=y.queue,c1(Fh.bind(null,u,y,i),[i]),y.getSnapshot!==a||L||Cn!==null&&Cn.memoizedState.tag&1){if(u.flags|=2048,pl(9,{destroy:void 0},zh.bind(null,u,y,l,a),null),ci===null)throw Error(r(349));x||(Ai&127)!==0||no(u,a,l)}return l}function no(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=Yu(),It.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function zh(i,a,l,u){a.value=l,a.getSnapshot=u,ed(a)&&Bh(i)}function Fh(i,a,l){return l(function(){ed(a)&&Bh(i)})}function ed(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!vr(i,l)}catch{return!0}}function Bh(i){var a=Js(i,2);a!==null&&Qa(a,i,2)}function Oo(i){var a=ar();if(typeof i=="function"){var l=i;if(i=l(),Jr){Pt(!0);try{l()}finally{Pt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},a}function td(i,a,l,u){return i.baseState=l,Wl(i,Lt,typeof u=="function"?u:Ds)}function nd(i,a,l,u,y){if(sd(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};ie.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,id(a,x)):(x.next=l.next,a.pending=l.next=x)}}function id(i,a){var l=a.action,u=a.payload,y=i.state;if(a.isTransition){var x=ie.T,L={};ie.T=L;try{var K=l(y,u),ge=ie.S;ge!==null&&ge(L,K),Vh(i,a,K)}catch(Le){dl(i,a,Le)}finally{x!==null&&L.types!==null&&(x.types=L.types),ie.T=x}}else try{x=l(y,u),Vh(i,a,x)}catch(Le){dl(i,a,Le)}}function Vh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){rd(i,a,u)},function(u){return dl(i,a,u)}):rd(i,a,l)}function rd(i,a,l){a.status="fulfilled",a.value=l,Pc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,id(i,l)))}function dl(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Pc(a),a=a.next;while(a!==u)}i.action=null}function Pc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Wu(i,a){return a}function ks(i,a){if(gn){var l=ci.formState;if(l!==null){e:{var u=It;if(gn){if(li){t:{for(var y=li,x=Si;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ms(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){li=Ms(y.nextSibling),u=y.data==="F!";break e}}No(u)}u=!1}u&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:a},l.queue=u,l=t2.bind(null,It,u),u.dispatch=l,u=Oo(!1),x=g1.bind(null,It,!1,u.queue),u=ar(),y={state:a,dispatch:null,action:i,pending:null},u.queue=y,l=nd.bind(null,It,y,x,l),y.dispatch=l,u.memoizedState=i,[a,l,!1]}function io(i){var a=Ei();return ro(a,Lt,i)}function ro(i,a,l){if(a=Wl(i,a,Wu)[0],i=kc(Ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Mo(a)}catch(L){throw L===ve?le:L}else u=a;a=Ei();var y=a.queue,x=y.dispatch;return l!==a.memoizedState&&(It.flags|=2048,pl(9,{destroy:void 0},zc.bind(null,y,l),null)),[u,x,i]}function zc(i,a){i.action=a}function Fc(i){var a=Ei(),l=Lt;if(l!==null)return ro(a,l,i);Ei(),a=a.memoizedState,l=Ei();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function pl(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=Yu(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function ad(){return Ei().memoizedState}function $l(i,a,l,u){var y=ar();It.flags|=i,y.memoizedState=pl(1|a,{destroy:void 0},l,u===void 0?null:u)}function Kl(i,a,l,u){var y=Ei();u=u===void 0?null:u;var x=y.memoizedState.inst;Lt!==null&&u!==null&&kh(u,Lt.memoizedState.deps)?y.memoizedState=pl(a,x,l,u):(It.flags|=i,y.memoizedState=pl(1|a,x,l,u))}function Vm(i,a){$l(8390656,8,i,a)}function c1(i,a){Kl(2048,8,i,a)}function gw(i){It.flags|=4;var a=It.updateQueue;if(a===null)a=Yu(),It.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Um(i){var a=Ei().memoizedState;return gw({ref:a,nextImpl:i}),function(){if((Vn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function qm(i,a){return Kl(4,2,i,a)}function Hm(i,a){return Kl(4,4,i,a)}function Gm(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ym(i,a,l){l=l!=null?l.concat([i]):null,Kl(4,4,Gm.bind(null,a,i),l)}function h1(){}function Wm(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&kh(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function $m(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&kh(a,u[1]))return u[0];if(u=i(),Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u}function f1(i,a,l){return l===void 0||(Ai&1073741824)!==0&&(bn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=K2(),It.lanes|=i,Zl|=i,l)}function Km(i,a,l,u){return vr(l,a)?l:cn.current!==null?(i=f1(i,l,u),vr(i,a)||(sr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(bn&261930)===0?(sr=!0,i.memoizedState=l):(i=K2(),It.lanes|=i,Zl|=i,a)}function Qm(i,a,l,u,y){var x=he.p;he.p=x!==0&&8>x?x:8;var L=ie.T,K={};ie.T=K,g1(i,!1,a,l);try{var ge=y(),Le=ie.S;if(Le!==null&&Le(K,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Be=V(ge,u);Uh(i,a,Be,ds(i))}else Uh(i,a,u,ds(i))}catch(He){Uh(i,a,{then:function(){},status:"rejected",reason:He},ds())}finally{he.p=x,L!==null&&K.types!==null&&(L.types=K.types),ie.T=L}}function mw(){}function d1(i,a,l,u){if(i.tag!==5)throw Error(r(476));var y=Xm(i).queue;Qm(i,y,a,ee,l===null?mw:function(){return Zm(i),l(u)})}function Xm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:ee},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Zm(i){var a=Xm(i);a.next===null&&(a=i.alternate.memoizedState),Uh(i,a.next.queue,{},ds())}function p1(){return wr(sf)}function Jm(){return Ei().memoizedState}function e2(){return Ei().memoizedState}function yw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ds();i=zt(l);var u=an(a,i,l);u!==null&&(Qa(u,a,l),Fn(u,a,l)),a={cache:Gl()},i.payload=a;return}a=a.return}}function vw(i,a,l){var u=ds();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sd(i)?n2(a,l):(l=xc(i,a,l,u),l!==null&&(Qa(l,i,u),i2(l,a,u)))}function t2(i,a,l){var u=ds();Uh(i,a,l,u)}function Uh(i,a,l,u){var y={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sd(i))n2(a,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var L=a.lastRenderedState,K=x(L,l);if(y.hasEagerState=!0,y.eagerState=K,vr(K,L))return Fu(i,a,y,0),ci===null&&zu(),!1}catch{}if(l=xc(i,a,y,u),l!==null)return Qa(l,i,u),i2(l,a,u),!0}return!1}function g1(i,a,l,u){if(u={lane:2,revertLane:W1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sd(i)){if(a)throw Error(r(479))}else a=xc(i,l,u,2),a!==null&&Qa(a,i,2)}function sd(i){var a=i.alternate;return i===It||a!==null&&a===It}function n2(i,a){Ga=ha=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function i2(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Tr(i,l)}}var qh={readContext:wr,use:Yl,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};qh.useEffectEvent=ri;var r2={readContext:wr,use:Yl,useCallback:function(i,a){return ar().memoizedState=[i,a===void 0?null:a],i},useContext:wr,useEffect:Vm,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,$l(4194308,4,Gm.bind(null,a,i),l)},useLayoutEffect:function(i,a){return $l(4194308,4,i,a)},useInsertionEffect:function(i,a){$l(4,2,i,a)},useMemo:function(i,a){var l=ar();a=a===void 0?null:a;var u=i();if(Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=ar();if(l!==void 0){var y=l(a);if(Jr){Pt(!0);try{l(a)}finally{Pt(!1)}}}else y=a;return u.memoizedState=u.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},u.queue=i,i=i.dispatch=vw.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var a=ar();return i={current:i},a.memoizedState=i},useState:function(i){i=Oo(i);var a=i.queue,l=t2.bind(null,It,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:h1,useDeferredValue:function(i,a){var l=ar();return f1(l,i,a)},useTransition:function(){var i=Oo(!1);return i=Qm.bind(null,It,i.queue,!0,!1),ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=It,y=ar();if(gn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),ci===null)throw Error(r(349));(bn&127)!==0||no(u,a,l)}y.memoizedState=l;var x={value:l,getSnapshot:a};return y.queue=x,Vm(Fh.bind(null,u,x,i),[i]),u.flags|=2048,pl(9,{destroy:void 0},zh.bind(null,u,x,l,a),null),l},useId:function(){var i=ar(),a=ci.identifierPrefix;if(gn){var l=qa,u=Ua;l=(u&~(1<<32-$t(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ui++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=jc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:p1,useFormState:ks,useActionState:ks,useOptimistic:function(i){var a=ar();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=g1.bind(null,It,!0,l),l.dispatch=a,[i,a]},useMemoCache:fl,useCacheRefresh:function(){return ar().memoizedState=yw.bind(null,It)},useEffectEvent:function(i){var a=ar(),l={impl:i};return a.memoizedState=l,function(){if((Vn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},m1={readContext:wr,use:Yl,useCallback:Wm,useContext:wr,useEffect:c1,useImperativeHandle:Ym,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:$m,useReducer:kc,useRef:ad,useState:function(){return kc(Ds)},useDebugValue:h1,useDeferredValue:function(i,a){var l=Ei();return Km(l,Lt.memoizedState,i,a)},useTransition:function(){var i=kc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:Jm,useHostTransitionStatus:p1,useFormState:io,useActionState:io,useOptimistic:function(i,a){var l=Ei();return td(l,Lt,i,a)},useMemoCache:fl,useCacheRefresh:e2};m1.useEffectEvent=Um;var a2={readContext:wr,use:Yl,useCallback:Wm,useContext:wr,useEffect:c1,useImperativeHandle:Ym,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:$m,useReducer:Mc,useRef:ad,useState:function(){return Mc(Ds)},useDebugValue:h1,useDeferredValue:function(i,a){var l=Ei();return Lt===null?f1(l,i,a):Km(l,Lt.memoizedState,i,a)},useTransition:function(){var i=Mc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:Jm,useHostTransitionStatus:p1,useFormState:Fc,useActionState:Fc,useOptimistic:function(i,a){var l=Ei();return Lt!==null?td(l,Lt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:fl,useCacheRefresh:e2};a2.useEffectEvent=Um;function y1(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var v1={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=ds(),y=zt(u);y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Qa(a,i,u),Fn(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=ds(),y=zt(u);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Qa(a,i,u),Fn(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ds(),u=zt(l);u.tag=2,a!=null&&(u.callback=a),a=an(i,u,l),a!==null&&(Qa(a,i,l),Fn(a,i,l))}};function s2(i,a,l,u,y,x,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,x,L):a.prototype&&a.prototype.isPureReactComponent?!Ks(l,u)||!Ks(y,x):!0}function o2(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&v1.enqueueReplaceState(a,a.state,null)}function $u(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function l2(i){Pu(i)}function u2(i){console.error(i)}function c2(i){Pu(i)}function od(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function h2(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function b1(i,a,l){return l=zt(l),l.tag=3,l.payload={element:null},l.callback=function(){od(i,a)},l}function f2(i){return i=zt(i),i.tag=3,i}function d2(i,a,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=u.value;i.payload=function(){return y(x)},i.callback=function(){h2(a,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){h2(a,l,u),typeof y!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function bw(i,a,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&jo(a,l,y,!0),l=yi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?bd():l.alternate===null&&qi===0&&(qi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===xe?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),H1(i,u,y)),!1;case 22:return l.flags|=65536,u===xe?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),H1(i,u,y)),!1}throw Error(r(435,l.tag))}return H1(i,u,y),bd(),!1}if(gn)return a=yi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,u!==cs&&(i=Error(r(422),{cause:u}),ql(Fa(i,l)))):(u!==cs&&(a=Error(r(423),{cause:u}),ql(Fa(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,u=Fa(u,l),y=b1(i.stateNode,u,y),$i(i,y),qi!==4&&(qi=2)),!1;var x=Error(r(520),{cause:u});if(x=Fa(x,l),Xh===null?Xh=[x]:Xh.push(x),qi!==4&&(qi=2),a===null)return!0;u=Fa(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=b1(l.stateNode,u,i),$i(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jl===null||!Jl.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=f2(y),d2(y,i,l,u),$i(l,y),!1}l=l.return}while(l!==null);return!1}var x1=Error(r(461)),sr=!1;function ea(i,a,l,u){a.child=i===null?Jt(a,null,l,u):ui(a,i.child,l,u)}function p2(i,a,l,u,y){l=l.render;var x=a.ref;if("ref"in u){var L={};for(var K in u)K!=="ref"&&(L[K]=u[K])}else L=u;return Lo(a),u=Mh(i,a,l,L,x,y),K=Oh(),i!==null&&!sr?(Ph(i,a,y),gl(i,a,y)):(gn&&K&&jh(a),a.flags|=1,ea(i,a,u,y),a.child)}function g2(i,a,l,u,y){if(i===null){var x=l.type;return typeof x=="function"&&!wc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,m2(i,a,x,u,y)):(i=Bl(l.type,null,u,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!N1(i,y)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ks,l(L,u)&&i.ref===a.ref)return gl(i,a,y)}return a.flags|=1,i=za(x,u),i.ref=a.ref,i.return=a,a.child=i}function m2(i,a,l,u,y){if(i!==null){var x=i.memoizedProps;if(Ks(x,u)&&i.ref===a.ref)if(sr=!1,a.pendingProps=u=x,N1(i,y))(i.flags&131072)!==0&&(sr=!0);else return a.lanes=i.lanes,gl(i,a,y)}return _1(i,a,l,u,y)}function y2(i,a,l,u){var y=u.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(u=a.child=i.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~x}else u=0,a.child=null;return v2(i,a,x,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&te(a,x!==null?x.cachePool:null),x!==null?mi(a,x):Ln(),Bi(a);else return u=a.lanes=536870912,v2(i,a,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(te(a,x.cachePool),mi(a,x),Vi(),a.memoizedState=null):(i!==null&&te(a,null),Ln(),Vi());return ea(i,a,y,l),a.child}function Hh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function v2(i,a,l,u,y){var x=X();return x=x===null?null:{parent:Li._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&te(a,null),Ln(),Bi(a),i!==null&&jo(i,a,u,!0),a.childLanes=y,null}function ld(i,a){return a=cd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function b2(i,a,l){return ui(a,i.child,null,l),i=ld(a,a.pendingProps),i.flags|=2,Kn(a),a.memoizedState=null,i}function xw(i,a,l){var u=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(gn){if(u.mode==="hidden")return i=ld(a,u),a.lanes=536870912,Hh(null,i);if(Bn(a),(i=li)?(i=j5(i,Si),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Ua,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,xr=a,li=null)):i=null,i===null)throw No(a);return a.lanes=536870912,null}return ld(a,u)}var x=i.memoizedState;if(x!==null){var L=x.dehydrated;if(Bn(a),y)if(a.flags&256)a.flags&=-257,a=b2(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(sr||jo(i,a,l,!1),y=(l&i.childLanes)!==0,sr||y){if(u=ci,u!==null&&(L=Cr(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Js(i,L),Qa(u,i,L),x1;bd(),a=b2(i,a,l)}else i=x.treeContext,li=Ms(L.nextSibling),xr=a,gn=!0,Zr=null,Si=!1,i!==null&&Zf(a,i),a=ld(a,u),a.flags|=4096;return a}return i=za(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function ud(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function _1(i,a,l,u,y){return Lo(a),l=Mh(i,a,l,u,void 0,y),u=Oh(),i!==null&&!sr?(Ph(i,a,y),gl(i,a,y)):(gn&&u&&jh(a),a.flags|=1,ea(i,a,l,y),a.child)}function x2(i,a,l,u,y,x){return Lo(a),a.updateQueue=null,l=to(a,u,l,y),Lc(i),u=Oh(),i!==null&&!sr?(Ph(i,a,x),gl(i,a,x)):(gn&&u&&jh(a),a.flags|=1,ea(i,a,l,x),a.child)}function _2(i,a,l,u,y){if(Lo(a),a.stateNode===null){var x=br,L=l.contextType;typeof L=="object"&&L!==null&&(x=wr(L)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=v1,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},Je(a),L=l.contextType,x.context=typeof L=="object"&&L!==null?wr(L):br,x.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(y1(a,l,L,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&v1.enqueueReplaceState(x,x.state,null),zi(a,u,x,y),ii(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){x=a.stateNode;var K=a.memoizedProps,ge=$u(l,K);x.props=ge;var Le=x.context,Be=l.contextType;L=br,typeof Be=="object"&&Be!==null&&(L=wr(Be));var He=l.getDerivedStateFromProps;Be=typeof He=="function"||typeof x.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,Be||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(K||Le!==L)&&o2(a,x,u,L),ot=!1;var ke=a.memoizedState;x.state=ke,zi(a,u,x,y),ii(),Le=a.memoizedState,K||ke!==Le||ot?(typeof He=="function"&&(y1(a,l,He,u),Le=a.memoizedState),(ge=ot||s2(a,l,ge,u,ke,Le,L))?(Be||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Le),x.props=u,x.state=Le,x.context=L,u=ge):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,gi(i,a),L=a.memoizedProps,Be=$u(l,L),x.props=Be,He=a.pendingProps,ke=x.context,Le=l.contextType,ge=br,typeof Le=="object"&&Le!==null&&(ge=wr(Le)),K=l.getDerivedStateFromProps,(Le=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==He||ke!==ge)&&o2(a,x,u,ge),ot=!1,ke=a.memoizedState,x.state=ke,zi(a,u,x,y),ii();var Oe=a.memoizedState;L!==He||ke!==Oe||ot||i!==null&&i.dependencies!==null&&Nc(i.dependencies)?(typeof K=="function"&&(y1(a,l,K,u),Oe=a.memoizedState),(Be=ot||s2(a,l,Be,u,ke,Oe,ge)||i!==null&&i.dependencies!==null&&Nc(i.dependencies))?(Le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Oe,ge),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Oe,ge)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Oe),x.props=u,x.state=Oe,x.context=ge,u=Be):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(a.flags|=1024),u=!1)}return x=u,ud(i,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&u?(a.child=ui(a,i.child,null,y),a.child=ui(a,null,l,y)):ea(i,a,l,y),a.memoizedState=x.state,i=a.child):i=gl(i,a,y),i}function w2(i,a,l,u){return cl(),a.flags|=256,ea(i,a,l,u),a.child}var w1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function S1(i){return{baseLanes:i,cachePool:ce()}}function A1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=fs),i}function S2(i,a,l){var u=a.pendingProps,y=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,i===null){if(gn){if(y?Di(a):Vi(),(i=li)?(i=j5(i,Si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Ua,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,xr=a,li=null)):i=null,i===null)throw No(a);return sg(i)?a.lanes=32:a.lanes=536870912,null}var K=u.children;return u=u.fallback,y?(Vi(),y=a.mode,K=cd({mode:"hidden",children:K},y),u=To(u,y,l,null),K.return=a,u.return=a,K.sibling=u,a.child=K,u=a.child,u.memoizedState=S1(l),u.childLanes=A1(i,L,l),a.memoizedState=w1,Hh(null,u)):(Di(a),E1(a,K))}var ge=i.memoizedState;if(ge!==null&&(K=ge.dehydrated,K!==null)){if(x)a.flags&256?(Di(a),a.flags&=-257,a=T1(i,a,l)):a.memoizedState!==null?(Vi(),a.child=i.child,a.flags|=128,a=null):(Vi(),K=u.fallback,y=a.mode,u=cd({mode:"visible",children:u.children},y),K=To(K,y,l,null),K.flags|=2,u.return=a,K.return=a,u.sibling=K,a.child=u,ui(a,i.child,null,l),u=a.child,u.memoizedState=S1(l),u.childLanes=A1(i,L,l),a.memoizedState=w1,a=Hh(null,u));else if(Di(a),sg(K)){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Le=L.dgst;L=Le,u=Error(r(419)),u.stack="",u.digest=L,ql({value:u,source:null,stack:null}),a=T1(i,a,l)}else if(sr||jo(i,a,l,!1),L=(l&i.childLanes)!==0,sr||L){if(L=ci,L!==null&&(u=Cr(L,l),u!==0&&u!==ge.retryLane))throw ge.retryLane=u,Js(i,u),Qa(L,i,u),x1;ag(K)||bd(),a=T1(i,a,l)}else ag(K)?(a.flags|=192,a.child=i.child,a=null):(i=ge.treeContext,li=Ms(K.nextSibling),xr=a,gn=!0,Zr=null,Si=!1,i!==null&&Zf(a,i),a=E1(a,u.children),a.flags|=4096);return a}return y?(Vi(),K=u.fallback,y=a.mode,ge=i.child,Le=ge.sibling,u=za(ge,{mode:"hidden",children:u.children}),u.subtreeFlags=ge.subtreeFlags&65011712,Le!==null?K=za(Le,K):(K=To(K,y,l,null),K.flags|=2),K.return=a,u.return=a,u.sibling=K,a.child=u,Hh(null,u),u=a.child,K=i.child.memoizedState,K===null?K=S1(l):(y=K.cachePool,y!==null?(ge=Li._currentValue,y=y.parent!==ge?{parent:ge,pool:ge}:y):y=ce(),K={baseLanes:K.baseLanes|l,cachePool:y}),u.memoizedState=K,u.childLanes=A1(i,L,l),a.memoizedState=w1,Hh(i.child,u)):(Di(a),l=i.child,i=l.sibling,l=za(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(L=a.deletions,L===null?(a.deletions=[i],a.flags|=16):L.push(i)),a.child=l,a.memoizedState=null,l)}function E1(i,a){return a=cd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cd(i,a){return i=Mr(22,i,null,a),i.lanes=0,i}function T1(i,a,l){return ui(a,i.child,null,l),i=E1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function A2(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Hl(i.return,a,l)}function C1(i,a,l,u,y,x){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y,treeForkCount:x}:(L.isBackwards=a,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=y,L.treeForkCount=x)}function E2(i,a,l){var u=a.pendingProps,y=u.revealOrder,x=u.tail;u=u.children;var L=An.current,K=(L&2)!==0;if(K?(L=L&1|2,a.flags|=128):L&=1,P(An,L),ea(i,a,u,l),u=gn?qu:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A2(i,l,a);else if(i.tag===19)A2(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&Pr(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),C1(a,!1,y,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Pr(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}C1(a,!0,l,null,x,u);break;case"together":C1(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function gl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Zl|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(jo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=za(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=za(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function N1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Nc(i)))}function _w(i,a,l){switch(a.tag){case 3:_e(a,a.stateNode.containerInfo),Io(a,Li,i.memoizedState.cache),cl();break;case 27:case 5:Me(a);break;case 4:_e(a,a.stateNode.containerInfo);break;case 10:Io(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bn(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Di(a),a.flags|=128,null):(l&a.child.childLanes)!==0?S2(i,a,l):(Di(a),i=gl(i,a,l),i!==null?i.sibling:null);Di(a);break;case 19:var y=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(jo(i,a,l,!1),u=(l&a.childLanes)!==0),y){if(u)return E2(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),P(An,An.current),u)break;return null;case 22:return a.lanes=0,y2(i,a,l,a.pendingProps);case 24:Io(a,Li,i.memoizedState.cache)}return gl(i,a,l)}function T2(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)sr=!0;else{if(!N1(i,l)&&(a.flags&128)===0)return sr=!1,_w(i,a,l);sr=(i.flags&131072)!==0}else sr=!1,gn&&(a.flags&1048576)!==0&&Xf(a,qu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=Ne(a.elementType),a.type=i,typeof i=="function")wc(i)?(u=$u(i,u),a.tag=1,a=_2(null,a,i,u,l)):(a.tag=0,a=_1(null,a,i,u,l));else{if(i!=null){var y=i.$$typeof;if(y===se){a.tag=11,a=p2(null,a,i,u,l);break e}else if(y===$){a.tag=14,a=g2(null,a,i,u,l);break e}}throw a=Q(i)||i,Error(r(306,a,""))}}return a;case 0:return _1(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,y=$u(u,a.pendingProps),_2(i,a,u,y,l);case 3:e:{if(_e(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var x=a.memoizedState;y=x.element,gi(i,a),zi(a,u,null,l);var L=a.memoizedState;if(u=L.cache,Io(a,Li,u),u!==x.cache&&hl(a,[Li],l,!0),ii(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=w2(i,a,u,l);break e}else if(u!==y){y=Fa(Error(r(424)),a),ql(y),a=w2(i,a,u,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,li=Ms(i.firstChild),xr=a,gn=!0,Zr=null,Si=!0,l=Jt(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(cl(),u===y){a=gl(i,a,l);break e}ea(i,a,u,l)}a=a.child}return a;case 26:return ud(i,a),i===null?(l=P5(a.type,null,a.pendingProps,null))?a.memoizedState=l:gn||(l=a.type,i=a.pendingProps,u=Td(re.current).createElement(l),u[kn]=a,u[Wn]=i,ta(u,l,i),pi(u),a.stateNode=u):a.memoizedState=P5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Me(a),i===null&&gn&&(u=a.stateNode=k5(a.type,a.pendingProps,re.current),xr=a,Si=!0,y=li,iu(a.type)?(og=y,li=Ms(u.firstChild)):li=y),ea(i,a,a.pendingProps.children,l),ud(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gn&&((y=u=li)&&(u=Xw(u,a.type,a.pendingProps,Si),u!==null?(a.stateNode=u,xr=a,li=Ms(u.firstChild),Si=!1,y=!0):y=!1),y||No(a)),Me(a),y=a.type,x=a.pendingProps,L=i!==null?i.memoizedProps:null,u=x.children,ng(y,x)?u=null:L!==null&&ng(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=Mh(i,a,u1,null,null,l),sf._currentValue=y),ud(i,a),ea(i,a,u,l),a.child;case 6:return i===null&&gn&&((i=l=li)&&(l=Zw(l,a.pendingProps,Si),l!==null?(a.stateNode=l,xr=a,li=null,i=!0):i=!1),i||No(a)),null;case 13:return S2(i,a,l);case 4:return _e(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=ui(a,null,u,l):ea(i,a,u,l),a.child;case 11:return p2(i,a,a.type,a.pendingProps,l);case 7:return ea(i,a,a.pendingProps,l),a.child;case 8:return ea(i,a,a.pendingProps.children,l),a.child;case 12:return ea(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Io(a,a.type,u.value),ea(i,a,u.children,l),a.child;case 9:return y=a.type._context,u=a.pendingProps.children,Lo(a),y=wr(y),u=u(y),a.flags|=1,ea(i,a,u,l),a.child;case 14:return g2(i,a,a.type,a.pendingProps,l);case 15:return m2(i,a,a.type,a.pendingProps,l);case 19:return E2(i,a,l);case 31:return xw(i,a,l);case 22:return y2(i,a,l,a.pendingProps);case 24:return Lo(a),u=wr(Li),i===null?(y=X(),y===null&&(y=ci,x=Gl(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),a.memoizedState={parent:u,cache:y},Je(a),Io(a,Li,y)):((i.lanes&l)!==0&&(gi(i,a),zi(a,null,null,l),ii()),y=i.memoizedState,x=a.memoizedState,y.parent!==u?(y={parent:u,cache:u},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Io(a,Li,u)):(u=x.cache,Io(a,Li,u),u!==y.cache&&hl(a,[Li],l,!0))),ea(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ml(i){i.flags|=4}function R1(i,a,l,u,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(J2())i.flags|=8192;else throw Pe=xe,Re}else i.flags&=-16777217}function C2(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U5(a))if(J2())i.flags|=8192;else throw Pe=xe,Re}function hd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ia():536870912,i.lanes|=a,qc|=a)}function Gh(i,a){if(!gn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function vi(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function ww(i,a,l){var u=a.pendingProps;switch(Tc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(a),null;case 1:return vi(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ha(Li),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(_r(a)?ml(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dh())),vi(a),null;case 26:var y=a.type,x=a.memoizedState;return i===null?(ml(a),x!==null?(vi(a),C2(a,x)):(vi(a),R1(a,y,null,u,l))):x?x!==i.memoizedState?(ml(a),vi(a),C2(a,x)):(vi(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&ml(a),vi(a),R1(a,y,i,u,l)),null;case 27:if(We(a),l=re.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&ml(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}i=Y.current,_r(a)?Lh(a):(i=k5(y,u,l),a.stateNode=i,ml(a))}return vi(a),null;case 5:if(We(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&ml(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}if(x=Y.current,_r(a))Lh(a);else{var L=Td(re.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(y,{is:u.is}):L.createElement(y)}}x[kn]=a,x[Wn]=u;e:for(L=a.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===a)break e;for(;L.sibling===null;){if(L.return===null||L.return===a)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}a.stateNode=x;e:switch(ta(x,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ml(a)}}return vi(a),R1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&ml(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=re.current,_r(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,y=xr,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}i[kn]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||S5(i.nodeValue,l)),i||No(a,!0)}else i=Td(i).createTextNode(u),i[kn]=a,a.stateNode=i}return vi(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=_r(a),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kn]=a}else cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),i=!1}else l=Dh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return vi(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=_r(a),u!==null&&u.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[kn]=a}else cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),y=!1}else y=Dh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==y&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),hd(a,a.updateQueue),vi(a),null);case 4:return me(),i===null&&X1(a.stateNode.containerInfo),vi(a),null;case 10:return Ha(a.type),vi(a),null;case 19:if(k(An),u=a.memoizedState,u===null)return vi(a),null;if(y=(a.flags&128)!==0,x=u.rendering,x===null)if(y)Gh(u,!1);else{if(qi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=Pr(i),x!==null){for(a.flags|=128,Gh(u,!1),i=x.updateQueue,a.updateQueue=i,hd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Vu(l,i),l=l.sibling;return P(An,An.current&1|2),gn&&Ra(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&Wt()>md&&(a.flags|=128,y=!0,Gh(u,!1),a.lanes=4194304)}else{if(!y)if(i=Pr(x),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,hd(a,i),Gh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!gn)return vi(a),null}else 2*Wt()-u.renderingStartTime>md&&l!==536870912&&(a.flags|=128,y=!0,Gh(u,!1),a.lanes=4194304);u.isBackwards?(x.sibling=a.child,a.child=x):(i=u.last,i!==null?i.sibling=x:a.child=x,u.last=x)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Wt(),i.sibling=null,l=An.current,P(An,y?l&1|2:l&1),gn&&Ra(a,u.treeForkCount),i):(vi(a),null);case 22:case 23:return Kn(a),Ki(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(vi(a),a.subtreeFlags&6&&(a.flags|=8192)):vi(a),l=a.updateQueue,l!==null&&hd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&k(W),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ha(Li),vi(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Sw(i,a){switch(Tc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ha(Li),me(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(r(340));cl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Kn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));cl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return k(An),null;case 4:return me(),null;case 10:return Ha(a.type),null;case 22:case 23:return Kn(a),Ki(),i!==null&&k(W),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ha(Li),null;case 25:return null;default:return null}}function N2(i,a){switch(Tc(a),a.tag){case 3:Ha(Li),me();break;case 26:case 27:case 5:We(a);break;case 4:me();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:k(An);break;case 10:Ha(a.type);break;case 22:case 23:Kn(a),Ki(),i!==null&&k(W);break;case 24:Ha(Li)}}function Yh(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&i)===i){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==y)}}catch(K){Xn(a,a.return,K)}}function Ql(i,a,l){try{var u=a.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var x=y.next;u=x;do{if((u.tag&i)===i){var L=u.inst,K=L.destroy;if(K!==void 0){L.destroy=void 0,y=a;var ge=l,Le=K;try{Le()}catch(Be){Xn(y,ge,Be)}}}u=u.next}while(u!==x)}}catch(Be){Xn(a,a.return,Be)}}function R2(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Fi(a,l)}catch(u){Xn(i,i.return,u)}}}function I2(i,a,l){l.props=$u(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Xn(i,a,u)}}function Wh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(y){Xn(i,a,y)}}function Po(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){Xn(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Xn(i,a,y)}else l.current=null}function j2(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){Xn(i,i.return,y)}}function I1(i,a,l){try{var u=i.stateNode;Gw(u,i.type,l,a),u[Wn]=a}catch(y){Xn(i,i.return,y)}}function L2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&iu(i.type)||i.tag===4}function j1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||L2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&iu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function L1(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=wa));else if(u!==4&&(u===27&&iu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(L1(i,a,l),i=i.sibling;i!==null;)L1(i,a,l),i=i.sibling}function fd(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&iu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(fd(i,a,l),i=i.sibling;i!==null;)fd(i,a,l),i=i.sibling}function D2(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ta(a,u,l),a[kn]=i,a[Wn]=l}catch(x){Xn(i,i.return,x)}}var yl=!1,or=!1,D1=!1,k2=typeof WeakSet=="function"?WeakSet:Set,zr=null;function Aw(i,a){if(i=i.containerInfo,eg=Dd,i=Xs(i),Is(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,K=-1,ge=-1,Le=0,Be=0,He=i,ke=null;t:for(;;){for(var Oe;He!==l||y!==0&&He.nodeType!==3||(K=L+y),He!==x||u!==0&&He.nodeType!==3||(ge=L+u),He.nodeType===3&&(L+=He.nodeValue.length),(Oe=He.firstChild)!==null;)ke=He,He=Oe;for(;;){if(He===i)break t;if(ke===l&&++Le===y&&(K=L),ke===x&&++Be===u&&(ge=L),(Oe=He.nextSibling)!==null)break;He=ke,ke=He.parentNode}He=Oe}l=K===-1||ge===-1?null:{start:K,end:ge}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:i,selectionRange:l},Dd=!1,zr=a;zr!==null;)if(a=zr,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,zr=i;else for(;zr!==null;){switch(a=zr,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,y=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var ft=$u(l.type,y);i=u.getSnapshotBeforeUpdate(ft,x),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){Xn(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)rg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,zr=i;break}zr=a.return}}function M2(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:bl(i,l),u&4&&Yh(5,l);break;case 1:if(bl(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(L){Xn(l,l.return,L)}else{var y=$u(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Xn(l,l.return,L)}}u&64&&R2(l),u&512&&Wh(l,l.return);break;case 3:if(bl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Fi(i,a)}catch(L){Xn(l,l.return,L)}}break;case 27:a===null&&u&4&&D2(l);case 26:case 5:bl(i,l),a===null&&u&4&&j2(l),u&512&&Wh(l,l.return);break;case 12:bl(i,l);break;case 31:bl(i,l),u&4&&z2(i,l);break;case 13:bl(i,l),u&4&&F2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Dw.bind(null,l),Jw(i,l))));break;case 22:if(u=l.memoizedState!==null||yl,!u){a=a!==null&&a.memoizedState!==null||or,y=yl;var x=or;yl=u,(or=a)&&!x?xl(i,l,(l.subtreeFlags&8772)!==0):bl(i,l),yl=y,or=x}break;case 30:break;default:bl(i,l)}}function O2(i){var a=i.alternate;a!==null&&(i.alternate=null,O2(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ts(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ti=null,Ya=!1;function vl(i,a,l){for(l=l.child;l!==null;)P2(i,a,l),l=l.sibling}function P2(i,a,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Qt,l)}catch{}switch(l.tag){case 26:or||Po(l,a),vl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:or||Po(l,a);var u=Ti,y=Ya;iu(l.type)&&(Ti=l.stateNode,Ya=!1),vl(i,a,l),nf(l.stateNode),Ti=u,Ya=y;break;case 5:or||Po(l,a);case 6:if(u=Ti,y=Ya,Ti=null,vl(i,a,l),Ti=u,Ya=y,Ti!==null)if(Ya)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(l.stateNode)}catch(x){Xn(l,a,x)}else try{Ti.removeChild(l.stateNode)}catch(x){Xn(l,a,x)}break;case 18:Ti!==null&&(Ya?(i=Ti,R5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xc(i)):R5(Ti,l.stateNode));break;case 4:u=Ti,y=Ya,Ti=l.stateNode.containerInfo,Ya=!0,vl(i,a,l),Ti=u,Ya=y;break;case 0:case 11:case 14:case 15:Ql(2,l,a),or||Ql(4,l,a),vl(i,a,l);break;case 1:or||(Po(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&I2(l,a,u)),vl(i,a,l);break;case 21:vl(i,a,l);break;case 22:or=(u=or)||l.memoizedState!==null,vl(i,a,l),or=u;break;default:vl(i,a,l)}}function z2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(l){Xn(a,a.return,l)}}}function F2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(l){Xn(a,a.return,l)}}function Ew(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new k2),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new k2),a;default:throw Error(r(435,i.tag))}}function dd(i,a){var l=Ew(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var y=kw.bind(null,i,u);u.then(y,y)}})}function Wa(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],x=i,L=a,K=L;e:for(;K!==null;){switch(K.tag){case 27:if(iu(K.type)){Ti=K.stateNode,Ya=!1;break e}break;case 5:Ti=K.stateNode,Ya=!1;break e;case 3:case 4:Ti=K.stateNode.containerInfo,Ya=!0;break e}K=K.return}if(Ti===null)throw Error(r(160));P2(x,L,y),Ti=null,Ya=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)B2(a,i),a=a.sibling}var ao=null;function B2(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wa(a,i),$a(i),u&4&&(Ql(3,i,i.return),Yh(3,i),Ql(5,i,i.return));break;case 1:Wa(a,i),$a(i),u&512&&(or||l===null||Po(l,l.return)),u&64&&yl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=ao;if(Wa(a,i),$a(i),u&512&&(or||l===null||Po(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Rr]||x[kn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(u),y.head.insertBefore(x,y.querySelector("head > title"))),ta(x,u,l),x[kn]=i,pi(x),u=x;break e;case"link":var L=B5("link","href",y).get(u+(l.href||""));if(L){for(var K=0;K<L.length;K++)if(x=L[K],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(K,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;case"meta":if(L=B5("meta","content",y).get(u+(l.content||""))){for(K=0;K<L.length;K++)if(x=L[K],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(K,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;default:throw Error(r(468,u))}x[kn]=i,pi(x),u=x}i.stateNode=u}else V5(y,i.type,i.stateNode);else i.stateNode=F5(y,u,i.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?V5(y,i.type,i.stateNode):F5(y,u,i.memoizedProps)):u===null&&i.stateNode!==null&&I1(i,i.memoizedProps,l.memoizedProps)}break;case 27:Wa(a,i),$a(i),u&512&&(or||l===null||Po(l,l.return)),l!==null&&u&4&&I1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Wa(a,i),$a(i),u&512&&(or||l===null||Po(l,l.return)),i.flags&32){y=i.stateNode;try{Yi(y,"")}catch(ft){Xn(i,i.return,ft)}}u&4&&i.stateNode!=null&&(y=i.memoizedProps,I1(i,y,l!==null?l.memoizedProps:y)),u&1024&&(D1=!0);break;case 6:if(Wa(a,i),$a(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ft){Xn(i,i.return,ft)}}break;case 3:if(Rd=null,y=ao,ao=Cd(a.containerInfo),Wa(a,i),ao=y,$a(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(a.containerInfo)}catch(ft){Xn(i,i.return,ft)}D1&&(D1=!1,V2(i));break;case 4:u=ao,ao=Cd(i.stateNode.containerInfo),Wa(a,i),$a(i),ao=u;break;case 12:Wa(a,i),$a(i);break;case 31:Wa(a,i),$a(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 13:Wa(a,i),$a(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gd=Wt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 22:y=i.memoizedState!==null;var ge=l!==null&&l.memoizedState!==null,Le=yl,Be=or;if(yl=Le||y,or=Be||ge,Wa(a,i),or=Be,yl=Le,$a(i),u&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ge||yl||or||Ku(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ge=l=a;try{if(x=ge.stateNode,y)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{K=ge.stateNode;var He=ge.memoizedProps.style,ke=He!=null&&He.hasOwnProperty("display")?He.display:null;K.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(ft){Xn(ge,ge.return,ft)}}}else if(a.tag===6){if(l===null){ge=a;try{ge.stateNode.nodeValue=y?"":ge.memoizedProps}catch(ft){Xn(ge,ge.return,ft)}}}else if(a.tag===18){if(l===null){ge=a;try{var Oe=ge.stateNode;y?I5(Oe,!0):I5(ge.stateNode,!1)}catch(ft){Xn(ge,ge.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,dd(i,l))));break;case 19:Wa(a,i),$a(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 30:break;case 21:break;default:Wa(a,i),$a(i)}}function $a(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(L2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,x=j1(i);fd(i,x,y);break;case 5:var L=l.stateNode;l.flags&32&&(Yi(L,""),l.flags&=-33);var K=j1(i);fd(i,K,L);break;case 3:case 4:var ge=l.stateNode.containerInfo,Le=j1(i);L1(i,Le,ge);break;default:throw Error(r(161))}}catch(Be){Xn(i,i.return,Be)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function V2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;V2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function bl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)M2(i,a.alternate,a),a=a.sibling}function Ku(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ql(4,a,a.return),Ku(a);break;case 1:Po(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&I2(a,a.return,l),Ku(a);break;case 27:nf(a.stateNode);case 26:case 5:Po(a,a.return),Ku(a);break;case 22:a.memoizedState===null&&Ku(a);break;case 30:Ku(a);break;default:Ku(a)}i=i.sibling}}function xl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,y=i,x=a,L=x.flags;switch(x.tag){case 0:case 11:case 15:xl(y,x,l),Yh(4,x);break;case 1:if(xl(y,x,l),u=x,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Le){Xn(u,u.return,Le)}if(u=x,y=u.updateQueue,y!==null){var K=u.stateNode;try{var ge=y.shared.hiddenCallbacks;if(ge!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ge.length;y++)Or(ge[y],K)}catch(Le){Xn(u,u.return,Le)}}l&&L&64&&R2(x),Wh(x,x.return);break;case 27:D2(x);case 26:case 5:xl(y,x,l),l&&u===null&&L&4&&j2(x),Wh(x,x.return);break;case 12:xl(y,x,l);break;case 31:xl(y,x,l),l&&L&4&&z2(y,x);break;case 13:xl(y,x,l),l&&L&4&&F2(y,x);break;case 22:x.memoizedState===null&&xl(y,x,l),Wh(x,x.return);break;case 30:break;default:xl(y,x,l)}a=a.sibling}}function k1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Hu(l))}function M1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Hu(i))}function so(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)U2(i,a,l,u),a=a.sibling}function U2(i,a,l,u){var y=a.flags;switch(a.tag){case 0:case 11:case 15:so(i,a,l,u),y&2048&&Yh(9,a);break;case 1:so(i,a,l,u);break;case 3:so(i,a,l,u),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Hu(i)));break;case 12:if(y&2048){so(i,a,l,u),i=a.stateNode;try{var x=a.memoizedProps,L=x.id,K=x.onPostCommit;typeof K=="function"&&K(L,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ge){Xn(a,a.return,ge)}}else so(i,a,l,u);break;case 31:so(i,a,l,u);break;case 13:so(i,a,l,u);break;case 23:break;case 22:x=a.stateNode,L=a.alternate,a.memoizedState!==null?x._visibility&2?so(i,a,l,u):$h(i,a):x._visibility&2?so(i,a,l,u):(x._visibility|=2,Bc(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),y&2048&&k1(L,a);break;case 24:so(i,a,l,u),y&2048&&M1(a.alternate,a);break;default:so(i,a,l,u)}}function Bc(i,a,l,u,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,L=a,K=l,ge=u,Le=L.flags;switch(L.tag){case 0:case 11:case 15:Bc(x,L,K,ge,y),Yh(8,L);break;case 23:break;case 22:var Be=L.stateNode;L.memoizedState!==null?Be._visibility&2?Bc(x,L,K,ge,y):$h(x,L):(Be._visibility|=2,Bc(x,L,K,ge,y)),y&&Le&2048&&k1(L.alternate,L);break;case 24:Bc(x,L,K,ge,y),y&&Le&2048&&M1(L.alternate,L);break;default:Bc(x,L,K,ge,y)}a=a.sibling}}function $h(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,y=u.flags;switch(u.tag){case 22:$h(l,u),y&2048&&k1(u.alternate,u);break;case 24:$h(l,u),y&2048&&M1(u.alternate,u);break;default:$h(l,u)}a=a.sibling}}var Kh=8192;function Vc(i,a,l){if(i.subtreeFlags&Kh)for(i=i.child;i!==null;)q2(i,a,l),i=i.sibling}function q2(i,a,l){switch(i.tag){case 26:Vc(i,a,l),i.flags&Kh&&i.memoizedState!==null&&h3(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Vc(i,a,l);break;case 3:case 4:var u=ao;ao=Cd(i.stateNode.containerInfo),Vc(i,a,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Kh,Kh=16777216,Vc(i,a,l),Kh=u):Vc(i,a,l));break;default:Vc(i,a,l)}}function H2(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Qh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];zr=u,Y2(u,i)}H2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G2(i),i=i.sibling}function G2(i){switch(i.tag){case 0:case 11:case 15:Qh(i),i.flags&2048&&Ql(9,i,i.return);break;case 3:Qh(i);break;case 12:Qh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,pd(i)):Qh(i);break;default:Qh(i)}}function pd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];zr=u,Y2(u,i)}H2(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ql(8,a,a.return),pd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,pd(a));break;default:pd(a)}i=i.sibling}}function Y2(i,a){for(;zr!==null;){var l=zr;switch(l.tag){case 0:case 11:case 15:Ql(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,zr=u;else e:for(l=i;zr!==null;){u=zr;var y=u.sibling,x=u.return;if(O2(u),u===l){zr=null;break e}if(y!==null){y.return=x,zr=y;break e}zr=x}}}var Tw={getCacheForType:function(i){var a=wr(Li),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return wr(Li).controller.signal}},Cw=typeof WeakMap=="function"?WeakMap:Map,Vn=0,ci=null,mn=null,bn=0,Qn=0,hs=null,Xl=!1,Uc=!1,O1=!1,_l=0,qi=0,Zl=0,Qu=0,P1=0,fs=0,qc=0,Xh=null,Ka=null,z1=!1,gd=0,W2=0,md=1/0,yd=null,Jl=null,Ar=0,eu=null,Hc=null,wl=0,F1=0,B1=null,$2=null,Zh=0,V1=null;function ds(){return(Vn&2)!==0&&bn!==0?bn&-bn:ie.T!==null?W1():Mi()}function K2(){if(fs===0)if((bn&536870912)===0||gn){var i=Dn;Dn<<=1,(Dn&3932160)===0&&(Dn=262144),fs=i}else fs=536870912;return i=yi.current,i!==null&&(i.flags|=32),fs}function Qa(i,a,l){(i===ci&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(Gc(i,0),tu(i,bn,fs,!1)),At(i,l),((Vn&2)===0||i!==ci)&&(i===ci&&((Vn&2)===0&&(Qu|=l),qi===4&&tu(i,bn,fs,!1)),zo(i))}function Q2(i,a,l){if((Vn&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||fr(i,a),y=u?Iw(i,a):q1(i,a,!0),x=u;do{if(y===0){Uc&&!u&&tu(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!Nw(l)){y=q1(i,a,!1),x=!1;continue}if(y===2){if(x=a,i.errorRecoveryDisabledLanes&x)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var K=i;y=Xh;var ge=K.current.memoizedState.isDehydrated;if(ge&&(Gc(K,L).flags|=256),L=q1(K,L,!1),L!==2){if(O1&&!ge){K.errorRecoveryDisabledLanes|=x,Qu|=x,y=4;break e}x=Ka,Ka=y,x!==null&&(Ka===null?Ka=x:Ka.push.apply(Ka,x))}y=L}if(x=!1,y!==2)continue}}if(y===1){Gc(i,0),tu(i,a,0,!0);break}e:{switch(u=i,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:tu(u,a,fs,!Xl);break e;case 2:Ka=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=gd+300-Wt(),10<y)){if(tu(u,a,fs,!Xl),on(u,0,!0)!==0)break e;wl=a,u.timeoutHandle=C5(X2.bind(null,u,l,Ka,yd,z1,a,fs,Qu,qc,Xl,x,"Throttled",-0,0),y);break e}X2(u,l,Ka,yd,z1,a,fs,Qu,qc,Xl,x,null,-0,0)}}break}while(!0);zo(i)}function X2(i,a,l,u,y,x,L,K,ge,Le,Be,He,ke,Oe){if(i.timeoutHandle=-1,He=a.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},q2(a,x,He);var ft=(x&62914560)===x?gd-Wt():(x&4194048)===x?W2-Wt():0;if(ft=f3(He,ft),ft!==null){wl=x,i.cancelPendingCommit=ft(a5.bind(null,i,a,x,l,u,y,L,K,ge,Be,He,null,ke,Oe)),tu(i,x,L,!Le);return}}a5(i,a,x,l,u,y,L,K,ge)}function Nw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],x=y.getSnapshot;y=y.value;try{if(!vr(x(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function tu(i,a,l,u){a&=~P1,a&=~Qu,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var y=a;0<y;){var x=31-$t(y),L=1<<x;u[x]=-1,y&=~L}l!==0&&Ur(i,l,a)}function vd(){return(Vn&6)===0?(Jh(0),!1):!0}function U1(){if(mn!==null){if(Qn===0)var i=mn.return;else i=mn,Ls=Ro=null,Dc(i),Ye=null,pt=0,i=mn;for(;i!==null;)N2(i.alternate,i),i=i.return;mn=null}}function Gc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,$w(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),wl=0,U1(),ci=i,mn=l=za(i.current,null),bn=a,Qn=0,hs=null,Xl=!1,Uc=fr(i,a),O1=!1,qc=fs=P1=Qu=Zl=qi=0,Ka=Xh=null,z1=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var y=31-$t(u),x=1<<y;a|=i[y],u&=~x}return _l=a,zu(),l}function Z2(i,a){It=null,ie.H=qh,a===ve||a===le?(a=Ve(),Qn=3):a===Re?(a=Ve(),Qn=4):Qn=a===x1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hs=a,mn===null&&(qi=1,od(i,Fa(a,i.current)))}function J2(){var i=yi.current;return i===null?!0:(bn&4194048)===bn?Tn===null:(bn&62914560)===bn||(bn&536870912)!==0?i===Tn:!1}function e5(){var i=ie.H;return ie.H=qh,i===null?qh:i}function t5(){var i=ie.A;return ie.A=Tw,i}function bd(){qi=4,Xl||(bn&4194048)!==bn&&yi.current!==null||(Uc=!0),(Zl&134217727)===0&&(Qu&134217727)===0||ci===null||tu(ci,bn,fs,!1)}function q1(i,a,l){var u=Vn;Vn|=2;var y=e5(),x=t5();(ci!==i||bn!==a)&&(yd=null,Gc(i,a)),a=!1;var L=qi;e:do try{if(Qn!==0&&mn!==null){var K=mn,ge=hs;switch(Qn){case 8:U1(),L=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(a=!0);var Le=Qn;if(Qn=0,hs=null,Yc(i,K,ge,Le),l&&Uc){L=0;break e}break;default:Le=Qn,Qn=0,hs=null,Yc(i,K,ge,Le)}}Rw(),L=qi;break}catch(Be){Z2(i,Be)}while(!0);return a&&i.shellSuspendCounter++,Ls=Ro=null,Vn=u,ie.H=y,ie.A=x,mn===null&&(ci=null,bn=0,zu()),L}function Rw(){for(;mn!==null;)n5(mn)}function Iw(i,a){var l=Vn;Vn|=2;var u=e5(),y=t5();ci!==i||bn!==a?(yd=null,md=Wt()+500,Gc(i,a)):Uc=fr(i,a);e:do try{if(Qn!==0&&mn!==null){a=mn;var x=hs;t:switch(Qn){case 1:Qn=0,hs=null,Yc(i,a,x,1);break;case 2:case 9:if(Te(x)){Qn=0,hs=null,i5(a);break}a=function(){Qn!==2&&Qn!==9||ci!==i||(Qn=7),zo(i)},x.then(a,a);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:Te(x)?(Qn=0,hs=null,i5(a)):(Qn=0,hs=null,Yc(i,a,x,7));break;case 5:var L=null;switch(mn.tag){case 26:L=mn.memoizedState;case 5:case 27:var K=mn;if(L?U5(L):K.stateNode.complete){Qn=0,hs=null;var ge=K.sibling;if(ge!==null)mn=ge;else{var Le=K.return;Le!==null?(mn=Le,xd(Le)):mn=null}break t}}Qn=0,hs=null,Yc(i,a,x,5);break;case 6:Qn=0,hs=null,Yc(i,a,x,6);break;case 8:U1(),qi=6;break e;default:throw Error(r(462))}}jw();break}catch(Be){Z2(i,Be)}while(!0);return Ls=Ro=null,ie.H=u,ie.A=y,Vn=l,mn!==null?0:(ci=null,bn=0,zu(),qi)}function jw(){for(;mn!==null&&!Nt();)n5(mn)}function n5(i){var a=T2(i.alternate,i,_l);i.memoizedProps=i.pendingProps,a===null?xd(i):mn=a}function i5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=x2(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=x2(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:Dc(a);default:N2(l,a),a=mn=Vu(a,_l),a=T2(l,a,_l)}i.memoizedProps=i.pendingProps,a===null?xd(i):mn=a}function Yc(i,a,l,u){Ls=Ro=null,Dc(a),Ye=null,pt=0;var y=a.return;try{if(bw(i,y,a,l,bn)){qi=1,od(i,Fa(l,i.current)),mn=null;return}}catch(x){if(y!==null)throw mn=y,x;qi=1,od(i,Fa(l,i.current)),mn=null;return}a.flags&32768?(gn||u===1?i=!0:Uc||(bn&536870912)!==0?i=!1:(Xl=i=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),r5(a,i)):xd(a)}function xd(i){var a=i;do{if((a.flags&32768)!==0){r5(a,Xl);return}i=a.return;var l=ww(a.alternate,a,_l);if(l!==null){mn=l;return}if(a=a.sibling,a!==null){mn=a;return}mn=a=i}while(a!==null);qi===0&&(qi=5)}function r5(i,a){do{var l=Sw(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);qi=6,mn=null}function a5(i,a,l,u,y,x,L,K,ge){i.cancelPendingCommit=null;do _d();while(Ar!==0);if((Vn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=bc,es(i,l,x,L,K,ge),i===ci&&(mn=ci=null,bn=0),Hc=a,eu=i,wl=l,F1=x,B1=y,$2=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Mw(Kt,function(){return c5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null,y=he.p,he.p=2,L=Vn,Vn|=4;try{Aw(i,a,l)}finally{Vn=L,he.p=y,ie.T=u}}Ar=1,s5(),o5(),l5()}}function s5(){if(Ar===1){Ar=0;var i=eu,a=Hc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ie.T,ie.T=null;var u=he.p;he.p=2;var y=Vn;Vn|=4;try{B2(a,i);var x=tg,L=Xs(i.containerInfo),K=x.focusedElem,ge=x.selectionRange;if(L!==K&&K&&K.ownerDocument&&Qs(K.ownerDocument.documentElement,K)){if(ge!==null&&Is(K)){var Le=ge.start,Be=ge.end;if(Be===void 0&&(Be=Le),"selectionStart"in K)K.selectionStart=Le,K.selectionEnd=Math.min(Be,K.value.length);else{var He=K.ownerDocument||document,ke=He&&He.defaultView||window;if(ke.getSelection){var Oe=ke.getSelection(),ft=K.textContent.length,Ft=Math.min(ge.start,ft),si=ge.end===void 0?Ft:Math.min(ge.end,ft);!Oe.extend&&Ft>si&&(L=si,si=Ft,Ft=L);var Ae=Fl(K,Ft),be=Fl(K,si);if(Ae&&be&&(Oe.rangeCount!==1||Oe.anchorNode!==Ae.node||Oe.anchorOffset!==Ae.offset||Oe.focusNode!==be.node||Oe.focusOffset!==be.offset)){var Ie=He.createRange();Ie.setStart(Ae.node,Ae.offset),Oe.removeAllRanges(),Ft>si?(Oe.addRange(Ie),Oe.extend(be.node,be.offset)):(Ie.setEnd(be.node,be.offset),Oe.addRange(Ie))}}}}for(He=[],Oe=K;Oe=Oe.parentNode;)Oe.nodeType===1&&He.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<He.length;K++){var qe=He[K];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Dd=!!eg,tg=eg=null}finally{Vn=y,he.p=u,ie.T=l}}i.current=a,Ar=2}}function o5(){if(Ar===2){Ar=0;var i=eu,a=Hc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ie.T,ie.T=null;var u=he.p;he.p=2;var y=Vn;Vn|=4;try{M2(i,a.alternate,a)}finally{Vn=y,he.p=u,ie.T=l}}Ar=3}}function l5(){if(Ar===4||Ar===3){Ar=0,_t();var i=eu,a=Hc,l=wl,u=$2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ar=5:(Ar=0,Hc=eu=null,u5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Jl=null),Jn(l),a=a.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Qt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=ie.T,y=he.p,he.p=2,ie.T=null;try{for(var x=i.onRecoverableError,L=0;L<u.length;L++){var K=u[L];x(K.value,{componentStack:K.stack})}}finally{ie.T=a,he.p=y}}(wl&3)!==0&&_d(),zo(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===V1?Zh++:(Zh=0,V1=i):Zh=0,Jh(0)}}function u5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Hu(a)))}function _d(){return s5(),o5(),l5(),c5()}function c5(){if(Ar!==5)return!1;var i=eu,a=F1;F1=0;var l=Jn(wl),u=ie.T,y=he.p;try{he.p=32>l?32:l,ie.T=null,l=B1,B1=null;var x=eu,L=wl;if(Ar=0,Hc=eu=null,wl=0,(Vn&6)!==0)throw Error(r(331));var K=Vn;if(Vn|=4,G2(x.current),U2(x,x.current,L,l),Vn=K,Jh(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Qt,x)}catch{}return!0}finally{he.p=y,ie.T=u,u5(i,a)}}function h5(i,a,l){a=Fa(l,a),a=b1(i.stateNode,a,2),i=an(i,a,2),i!==null&&(At(i,2),zo(i))}function Xn(i,a,l){if(i.tag===3)h5(i,i,l);else for(;a!==null;){if(a.tag===3){h5(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jl===null||!Jl.has(u))){i=Fa(l,i),l=f2(2),u=an(a,l,2),u!==null&&(d2(l,u,a,i),At(u,2),zo(u));break}}a=a.return}}function H1(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new Cw;var y=new Set;u.set(a,y)}else y=u.get(a),y===void 0&&(y=new Set,u.set(a,y));y.has(l)||(O1=!0,y.add(l),i=Lw.bind(null,i,a,l),a.then(i,i))}function Lw(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ci===i&&(bn&l)===l&&(qi===4||qi===3&&(bn&62914560)===bn&&300>Wt()-gd?(Vn&2)===0&&Gc(i,0):P1|=l,qc===bn&&(qc=0)),zo(i)}function f5(i,a){a===0&&(a=Ia()),i=Js(i,a),i!==null&&(At(i,a),zo(i))}function Dw(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),f5(i,l)}function kw(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),f5(i,l)}function Mw(i,a){return rt(i,a)}var wd=null,Wc=null,G1=!1,Sd=!1,Y1=!1,nu=0;function zo(i){i!==Wc&&i.next===null&&(Wc===null?wd=Wc=i:Wc=Wc.next=i),Sd=!0,G1||(G1=!0,Pw())}function Jh(i,a){if(!Y1&&Sd){Y1=!0;do for(var l=!1,u=wd;u!==null;){if(i!==0){var y=u.pendingLanes;if(y===0)var x=0;else{var L=u.suspendedLanes,K=u.pingedLanes;x=(1<<31-$t(42|i)+1)-1,x&=y&~(L&~K),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,m5(u,x))}else x=bn,x=on(u,u===ci?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||fr(u,x)||(l=!0,m5(u,x));u=u.next}while(l);Y1=!1}}function Ow(){d5()}function d5(){Sd=G1=!1;var i=0;nu!==0&&Ww()&&(i=nu);for(var a=Wt(),l=null,u=wd;u!==null;){var y=u.next,x=p5(u,a);x===0?(u.next=null,l===null?wd=y:l.next=y,y===null&&(Wc=l)):(l=u,(i!==0||(x&3)!==0)&&(Sd=!0)),u=y}Ar!==0&&Ar!==5||Jh(i),nu!==0&&(nu=0)}function p5(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var L=31-$t(x),K=1<<L,ge=y[L];ge===-1?((K&l)===0||(K&u)!==0)&&(y[L]=er(K,a)):ge<=a&&(i.expiredLanes|=K),x&=~K}if(a=ci,l=bn,l=on(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&it(u),Jn(l)){case 2:case 8:l=sn;break;case 32:l=Kt;break;case 268435456:l=qt;break;default:l=Kt}return u=g5.bind(null,i),l=rt(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&it(u),i.callbackPriority=2,i.callbackNode=null,2}function g5(i,a){if(Ar!==0&&Ar!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(_d()&&i.callbackNode!==l)return null;var u=bn;return u=on(i,i===ci?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Q2(i,u,a),p5(i,Wt()),i.callbackNode!=null&&i.callbackNode===l?g5.bind(null,i):null)}function m5(i,a){if(_d())return null;Q2(i,a,!0)}function Pw(){Kw(function(){(Vn&6)!==0?rt(Bt,Ow):d5()})}function W1(){if(nu===0){var i=p;i===0&&(i=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),nu=i}return nu}function y5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jr(""+i)}function v5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function zw(i,a,l,u,y){if(a==="submit"&&l&&l.stateNode===y){var x=y5((y[Wn]||null).action),L=u.submitter;L&&(a=(a=L[Wn]||null)?y5(a.formAction):L.getAttribute("formAction"),a!==null&&(x=a,L=null));var K=new ir("action","action",null,u,y);i.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(nu!==0){var ge=L?v5(y,L):new FormData(y);d1(l,{pending:!0,data:ge,method:y.method,action:x},null,ge)}}else typeof x=="function"&&(K.preventDefault(),ge=L?v5(y,L):new FormData(y),d1(l,{pending:!0,data:ge,method:y.method,action:x},x,ge))},currentTarget:y}]})}}for(var $1=0;$1<ol.length;$1++){var K1=ol[$1],Fw=K1.toLowerCase(),Bw=K1[0].toUpperCase()+K1.slice(1);Pa(Fw,"on"+Bw)}Pa(sl,"onAnimationEnd"),Pa(Ou,"onAnimationIteration"),Pa(Nh,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa($f,"onTransitionRun"),Pa(Kf,"onTransitionStart"),Pa(Qf,"onTransitionCancel"),Pa(Rh,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function b5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],y=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var L=u.length-1;0<=L;L--){var K=u[L],ge=K.instance,Le=K.currentTarget;if(K=K.listener,ge!==x&&y.isPropagationStopped())break e;x=K,y.currentTarget=Le;try{x(y)}catch(Be){Pu(Be)}y.currentTarget=null,x=ge}else for(L=0;L<u.length;L++){if(K=u[L],ge=K.instance,Le=K.currentTarget,K=K.listener,ge!==x&&y.isPropagationStopped())break e;x=K,y.currentTarget=Le;try{x(y)}catch(Be){Pu(Be)}y.currentTarget=null,x=ge}}}}function yn(i,a){var l=a[Nr];l===void 0&&(l=a[Nr]=new Set);var u=i+"__bubble";l.has(u)||(x5(a,i,2,!1),l.add(u))}function Q1(i,a,l){var u=0;a&&(u|=4),x5(l,i,u,a)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function X1(i){if(!i[Ad]){i[Ad]=!0,yo.forEach(function(l){l!=="selectionchange"&&(Vw.has(l)||Q1(l,!1,i),Q1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ad]||(a[Ad]=!0,Q1("selectionchange",!1,a))}}function x5(i,a,l,u){switch(K5(a)){case 2:var y=g3;break;case 8:y=m3;break;default:y=fg}l=y.bind(null,a,l,i),y=void 0,!qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),u?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function Z1(i,a,l,u,y){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var K=u.stateNode.containerInfo;if(K===y)break;if(L===4)for(L=u.return;L!==null;){var ge=L.tag;if((ge===3||ge===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;K!==null;){if(L=qr(K),L===null)return;if(ge=L.tag,ge===5||ge===6||ge===26||ge===27){u=x=L;continue e}K=K.parentNode}}u=u.return}ws(function(){var Le=x,Be=Lr(l),He=[];e:{var ke=Ih.get(i);if(ke!==void 0){var Oe=ir,ft=i;switch(i){case"keypress":if(Wr(l)===0)break e;case"keydown":case"keyup":Oe=dn;break;case"focusin":ft="focus",Oe=Aa;break;case"focusout":ft="blur",Oe=Aa;break;case"beforeblur":case"afterblur":Oe=Aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=R;break;case sl:case Ou:case Nh:Oe=S;break;case Rh:Oe=J;break;case"scroll":case"scrollend":Oe=Ss;break;case"wheel":Oe=De;break;case"copy":case"cut":case"paste":Oe=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=qn;break;case"toggle":case"beforetoggle":Oe=Ut}var Ft=(a&4)!==0,si=!Ft&&(i==="scroll"||i==="scrollend"),Ae=Ft?ke!==null?ke+"Capture":null:ke;Ft=[];for(var be=Le,Ie;be!==null;){var qe=be;if(Ie=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Ie===null||Ae===null||(qe=Wi(be,Ae),qe!=null&&Ft.push(tf(be,qe,Ie))),si)break;be=be.return}0<Ft.length&&(ke=new Oe(ke,ft,null,l,Be),He.push({event:ke,listeners:Ft}))}}if((a&7)===0){e:{if(ke=i==="mouseover"||i==="pointerover",Oe=i==="mouseout"||i==="pointerout",ke&&l!==as&&(ft=l.relatedTarget||l.fromElement)&&(qr(ft)||ft[Oi]))break e;if((Oe||ke)&&(ke=Be.window===Be?Be:(ke=Be.ownerDocument)?ke.defaultView||ke.parentWindow:window,Oe?(ft=l.relatedTarget||l.toElement,Oe=Le,ft=ft?qr(ft):null,ft!==null&&(si=o(ft),Ft=ft.tag,ft!==si||Ft!==5&&Ft!==27&&Ft!==6)&&(ft=null)):(Oe=null,ft=Le),Oe!==ft)){if(Ft=So,qe="onMouseLeave",Ae="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=qn,qe="onPointerLeave",Ae="onPointerEnter",be="pointer"),si=Oe==null?ke:Hr(Oe),Ie=ft==null?ke:Hr(ft),ke=new Ft(qe,be+"leave",Oe,l,Be),ke.target=si,ke.relatedTarget=Ie,qe=null,qr(Be)===Le&&(Ft=new Ft(Ae,be+"enter",ft,l,Be),Ft.target=Ie,Ft.relatedTarget=si,qe=Ft),si=qe,Oe&&ft)t:{for(Ft=Uw,Ae=Oe,be=ft,Ie=0,qe=Ae;qe;qe=Ft(qe))Ie++;qe=0;for(var Dt=be;Dt;Dt=Ft(Dt))qe++;for(;0<Ie-qe;)Ae=Ft(Ae),Ie--;for(;0<qe-Ie;)be=Ft(be),qe--;for(;Ie--;){if(Ae===be||be!==null&&Ae===be.alternate){Ft=Ae;break t}Ae=Ft(Ae),be=Ft(be)}Ft=null}else Ft=null;Oe!==null&&_5(He,ke,Oe,Ft,!1),ft!==null&&si!==null&&_5(He,si,ft,Ft,!0)}}e:{if(ke=Le?Hr(Le):window,Oe=ke.nodeName&&ke.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ke.type==="file")var Pn=Eo;else if(ku(ke))if(ca)Pn=Ns;else{Pn=Ii;var xt=Pl}else Oe=ke.nodeName,!Oe||Oe.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Le&&xo(Le.elementType)&&(Pn=Eo):Pn=vc;if(Pn&&(Pn=Pn(i,Le))){Ta(He,Pn,l,Be);break e}xt&&xt(i,ke,Le),i==="focusout"&&Le&&ke.type==="number"&&Le.memoizedProps.value!=null&&Jo(ke,"number",ke.value)}switch(xt=Le?Hr(Le):window,i){case"focusin":(ku(xt)||xt.contentEditable==="true")&&(Ca=xt,Zs=Le,Dr=null);break;case"focusout":Dr=Zs=Ca=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,jn(He,l,Be);break;case"selectionchange":if(al)break;case"keydown":case"keyup":jn(He,l,Be)}var ln;if(un)e:{switch(i){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else Es?Ea(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(mr&&l.locale!=="ko"&&(Es||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Es&&(ln=il()):(Yr=Be,Hs="value"in Yr?Yr.value:Yr.textContent,Es=!0)),xt=Ed(Le,xn),0<xt.length&&(xn=new we(xn,i,null,l,Be),He.push({event:xn,listeners:xt}),ln?xn.data=ln:(ln=As(l),ln!==null&&(xn.data=ln)))),(ln=rr?Qr(i,l):Ys(i,l))&&(xn=Ed(Le,"onBeforeInput"),0<xn.length&&(xt=new we("onBeforeInput","beforeinput",null,l,Be),He.push({event:xt,listeners:xn}),xt.data=ln)),zw(He,i,Le,l,Be)}b5(He,a)})}function tf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Ed(i,a){for(var l=a+"Capture",u=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Wi(i,l),y!=null&&u.unshift(tf(i,y,x)),y=Wi(i,a),y!=null&&u.push(tf(i,y,x))),i.tag===3)return u;i=i.return}return[]}function Uw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _5(i,a,l,u,y){for(var x=a._reactName,L=[];l!==null&&l!==u;){var K=l,ge=K.alternate,Le=K.stateNode;if(K=K.tag,ge!==null&&ge===u)break;K!==5&&K!==26&&K!==27||Le===null||(ge=Le,y?(Le=Wi(l,x),Le!=null&&L.unshift(tf(l,Le,ge))):y||(Le=Wi(l,x),Le!=null&&L.push(tf(l,Le,ge)))),l=l.return}L.length!==0&&i.push({event:a,listeners:L})}var qw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function w5(i){return(typeof i=="string"?i:""+i).replace(qw,`
`).replace(Hw,"")}function S5(i,a){return a=w5(a),w5(i)===a}function ai(i,a,l,u,y,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yi(i,""+u);break;case"className":nr(i,"class",u);break;case"tabIndex":nr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(i,l,u);break;case"style":nl(i,u,x);break;case"data":if(a!=="object"){nr(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=jr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ai(i,a,"name",y.name,y,null),ai(i,a,"formEncType",y.formEncType,y,null),ai(i,a,"formMethod",y.formMethod,y,null),ai(i,a,"formTarget",y.formTarget,y,null)):(ai(i,a,"encType",y.encType,y,null),ai(i,a,"method",y.method,y,null),ai(i,a,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=jr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=wa);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=jr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":yn("beforetoggle",i),yn("toggle",i),Gr(i,"popover",u);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_o.get(l)||l,Gr(i,l,u))}}function J1(i,a,l,u,y,x){switch(l){case"style":nl(i,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&Yi(i,""+u);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ir.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),x=i[Wn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,y),typeof u=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,y);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Gr(i,l,u)}}}function ta(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",i),yn("load",i);var u=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,x,L,l,null)}}y&&ai(i,a,"srcSet",l.srcSet,l,null),u&&ai(i,a,"src",l.src,l,null);return;case"input":yn("invalid",i);var K=x=L=y=null,ge=null,Le=null;for(u in l)if(l.hasOwnProperty(u)){var Be=l[u];if(Be!=null)switch(u){case"name":y=Be;break;case"type":L=Be;break;case"checked":ge=Be;break;case"defaultChecked":Le=Be;break;case"value":x=Be;break;case"defaultValue":K=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,a));break;default:ai(i,a,u,Be,l,null)}}kl(i,x,K,ge,Le,L,y,!1);return;case"select":yn("invalid",i),u=L=x=null;for(y in l)if(l.hasOwnProperty(y)&&(K=l[y],K!=null))switch(y){case"value":x=K;break;case"defaultValue":L=K;break;case"multiple":u=K;default:ai(i,a,y,K,l,null)}a=x,l=L,i.multiple=!!u,a!=null?gr(i,!!u,a,!1):l!=null&&gr(i,!!u,l,!0);return;case"textarea":yn("invalid",i),x=y=u=null;for(L in l)if(l.hasOwnProperty(L)&&(K=l[L],K!=null))switch(L){case"value":u=K;break;case"defaultValue":y=K;break;case"children":x=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:ai(i,a,L,K,l,null)}is(i,u,y,x);return;case"option":for(ge in l)l.hasOwnProperty(ge)&&(u=l[ge],u!=null)&&(ge==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ai(i,a,ge,u,l,null));return;case"dialog":yn("beforetoggle",i),yn("toggle",i),yn("cancel",i),yn("close",i);break;case"iframe":case"object":yn("load",i);break;case"video":case"audio":for(u=0;u<ef.length;u++)yn(ef[u],i);break;case"image":yn("error",i),yn("load",i);break;case"details":yn("toggle",i);break;case"embed":case"source":case"link":yn("error",i),yn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(u=l[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,Le,u,l,null)}return;default:if(xo(a)){for(Be in l)l.hasOwnProperty(Be)&&(u=l[Be],u!==void 0&&J1(i,a,Be,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&ai(i,a,K,u,l,null))}function Gw(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,L=null,K=null,ge=null,Le=null,Be=null;for(Oe in l){var He=l[Oe];if(l.hasOwnProperty(Oe)&&He!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":ge=He;default:u.hasOwnProperty(Oe)||ai(i,a,Oe,null,u,He)}}for(var ke in u){var Oe=u[ke];if(He=l[ke],u.hasOwnProperty(ke)&&(Oe!=null||He!=null))switch(ke){case"type":x=Oe;break;case"name":y=Oe;break;case"checked":Le=Oe;break;case"defaultChecked":Be=Oe;break;case"value":L=Oe;break;case"defaultValue":K=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:Oe!==He&&ai(i,a,ke,Oe,u,He)}}Vs(i,L,K,ge,Le,Be,x,y);return;case"select":Oe=L=K=ke=null;for(x in l)if(ge=l[x],l.hasOwnProperty(x)&&ge!=null)switch(x){case"value":break;case"multiple":Oe=ge;default:u.hasOwnProperty(x)||ai(i,a,x,null,u,ge)}for(y in u)if(x=u[y],ge=l[y],u.hasOwnProperty(y)&&(x!=null||ge!=null))switch(y){case"value":ke=x;break;case"defaultValue":K=x;break;case"multiple":L=x;default:x!==ge&&ai(i,a,y,x,u,ge)}a=K,l=L,u=Oe,ke!=null?gr(i,!!l,ke,!1):!!u!=!!l&&(a!=null?gr(i,!!l,a,!0):gr(i,!!l,l?[]:"",!1));return;case"textarea":Oe=ke=null;for(K in l)if(y=l[K],l.hasOwnProperty(K)&&y!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:ai(i,a,K,null,u,y)}for(L in u)if(y=u[L],x=l[L],u.hasOwnProperty(L)&&(y!=null||x!=null))switch(L){case"value":ke=y;break;case"defaultValue":Oe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&ai(i,a,L,y,u,x)}el(i,ke,Oe);return;case"option":for(var ft in l)ke=l[ft],l.hasOwnProperty(ft)&&ke!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:ai(i,a,ft,null,u,ke));for(ge in u)ke=u[ge],Oe=l[ge],u.hasOwnProperty(ge)&&ke!==Oe&&(ke!=null||Oe!=null)&&(ge==="selected"?i.selected=ke&&typeof ke!="function"&&typeof ke!="symbol":ai(i,a,ge,ke,u,Oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)ke=l[Ft],l.hasOwnProperty(Ft)&&ke!=null&&!u.hasOwnProperty(Ft)&&ai(i,a,Ft,null,u,ke);for(Le in u)if(ke=u[Le],Oe=l[Le],u.hasOwnProperty(Le)&&ke!==Oe&&(ke!=null||Oe!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,a));break;default:ai(i,a,Le,ke,u,Oe)}return;default:if(xo(a)){for(var si in l)ke=l[si],l.hasOwnProperty(si)&&ke!==void 0&&!u.hasOwnProperty(si)&&J1(i,a,si,void 0,u,ke);for(Be in u)ke=u[Be],Oe=l[Be],!u.hasOwnProperty(Be)||ke===Oe||ke===void 0&&Oe===void 0||J1(i,a,Be,ke,u,Oe);return}}for(var Ae in l)ke=l[Ae],l.hasOwnProperty(Ae)&&ke!=null&&!u.hasOwnProperty(Ae)&&ai(i,a,Ae,null,u,ke);for(He in u)ke=u[He],Oe=l[He],!u.hasOwnProperty(He)||ke===Oe||ke==null&&Oe==null||ai(i,a,He,ke,u,Oe)}function A5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var y=l[u],x=y.transferSize,L=y.initiatorType,K=y.duration;if(x&&K&&A5(L)){for(L=0,K=y.responseEnd,u+=1;u<l.length;u++){var ge=l[u],Le=ge.startTime;if(Le>K)break;var Be=ge.transferSize,He=ge.initiatorType;Be&&A5(He)&&(ge=ge.responseEnd,L+=Be*(ge<K?1:(K-Le)/(ge-Le)))}if(--u,a+=8*(x+L)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var eg=null,tg=null;function Td(i){return i.nodeType===9?i:i.ownerDocument}function E5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ng(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ig=null;function Ww(){var i=window.event;return i&&i.type==="popstate"?i===ig?!1:(ig=i,!0):(ig=null,!1)}var C5=typeof setTimeout=="function"?setTimeout:void 0,$w=typeof clearTimeout=="function"?clearTimeout:void 0,N5=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof N5<"u"?function(i){return N5.resolve(null).then(i).catch(Qw)}:C5;function Qw(i){setTimeout(function(){throw i})}function iu(i){return i==="head"}function R5(i,a){var l=a,u=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(y),Xc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")nf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,nf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,K=x.nodeName;x[Rr]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&nf(i.ownerDocument.body);l=y}while(l);Xc(a)}function I5(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function rg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rg(l),ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Xw(i,a,l,u){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Rr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ms(i.nextSibling),i===null)break}return null}function Zw(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ms(i.nextSibling),i===null))return null;return i}function j5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ms(i.nextSibling),i===null))return null;return i}function ag(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Jw(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ms(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var og=null;function L5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Ms(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function D5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function k5(i,a,l){switch(a=Td(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ts(i)}var Os=new Map,M5=new Set;function Cd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Sl=he.d;he.d={f:e3,r:t3,D:n3,C:i3,L:r3,m:a3,X:o3,S:s3,M:l3};function e3(){var i=Sl.f(),a=vd();return i||a}function t3(i){var a=pr(i);a!==null&&a.tag===5&&a.type==="form"?Zm(a):Sl.r(i)}var $c=typeof document>"u"?null:document;function O5(i,a,l){var u=$c;if(u&&typeof a=="string"&&a){var y=wi(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),M5.has(y)||(M5.add(y),i={rel:i,crossOrigin:l,href:a},u.querySelector(y)===null&&(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function n3(i){Sl.D(i),O5("dns-prefetch",i,null)}function i3(i,a){Sl.C(i,a),O5("preconnect",i,a)}function r3(i,a,l){Sl.L(i,a,l);var u=$c;if(u&&i&&a){var y='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+wi(l.imageSizes)+'"]')):y+='[href="'+wi(i)+'"]';var x=y;switch(a){case"style":x=Kc(i);break;case"script":x=Qc(i)}Os.has(x)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Os.set(x,i),u.querySelector(y)!==null||a==="style"&&u.querySelector(rf(x))||a==="script"&&u.querySelector(af(x))||(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function a3(i,a){Sl.m(i,a);var l=$c;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',x=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Qc(i)}if(!Os.has(x)&&(i=A({rel:"modulepreload",href:i},a),Os.set(x,i),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(af(x)))return}u=l.createElement("link"),ta(u,"link",i),pi(u),l.head.appendChild(u)}}}function s3(i,a,l){Sl.S(i,a,l);var u=$c;if(u&&i){var y=sa(u).hoistableStyles,x=Kc(i);a=a||"default";var L=y.get(x);if(!L){var K={loading:0,preload:null};if(L=u.querySelector(rf(x)))K.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Os.get(x))&&lg(i,l);var ge=L=u.createElement("link");pi(ge),ta(ge,"link",i),ge._p=new Promise(function(Le,Be){ge.onload=Le,ge.onerror=Be}),ge.addEventListener("load",function(){K.loading|=1}),ge.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Nd(L,a,u)}L={type:"stylesheet",instance:L,count:1,state:K},y.set(x,L)}}}function o3(i,a){Sl.X(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(af(y)),x||(i=A({src:i,async:!0},a),(a=Os.get(y))&&ug(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function l3(i,a){Sl.M(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(af(y)),x||(i=A({src:i,async:!0,type:"module"},a),(a=Os.get(y))&&ug(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function P5(i,a,l,u){var y=(y=re.current)?Cd(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Kc(l.href),l=sa(y).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Kc(l.href);var x=sa(y).hoistableStyles,L=x.get(i);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,L),(x=y.querySelector(rf(i)))&&!x._p&&(L.instance=x,L.state.loading=5),Os.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Os.set(i,l),x||u3(y,i,l,L.state))),a&&u===null)throw Error(r(528,""));return L}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qc(l),l=sa(y).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kc(i){return'href="'+wi(i)+'"'}function rf(i){return'link[rel="stylesheet"]['+i+"]"}function z5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function u3(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ta(a,"link",l),pi(a),i.head.appendChild(a))}function Qc(i){return'[src="'+wi(i)+'"]'}function af(i){return"script[async]"+i}function F5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+wi(l.href)+'"]');if(u)return a.instance=u,pi(u),u;var y=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pi(u),ta(u,"style",y),Nd(u,l.precedence,i),a.instance=u;case"stylesheet":y=Kc(l.href);var x=i.querySelector(rf(y));if(x)return a.state.loading|=4,a.instance=x,pi(x),x;u=z5(l),(y=Os.get(y))&&lg(u,y),x=(i.ownerDocument||i).createElement("link"),pi(x);var L=x;return L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),ta(x,"link",u),a.state.loading|=4,Nd(x,l.precedence,i),a.instance=x;case"script":return x=Qc(l.src),(y=i.querySelector(af(x)))?(a.instance=y,pi(y),y):(u=l,(y=Os.get(x))&&(u=A({},l),ug(u,y)),i=i.ownerDocument||i,y=i.createElement("script"),pi(y),ta(y,"link",u),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Nd(u,l.precedence,i));return a.instance}function Nd(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,x=y,L=0;L<u.length;L++){var K=u[L];if(K.dataset.precedence===a)x=K;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function lg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function ug(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Rd=null;function B5(i,a,l){if(Rd===null){var u=new Map,y=Rd=new Map;y.set(l,u)}else y=Rd,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[Rr]||x[kn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(a)||"";L=i+L;var K=u.get(L);K?K.push(x):u.set(L,[x])}}return u}function V5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function c3(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function U5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function h3(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Kc(u.href),x=a.querySelector(rf(y));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Id.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,pi(x);return}x=a.ownerDocument||a,u=z5(u),(y=Os.get(y))&&lg(u,y),x=x.createElement("link"),pi(x);var L=x;L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),ta(x,"link",u),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Id.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var cg=0;function f3(i,a){return i.stylesheets&&i.count===0&&Ld(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Ld(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&cg===0&&(cg=62500*Yw());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ld(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>cg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jd=null;function Ld(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jd=new Map,a.forEach(d3,i),jd=null,Id.call(i))}function d3(i,a){if(!(a.state.loading&4)){var l=jd.get(i);if(l)var u=l.get(null);else{l=new Map,jd.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var L=y[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}y=a.instance,L=y.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,y),l.set(L,y),this.count++,u=Id.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var sf={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function p3(i,a,l,u,y,x,L,K,ge){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function q5(i,a,l,u,y,x,L,K,ge,Le,Be,He){return i=new p3(i,a,l,L,ge,Le,Be,He,K),a=1,x===!0&&(a|=24),x=Mr(3,null,null,a),i.current=x,x.stateNode=i,a=Gl(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},Je(x),i}function H5(i){return i?(i=br,i):br}function G5(i,a,l,u,y,x){y=H5(y),u.context===null?u.context=y:u.pendingContext=y,u=zt(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=an(i,u,a),l!==null&&(Qa(l,i,a),Fn(l,i,a))}function Y5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function hg(i,a){Y5(i,a),(i=i.alternate)&&Y5(i,a)}function W5(i){if(i.tag===13||i.tag===31){var a=Js(i,67108864);a!==null&&Qa(a,i,67108864),hg(i,67108864)}}function $5(i){if(i.tag===13||i.tag===31){var a=ds();a=Un(a);var l=Js(i,a);l!==null&&Qa(l,i,a),hg(i,a)}}var Dd=!0;function g3(i,a,l,u){var y=ie.T;ie.T=null;var x=he.p;try{he.p=2,fg(i,a,l,u)}finally{he.p=x,ie.T=y}}function m3(i,a,l,u){var y=ie.T;ie.T=null;var x=he.p;try{he.p=8,fg(i,a,l,u)}finally{he.p=x,ie.T=y}}function fg(i,a,l,u){if(Dd){var y=dg(u);if(y===null)Z1(i,a,u,kd,l),Q5(i,u);else if(v3(y,i,a,l,u))u.stopPropagation();else if(Q5(i,u),a&4&&-1<y3.indexOf(i)){for(;y!==null;){var x=pr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=bt(x.pendingLanes);if(L!==0){var K=x;for(K.pendingLanes|=2,K.entangledLanes|=2;L;){var ge=1<<31-$t(L);K.entanglements[1]|=ge,L&=~ge}zo(x),(Vn&6)===0&&(md=Wt()+500,Jh(0))}}break;case 31:case 13:K=Js(x,2),K!==null&&Qa(K,x,2),vd(),hg(x,2)}if(x=dg(u),x===null&&Z1(i,a,u,kd,l),x===y)break;y=x}y!==null&&u.stopPropagation()}else Z1(i,a,u,null,l)}}function dg(i){return i=Lr(i),pg(i)}var kd=null;function pg(i){if(kd=null,i=qr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return kd=i,null}function K5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Bt:return 2;case sn:return 8;case Kt:case mt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var gg=!1,ru=null,au=null,su=null,of=new Map,lf=new Map,ou=[],y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q5(i,a){switch(i){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":of.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(a.pointerId)}}function uf(i,a,l,u,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[y]},a!==null&&(a=pr(a),a!==null&&W5(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function v3(i,a,l,u,y){switch(a){case"focusin":return ru=uf(ru,i,a,l,u,y),!0;case"dragenter":return au=uf(au,i,a,l,u,y),!0;case"mouseover":return su=uf(su,i,a,l,u,y),!0;case"pointerover":var x=y.pointerId;return of.set(x,uf(of.get(x)||null,i,a,l,u,y)),!0;case"gotpointercapture":return x=y.pointerId,lf.set(x,uf(lf.get(x)||null,i,a,l,u,y)),!0}return!1}function X5(i){var a=qr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,dr(i.priority,function(){$5(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,dr(i.priority,function(){$5(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Md(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=dg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);as=u,l.target.dispatchEvent(u),as=null}else return a=pr(l),a!==null&&W5(a),i.blockedOn=l,!1;a.shift()}return!0}function Z5(i,a,l){Md(i)&&l.delete(a)}function b3(){gg=!1,ru!==null&&Md(ru)&&(ru=null),au!==null&&Md(au)&&(au=null),su!==null&&Md(su)&&(su=null),of.forEach(Z5),lf.forEach(Z5)}function Od(i,a){i.blockedOn===a&&(i.blockedOn=null,gg||(gg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,b3)))}var Pd=null;function J5(i){Pd!==i&&(Pd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pd===i&&(Pd=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],y=i[a+2];if(typeof u!="function"){if(pg(u||l)===null)continue;break}var x=pr(l);x!==null&&(i.splice(a,3),a-=3,d1(x,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function Xc(i){function a(ge){return Od(ge,i)}ru!==null&&Od(ru,i),au!==null&&Od(au,i),su!==null&&Od(su,i),of.forEach(a),lf.forEach(a);for(var l=0;l<ou.length;l++){var u=ou[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ou.length&&(l=ou[0],l.blockedOn===null);)X5(l),l.blockedOn===null&&ou.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],x=l[u+1],L=y[Wn]||null;if(typeof x=="function")L||J5(l);else if(L){var K=null;if(x&&x.hasAttribute("formAction")){if(y=x,L=x[Wn]||null)K=L.formAction;else if(pg(y)!==null)continue}else K=L.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),J5(l)}}}function ey(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return y=L})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function mg(i){this._internalRoot=i}zd.prototype.render=mg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=ds();G5(l,u,i,a,null,null)},zd.prototype.unmount=mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;G5(i.current,2,null,i,null,null),vd(),a[Oi]=null}};function zd(i){this._internalRoot=i}zd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ou.length&&a!==0&&a<ou[l].priority;l++);ou.splice(l,0,i),l===0&&X5(i)}};var ty=e.version;if(ty!=="19.2.4")throw Error(r(527,ty,"19.2.4"));he.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var x3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Qt=Fd.inject(x3),Ct=Fd}catch{}}return hf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",y=l2,x=u2,L=c2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError)),a=q5(i,1,!1,null,null,l,u,null,y,x,L,ey),i[Oi]=a.current,X1(i),new mg(a)},hf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,y="",x=l2,L=u2,K=c2,ge=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ge=l.formState)),a=q5(i,1,!0,a,l??null,u,y,ge,x,L,K,ey),a.context=H5(null),l=a.current,u=ds(),u=Un(u),y=zt(u),y.callback=null,an(l,y,u),l=u,a.current.lanes=l,At(a,l),zo(a),i[Oi]=a.current,X1(i),new zd(a)},hf.version="19.2.4",hf}var hy;function j3(){if(hy)return bg.exports;hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bg.exports=I3(),bg.exports}var L3=j3();const D3=()=>{};var fy={};const nx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},k3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,h=c?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let C=(h&15)<<2|d>>6,_=d&63;f||(_=64,c||(C=64)),r.push(t[v],t[A],t[C],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new M3;const C=o<<2|h>>4;if(r.push(C),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const z=d<<6&192|A;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class M3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O3=function(n){const e=nx(n);return ix.encodeByteArray(e,!0)},pp=function(n){return O3(n).replace(/\./g,"")},P3=function(n){try{return ix.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F3=()=>z3().__FIREBASE_DEFAULTS__,B3=()=>{if(typeof process>"u"||typeof fy>"u")return;const n=fy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&P3(n[1]);return e&&JSON.parse(e)},Y0=()=>{try{return D3()||F3()||B3()||V3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},U3=n=>Y0()?.emulatorHosts?.[n],rx=n=>{const e=U3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ax=()=>Y0()?.config;class q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Bp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sx(n){return(await fetch(n,{credentials:"include"})).ok}function ox(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pp(JSON.stringify(t)),pp(JSON.stringify(c)),""].join(".")}const xf={};function H3(){const n={prod:[],emulator:[]};for(const e of Object.keys(xf))xf[e]?n.emulator.push(e):n.prod.push(e);return n}function G3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dy=!1;function lx(n,e){if(typeof window>"u"||typeof document>"u"||!Bp(window.location.host)||xf[n]===e||xf[n]||dy)return;xf[n]=e;function t(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=H3().prod.length>0;function c(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,_){C.setAttribute("width","24"),C.setAttribute("id",_),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function d(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{dy=!0,c()},C}function v(C,_){C.setAttribute("id",_),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=G3(r),_=t("text"),z=document.getElementById(_)||document.createElement("span"),H=t("learnmore"),U=document.getElementById(H)||document.createElement("a"),B=t("preprendIcon"),ne=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ae=C.element;h(ae),v(U,H);const se=d();f(ne,B),ae.append(ne,z,U,se),document.body.appendChild(ae)}o?(z.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Y3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W3(){const n=Y0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $3(){return!W3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K3(){try{return typeof indexedDB=="object"}catch{return!1}}function Q3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const X3="FirebaseError";class dc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X3,Object.setPrototypeOf(this,dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ux.prototype.create)}}class ux{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?Z3(o,r):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new dc(s,h,r)}}function Z3(n,e){return n.replace(J3,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const J3=/\{\$([^}]+)}/g;function gp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(py(o)&&py(c)){if(!gp(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function py(n){return n!==null&&typeof n=="object"}function ho(n){return n&&n._delegate?n._delegate:n}class gh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zu="[DEFAULT]";class eS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new q3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nS(e))try{this.getOrInitializeService({instanceIdentifier:Zu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zu){return this.instances.has(e)}getOptions(e=Zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zu){return this.component?this.component.multipleInstances?e:Zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(n){return n===Zu?void 0:n}function nS(n){return n.instantiationMode==="EAGER"}class iS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rn||(Rn={}));const rS={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},aS=Rn.INFO,sS={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},oS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=sS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cx{constructor(e){this.name=e,this._logLevel=aS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const lS=(n,e)=>e.some(t=>n instanceof t);let gy,my;function uS(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hx=new WeakMap,o0=new WeakMap,fx=new WeakMap,Sg=new WeakMap,W0=new WeakMap;function hS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(mu(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&hx.set(t,n)}).catch(()=>{}),W0.set(e,n),e}function fS(n){if(o0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});o0.set(n,e)}let l0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return o0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dS(n){l0=n(l0)}function pS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ag(this),e,...t);return fx.set(r,e.sort?e.sort():[e]),mu(r)}:cS().includes(n)?function(...e){return n.apply(Ag(this),e),mu(hx.get(this))}:function(...e){return mu(n.apply(Ag(this),e))}}function gS(n){return typeof n=="function"?pS(n):(n instanceof IDBTransaction&&fS(n),lS(n,uS())?new Proxy(n,l0):n)}function mu(n){if(n instanceof IDBRequest)return hS(n);if(Sg.has(n))return Sg.get(n);const e=gS(n);return e!==n&&(Sg.set(n,e),W0.set(e,n)),e}const Ag=n=>W0.get(n);function mS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),h=mu(c);return r&&c.addEventListener("upgradeneeded",f=>{r(mu(c.result),f.oldVersion,f.newVersion,mu(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const yS=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],Eg=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=vS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yS.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),s&&f.done]))[0]};return Eg.set(e,o),o}dS(n=>({...n,get:(e,t,r)=>yy(e,t)||n.get(e,t,r),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));class bS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function xS(n){return n.getComponent()?.type==="VERSION"}const u0="@firebase/app",vy="0.14.8";const Rl=new cx("@firebase/app"),_S="@firebase/app-compat",wS="@firebase/analytics-compat",SS="@firebase/analytics",AS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",CS="@firebase/auth-compat",NS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",jS="@firebase/functions",LS="@firebase/functions-compat",DS="@firebase/installations",kS="@firebase/installations-compat",MS="@firebase/messaging",OS="@firebase/messaging-compat",PS="@firebase/performance",zS="@firebase/performance-compat",FS="@firebase/remote-config",BS="@firebase/remote-config-compat",VS="@firebase/storage",US="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",GS="@firebase/firestore-compat",YS="firebase",WS="12.9.0";const c0="[DEFAULT]",$S={[u0]:"fire-core",[_S]:"fire-core-compat",[SS]:"fire-analytics",[wS]:"fire-analytics-compat",[ES]:"fire-app-check",[AS]:"fire-app-check-compat",[TS]:"fire-auth",[CS]:"fire-auth-compat",[NS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[jS]:"fire-fn",[LS]:"fire-fn-compat",[DS]:"fire-iid",[kS]:"fire-iid-compat",[MS]:"fire-fcm",[OS]:"fire-fcm-compat",[PS]:"fire-perf",[zS]:"fire-perf-compat",[FS]:"fire-rc",[BS]:"fire-rc-compat",[VS]:"fire-gcs",[US]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};const mp=new Map,KS=new Map,h0=new Map;function by(n,e){try{n.container.addComponent(e)}catch(t){Rl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rf(n){const e=n.name;if(h0.has(e))return Rl.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,n);for(const t of mp.values())by(t,n);for(const t of KS.values())by(t,n);return!0}function dx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function px(n){return n==null?!1:n.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yu=new ux("app","Firebase",QS);class XS{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}const gx=WS;function mx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:c0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw yu.create("bad-app-name",{appName:String(s)});if(t||(t=ax()),!t)throw yu.create("no-options");const o=mp.get(s);if(o){if(gp(t,o.options)&&gp(r,o.config))return o;throw yu.create("duplicate-app",{appName:s})}const c=new iS(s);for(const f of h0.values())c.addComponent(f);const h=new XS(t,r,c);return mp.set(s,h),h}function yx(n=c0){const e=mp.get(n);if(!e&&n===c0&&ax())return mx();if(!e)throw yu.create("no-app",{appName:n});return e}function vu(n,e,t){let r=$S[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rl.warn(c.join(" "));return}Rf(new gh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ZS="firebase-heartbeat-database",JS=1,If="firebase-heartbeat-store";let Tg=null;function vx(){return Tg||(Tg=mS(ZS,JS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(If)}catch(t){console.warn(t)}}}}).catch(n=>{throw yu.create("idb-open",{originalErrorMessage:n.message})})),Tg}async function eA(n){try{const t=(await vx()).transaction(If),r=await t.objectStore(If).get(bx(n));return await t.done,r}catch(e){if(e instanceof dc)Rl.warn(e.message);else{const t=yu.create("idb-get",{originalErrorMessage:e?.message});Rl.warn(t.message)}}}async function xy(n,e){try{const r=(await vx()).transaction(If,"readwrite");await r.objectStore(If).put(e,bx(n)),await r.done}catch(t){if(t instanceof dc)Rl.warn(t.message);else{const r=yu.create("idb-set",{originalErrorMessage:t?.message});Rl.warn(r.message)}}}function bx(n){return`${n.name}!${n.options.appId}`}const tA=1024,nA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_y();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>nA){const s=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_y(),{heartbeatsToSend:t,unsentEntries:r}=rA(this._heartbeatsCache.heartbeats),s=pp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Rl.warn(e),""}}}function _y(){return new Date().toISOString().substring(0,10)}function rA(n,e=tA){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),wy(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K3()?Q3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wy(n){return pp(JSON.stringify({version:2,heartbeats:n})).length}function sA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function oA(n){Rf(new gh("platform-logger",e=>new bS(e),"PRIVATE")),Rf(new gh("heartbeat",e=>new iA(e),"PRIVATE")),vu(u0,vy,n),vu(u0,vy,"esm2020"),vu("fire-js","")}oA("");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bu,xx;(function(){var n;function e($,O){function w(){}w.prototype=O.prototype,$.F=O.prototype,$.prototype=new w,$.prototype.constructor=$,$.D=function(q,I,N){for(var E=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)E[Q-2]=arguments[Q];return O.prototype[I].apply(q,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,O,w){w||(w=0);const q=Array(16);if(typeof O=="string")for(var I=0;I<16;++I)q[I]=O.charCodeAt(w++)|O.charCodeAt(w++)<<8|O.charCodeAt(w++)<<16|O.charCodeAt(w++)<<24;else for(I=0;I<16;++I)q[I]=O[w++]|O[w++]<<8|O[w++]<<16|O[w++]<<24;O=$.g[0],w=$.g[1],I=$.g[2];let N=$.g[3],E;E=O+(N^w&(I^N))+q[0]+3614090360&4294967295,O=w+(E<<7&4294967295|E>>>25),E=N+(I^O&(w^I))+q[1]+3905402710&4294967295,N=O+(E<<12&4294967295|E>>>20),E=I+(w^N&(O^w))+q[2]+606105819&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(O^I&(N^O))+q[3]+3250441966&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(N^w&(I^N))+q[4]+4118548399&4294967295,O=w+(E<<7&4294967295|E>>>25),E=N+(I^O&(w^I))+q[5]+1200080426&4294967295,N=O+(E<<12&4294967295|E>>>20),E=I+(w^N&(O^w))+q[6]+2821735955&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(O^I&(N^O))+q[7]+4249261313&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(N^w&(I^N))+q[8]+1770035416&4294967295,O=w+(E<<7&4294967295|E>>>25),E=N+(I^O&(w^I))+q[9]+2336552879&4294967295,N=O+(E<<12&4294967295|E>>>20),E=I+(w^N&(O^w))+q[10]+4294925233&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(O^I&(N^O))+q[11]+2304563134&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(N^w&(I^N))+q[12]+1804603682&4294967295,O=w+(E<<7&4294967295|E>>>25),E=N+(I^O&(w^I))+q[13]+4254626195&4294967295,N=O+(E<<12&4294967295|E>>>20),E=I+(w^N&(O^w))+q[14]+2792965006&4294967295,I=N+(E<<17&4294967295|E>>>15),E=w+(O^I&(N^O))+q[15]+1236535329&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(I^N&(w^I))+q[1]+4129170786&4294967295,O=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(O^w))+q[6]+3225465664&4294967295,N=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(N^O))+q[11]+643717713&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^O&(I^N))+q[0]+3921069994&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^N&(w^I))+q[5]+3593408605&4294967295,O=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(O^w))+q[10]+38016083&4294967295,N=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(N^O))+q[15]+3634488961&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^O&(I^N))+q[4]+3889429448&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^N&(w^I))+q[9]+568446438&4294967295,O=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(O^w))+q[14]+3275163606&4294967295,N=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(N^O))+q[3]+4107603335&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^O&(I^N))+q[8]+1163531501&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^N&(w^I))+q[13]+2850285829&4294967295,O=w+(E<<5&4294967295|E>>>27),E=N+(w^I&(O^w))+q[2]+4243563512&4294967295,N=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(N^O))+q[7]+1735328473&4294967295,I=N+(E<<14&4294967295|E>>>18),E=w+(N^O&(I^N))+q[12]+2368359562&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(w^I^N)+q[5]+4294588738&4294967295,O=w+(E<<4&4294967295|E>>>28),E=N+(O^w^I)+q[8]+2272392833&4294967295,N=O+(E<<11&4294967295|E>>>21),E=I+(N^O^w)+q[11]+1839030562&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^O)+q[14]+4259657740&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^N)+q[1]+2763975236&4294967295,O=w+(E<<4&4294967295|E>>>28),E=N+(O^w^I)+q[4]+1272893353&4294967295,N=O+(E<<11&4294967295|E>>>21),E=I+(N^O^w)+q[7]+4139469664&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^O)+q[10]+3200236656&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^N)+q[13]+681279174&4294967295,O=w+(E<<4&4294967295|E>>>28),E=N+(O^w^I)+q[0]+3936430074&4294967295,N=O+(E<<11&4294967295|E>>>21),E=I+(N^O^w)+q[3]+3572445317&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^O)+q[6]+76029189&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^N)+q[9]+3654602809&4294967295,O=w+(E<<4&4294967295|E>>>28),E=N+(O^w^I)+q[12]+3873151461&4294967295,N=O+(E<<11&4294967295|E>>>21),E=I+(N^O^w)+q[15]+530742520&4294967295,I=N+(E<<16&4294967295|E>>>16),E=w+(I^N^O)+q[2]+3299628645&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(I^(w|~N))+q[0]+4096336452&4294967295,O=w+(E<<6&4294967295|E>>>26),E=N+(w^(O|~I))+q[7]+1126891415&4294967295,N=O+(E<<10&4294967295|E>>>22),E=I+(O^(N|~w))+q[14]+2878612391&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~O))+q[5]+4237533241&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~N))+q[12]+1700485571&4294967295,O=w+(E<<6&4294967295|E>>>26),E=N+(w^(O|~I))+q[3]+2399980690&4294967295,N=O+(E<<10&4294967295|E>>>22),E=I+(O^(N|~w))+q[10]+4293915773&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~O))+q[1]+2240044497&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~N))+q[8]+1873313359&4294967295,O=w+(E<<6&4294967295|E>>>26),E=N+(w^(O|~I))+q[15]+4264355552&4294967295,N=O+(E<<10&4294967295|E>>>22),E=I+(O^(N|~w))+q[6]+2734768916&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~O))+q[13]+1309151649&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~N))+q[4]+4149444226&4294967295,O=w+(E<<6&4294967295|E>>>26),E=N+(w^(O|~I))+q[11]+3174756917&4294967295,N=O+(E<<10&4294967295|E>>>22),E=I+(O^(N|~w))+q[2]+718787259&4294967295,I=N+(E<<15&4294967295|E>>>17),E=w+(N^(I|~O))+q[9]+3951481745&4294967295,$.g[0]=$.g[0]+O&4294967295,$.g[1]=$.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,$.g[2]=$.g[2]+I&4294967295,$.g[3]=$.g[3]+N&4294967295}r.prototype.v=function($,O){O===void 0&&(O=$.length);const w=O-this.blockSize,q=this.C;let I=this.h,N=0;for(;N<O;){if(I==0)for(;N<=w;)s(this,$,N),N+=this.blockSize;if(typeof $=="string"){for(;N<O;)if(q[I++]=$.charCodeAt(N++),I==this.blockSize){s(this,q),I=0;break}}else for(;N<O;)if(q[I++]=$[N++],I==this.blockSize){s(this,q),I=0;break}}this.h=I,this.o+=O},r.prototype.A=function(){var $=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);$[0]=128;for(var O=1;O<$.length-8;++O)$[O]=0;O=this.o*8;for(var w=$.length-8;w<$.length;++w)$[w]=O&255,O/=256;for(this.v($),$=Array(16),O=0,w=0;w<4;++w)for(let q=0;q<32;q+=8)$[O++]=this.g[w]>>>q&255;return $};function o($,O){var w=h;return Object.prototype.hasOwnProperty.call(w,$)?w[$]:w[$]=O($)}function c($,O){this.h=O;const w=[];let q=!0;for(let I=$.length-1;I>=0;I--){const N=$[I]|0;q&&N==O||(w[I]=N,q=!1)}this.g=w}var h={};function f($){return-128<=$&&$<128?o($,function(O){return new c([O|0],O<0?-1:0)}):new c([$|0],$<0?-1:0)}function d($){if(isNaN($)||!isFinite($))return A;if($<0)return U(d(-$));const O=[];let w=1;for(let q=0;$>=w;q++)O[q]=$/w|0,w*=4294967296;return new c(O,0)}function v($,O){if($.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if($.charAt(0)=="-")return U(v($.substring(1),O));if($.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(O,8));let q=A;for(let N=0;N<$.length;N+=8){var I=Math.min(8,$.length-N);const E=parseInt($.substring(N,N+I),O);I<8?(I=d(Math.pow(O,I)),q=q.j(I).add(d(E))):(q=q.j(w),q=q.add(d(E)))}return q}var A=f(0),C=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(H(this))return-U(this).m();let $=0,O=1;for(let w=0;w<this.g.length;w++){const q=this.i(w);$+=(q>=0?q:4294967296+q)*O,O*=4294967296}return $},n.toString=function($){if($=$||10,$<2||36<$)throw Error("radix out of range: "+$);if(z(this))return"0";if(H(this))return"-"+U(this).toString($);const O=d(Math.pow($,6));var w=this;let q="";for(;;){const I=se(w,O).g;w=B(w,I.j(O));let N=((w.g.length>0?w.g[0]:w.h)>>>0).toString($);if(w=I,z(w))return N+q;for(;N.length<6;)N="0"+N;q=N+q}},n.i=function($){return $<0?0:$<this.g.length?this.g[$]:this.h};function z($){if($.h!=0)return!1;for(let O=0;O<$.g.length;O++)if($.g[O]!=0)return!1;return!0}function H($){return $.h==-1}n.l=function($){return $=B(this,$),H($)?-1:z($)?0:1};function U($){const O=$.g.length,w=[];for(let q=0;q<O;q++)w[q]=~$.g[q];return new c(w,~$.h).add(C)}n.abs=function(){return H(this)?U(this):this},n.add=function($){const O=Math.max(this.g.length,$.g.length),w=[];let q=0;for(let I=0;I<=O;I++){let N=q+(this.i(I)&65535)+($.i(I)&65535),E=(N>>>16)+(this.i(I)>>>16)+($.i(I)>>>16);q=E>>>16,N&=65535,E&=65535,w[I]=E<<16|N}return new c(w,w[w.length-1]&-2147483648?-1:0)};function B($,O){return $.add(U(O))}n.j=function($){if(z(this)||z($))return A;if(H(this))return H($)?U(this).j(U($)):U(U(this).j($));if(H($))return U(this.j(U($)));if(this.l(_)<0&&$.l(_)<0)return d(this.m()*$.m());const O=this.g.length+$.g.length,w=[];for(var q=0;q<2*O;q++)w[q]=0;for(q=0;q<this.g.length;q++)for(let I=0;I<$.g.length;I++){const N=this.i(q)>>>16,E=this.i(q)&65535,Q=$.i(I)>>>16,de=$.i(I)&65535;w[2*q+2*I]+=E*de,ne(w,2*q+2*I),w[2*q+2*I+1]+=N*de,ne(w,2*q+2*I+1),w[2*q+2*I+1]+=E*Q,ne(w,2*q+2*I+1),w[2*q+2*I+2]+=N*Q,ne(w,2*q+2*I+2)}for($=0;$<O;$++)w[$]=w[2*$+1]<<16|w[2*$];for($=O;$<2*O;$++)w[$]=0;return new c(w,0)};function ne($,O){for(;($[O]&65535)!=$[O];)$[O+1]+=$[O]>>>16,$[O]&=65535,O++}function ae($,O){this.g=$,this.h=O}function se($,O){if(z(O))throw Error("division by zero");if(z($))return new ae(A,A);if(H($))return O=se(U($),O),new ae(U(O.g),U(O.h));if(H(O))return O=se($,U(O)),new ae(U(O.g),O.h);if($.g.length>30){if(H($)||H(O))throw Error("slowDivide_ only works with positive integers.");for(var w=C,q=O;q.l($)<=0;)w=Se(w),q=Se(q);var I=je(w,1),N=je(q,1);for(q=je(q,2),w=je(w,2);!z(q);){var E=N.add(q);E.l($)<=0&&(I=I.add(w),N=E),q=je(q,1),w=je(w,1)}return O=B($,I.j(O)),new ae(I,O)}for(I=A;$.l(O)>=0;){for(w=Math.max(1,Math.floor($.m()/O.m())),q=Math.ceil(Math.log(w)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),N=d(w),E=N.j(O);H(E)||E.l($)>0;)w-=q,N=d(w),E=N.j(O);z(N)&&(N=C),I=I.add(N),$=B($,E)}return new ae(I,$)}n.B=function($){return se(this,$).h},n.and=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)&$.i(q);return new c(w,this.h&$.h)},n.or=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)|$.i(q);return new c(w,this.h|$.h)},n.xor=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)^$.i(q);return new c(w,this.h^$.h)};function Se($){const O=$.g.length+1,w=[];for(let q=0;q<O;q++)w[q]=$.i(q)<<1|$.i(q-1)>>>31;return new c(w,$.h)}function je($,O){const w=O>>5;O%=32;const q=$.g.length-w,I=[];for(let N=0;N<q;N++)I[N]=O>0?$.i(N+w)>>>O|$.i(N+w+1)<<32-O:$.i(N+w);return new c(I,$.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,bu=c}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _x,mf,wx,np,f0,Sx,Ax,Ex;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var R=0;R<g.length;++R){var D=g[R];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=t(this);function s(g,R){if(R)e:{var D=r;g=g.split(".");for(var J=0;J<g.length-1;J++){var Ee=g[J];if(!(Ee in D))break e;D=D[Ee]}g=g[g.length-1],J=D[g],R=R(J),R!=J&&R!=null&&e(D,g,{configurable:!0,writable:!0,value:R})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(R){var D=[],J;for(J in R)Object.prototype.hasOwnProperty.call(R,J)&&D.push([J,R[J]]);return D}});var o=o||{},c=this||self;function h(g){var R=typeof g;return R=="object"&&g!=null||R=="function"}function f(g,R,D){return g.call.apply(g.bind,arguments)}function d(g,R,D){return d=f,d.apply(null,arguments)}function v(g,R){var D=Array.prototype.slice.call(arguments,1);return function(){var J=D.slice();return J.push.apply(J,arguments),g.apply(this,J)}}function A(g,R){function D(){}D.prototype=R.prototype,g.Z=R.prototype,g.prototype=new D,g.prototype.constructor=g,g.Ob=function(J,Ee,De){for(var Xe=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Xe[Ut-2]=arguments[Ut];return R.prototype[Ee].apply(J,Xe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const R=g.length;if(R>0){const D=Array(R);for(let J=0;J<R;J++)D[J]=g[J];return D}return[]}function z(g,R){for(let J=1;J<arguments.length;J++){const Ee=arguments[J];var D=typeof Ee;if(D=D!="object"?D:Ee?Array.isArray(Ee)?"array":D:"null",D=="array"||D=="object"&&typeof Ee.length=="number"){D=g.length||0;const De=Ee.length||0;g.length=D+De;for(let Xe=0;Xe<De;Xe++)g[D+Xe]=Ee[Xe]}else g.push(Ee)}}class H{constructor(R,D){this.i=R,this.j=D,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function U(g){c.setTimeout(()=>{throw g},0)}function B(){var g=$;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}class ne{constructor(){this.h=this.g=null}add(R,D){const J=ae.get();J.set(R,D),this.h?this.h.next=J:this.g=J,this.h=J}}var ae=new H(()=>new se,g=>g.reset());class se{constructor(){this.next=this.g=this.h=null}set(R,D){this.h=R,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,je=!1,$=new ne,O=()=>{const g=Promise.resolve(void 0);Se=()=>{g.then(w)}};function w(){for(var g;g=B();){try{g.h.call(g.g)}catch(D){U(D)}var R=ae;R.j(g),R.h<100&&(R.h++,g.next=R.g,R.g=g)}je=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const D=()=>{};c.addEventListener("test",D,R),c.removeEventListener("test",D,R)}catch{}return g})();function E(g){return/^[\s\xa0]*$/.test(g)}function Q(g,R){I.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,R)}A(Q,I),Q.prototype.init=function(g,R){const D=this.type=g.type,J=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget,R||(D=="mouseover"?R=g.fromElement:D=="mouseout"&&(R=g.toElement)),this.relatedTarget=R,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),ie=0;function he(g,R,D,J,Ee){this.listener=g,this.proxy=null,this.src=R,this.type=D,this.capture=!!J,this.ha=Ee,this.key=++ie,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function pe(g,R,D){for(const J in g)R.call(D,g[J],J,g)}function Ce(g,R){for(const D in g)R.call(void 0,g[D],D,g)}function Z(g){const R={};for(const D in g)R[D]=g[D];return R}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(g,R){let D,J;for(let Ee=1;Ee<arguments.length;Ee++){J=arguments[Ee];for(D in J)g[D]=J[D];for(let De=0;De<k.length;De++)D=k[De],Object.prototype.hasOwnProperty.call(J,D)&&(g[D]=J[D])}}function Y(g){this.src=g,this.g={},this.h=0}Y.prototype.add=function(g,R,D,J,Ee){const De=g.toString();g=this.g[De],g||(g=this.g[De]=[],this.h++);const Xe=re(g,R,J,Ee);return Xe>-1?(R=g[Xe],D||(R.fa=!1)):(R=new he(R,this.src,De,!!J,Ee),R.fa=D,g.push(R)),R};function M(g,R){const D=R.type;if(D in g.g){var J=g.g[D],Ee=Array.prototype.indexOf.call(J,R,void 0),De;(De=Ee>=0)&&Array.prototype.splice.call(J,Ee,1),De&&(ee(R),g.g[D].length==0&&(delete g.g[D],g.h--))}}function re(g,R,D,J){for(let Ee=0;Ee<g.length;++Ee){const De=g[Ee];if(!De.da&&De.listener==R&&De.capture==!!D&&De.ha==J)return Ee}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),_e={};function me(g,R,D,J,Ee){if(Array.isArray(R)){for(let De=0;De<R.length;De++)me(g,R[De],D,J,Ee);return null}return D=Tt(D),g&&g[de]?g.J(R,D,h(J)?!!J.capture:!1,Ee):Me(g,R,D,!1,J,Ee)}function Me(g,R,D,J,Ee,De){if(!R)throw Error("Invalid event type");const Xe=h(Ee)?!!Ee.capture:!!Ee;let Ut=et(g);if(Ut||(g[fe]=Ut=new Y(g)),D=Ut.add(R,D,J,Xe,De),D.proxy)return D;if(J=We(),D.proxy=J,J.src=g,J.listener=D,g.addEventListener)N||(Ee=Xe),Ee===void 0&&(Ee=!1),g.addEventListener(R.toString(),J,Ee);else if(g.attachEvent)g.attachEvent(ct(R.toString()),J);else if(g.addListener&&g.removeListener)g.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return D}function We(){function g(D){return R.call(g.src,g.listener,D)}const R=oe;return g}function tt(g,R,D,J,Ee){if(Array.isArray(R))for(var De=0;De<R.length;De++)tt(g,R[De],D,J,Ee);else J=h(J)?!!J.capture:!!J,D=Tt(D),g&&g[de]?(g=g.i,De=String(R).toString(),De in g.g&&(R=g.g[De],D=re(R,D,J,Ee),D>-1&&(ee(R[D]),Array.prototype.splice.call(R,D,1),R.length==0&&(delete g.g[De],g.h--)))):g&&(g=et(g))&&(R=g.g[R.toString()],g=-1,R&&(g=re(R,D,J,Ee)),(D=g>-1?R[g]:null)&&nt(D))}function nt(g){if(typeof g!="number"&&g&&!g.da){var R=g.src;if(R&&R[de])M(R.i,g);else{var D=g.type,J=g.proxy;R.removeEventListener?R.removeEventListener(D,J,g.capture):R.detachEvent?R.detachEvent(ct(D),J):R.addListener&&R.removeListener&&R.removeListener(J),(D=et(R))?(M(D,g),D.h==0&&(D.src=null,R[fe]=null)):ee(g)}}}function ct(g){return g in _e?_e[g]:_e[g]="on"+g}function oe(g,R){if(g.da)g=!0;else{R=new Q(R,this);const D=g.listener,J=g.ha||g.src;g.fa&&nt(g),g=D.call(J,R)}return g}function et(g){return g=g[fe],g instanceof Y?g:null}var Yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(g){return typeof g=="function"?g:(g[Yt]||(g[Yt]=function(R){return g.handleEvent(R)}),g[Yt])}function Ue(){q.call(this),this.i=new Y(this),this.M=this,this.G=null}A(Ue,q),Ue.prototype[de]=!0,Ue.prototype.removeEventListener=function(g,R,D,J){tt(this,g,R,D,J)};function rt(g,R){var D,J=g.G;if(J)for(D=[];J;J=J.G)D.push(J);if(g=g.M,J=R.type||R,typeof R=="string")R=new I(R,g);else if(R instanceof I)R.target=R.target||g;else{var Ee=R;R=new I(J,g),P(R,Ee)}Ee=!0;let De,Xe;if(D)for(Xe=D.length-1;Xe>=0;Xe--)De=R.g=D[Xe],Ee=it(De,J,!0,R)&&Ee;if(De=R.g=g,Ee=it(De,J,!0,R)&&Ee,Ee=it(De,J,!1,R)&&Ee,D)for(Xe=0;Xe<D.length;Xe++)De=R.g=D[Xe],Ee=it(De,J,!1,R)&&Ee}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var g=this.i;for(const R in g.g){const D=g.g[R];for(let J=0;J<D.length;J++)ee(D[J]);delete g.g[R],g.h--}}this.G=null},Ue.prototype.J=function(g,R,D,J){return this.i.add(String(g),R,!1,D,J)},Ue.prototype.K=function(g,R,D,J){return this.i.add(String(g),R,!0,D,J)};function it(g,R,D,J){if(R=g.i.g[String(R)],!R)return!0;R=R.concat();let Ee=!0;for(let De=0;De<R.length;++De){const Xe=R[De];if(Xe&&!Xe.da&&Xe.capture==D){const Ut=Xe.listener,ti=Xe.ha||Xe.src;Xe.fa&&M(g.i,Xe),Ee=Ut.call(ti,J)!==!1&&Ee}}return Ee&&!J.defaultPrevented}function Nt(g,R){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:c.setTimeout(g,R||0)}function _t(g){g.g=Nt(()=>{g.g=null,g.i&&(g.i=!1,_t(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}class Wt extends q{constructor(R,D){super(),this.m=R,this.l=D,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(g){q.call(this),this.h=g,this.g={}}A(Zt,q);var Bt=[];function sn(g){pe(g.g,function(R,D){this.g.hasOwnProperty(D)&&nt(R)},g),g.g={}}Zt.prototype.N=function(){Zt.Z.N.call(this),sn(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=c.JSON.stringify,mt=c.JSON.parse,qt=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function vt(){}function fi(){}var Qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){I.call(this,"d")}A(Ct,I);function Pt(){I.call(this,"c")}A(Pt,I);var $t={},St=null;function In(){return St=St||new Ue}$t.Ia="serverreachability";function Mt(g){I.call(this,$t.Ia,g)}A(Mt,I);function Ot(g){const R=In();rt(R,new Mt(R))}$t.STAT_EVENT="statevent";function Dn(g,R){I.call(this,$t.STAT_EVENT,g),this.stat=R}A(Dn,I);function wt(g){const R=In();rt(R,new Dn(R,g))}$t.Ja="timingevent";function bt(g,R){I.call(this,$t.Ja,g),this.size=R}A(bt,I);function on(g,R){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},R)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function er(g,R,D,J,Ee,De){g.info(function(){if(g.g)if(De){var Xe="",Ut=De.split("&");for(let un=0;un<Ut.length;un++){var ti=Ut[un].split("=");if(ti.length>1){const On=ti[0];ti=ti[1];const rr=On.split("_");Xe=rr.length>=2&&rr[1]=="type"?Xe+(On+"="+ti+"&"):Xe+(On+"=redacted&")}}}else Xe=null;else Xe=De;return"XMLHTTP REQ ("+J+") [attempt "+Ee+"]: "+R+`
`+D+`
`+Xe})}function Ia(g,R,D,J,Ee,De,Xe){g.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ee+"]: "+R+`
`+D+`
`+De+" "+Xe})}function Gi(g,R,D,J){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+es(g,D)+(J?" "+J:"")})}function At(g,R){g.info(function(){return"TIMEOUT: "+R})}fr.prototype.info=function(){};function es(g,R){if(!g.g)return R;if(!R)return null;try{const De=JSON.parse(R);if(De){for(g=0;g<De.length;g++)if(Array.isArray(De[g])){var D=De[g];if(!(D.length<2)){var J=D[1];if(Array.isArray(J)&&!(J.length<1)){var Ee=J[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let Xe=1;Xe<J.length;Xe++)J[Xe]=""}}}}return Kt(De)}catch{return R}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function Un(){}A(Un,vt),Un.prototype.g=function(){return new XMLHttpRequest},Cr=new Un;function Jn(g){return encodeURIComponent(String(g))}function Mi(g){var R=1;g=g.split(":");const D=[];for(;R>0&&g.length;)D.push(g.shift()),R--;return g.length&&D.push(g.join(":")),D}function dr(g,R,D,J){this.j=g,this.i=R,this.l=D,this.S=J||1,this.V=new Zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var kn={},Wn={};function Oi(g,R,D){g.M=1,g.A=bs(_i(R)),g.u=D,g.R=!0,Nr(g,null)}function Nr(g,R){g.F=Date.now(),Rr(g),g.B=_i(g.A);var D=g.B,J=g.S;Array.isArray(J)||(J=[String(J)]),xo(D.i,"t",J),g.C=0,D=g.j.L,g.h=new tr,g.g=lt(g.j,D?R:null,!g.u),g.P>0&&(g.O=new Wt(d(g.Y,g,g.g),g.P)),R=g.V,D=g.g,J=g.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Bt[0]=Ee.toString()),Ee=Bt);for(let De=0;De<Ee.length;De++){const Xe=me(D,Ee[De],J||R.handleEvent,!1,R.h||R);if(!Xe)break;R.g[Xe.key]=Xe}R=g.J?Z(g.J):{},g.u?(g.v||(g.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,R)):(g.v="GET",g.g.ea(g.B,g.v,null,R)),Ot(),er(g.i,g.v,g.B,g.l,g.S,g.u)}dr.prototype.ba=function(g){g=g.target;const R=this.O;R&&$r(g)==3?R.j():this.Y(g)},dr.prototype.Y=function(g){try{if(g==this.g)e:{const Ut=$r(this.g),ti=this.g.ya(),un=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||Ri(this.g)))){this.K||Ut!=4||ti==7||(ti==8||un<=0?Ot(3):Ot(2)),qr(this);var R=this.g.ca();this.X=R;var D=aa(this);if(this.o=R==200,Ia(this.i,this.v,this.B,this.l,this.S,Ut,R),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Ee=this.g;if((J=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(J)){var De=J;break t}}De=null}if(g=De)Gi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,g);else{this.o=!1,this.m=3,wt(12),Hr(this),pr(this);break e}}if(this.R){g=!0;let On;for(;!this.K&&this.C<D.length;)if(On=xa(this,D),On==Wn){Ut==4&&(this.m=4,wt(14),g=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==kn){this.m=4,wt(15),Gi(this.i,this.l,D,"[Invalid Chunk]"),g=!1;break}else Gi(this.i,this.l,On,null),sa(this,On);if(vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||D.length!=0||this.h.h||(this.m=1,wt(16),g=!1),this.o=this.o&&g,!g)Gi(this.i,this.l,D,"[Invalid Chunked Response]"),Hr(this),pr(this);else if(D.length>0&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.aa&&!Xe.P&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Ao(Xe),Xe.P=!0,wt(11))}}else Gi(this.i,this.l,D,null),sa(this,D);Ut==4&&Hr(this),this.o&&!this.K&&(Ut==4?ue(this.j,this):(this.o=!1,Rr(this)))}else ja(this.g),R==400&&D.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Hr(this),pr(this)}}}catch{}};function aa(g){if(!vs(g))return g.g.la();const R=Ri(g.g);if(R==="")return"";let D="";const J=R.length,Ee=$r(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Hr(g),pr(g),"";g.h.i=new c.TextDecoder}for(let De=0;De<J;De++)g.h.h=!0,D+=g.h.i.decode(R[De],{stream:!(Ee&&De==J-1)});return R.length=0,g.h.g+=D,g.C=0,g.h.g}function vs(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function xa(g,R){var D=g.C,J=R.indexOf(`
`,D);return J==-1?Wn:(D=Number(R.substring(D,J)),isNaN(D)?kn:(J+=1,J+D>R.length?Wn:(R=R.slice(J,J+D),g.C=J+D,R)))}dr.prototype.cancel=function(){this.K=!0,Hr(this)};function Rr(g){g.T=Date.now()+g.H,ts(g,g.H)}function ts(g,R){if(g.D!=null)throw Error("WatchDog timer not null");g.D=on(d(g.aa,g),R)}function qr(g){g.D&&(c.clearTimeout(g.D),g.D=null)}dr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(At(this.i,this.B),this.M!=2&&(Ot(),wt(17)),Hr(this),this.m=2,pr(this)):ts(this,this.T-g)};function pr(g){g.j.I==0||g.K||ue(g.j,g)}function Hr(g){qr(g);var R=g.O;R&&typeof R.dispose=="function"&&R.dispose(),g.O=null,sn(g.V),g.g&&(R=g.g,g.g=null,R.abort(),R.dispose())}function sa(g,R){try{var D=g.j;if(D.I!=0&&(D.g==g||_a(D.h,g))){if(!g.L&&_a(D.h,g)&&D.I==3){try{var J=D.Ba.g.parse(R)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ee=J;if(Ee[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<g.F)F(D),Da(D);else break e;Aa(D),wt(18)}}else D.xa=Ee[1],0<D.xa-D.K&&Ee[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=on(d(D.Va,D),6e3));oa(D.h)<=1&&D.ta&&(D.ta=void 0)}else we(D,11)}else if((g.L||D.g==g)&&F(D),!E(R))for(Ee=D.Ba.g.parse(R),R=0;R<Ee.length;R++){let un=Ee[R];const On=un[0];if(!(On<=D.K))if(D.K=On,un=un[1],D.I==2)if(un[0]=="c"){D.M=un[1],D.ba=un[2];const rr=un[3];rr!=null&&(D.ka=rr,D.j.info("VER="+D.ka));const mr=un[4];mr!=null&&(D.za=mr,D.j.info("SVER="+D.za));const $n=un[5];$n!=null&&typeof $n=="number"&&$n>0&&(J=1.5*$n,D.O=J,D.j.info("backChannelRequestTimeoutMs_="+J)),J=D;const yr=g.g;if(yr){const Ea=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var De=J.h;De.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Bs(De,De.h),De.h=null))}if(J.G){const As=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(J.wa=As,vn(J.J,J.G,As))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-g.F,D.j.info("Handshake RTT: "+D.T+"ms")),J=D;var Xe=g;if(J.na=$e(J,J.L?J.ba:null,J.W),Xe.L){vo(J.h,Xe);var Ut=Xe,ti=J.O;ti&&(Ut.H=ti),Ut.D&&(qr(Ut),Rr(Ut)),J.g=Xe}else rl(J);D.i.length>0&&ua(D)}else un[0]!="stop"&&un[0]!="close"||we(D,7);else D.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?we(D,7):Ss(D):un[0]!="noop"&&D.l&&D.l.qa(un),D.A=0)}}Ot(4)}catch{}}var pi=class{constructor(g,R){this.g=g,this.map=R}};function yo(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ir(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function oa(g){return g.h?1:g.g?g.g.size:0}function _a(g,R){return g.h?g.h==R:g.g?g.g.has(R):!1}function Bs(g,R){g.g?g.g.add(R):g.h=R}function vo(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}yo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function bo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let R=g.i;for(const D of g.g.values())R=R.concat(D.G);return R}return _(g.i)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(g,R){if(g){g=g.split("&");for(let D=0;D<g.length;D++){const J=g[D].indexOf("=");let Ee,De=null;J>=0?(Ee=g[D].substring(0,J),De=g[D].substring(J+1)):Ee=g[D],R(Ee,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function nr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;g instanceof nr?(this.l=g.l,fn(this,g.j),this.o=g.o,this.g=g.g,ns(this,g.u),this.h=g.h,la(this,_o(g.i)),this.m=g.m):g&&(R=String(g).match(Zo))?(this.l=!1,fn(this,R[1]||"",!0),this.o=Ni(R[2]||""),this.g=Ni(R[3]||"",!0),ns(this,R[4]),this.h=Ni(R[5]||"",!0),la(this,R[6]||"",!0),this.m=Ni(R[7]||"")):(this.l=!1,this.i=new is(null,this.l))}nr.prototype.toString=function(){const g=[];var R=this.j;R&&g.push(oi(R,Vs,!0),":");var D=this.g;return(D||R=="file")&&(g.push("//"),(R=this.o)&&g.push(oi(R,Vs,!0),"@"),g.push(Jn(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&g.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&g.push("/"),g.push(oi(D,D.charAt(0)=="/"?Jo:kl,!0))),(D=this.i.toString())&&g.push("?",D),(D=this.m)&&g.push("#",oi(D,el)),g.join("")},nr.prototype.resolve=function(g){const R=_i(this);let D=!!g.j;D?fn(R,g.j):D=!!g.o,D?R.o=g.o:D=!!g.g,D?R.g=g.g:D=g.u!=null;var J=g.h;if(D)ns(R,g.u);else if(D=!!g.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Ee=R.h.lastIndexOf("/");Ee!=-1&&(J=R.h.slice(0,Ee+1)+J)}if(Ee=J,Ee==".."||Ee==".")J="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){J=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const De=[];for(let Xe=0;Xe<Ee.length;){const Ut=Ee[Xe++];Ut=="."?J&&Xe==Ee.length&&De.push(""):Ut==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),J&&Xe==Ee.length&&De.push("")):(De.push(Ut),J=!0)}J=De.join("/")}else J=Ee}return D?R.h=J:D=g.i.toString()!=="",D?la(R,_o(g.i)):D=!!g.m,D&&(R.m=g.m),R};function _i(g){return new nr(g)}function fn(g,R,D){g.j=D?Ni(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function ns(g,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);g.u=R}else g.u=null}function la(g,R,D){R instanceof is?(g.i=R,jr(g.i,g.l)):(D||(R=oi(R,gr)),g.i=new is(R,g.l))}function vn(g,R,D){g.i.set(R,D)}function bs(g){return vn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ni(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function oi(g,R,D){return typeof g=="string"?(g=encodeURI(g).replace(R,wi),D&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function wi(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Vs=/[#\/\?@]/g,kl=/[#\?:]/g,Jo=/[#\?]/g,gr=/[#\?@]/g,el=/#/g;function is(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function Yi(g){g.g||(g.g=new Map,g.h=0,g.i&&Gr(g.i,function(R,D){g.add(decodeURIComponent(R.replace(/\+/g," ")),D)}))}n=is.prototype,n.add=function(g,R){Yi(this),this.i=null,g=rs(this,g);let D=this.g.get(g);return D||this.g.set(g,D=[]),D.push(R),this.h+=1,this};function xs(g,R){Yi(g),R=rs(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function tl(g,R){return Yi(g),R=rs(g,R),g.g.has(R)}n.forEach=function(g,R){Yi(this),this.g.forEach(function(D,J){D.forEach(function(Ee){g.call(R,Ee,J,this)},this)},this)};function nl(g,R){Yi(g);let D=[];if(typeof R=="string")tl(g,R)&&(D=D.concat(g.g.get(rs(g,R))));else for(g=Array.from(g.g.values()),R=0;R<g.length;R++)D=D.concat(g[R]);return D}n.set=function(g,R){return Yi(this),this.i=null,g=rs(this,g),tl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},n.get=function(g,R){return g?(g=nl(this,g),g.length>0?String(g[0]):R):R};function xo(g,R,D){xs(g,R),D.length>0&&(g.i=null,g.g.set(rs(g,R),_(D)),g.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(let J=0;J<R.length;J++){var D=R[J];const Ee=Jn(D);D=nl(this,D);for(let De=0;De<D.length;De++){let Xe=Ee;D[De]!==""&&(Xe+="="+Jn(D[De])),g.push(Xe)}}return this.i=g.join("&")};function _o(g){const R=new is;return R.i=g.i,g.g&&(R.g=new Map(g.g),R.h=g.h),R}function rs(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function jr(g,R){R&&!g.j&&(Yi(g),g.i=null,g.g.forEach(function(D,J){const Ee=J.toLowerCase();J!=Ee&&(xs(this,J),xo(this,Ee,D))},g)),g.j=R}function wa(g,R){const D=new fr;if(c.Image){const J=new Image;J.onload=v(Lr,D,"TestLoadImage: loaded",!0,R,J),J.onerror=v(Lr,D,"TestLoadImage: error",!1,R,J),J.onabort=v(Lr,D,"TestLoadImage: abort",!1,R,J),J.ontimeout=v(Lr,D,"TestLoadImage: timeout",!1,R,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=g}else R(!1)}function as(g,R){const D=new fr,J=new AbortController,Ee=setTimeout(()=>{J.abort(),Lr(D,"TestPingServer: timeout",!1,R)},1e4);fetch(g,{signal:J.signal}).then(De=>{clearTimeout(Ee),De.ok?Lr(D,"TestPingServer: ok",!0,R):Lr(D,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ee),Lr(D,"TestPingServer: error",!1,R)})}function Lr(g,R,D,J,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),J(D)}catch{}}function _s(){this.g=new qt}function Rt(g){this.i=g.Sb||null,this.h=g.ab||!1}A(Rt,vt),Rt.prototype.g=function(){return new Us(this.i,this.h)};function Us(g,R){Ue.call(this),this.H=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Us,Ue),n=Us.prototype,n.open=function(g,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=R,this.readyState=1,Wi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(R.body=g),(this.H||c).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?ws(this):Wi(this),this.readyState==3&&wo(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,ws(this))},n.Na=function(g){this.g&&(this.response=g,ws(this))},n.ga=function(){this.g&&ws(this)};function ws(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Wi(g)}n.setRequestHeader=function(g,R){this.A.append(g,R)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var D=R.next();!D.done;)D=D.value,g.push(D[0]+": "+D[1]),D=R.next();return g.join(`\r
`)};function Wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pi(g){let R="";return pe(g,function(D,J){R+=J,R+=":",R+=D,R+=`\r
`}),R}function qs(g,R,D){e:{for(J in D){var J=!1;break e}J=!0}J||(D=Pi(D),typeof g=="string"?D!=null&&Jn(D):vn(g,R,D))}function Mn(g){Ue.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Mn,Ue);var Yr=/^https?$/i,Hs=["POST","PUT"];n=Mn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,R,D,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=C(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(De){Sa(this,De);return}if(g=D||"",D=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ee in J)D.set(Ee,J[Ee]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const De of J.keys())D.set(De,J.get(De));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(D.keys()).find(De=>De.toLowerCase()=="content-type"),Ee=c.FormData&&g instanceof c.FormData,!(Array.prototype.indexOf.call(Hs,R,void 0)>=0)||J||Ee||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Xe]of D)this.g.setRequestHeader(De,Xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(De){Sa(this,De)}};function Sa(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.o=5,il(g),ss(g)}function il(g){g.A||(g.A=!0,rt(g,"complete"),rt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,rt(this,"complete"),rt(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Mn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(g){if(g.h&&typeof o<"u"){if(g.v&&$r(g)==4)setTimeout(g.Ca.bind(g),0);else if(rt(g,"readystatechange"),$r(g)==4){g.h=!1;try{const De=g.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var D;if(!(D=R)){var J;if(J=De===0){let Xe=String(g.D).match(Zo)[1]||null;!Xe&&c.self&&c.self.location&&(Xe=c.self.location.protocol.slice(0,-1)),J=!Yr.test(Xe?Xe.toLowerCase():"")}D=J}if(D)rt(g,"complete"),rt(g,"success");else{g.o=6;try{var Ee=$r(g)>2?g.g.statusText:""}catch{Ee=""}g.l=Ee+" ["+g.ca()+"]",il(g)}}finally{ss(g)}}}}function ss(g,R){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const D=g.g;g.g=null,R||rt(g,"ready");try{D.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(g){return g.g?g.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var R=this.g.responseText;return g&&R.indexOf(g)==0&&(R=R.substring(g.length)),mt(R)}};function Ri(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ja(g){const R={};g=(g.g&&$r(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<g.length;J++){if(E(g[J]))continue;var D=Mi(g[J]);const Ee=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const De=R[Ee]||[];R[Ee]=De,De.push(D)}Ce(R,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(g,R,D){return D&&D.internalChannelParams&&D.internalChannelParams[g]||R}function La(g){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,g),this.Za=ir("retryDelaySeedMs",1e4,g),this.Ta=ir("forwardChannelMaxRetries",2,g),this.va=ir("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(g&&g.concurrentRequestLimit),this.Ba=new _s,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=La.prototype,n.ka=8,n.I=1,n.connect=function(g,R,D,J){wt(0),this.W=g,this.H=R||{},D&&J!==void 0&&(this.H.OSID=D,this.H.OAID=J),this.F=this.X,this.J=$e(this,null,this.W),ua(this)};function Ss(g){if(ka(g),g.I==3){var R=g.V++,D=_i(g.J);if(vn(D,"SID",g.M),vn(D,"RID",R),vn(D,"TYPE","terminate"),Kr(g,D),R=new dr(g,g.j,R),R.M=2,R.A=bs(_i(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(R.A.toString(),"")}catch{}!D&&c.Image&&(new Image().src=R.A,D=!0),D||(R.g=lt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Rr(R)}Fe(g)}function Da(g){g.g&&(Ao(g),g.g.cancel(),g.g=null)}function ka(g){Da(g),g.v&&(c.clearTimeout(g.v),g.v=null),F(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&c.clearTimeout(g.m),g.m=null)}function ua(g){if(!Ir(g.h)&&!g.m){g.m=!0;var R=g.Ea;Se||O(),je||(Se(),je=!0),$.add(R,g),g.D=0}}function Gs(g,R){return oa(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=R.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=on(d(g.Ea,g,R),ye(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Ee=new dr(this,this.j,g);let De=this.o;if(this.U&&(De?(De=Z(De),P(De,this.U)):De=this.U),this.u!==null||this.R||(Ee.J=De,De=null),this.S)e:{for(var R=0,D=0;D<this.i.length;D++){t:{var J=this.i[D];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(R+=J,R>4096){R=D;break e}if(R===4096||D===this.i.length-1){R=D+1;break e}}R=1e3}else R=1e3;R=Ma(this,Ee,R),D=_i(this.J),vn(D,"RID",g),vn(D,"CVER",22),this.G&&vn(D,"X-HTTP-Session-Id",this.G),Kr(this,D),De&&(this.R?R="headers="+Jn(Pi(De))+"&"+R:this.u&&qs(D,this.u,De)),Bs(this.h,Ee),this.Ra&&vn(D,"TYPE","init"),this.S?(vn(D,"$req",R),vn(D,"SID","null"),Ee.U=!0,Oi(Ee,D,null)):Oi(Ee,D,R),this.I=2}}else this.I==3&&(g?So(this,g):this.i.length==0||Ir(this.h)||So(this))};function So(g,R){var D;R?D=R.l:D=g.V++;const J=_i(g.J);vn(J,"SID",g.M),vn(J,"RID",D),vn(J,"AID",g.K),Kr(g,J),g.u&&g.o&&qs(J,g.u,g.o),D=new dr(g,g.j,D,g.D+1),g.u===null&&(D.J=g.o),R&&(g.i=R.G.concat(g.i)),R=Ma(g,D,1e3),D.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Bs(g.h,D),Oi(D,J,R)}function Kr(g,R){g.H&&pe(g.H,function(D,J){vn(R,J,D)}),g.l&&pe({},function(D,J){vn(R,J,D)})}function Ma(g,R,D){D=Math.min(g.i.length,D);const J=g.l?d(g.l.Ka,g.l,g):null;e:{var Ee=g.i;let Ut=-1;for(;;){const ti=["count="+D];Ut==-1?D>0?(Ut=Ee[0].g,ti.push("ofs="+Ut)):Ut=0:ti.push("ofs="+Ut);let un=!0;for(let On=0;On<D;On++){var De=Ee[On].g;const rr=Ee[On].map;if(De-=Ut,De<0)Ut=Math.max(0,Ee[On].g-100),un=!1;else try{De="req"+De+"_"||"";try{var Xe=rr instanceof Map?rr:Object.entries(rr);for(const[mr,$n]of Xe){let yr=$n;h($n)&&(yr=Kt($n)),ti.push(De+mr+"="+encodeURIComponent(yr))}}catch(mr){throw ti.push(De+"type="+encodeURIComponent("_badmap")),mr}}catch{J&&J(rr)}}if(un){Xe=ti.join("&");break e}}Xe=void 0}return g=g.i.splice(0,D),R.G=g,Xe}function rl(g){if(!g.g&&!g.v){g.Y=1;var R=g.Da;Se||O(),je||(Se(),je=!0),$.add(R,g),g.A=0}}function Aa(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=on(d(g.Da,g),ye(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=on(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Da(this),S(this))};function Ao(g){g.B!=null&&(c.clearTimeout(g.B),g.B=null)}function S(g){g.g=new dr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var R=_i(g.na);vn(R,"RID","rpc"),vn(R,"SID",g.M),vn(R,"AID",g.K),vn(R,"CI",g.F?"0":"1"),!g.F&&g.ia&&vn(R,"TO",g.ia),vn(R,"TYPE","xmlhttp"),Kr(g,R),g.u&&g.o&&qs(R,g.u,g.o),g.O&&(g.g.H=g.O);var D=g.g;g=g.ba,D.M=1,D.A=bs(_i(R)),D.u=null,D.R=!0,Nr(D,g)}n.Va=function(){this.C!=null&&(this.C=null,Da(this),Aa(this),wt(19))};function F(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function ue(g,R){var D=null;if(g.g==R){F(g),Ao(g),g.g=null;var J=2}else if(_a(g.h,R))D=R.G,vo(g.h,R),J=1;else return;if(g.I!=0){if(R.o)if(J==1){D=R.u?R.u.length:0,R=Date.now()-R.F;var Ee=g.D;J=In(),rt(J,new bt(J,D)),ua(g)}else rl(g);else if(Ee=R.m,Ee==3||Ee==0&&R.X>0||!(J==1&&Gs(g,R)||J==2&&Aa(g)))switch(D&&D.length>0&&(R=g.h,R.i=R.i.concat(D)),Ee){case 1:we(g,5);break;case 4:we(g,10);break;case 3:we(g,6);break;default:we(g,2)}}}function ye(g,R){let D=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(D*=2),D*R}function we(g,R){if(g.j.info("Error code "+R),R==2){var D=d(g.bb,g),J=g.Ua;const Ee=!J;J=new nr(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fn(J,"https"),bs(J),Ee?wa(J.toString(),D):as(J.toString(),D)}else wt(2);g.I=0,g.l&&g.l.pa(R),Fe(g),ka(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Fe(g){if(g.I=0,g.ja=[],g.l){const R=bo(g.h);(R.length!=0||g.i.length!=0)&&(z(g.ja,R),z(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function $e(g,R,D){var J=D instanceof nr?_i(D):new nr(D);if(J.g!="")R&&(J.g=R+"."+J.g),ns(J,J.u);else{var Ee=c.location;J=Ee.protocol,R=R?R+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const De=new nr(null);J&&fn(De,J),R&&(De.g=R),Ee&&ns(De,Ee),D&&(De.h=D),J=De}return D=g.G,R=g.wa,D&&R&&vn(J,D,R),vn(J,"VER",g.ka),Kr(g,J),J}function lt(g,R,D){if(R&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=g.Aa&&!g.ma?new Mn(new Rt({ab:D})):new Mn(g.ma),R.Fa(g.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function jt(){}jt.prototype.g=function(g,R){return new Et(g,R)};function Et(g,R){Ue.call(this),this.g=new La(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(g?g["X-WebChannel-Client-Profile"]=R.sa:g={"X-WebChannel-Client-Profile":R.sa}),this.g.U=g,(g=R&&R.Qb)&&!E(g)&&(this.g.u=g),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!E(R)&&(this.g.G=R,g=this.h,g!==null&&R in g&&(g=this.h,R in g&&delete g[R])),this.j=new qn(this)}A(Et,Ue),Et.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Ss(this.g)},Et.prototype.o=function(g){var R=this.g;if(typeof g=="string"){var D={};D.__data__=g,g=D}else this.v&&(D={},D.__data__=Kt(g),g=D);R.i.push(new pi(R.Ya++,g)),R.I==3&&ua(R)},Et.prototype.N=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,Et.Z.N.call(this)};function dn(g){Ct.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){e:{for(const D in R){g=D;break e}g=void 0}(this.i=g)&&(g=this.i,R=R!==null&&g in R?R[g]:void 0),this.data=R}else this.data=g}A(dn,Ct);function ei(){Pt.call(this),this.status=1}A(ei,Pt);function qn(g){this.g=g}A(qn,dt),qn.prototype.ra=function(){rt(this.g,"a")},qn.prototype.qa=function(g){rt(this.g,new dn(g))},qn.prototype.pa=function(g){rt(this.g,new ei)},qn.prototype.oa=function(){rt(this.g,"b")},jt.prototype.createWebChannel=jt.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Ex=function(){return new jt},Ax=function(){return In()},Sx=$t,f0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,np=Ur,Tr.COMPLETE="complete",wx=Tr,fi.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,mf=fi,Mn.prototype.listenOnce=Mn.prototype.K,Mn.prototype.getLastError=Mn.prototype.Ha,Mn.prototype.getLastErrorCode=Mn.prototype.ya,Mn.prototype.getStatus=Mn.prototype.ca,Mn.prototype.getResponseJson=Mn.prototype.La,Mn.prototype.getResponseText=Mn.prototype.la,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Fa,_x=Mn}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});let va=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");let wh="12.9.0";function lA(n){wh=n}const sc=new cx("@firebase/firestore");function th(){return sc.logLevel}function ut(n,...e){if(sc.logLevel<=Rn.DEBUG){const t=e.map($0);sc.debug(`Firestore (${wh}): ${n}`,...t)}}function Il(n,...e){if(sc.logLevel<=Rn.ERROR){const t=e.map($0);sc.error(`Firestore (${wh}): ${n}`,...t)}}function oc(n,...e){if(sc.logLevel<=Rn.WARN){const t=e.map($0);sc.warn(`Firestore (${wh}): ${n}`,...t)}}function $0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Vt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Tx(n,r,t)}function Tx(n,e,t){let r=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Il(r),new Error(r)}function Yn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Tx(e,s,r)}function rn(n,e){return n}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends dc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Cx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(va.UNAUTHENTICATED)))}shutdown(){}}class cA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xu,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string",31837,{l:r}),new Cx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yn(e===null||typeof e=="string",2055,{h:e}),new va(e)}}class fA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=va.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class dA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ay{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,px(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yn(this.o===void 0,3512);const r=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ay(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Yn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ay(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class K0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function d0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return Cg(s)===Cg(o)?_n(s,o):Cg(s)?1:-1}return _n(n.length,e.length)}const mA=55296,yA=57343;function Cg(n){const e=n.charCodeAt(0);return e>=mA&&e<=yA}function mh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const Ey="__name__";class Vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Vt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Vt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Vo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return _n(e.length,t.length)}static compareSegments(e,t){const r=Vo.isNumericId(e),s=Vo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vo.extractNumericId(e).compare(Vo.extractNumericId(t)):d0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}}class di extends Vo{construct(e,t,r){return new di(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new di(t)}static emptyPath(){return new di([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends Vo{construct(e,t,r){return new ia(e,t,r)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ey}static keyField(){return new ia([Ey])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new at(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new at(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(r+=h,s++):(o(),s++)}if(o(),c)throw new at(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ia(t)}static emptyPath(){return new ia([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(di.fromString(e))}static fromName(e){return new kt(di.fromString(e).popFirst(5))}static empty(){return new kt(di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&di.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new di(e.slice()))}}function Nx(n,e,t){if(!t)throw new at(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bA(n,e,t,r){if(e===!0&&r===!0)throw new at(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ty(n){if(!kt.isDocumentKey(n))throw new at(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(kt.isDocumentKey(n))throw new at(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Vt(12329,{type:typeof n})}function Ho(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vp(n);throw new at(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bf(n,e){if(!Rx(n))throw new at(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new at(Ge.INVALID_ARGUMENT,t);return!0}const Ny=-62135596800,Ry=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ry);return new bi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ny)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bf(e,bi._jsonSchema))return new bi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bi._jsonSchemaVersion="firestore/timestamp/1.0",bi._jsonSchema={type:cr("string",bi._jsonSchemaVersion),seconds:cr("number"),nanoseconds:cr("number")};class Xt{static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new bi(0,0))}static max(){return new Xt(new bi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jf=-1;function xA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Xt.fromTimestamp(r===1e9?new bi(t+1,0):new bi(t,r));return new Eu(s,kt.empty(),e)}function _A(n){return new Eu(n.readTime,n.key,jf)}class Eu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eu(Xt.min(),kt.empty(),jf)}static max(){return new Eu(Xt.max(),kt.empty(),jf)}}function wA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=kt.comparator(n.documentKey,e.documentKey),t!==0?t:_n(n.largestBatchId,e.largestBatchId))}const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sh(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==SA)throw n;ut("LocalStore","Unexpectedly lost primary lease")}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let s=0,o=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++o,c&&o===s&&t()}),(f=>r(f)))})),c=!0,o===s&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((s=>s?Ke.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,s)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((v=>{c[d]=v,++h,h===o&&r(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new Ke(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function EA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ah(n){return n.name==="IndexedDbTransactionError"}class Up{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Up.ce=-1;const Q0=-1;function qp(n){return n==null}function yp(n){return n===0&&1/n==-1/0}function TA(n){return typeof n=="number"&&Number.isInteger(n)&&!yp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ix="";function CA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Iy(e)),e=NA(n.get(t),e);return Iy(e)}function NA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Ix:t+="";break;default:t+=o}}return t}function Iy(n){return n+Ix+""}function jy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ki{constructor(e,t){this.comparator=e,this.root=t||na.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,na.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class na{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??na.RED,this.left=s??na.EMPTY,this.right=o??na.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new na(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return na.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return na.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,na.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,na.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}}na.EMPTY=null,na.RED=!0,na.BLACK=!1;na.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new na(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(ia.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Er(ia.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ra{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lx("Invalid base64 string: "+o):o}})(e);return new ra(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new ra(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ra.EMPTY_BYTE_STRING=new ra("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tu(n){if(Yn(!!n,39018),typeof n=="string"){let e=0;const t=RA.exec(n);if(Yn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cu(n){return typeof n=="string"?ra.fromBase64String(n):ra.fromUint8Array(n)}const Dx="server_timestamp",kx="__type__",Mx="__previous_value__",Ox="__local_write_time__";function X0(n){return(n?.mapValue?.fields||{})[kx]?.stringValue===Dx}function Hp(n){const e=n.mapValue.fields[Mx];return X0(e)?Hp(e):e}function Lf(n){const e=Tu(n.mapValue.fields[Ox].timestampValue);return new bi(e.seconds,e.nanos)}class IA{constructor(e,t,r,s,o,c,h,f,d,v,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v,this.apiKey=A}}const vp="(default)";class Df{constructor(e,t){this.projectId=e,this.database=t||vp}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===vp}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}function jA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new at(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(n.options.projectId,e)}const Px="__type__",LA="__max__",Ud={mapValue:{}},zx="__vector__",bp="value";function Nu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:kA(n)?9007199254740991:DA(n)?10:11:Vt(28295,{value:n})}function $o(n,e){if(n===e)return!0;const t=Nu(n);if(t!==Nu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lf(n).isEqual(Lf(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Tu(s.timestampValue),h=Tu(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Cu(s.bytesValue).isEqual(Cu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Qi(s.geoPointValue.latitude)===Qi(o.geoPointValue.latitude)&&Qi(s.geoPointValue.longitude)===Qi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Qi(s.integerValue)===Qi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Qi(s.doubleValue),h=Qi(o.doubleValue);return c===h?yp(c)===yp(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return mh(n.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},h=o.mapValue.fields||{};if(jy(c)!==jy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!$o(c[f],h[f])))return!1;return!0})(n,e);default:return Vt(52216,{left:n})}}function kf(n,e){return(n.values||[]).find((t=>$o(t,e)))!==void 0}function yh(n,e){if(n===e)return 0;const t=Nu(n),r=Nu(e);if(t!==r)return _n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Qi(o.integerValue||o.doubleValue),f=Qi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Dy(n.timestampValue,e.timestampValue);case 4:return Dy(Lf(n),Lf(e));case 5:return d0(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Cu(o),f=Cu(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=_n(h[d],f[d]);if(v!==0)return v}return _n(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=_n(Qi(o.latitude),Qi(c.latitude));return h!==0?h:_n(Qi(o.longitude),Qi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ky(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[bp]?.arrayValue,v=f[bp]?.arrayValue,A=_n(d?.values?.length||0,v?.values?.length||0);return A!==0?A:ky(d,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Ud.mapValue&&c===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(c===Ud.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const C=d0(f[A],v[A]);if(C!==0)return C;const _=yh(h[f[A]],d[v[A]]);if(_!==0)return _}return _n(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Vt(23264,{he:t})}}function Dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _n(n,e);const t=Tu(n),r=Tu(e),s=_n(t.seconds,r.seconds);return s!==0?s:_n(t.nanos,r.nanos)}function ky(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=yh(t[s],r[s]);if(o)return o}return _n(t.length,r.length)}function vh(n){return p0(n)}function p0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Tu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Cu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return kt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=p0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${p0(t.fields[c])}`;return s+"}"})(n.mapValue):Vt(61005,{value:n})}function ip(n){switch(Nu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hp(n);return e?16+ip(e):16;case 5:return 2*n.stringValue.length;case 6:return Cu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+ip(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Lu(r.fields,((o,c)=>{s+=o.length+ip(c)})),s})(n.mapValue);default:throw Vt(13486,{value:n})}}function My(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function g0(n){return!!n&&"integerValue"in n}function Z0(n){return!!n&&"arrayValue"in n}function Oy(n){return!!n&&"nullValue"in n}function Py(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rp(n){return!!n&&"mapValue"in n}function DA(n){return(n?.mapValue?.fields||{})[Px]?.stringValue===zx}function _f(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Lu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=_f(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_f(n.arrayValue.values[t]);return e}return{...n}}function kA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LA}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(t)}setAll(e){let t=ia.emptyPath(),r={},s=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}c?r[h.lastSegment()]=_f(c):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];rp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Lu(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Za(_f(this.value))}}function Fx(n){const e=[];return Lu(n.fields,((t,r)=>{const s=new ia([t]);if(rp(r)){const o=Fx(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new ms(e)}class ba{constructor(e,t,r,s,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ba(e,0,Xt.min(),Xt.min(),Xt.min(),Za.empty(),0)}static newFoundDocument(e,t,r,s){return new ba(e,1,t,Xt.min(),r,s,0)}static newNoDocument(e,t){return new ba(e,2,t,Xt.min(),Xt.min(),Za.empty(),0)}static newUnknownDocument(e,t){return new ba(e,3,t,Xt.min(),Xt.min(),Za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ba&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ba(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xp{constructor(e,t){this.position=e,this.inclusive=t}}function zy(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=kt.comparator(kt.fromName(c.referenceValue),t.key):r=yh(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$o(n.position[t],e.position[t]))return!1;return!0}class Mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function MA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Bx{}class ur extends Bx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new PA(e,t,r):t==="array-contains"?new BA(e,r):t==="in"?new VA(e,r):t==="not-in"?new UA(e,r):t==="array-contains-any"?new qA(e,r):new ur(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zA(e,r):new FA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yh(t,this.value)):t!==null&&Nu(this.value)===Nu(t)&&this.matchesComparison(yh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends Bx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fo(e,t)}matches(e){return Vx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vx(n){return n.op==="and"}function Ux(n){return OA(n)&&Vx(n)}function OA(n){for(const e of n.filters)if(e instanceof fo)return!1;return!0}function m0(n){if(n instanceof ur)return n.field.canonicalString()+n.op.toString()+vh(n.value);if(Ux(n))return n.filters.map((e=>m0(e))).join(",");{const e=n.filters.map((t=>m0(t))).join(",");return`${n.op}(${e})`}}function qx(n,e){return n instanceof ur?(function(r,s){return s instanceof ur&&r.op===s.op&&r.field.isEqual(s.field)&&$o(r.value,s.value)})(n,e):n instanceof fo?(function(r,s){return s instanceof fo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,h)=>o&&qx(c,s.filters[h])),!0):!1})(n,e):void Vt(19439)}function Hx(n){return n instanceof ur?(function(t){return`${t.field.canonicalString()} ${t.op} ${vh(t.value)}`})(n):n instanceof fo?(function(t){return t.op.toString()+" {"+t.getFilters().map(Hx).join(" ,")+"}"})(n):"Filter"}class PA extends ur{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class zA extends ur{constructor(e,t){super(e,"in",t),this.keys=Gx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class FA extends ur{constructor(e,t){super(e,"not-in",t),this.keys=Gx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Gx(n,e){return(e.arrayValue?.values||[]).map((t=>kt.fromName(t.referenceValue)))}class BA extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z0(t)&&kf(t.arrayValue,this.value)}}class VA extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kf(this.value.arrayValue,t)}}class UA extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kf(this.value.arrayValue,t)}}class qA extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>kf(this.value.arrayValue,r)))}}class HA{constructor(e,t=null,r=[],s=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function By(n,e=null,t=[],r=[],s=null,o=null,c=null){return new HA(n,e,t,r,s,o,c)}function J0(n){const e=rn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>m0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),qp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>vh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>vh(r))).join(",")),e.Te=t}return e.Te}function em(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fy(n.startAt,e.startAt)&&Fy(n.endAt,e.endAt)}function y0(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Eh{constructor(e,t=null,r=[],s=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GA(n,e,t,r,s,o,c,h){return new Eh(n,e,t,r,s,o,c,h)}function tm(n){return new Eh(n)}function Vy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YA(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Yx(n){return n.collectionGroup!==null}function wf(n){const e=rn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Er(ia.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Mf(o,r))})),t.has(ia.keyField().canonicalString())||e.Ie.push(new Mf(ia.keyField(),r))}return e.Ie}function Go(n){const e=rn(n);return e.Ee||(e.Ee=WA(e,wf(n))),e.Ee}function WA(n,e){if(n.limitType==="F")return By(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Mf(s.field,o)}));const t=n.endAt?new xp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xp(n.startAt.position,n.startAt.inclusive):null;return By(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function v0(n,e){const t=n.filters.concat([e]);return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $A(n,e){const t=n.explicitOrderBy.concat([e]);return new Eh(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function _p(n,e,t){return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gp(n,e){return em(Go(n),Go(e))&&n.limitType===e.limitType}function Wx(n){return`${J0(Go(n))}|lt:${n.limitType}`}function nh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>Hx(s))).join(", ")}]`),qp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>vh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>vh(s))).join(",")),`Target(${r})`})(Go(n))}; limitType=${n.limitType})`}function Yp(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):kt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of wf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,h,f){const d=zy(c,h,f);return c.inclusive?d<=0:d<0})(r.startAt,wf(r),s)||r.endAt&&!(function(c,h,f){const d=zy(c,h,f);return c.inclusive?d>=0:d>0})(r.endAt,wf(r),s))})(n,e)}function KA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $x(n){return(e,t)=>{let r=!1;for(const s of wf(n)){const o=QA(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function QA(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?yh(f,d):Vt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:n.dir})}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lu(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return jx(this.inner)}size(){return this.innerSize}}const XA=new ki(kt.comparator);function jl(){return XA}const Kx=new ki(kt.comparator);function yf(...n){let e=Kx;for(const t of n)e=e.insert(t.key,t);return e}function Qx(n){let e=Kx;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function tc(){return Sf()}function Xx(){return Sf()}function Sf(){return new pc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const ZA=new ki(kt.comparator),JA=new Er(kt.comparator);function wn(...n){let e=JA;for(const t of n)e=e.add(t);return e}const e6=new Er(_n);function t6(){return e6}function nm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function Zx(n){return{integerValue:""+n}}function n6(n,e){return TA(e)?Zx(e):nm(n,e)}class Wp{constructor(){this._=void 0}}function i6(n,e,t){return n instanceof wp?(function(s,o){const c={fields:{[kx]:{stringValue:Dx},[Ox]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&X0(o)&&(o=Hp(o)),o&&(c.fields[Mx]=o),{mapValue:c}})(t,e):n instanceof Of?e_(n,e):n instanceof Pf?t_(n,e):(function(s,o){const c=Jx(s,o),h=Uy(c)+Uy(s.Ae);return g0(c)&&g0(s.Ae)?Zx(h):nm(s.serializer,h)})(n,e)}function r6(n,e,t){return n instanceof Of?e_(n,e):n instanceof Pf?t_(n,e):t}function Jx(n,e){return n instanceof Sp?(function(r){return g0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class wp extends Wp{}class Of extends Wp{constructor(e){super(),this.elements=e}}function e_(n,e){const t=n_(e);for(const r of n.elements)t.some((s=>$o(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Pf extends Wp{constructor(e){super(),this.elements=e}}function t_(n,e){let t=n_(e);for(const r of n.elements)t=t.filter((s=>!$o(s,r)));return{arrayValue:{values:t}}}class Sp extends Wp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Uy(n){return Qi(n.integerValue||n.doubleValue)}function n_(n){return Z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function a6(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Of&&s instanceof Of||r instanceof Pf&&s instanceof Pf?mh(r.elements,s.elements,$o):r instanceof Sp&&s instanceof Sp?$o(r.Ae,s.Ae):r instanceof wp&&s instanceof wp})(n.transform,e.transform)}class s6{constructor(e,t){this.version=e,this.transformResults=t}}class uo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $p{}function i_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new im(n.key,uo.none()):new Vf(n.key,n.data,uo.none());{const t=n.data,r=Za.empty();let s=new Er(ia.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Du(n.key,r,new ms(s.toArray()),uo.none())}}function o6(n,e,t){n instanceof Vf?(function(s,o,c){const h=s.value.clone(),f=Hy(s.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Du?(function(s,o,c){if(!ap(s.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Hy(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(r_(s)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Af(n,e,t,r){return n instanceof Vf?(function(o,c,h,f){if(!ap(o.precondition,c))return h;const d=o.value.clone(),v=Gy(o.fieldTransforms,f,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Du?(function(o,c,h,f){if(!ap(o.precondition,c))return h;const d=Gy(o.fieldTransforms,f,c),v=c.data;return v.setAll(r_(o)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(o,c,h){return ap(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function l6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=Jx(r.transform,s||null);o!=null&&(t===null&&(t=Za.empty()),t.set(r.field,o))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mh(r,s,((o,c)=>a6(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vf extends $p{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Du extends $p{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Hy(n,e,t){const r=new Map;Yn(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,h=e.data.field(o.field);r.set(o.field,r6(c,h,t[s]))}return r}function Gy(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,i6(o,c,e))}return r}class im extends $p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u6 extends $p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c6{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&o6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xx();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(s.key)?null:h;const f=i_(c,h);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Xt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),wn())}isEqual(e){return this.batchId===e.batchId&&mh(this.mutations,e.mutations,((t,r)=>qy(t,r)))&&mh(this.baseMutations,e.baseMutations,((t,r)=>qy(t,r)))}}class rm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Yn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return ZA})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new rm(e,t,r,s)}}class h6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f6{constructor(e,t){this.count=e,this.unchangedNames=t}}var lr,Nn;function d6(n){switch(n){case Ge.OK:return Vt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Vt(15467,{code:n})}}function a_(n){if(n===void 0)return Il("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case lr.OK:return Ge.OK;case lr.CANCELLED:return Ge.CANCELLED;case lr.UNKNOWN:return Ge.UNKNOWN;case lr.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case lr.INTERNAL:return Ge.INTERNAL;case lr.UNAVAILABLE:return Ge.UNAVAILABLE;case lr.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case lr.NOT_FOUND:return Ge.NOT_FOUND;case lr.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case lr.ABORTED:return Ge.ABORTED;case lr.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case lr.DATA_LOSS:return Ge.DATA_LOSS;default:return Vt(39323,{code:n})}}(Nn=lr||(lr={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";function p6(){return new TextEncoder}const g6=new bu([4294967295,4294967295],0);function Yy(n){const e=p6().encode(n),t=new xx;return t.update(e),new Uint8Array(t.digest())}function Wy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bu([t,r],0),new bu([s,o],0)]}class am{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vf(`Invalid padding: ${t}`);if(r<0)throw new vf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(bu.fromNumber(r)));return s.compare(g6)===1&&(s=new bu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yy(e),[r,s]=Wy(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new am(o,s,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Yy(e),[r,s]=Wy(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kp(Xt.min(),s,new ki(_n),jl(),wn())}}class Uf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uf(r,t,wn(),wn(),wn())}}class sp{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class s_{constructor(e,t){this.targetId=e,this.Ce=t}}class o_{constructor(e,t,r=ra.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class $y{constructor(){this.ve=0,this.Fe=Ky(),this.Me=ra.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wn(),t=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Vt(38017,{changeType:o})}})),new Uf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Ky()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Yn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class m6{constructor(e){this.Ge=e,this.ze=new Map,this.je=jl(),this.He=qd(),this.Je=qd(),this.Ze=new ki(_n)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Vt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(y0(o))if(r===0){const c=new kt(o.path);this.et(t,c,ba.newNoDocument(c,Xt.min()))}else Yn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,h;try{c=Cu(r).toUint8Array()}catch(f){if(f instanceof Lx)return oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new am(c,s,o)}catch(f){return oc(f instanceof vf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&y0(h.target)){const f=new kt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ba.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=wn();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Kp(e,t,this.Ze,this.je,r);return this.je=jl(),this.He=qd(),this.Je=qd(),this.Ze=new ki(_n),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new $y,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Er(_n),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Er(_n),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ut("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qd(){return new ki(kt.comparator)}function Ky(){return new ki(kt.comparator)}const y6={asc:"ASCENDING",desc:"DESCENDING"},v6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b6={and:"AND",or:"OR"};class x6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function b0(n,e){return n.useProto3Json||qp(e)?e:{value:e}}function Ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _6(n,e){return Ap(n,e.toTimestamp())}function Yo(n){return Yn(!!n,49232),Xt.fromTimestamp((function(t){const r=Tu(t);return new bi(r.seconds,r.nanos)})(n))}function sm(n,e){return x0(n,e).canonicalString()}function x0(n,e){const t=(function(s){return new di(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function u_(n){const e=di.fromString(n);return Yn(p_(e),10190,{key:e.toString()}),e}function _0(n,e){return sm(n.databaseId,e.path)}function Ng(n,e){const t=u_(e);if(t.get(1)!==n.databaseId.projectId)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(h_(t))}function c_(n,e){return sm(n.databaseId,e)}function w6(n){const e=u_(n);return e.length===4?di.emptyPath():h_(e)}function w0(n){return new di(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h_(n){return Yn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qy(n,e,t){return{name:_0(n,e),fields:t.value.mapValue.fields}}function S6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Vt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(Yn(v===void 0||typeof v=="string",58123),ra.fromBase64String(v||"")):(Yn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ra.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(d){const v=d.code===void 0?Ge.UNKNOWN:a_(d.code);return new at(v,d.message||"")})(c);t=new o_(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ng(n,r.document.name),o=Yo(r.document.updateTime),c=r.document.createTime?Yo(r.document.createTime):Xt.min(),h=new Za({mapValue:{fields:r.document.fields}}),f=ba.newFoundDocument(s,o,c,h),d=r.targetIds||[],v=r.removedTargetIds||[];t=new sp(d,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ng(n,r.document),o=r.readTime?Yo(r.readTime):Xt.min(),c=ba.newNoDocument(s,o),h=r.removedTargetIds||[];t=new sp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ng(n,r.document),o=r.removedTargetIds||[];t=new sp([],o,s,null)}else{if(!("filter"in e))return Vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new f6(s,o),h=r.targetId;t=new s_(h,c)}}return t}function A6(n,e){let t;if(e instanceof Vf)t={update:Qy(n,e.key,e.value)};else if(e instanceof im)t={delete:_0(n,e.key)};else if(e instanceof Du)t={update:Qy(n,e.key,e.data),updateMask:D6(e.fieldMask)};else{if(!(e instanceof u6))return Vt(16599,{dt:e.type});t={verify:_0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof wp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Of)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Vt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:_6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Vt(27497)})(n,e.precondition)),t}function E6(n,e){return n&&n.length>0?(Yn(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?Yo(s.updateTime):Yo(o);return c.isEqual(Xt.min())&&(c=Yo(o)),new s6(c,s.transformResults||[])})(t,e)))):[]}function T6(n,e){return{documents:[c_(n,e.path)]}}function C6(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=c_(n,s);const o=(function(d){if(d.length!==0)return d_(fo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((v=>(function(C){return{field:ih(C.field),direction:I6(C.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=b0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function N6(n){let e=w6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Yn(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(A){const C=f_(A);return C instanceof fo&&Ux(C)?C.getFilters():[C]})(t.where));let c=[];t.orderBy&&(c=(function(A){return A.map((C=>(function(z){return new Mf(rh(z.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(C)))})(t.orderBy));let h=null;t.limit&&(h=(function(A){let C;return C=typeof A=="object"?A.value:A,qp(C)?null:C})(t.limit));let f=null;t.startAt&&(f=(function(A){const C=!!A.before,_=A.values||[];return new xp(_,C)})(t.startAt));let d=null;return t.endAt&&(d=(function(A){const C=!A.before,_=A.values||[];return new xp(_,C)})(t.endAt)),GA(e,s,c,o,h,"F",f,d)}function R6(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rh(t.unaryFilter.field);return ur.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rh(t.unaryFilter.field);return ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rh(t.unaryFilter.field);return ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rh(t.unaryFilter.field);return ur.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ur.create(rh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return fo.create(t.compositeFilter.filters.map((r=>f_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(t.compositeFilter.op))})(n):Vt(30097,{filter:n})}function I6(n){return y6[n]}function j6(n){return v6[n]}function L6(n){return b6[n]}function ih(n){return{fieldPath:n.canonicalString()}}function rh(n){return ia.fromServerFormat(n.fieldPath)}function d_(n){return n instanceof ur?(function(t){if(t.op==="=="){if(Py(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Py(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(t.field),op:j6(t.op),value:t.value}}})(n):n instanceof fo?(function(t){const r=t.getFilters().map((s=>d_(s)));return r.length===1?r[0]:{compositeFilter:{op:L6(t.op),filters:r}}})(n):Vt(54877,{filter:n})}function D6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function p_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function g_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class pu{constructor(e,t,r,s,o=Xt.min(),c=Xt.min(),h=ra.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k6{constructor(e){this.yt=e}}function M6(n){const e=N6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_p(e,e.limit,"L"):e}class O6{constructor(){this.Sn=new P6}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Eu.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Eu.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class P6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Er(di.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Er(di.comparator)).toArray()}}const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=41943040;class Xa{static withCacheSize(e){return new Xa(e,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(m_,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class bh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bh(0)}static ar(){return new bh(-1)}}const Zy="LruGarbageCollector",z6=1048576;function Jy([n,e],[t,r]){const s=_n(n,t);return s===0?_n(e,r):s}class F6{constructor(e){this.Pr=e,this.buffer=new Er(Jy),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ut(Zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ah(t)?ut(Zy,"Ignoring IndexedDB error during garbage collection: ",t):await Sh(t)}await this.Ar(3e5)}))}}class V6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(Up.ce);const r=new F6(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Xy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,c,h,f,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,c=Date.now(),this.nthSequenceNumber(e,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(e,r,t)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(d=Date.now(),th()<=Rn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function U6(n,e){return new V6(n,e)}class q6{constructor(){this.changes=new pc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ba.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class H6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class G6{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Af(r.mutation,s,ms.empty(),bi.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,wn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=wn()){const s=tc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=yf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=tc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,wn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,s){let o=jl();const c=Sf(),h=(function(){return Sf()})();return t.forEach(((f,d)=>{const v=r.get(d.key);s.has(d.key)&&(v===void 0||v.mutation instanceof Du)?o=o.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),Af(v.mutation,d,v.mutation.getFieldMask(),bi.now())):c.set(d.key,ms.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,v)=>c.set(d,v))),t.forEach(((d,v)=>h.set(d,new H6(v,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Sf();let s=new ki(((c,h)=>c-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let v=r.get(f)||ms.empty();v=h.applyToLocalView(d,v),r.set(f,v);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=Xx();v.forEach((C=>{if(!o.has(C)){const _=i_(t.get(C),r.get(C));_!==null&&A.set(C,_),o=o.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,A))}return Ke.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return YA(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ke.resolve(tc());let h=jf,f=o;return c.next((d=>Ke.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Ke.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{f=f.insert(v,C)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,wn()))).next((v=>({batchId:h,changes:Qx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next((r=>{let s=yf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=yf();return this.indexManager.getCollectionParents(e,o).next((h=>Ke.forEach(h,(f=>{const d=(function(A,C){return new Eh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((v=>{v.forEach(((A,C)=>{c=c.insert(A,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((f,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,ba.newInvalidDocument(v)))}));let h=yf();return c.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&Af(v.mutation,d,ms.empty(),bi.now()),Yp(t,d)&&(h=h.insert(f,d))})),h}))}}class Y6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Yo(s.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:M6(s.bundledQuery),readTime:Yo(s.readTime)}})(t)),Ke.resolve()}}class W6{constructor(){this.overlays=new ki(kt.comparator),this.Lr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=tc();return Ke.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const s=tc(),o=t.length+1,c=new kt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ki(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=tc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=tc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=s)););return Ke.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new h6(t,r));let o=this.Lr.get(t);o===void 0&&(o=wn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class $6{constructor(){this.sessionToken=ra.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}class om{constructor(){this.kr=new Er(Br.Kr),this.qr=new Er(Br.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Br(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1);let o=wn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Br(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return kt.comparator(e.key,t.key)||_n(e.Hr,t.Hr)}static Ur(e,t){return _n(e.Hr,t.Hr)||kt.comparator(e.key,t.key)}}class K6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Er(Br.Kr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new c6(o,t,r,s);this.mutationQueue.push(c);for(const h of s)this.Jr=this.Jr.add(new Br(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ke.resolve(c)}lookupMutationBatch(e,t){return Ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?Q0:this.Yn-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),s=new Br(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const h=this.Zr(c.Hr);o.push(h)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Er(_n);return t.forEach((s=>{const o=new Br(s,0),c=new Br(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),Ke.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;kt.isDocumentKey(o)||(o=o.child(""));const c=new Br(new kt(o),0);let h=new Er(_n);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Hr)),!0)}),c),Ke.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Yn(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Ke.forEach(t.mutations,(s=>{const o=new Br(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Br(t,0),s=this.Jr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Q6{constructor(e){this.ti=e,this.docs=(function(){return new ki(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():ba.newInvalidDocument(t))}getEntries(e,t){let r=jl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ba.newInvalidDocument(s))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=jl();const c=t.path,h=new kt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||wA(_A(v),r)<=0||(s.has(v.key)||Yp(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Vt(9500)}ni(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new X6(this)}getSize(e){return Ke.resolve(this.size)}}class X6 extends q6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Z6{constructor(e){this.persistence=e,this.ri=new pc((t=>J0(t)),em),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.ii=0,this.si=new om,this.targetCount=0,this.oi=bh._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Ke.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new bh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.lr(t),Ke.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),Ke.waitFor(o).next((()=>s))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.si.containsKey(t))}}class y_{constructor(e,t){this._i={},this.overlays={},this.ai=new Up(0),this.ui=!1,this.ui=!0,this.ci=new $6,this.referenceDelegate=e(this),this.li=new Z6(this),this.indexManager=new O6,this.remoteDocumentCache=(function(s){return new Q6(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new k6(t),this.Pi=new Y6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new W6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new K6(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const s=new J6(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Ke.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class J6 extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Ri=new om,this.Ai=null}static Vi(e){return new lm(e)}get di(){if(this.Ai)return this.Ai;throw Vt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.di,(r=>{const s=kt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Xt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ep{constructor(e,t){this.persistence=e,this.fi=new pc((r=>CA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=U6(this,t)}static Vi(e,t){return new Ep(e,t)}Ti(){}Ii(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Ke.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Ke.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(r++,o.removeEntry(c,Xt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ip(e.data.value)),t}wr(e,t,r){return Ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class um{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=wn(),s=wn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new um(e,t.fromCache,r,s)}}class eE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $3()?8:EA(Y3())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new eE;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(th()<=Rn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",nh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ke.resolve()):(th()<=Rn.DEBUG&&ut("QueryEngine","Query:",nh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(th()<=Rn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",nh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(t))):Ke.resolve())}gs(e,t){if(Vy(t))return Ke.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=_p(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=wn(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,h);return this.Ss(t,d,c,f.readTime)?this.gs(e,_p(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return Vy(t)||s.isEqual(Xt.min())?Ke.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,s)?Ke.resolve(null):(th()<=Rn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nh(t)),this.Ds(e,c,t,xA(s,jf)).next((h=>h)))}))}bs(e,t){let r=new Er($x(e));return t.forEach(((s,o)=>{Yp(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return th()<=Rn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",nh(t)),this.fs.getDocumentsMatchingQuery(e,t,Eu.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const cm="LocalStore",nE=3e8;class iE{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ki(_n),this.Fs=new pc((o=>J0(o)),em),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function rE(n,e,t,r){return new iE(n,e,t,r)}async function v_(n,e){const t=rn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=wn();for(const d of s){c.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function aE(n,e){const t=rn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,C=A.keys();let _=Ke.resolve();return C.forEach((z=>{_=_.next((()=>v.getEntry(f,z))).next((H=>{const U=d.docVersions.get(z);Yn(U!==null,48541),H.version.compareTo(U)<0&&(A.applyToRemoteDocument(H,d),H.isValidDocument()&&(H.setReadTime(d.commitVersion),v.addEntry(H)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function b_(n){const e=rn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function sE(n,e){const t=rn(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((v,A)=>{const C=s.get(A);if(!C)return;h.push(t.li.removeMatchingKeys(o,v.removedDocuments,A).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,A))));let _=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(ra.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):v.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(v.resumeToken,r)),s=s.insert(A,_),(function(H,U,B){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=nE?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(C,_,v)&&h.push(t.li.updateTargetData(o,_))}));let f=jl(),d=wn();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(oE(o,c,e.documentUpdates).next((v=>{f=v.Bs,d=v.Ls}))),!r.isEqual(Xt.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((A=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Ke.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function oE(n,e,t){let r=wn(),s=wn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=jl();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Xt.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ut(cm,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:s}}))}function lE(n,e){const t=rn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Q0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uE(n,e){const t=rn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Ke.resolve(s)):t.li.allocateTargetId(r).next((c=>(s=new pu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function S0(n,e,t){const r=rn(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ah(c))throw c;ut(cm,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function ev(n,e,t){const r=rn(n);let s=Xt.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,v){const A=rn(f),C=A.Fs.get(v);return C!==void 0?Ke.resolve(A.vs.get(C)):A.li.getTargetData(d,v)})(r,c,Go(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:Xt.min(),t?o:wn()))).next((h=>(cE(r,KA(e),h),{documents:h,ks:o})))))}function cE(n,e,t){let r=n.Ms.get(e)||Xt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class tv{constructor(){this.activeTargetIds=t6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hE{constructor(){this.vo=new tv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fE{Mo(e){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(nv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ut(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hd=null;function A0(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}const Rg="RestConnection",dE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pE{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===vp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const c=A0(),h=this.Qo(e,t.toUriEncodedString());ut(Rg,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(h),v=Bp(d);return this.zo(e,h,f,r,v).then((A=>(ut(Rg,`Received RPC '${e}' ${c}: `,A),A)),(A=>{throw oc(Rg,`RPC '${e}' ${c} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(e,t,r,s,o,c){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=dE[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class gE{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const da="WebChannelConnection",ff=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class lh extends pE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lh.c_){const e=Ax();ff(e,Sx.STAT_EVENT,(t=>{t.stat===f0.PROXY?ut(da,"STAT_EVENT: detected buffering proxy"):t.stat===f0.NOPROXY&&ut(da,"STAT_EVENT: detected no buffering proxy")})),lh.c_=!0}}zo(e,t,r,s,o){const c=A0();return new Promise(((h,f)=>{const d=new _x;d.setWithCredentials(!0),d.listenOnce(wx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case np.NO_ERROR:const A=d.getResponseJson();ut(da,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),h(A);break;case np.TIMEOUT:ut(da,`RPC '${e}' ${c} timed out`),f(new at(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:const C=d.getStatus();if(ut(da,`RPC '${e}' ${c} failed with status:`,C,"response text:",d.getResponseText()),C>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const z=_?.error;if(z&&z.status&&z.message){const H=(function(B){const ne=B.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(ne)>=0?ne:Ge.UNKNOWN})(z.status);f(new at(H,z.message))}else f(new at(Ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new at(Ge.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ut(da,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);ut(da,`RPC '${e}' ${c} sending request:`,s),d.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=A0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const d=o.join("");ut(da,`Creating RPC '${e}' stream ${s}: ${d}`,h);const v=c.createWebChannel(d,h);this.I_(v);let A=!1,C=!1;const _=new gE({Ho:z=>{C?ut(da,`Not sending because RPC '${e}' stream ${s} is closed:`,z):(A||(ut(da,`Opening RPC '${e}' stream ${s} transport.`),v.open(),A=!0),ut(da,`RPC '${e}' stream ${s} sending:`,z),v.send(z))},Jo:()=>v.close()});return ff(v,mf.EventType.OPEN,(()=>{C||(ut(da,`RPC '${e}' stream ${s} transport opened.`),_.i_())})),ff(v,mf.EventType.CLOSE,(()=>{C||(C=!0,ut(da,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(v))})),ff(v,mf.EventType.ERROR,(z=>{C||(C=!0,oc(da,`RPC '${e}' stream ${s} transport errored. Name:`,z.name,"Message:",z.message),_.o_(new at(Ge.UNAVAILABLE,"The operation could not be completed")))})),ff(v,mf.EventType.MESSAGE,(z=>{if(!C){const H=z.data[0];Yn(!!H,16349);const U=H,B=U?.error||U[0]?.error;if(B){ut(da,`RPC '${e}' stream ${s} received error:`,B);const ne=B.status;let ae=(function(je){const $=lr[je];if($!==void 0)return a_($)})(ne),se=B.message;ne==="NOT_FOUND"&&se.includes("database")&&se.includes("does not exist")&&se.includes(this.databaseId.database)&&oc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=Ge.INTERNAL,se="Unknown error status: "+ne+" with message "+B.message),C=!0,_.o_(new at(ae,se)),v.close()}else ut(da,`RPC '${e}' stream ${s} received:`,H),_.__(H)}})),lh.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ex()}}function mE(n){return new lh(n)}function Ig(){return typeof document<"u"?document:null}function Qp(n){return new x6(n,!0)}lh.c_=!1;class x_{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ut("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rv="PersistentStream";class __{constructor(e,t,r,s,o,c,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(Il(t.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new at(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ut(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yE extends __{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=S6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Xt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Xt.min():c.readTime?Yo(c.readTime):Xt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=w0(this.serializer),t.addTarget=(function(o,c){let h;const f=c.target;if(h=y0(f)?{documents:T6(o,f)}:{query:C6(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=l_(o,c.resumeToken);const d=b0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(Xt.min())>0){h.readTime=Ap(o,c.snapshotVersion.toTimestamp());const d=b0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const r=R6(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=w0(this.serializer),t.removeTarget=e,this.K_(t)}}class vE extends __{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Yn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=E6(e.writeResults,e.commitTime),r=Yo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=w0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>A6(this.serializer,r)))};this.K_(t)}}class bE{}class xE extends bE{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,x0(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ge.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,x0(t,r),s,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Ge.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _E(n,e,t,r){return new xE(n,e,t,r)}class wE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Il(t),this.aa=!1):ut("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class SE{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{gc(this)&&(ut(lc,"Restarting streams for network reachability change."),await(async function(f){const d=rn(f);d.Ea.add(4),await qf(d),d.Va.set("Unknown"),d.Ea.delete(4),await Xp(d)})(this))}))})),this.Va=new wE(r,s)}}async function Xp(n){if(gc(n))for(const e of n.Ra)await e(!0)}async function qf(n){for(const e of n.Ra)await e(!1)}function w_(n,e){const t=rn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pm(t)?dm(t):Th(t).O_()&&fm(t,e))}function hm(n,e){const t=rn(n),r=Th(t);t.Ia.delete(e),r.O_()&&S_(t,e),t.Ia.size===0&&(r.O_()?r.L_():gc(t)&&t.Va.set("Unknown"))}function fm(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Th(n).Z_(e)}function S_(n,e){n.da.$e(e),Th(n).X_(e)}function dm(n){n.da=new m6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Th(n).start(),n.Va.ua()}function pm(n){return gc(n)&&!Th(n).x_()&&n.Ia.size>0}function gc(n){return rn(n).Ea.size===0}function A_(n){n.da=void 0}async function AE(n){n.Va.set("Online")}async function EE(n){n.Ia.forEach(((e,t)=>{fm(n,e)}))}async function TE(n,e){A_(n),pm(n)?(n.Va.ha(e),dm(n)):n.Va.set("Unknown")}async function CE(n,e,t){if(n.Va.set("Online"),e instanceof o_&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){ut(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tp(n,r)}else if(e instanceof sp?n.da.Xe(e):e instanceof s_?n.da.st(e):n.da.tt(e),!t.isEqual(Xt.min()))try{const r=await b_(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ra.EMPTY_BYTE_STRING,v.snapshotVersion)),S_(o,f);const A=new pu(v.target,f,d,v.sequenceNumber);fm(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ut(lc,"Failed to raise snapshot:",r),await Tp(n,r)}}async function Tp(n,e,t){if(!Ah(e))throw e;n.Ea.add(1),await qf(n),n.Va.set("Offline"),t||(t=()=>b_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(lc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Xp(n)}))}function E_(n,e){return e().catch((t=>Tp(n,t,e)))}async function Zp(n){const e=rn(n),t=Ru(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Q0;for(;NE(e);)try{const s=await lE(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,RE(e,s)}catch(s){await Tp(e,s)}T_(e)&&C_(e)}function NE(n){return gc(n)&&n.Ta.length<10}function RE(n,e){n.Ta.push(e);const t=Ru(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function T_(n){return gc(n)&&!Ru(n).x_()&&n.Ta.length>0}function C_(n){Ru(n).start()}async function IE(n){Ru(n).ra()}async function jE(n){const e=Ru(n);for(const t of n.Ta)e.ea(t.mutations)}async function LE(n,e,t){const r=n.Ta.shift(),s=rm.from(r,e,t);await E_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Zp(n)}async function DE(n,e){e&&Ru(n).Y_&&await(async function(r,s){if((function(c){return d6(c)&&c!==Ge.ABORTED})(s.code)){const o=r.Ta.shift();Ru(r).B_(),await E_(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Zp(r)}})(n,e),T_(n)&&C_(n)}async function av(n,e){const t=rn(n);t.asyncQueue.verifyOperationInProgress(),ut(lc,"RemoteStore received new credentials");const r=gc(t);t.Ea.add(3),await qf(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xp(t)}async function kE(n,e){const t=rn(n);e?(t.Ea.delete(2),await Xp(t)):e||(t.Ea.add(2),await qf(t),t.Va.set("Unknown"))}function Th(n){return n.ma||(n.ma=(function(t,r,s){const o=rn(t);return o.sa(),new yE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:AE.bind(null,n),Yo:EE.bind(null,n),t_:TE.bind(null,n),J_:CE.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),pm(n)?dm(n):n.Va.set("Unknown")):(await n.ma.stop(),A_(n))}))),n.ma}function Ru(n){return n.fa||(n.fa=(function(t,r,s){const o=rn(t);return o.sa(),new vE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:IE.bind(null,n),t_:DE.bind(null,n),ta:jE.bind(null,n),na:LE.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Zp(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class gm{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,h=new gm(e,t,c,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,e){if(Il("AsyncQueue",`${e}: ${n}`),Ah(n))return new at(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}class uh{static emptySet(e){return new uh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=yf(),this.sortedSet=new ki(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sv{constructor(){this.ga=new ki(kt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Vt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class xh{constructor(e,t,r,s,o,c,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new xh(e,t,uh.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class ME{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class OE{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=rn(t),o=s.queries;s.queries=ov(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new at(Ge.ABORTED,"Firestore shutting down"))}}function ov(){return new pc((n=>Wx(n)),Gp)}async function N_(n,e){const t=rn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new ME,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=mm(c,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&ym(t)}async function R_(n,e){const t=rn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function PE(n,e){const t=rn(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(s)&&(r=!0);c.wa=s}}r&&ym(t)}function zE(n,e,t){const r=rn(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function ym(n){n.Ca.forEach((e=>{e.next()}))}var E0,lv;(lv=E0||(E0={})).Ma="default",lv.Cache="cache";class I_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E0.Cache}}class j_{constructor(e){this.key=e}}class L_{constructor(e){this.key=e}}class FE{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.eu=$x(e),this.tu=new uh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new sv,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,A)=>{const C=s.get(v),_=Yp(this.query,A)?A:null,z=!!C&&this.mutatedKeys.has(C.key),H=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let U=!1;C&&_?C.data.isEqual(_.data)?z!==H&&(r.track({type:3,doc:_}),U=!0):this.su(C,_)||(r.track({type:2,doc:_}),U=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!C&&_?(r.track({type:0,doc:_}),U=!0):C&&!_&&(r.track({type:1,doc:C}),U=!0,(f||d)&&(h=!0)),U&&(_?(c=c.add(_),o=H?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,A)=>(function(_,z){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:U})}};return H(_)-H(z)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new xh(this.query,e.tu,o,c,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new L_(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new j_(r))})),t}cu(e){this.Za=e.ks,this.Ya=wn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vm="SyncEngine";class BE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VE{constructor(e){this.key=e,this.hu=!1}}class UE{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new pc((h=>Wx(h)),Gp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(kt.comparator),this.Au=new Map,this.Vu=new om,this.du={},this.mu=new Map,this.fu=bh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qE(n,e,t=!0){const r=z_(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await D_(r,e,t,!0),s}async function HE(n,e){const t=z_(n);await D_(t,e,!0,!1)}async function D_(n,e,t,r){const s=await uE(n.localStore,Go(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await GE(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&w_(n.remoteStore,s),h}async function GE(n,e,t,r,s){n.pu=(A,C,_)=>(async function(H,U,B,ne){let ae=U.view.ru(B);ae.Ss&&(ae=await ev(H.localStore,U.query,!1).then((({documents:$})=>U.view.ru($,ae))));const se=ne&&ne.targetChanges.get(U.targetId),Se=ne&&ne.targetMismatches.get(U.targetId)!=null,je=U.view.applyChanges(ae,H.isPrimaryClient,se,Se);return cv(H,U.targetId,je.au),je.snapshot})(n,A,C,_);const o=await ev(n.localStore,e,!0),c=new FE(e,o.ks),h=c.ru(o.documents),f=Uf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=c.applyChanges(h,n.isPrimaryClient,f);cv(n,t,d.au);const v=new BE(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function YE(n,e,t){const r=rn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Gp(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await S0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&hm(r.remoteStore,s.targetId),T0(r,s.targetId)})).catch(Sh)):(T0(r,s.targetId),await S0(r.localStore,s.targetId,!0))}async function WE(n,e){const t=rn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hm(t.remoteStore,r.targetId))}async function $E(n,e,t){const r=t8(n);try{const s=await(function(c,h){const f=rn(c),d=bi.now(),v=h.reduce(((_,z)=>_.add(z.key)),wn());let A,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let z=jl(),H=wn();return f.xs.getEntries(_,v).next((U=>{z=U,z.forEach(((B,ne)=>{ne.isValidDocument()||(H=H.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,z))).next((U=>{A=U;const B=[];for(const ne of h){const ae=l6(ne,A.get(ne.key).overlayedDocument);ae!=null&&B.push(new Du(ne.key,ae,Fx(ae.value.mapValue),uo.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,B,h)})).next((U=>{C=U;const B=U.applyToLocalDocumentSet(A,H);return f.documentOverlayCache.saveOverlays(_,U.batchId,B)}))})).then((()=>({batchId:C.batchId,changes:Qx(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,h,f){let d=c.du[c.currentUser.toKey()];d||(d=new ki(_n)),d=d.insert(h,f),c.du[c.currentUser.toKey()]=d})(r,s.batchId,t),await Hf(r,s.changes),await Zp(r.remoteStore)}catch(s){const o=mm(s,"Failed to persist write");t.reject(o)}}async function k_(n,e){const t=rn(n);try{const r=await sE(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Yn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Yn(c.hu,14607):s.removedDocuments.size>0&&(Yn(c.hu,42227),c.hu=!1))})),await Hf(t,r,e)}catch(r){await Sh(r)}}function uv(n,e,t){const r=rn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const C of A.ba)C.va(h)&&(d=!0)})),d&&ym(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KE(n,e,t){const r=rn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new ki(kt.comparator);c=c.insert(o,ba.newNoDocument(o,Xt.min()));const h=wn().add(o),f=new Kp(Xt.min(),new Map,new ki(_n),c,h);await k_(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),bm(r)}else await S0(r.localStore,e,!1).then((()=>T0(r,e,t))).catch(Sh)}async function QE(n,e){const t=rn(n),r=e.batch.batchId;try{const s=await aE(t.localStore,e);O_(t,r,null),M_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Hf(t,s)}catch(s){await Sh(s)}}async function XE(n,e,t){const r=rn(n);try{const s=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Yn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(r.localStore,e);O_(r,e,t),M_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Hf(r,s)}catch(s){await Sh(s)}}function M_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function O_(n,e,t){const r=rn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function T0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||P_(n,r)}))}function P_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(hm(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),bm(n))}function cv(n,e,t){for(const r of t)r instanceof j_?(n.Vu.addReference(r.key,e),ZE(n,r)):r instanceof L_?(ut(vm,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||P_(n,r.key)):Vt(19791,{wu:r})}function ZE(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ut(vm,"New document in limbo: "+t),n.Eu.add(r),bm(n))}function bm(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new kt(di.fromString(e)),r=n.fu.next();n.Au.set(r,new VE(t)),n.Ru=n.Ru.insert(t,r),w_(n.remoteStore,new pu(Go(tm(t.path)),r,"TargetPurposeLimboResolution",Up.ce))}}async function Hf(n,e,t){const r=rn(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){s.push(d);const v=um.Es(f.targetId,d);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(f,d){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Ke.forEach(d,(C=>Ke.forEach(C.Ts,(_=>v.persistence.referenceDelegate.addReference(A,C.targetId,_))).next((()=>Ke.forEach(C.Is,(_=>v.persistence.referenceDelegate.removeReference(A,C.targetId,_)))))))))}catch(A){if(!Ah(A))throw A;ut(cm,"Failed to update sequence numbers: "+A)}for(const A of d){const C=A.targetId;if(!A.fromCache){const _=v.vs.get(C),z=_.snapshotVersion,H=_.withLastLimboFreeSnapshotVersion(z);v.vs=v.vs.insert(C,H)}}})(r.localStore,o))}async function JE(n,e){const t=rn(n);if(!t.currentUser.isEqual(e)){ut(vm,"User change. New user:",e.toKey());const r=await v_(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new at(Ge.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hf(t,r.Ns)}}function e8(n,e){const t=rn(n),r=t.Au.get(e);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const h=t.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function z_(n){const e=rn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KE.bind(null,e),e.Pu.J_=PE.bind(null,e.eventManager),e.Pu.yu=zE.bind(null,e.eventManager),e}function t8(n){const e=rn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XE.bind(null,e),e}class Cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rE(this.persistence,new tE,e.initialUser,this.serializer)}Cu(e){return new y_(lm.Vi,this.serializer)}Du(e){return new hE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cp.provider={build:()=>new Cp};class n8 extends Cp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yn(this.persistence.referenceDelegate instanceof Ep,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new B6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new y_((r=>Ep.Vi(r,t)),this.serializer)}}class C0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JE.bind(null,this.syncEngine),await kE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OE})()}createDatastore(e){const t=Qp(e.databaseInfo.databaseId),r=mE(e.databaseInfo);return _E(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,h){return new SE(r,s,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>uv(this.syncEngine,t,0)),(function(){return iv.v()?new iv:new fE})())}createSyncEngine(e,t){return(function(s,o,c,h,f,d,v){const A=new UE(s,o,c,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=rn(t);ut(lc,"RemoteStore shutting down."),r.Ea.add(5),await qf(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}C0.provider={build:()=>new C0};class F_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Il("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Iu="FirestoreClient";class i8{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=va.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ut(Iu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ut(Iu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=mm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jg(n,e){n.asyncQueue.verifyOperationInProgress(),ut(Iu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await v_(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await r8(n);ut(Iu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>av(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>av(e.remoteStore,s))),n._onlineComponents=e}async function r8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Iu,"Using user provided OfflineComponentProvider");try{await jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ge.FAILED_PRECONDITION||s.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await jg(n,new Cp)}}else ut(Iu,"Using default OfflineComponentProvider"),await jg(n,new n8(void 0));return n._offlineComponents}async function B_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Iu,"Using user provided OnlineComponentProvider"),await hv(n,n._uninitializedComponentsProvider._online)):(ut(Iu,"Using default OnlineComponentProvider"),await hv(n,new C0))),n._onlineComponents}function a8(n){return B_(n).then((e=>e.syncEngine))}async function N0(n){const e=await B_(n),t=e.eventManager;return t.onListen=qE.bind(null,e.syncEngine),t.onUnlisten=YE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WE.bind(null,e.syncEngine),t}function s8(n,e,t,r){const s=new F_(r),o=new I_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>N_(await N0(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>R_(await N0(n),o)))}}function o8(n,e,t={}){const r=new xu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const v=new F_({next:C=>{v.Nu(),c.enqueueAndForget((()=>R_(o,A))),C.fromCache&&f.source==="server"?d.reject(new at(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(C)},error:C=>d.reject(C)}),A=new I_(h,v,{includeMetadataChanges:!0,Ka:!0});return N_(o,A)})(await N0(n),n.asyncQueue,e,t,r))),r.promise}function l8(n,e){const t=new xu;return n.asyncQueue.enqueueAndForget((async()=>$E(await a8(n),e,t))),t.promise}function V_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const u8="ComponentProvider",fv=new Map;function c8(n,e,t,r,s){return new IA(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,V_(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const U_="firestore.googleapis.com",dv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U_,this.ssl=dv}else this.host=e.host,this.ssl=e.ssl??dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z6)throw new at(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uA;switch(r.type){case"firstParty":return new dA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fv.get(t);r&&(ut(u8,"Removing Datastore"),fv.delete(t),r.terminate())})(this),Promise.resolve()}}function h8(n,e,t,r={}){n=Ho(n,Jp);const s=Bp(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(sx(`https://${h}`),lx("Firestore",!0)),o.host!==U_&&o.host!==h&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!gp(f,c)&&(n._setSettings(f),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=va.MOCK_USER;else{d=ox(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new at(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new va(A)}n._authCredentials=new cA(new Cx(d,v))}}class Dl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}toJSON(){return{type:hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Bf(t,hr._jsonSchema))return new hr(e,r||null,new kt(di.fromString(t.referencePath)))}}hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:cr("string",hr._jsonSchemaVersion),referencePath:cr("string")};class _u extends Dl{constructor(e,t,r){super(e,t,tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new kt(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function Fr(n,e,...t){if(n=ho(n),Nx("collection","path",e),n instanceof Jp){const r=di.fromString(e,...t);return Cy(r),new _u(n,null,r)}{if(!(n instanceof hr||n instanceof _u))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return Cy(r),new _u(n.firestore,null,r)}}function gs(n,e,...t){if(n=ho(n),arguments.length===1&&(e=K0.newId()),Nx("doc","path",e),n instanceof Jp){const r=di.fromString(e,...t);return Ty(r),new hr(n,null,new kt(r))}{if(!(n instanceof hr||n instanceof _u))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return Ty(r),new hr(n.firestore,n instanceof _u?n.converter:null,new kt(r))}}const gv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x_(this,"async_queue_retry"),this._c=()=>{const r=Ig();r&&ut(gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new xu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ah(e))throw e;ut(gv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Il("INTERNAL UNHANDLED ERROR: ",yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=gm.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Vt(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class uc extends Jp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new mv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function f8(n,e){const t=typeof n=="object"?n:yx(),r=typeof n=="string"?n:vp,s=dx(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=rx("firestore");o&&h8(s,...o)}return s}function xm(n){if(n._terminated)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||d8(n),n._firestoreClient}function d8(n){const e=n._freezeSettings(),t=c8(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new i8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(ra.fromBase64String(e))}catch(t){throw new at(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(ra.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bf(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:cr("string",Ps._jsonSchemaVersion),bytes:cr("string")};class _m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wm{constructor(e){this._methodName=e}}class Wo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(Bf(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:cr("string",Wo._jsonSchemaVersion),latitude:cr("number"),longitude:cr("number")};class co{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bf(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new co(e.vectorValues);throw new at(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:cr("string",co._jsonSchemaVersion),vectorValues:cr("object")};const p8=/^__.*__$/;class g8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Du(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class q_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{dataSource:n})}}class Sm{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Np(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(H_(this.dataSource)&&p8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class m8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qp(e)}createContext(e,t,r,s=!1){return new Sm({dataSource:e,methodName:t,targetDoc:r,path:ia.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(n){const e=n._freezeSettings(),t=Qp(n._databaseId);return new m8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y8(n,e,t,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);Em("Data must be an object, but it was:",c,r);const h=G_(r,c);let f,d;if(o.merge)f=new ms(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const C=cc(e,A,t);if(!c.contains(C))throw new at(Ge.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);$_(v,C)||v.push(C)}f=new ms(v),d=c.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=c.fieldTransforms;return new g8(new Za(h),f,d)}class e1 extends wm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e1}}function v8(n,e,t,r){const s=n.createContext(1,e,t);Em("Data must be an object, but it was:",s,r);const o=[],c=Za.empty();Lu(r,((f,d)=>{const v=W_(e,f,t);d=ho(d);const A=s.childContextForFieldPath(v);if(d instanceof e1)o.push(v);else{const C=Gf(d,A);C!=null&&(o.push(v),c.set(v,C))}}));const h=new ms(o);return new q_(c,h,s.fieldTransforms)}function b8(n,e,t,r,s,o){const c=n.createContext(1,e,t),h=[cc(e,r,t)],f=[s];if(o.length%2!=0)throw new at(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)h.push(cc(e,o[C])),f.push(o[C+1]);const d=[],v=Za.empty();for(let C=h.length-1;C>=0;--C)if(!$_(d,h[C])){const _=h[C];let z=f[C];z=ho(z);const H=c.childContextForFieldPath(_);if(z instanceof e1)d.push(_);else{const U=Gf(z,H);U!=null&&(d.push(_),v.set(_,U))}}const A=new ms(d);return new q_(v,A,c.fieldTransforms)}function x8(n,e,t,r=!1){return Gf(t,n.createContext(r?4:3,e))}function Gf(n,e){if(Y_(n=ho(n)))return Em("Unsupported field value:",e,n),G_(n,e);if(n instanceof wm)return(function(r,s){if(!H_(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const h of r){let f=Gf(h,s.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=ho(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bi.fromDate(r);return{timestampValue:Ap(s.serializer,o)}}if(r instanceof bi){const o=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(s.serializer,o)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ps)return{bytesValue:l_(s.serializer,r._byteString)};if(r instanceof hr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof co)return(function(c,h){const f=c instanceof co?c.toArray():c;return{mapValue:{fields:{[Px]:{stringValue:zx},[bp]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return nm(h.serializer,v)}))}}}}}})(r,s);if(g_(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Vp(r)}`)})(n,e)}function G_(n,e){const t={};return jx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lu(n,((r,s)=>{const o=Gf(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Y_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Wo||n instanceof Ps||n instanceof hr||n instanceof wm||n instanceof co||g_(n))}function Em(n,e,t){if(!Y_(t)||!Rx(t)){const r=Vp(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function cc(n,e,t){if((e=ho(e))instanceof _m)return e._internalPath;if(typeof e=="string")return W_(n,e);throw Np("Field path arguments must be of type string or ",n,!1,void 0,t)}const _8=new RegExp("[~\\*/\\[\\]]");function W_(n,e,t){if(e.search(_8)>=0)throw Np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _m(...e.split("."))._internalPath}catch{throw Np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Np(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new at(Ge.INVALID_ARGUMENT,h+n+f)}function $_(n,e){return n.some((t=>t.isEqual(e)))}class w8{convertValue(e,t="none"){switch(Nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lu(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[bp].arrayValue?.values?.map((r=>Qi(r.doubleValue)));return new co(t)}convertGeoPoint(e){return new Wo(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const t=Tu(e);return new bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=di.fromString(e);Yn(p_(r),9688,{name:e});const s=new Df(r.get(1),r.get(3)),o=new kt(r.popFirst(5));return s.isEqual(t)||Il(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Tm extends w8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}const vv="@firebase/firestore",bv="4.11.0";function xv(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class K_{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(cc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S8 extends K_{data(){return super.data()}}function Q_(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new at(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class Nm extends Cm{}function uu(n,e,...t){let r=[];e instanceof Cm&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof Rm)).length,h=o.filter((f=>f instanceof t1)).length;if(c>1||c>0&&h>0)throw new at(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class t1 extends Nm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new t1(e,t,r)}_apply(e){const t=this._parse(e);return X_(e._query,t),new Dl(e.firestore,e.converter,v0(e._query,t))}_parse(e){const t=Am(e.firestore);return(function(o,c,h,f,d,v,A){let C;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Av(A,v);const z=[];for(const H of A)z.push(Sv(f,o,H));C={arrayValue:{values:z}}}else C=Sv(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Av(A,v),C=x8(h,c,A,v==="in"||v==="not-in");return ur.create(d,v,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _v(n,e,t){const r=e,s=cc("where",n);return t1._create(s,r,t)}class Rm extends Cm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:fo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const h=o.getFlattenedFilters();for(const f of h)X_(c,f),c=v0(c,f)})(e._query,t),new Dl(e.firestore,e.converter,v0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Im extends Nm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Im(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new at(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new at(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mf(o,c)})(e._query,this._field,this._direction);return new Dl(e.firestore,e.converter,$A(e._query,t))}}function df(n,e="asc"){const t=e,r=cc("orderBy",n);return Im._create(r,t)}class jm extends Nm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jm(e,t,r)}_apply(e){return new Dl(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}function wv(n){return jm._create("limit",n,"F")}function Sv(n,e,t){if(typeof(t=ho(t))=="string"){if(t==="")throw new at(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(e)&&t.indexOf("/")!==-1)throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(di.fromString(t));if(!kt.isDocumentKey(r))throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return My(n,new kt(r))}if(t instanceof hr)return My(n,t._key);throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vp(t)}.`)}function Av(n,e){if(!Array.isArray(n)||n.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X_(n,e){const t=(function(s,o){for(const c of s)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function A8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends K_{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",nc._jsonSchema={type:cr("string",nc._jsonSchemaVersion),bundleSource:cr("string","DocumentSnapshot"),bundleName:cr("string"),bundle:cr("string")};class op extends nc{data(e={}){return super.data(e)}}class ic{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new bf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new op(this._firestore,this._userDataWriter,r.key,r,new bf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const f=new op(s._firestore,s._userDataWriter,h.doc.key,h.doc,new bf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new op(s._firestore,s._userDataWriter,h.doc.key,h.doc,new bf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,v=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:E8(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:n})}}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:cr("string",ic._jsonSchemaVersion),bundleSource:cr("string","QuerySnapshot"),bundleName:cr("string"),bundle:cr("string")};function Lg(n){n=Ho(n,Dl);const e=Ho(n.firestore,uc),t=xm(e),r=new Tm(e);return Q_(n._query),o8(t,n._query).then((s=>new ic(e,r,n,s)))}function cu(n,e,t,...r){n=Ho(n,hr);const s=Ho(n.firestore,uc),o=Am(s);let c;return c=typeof(e=ho(e))=="string"||e instanceof _m?b8(o,"updateDoc",n._key,e,t,r):v8(o,"updateDoc",n._key,e),Lm(s,[c.toMutation(n._key,uo.exists(!0))])}function Gd(n){return Lm(Ho(n.firestore,uc),[new im(n._key,uo.none())])}function hu(n,e){const t=Ho(n.firestore,uc),r=gs(n),s=A8(n.converter,e),o=Am(n.firestore);return Lm(t,[y8(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,uo.exists(!1))]).then((()=>r))}function Xu(n,...e){n=ho(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xv(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xv(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof hr)c=Ho(n.firestore,uc),h=tm(n._key.path),o={next:d=>{e[r]&&e[r](T8(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Ho(n,Dl);c=Ho(d.firestore,uc),h=d._query;const v=new Tm(c);o={next:A=>{e[r]&&e[r](new ic(c,v,d,A))},error:e[r+1],complete:e[r+2]},Q_(n._query)}const f=xm(c);return s8(f,h,s,o)}function Lm(n,e){const t=xm(n);return l8(t,e)}function T8(n,e,t){const r=t.docs.get(e._key),s=new Tm(n);return new nc(n,s,e._key,r,new bf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){lA(gx),Rf(new gh("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new uc(new hA(r.getProvider("auth-internal")),new pA(c,r.getProvider("app-check-internal")),jA(c,s),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vu(vv,bv,e),vu(vv,bv,"esm2020")})();const Z_="firebasestorage.googleapis.com",C8="storageBucket",N8=120*1e3,R8=600*1e3;class Qo extends dc{constructor(e,t,r=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ko;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ko||(Ko={}));function Dg(n){return"storage/"+n}function I8(){const n="An unknown error occurred, please check the error payload for server response.";return new Qo(Ko.UNKNOWN,n)}function j8(){return new Qo(Ko.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L8(){return new Qo(Ko.CANCELED,"User canceled the upload/download.")}function D8(n){return new Qo(Ko.INVALID_URL,"Invalid URL '"+n+"'.")}function k8(n){return new Qo(Ko.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ev(n){return new Qo(Ko.INVALID_ARGUMENT,n)}function J_(){return new Qo(Ko.APP_DELETED,"The Firebase app was deleted.")}function M8(n){return new Qo(Ko.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=lo.makeFromUrl(e,t)}catch{return new lo(e,"")}if(r.path==="")return r;throw k8(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function d(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${v}/b/${s}/o${C}`,"i"),z={bucket:1,path:3},H=t===Z_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",B=new RegExp(`^https?://${H}/${s}/${U}`,"i"),ae=[{regex:h,indices:f,postModify:o},{regex:_,indices:z,postModify:d},{regex:B,indices:{bucket:1,path:2},postModify:d}];for(let se=0;se<ae.length;se++){const Se=ae[se],je=Se.regex.exec(e);if(je){const $=je[Se.indices.bucket];let O=je[Se.indices.path];O||(O=""),r=new lo($,O),Se.postModify(r);break}}if(r==null)throw D8(e);return r}}class O8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function P8(n,e,t){let r=1,s=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function v(...U){d||(d=!0,e.apply(null,U))}function A(U){s=setTimeout(()=>{s=null,n(_,f())},U)}function C(){o&&clearTimeout(o)}function _(U,...B){if(d){C();return}if(U){C(),v.call(null,U,...B);return}if(f()||c){C(),v.call(null,U,...B);return}r<64&&(r*=2);let ae;h===1?(h=2,ae=0):ae=(r+Math.random())*1e3,A(ae)}let z=!1;function H(U){z||(z=!0,C(),!d&&(s!==null?(U||(h=2),clearTimeout(s),A(0)):U||(h=1)))}return A(0),o=setTimeout(()=>{c=!0,H(!0)},t),H}function z8(n){n(!1)}function F8(n){return n!==void 0}function Tv(n,e,t,r){if(r<e)throw Ev(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ev(`Invalid value for '${n}'. Expected ${t} or less.`)}function B8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Rp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Rp||(Rp={}));function V8(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class U8{constructor(e,t,r,s,o,c,h,f,d,v,A,C=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=A,this.retry=C,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,H)=>{this.resolve_=z,this.reject_=H,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Rp.NO_ERROR,f=o.getStatus();if(!h||V8(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Rp.ABORT;r(!1,new Yd(!1,null,v));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Yd(d,o))})},t=(r,s)=>{const o=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());F8(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=I8();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(s.canceled){const f=this.appDelete_?J_():L8();c(f)}else{const f=j8();c(f)}};this.canceled_?t(!1,new Yd(!1,null,!0)):this.backoffId_=P8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function q8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function H8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Y8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function W8(n,e,t,r,s,o,c=!0,h=!1){const f=B8(n.urlParams),d=n.url+f,v=Object.assign({},n.headers);return G8(v,e),q8(v,t),H8(v,o),Y8(v,r),new U8(d,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,h)}function $8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function K8(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Ip{constructor(e,t){this._service=e,t instanceof lo?this._location=t:this._location=lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ip(e,t)}get root(){const e=new lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K8(this._location.path)}get storage(){return this._service}get parent(){const e=$8(this._location.path);if(e===null)return null;const t=new lo(this._location.bucket,e);return new Ip(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw M8(e)}}function Cv(n,e){const t=e?.[C8];return t==null?null:lo.makeFromBucketSpec(t,n)}function Q8(n,e,t,r={}){n.host=`${e}:${t}`;const s=Bp(e);s&&(sx(`https://${n.host}/b`),lx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:ox(o,n.app.options.projectId))}class X8{constructor(e,t,r,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=Z_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N8,this._maxUploadRetryTime=R8,this._requests=new Set,s!=null?this._bucket=lo.makeFromBucketSpec(s,this._host):this._bucket=Cv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lo.makeFromBucketSpec(this._url,e):this._bucket=Cv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(px(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ip(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new O8(J_());{const c=W8(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Nv="@firebase/storage",Rv="0.14.0";const e4="storage";function Z8(n=yx(),e){n=ho(n);const r=dx(n,e4).getImmediate({identifier:e}),s=rx("storage");return s&&J8(r,...s),r}function J8(n,e,t,r={}){Q8(n,e,t,r)}function eT(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new X8(t,r,s,e,gx)}function tT(){Rf(new gh(e4,eT,"PUBLIC").setMultipleInstances(!0)),vu(Nv,Rv,""),vu(Nv,Rv,"esm2020")}tT();var nT="firebase",iT="12.9.0";vu(nT,iT,"app");const rT={apiKey:"AIzaSyAqBIlDzqQdz-GxVGpsL1maWnnTwusleww",authDomain:"sistema-tickets-766f4.firebaseapp.com",projectId:"sistema-tickets-766f4",storageBucket:"sistema-tickets-766f4.firebasestorage.app",messagingSenderId:"1008656923219",appId:"1:1008656923219:web:66eccb70aedd284f3aa4a6"},t4=mx(rT),Hn=f8(t4);Z8(t4);const Gn={USERS:"users",TICKETS:"tickets",COMPUTERS:"computers",INDICATORS:"indicators",SGI_PROCESSES:"sgi_processes",SGI_EVIDENCE:"sgi_evidence",SGI_INDICATOR_TYPES:"sgi_indicator_types"},nn={uploadFile:async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=s=>t(s)}),initializeDefaults:async()=>{try{console.log("Firebase: Verificando datos iniciales...");const n=uu(Fr(Hn,Gn.USERS),wv(1));if((await Lg(n)).empty){console.log("Firebase: Base de datos vaca. Creando usuarios por defecto...");const t=[{username:"alejandro",password:"lucy931205",role:"admin",name:"Alejandro",email:"admin@elspecandina.com"},{username:"user",password:"user",role:"engineer",name:"Usuario Soporte",email:"soporte@elspecandina.com"}];for(const r of t)await hu(Fr(Hn,Gn.USERS),{...r,createdAt:new Date().toISOString()});return console.log("Firebase: Usuarios iniciales creados."),!0}return!1}catch(n){return console.error("Firebase Initialization Error:",n),!1}},loginUser:async(n,e)=>{try{const t=(n||"").toLowerCase().trim(),r=uu(Fr(Hn,Gn.USERS),_v("username","==",t),wv(1)),s=await Lg(r);if(!s.empty){const o=s.docs[0],c=o.data();if(c.password===e)return{id:o.id,...c}}return null}catch(t){return console.error("Login Error:",t),null}},getUsers:async()=>(await Lg(Fr(Hn,Gn.USERS))).docs.map(e=>({id:e.id,...e.data()})),subscribeUsers:n=>{try{return console.log("Firebase: Iniciando suscripcin de usuarios..."),Xu(Fr(Hn,Gn.USERS),e=>{console.log("Firebase: Usuarios actualizados");const t=e.docs.map(r=>({id:r.id,...r.data()}));n(t)},e=>{console.error("Firebase Error (Usuarios):",e),alert("Error de conexin con la base de datos (Usuarios). Verifique su conexin.")})}catch(e){return console.error("Critical Firebase Error:",e),()=>{}}},addUser:async n=>({id:(await hu(Fr(Hn,Gn.USERS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateUser:async(n,e)=>{const t=gs(Hn,Gn.USERS,n);await cu(t,e)},deleteUser:async n=>{const e=gs(Hn,Gn.USERS,n);await Gd(e)},subscribeTickets:n=>{try{console.log("Firebase: Iniciando suscripcin de tickets...");const e=uu(Fr(Hn,Gn.TICKETS),df("createdAt","desc"));return Xu(e,t=>{console.log("Firebase: Tickets actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Tickets):",t)})}catch(e){return console.error("Critical Firebase Error (Tickets):",e),()=>{}}},addTicket:async n=>({id:(await hu(Fr(Hn,Gn.TICKETS),{...n,status:"open",deleted:!1,createdAt:new Date().toISOString()})).id,...n}),updateTicket:async(n,e)=>{const t=gs(Hn,Gn.TICKETS,n);await cu(t,e)},deleteTicket:async n=>{const e=gs(Hn,Gn.TICKETS,n);await cu(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeComputers:n=>{try{console.log("Firebase: Iniciando suscripcin de computadores...");const e=uu(Fr(Hn,Gn.COMPUTERS),df("createdAt","desc"));return Xu(e,t=>{console.log("Firebase: Computadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Computers):",t)})}catch(e){return console.error("Critical Firebase Error (Computers):",e),()=>{}}},addComputer:async n=>({id:(await hu(Fr(Hn,Gn.COMPUTERS),{...n,deleted:!1,createdAt:new Date().toISOString(),maintenanceLog:[]})).id,...n}),updateComputer:async(n,e)=>{const t=gs(Hn,Gn.COMPUTERS,n);await cu(t,e)},deleteComputer:async n=>{const e=gs(Hn,Gn.COMPUTERS,n);await cu(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeIndicators:n=>{try{console.log("Firebase: Iniciando suscripcin de indicadores...");const e=uu(Fr(Hn,Gn.INDICATORS),df("createdAt","desc"));return Xu(e,t=>{console.log("Firebase: Indicadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Indicators):",t)})}catch(e){return console.error("Critical Firebase Error (Indicators):",e),()=>{}}},addIndicator:async n=>({id:(await hu(Fr(Hn,Gn.INDICATORS),{...n,deleted:!1,createdAt:new Date().toISOString()})).id,...n}),deleteIndicator:async n=>{const e=gs(Hn,Gn.INDICATORS,n);await cu(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeSGIProcesses:n=>{try{console.log("Firebase: Suscribiendo a procesos SGI...");const e=uu(Fr(Hn,Gn.SGI_PROCESSES),df("name"));return Xu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)},t=>console.error("Firebase Error (SGI Processes):",t))}catch(e){return console.error("Critical Firebase Error (SGI Processes):",e),()=>{}}},addSGIProcess:async n=>({id:(await hu(Fr(Hn,Gn.SGI_PROCESSES),{...n,createdAt:new Date().toISOString()})).id,...n}),updateSGIProcess:async(n,e)=>{const t=gs(Hn,Gn.SGI_PROCESSES,n);await cu(t,e)},deleteSGIProcess:async n=>{const e=gs(Hn,Gn.SGI_PROCESSES,n);await Gd(e)},subscribeSGIIndicatorTypes:n=>{const e=uu(Fr(Hn,Gn.SGI_INDICATOR_TYPES),df("name"));return Xu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)})},addSGIIndicatorType:async n=>({id:(await hu(Fr(Hn,Gn.SGI_INDICATOR_TYPES),{...n,createdAt:new Date().toISOString()})).id,...n}),deleteSGIIndicatorType:async n=>{const e=gs(Hn,Gn.SGI_INDICATOR_TYPES,n);await Gd(e)},submitSGIEvidence:async n=>({id:(await hu(Fr(Hn,Gn.SGI_EVIDENCE),{...n,timestamp:new Date().toISOString()})).id,...n}),deleteSGIEvidence:async n=>{const e=gs(Hn,Gn.SGI_EVIDENCE,n);await Gd(e)},updateSGIEvidence:async(n,e)=>{const t=gs(Hn,Gn.SGI_EVIDENCE,n);await cu(t,e)},subscribeSGIEvidence:(n,e)=>{const t=uu(Fr(Hn,Gn.SGI_EVIDENCE),_v("processId","==",n));return Xu(t,r=>{const o=r.docs.map(c=>({id:c.id,...c.data()})).sort((c,h)=>new Date(h.timestamp)-new Date(c.timestamp));e(o)})},getSession:()=>{try{const n=localStorage.getItem("app_logged_user");return n?JSON.parse(n):null}catch{return localStorage.removeItem("app_logged_user"),null}},setSession:n=>{localStorage.setItem("app_logged_user",JSON.stringify(n))},clearSession:()=>{localStorage.removeItem("app_logged_user")}},Yf=()=>{const[n,e]=Ze.useState(()=>nn.getSession()),[t,r]=Ze.useState([]);return Ze.useEffect(()=>{const d=nn.subscribeUsers(v=>{r(v)});return()=>{typeof d=="function"&&d()}},[]),{user:n,users:t,login:async(d,v)=>{const A=await nn.loginUser(d,v);return A?(e(A),nn.setSession(A),!0):!1},logout:()=>{e(null),nn.clearSession()},addUser:d=>nn.addUser(d),deleteUser:d=>nn.deleteUser(d),updateUser:(d,v)=>nn.updateUser(d,v),isAuthenticated:!!n}};const n4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const aT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Iv=n=>{const e=sT(n);return e.charAt(0).toUpperCase()+e.slice(1)};var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const uT=Ze.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...h},f)=>Ze.createElement("svg",{ref:f,...oT,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:n4("lucide",s),...!o&&!lT(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,v])=>Ze.createElement(d,v)),...Array.isArray(o)?o:[o]]));const hn=(n,e)=>{const t=Ze.forwardRef(({className:r,...s},o)=>Ze.createElement(uT,{ref:o,iconNode:e,className:n4(`lucide-${aT(Iv(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Iv(n),t};const cT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Dm=hn("activity",cT);const hT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jp=hn("calendar",hT);const fT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],i4=hn("camera",fT);const dT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jv=hn("chart-pie",dT);const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],r4=hn("circle-alert",pT);const gT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uo=hn("circle-check-big",gT);const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rc=hn("circle-plus",mT);const yT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lp=hn("circle-x",yT);const vT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kg=hn("clipboard-list",vT);const bT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wu=hn("clock",bT);const xT=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],_T=hn("cpu",xT);const wT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ef=hn("download",wT);const ST=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AT=hn("eye-off",ST);const ET=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TT=hn("eye",ET);const CT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zs=hn("file-text",CT);const NT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],a4=hn("funnel",NT);const RT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],IT=hn("layout-dashboard",RT);const jT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LT=hn("log-in",jT);const DT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kT=hn("log-out",DT);const MT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],OT=hn("maximize",MT);const PT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],s4=hn("message-square",PT);const zT=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],FT=hn("minimize",zT);const BT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],n1=hn("monitor",BT);const VT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],R0=hn("paperclip",VT);const UT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Lv=hn("pencil",UT);const qT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],HT=hn("refresh-cw",qT);const GT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YT=hn("save",GT);const WT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I0=hn("search",WT);const $T=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KT=hn("send",$T);const QT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XT=hn("shield-check",QT);const ZT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],JT=hn("shield",ZT);const eC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Su=hn("square-pen",eC);const tC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wd=hn("star",tC);const nC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Au=hn("trash-2",nC);const iC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o4=hn("triangle-alert",iC);const rC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aC=hn("upload",rC);const sC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oC=hn("user-plus",sC);const lC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],l4=hn("user",lC);const uC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cC=hn("users",uC);const hC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],km=hn("x",hC),fC=()=>{const[n,e]=Ze.useState(""),[t,r]=Ze.useState(""),[s,o]=Ze.useState(!1),[c,h]=Ze.useState(""),{login:f}=Yf();Ze.useEffect(()=>{nn.initializeDefaults()},[]);const d=async v=>{v.preventDefault(),h("");try{await f(n,t)?window.location.reload():h("Usuario o contrasea incorrectos.")}catch(A){console.error(A),h("Error al iniciar sesin.")}};return m.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"radial-gradient(circle at top right, rgba(0, 108, 224, 0.15), transparent 40%), radial-gradient(circle at bottom left, rgba(0, 108, 224, 0.1), transparent 40%)",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"50px 40px",width:"100%",maxWidth:"450px",border:"1px solid rgba(255,255,255,0.1)"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[m.jsx("div",{style:{background:"linear-gradient(135deg, var(--primary), #004da1)",width:"70px",height:"70px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",boxShadow:"0 10px 25px rgba(0, 108, 224, 0.3)"},children:m.jsx(XT,{color:"white",size:36})}),m.jsxs("h1",{style:{fontSize:"2rem",color:"white",fontWeight:800,letterSpacing:"-0.5px",marginBottom:"8px"},children:["ELSPEC ",m.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Mesa de Soporte Tcnico Especializado"})]}),m.jsxs("form",{onSubmit:d,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Usuario"}),m.jsx("input",{type:"text",value:n,onChange:v=>e(v.target.value),placeholder:"Ingrese su usuario",style:{padding:"14px 18px",fontSize:"1rem"},required:!0})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:"30px"},children:[m.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Contrasea"}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("input",{type:s?"text":"password",value:t,onChange:v=>r(v.target.value),placeholder:"Ingrese su contrasea",style:{padding:"14px 18px",fontSize:"1rem",paddingRight:"50px"},required:!0}),m.jsx("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",padding:"5px",color:"var(--text-muted)"},children:s?m.jsx(AT,{size:20}):m.jsx(TT,{size:20})})]})]}),c&&m.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"var(--danger)",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"20px",textAlign:"center"},children:c}),m.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:"1.1rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:["Acceder al Sistema ",m.jsx(LT,{size:20})]})]}),m.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"El sistema ahora sincroniza datos en tiempo real entre todos sus dispositivos."}),m.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"Para restablecer su contrasea, contacte al administrador del sistema."})]})})},dC=()=>{const[n,e]=Ze.useState([]);return Ze.useEffect(()=>{const o=nn.subscribeTickets(c=>{e(c)});return()=>{typeof o=="function"&&o()}},[]),{tickets:n,addTicket:o=>nn.addTicket(o),updateTicketStatus:(o,c,h={})=>nn.updateTicket(o,{status:c,...h}),deleteTicket:o=>nn.deleteTicket(o)}},Mm=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState(!0);Ze.useEffect(()=>{const f=nn.subscribeComputers(d=>{e(d),r(!1)});return()=>{typeof f=="function"&&f()}},[]);const s=f=>nn.addComputer(f),o=(f,d)=>nn.updateComputer(f,d);return{computers:n,loading:t,addComputer:s,updateComputer:o,deleteComputer:f=>nn.deleteComputer(f),addMaintenanceLog:(f,d)=>{const v=n.find(A=>A.id===f);if(v){const A=[...v.maintenanceLog||[],{...d,createdAt:new Date().toISOString()}];return o(f,{maintenanceLog:A})}}}},pC=()=>{const{addUser:n,deleteUser:e,updateUser:t}=Yf(),[r,s]=Ze.useState([]);Ze.useEffect(()=>{const C=nn.subscribeUsers(s);return()=>C()},[]);const[o,c]=Ze.useState(null),[h,f]=Ze.useState({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1}),d=C=>{if(C.preventDefault(),o)t(o.id,h),c(null);else{if(r.some(_=>_.username===h.username)){alert("El nombre de usuario ya existe");return}n(h)}f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})},v=C=>{c(C),f({username:C.username,password:C.password,role:C.role,name:C.name,email:C.email,canManageAssets:C.canManageAssets||!1})},A=()=>{c(null),f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})};return m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("h3",{style:{marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:[o?m.jsx(Su,{size:22,color:"var(--warning)"}):m.jsx(oC,{size:22,color:"var(--primary)"}),o?`Editando Usuario: ${o.username}`:"Registro de Nuevo Usuario"]}),m.jsx("form",{onSubmit:d,style:{marginBottom:"40px",paddingBottom:"30px",borderBottom:"1px solid var(--border-color)"},children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Nombre Completo"}),m.jsx("input",{type:"text",value:h.name,placeholder:"Juan Prez",onChange:C=>f({...h,name:C.target.value}),required:!0})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Correo Electrnico"}),m.jsx("input",{type:"email",value:h.email,placeholder:"juan@empresa.com",onChange:C=>f({...h,email:C.target.value}),required:!0})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Usuario"}),m.jsx("input",{type:"text",value:h.username,placeholder:"juanp",onChange:C=>f({...h,username:C.target.value}),required:!0,disabled:!!o})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Contrasea"}),m.jsx("input",{type:"text",value:h.password,onChange:C=>f({...h,password:C.target.value}),required:!0})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Rol"}),m.jsxs("select",{value:h.role,onChange:C=>f({...h,role:C.target.value}),children:[m.jsx("option",{value:"engineer",children:"Ingeniero / Soporte"}),m.jsx("option",{value:"admin",children:"Administrador / Gerencia"}),m.jsx("option",{value:"ventas",children:"Ventas"}),m.jsx("option",{value:"sgi",children:"SGI (Gestin)"}),m.jsx("option",{value:"logistica",children:"Logstica"}),m.jsx("option",{value:"operaciones",children:"Operaciones"})]})]}),m.jsx("div",{className:"input-group",style:{marginBottom:0,display:"flex",alignItems:"center",height:"48px"},children:m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:0},children:[m.jsx("input",{type:"checkbox",checked:h.canManageAssets,onChange:C=>f({...h,canManageAssets:C.target.checked}),style:{width:"20px",height:"20px"}}),"Gestor de Activos"]})}),m.jsxs("div",{style:{display:"flex",gap:"5px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{height:"48px",padding:"0 20px",background:o?"var(--warning)":"var(--primary)",flex:1},children:o?"Actualizar":"Registrar"}),o&&m.jsx("button",{type:"button",onClick:A,style:{height:"48px",padding:"0 15px",background:"rgba(255,255,255,0.05)"},children:m.jsx(km,{size:20})})]})]})}),m.jsx("h3",{style:{marginBottom:"20px",fontSize:"1.1rem"},children:"Cuentas Existentes"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(C=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid var(--border-color)",opacity:o&&o.id===C.id?.6:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[m.jsx("div",{style:{background:C.role==="admin"?"rgba(245, 158, 11, 0.1)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px"},children:C.role==="admin"?m.jsx(JT,{size:20,color:"var(--warning)"}):m.jsx(l4,{size:20,color:"var(--text-muted)"})}),m.jsxs("div",{children:[m.jsxs("div",{style:{fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},children:[C.name||C.username,C.canManageAssets&&C.role!=="admin"&&m.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(0, 108, 224, 0.2)",color:"var(--primary)",padding:"2px 6px",borderRadius:"4px"},children:"Gestor Activos"})]}),m.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["@",C.username,"  ",C.email,"  ",m.jsx("span",{style:{textTransform:"capitalize"},children:C.role})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:()=>v(C),style:{background:"rgba(52, 211, 153, 0.1)",color:"var(--success)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Editar Usuario",children:m.jsx(Su,{size:18})}),C.username!=="admin"&&m.jsx("button",{onClick:()=>{confirm(`Eliminar al usuario ${C.username}?`)&&e(C.id)},style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Eliminar Usuario",children:m.jsx(Au,{size:18})})]})]},C.id))})]})},gC="modulepreload",mC=function(n){return"/"+n},Dv={},Mg=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=f(t.map(d=>{if(d=mC(d),d in Dv)return;Dv[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const C=document.createElement("link");if(C.rel=v?"stylesheet":gC,v||(C.as="script"),C.crossOrigin="",C.href=d,h&&C.setAttribute("nonce",h),document.head.appendChild(C),v)return new Promise((_,z)=>{C.addEventListener("load",_),C.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Zn(n){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(n)}var po=Uint8Array,ys=Uint16Array,Om=Int32Array,Pm=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zm=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kv=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u4=function(n,e){for(var t=new ys(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new Om(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},c4=u4(Pm,2),yC=c4.b,j0=c4.r;yC[28]=258,j0[258]=28;var vC=u4(zm,0),Mv=vC.r,L0=new ys(32768);for(var xi=0;xi<32768;++xi){var fu=(xi&43690)>>1|(xi&21845)<<1;fu=(fu&52428)>>2|(fu&13107)<<2,fu=(fu&61680)>>4|(fu&3855)<<4,L0[xi]=((fu&65280)>>8|(fu&255)<<8)>>1}var Tf=(function(n,e,t){for(var r=n.length,s=0,o=new ys(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new ys(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var h;if(t){h=new ys(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],v=e-n[s],A=c[n[s]-1]++<<v,C=A|(1<<v)-1;A<=C;++A)h[L0[A]>>f]=d}else for(h=new ys(r),s=0;s<r;++s)n[s]&&(h[s]=L0[c[n[s]-1]++]>>15-n[s]);return h}),hc=new po(288);for(var xi=0;xi<144;++xi)hc[xi]=8;for(var xi=144;xi<256;++xi)hc[xi]=9;for(var xi=256;xi<280;++xi)hc[xi]=7;for(var xi=280;xi<288;++xi)hc[xi]=8;var Dp=new po(32);for(var xi=0;xi<32;++xi)Dp[xi]=5;var bC=Tf(hc,9,0),xC=Tf(Dp,5,0),h4=function(n){return(n+7)/8|0},_C=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new po(n.subarray(e,t))},Al=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},pf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Og=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:d4,l:0};if(s==1){var c=new po(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(Se,je){return Se.f-je.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],d=0,v=1,A=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=s-1;)h=t[t[d].f<t[A].f?d++:A++],f=t[d!=v&&t[d].f<t[A].f?d++:A++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var C=o[0].s,r=1;r<s;++r)o[r].s>C&&(C=o[r].s);var _=new ys(C+1),z=D0(t[v-1],_,0);if(z>e){var r=0,H=0,U=z-e,B=1<<U;for(o.sort(function(je,$){return _[$.s]-_[je.s]||je.f-$.f});r<s;++r){var ne=o[r].s;if(_[ne]>e)H+=B-(1<<z-_[ne]),_[ne]=e;else break}for(H>>=U;H>0;){var ae=o[r].s;_[ae]<e?H-=1<<e-_[ae]++-1:++r}for(;r>=0&&H;--r){var se=o[r].s;_[se]==e&&(--_[se],++H)}z=e}return{t:new po(_),l:z}},D0=function(n,e,t){return n.s==-1?Math.max(D0(n.l,e,t+1),D0(n.r,e,t+1)):e[n.s]=t},Ov=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ys(++e),r=0,s=n[0],o=1,c=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==s&&h!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[h]}return{c:t.subarray(0,r),n:e}},gf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},f4=function(n,e,t){var r=t.length,s=h4(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Pv=function(n,e,t,r,s,o,c,h,f,d,v){Al(e,v++,t),++s[256];for(var A=Og(s,15),C=A.t,_=A.l,z=Og(o,15),H=z.t,U=z.l,B=Ov(C),ne=B.c,ae=B.n,se=Ov(H),Se=se.c,je=se.n,$=new ys(19),O=0;O<ne.length;++O)++$[ne[O]&31];for(var O=0;O<Se.length;++O)++$[Se[O]&31];for(var w=Og($,7),q=w.t,I=w.l,N=19;N>4&&!q[kv[N-1]];--N);var E=d+5<<3,Q=gf(s,hc)+gf(o,Dp)+c,de=gf(s,C)+gf(o,H)+c+14+3*N+gf($,q)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&E<=Q&&E<=de)return f4(e,v,n.subarray(f,f+d));var ie,he,ee,pe;if(Al(e,v,1+(de<Q)),v+=2,de<Q){ie=Tf(C,_,0),he=C,ee=Tf(H,U,0),pe=H;var Ce=Tf(q,I,0);Al(e,v,ae-257),Al(e,v+5,je-1),Al(e,v+10,N-4),v+=14;for(var O=0;O<N;++O)Al(e,v+3*O,q[kv[O]]);v+=3*N;for(var Z=[ne,Se],k=0;k<2;++k)for(var P=Z[k],O=0;O<P.length;++O){var Y=P[O]&31;Al(e,v,Ce[Y]),v+=q[Y],Y>15&&(Al(e,v,P[O]>>5&127),v+=P[O]>>12)}}else ie=bC,he=hc,ee=xC,pe=Dp;for(var O=0;O<h;++O){var M=r[O];if(M>255){var Y=M>>18&31;pf(e,v,ie[Y+257]),v+=he[Y+257],Y>7&&(Al(e,v,M>>23&31),v+=Pm[Y]);var re=M&31;pf(e,v,ee[re]),v+=pe[re],re>3&&(pf(e,v,M>>5&8191),v+=zm[re])}else pf(e,v,ie[M]),v+=he[M]}return pf(e,v,ie[256]),v+he[256]},wC=new Om([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),d4=new po(0),SC=function(n,e,t,r,s,o){var c=o.z||n.length,h=new po(r+c+5*(1+Math.ceil(c/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var A=wC[e-1],C=A>>13,_=A&8191,z=(1<<t)-1,H=o.p||new ys(32768),U=o.h||new ys(z+1),B=Math.ceil(t/3),ne=2*B,ae=function(ct){return(n[ct]^n[ct+1]<<B^n[ct+2]<<ne)&z},se=new Om(25e3),Se=new ys(288),je=new ys(32),$=0,O=0,w=o.i||0,q=0,I=o.w||0,N=0;w+2<c;++w){var E=ae(w),Q=w&32767,de=U[E];if(H[Q]=de,U[E]=Q,I<=w){var ie=c-w;if(($>7e3||q>24576)&&(ie>423||!d)){v=Pv(n,f,0,se,Se,je,O,q,N,w-N,v),q=$=O=0,N=w;for(var he=0;he<286;++he)Se[he]=0;for(var he=0;he<30;++he)je[he]=0}var ee=2,pe=0,Ce=_,Z=Q-de&32767;if(ie>2&&E==ae(w-Z))for(var k=Math.min(C,ie)-1,P=Math.min(32767,w),Y=Math.min(258,ie);Z<=P&&--Ce&&Q!=de;){if(n[w+ee]==n[w+ee-Z]){for(var M=0;M<Y&&n[w+M]==n[w+M-Z];++M);if(M>ee){if(ee=M,pe=Z,M>k)break;for(var re=Math.min(Z,M-2),fe=0,he=0;he<re;++he){var _e=w-Z+he&32767,me=H[_e],Me=_e-me&32767;Me>fe&&(fe=Me,de=_e)}}}Q=de,de=H[Q],Z+=Q-de&32767}if(pe){se[q++]=268435456|j0[ee]<<18|Mv[pe];var We=j0[ee]&31,tt=Mv[pe]&31;O+=Pm[We]+zm[tt],++Se[257+We],++je[tt],I=w+ee,++$}else se[q++]=n[w],++Se[n[w]]}}for(w=Math.max(w,I);w<c;++w)se[q++]=n[w],++Se[n[w]];v=Pv(n,f,d,se,Se,je,O,q,N,w-N,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=U,o.p=H,o.i=w,o.w=I)}else{for(var w=o.w||0;w<c+d;w+=65535){var nt=w+65535;nt>=c&&(f[v/8|0]=d,nt=c),v=f4(f,v+1,n.subarray(w,nt))}o.i=c}return _C(h,0,r+h4(v)+s)},p4=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},AC=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new po(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return SC(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},g4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},EC=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=p4();s.p(e.dictionary),g4(n,2,s.d())}};function k0(n,e){e||(e={});var t=p4();t.p(n);var r=AC(n,e,e.dictionary?6:2,4);return EC(r,e),g4(r,r.length-4,t.d()),r}var TC=typeof TextDecoder<"u"&&new TextDecoder,CC=0;try{TC.decode(d4,{stream:!0}),CC=1}catch{}function NC(n){if(Array.isArray(n))return n}function RC(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,h=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(v){d=!0,s=v}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function zv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function IC(n,e){if(n){if(typeof n=="string")return zv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zv(n,e):void 0}}function jC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fv(n,e){return NC(n)||RC(n,e)||IC(n,e)||jC()}function Bv(n,e="utf8"){return new TextDecoder(e).decode(n)}const LC=new TextEncoder;function DC(n){return LC.encode(n)}const kC=1024*8,MC=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Pg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Fm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=kC,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof Fm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Pg[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===MC&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new Pg[t](h.buffer);return this.offset+=r,f.reverse(),f}const c=new Pg[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Bv(this.readBytes(e))}decodeText(e=1,t="utf8"){return Bv(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(DC(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ch(n){let e=n.length;for(;--e>=0;)n[e]=0}const OC=3,PC=258,m4=29,zC=256,FC=zC+1+m4,y4=30,BC=512,VC=new Array((FC+2)*2);Ch(VC);const UC=new Array(y4*2);Ch(UC);const qC=new Array(BC);Ch(qC);const HC=new Array(PC-OC+1);Ch(HC);const GC=new Array(m4);Ch(GC);const YC=new Array(y4);Ch(YC);const WC=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var M0=WC;const $C=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},KC=new Uint32Array($C()),QC=(n,e,t,r)=>{const s=KC,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var Fo=QC,O0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const XC=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ZC=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)XC(t,r)&&(n[r]=t[r])}}return n},JC=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},b4={assign:ZC,flattenChunks:JC};let x4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x4=!1}const zf=new Uint8Array(256);for(let n=0;n<256;n++)zf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;zf[254]=zf[254]=1;var eN=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,h=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,s=0;o<h;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const tN=(n,e)=>{if(e<65534&&n.subarray&&x4)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var nN=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let h=zf[c];if(h>4){o[s++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<t;)c=c<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return tN(o,s)},iN=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+zf[n[t]]>e?t:e},P0={string2buf:eN,buf2string:nN,utf8border:iN};function rN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aN=rN;const $d=16209,sN=16191;var oN=function(e,t){let r,s,o,c,h,f,d,v,A,C,_,z,H,U,B,ne,ae,se,Se,je,$,O,w,q;const I=e.state;r=e.next_in,w=e.input,s=r+(e.avail_in-5),o=e.next_out,q=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),f=I.dmax,d=I.wsize,v=I.whave,A=I.wnext,C=I.window,_=I.hold,z=I.bits,H=I.lencode,U=I.distcode,B=(1<<I.lenbits)-1,ne=(1<<I.distbits)-1;e:do{z<15&&(_+=w[r++]<<z,z+=8,_+=w[r++]<<z,z+=8),ae=H[_&B];t:for(;;){if(se=ae>>>24,_>>>=se,z-=se,se=ae>>>16&255,se===0)q[o++]=ae&65535;else if(se&16){Se=ae&65535,se&=15,se&&(z<se&&(_+=w[r++]<<z,z+=8),Se+=_&(1<<se)-1,_>>>=se,z-=se),z<15&&(_+=w[r++]<<z,z+=8,_+=w[r++]<<z,z+=8),ae=U[_&ne];n:for(;;){if(se=ae>>>24,_>>>=se,z-=se,se=ae>>>16&255,se&16){if(je=ae&65535,se&=15,z<se&&(_+=w[r++]<<z,z+=8,z<se&&(_+=w[r++]<<z,z+=8)),je+=_&(1<<se)-1,je>f){e.msg="invalid distance too far back",I.mode=$d;break e}if(_>>>=se,z-=se,se=o-c,je>se){if(se=je-se,se>v&&I.sane){e.msg="invalid distance too far back",I.mode=$d;break e}if($=0,O=C,A===0){if($+=d-se,se<Se){Se-=se;do q[o++]=C[$++];while(--se);$=o-je,O=q}}else if(A<se){if($+=d+A-se,se-=A,se<Se){Se-=se;do q[o++]=C[$++];while(--se);if($=0,A<Se){se=A,Se-=se;do q[o++]=C[$++];while(--se);$=o-je,O=q}}}else if($+=A-se,se<Se){Se-=se;do q[o++]=C[$++];while(--se);$=o-je,O=q}for(;Se>2;)q[o++]=O[$++],q[o++]=O[$++],q[o++]=O[$++],Se-=3;Se&&(q[o++]=O[$++],Se>1&&(q[o++]=O[$++]))}else{$=o-je;do q[o++]=q[$++],q[o++]=q[$++],q[o++]=q[$++],Se-=3;while(Se>2);Se&&(q[o++]=q[$++],Se>1&&(q[o++]=q[$++]))}}else if((se&64)===0){ae=U[(ae&65535)+(_&(1<<se)-1)];continue n}else{e.msg="invalid distance code",I.mode=$d;break e}break}}else if((se&64)===0){ae=H[(ae&65535)+(_&(1<<se)-1)];continue t}else if(se&32){I.mode=sN;break e}else{e.msg="invalid literal/length code",I.mode=$d;break e}break}}while(r<s&&o<h);Se=z>>3,r-=Se,z-=Se<<3,_&=(1<<z)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<h?257+(h-o):257-(o-h),I.hold=_,I.bits=z};const Zc=15,Vv=852,Uv=592,qv=0,zg=1,Hv=2,lN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fN=(n,e,t,r,s,o,c,h)=>{const f=h.bits;let d=0,v=0,A=0,C=0,_=0,z=0,H=0,U=0,B=0,ne=0,ae,se,Se,je,$,O=null,w;const q=new Uint16Array(Zc+1),I=new Uint16Array(Zc+1);let N=null,E,Q,de;for(d=0;d<=Zc;d++)q[d]=0;for(v=0;v<r;v++)q[e[t+v]]++;for(_=f,C=Zc;C>=1&&q[C]===0;C--);if(_>C&&(_=C),C===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<C&&q[A]===0;A++);for(_<A&&(_=A),U=1,d=1;d<=Zc;d++)if(U<<=1,U-=q[d],U<0)return-1;if(U>0&&(n===qv||C!==1))return-1;for(I[1]=0,d=1;d<Zc;d++)I[d+1]=I[d]+q[d];for(v=0;v<r;v++)e[t+v]!==0&&(c[I[e[t+v]]++]=v);if(n===qv?(O=N=c,w=20):n===zg?(O=lN,N=uN,w=257):(O=cN,N=hN,w=0),ne=0,v=0,d=A,$=o,z=_,H=0,Se=-1,B=1<<_,je=B-1,n===zg&&B>Vv||n===Hv&&B>Uv)return 1;for(;;){E=d-H,c[v]+1<w?(Q=0,de=c[v]):c[v]>=w?(Q=N[c[v]-w],de=O[c[v]-w]):(Q=96,de=0),ae=1<<d-H,se=1<<z,A=se;do se-=ae,s[$+(ne>>H)+se]=E<<24|Q<<16|de|0;while(se!==0);for(ae=1<<d-1;ne&ae;)ae>>=1;if(ae!==0?(ne&=ae-1,ne+=ae):ne=0,v++,--q[d]===0){if(d===C)break;d=e[t+c[v]]}if(d>_&&(ne&je)!==Se){for(H===0&&(H=_),$+=A,z=d-H,U=1<<z;z+H<C&&(U-=q[z+H],!(U<=0));)z++,U<<=1;if(B+=1<<z,n===zg&&B>Vv||n===Hv&&B>Uv)return 1;Se=ne&je,s[Se]=_<<24|z<<16|$-o|0}}return ne!==0&&(s[$+ne]=d-H<<24|64<<16|0),h.bits=_,0};var Cf=fN;const dN=0,_4=1,w4=2,{Z_FINISH:Gv,Z_BLOCK:pN,Z_TREES:Kd,Z_OK:fc,Z_STREAM_END:gN,Z_NEED_DICT:mN,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:S4,Z_MEM_ERROR:A4,Z_BUF_ERROR:yN,Z_DEFLATED:Yv}=v4,i1=16180,Wv=16181,$v=16182,Kv=16183,Qv=16184,Xv=16185,Zv=16186,Jv=16187,eb=16188,tb=16189,kp=16190,El=16191,Fg=16192,nb=16193,Bg=16194,ib=16195,rb=16196,ab=16197,sb=16198,Qd=16199,Xd=16200,ob=16201,lb=16202,ub=16203,cb=16204,hb=16205,Vg=16206,fb=16207,db=16208,Ci=16209,E4=16210,T4=16211,vN=852,bN=592,xN=15,_N=xN,pb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function wN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<i1||e.mode>T4?1:0},C4=n=>{if(mc(n))return Fs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=i1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(vN),e.distcode=e.distdyn=new Int32Array(bN),e.sane=1,e.back=-1,fc},N4=n=>{if(mc(n))return Fs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,C4(n)},R4=(n,e)=>{let t;if(mc(n))return Fs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,N4(n))},I4=(n,e)=>{if(!n)return Fs;const t=new wN;n.state=t,t.strm=n,t.window=null,t.mode=i1;const r=R4(n,e);return r!==fc&&(n.state=null),r},SN=n=>I4(n,_N);let gb=!0,Ug,qg;const AN=n=>{if(gb){Ug=new Int32Array(512),qg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Cf(_4,n.lens,0,288,Ug,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Cf(w4,n.lens,0,32,qg,0,n.work,{bits:5}),gb=!1}n.lencode=Ug,n.lenbits=9,n.distcode=qg,n.distbits=5},j4=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},EN=(n,e)=>{let t,r,s,o,c,h,f,d,v,A,C,_,z,H,U=0,B,ne,ae,se,Se,je,$,O;const w=new Uint8Array(4);let q,I;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mc(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;t=n.state,t.mode===El&&(t.mode=Fg),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,A=h,C=f,O=fc;e:for(;;)switch(t.mode){case i1:if(t.wrap===0){t.mode=Fg;break}for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0),d=0,v=0,t.mode=Wv;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Ci;break}if((d&15)!==Yv){n.msg="unknown compression method",t.mode=Ci;break}if(d>>>=4,v-=4,$=(d&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Ci;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?tb:El,d=0,v=0;break;case Wv:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.flags=d,(t.flags&255)!==Yv){n.msg="unknown compression method",t.mode=Ci;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ci;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=$v;case $v:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,w[2]=d>>>16&255,w[3]=d>>>24&255,t.check=Fo(t.check,w,4,0)),d=0,v=0,t.mode=Kv;case Kv:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=Qv;case Qv:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0}else t.head&&(t.head.extra=null);t.mode=Xv;case Xv:if(t.flags&1024&&(_=t.length,_>h&&(_=h),_&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),$)),t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=Zv;case Zv:if(t.flags&2048){if(h===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Jv;case Jv:if(t.flags&4096){if(h===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,$)break e}else t.head&&(t.head.comment=null);t.mode=eb;case eb:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ci;break}d=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=El;break;case tb:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}n.adler=t.check=pb(d),d=0,v=0,t.mode=kp;case kp:if(t.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,mN;n.adler=t.check=1,t.mode=El;case El:if(e===pN||e===Kd)break e;case Fg:if(t.last){d>>>=v&7,v-=v&7,t.mode=Vg;break}for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}switch(t.last=d&1,d>>>=1,v-=1,d&3){case 0:t.mode=nb;break;case 1:if(AN(t),t.mode=Qd,e===Kd){d>>>=2,v-=2;break e}break;case 2:t.mode=rb;break;case 3:n.msg="invalid block type",t.mode=Ci}d>>>=2,v-=2;break;case nb:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ci;break}if(t.length=d&65535,d=0,v=0,t.mode=Bg,e===Kd)break e;case Bg:t.mode=ib;case ib:if(_=t.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break e;s.set(r.subarray(o,o+_),c),h-=_,o+=_,f-=_,c+=_,t.length-=_;break}t.mode=El;break;case rb:for(;v<14;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.nlen=(d&31)+257,d>>>=5,v-=5,t.ndist=(d&31)+1,d>>>=5,v-=5,t.ncode=(d&15)+4,d>>>=4,v-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ci;break}t.have=0,t.mode=ab;case ab:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.lens[N[t.have++]]=d&7,d>>>=3,v-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},O=Cf(dN,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,O){n.msg="invalid code lengths set",t.mode=Ci;break}t.have=0,t.mode=sb;case sb:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[d&(1<<t.lenbits)-1],B=U>>>24,ne=U>>>16&255,ae=U&65535,!(B<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ae<16)d>>>=B,v-=B,t.lens[t.have++]=ae;else{if(ae===16){for(I=B+2;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(d>>>=B,v-=B,t.have===0){n.msg="invalid bit length repeat",t.mode=Ci;break}$=t.lens[t.have-1],_=3+(d&3),d>>>=2,v-=2}else if(ae===17){for(I=B+3;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=B,v-=B,$=0,_=3+(d&7),d>>>=3,v-=3}else{for(I=B+7;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=B,v-=B,$=0,_=11+(d&127),d>>>=7,v-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ci;break}for(;_--;)t.lens[t.have++]=$}}if(t.mode===Ci)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ci;break}if(t.lenbits=9,q={bits:t.lenbits},O=Cf(_4,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,O){n.msg="invalid literal/lengths set",t.mode=Ci;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},O=Cf(w4,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,O){n.msg="invalid distances set",t.mode=Ci;break}if(t.mode=Qd,e===Kd)break e;case Qd:t.mode=Xd;case Xd:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,oN(n,C),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,t.mode===El&&(t.back=-1);break}for(t.back=0;U=t.lencode[d&(1<<t.lenbits)-1],B=U>>>24,ne=U>>>16&255,ae=U&65535,!(B<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ne&&(ne&240)===0){for(se=B,Se=ne,je=ae;U=t.lencode[je+((d&(1<<se+Se)-1)>>se)],B=U>>>24,ne=U>>>16&255,ae=U&65535,!(se+B<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=B,v-=B,t.back+=B,t.length=ae,ne===0){t.mode=hb;break}if(ne&32){t.back=-1,t.mode=El;break}if(ne&64){n.msg="invalid literal/length code",t.mode=Ci;break}t.extra=ne&15,t.mode=ob;case ob:if(t.extra){for(I=t.extra;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=lb;case lb:for(;U=t.distcode[d&(1<<t.distbits)-1],B=U>>>24,ne=U>>>16&255,ae=U&65535,!(B<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((ne&240)===0){for(se=B,Se=ne,je=ae;U=t.distcode[je+((d&(1<<se+Se)-1)>>se)],B=U>>>24,ne=U>>>16&255,ae=U&65535,!(se+B<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=B,v-=B,t.back+=B,ne&64){n.msg="invalid distance code",t.mode=Ci;break}t.offset=ae,t.extra=ne&15,t.mode=ub;case ub:if(t.extra){for(I=t.extra;v<I;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ci;break}t.mode=cb;case cb:if(f===0)break e;if(_=C-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ci;break}_>t.wnext?(_-=t.wnext,z=t.wsize-_):z=t.wnext-_,_>t.length&&(_=t.length),H=t.window}else H=s,z=c-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do s[c++]=H[z++];while(--_);t.length===0&&(t.mode=Xd);break;case hb:if(f===0)break e;s[c++]=t.length,f--,t.mode=Xd;break;case Vg:if(t.wrap){for(;v<32;){if(h===0)break e;h--,d|=r[o++]<<v,v+=8}if(C-=f,n.total_out+=C,t.total+=C,t.wrap&4&&C&&(n.adler=t.check=t.flags?Fo(t.check,s,C,c-C):M0(t.check,s,C,c-C)),C=f,t.wrap&4&&(t.flags?d:pb(d))!==t.check){n.msg="incorrect data check",t.mode=Ci;break}d=0,v=0}t.mode=fb;case fb:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ci;break}d=0,v=0}t.mode=db;case db:O=gN;break e;case Ci:O=S4;break e;case E4:return A4;case T4:default:return Fs}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,(t.wsize||C!==n.avail_out&&t.mode<Ci&&(t.mode<Vg||e!==Gv))&&j4(n,n.output,n.next_out,C-n.avail_out),A-=n.avail_in,C-=n.avail_out,n.total_in+=A,n.total_out+=C,t.total+=C,t.wrap&4&&C&&(n.adler=t.check=t.flags?Fo(t.check,s,C,n.next_out-C):M0(t.check,s,C,n.next_out-C)),n.data_type=t.bits+(t.last?64:0)+(t.mode===El?128:0)+(t.mode===Qd||t.mode===Bg?256:0),(A===0&&C===0||e===Gv)&&O===fc&&(O=yN),O},TN=n=>{if(mc(n))return Fs;let e=n.state;return e.window&&(e.window=null),n.state=null,fc},CN=(n,e)=>{if(mc(n))return Fs;const t=n.state;return(t.wrap&2)===0?Fs:(t.head=e,e.done=!1,fc)},NN=(n,e)=>{const t=e.length;let r,s,o;return mc(n)||(r=n.state,r.wrap!==0&&r.mode!==kp)?Fs:r.mode===kp&&(s=1,s=M0(s,e,t,0),s!==r.check)?S4:(o=j4(n,e,t,t),o?(r.mode=E4,A4):(r.havedict=1,fc))};var RN=N4,IN=R4,jN=C4,LN=SN,DN=I4,kN=EN,MN=TN,ON=CN,PN=NN,zN="pako inflate (from Nodeca project)",Tl={inflateReset:RN,inflateReset2:IN,inflateResetKeep:jN,inflateInit:LN,inflateInit2:DN,inflate:kN,inflateEnd:MN,inflateGetHeader:ON,inflateSetDictionary:PN,inflateInfo:zN};function FN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var BN=FN;const L4=Object.prototype.toString,{Z_NO_FLUSH:VN,Z_FINISH:UN,Z_OK:Ff,Z_STREAM_END:Hg,Z_NEED_DICT:Gg,Z_STREAM_ERROR:qN,Z_DATA_ERROR:mb,Z_MEM_ERROR:HN}=v4;function Wf(n){this.options=b4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aN,this.strm.avail_out=0;let t=Tl.inflateInit2(this.strm,e.windowBits);if(t!==Ff)throw new Error(O0[t]);if(this.header=new BN,Tl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P0.string2buf(e.dictionary):L4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Tl.inflateSetDictionary(this.strm,e.dictionary),t!==Ff)))throw new Error(O0[t])}Wf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?UN:VN,L4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Tl.inflate(t,c),o===Gg&&s&&(o=Tl.inflateSetDictionary(t,s),o===Ff?o=Tl.inflate(t,c):o===mb&&(o=Gg));t.avail_in>0&&o===Hg&&t.state.wrap>0&&n[t.next_in]!==0;)Tl.inflateReset(t),o=Tl.inflate(t,c);switch(o){case qN:case mb:case Gg:case HN:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===Hg))if(this.options.to==="string"){let f=P0.utf8border(t.output,t.next_out),d=t.next_out-f,v=P0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Ff&&h===0)){if(o===Hg)return o=Tl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Wf.prototype.onData=function(n){this.chunks.push(n)};Wf.prototype.onEnd=function(n){n===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function GN(n,e){const t=new Wf(e);if(t.push(n),t.err)throw t.msg||O0[t.err];return t.result}var YN=Wf,WN=GN,$N={Inflate:YN,inflate:WN};const{Inflate:KN,inflate:QN}=$N;var yb=KN,XN=QN;const D4=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;D4[n]=e}const vb=4294967295;function ZN(n,e,t){let r=n;for(let s=0;s<t;s++)r=D4[(r^e[s])&255]^r>>>8;return r}function JN(n,e){return(ZN(vb,n,e)^vb)>>>0}function bb(n,e,t){const r=n.readUint32(),s=JN(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function k4(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function M4(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function O4(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function P4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function z4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+e7(e[o-s],t[o],t[o-s])&255}}function e7(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function t7(n,e,t,r,s,o){switch(n){case 0:k4(e,t,s);break;case 1:M4(e,t,s,o);break;case 2:O4(e,t,r,s);break;case 3:P4(e,t,r,s,o);break;case 4:z4(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const n7=new Uint16Array([255]),i7=new Uint8Array(n7.buffer),r7=i7[0]===255;function a7(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*t*h);let d=0;for(let v=0;v<7;v++){const A=c[v],C=Math.ceil((t-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(C<=0||_<=0)continue;const z=C*h,H=new Uint8Array(z);for(let U=0;U<_;U++){const B=e[d++],ne=e.subarray(d,d+z);d+=z;const ae=new Uint8Array(z);t7(B,ne,ae,H,z,h),H.set(ae);for(let se=0;se<C;se++){const Se=A.x+se*A.xStep,je=A.y+U*A.yStep;if(!(Se>=t||je>=r))for(let $=0;$<h;$++)f[(je*t+Se)*h+$]=ae[se*h+$]}}}if(o===16){const v=new Uint16Array(f.buffer);if(r7)for(let A=0;A<v.length;A++)v[A]=s7(v[A]);return v}else return f}function s7(n){return(n&255)<<8|n>>8&255}const o7=new Uint16Array([255]),l7=new Uint8Array(o7.buffer),u7=l7[0]===255,c7=new Uint8Array(0);function xb(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*t),f=new Uint8Array(r*h);let d=c7,v=0,A,C;for(let _=0;_<r;_++){switch(A=e.subarray(v+1,v+1+h),C=f.subarray(_*h,(_+1)*h),e[v]){case 0:k4(A,C,h);break;case 1:M4(A,C,h,c);break;case 2:O4(A,C,d,h);break;case 3:P4(A,C,d,h,c);break;case 4:z4(A,C,d,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=C,v+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(u7)for(let z=0;z<_.length;z++)_[z]=h7(_[z]);return _}else return f}function h7(n){return(n&255)<<8|n>>8&255}const lp=Uint8Array.of(137,80,78,71,13,10,26,10);function _b(n){if(!f7(n.readBytes(lp.length)))throw new Error("wrong PNG signature")}function f7(n){if(n.length<lp.length)return!1;for(let e=0;e<lp.length;e++)if(n[e]!==lp[e])return!1;return!0}const d7="tEXt",p7=0,F4=new TextDecoder("latin1");function g7(n){if(y7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const m7=/^[\u0000-\u00FF]*$/;function y7(n){if(!m7.test(n))throw new Error("invalid latin1 text")}function v7(n,e,t){const r=B4(e);n[r]=b7(e,t-r.length-1)}function B4(n){for(n.mark();n.readByte()!==p7;);const e=n.offset;n.reset();const t=F4.decode(n.readBytes(e-n.offset-1));return n.skip(1),g7(t),t}function b7(n,e){return F4.decode(n.readBytes(e))}const ps={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Yg={UNKNOWN:-1,DEFLATE:0},wb={UNKNOWN:-1,ADAPTIVE:0},Wg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zd={NONE:0,BACKGROUND:1,PREVIOUS:2},$g={SOURCE:0,OVER:1};class x7 extends Fm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new yb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Yg.UNKNOWN,this._filterMethod=wb.UNKNOWN,this._interlaceMethod=Wg.UNKNOWN,this._colorType=ps.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_b(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(_b(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case d7:v7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?bb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?bb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=_7(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ps.GREYSCALE:r=1;break;case ps.TRUECOLOUR:r=3;break;case ps.INDEXED_COLOUR:r=1;break;case ps.GREYSCALE_ALPHA:r=2;break;case ps.TRUECOLOUR_ALPHA:r=4;break;case ps.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Yg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ps.GREYSCALE:case ps.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ps.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ps.UNKNOWN:case ps.GREYSCALE_ALPHA:case ps.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=B4(this),r=this.readUint8();if(r!==Yg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:XN(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=xb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Zd.NONE:break;case Zd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case Zd.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,f=(o*t.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(t.blendOp){case $g.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++)e.data[h+d]=t.data[f+d]}break;case $g.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++){const v=t.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:t.data[f+d],C=Math.floor(v*A+(1-v)*e.data[h+d]);e.data[h+d]+=C}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wg.NO_INTERLACE)this._png.data=xb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wg.ADAM7)this._png.data=a7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zd.NONE,blendOp:$g.SOURCE,data:e}),this._inflator=new yb,this._writingDataChunks=!1}}function _7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Sb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Sb||(Sb={}));function w7(n,e){return new x7(n,e).decode()}var Gt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Kg(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var hi={log:Kg,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):Kg.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):Kg(n))}};function Qg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ju(r.response,e,t)},r.onerror=function(){hi.error("could not download file")},r.send()}function Ab(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ju=Gt.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Ab(s.href)?Qg(n,e,t):Jd(s,s.target="_blank"):Jd(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Jd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ab(n))Qg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Jd(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Zn(o)!=="object"&&(hi.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Qg(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Gt.HTMLElement)||Gt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Gt.URL||Gt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function V4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var up=Gt.atob.bind(Gt),Eb=Gt.btoa.bind(Gt);function Xg(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=pa(t,r,s,o,e[0],7,-680876936),o=pa(o,t,r,s,e[1],12,-389564586),s=pa(s,o,t,r,e[2],17,606105819),r=pa(r,s,o,t,e[3],22,-1044525330),t=pa(t,r,s,o,e[4],7,-176418897),o=pa(o,t,r,s,e[5],12,1200080426),s=pa(s,o,t,r,e[6],17,-1473231341),r=pa(r,s,o,t,e[7],22,-45705983),t=pa(t,r,s,o,e[8],7,1770035416),o=pa(o,t,r,s,e[9],12,-1958414417),s=pa(s,o,t,r,e[10],17,-42063),r=pa(r,s,o,t,e[11],22,-1990404162),t=pa(t,r,s,o,e[12],7,1804603682),o=pa(o,t,r,s,e[13],12,-40341101),s=pa(s,o,t,r,e[14],17,-1502002290),t=ga(t,r=pa(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ga(o,t,r,s,e[6],9,-1069501632),s=ga(s,o,t,r,e[11],14,643717713),r=ga(r,s,o,t,e[0],20,-373897302),t=ga(t,r,s,o,e[5],5,-701558691),o=ga(o,t,r,s,e[10],9,38016083),s=ga(s,o,t,r,e[15],14,-660478335),r=ga(r,s,o,t,e[4],20,-405537848),t=ga(t,r,s,o,e[9],5,568446438),o=ga(o,t,r,s,e[14],9,-1019803690),s=ga(s,o,t,r,e[3],14,-187363961),r=ga(r,s,o,t,e[8],20,1163531501),t=ga(t,r,s,o,e[13],5,-1444681467),o=ga(o,t,r,s,e[2],9,-51403784),s=ga(s,o,t,r,e[7],14,1735328473),t=ma(t,r=ga(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ma(o,t,r,s,e[8],11,-2022574463),s=ma(s,o,t,r,e[11],16,1839030562),r=ma(r,s,o,t,e[14],23,-35309556),t=ma(t,r,s,o,e[1],4,-1530992060),o=ma(o,t,r,s,e[4],11,1272893353),s=ma(s,o,t,r,e[7],16,-155497632),r=ma(r,s,o,t,e[10],23,-1094730640),t=ma(t,r,s,o,e[13],4,681279174),o=ma(o,t,r,s,e[0],11,-358537222),s=ma(s,o,t,r,e[3],16,-722521979),r=ma(r,s,o,t,e[6],23,76029189),t=ma(t,r,s,o,e[9],4,-640364487),o=ma(o,t,r,s,e[12],11,-421815835),s=ma(s,o,t,r,e[15],16,530742520),t=ya(t,r=ma(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ya(o,t,r,s,e[7],10,1126891415),s=ya(s,o,t,r,e[14],15,-1416354905),r=ya(r,s,o,t,e[5],21,-57434055),t=ya(t,r,s,o,e[12],6,1700485571),o=ya(o,t,r,s,e[3],10,-1894986606),s=ya(s,o,t,r,e[10],15,-1051523),r=ya(r,s,o,t,e[1],21,-2054922799),t=ya(t,r,s,o,e[8],6,1873313359),o=ya(o,t,r,s,e[15],10,-30611744),s=ya(s,o,t,r,e[6],15,-1560198380),r=ya(r,s,o,t,e[13],21,1309151649),t=ya(t,r,s,o,e[4],6,-145523070),o=ya(o,t,r,s,e[11],10,-1120210379),s=ya(s,o,t,r,e[2],15,718787259),r=ya(r,s,o,t,e[9],21,-343485551),n[0]=gu(t,n[0]),n[1]=gu(r,n[1]),n[2]=gu(s,n[2]),n[3]=gu(o,n[3])}function r1(n,e,t,r,s,o){return e=gu(gu(e,n),gu(r,o)),gu(e<<s|e>>>32-s,t)}function pa(n,e,t,r,s,o,c){return r1(e&t|~e&r,n,e,s,o,c)}function ga(n,e,t,r,s,o,c){return r1(e&r|t&~r,n,e,s,o,c)}function ma(n,e,t,r,s,o,c){return r1(e^t^r,n,e,s,o,c)}function ya(n,e,t,r,s,o,c){return r1(t^(e|~r),n,e,s,o,c)}function U4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Xg(r,S7(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Xg(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Xg(r,s),r}function S7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Tb="0123456789abcdef".split("");function A7(n){for(var e="",t=0;t<4;t++)e+=Tb[n>>8*t+4&15]+Tb[n>>8*t&15];return e}function E7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function z0(n){return U4(n).map(E7).join("")}var T7=(function(n){for(var e=0;e<n.length;e++)n[e]=A7(n[e]);return n.join("")})(U4("hello"))!="5d41402abc4b2a76b9719d911017c592";function gu(n,e){if(T7){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function F0(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}t=n,r=h}else h=r;var A=e.length,C=0,_=0,z="";for(f=0;f<A;f++)_=(_+(v=h[C=(C+1)%256]))%256,h[C]=h[_],h[_]=v,c=h[(h[C]+h[_])%256],z+=String.fromCharCode(e.charCodeAt(f)^c);return z}var Cb={print:4,modify:8,copy:16,"annot-forms":32};function ah(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(Cb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=Cb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=z0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=F0(this.encryptionKey,this.padding)}function sh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Nb(n){if(Zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(h){Gt.console&&hi.error("jsPDF PubSub Error",h.message,h)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mp(n){if(!(this instanceof Mp))return new Mp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function q4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ec(n,e,t,r,s){if(!(this instanceof ec))return new ec(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,q4.call(this,r,s)}function oh(n,e,t,r,s){if(!(this instanceof oh))return new oh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,q4.call(this,r,s)}function yt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",v=null;Zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,C={},_={internal:{},__private__:{}};_.__private__.PubSub=Nb;var z="1.3",H=_.__private__.getPdfVersion=function(){return z};_.__private__.setPdfVersion=function(S){z=S};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return U};var B=_.__private__.getPageFormat=function(S){return U[S]};s=s||"a4";var ne="compat",ae="advanced",se=ne;function Se(){this.saveGraphicsState(),oe(new At(qt,0,0,-qt,0,Aa()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),d="n",se=ae}function je(){this.restoreGraphicsState(),d="S",se=ne}var $=_.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};_.advancedAPI=function(S){var F=se===ne;return F&&Se.call(this),typeof S!="function"||(S(this),F&&je.call(this)),this},_.compatAPI=function(S){var F=se===ae;return F&&je.call(this),typeof S!="function"||(S(this),F&&Se.call(this)),this},_.isAdvancedAPI=function(){return se===ae};var O,w=function(S){if(se!==ae)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=_.roundToPrecision=_.__private__.roundToPrecision=function(S,F){var ue=e||F;if(isNaN(S)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ue).replace(/0+$/,"")};O=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,16)};var I=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return q(S,2)},N=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return q(S,3)},E=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return se===ne?S*qt:se===ae?S:void 0},Q=function(S){return E((function(F){return se===ne?Aa()-F:se===ae?F:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var de,ie="00000000000000000000000000000000",he=_.__private__.getFileId=function(){return ie},ee=_.__private__.setFileId=function(S){return ie=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(oi=new ah(v.userPermissions,v.userPassword,v.ownerPassword,ie)),ie};_.setFileId=function(S){return ee(S),this},_.getFileId=function(){return he()};var pe=_.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),ue=F<0?"+":"-",ye=Math.floor(Math.abs(F/60)),we=Math.abs(F%60),Fe=[ue,Y(ye),"'",Y(we),"'"].join("");return["D:",S.getFullYear(),Y(S.getMonth()+1),Y(S.getDate()),Y(S.getHours()),Y(S.getMinutes()),Y(S.getSeconds()),Fe].join("")},Ce=_.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),ue=parseInt(S.substr(6,2),10)-1,ye=parseInt(S.substr(8,2),10),we=parseInt(S.substr(10,2),10),Fe=parseInt(S.substr(12,2),10),$e=parseInt(S.substr(14,2),10);return new Date(F,ue,ye,we,Fe,$e,0)},Z=_.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=pe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return de=F},k=_.__private__.getCreationDate=function(S){var F=de;return S==="jsDate"&&(F=Ce(de)),F};_.setCreationDate=function(S){return Z(S),this},_.getCreationDate=function(S){return k(S)};var P,Y=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},M=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},re=0,fe=[],_e=[],me=0,Me=[],We=[],tt=!1,nt=_e;_.__private__.setCustomOutputDestination=function(S){tt=!0,nt=S};var ct=function(S){tt||(nt=S)};_.__private__.resetCustomOutputDestination=function(){tt=!1,nt=_e};var oe=_.__private__.out=function(S){return S=S.toString(),me+=S.length+1,nt.push(S),nt},et=_.__private__.write=function(S){return oe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Yt=_.__private__.getArrayBuffer=function(S){for(var F=S.length,ue=new ArrayBuffer(F),ye=new Uint8Array(ue);F--;)ye[F]=S.charCodeAt(F);return ue},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Tt};var Ue=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return Ue=se===ae?S/qt:S,this};var rt,it=_.__private__.getFontSize=_.getFontSize=function(){return se===ne?Ue:Ue*qt},Nt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Nt=S,this},_.__private__.getR2L=_.getR2L=function(){return Nt};var _t,Wt=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))rt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');rt=S}else rt=parseInt(S,10)};_.__private__.getZoomMode=function(){return rt};var Zt,Bt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_t=S};_.__private__.getPageMode=function(){return _t};var sn=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Zt=S};_.__private__.getLayoutMode=function(){return Zt},_.__private__.setDisplayMode=_.setDisplayMode=function(S,F,ue){return Wt(S),sn(F),Bt(ue),this};var Kt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(Kt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Kt[S]},_.__private__.getDocumentProperties=function(){return Kt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var F in Kt)Kt.hasOwnProperty(F)&&S[F]&&(Kt[F]=S[F]);return this},_.__private__.setDocumentProperty=function(S,F){if(Object.keys(Kt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Kt[S]=F};var mt,qt,vt,fi,Qt,Ct={},Pt={},$t=[],St={},In={},Mt={},Ot={},Dn=null,wt=0,bt=[],on=new Nb(_),fr=n.hotfixes||[],er={},Ia={},Gi=[],At=function S(F,ue,ye,we,Fe,$e){if(!(this instanceof S))return new S(F,ue,ye,we,Fe,$e);isNaN(F)&&(F=1),isNaN(ue)&&(ue=0),isNaN(ye)&&(ye=0),isNaN(we)&&(we=1),isNaN(Fe)&&(Fe=0),isNaN($e)&&($e=0),this._matrix=[F,ue,ye,we,Fe,$e]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},At.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,ue=S.sx*this.shy+S.shy*this.sy,ye=S.shx*this.sx+S.sy*this.shx,we=S.shx*this.shy+S.sy*this.sy,Fe=S.tx*this.sx+S.ty*this.shx+this.tx,$e=S.tx*this.shy+S.ty*this.sy+this.ty;return new At(F,ue,ye,we,Fe,$e)},At.prototype.decompose=function(){var S=this.sx,F=this.shy,ue=this.shx,ye=this.sy,we=this.tx,Fe=this.ty,$e=Math.sqrt(S*S+F*F),lt=(S/=$e)*ue+(F/=$e)*ye;ue-=S*lt,ye-=F*lt;var dt=Math.sqrt(ue*ue+ye*ye);return lt/=dt,S*(ye/=dt)<F*(ue/=dt)&&(S=-S,F=-F,lt=-lt,$e=-$e),{scale:new At($e,0,0,dt,0,0),translate:new At(1,0,0,1,we,Fe),rotate:new At(S,F,-F,S,0,0),skew:new At(1,0,lt,1,0,0)}},At.prototype.toString=function(S){return this.join(" ")},At.prototype.inversed=function(){var S=this.sx,F=this.shy,ue=this.shx,ye=this.sy,we=this.tx,Fe=this.ty,$e=1/(S*ye-F*ue),lt=ye*$e,dt=-F*$e,jt=-ue*$e,Et=S*$e;return new At(lt,dt,jt,Et,-lt*we-jt*Fe,-dt*we-Et*Fe)},At.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,ue=S.x*this.shy+S.y*this.sy+this.ty;return new ir(F,ue)},At.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),ue=this.applyToPoint(new ir(S.x+S.w,S.y+S.h));return new La(F.x,F.y,ue.x-F.x,ue.y-F.y)},At.prototype.clone=function(){var S=this.sx,F=this.shy,ue=this.shx,ye=this.sy,we=this.tx,Fe=this.ty;return new At(S,F,ue,ye,we,Fe)},_.Matrix=At;var es=_.matrixMult=function(S,F){return F.multiply(S)},Ur=new At(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ur;var Tr=function(S,F){if(!In[S]){var ue=(F instanceof ec?"Sh":"P")+(Object.keys(St).length+1).toString(10);F.id=ue,In[S]=ue,St[ue]=F,on.publish("addPattern",F)}};_.ShadingPattern=ec,_.TilingPattern=oh,_.addShadingPattern=function(S,F){return w("addShadingPattern()"),Tr(S,F),this},_.beginTilingPattern=function(S){w("beginTilingPattern()"),Da(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,F){w("endTilingPattern()"),F.stream=We[P].join(`
`),Tr(S,F),on.publish("endTilingPattern",F),Gi.pop().restore()};var Cr,Un=_.__private__.newObject=function(){var S=Jn();return Mi(S,!0),S},Jn=_.__private__.newObjectDeferred=function(){return re++,fe[re]=function(){return me},re},Mi=function(S,F){return F=typeof F=="boolean"&&F,fe[S]=me,F&&oe(S+" 0 obj"),S},dr=_.__private__.newAdditionalObject=function(){var S={objId:Jn(),content:""};return Me.push(S),S},tr=Jn(),kn=Jn(),Wn=_.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ue=parseFloat(F[0]);F=[ue,ue,ue,"r"]}for(var ye="#",we=0;we<3;we++)ye+=("0"+Math.floor(255*parseFloat(F[we])).toString(16)).slice(-2);return ye},Oi=_.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var ue=S.ch1,ye=S.ch2,we=S.ch3,Fe=S.ch4,$e=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var lt=new V4(ue);if(lt.ok)ue=lt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var dt=parseInt(ue.substr(1),16);ue=dt>>16&255,ye=dt>>8&255,we=255&dt}if(ye===void 0||Fe===void 0&&ue===ye&&ye===we)F=typeof ue=="string"?ue+" "+$e[0]:S.precision===2?I(ue/255)+" "+$e[0]:N(ue/255)+" "+$e[0];else if(Fe===void 0||Zn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",$e[1]].join(" ");F=typeof ue=="string"?[ue,ye,we,$e[1]].join(" "):S.precision===2?[I(ue/255),I(ye/255),I(we/255),$e[1]].join(" "):[N(ue/255),N(ye/255),N(we/255),$e[1]].join(" ")}else F=typeof ue=="string"?[ue,ye,we,Fe,$e[2]].join(" "):S.precision===2?[I(ue),I(ye),I(we),I(Fe),$e[2]].join(" "):[N(ue),N(ye),N(we),N(Fe),$e[2]].join(" ");return F},Nr=_.__private__.getFilters=function(){return c},aa=_.__private__.putStream=function(S){var F=(S=S||{}).data||"",ue=S.filters||Nr(),ye=S.alreadyAppliedFilters||[],we=S.addLength1||!1,Fe=F.length,$e=S.objectId,lt=function(R){return R};if(v!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(lt=oi.encryptor($e,0));var dt={};ue===!0&&(ue=["FlateEncode"]);var jt=S.additionalKeyValues||[],Et=(dt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(F,ue):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(dt.data.length!==0&&(jt.push({key:"Length",value:dt.data.length}),we===!0&&jt.push({key:"Length1",value:Fe})),Et.length!=0)if(Et.split("/").length-1==1)jt.push({key:"Filter",value:Et});else{jt.push({key:"Filter",value:"["+Et+"]"});for(var dn=0;dn<jt.length;dn+=1)if(jt[dn].key==="DecodeParms"){for(var ei=[],qn=0;qn<dt.reverseChain.split("/").length-1;qn+=1)ei.push("null");ei.push(jt[dn].value),jt[dn].value="["+ei.join(" ")+"]"}}oe("<<");for(var g=0;g<jt.length;g++)oe("/"+jt[g].key+" "+jt[g].value);oe(">>"),dt.data.length!==0&&(oe("stream"),oe(lt(dt.data)),oe("endstream"))},vs=_.__private__.putPage=function(S){var F=S.number,ue=S.data,ye=S.objId,we=S.contentsObjId;Mi(ye,!0),oe("<</Type /Page"),oe("/Parent "+S.rootDictionaryObjId+" 0 R"),oe("/Resources "+S.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&oe("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&oe("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&oe("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&oe("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&oe("/UserUnit "+S.userUnit),on.publish("putPage",{objId:ye,pageContext:bt[F],pageNumber:F,page:ue}),oe("/Contents "+we+" 0 R"),oe(">>"),oe("endobj");var Fe=ue.join(`
`);return se===ae&&(Fe+=`
Q`),Mi(we,!0),aa({data:Fe,filters:Nr(),objectId:we}),oe("endobj"),ye},xa=_.__private__.putPages=function(){var S,F,ue=[];for(S=1;S<=wt;S++)bt[S].objId=Jn(),bt[S].contentsObjId=Jn();for(S=1;S<=wt;S++)ue.push(vs({number:S,data:We[S],objId:bt[S].objId,contentsObjId:bt[S].contentsObjId,mediaBox:bt[S].mediaBox,cropBox:bt[S].cropBox,bleedBox:bt[S].bleedBox,trimBox:bt[S].trimBox,artBox:bt[S].artBox,userUnit:bt[S].userUnit,rootDictionaryObjId:tr,resourceDictionaryObjId:kn}));Mi(tr,!0),oe("<</Type /Pages");var ye="/Kids [";for(F=0;F<wt;F++)ye+=ue[F]+" 0 R ";oe(ye+"]"),oe("/Count "+wt),oe(">>"),oe("endobj"),on.publish("postPutPages")},Rr=function(S){on.publish("putFont",{font:S,out:oe,newObject:Un,putStream:aa}),S.isAlreadyPutted!==!0&&(S.objectNumber=Un(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+sh(S.postScriptName)),oe("/Subtype /Type1"),typeof S.encoding=="string"&&oe("/Encoding /"+S.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ts=function(S){S.objectNumber=Un();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ue=S.pages[1].join(`
`);aa({data:ue,additionalKeyValues:F,objectId:S.objectNumber}),oe("endobj")},qr=function(S,F){F||(F=21);var ue=Un(),ye=(function($e,lt){var dt,jt=[],Et=1/(lt-1);for(dt=0;dt<1;dt+=Et)jt.push(dt);if(jt.push(1),$e[0].offset!=0){var dn={offset:0,color:$e[0].color};$e.unshift(dn)}if($e[$e.length-1].offset!=1){var ei={offset:1,color:$e[$e.length-1].color};$e.push(ei)}for(var qn="",g=0,R=0;R<jt.length;R++){for(dt=jt[R];dt>$e[g+1].offset;)g++;var D=$e[g].offset,J=(dt-D)/($e[g+1].offset-D),Ee=$e[g].color,De=$e[g+1].color;qn+=M(Math.round((1-J)*Ee[0]+J*De[0]).toString(16))+M(Math.round((1-J)*Ee[1]+J*De[1]).toString(16))+M(Math.round((1-J)*Ee[2]+J*De[2]).toString(16))}return qn.trim()})(S.colors,F),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+F+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),aa({data:ye,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),oe("endobj"),S.objectNumber=Un(),oe("<< /ShadingType "+S.type),oe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?Fe+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):Fe+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),oe(Fe+="]"),S.matrix&&oe("/Matrix ["+S.matrix.toString()+"]"),oe("/Function "+ue+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},pr=function(S,F){var ue=Jn(),ye=Un();F.push({resourcesOid:ue,objectOid:ye}),S.objectNumber=ye;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),we.push({key:"XStep",value:O(S.xStep)}),we.push({key:"YStep",value:O(S.yStep)}),we.push({key:"Resources",value:ue+" 0 R"}),S.matrix&&we.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),aa({data:S.stream,additionalKeyValues:we,objectId:S.objectNumber}),oe("endobj")},Hr=function(S){for(var F in S.objectNumber=Un(),oe("<<"),S)switch(F){case"opacity":oe("/ca "+I(S[F]));break;case"stroke-opacity":oe("/CA "+I(S[F]))}oe(">>"),oe("endobj")},sa=function(S){Mi(S.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in oe("/Font <<"),Ct)Ct.hasOwnProperty(F)&&(A===!1||A===!0&&C.hasOwnProperty(F))&&oe("/"+F+" "+Ct[F].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(St).length>0){for(var F in oe("/Shading <<"),St)St.hasOwnProperty(F)&&St[F]instanceof ec&&St[F].objectNumber>=0&&oe("/"+F+" "+St[F].objectNumber+" 0 R");on.publish("putShadingPatternDict"),oe(">>")}})(),(function(F){if(Object.keys(St).length>0){for(var ue in oe("/Pattern <<"),St)St.hasOwnProperty(ue)&&St[ue]instanceof _.TilingPattern&&St[ue].objectNumber>=0&&St[ue].objectNumber<F&&oe("/"+ue+" "+St[ue].objectNumber+" 0 R");on.publish("putTilingPatternDict"),oe(">>")}})(S.objectOid),(function(){if(Object.keys(Mt).length>0){var F;for(F in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(F)&&Mt[F].objectNumber>=0&&oe("/"+F+" "+Mt[F].objectNumber+" 0 R");on.publish("putGStateDict"),oe(">>")}})(),(function(){for(var F in oe("/XObject <<"),er)er.hasOwnProperty(F)&&er[F].objectNumber>=0&&oe("/"+F+" "+er[F].objectNumber+" 0 R");on.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},pi=function(S){Pt[S.fontName]=Pt[S.fontName]||{},Pt[S.fontName][S.fontStyle]=S.id},yo=function(S,F,ue,ye,we){var Fe={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:ue,encoding:ye,isStandardFont:we||!1,metadata:{}};return on.publish("addFont",{font:Fe,instance:this}),Ct[Fe.id]=Fe,pi(Fe),Fe.id},Ir=_.__private__.pdfEscape=_.pdfEscape=function(S,F){return(function(ue,ye){var we,Fe,$e,lt,dt,jt,Et,dn,ei;if($e=(ye=ye||{}).sourceEncoding||"Unicode",dt=ye.outputEncoding,(ye.autoencode||dt)&&Ct[mt].metadata&&Ct[mt].metadata[$e]&&Ct[mt].metadata[$e].encoding&&(lt=Ct[mt].metadata[$e].encoding,!dt&&Ct[mt].encoding&&(dt=Ct[mt].encoding),!dt&&lt.codePages&&(dt=lt.codePages[0]),typeof dt=="string"&&(dt=lt[dt]),dt)){for(Et=!1,jt=[],we=0,Fe=ue.length;we<Fe;we++)(dn=dt[ue.charCodeAt(we)])?jt.push(String.fromCharCode(dn)):jt.push(ue[we]),jt[we].charCodeAt(0)>>8&&(Et=!0);ue=jt.join("")}for(we=ue.length;Et===void 0&&we!==0;)ue.charCodeAt(we-1)>>8&&(Et=!0),we--;if(!Et)return ue;for(jt=ye.noBOM?[]:[254,255],we=0,Fe=ue.length;we<Fe;we++){if((ei=(dn=ue.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(ei),jt.push(dn-(ei<<8))}return String.fromCharCode.apply(void 0,jt)})(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=_.__private__.beginPage=function(S){We[++wt]=[],bt[wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},vo(wt),ct(We[P])},_a=function(S,F){var ue,ye,we;switch(t=F||t,typeof S=="string"&&(ue=B(S.toLowerCase()),Array.isArray(ue)&&(ye=ue[0],we=ue[1])),Array.isArray(S)&&(ye=S[0]*qt,we=S[1]*qt),isNaN(ye)&&(ye=s[0],we=s[1]),(ye>14400||we>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),we=Math.min(14400,we)),s=[ye,we],t.substr(0,1)){case"l":we>ye&&(s=[we,ye]);break;case"p":ye>we&&(s=[we,ye])}oa(s),Rt(Lr),oe(Yr),$r!==0&&oe($r+" J"),Ri!==0&&oe(Ri+" j"),on.publish("addPage",{pageNumber:wt})},Bs=function(S){S>0&&S<=wt&&(We.splice(S,1),bt.splice(S,1),wt--,P>wt&&(P=wt),this.setPage(P))},vo=function(S){S>0&&S<=wt&&(P=S)},bo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return We.length-1},Zo=function(S,F,ue){var ye,we=void 0;return ue=ue||{},S=S!==void 0?S:Ct[mt].fontName,F=F!==void 0?F:Ct[mt].fontStyle,ye=S.toLowerCase(),Pt[ye]!==void 0&&Pt[ye][F]!==void 0?we=Pt[ye][F]:Pt[S]!==void 0&&Pt[S][F]!==void 0?we=Pt[S][F]:ue.disableWarning===!1&&hi.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),we||ue.noFallback||(we=Pt.times[F])==null&&(we=Pt.times.normal),we},Gr=_.__private__.putInfo=function(){var S=Un(),F=function(ye){return ye};for(var ue in v!==null&&(F=oi.encryptor(S,0)),oe("<<"),oe("/Producer ("+Ir(F("jsPDF "+yt.version))+")"),Kt)Kt.hasOwnProperty(ue)&&Kt[ue]&&oe("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Ir(F(Kt[ue]))+")");oe("/CreationDate ("+Ir(F(de))+")"),oe(">>"),oe("endobj")},nr=_.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||tr;switch(Un(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+F+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+rt;ue.substr(ue.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+I(rt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}_t&&oe("/PageMode /"+_t),on.publish("putCatalog"),oe(">>"),oe("endobj")},_i=_.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(re+1)),oe("/Root "+re+" 0 R"),oe("/Info "+(re-1)+" 0 R"),v!==null&&oe("/Encrypt "+oi.oid+" 0 R"),oe("/ID [ <"+ie+"> <"+ie+"> ]"),oe(">>")},fn=_.__private__.putHeader=function(){oe("%PDF-"+z),oe("%")},ns=_.__private__.putXRef=function(){var S="0000000000";oe("xref"),oe("0 "+(re+1)),oe("0000000000 65535 f ");for(var F=1;F<=re;F++)typeof fe[F]=="function"?oe((S+fe[F]()).slice(-10)+" 00000 n "):fe[F]!==void 0?oe((S+fe[F]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},la=_.__private__.buildDocument=function(){var S;re=0,me=0,_e=[],fe=[],Me=[],tr=Jn(),kn=Jn(),ct(_e),on.publish("buildDocument"),fn(),xa(),(function(){on.publish("putAdditionalObjects");for(var ue=0;ue<Me.length;ue++){var ye=Me[ue];Mi(ye.objId,!0),oe(ye.content),oe("endobj")}on.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ue in Ct)Ct.hasOwnProperty(ue)&&(A===!1||A===!0&&C.hasOwnProperty(ue))&&Rr(Ct[ue])})(),(function(){var ue;for(ue in Mt)Mt.hasOwnProperty(ue)&&Hr(Mt[ue])})(),(function(){for(var ue in er)er.hasOwnProperty(ue)&&ts(er[ue])})(),(function(ue){var ye;for(ye in St)St.hasOwnProperty(ye)&&(St[ye]instanceof ec?qr(St[ye]):St[ye]instanceof oh&&pr(St[ye],ue))})(S),on.publish("putResources"),S.forEach(sa),sa({resourcesOid:kn,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),v!==null&&(oi.oid=Un(),oe("<<"),oe("/Filter /Standard"),oe("/V "+oi.v),oe("/R "+oi.r),oe("/U <"+oi.toHexString(oi.U)+">"),oe("/O <"+oi.toHexString(oi.O)+">"),oe("/P "+oi.P),oe(">>"),oe("endobj")),Gr(),nr();var F=me;return ns(),_i(),oe("startxref"),oe(""+F),oe("%%EOF"),ct(We[P]),_e.join(`
`)},vn=_.__private__.getBlob=function(S){return new Blob([Yt(S)],{type:"application/pdf"})},bs=_.output=_.__private__.output=(Cr=function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return la();case"save":_.save(F.filename);break;case"arraybuffer":return Yt(la());case"blob":return vn(la());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(vn(la()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ye=la();try{ue=Eb(ye)}catch{ue=Eb(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+F.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(we=F.pdfObjectUrl,Fe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",lt=Gt.open();return lt!==null&&lt.document.write($e),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',jt=Gt.open();if(jt!==null){jt.document.write(dt);var Et=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=F.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ei=Gt.open();if(ei!==null&&(ei.document.write(dn),ei.document.title=F.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",F);default:return null}},Cr.foo=function(){try{return Cr.apply(this,arguments)}catch(ue){var S=ue.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var F="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Gt.console)throw new Error(F);Gt.console.error(F,ue),Gt.alert&&alert(F)}},Cr.foo.bar=Cr,Cr.foo),Ni=function(S){return Array.isArray(fr)===!0&&fr.indexOf(S)>-1};switch(r){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qt=r}var oi=null;Z(),ee();var wi=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[S].objId,pageNumber:S,pageContext:bt[S]}},Vs=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in bt)if(bt[F].objId===S)break;return wi(F)},kl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:bt[P].objId,pageNumber:P,pageContext:bt[P]}};_.addPage=function(){return _a.apply(this,arguments),this},_.setPage=function(){return vo.apply(this,arguments),ct.call(this,We[P]),this},_.insertPage=function(S){return this.addPage(),this.movePage(P,S),this},_.movePage=function(S,F){var ue,ye;if(S>F){ue=We[S],ye=bt[S];for(var we=S;we>F;we--)We[we]=We[we-1],bt[we]=bt[we-1];We[F]=ue,bt[F]=ye,this.setPage(F)}else if(S<F){ue=We[S],ye=bt[S];for(var Fe=S;Fe<F;Fe++)We[Fe]=We[Fe+1],bt[Fe]=bt[Fe+1];We[F]=ue,bt[F]=ye,this.setPage(F)}return this},_.deletePage=function(){return Bs.apply(this,arguments),this},_.__private__.text=_.text=function(S,F,ue,ye,we){var Fe,$e,lt,dt,jt,Et,dn,ei,qn,g=(ye=ye||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof ue=="string"||Array.isArray(ue))){var R=ue;ue=F,F=S,S=R}if(arguments[3]instanceof At==0?(lt=arguments[4],dt=arguments[5],Zn(dn=arguments[3])==="object"&&dn!==null||(typeof lt=="string"&&(dt=lt,lt=null),typeof dn=="string"&&(dt=dn,dn=null),typeof dn=="number"&&(lt=dn,dn=null),ye={flags:dn,angle:lt,align:dt})):(w("The transform parameter of text() with a Matrix value"),qn=we),isNaN(F)||isNaN(ue)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var D,J="",Ee=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:as,De=g.internal.scaleFactor;function Xe(jn){return jn=jn.split("	").join(Array(ye.TabLen||9).join(" ")),Ir(jn,dn)}function Ut(jn){for(var Sn,ni=jn.concat(),ji=[],js=ni.length;js--;)typeof(Sn=ni.shift())=="string"?ji.push(Sn):Array.isArray(jn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?ji.push(Sn[0]):ji.push([Sn[0],Sn[1],Sn[2]]);return ji}function ti(jn,Sn){var ni;if(typeof jn=="string")ni=Sn(jn)[0];else if(Array.isArray(jn)){for(var ji,js,us=jn.concat(),sl=[],Ou=us.length;Ou--;)typeof(ji=us.shift())=="string"?sl.push(Sn(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(js=Sn(ji[0],ji[1],ji[2]),sl.push([js[0],js[1],js[2]]));ni=sl}return ni}var un=!1,On=!0;if(typeof S=="string")un=!0;else if(Array.isArray(S)){var rr=S.concat();$e=[];for(var mr,$n=rr.length;$n--;)(typeof(mr=rr.shift())!="string"||Array.isArray(mr)&&typeof mr[0]!="string")&&(On=!1);un=On}if(un===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var yr=Ue/g.internal.scaleFactor,Ea=yr*(Ee-1);switch(ye.baseline){case"bottom":ue-=Ea;break;case"top":ue+=yr-Ea;break;case"hanging":ue+=yr-2*Ea;break;case"middle":ue+=yr/2-Ea}if((Et=ye.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,Et):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(jn,Sn){return jn.concat(g.splitTextToSize(Sn,Et))},[]))),Fe={text:S,x:F,y:ue,options:ye,mutex:{pdfEscape:Ir,activeFontKey:mt,fonts:Ct,activeFontSize:Ue}},on.publish("preProcessText",Fe),S=Fe.text,lt=(ye=Fe.options).angle,qn instanceof At==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,ye.rotationDirection===0&&(lt=-lt),se===ae&&(lt=-lt);var As=Math.cos(lt),Es=Math.sin(lt);qn=new At(As,Es,-Es,As,0,0)}else lt&&lt instanceof At&&(qn=lt);se!==ae||qn||(qn=Ur),(jt=ye.charSpace||Wr)!==void 0&&(J+=O(E(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=ye.horizontalScale)!==void 0&&(J+=O(100*ei)+` Tz
`),ye.lang;var Qr=-1,Ys=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Ml=g.internal.getCurrentPageInfo().pageContext;switch(Ys){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var ku=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;Qr!==-1?J+=Qr+` Tr
`:ku!==-1&&(J+=`0 Tr
`),Qr!==-1&&(Ml.usedRenderingMode=Qr),dt=ye.align||"left";var Ta,os=Ue*Ee,Ws=g.internal.pageSize.getWidth(),Mu=Ct[mt];jt=ye.charSpace||Wr,Et=ye.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var ls=[],Eo=function(jn){return g.getStringUnitWidth(jn,{font:Mu,charSpace:jt,fontSize:Ue,doKerning:!1})*Ue/De};if(Object.prototype.toString.call(S)==="[object Array]"){var ca;$e=Ut(S),dt!=="left"&&(Ta=$e.map(Eo));var Xr,Ts=0;if(dt==="right"){F-=Ta[0],S=[],$n=$e.length;for(var Cs=0;Cs<$n;Cs++)Cs===0?(Xr=Wi(F),ca=Pi(ue)):(Xr=E(Ts-Ta[Cs]),ca=-os),S.push([$e[Cs],Xr,ca]),Ts=Ta[Cs]}else if(dt==="center"){F-=Ta[0]/2,S=[],$n=$e.length;for(var $s=0;$s<$n;$s++)$s===0?(Xr=Wi(F),ca=Pi(ue)):(Xr=E((Ts-Ta[$s])/2),ca=-os),S.push([$e[$s],Xr,ca]),Ts=Ta[$s]}else if(dt==="left"){S=[],$n=$e.length;for(var Ol=0;Ol<$n;Ol++)S.push($e[Ol])}else if(dt==="justify"&&Mu.encoding==="Identity-H"){S=[],$n=$e.length,Et=Et!==0?Et:Ws;for(var Pl=0,Ii=0;Ii<$n;Ii++)if(ca=Ii===0?Pi(ue):-os,Xr=Ii===0?Wi(F):Pl,Ii<$n-1){var vc=E((Et-Ta[Ii])/($e[Ii].split(" ").length-1)),Ns=$e[Ii].split(" ");S.push([Ns[0]+" ",Xr,ca]),Pl=0;for(var Rs=1;Rs<Ns.length;Rs++){var vr=(Eo(Ns[Rs-1]+" "+Ns[Rs])-Eo(Ns[Rs]))*De+vc;Rs==Ns.length-1?S.push([Ns[Rs],vr,0]):S.push([Ns[Rs]+" ",vr,0]),Pl-=vr}}else S.push([$e[Ii],Xr,ca]);S.push(["",Pl,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],$n=$e.length,Et=Et!==0?Et:Ws,Ii=0;Ii<$n;Ii++){ca=Ii===0?Pi(ue):-os,Xr=Ii===0?Wi(F):0;var Ks=$e[Ii].split(" ").length-1,zl=Ks>0?(Et-Ta[Ii])/Ks:0;Ii<$n-1?ls.push(O(E(zl))):ls.push(0),S.push([$e[Ii],Xr,ca])}}}(typeof ye.R2L=="boolean"?ye.R2L:Nt)===!0&&(S=ti(S,function(jn,Sn,ni){return[jn.split("").reverse().join(""),Sn,ni]})),Fe={text:S,x:F,y:ue,options:ye,mutex:{pdfEscape:Ir,activeFontKey:mt,fonts:Ct,activeFontSize:Ue}},on.publish("postProcessText",Fe),S=Fe.text,D=Fe.mutex.isHex||!1;var Fl=Ct[mt].encoding;Fl!=="WinAnsiEncoding"&&Fl!=="StandardEncoding"||(S=ti(S,function(jn,Sn,ni){return[Xe(jn),Sn,ni]})),$e=Ut(S),S=[];for(var Qs,Xs,Is,al=Array.isArray($e[0])?1:0,Ca="",Zs=function(jn,Sn,ni){var ji="";return ni instanceof At?(ni=typeof ye.angle=="number"?es(ni,new At(1,0,0,1,jn,Sn)):es(new At(1,0,0,1,jn,Sn),ni),se===ae&&(ni=es(new At(1,0,0,-1,0,0),ni)),ji=ni.join(" ")+` Tm
`):ji=O(jn)+" "+O(Sn)+` Td
`,ji},Dr=0;Dr<$e.length;Dr++){switch(Ca="",al){case 1:Is=(D?"<":"(")+$e[Dr][0]+(D?">":")"),Qs=parseFloat($e[Dr][1]),Xs=parseFloat($e[Dr][2]);break;case 0:Is=(D?"<":"(")+$e[Dr]+(D?">":")"),Qs=Wi(F),Xs=Pi(ue)}ls!==void 0&&ls[Dr]!==void 0&&(Ca=ls[Dr]+` Tw
`),Dr===0?S.push(Ca+Zs(Qs,Xs,qn)+Is):al===0?S.push(Ca+Is):al===1&&S.push(Ca+Zs(Qs,Xs,qn)+Is)}S=al===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Oa=`BT
/`;return Oa+=mt+" "+Ue+` Tf
`,Oa+=O(Ue*Ee)+` TL
`,Oa+=Sa+`
`,Oa+=J,Oa+=S,oe(Oa+="ET"),C[mt]=!0,g};var Jo=_.__private__.clip=_.clip=function(S){return oe(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Jo("evenodd")},_.__private__.discardPath=_.discardPath=function(){return oe("n"),this};var gr=_.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return gr(S)&&(d=S),this};var el=_.__private__.getStyle=_.getStyle=function(S){var F=d;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},is=_.close=function(){return oe("h"),this};_.stroke=function(){return oe("S"),this},_.fill=function(S){return Yi("f",S),this},_.fillEvenOdd=function(S){return Yi("f*",S),this},_.fillStroke=function(S){return Yi("B",S),this},_.fillStrokeEvenOdd=function(S){return Yi("B*",S),this};var Yi=function(S,F){Zn(F)==="object"?nl(F,S):oe(S)},xs=function(S){S===null||se===ae&&S===void 0||(S=el(S),oe(S))};function tl(S,F,ue,ye,we){var Fe=new oh(F||this.boundingBox,ue||this.xStep,ye||this.yStep,this.gState,we||this.matrix);Fe.stream=this.stream;var $e=S+"$$"+this.cloneIndex+++"$$";return Tr($e,Fe),Fe}var nl=function(S,F){var ue=In[S.key],ye=St[ue];if(ye instanceof ec)oe("q"),oe(xo(F)),ye.gState&&_.setGState(ye.gState),oe(S.matrix.toString()+" cm"),oe("/"+ue+" sh"),oe("Q");else if(ye instanceof oh){var we=new At(1,0,0,-1,0,Aa());S.matrix&&(we=we.multiply(S.matrix||Ur),ue=tl.call(ye,S.key,S.boundingBox,S.xStep,S.yStep,we).id),oe("q"),oe("/Pattern cs"),oe("/"+ue+" scn"),ye.gState&&_.setGState(ye.gState),oe(F),oe("Q")}},xo=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_o=_.moveTo=function(S,F){return oe(O(E(S))+" "+O(Q(F))+" m"),this},rs=_.lineTo=function(S,F){return oe(O(E(S))+" "+O(Q(F))+" l"),this},jr=_.curveTo=function(S,F,ue,ye,we,Fe){return oe([O(E(S)),O(Q(F)),O(E(ue)),O(Q(ye)),O(E(we)),O(Q(Fe)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,F,ue,ye,we){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ye)||!gr(we))throw new Error("Invalid arguments passed to jsPDF.line");return se===ne?this.lines([[ue-S,ye-F]],S,F,[1,1],we||"S"):this.lines([[ue-S,ye-F]],S,F,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,F,ue,ye,we,Fe){var $e,lt,dt,jt,Et,dn,ei,qn,g,R,D,J;if(typeof S=="number"&&(J=ue,ue=F,F=S,S=J),ye=ye||[1,1],Fe=Fe||!1,isNaN(F)||isNaN(ue)||!Array.isArray(S)||!Array.isArray(ye)||!gr(we)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_o(F,ue),$e=ye[0],lt=ye[1],jt=S.length,R=F,D=ue,dt=0;dt<jt;dt++)(Et=S[dt]).length===2?(R=Et[0]*$e+R,D=Et[1]*lt+D,rs(R,D)):(dn=Et[0]*$e+R,ei=Et[1]*lt+D,qn=Et[2]*$e+R,g=Et[3]*lt+D,R=Et[4]*$e+R,D=Et[5]*lt+D,jr(dn,ei,qn,g,R,D));return Fe&&is(),xs(we),this},_.path=function(S){for(var F=0;F<S.length;F++){var ue=S[F],ye=ue.c;switch(ue.op){case"m":_o(ye[0],ye[1]);break;case"l":rs(ye[0],ye[1]);break;case"c":jr.apply(this,ye);break;case"h":is()}}return this},_.__private__.rect=_.rect=function(S,F,ue,ye,we){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ye)||!gr(we))throw new Error("Invalid arguments passed to jsPDF.rect");return se===ne&&(ye=-ye),oe([O(E(S)),O(Q(F)),O(E(ue)),O(E(ye)),"re"].join(" ")),xs(we),this},_.__private__.triangle=_.triangle=function(S,F,ue,ye,we,Fe,$e){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ye)||isNaN(we)||isNaN(Fe)||!gr($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-S,ye-F],[we-ue,Fe-ye],[S-we,F-Fe]],S,F,[1,1],$e,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,F,ue,ye,we,Fe,$e){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ye)||isNaN(we)||isNaN(Fe)||!gr($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ue),Fe=Math.min(Fe,.5*ye),this.lines([[ue-2*we,0],[we*lt,0,we,Fe-Fe*lt,we,Fe],[0,ye-2*Fe],[0,Fe*lt,-we*lt,Fe,-we,Fe],[2*we-ue,0],[-we*lt,0,-we,-Fe*lt,-we,-Fe],[0,2*Fe-ye],[0,-Fe*lt,we*lt,-Fe,we,-Fe]],S+we,F,[1,1],$e,!0),this},_.__private__.ellipse=_.ellipse=function(S,F,ue,ye,we){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ye)||!gr(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ue,$e=4/3*(Math.SQRT2-1)*ye;return _o(S+ue,F),jr(S+ue,F-$e,S+Fe,F-ye,S,F-ye),jr(S-Fe,F-ye,S-ue,F-$e,S-ue,F),jr(S-ue,F+$e,S-Fe,F+ye,S,F+ye),jr(S+Fe,F+ye,S+ue,F+$e,S+ue,F),xs(we),this},_.__private__.circle=_.circle=function(S,F,ue,ye){if(isNaN(S)||isNaN(F)||isNaN(ue)||!gr(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,ue,ue,ye)},_.setFont=function(S,F,ue){return ue&&(F=$(F,ue)),mt=Zo(S,F,{disableWarning:!1}),this};var wa=_.__private__.getFont=_.getFont=function(){return Ct[Zo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,F,ue={};for(S in Pt)if(Pt.hasOwnProperty(S))for(F in ue[S]=[],Pt[S])Pt[S].hasOwnProperty(F)&&ue[S].push(F);return ue},_.addFont=function(S,F,ue,ye,we){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ue=$(ue,ye)),yo.call(this,S,F,ue,we=we||"Identity-H")};var as,Lr=n.lineWidth||.200025,_s=_.__private__.getLineWidth=_.getLineWidth=function(){return Lr},Rt=_.__private__.setLineWidth=_.setLineWidth=function(S){return Lr=S,oe(O(E(S))+" w"),this};_.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ue){return O(E(ue))}).join(" "),F=O(E(F)),oe("["+S+"] "+F+" d"),this};var Us=_.__private__.getLineHeight=_.getLineHeight=function(){return Ue*as};_.__private__.getLineHeight=_.getLineHeight=function(){return Ue*as};var wo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(as=S),this},ws=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return as};wo(n.lineHeight);var Wi=_.__private__.getHorizontalCoordinate=function(S){return E(S)},Pi=_.__private__.getVerticalCoordinate=function(S){return se===ae?S:bt[P].mediaBox.topRightY-bt[P].mediaBox.bottomLeftY-E(S)},qs=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return O(Wi(S))},Mn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return O(Pi(S))},Yr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Wn(Yr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,F,ue,ye){return Yr=Oi({ch1:S,ch2:F,ch3:ue,ch4:ye,pdfColorType:"draw",precision:2}),oe(Yr),this};var Hs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Wn(Hs)},_.__private__.setFillColor=_.setFillColor=function(S,F,ue,ye){return Hs=Oi({ch1:S,ch2:F,ch3:ue,ch4:ye,pdfColorType:"fill",precision:2}),oe(Hs),this};var Sa=n.textColor||"0 g",il=_.__private__.getTextColor=_.getTextColor=function(){return Wn(Sa)};_.__private__.setTextColor=_.setTextColor=function(S,F,ue,ye){return Sa=Oi({ch1:S,ch2:F,ch3:ue,ch4:ye,pdfColorType:"text",precision:3}),this};var Wr=n.charSpace,ss=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Wr||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wr=S,this};var $r=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var F=_.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $r=F,oe(F+" J"),this};var Ri=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var F=_.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=F,oe(F+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(O(E(S))+" M"),this},_.GState=Mp,_.setGState=function(S){(S=typeof S=="string"?Mt[Ot[S]]:ja(null,S)).equals(Dn)||(oe("/"+S.id+" gs"),Dn=S)};var ja=function(S,F){if(!S||!Ot[S]){var ue=!1;for(var ye in Mt)if(Mt.hasOwnProperty(ye)&&Mt[ye].equals(F)){ue=!0;break}if(ue)F=Mt[ye];else{var we="GS"+(Object.keys(Mt).length+1).toString(10);Mt[we]=F,F.id=we}return S&&(Ot[S]=F.id),on.publish("addGState",F),F}};_.addGState=function(S,F){return ja(S,F),this},_.saveGraphicsState=function(){return oe("q"),$t.push({key:mt,size:Ue,color:Sa}),this},_.restoreGraphicsState=function(){oe("Q");var S=$t.pop();return mt=S.key,Ue=S.size,Sa=S.color,Dn=null,this},_.setCurrentTransformationMatrix=function(S){return oe(S.toString()+" cm"),this},_.comment=function(S){return oe("#"+S),this};var ir=function(S,F){var ue=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Fe){isNaN(Fe)||(ue=parseFloat(Fe))}});var ye=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Fe){we=Fe.toString()}}),this},La=function(S,F,ue,ye){ir.call(this,S,F),this.type="rect";var we=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function($e){isNaN($e)||(Fe=parseFloat($e))}}),this},Ss=function(){this.page=wt,this.currentPage=P,this.pages=We.slice(0),this.pagesContext=bt.slice(0),this.x=vt,this.y=fi,this.matrix=Qt,this.width=ua(P),this.height=So(P),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ss.prototype.restore=function(){wt=this.page,P=this.currentPage,bt=this.pagesContext,We=this.pages,vt=this.x,fi=this.y,Qt=this.matrix,Gs(P,this.width),Kr(P,this.height),nt=this.outputDestination};var Da=function(S,F,ue,ye,we){Gi.push(new Ss),wt=P=0,We=[],vt=S,fi=F,Qt=we,oa([ue,ye])};for(var ka in _.beginFormObject=function(S,F,ue,ye,we){return Da(S,F,ue,ye,we),this},_.endFormObject=function(S){return(function(F){if(Ia[F])Gi.pop().restore();else{var ue=new Ss,ye="Xo"+(Object.keys(er).length+1).toString(10);ue.id=ye,Ia[F]=ye,er[ye]=ue,on.publish("addFormObject",ue),Gi.pop().restore()}})(S),this},_.doFormObject=function(S,F){var ue=er[Ia[S]];return oe("q"),oe(F.toString()+" cm"),oe("/"+ue.id+" Do"),oe("Q"),this},_.getFormObject=function(S){var F=er[Ia[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},_.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Ju(vn(la()),S),typeof Ju.unload=="function"&&Gt.setTimeout&&setTimeout(Ju.unload,911),this):new Promise(function(ue,ye){try{var we=Ju(vn(la()),S);typeof Ju.unload=="function"&&Gt.setTimeout&&setTimeout(Ju.unload,911),ue(we)}catch(Fe){ye(Fe.message)}})},yt.API)yt.API.hasOwnProperty(ka)&&(ka==="events"&&yt.API.events.length?(function(S,F){var ue,ye,we;for(we=F.length-1;we!==-1;we--)ue=F[we][0],ye=F[we][1],S.subscribe.apply(S,[ue].concat(typeof ye=="function"?[ye]:ye))})(on,yt.API.events):_[ka]=yt.API[ka]);function ua(S){return bt[S].mediaBox.topRightX-bt[S].mediaBox.bottomLeftX}function Gs(S,F){bt[S].mediaBox.topRightX=F+bt[S].mediaBox.bottomLeftX}function So(S){return bt[S].mediaBox.topRightY-bt[S].mediaBox.bottomLeftY}function Kr(S,F){bt[S].mediaBox.topRightY=F+bt[S].mediaBox.bottomLeftY}var Ma=_.getPageWidth=function(S){return ua(S=S||P)/qt},rl=_.setPageWidth=function(S,F){Gs(S,F*qt)},Aa=_.getPageHeight=function(S){return So(S=S||P)/qt},Ao=_.setPageHeight=function(S,F){Kr(S,F*qt)};return _.internal={pdfEscape:Ir,getStyle:el,getFont:wa,getFontSize:it,getCharSpace:ss,getTextColor:il,getLineHeight:Us,getLineHeightFactor:ws,getLineWidth:_s,write:et,getHorizontalCoordinate:Wi,getVerticalCoordinate:Pi,getCoordinateString:qs,getVerticalCoordinateString:Mn,collections:{},newObject:Un,newAdditionalObject:dr,newObjectDeferred:Jn,newObjectDeferredBegin:Mi,getFilters:Nr,putStream:aa,events:on,scaleFactor:qt,pageSize:{getWidth:function(){return Ma(P)},setWidth:function(S){rl(P,S)},getHeight:function(){return Aa(P)},setHeight:function(S){Ao(P,S)}},encryptionOptions:v,encryption:oi,getEncryptor:function(S){return v!==null?oi.encryptor(S,0):function(F){return F}},output:bs,getNumberOfPages:bo,get pages(){return We},out:oe,f2:I,f3:N,getPageInfo:wi,getPageInfoByObjId:Vs,getCurrentPageInfo:kl,getPDFVersion:H,Point:ir,Rectangle:La,Matrix:At,hasHotfix:Ni},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ma(P)},set:function(S){rl(P,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Aa(P)},set:function(S){Ao(P,S)},enumerable:!0,configurable:!0}),(function(S){for(var F=0,ue=Tt.length;F<ue;F++){var ye=yo.call(this,S[F][0],S[F][1],S[F][2],Tt[F][3],!0);A===!1&&(C[ye]=!0);var we=S[F][0].split("-");pi({id:ye,fontName:we[0],fontStyle:we[1]||""})}on.publish("addFonts",{fonts:Ct,dictionary:Pt})}).call(_,Tt),mt="F1",_a(s,t),on.publish("initialized"),_}ah.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ah.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ah.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ah.prototype.processOwnerPassword=function(n,e){return F0(z0(e).substr(0,5),n)},ah.prototype.encryptor=function(n,e){var t=z0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return F0(t,r)}},Mp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Zn(n)!==Zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="4.1.0";var Hi=yt.API,Bm=1,yc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Op=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},tn=function(n){return n.toFixed(2)},du=function(n){return n.toFixed(5)};Hi.__acroform__={};var Ja=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Rb=function(n){return n*Bm},Bo=function(n){var e=new G4,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(tn(r)),Number(tn(t))],e},C7=Hi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},N7=Hi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},R7=Hi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xi=Hi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R7(n,e-1)},Zi=Hi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return C7(n,e-1)},Ji=Hi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N7(n,e-1)},I7=Hi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=r(o)||0,[Number(tn(f.lowerLeft_X)),Number(tn(f.lowerLeft_Y)),Number(tn(f.upperRight_X)),Number(tn(f.upperRight_Y))]},j7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=B0(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+tn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},B0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=t,c=gt.internal.getHeight(n)||0;c=c<0?-c:c;var h=gt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(I,N,E){if(I+1<s.length){var Q=N+" "+s[I+1][0];return ep(Q,n,E).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var d,v,A=ep("3",n,o).height,C=n.multiline?c-o:(c-A)/2,_=C+=2,z=0,H=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ep(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var B="",ne=0,ae=0;ae<s.length;ae++)if(s.hasOwnProperty(ae)){var se=!1;if(s[ae].length!==1&&U!==s[ae].length-1){if((A+2)*(ne+2)+2>c)continue e;B+=s[ae][U],se=!0,H=ae,ae--}else{B=(B+=s[ae][U]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var Se=parseInt(ae),je=f(Se,B,o),$=ae>=s.length-1;if(je&&!$){B+=" ",U=0;continue}if(je||$){if($)H=Se;else if(n.multiline&&(A+2)*(ne+2)+2>c)continue e}else{if(!n.multiline||(A+2)*(ne+2)+2>c)continue e;H=Se}}for(var O="",w=z;w<=H;w++){var q=s[w];if(n.multiline){if(w===H){O+=q[U]+" ",U=(U+1)%q.length;continue}if(w===z){O+=q[q.length-1]+" ";continue}}O+=q[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,v=ep(O,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=tn(d)+" "+tn(_)+` Td
`,e+="("+yc(O)+`) Tj
`,e+=-tn(d)+` 0 Td
`,_=-(o+2),v=0,z=se?H:H+1,ne++,B=""}break}return r.text=e,r.fontSize=o,r},ep=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},L7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D7=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},k7=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(L7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bm=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Y4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&D7(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=I7(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=gt.createDefaultAppearanceStream(h),Zn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=j7(h);f.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var C in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(C)){var _=h.appearanceStreamContent[C];if(A+="/"+C+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var z=_[c];typeof z=="function"&&(z=z.call(s,h)),A+="/"+c+" "+z+" ",s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z)}}else typeof(z=_)=="function"&&(z=z.call(s,h)),A+="/"+c+" "+z,s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(H,U){for(var B in H)if(H.hasOwnProperty(B)){var ne=B,ae=H[B];U.internal.newObjectDeferredBegin(ae.objId,!0),Zn(ae)==="object"&&typeof ae.putStream=="function"&&ae.putStream(),delete H[ne]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},H4=Hi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Zn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Op(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+yc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Zg=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+yc(r(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:H4(s,this.objId,this.scope)}):s instanceof qo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var G4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ja(G4,qo);var Y4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yc(t(n))+")"}},set:function(t){n=t}})};Ja(Y4,qo);var go=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');e=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(B){B?this.F=Zi(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');t=B}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(B){r=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(B){r[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(B){r[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(B){r[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(B){r[3]=B}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Pp)return;o="FieldObject"+n.FieldNum++}var B=function(ne){return ne};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+yc(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(B){h=B}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Bm:d},set:function(B){d=B}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(B){v=B}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Pp||this instanceof ac))return Zg(A,this.objId,this.scope)},set:function(B){B=B.toString(),A=B}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Vr==0?Zg(C,this.objId,this.scope):C},set:function(B){B=B.toString(),C=this instanceof Vr==0?B.substr(0,1)==="("?Jc(B.substr(1,B.length-2)):Jc(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?Jc(C.substr(1,C.length-1)):C},set:function(B){B=B.toString(),C=this instanceof Vr==1?"/"+Op(B):B}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Vr==0?Zg(_,this.objId,this.scope):_},set:function(B){B=B.toString(),_=this instanceof Vr==0?B.substr(0,1)==="("?Jc(B.substr(1,B.length-2)):Jc(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?Jc(_.substr(1,_.length-1)):_},set:function(B){B=B.toString(),_=this instanceof Vr==1?"/"+Op(B):B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var z,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(B){B=!!B,H=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(z)return z},set:function(B){z=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(B){B?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(B){B?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(B){B?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');U=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(U){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};Ja(go,qo);var ch=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H4(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(t){t?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(t){t?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(t){t?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(t){t?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};Ja(ch,go);var hh=function(){ch.call(this),this.fontName="helvetica",this.combo=!1};Ja(hh,ch);var fh=function(){hh.call(this),this.combo=!0};Ja(fh,hh);var cp=function(){fh.call(this),this.edit=!0};Ja(cp,fh);var Vr=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(t){t?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(t){t?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(t){t?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+yc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Op(t)}})};Ja(Vr,go);var hp=function(){Vr.call(this),this.pushButton=!0};Ja(hp,Vr);var dh=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ja(dh,Vr);var Pp=function(){var n,e;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+yc(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Zn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ja(Pp,go),dh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},dh.prototype.createOption=function(n){var e=new Pp;return e.Parent=this,e.optionName=n,this.Kids.push(e),M7.call(this.scope,e),e};var fp=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Ja(fp,Vr);var ac=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ja(ac,go);var dp=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){n?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};Ja(dp,ac);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=B0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+tn(gt.internal.getWidth(n))+" "+tn(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+tn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),c=gt.internal.getWidth(n),h=B0(n,n.caption);return s.push("1 g"),s.push("0 0 "+tn(c)+" "+tn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tn(c-1)+" "+tn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+tn(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(gt.internal.getWidth(n))+" "+tn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+du(gt.internal.getWidth(n)/2)+" "+du(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),c=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+du(gt.internal.getWidth(n)/2)+" "+du(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+du(gt.internal.getWidth(n)/2)+" "+du(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+du(gt.internal.getWidth(n)/2)+" "+du(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+tn(gt.internal.getWidth(n)-2)+" "+tn(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(tn(r.x1.x)+" "+tn(r.x1.y)+" m"),t.push(tn(r.x2.x)+" "+tn(r.x2.y)+" l"),t.push(tn(r.x4.x)+" "+tn(r.x4.y)+" m"),t.push(tn(r.x3.x)+" "+tn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(gt.internal.getWidth(n))+" "+tn(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tn(gt.internal.getWidth(n)-2)+" "+tn(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(tn(t.x1.x)+" "+tn(t.x1.y)+" m"),r.push(tn(t.x2.x)+" "+tn(t.x2.y)+" l"),r.push(tn(t.x4.x)+" "+tn(t.x4.y)+" m"),r.push(tn(t.x3.x)+" "+tn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(gt.internal.getWidth(n))+" "+tn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Zn(n)==="object"&&(e=Rb(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Zn(n)==="object"&&(e=Rb(n.Rect[3])),e};var M7=Hi.addField=function(n){if(k7(this,n),!(n instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=ch,Hi.AcroFormListBox=hh,Hi.AcroFormComboBox=fh,Hi.AcroFormEditBox=cp,Hi.AcroFormButton=Vr,Hi.AcroFormPushButton=hp,Hi.AcroFormRadioButton=dh,Hi.AcroFormCheckBox=fp,Hi.AcroFormTextField=ac,Hi.AcroFormPasswordField=dp,Hi.AcroFormAppearance=gt,Hi.AcroForm={ChoiceField:ch,ListBox:hh,ComboBox:fh,EditBox:cp,Button:Vr,PushButton:hp,RadioButton:dh,CheckBox:fp,TextField:ac,PasswordField:dp,Appearance:gt},yt.AcroForm={ChoiceField:ch,ListBox:hh,ComboBox:fh,EditBox:cp,Button:Vr,PushButton:hp,RadioButton:dh,CheckBox:fp,TextField:ac,PasswordField:dp,Appearance:gt};yt.AcroForm;function W4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,N){var E,Q,de,ie,he,ee=t;if((N=N||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(je(I))for(he in r)for(de=r[he],E=0;E<de.length;E+=1){for(ie=!0,Q=0;Q<de[E].length;Q+=1)if(de[E][Q]!==void 0&&de[E][Q]!==I[Q]){ie=!1;break}if(ie===!0){ee=he;break}}else for(he in r)for(de=r[he],E=0;E<de.length;E+=1){for(ie=!0,Q=0;Q<de[E].length;Q+=1)if(de[E][Q]!==void 0&&de[E][Q]!==I.charCodeAt(Q)){ie=!1;break}if(ie===!0){ee=he;break}}return ee===t&&N!==t&&(ee=N),ee},o=function I(N){for(var E=this.internal.write,Q=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:N.width}),ie.push({key:"Height",value:N.height}),N.colorSpace===B.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===B.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var he="",ee=0,pe=N.transparency.length;ee<pe;ee++)he+=N.transparency[ee]+" "+N.transparency[ee]+" ";ie.push({key:"Mask",value:"["+he+"]"})}N.sMask!==void 0&&ie.push({key:"SMask",value:N.objectId+1+" 0 R"});var Ce=N.filter!==void 0?["/"+N.filter]:void 0;if(Q({data:N.data,additionalKeyValues:ie,alreadyAppliedFilters:Ce,objectId:N.objectId}),E("endobj"),"sMask"in N&&N.sMask!==void 0){var Z,k=(Z=N.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:N.bitsPerComponent,P={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:N.sMask};"filter"in N&&(P.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(N.width),P.filter=N.filter),I.call(this,P)}if(N.colorSpace===B.INDEXED){var Y=this.internal.newObject();Q({data:O(new Uint8Array(N.palette)),objectId:Y}),E("endobj")}},c=function(){var I=this.internal.collections[e+"images"];for(var N in I)o.call(this,I[N])},h=function(){var I,N=this.internal.collections[e+"images"],E=this.internal.write;for(var Q in N)E("/I"+(I=N[Q]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(I){return typeof n["process"+I.toUpperCase()]=="function"},C=function(I){return Zn(I)==="object"&&I.nodeType===1},_=function(I,N){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var E=""+I.getAttribute("src");if(E.indexOf("data:image/")===0)return up(unescape(E).split("base64,").pop());var Q=n.loadFile(E,!0);if(Q!==void 0)return Q}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var de;switch(N){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return up(I.toDataURL(de,1).split("base64,").pop())}},z=function(I){var N=this.internal.collections[e+"images"];if(N){for(var E in N)if(I===N[E].alias)return N[E]}},H=function(I,N,E){return I||N||(I=-96,N=-96),I<0&&(I=-1*E.width*72/I/this.internal.scaleFactor),N<0&&(N=-1*E.height*72/N/this.internal.scaleFactor),I===0&&(I=N*E.width/E.height),N===0&&(N=I*E.height/E.width),[I,N]},U=function(I,N,E,Q,de,ie){var he=H.call(this,E,Q,de),ee=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Ce=d.call(this);if(E=he[0],Q=he[1],Ce[de.index]=de,ie){ie*=Math.PI/180;var Z=Math.cos(ie),k=Math.sin(ie),P=function(M){return M.toFixed(4)},Y=[P(Z),P(k),P(-1*k),P(Z),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ee(I),pe(N+Q),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ee(E),"0","0",ee(Q),"0","0","cm"].join(" "))):this.internal.write([ee(E),"0","0",ee(Q),ee(I),pe(N+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ne=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ae=n.__addimage__.sHashCode=function(I){var N,E,Q=0;if(typeof I=="string")for(E=I.length,N=0;N<E;N++)Q=(Q<<5)-Q+I.charCodeAt(N),Q|=0;else if(je(I))for(E=I.byteLength/2,N=0;N<E;N++)Q=(Q<<5)-Q+I[N],Q|=0;return Q},se=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var N=!0;return I.length===0&&(N=!1),I.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(N=!1),N},Se=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var N=I.indexOf(",");return N<0?null:I.substring(0,N).trim().endsWith("base64")?I.substring(N+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var je=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(I){for(var N=I.length,E=new Uint8Array(N),Q=0;Q<N;Q++)E[Q]=I.charCodeAt(Q);return E},O=n.__addimage__.arrayBufferToBinaryString=function(I){for(var N="",E=je(I)?I:new Uint8Array(I),Q=0;Q<E.length;Q+=8192)N+=String.fromCharCode.apply(null,E.subarray(Q,Q+8192));return N};n.addImage=function(){var I,N,E,Q,de,ie,he,ee,pe;if(typeof arguments[1]=="number"?(N=t,E=arguments[1],Q=arguments[2],de=arguments[3],ie=arguments[4],he=arguments[5],ee=arguments[6],pe=arguments[7]):(N=arguments[1],E=arguments[2],Q=arguments[3],de=arguments[4],ie=arguments[5],he=arguments[6],ee=arguments[7],pe=arguments[8]),Zn(I=arguments[0])==="object"&&!C(I)&&"imageData"in I){var Ce=I;I=Ce.imageData,N=Ce.format||N||t,E=Ce.x||E||0,Q=Ce.y||Q||0,de=Ce.w||Ce.width||de,ie=Ce.h||Ce.height||ie,he=Ce.alias||he,ee=Ce.compression||ee,pe=Ce.rotation||Ce.angle||pe}var Z=this.internal.getFilters();if(ee===void 0&&Z.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(E)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=w.call(this,I,N,he,ee);return U.call(this,E,Q,de,ie,k,pe),this};var w=function(I,N,E,Q){var de,ie,he;if(typeof I=="string"&&s(I)===t){I=unescape(I);var ee=q(I,!1);(ee!==""||(ee=n.loadFile(I,!0))!==void 0)&&(I=ee)}if(C(I)&&(I=_(I,N)),N=s(I,N),!A(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((he=E)==null||he.length===0)&&(E=(function(pe){return typeof pe=="string"||je(pe)?ae(pe):je(pe.data)?ae(pe.data):null})(I)),(de=z.call(this,E))||(I instanceof Uint8Array||N==="RGBA"||(ie=I,I=$(I)),de=this["process"+N.toUpperCase()](I,v.call(this),E,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in n.image_compression?pe:ne.NONE})(Q),ie)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},q=n.__addimage__.convertBase64ToBinaryString=function(I,N){N=typeof N!="boolean"||N;var E,Q="";if(typeof I=="string"){var de;E=(de=Se(I))!==null&&de!==void 0?de:I;try{Q=up(E)}catch(ie){if(N)throw se(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};n.getImageProperties=function(I){var N,E,Q="";if(C(I)&&(I=_(I)),typeof I=="string"&&s(I)===t&&((Q=q(I,!1))===""&&(Q=n.loadFile(I)||""),I=Q),E=s(I),!A(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(I instanceof Uint8Array||(I=$(I)),!(N=this["process"+E.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=E,N}})(yt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((r=d[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var C=0;C<d.length;C++){r=d[C];var _=this.internal.pdfEscape,z=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(H.objId),ne=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(B(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(B(ne))+") >>",H.content=o;var ae=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+ae,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(H.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var se=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(z(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var Se=this.annotations._nameMap[r.options.name];r.options.pageNumber=Se.page,r.options.top=Se.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(z(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var je=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+je+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,h,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,c,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(yt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return e[H.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},h=n.__arabicParser__.isArabicEndLetter=function(H){return c(H)&&o(H)&&e[H.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(H){return c(H)&&s.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return c(H)&&o(H)&&e[H.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return c(H)&&o(H)&&e[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return c(H)&&o(H)&&e[H.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return c(H)&&o(H)&&e[H.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(H){var U=0,B=t,ne="",ae=0;for(U=0;U<H.length;U+=1)B[H.charCodeAt(U)]!==void 0?(ae++,typeof(B=B[H.charCodeAt(U)])=="number"&&(ne+=String.fromCharCode(B),B=t,ae=0),U===H.length-1&&(B=t,ne+=H.charAt(U-(ae-1)),U-=ae-1,ae=0)):(B=t,ne+=H.charAt(U-ae),U-=ae,ae=0);return ne};n.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&r[H.charCodeAt(0)]!==void 0};var C=n.__arabicParser__.getCorrectForm=function(H,U,B){return c(H)?o(H)===!1?-1:!d(H)||!c(U)&&!c(B)||!c(B)&&h(U)||h(H)&&!c(U)||h(H)&&f(U)||h(H)&&h(U)?0:v(H)&&c(U)&&!h(U)&&c(B)&&d(B)?3:h(H)||!c(B)?1:2:-1},_=function(H){var U=0,B=0,ne=0,ae="",se="",Se="",je=(H=H||"").split("\\s+"),$=[];for(U=0;U<je.length;U+=1){for($.push(""),B=0;B<je[U].length;B+=1)ae=je[U][B],se=je[U][B-1],Se=je[U][B+1],c(ae)?(ne=C(ae,se,Se),$[U]+=ne!==-1?String.fromCharCode(e[ae.charCodeAt(0)][ne]):ae):$[U]+=ae;$[U]=A($[U])}return $.join(" ")},z=n.__arabicParser__.processArabic=n.processArabic=function(){var H,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(U)){var ne=0;for(B=[],ne=0;ne<U.length;ne+=1)Array.isArray(U[ne])?B.push([_(U[ne][0]),U[ne][1],U[ne][2]]):B.push([_(U[ne])]);H=B}else H=_(U);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",z])})(yt.API),yt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(H){d=H}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(H){v=H}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(H){A=H}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(H){C=H}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(H){_=H}});var z=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return z},set:function(H){z=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),C=d.scaleFactor||this.internal.scaleFactor,_=0,z=0,H=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var B=d.maxWidth;B>0?typeof f=="string"?f=this.splitTextToSize(f,B):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(ae,se){return ae.concat(U.splitTextToSize(se,B))},[])):f=Array.isArray(f)?f:[f];for(var ne=0;ne<f.length;ne++)_<(H=this.getStringUnitWidth(f[ne],{font:A})*v)&&(_=H);return _!==0&&(z=f.length),{w:_/=C,h:Math.max((z*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/C,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,C){if(r.call(this),!v)throw new Error("No data for PDF table.");var _,z,H,U,B=[],ne=[],ae=[],se={},Se={},je=[],$=[],O=(C=C||{}).autoSize||!1,w=C.printHeaders!==!1,q=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,I=C.margins||Object.assign({width:this.getPageWidth()},e),N=typeof C.padding=="number"?C.padding:3,E=C.headerBackgroundColor||"#c8c8c8",Q=C.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=Q,this.setFontSize(q),A==null)ne=B=Object.keys(v[0]),ae=B.map(function(){return"left"});else if(Array.isArray(A)&&Zn(A[0])==="object")for(B=A.map(function(Ce){return Ce.name}),ne=A.map(function(Ce){return Ce.prompt||Ce.name||""}),ae=A.map(function(Ce){return Ce.align||"left"}),_=0;_<A.length;_+=1)Se[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(ne=B=A,ae=B.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<B.length;_+=1){for(se[U=B[_]]=v.map(function(Ce){return Ce[U]}),this.setFont(void 0,"bold"),je.push(this.getTextDimensions(ne[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),z=se[U],this.setFont(void 0,"normal"),H=0;H<z.length;H+=1)je.push(this.getTextDimensions(z[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Se[U]=Math.max.apply(null,je)+N+N,je=[]}if(w){var de={};for(_=0;_<B.length;_+=1)de[B[_]]={},de[B[_]].text=ne[_],de[B[_]].align=ae[_];var ie=h.call(this,de,Se);$=B.map(function(Ce){return new o(f,d,Se[Ce],ie,de[Ce].text,void 0,de[Ce].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var he=A.reduce(function(Ce,Z){return Ce[Z.name]=Z.align,Ce},{});for(_=0;_<v.length;_+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:_,data:v[_]},this);var ee=h.call(this,v[_],Se);for(H=0;H<B.length;H+=1){var pe=v[_][B[H]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:_,col:H,data:pe},this),c.call(this,new o(f,d,Se[B[H]],ee,pe,_+2,he[B[H]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(_){var z=f[_];return this.splitTextToSize(z.hasOwnProperty("text")?z.text:z,d[_]-v-v)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/C+v+v},this).reduce(function(_,z){return Math.max(_,z)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){v=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,C.push(v)),v.lineNumber=f;var z=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(z)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}})(yt.API);var $4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},K4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V0=W4(K4),Q4=[100,200,300,400,500,600,700,800,900],O7=W4(Q4);function Jg(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return $4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof V0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Ib(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var P7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Db(n){return n.trimLeft()}function z7(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function F7(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var eh,tp,kb,Mb,Ob,e0=["times"];function Pb(n,e,t,r,s){var o=4,c=Fb;switch(s){case yt.API.image_compression.FAST:o=1,c=zb;break;case yt.API.image_compression.MEDIUM:o=6,c=Bb;break;case yt.API.image_compression.SLOW:o=9,c=Vb}n=(function(f,d,v,A){for(var C,_=f.length/d,z=new Uint8Array(f.length+_),H=[B7,zb,Fb,Bb,Vb],U=0;U<_;U+=1){var B=U*d,ne=f.subarray(B,B+d);if(A)z.set(A(ne,v,C),B+U);else{for(var ae=H.length,se=[],Se=0;Se<ae;Se+=1)se[Se]=H[Se](ne,v,C);var je=U7(se.concat());z.set(se[je],B+U)}C=ne}return z})(n,e,Math.ceil(t*r/8),c);var h=k0(n,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(h)}function B7(n){var e=Array.apply([],n);return e.unshift(0),e}function zb(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Fb(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function Bb(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;s[o+1]=n[o]+256-(c+h>>>1)&255}return s}function Vb(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=V7(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function V7(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function U7(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function t0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return X4(n,s)>>o&c}function Ub(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),h=(1<<r)-1,f=(e&h)<<c;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var C=A>>8&255;d.setUint8(v,C)}})(n,o,X4(n,o)&~(h<<c)&65535|f)}function X4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function q7(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var h=null,f=null;o&&(h=e,f=c,e+=3*c);var d=!0,v=[],A=0,C=null,_=0,z=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,z=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var H=n[e++];A=n[e++]|n[e++]<<8,C=n[e++],1&H||(C=null),_=H>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,ne=n[e++]|n[e++]<<8,ae=n[e++]|n[e++]<<8,se=n[e++],Se=se>>6&1,je=1<<1+(7&se),$=h,O=f,w=!1;se>>7&&(w=!0,$=e,O=je,e+=3*je);var q=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}v.push({x:U,y:B,width:ne,height:ae,has_local_palette:w,palette_offset:$,palette_size:O,data_offset:q,data_length:e-q,transparent_index:C,interlaced:!!Se,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return z},this.frameInfo=function(N){if(N<0||N>=v.length)throw new Error("Frame index out of range.");return v[N]},this.decodeAndBlitFrameBGRA=function(N,E){var Q=this.frameInfo(N),de=Q.width*Q.height,ie=new Uint8Array(de);qb(n,Q.data_offset,ie,de);var he=Q.palette_offset,ee=Q.transparent_index;ee===null&&(ee=256);var pe=Q.width,Ce=t-pe,Z=pe,k=4*(Q.y*t+Q.x),P=4*((Q.y+Q.height)*t+Q.x),Y=k,M=4*Ce;Q.interlaced===!0&&(M+=4*t*7);for(var re=8,fe=0,_e=ie.length;fe<_e;++fe){var me=ie[fe];if(Z===0&&(Z=pe,(Y+=M)>=P&&(M=4*Ce+4*t*(re-1),Y=k+(pe+Ce)*(re<<1),re>>=1)),me===ee)Y+=4;else{var Me=n[he+3*me],We=n[he+3*me+1],tt=n[he+3*me+2];E[Y++]=tt,E[Y++]=We,E[Y++]=Me,E[Y++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,E){var Q=this.frameInfo(N),de=Q.width*Q.height,ie=new Uint8Array(de);qb(n,Q.data_offset,ie,de);var he=Q.palette_offset,ee=Q.transparent_index;ee===null&&(ee=256);var pe=Q.width,Ce=t-pe,Z=pe,k=4*(Q.y*t+Q.x),P=4*((Q.y+Q.height)*t+Q.x),Y=k,M=4*Ce;Q.interlaced===!0&&(M+=4*t*7);for(var re=8,fe=0,_e=ie.length;fe<_e;++fe){var me=ie[fe];if(Z===0&&(Z=pe,(Y+=M)>=P&&(M=4*Ce+4*t*(re-1),Y=k+(pe+Ce)*(re<<1),re>>=1)),me===ee)Y+=4;else{var Me=n[he+3*me],We=n[he+3*me+1],tt=n[he+3*me+2];E[Y++]=Me,E[Y++]=We,E[Y++]=tt,E[Y++]=255}--Z}}}function qb(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,h=c+1,f=s+1,d=(1<<f)-1,v=0,A=0,C=0,_=n[e++],z=new Int32Array(4096),H=null;;){for(;v<16&&_!==0;)A|=n[e++]<<v,v+=8,_===1?_=n[e++]:--_;if(v<f)break;var U=A&d;if(A>>=f,v-=f,U!==o){if(U===c)break;for(var B=U<h?U:H,ne=0,ae=B;ae>o;)ae=z[ae]>>8,++ne;var se=ae;if(C+ne+(B!==U?1:0)>r)return void hi.log("Warning, gif stream longer than expected.");t[C++]=se;var Se=C+=ne;for(B!==U&&(t[C++]=se),ae=B;ne--;)ae=z[ae],t[--Se]=255&ae,ae>>=8;H!==null&&h<4096&&(z[h++]=H<<8|se,h>=d+1&&f<12&&(++f,d=d<<1|1)),H=U}else h=c+1,d=(1<<(f=s+1))-1,H=null}return C!==r&&hi.log("Warning, gif stream shorter than expected."),t}function n0(n){var e,t,r,s,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),C=new Array(65535),_=new Array(64),z=new Array(64),H=[],U=0,B=7,ne=new Array(64),ae=new Array(64),se=new Array(64),Se=new Array(256),je=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(k,P){for(var Y=0,M=0,re=new Array,fe=1;fe<=16;fe++){for(var _e=1;_e<=k[fe];_e++)re[P[M]]=[],re[P[M]][0]=Y,re[P[M]][1]=fe,M++,Y++;Y*=2}return re}function he(k){for(var P=k[0],Y=k[1]-1;Y>=0;)P&1<<Y&&(U|=1<<B),Y--,--B<0&&(U==255?(ee(255),ee(0)):ee(U),B=7,U=0)}function ee(k){H.push(k)}function pe(k){ee(k>>8&255),ee(255&k)}function Ce(k,P,Y,M,re){for(var fe,_e=re[0],me=re[240],Me=(function(Ue,rt){var it,Nt,_t,Wt,Zt,Bt,sn,Kt,mt,qt,vt=0;for(mt=0;mt<8;++mt){it=Ue[vt],Nt=Ue[vt+1],_t=Ue[vt+2],Wt=Ue[vt+3],Zt=Ue[vt+4],Bt=Ue[vt+5],sn=Ue[vt+6];var fi=it+(Kt=Ue[vt+7]),Qt=it-Kt,Ct=Nt+sn,Pt=Nt-sn,$t=_t+Bt,St=_t-Bt,In=Wt+Zt,Mt=Wt-Zt,Ot=fi+In,Dn=fi-In,wt=Ct+$t,bt=Ct-$t;Ue[vt]=Ot+wt,Ue[vt+4]=Ot-wt;var on=.707106781*(bt+Dn);Ue[vt+2]=Dn+on,Ue[vt+6]=Dn-on;var fr=.382683433*((Ot=Mt+St)-(bt=Pt+Qt)),er=.5411961*Ot+fr,Ia=1.306562965*bt+fr,Gi=.707106781*(wt=St+Pt),At=Qt+Gi,es=Qt-Gi;Ue[vt+5]=es+er,Ue[vt+3]=es-er,Ue[vt+1]=At+Ia,Ue[vt+7]=At-Ia,vt+=8}for(vt=0,mt=0;mt<8;++mt){it=Ue[vt],Nt=Ue[vt+8],_t=Ue[vt+16],Wt=Ue[vt+24],Zt=Ue[vt+32],Bt=Ue[vt+40],sn=Ue[vt+48];var Ur=it+(Kt=Ue[vt+56]),Tr=it-Kt,Cr=Nt+sn,Un=Nt-sn,Jn=_t+Bt,Mi=_t-Bt,dr=Wt+Zt,tr=Wt-Zt,kn=Ur+dr,Wn=Ur-dr,Oi=Cr+Jn,Nr=Cr-Jn;Ue[vt]=kn+Oi,Ue[vt+32]=kn-Oi;var aa=.707106781*(Nr+Wn);Ue[vt+16]=Wn+aa,Ue[vt+48]=Wn-aa;var vs=.382683433*((kn=tr+Mi)-(Nr=Un+Tr)),xa=.5411961*kn+vs,Rr=1.306562965*Nr+vs,ts=.707106781*(Oi=Mi+Un),qr=Tr+ts,pr=Tr-ts;Ue[vt+40]=pr+xa,Ue[vt+24]=pr-xa,Ue[vt+8]=qr+Rr,Ue[vt+56]=qr-Rr,vt++}for(mt=0;mt<64;++mt)qt=Ue[mt]*rt[mt],_[mt]=qt>0?qt+.5|0:qt-.5|0;return _})(k,P),We=0;We<64;++We)z[$[We]]=Me[We];var tt=z[0]-Y;Y=z[0],tt==0?he(M[0]):(he(M[C[fe=32767+tt]]),he(A[fe]));for(var nt=63;nt>0&&z[nt]==0;)nt--;if(nt==0)return he(_e),Y;for(var ct,oe=1;oe<=nt;){for(var et=oe;z[oe]==0&&oe<=nt;)++oe;var Yt=oe-et;if(Yt>=16){ct=Yt>>4;for(var Tt=1;Tt<=ct;++Tt)he(me);Yt&=15}fe=32767+z[oe],he(re[(Yt<<4)+C[fe]]),he(A[fe]),oe++}return nt!=63&&he(_e),Y}function Z(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(P){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var re=c((Y[M]*P+50)/100);re=Math.min(Math.max(re,1),255),h[$[M]]=re}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var me=c((fe[_e]*P+50)/100);me=Math.min(Math.max(me,1),255),f[$[_e]]=me}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,tt=0;tt<8;tt++)for(var nt=0;nt<8;nt++)d[We]=1/(h[$[We]]*Me[tt]*Me[nt]*8),v[We]=1/(f[$[We]]*Me[tt]*Me[nt]*8),We++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,P){P&&Z(P),H=new Array,U=0,B=7,pe(65496),pe(65504),pe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),pe(1),pe(1),ee(0),ee(0),(function(){pe(65499),pe(132),ee(0);for(var Nt=0;Nt<64;Nt++)ee(h[Nt]);ee(1);for(var _t=0;_t<64;_t++)ee(f[_t])})(),(function(Nt,_t){pe(65472),pe(17),ee(8),pe(_t),pe(Nt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(k.width,k.height),(function(){pe(65476),pe(418),ee(0);for(var Nt=0;Nt<16;Nt++)ee(O[Nt+1]);for(var _t=0;_t<=11;_t++)ee(w[_t]);ee(16);for(var Wt=0;Wt<16;Wt++)ee(q[Wt+1]);for(var Zt=0;Zt<=161;Zt++)ee(I[Zt]);ee(1);for(var Bt=0;Bt<16;Bt++)ee(N[Bt+1]);for(var sn=0;sn<=11;sn++)ee(E[sn]);ee(17);for(var Kt=0;Kt<16;Kt++)ee(Q[Kt+1]);for(var mt=0;mt<=161;mt++)ee(de[mt])})(),pe(65498),pe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var Y=0,M=0,re=0;U=0,B=7,this.encode.displayName="_encode_";for(var fe,_e,me,Me,We,tt,nt,ct,oe,et=k.data,Yt=k.width,Tt=k.height,Ue=4*Yt,rt=0;rt<Tt;){for(fe=0;fe<Ue;){for(We=Ue*rt+fe,nt=-1,ct=0,oe=0;oe<64;oe++)tt=We+(ct=oe>>3)*Ue+(nt=4*(7&oe)),rt+ct>=Tt&&(tt-=Ue*(rt+1+ct-Tt)),fe+nt>=Ue&&(tt-=fe+nt-Ue+4),_e=et[tt++],me=et[tt++],Me=et[tt++],ne[oe]=(je[_e]+je[me+256|0]+je[Me+512|0]>>16)-128,ae[oe]=(je[_e+768|0]+je[me+1024|0]+je[Me+1280|0]>>16)-128,se[oe]=(je[_e+1280|0]+je[me+1536|0]+je[Me+1792|0]>>16)-128;Y=Ce(ne,d,Y,e,r),M=Ce(ae,v,M,t,s),re=Ce(se,v,re,t,s),fe+=32}rt+=8}if(B>=0){var it=[];it[1]=B+1,it[0]=(1<<B+1)-1,he(it)}return pe(65497),new Uint8Array(H)},n=n||50,(function(){for(var k=String.fromCharCode,P=0;P<256;P++)Se[P]=k(P)})(),e=ie(O,w),t=ie(N,E),r=ie(q,I),s=ie(Q,de),(function(){for(var k=1,P=2,Y=1;Y<=15;Y++){for(var M=k;M<P;M++)C[32767+M]=Y,A[32767+M]=[],A[32767+M][1]=Y,A[32767+M][0]=M;for(var re=-(P-1);re<=-k;re++)C[32767+re]=Y,A[32767+re]=[],A[32767+re][1]=Y,A[32767+re][0]=P-1+re;k<<=1,P<<=1}})(),(function(){for(var k=0;k<256;k++)je[k]=19595*k,je[k+256|0]=38470*k,je[k+512|0]=7471*k+32768,je[k+768|0]=-11059*k,je[k+1024|0]=-21709*k,je[k+1280|0]=32768*k+8421375,je[k+1536|0]=-27439*k,je[k+1792|0]=-5329*k})(),Z(n)}function oo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hb(n){function e(w){if(!w)throw Error("assert :P")}function t(w,q,I){for(var N=0;4>N;N++)if(w[q+N]!=I.charCodeAt(N))return!0;return!1}function r(w,q,I,N,E){for(var Q=0;Q<E;Q++)w[q+Q]=I[N+Q]}function s(w,q,I,N){for(var E=0;E<N;E++)w[q+E]=I}function o(w){return new Int32Array(w)}function c(w,q){for(var I=[],N=0;N<w;N++)I.push(new q);return I}function h(w,q){var I=[];return(function N(E,Q,de){for(var ie=de[Q],he=0;he<ie&&(E.push(de.length>Q+1?[]:new q),!(de.length<Q+1));he++)N(E[he],Q+1,de)})(I,0,w),I}var f=function(){var w=this;function q(p,b){for(var T=1<<b-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function I(p,b,T,j,V){e(!(j%T));do p[b+(j-=T)]=V;while(0<j)}function N(p,b,T,j,V){if(e(2328>=V),512>=V)var G=o(512);else if((G=o(V))==null)return 0;return(function(W,X,te,ce,ve,Re){var le,xe,Te=X,ze=1<<te,Ne=o(16),Pe=o(16);for(e(ve!=0),e(ce!=null),e(W!=null),e(0<te),xe=0;xe<ve;++xe){if(15<ce[xe])return 0;++Ne[ce[xe]]}if(Ne[0]==ve)return 0;for(Pe[1]=0,le=1;15>le;++le){if(Ne[le]>1<<le)return 0;Pe[le+1]=Pe[le]+Ne[le]}for(xe=0;xe<ve;++xe)le=ce[xe],0<ce[xe]&&(Re[Pe[le]++]=xe);if(Pe[15]==1)return(ce=new E).g=0,ce.value=Re[0],I(W,Te,1,ze,ce),ze;var Ve,Qe=-1,Ye=ze-1,pt=0,st=1,Ht=1,ht=1<<te;for(xe=0,le=1,ve=2;le<=te;++le,ve<<=1){if(st+=Ht<<=1,0>(Ht-=Ne[le]))return 0;for(;0<Ne[le];--Ne[le])(ce=new E).g=le,ce.value=Re[xe++],I(W,Te+pt,ve,ht,ce),pt=q(pt,le)}for(le=te+1,ve=2;15>=le;++le,ve<<=1){if(st+=Ht<<=1,0>(Ht-=Ne[le]))return 0;for(;0<Ne[le];--Ne[le]){if(ce=new E,(pt&Ye)!=Qe){for(Te+=ht,Ve=1<<(Qe=le)-te;15>Qe&&!(0>=(Ve-=Ne[Qe]));)++Qe,Ve<<=1;ze+=ht=1<<(Ve=Qe-te),W[X+(Qe=pt&Ye)].g=Ve+te,W[X+Qe].value=Te-X-Qe}ce.g=le-te,ce.value=Re[xe++],I(W,Te+(pt>>te),ve,ht,ce),pt=q(pt,le)}}return st!=2*Pe[15]-1?0:ze})(p,b,T,j,V,G)}function E(){this.value=this.g=0}function Q(){this.value=this.g=0}function de(){this.G=c(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Eo,Q)}function ie(p,b,T,j){e(p!=null),e(b!=null),e(2147483648>j),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=T,p.Jd=b,p.Yc=T+j,p.Zc=4<=j?T+j-4+1:T,_e(p)}function he(p,b){for(var T=0;0<b--;)T|=Me(p,128)<<b;return T}function ee(p,b){var T=he(p,b);return me(p)?-T:T}function pe(p,b,T,j){var V,G=0;for(e(p!=null),e(b!=null),e(4294967288>j),p.Sb=j,p.Ra=0,p.u=0,p.h=0,4<j&&(j=4),V=0;V<j;++V)G+=b[T+V]<<8*V;p.Ra=G,p.bb=j,p.oa=b,p.pa=T}function Ce(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ts-8>>>0,++p.bb,p.u-=8;M(p)&&(p.h=1,p.u=0)}function Z(p,b){if(e(0<=b),!p.h&&b<=Xr){var T=Y(p)&ca[b];return p.u+=b,Ce(p),T}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(p){return p.Ra>>>(p.u&Ts-1)>>>0}function M(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ts}function re(p,b){p.u=b,p.h=M(p)}function fe(p){p.u>=Cs&&(e(p.u>=Cs),Ce(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function me(p){return he(p,1)}function Me(p,b){var T=p.Ca;0>p.b&&_e(p);var j=p.b,V=T*b>>>8,G=(p.I>>>j>V)+0;for(G?(T-=V,p.I-=V+1<<j>>>0):T=V+1,j=T,V=0;256<=j;)V+=8,j>>=8;return j=7^V+$s[j],p.b-=j,p.Ca=(T<<j)-1,G}function We(p,b,T){p[b+0]=T>>24&255,p[b+1]=T>>16&255,p[b+2]=T>>8&255,p[b+3]=255&T}function tt(p,b){return p[b+0]|p[b+1]<<8}function nt(p,b){return tt(p,b)|p[b+2]<<16}function ct(p,b){return tt(p,b)|tt(p,b+2)<<16}function oe(p,b){var T=1<<b;return e(p!=null),e(0<b),p.X=o(T),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function et(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),r(b.X,0,p.X,0,1<<b.Xa)}function Yt(){this.X=[],this.Xa=this.Mb=0}function Tt(p,b,T,j){e(T!=null),e(j!=null);var V=T[0],G=j[0];return V==0&&(V=(p*G+b/2)/b),G==0&&(G=(b*V+p/2)/p),0>=V||0>=G?0:(T[0]=V,j[0]=G,1)}function Ue(p,b){return p+(1<<b)-1>>>b}function rt(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function it(p,b){w[b]=function(T,j,V,G,W,X,te){var ce;for(ce=0;ce<W;++ce){var ve=w[p](X[te+ce-1],V,G+ce);X[te+ce]=rt(T[j+ce],ve)}}}function Nt(){this.ud=this.hd=this.jd=0}function _t(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function Wt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Zt(p,b){return Wt(p+(p-b+.5>>1))}function Bt(p,b,T){return Math.abs(b-T)-Math.abs(p-T)}function sn(p,b,T,j,V,G,W){for(j=G[W-1],T=0;T<V;++T)G[W+T]=j=rt(p[b+T],j)}function Kt(p,b,T,j,V){var G;for(G=0;G<T;++G){var W=p[b+G],X=W>>8&255,te=16711935&(te=(te=16711935&W)+((X<<16)+X));j[V+G]=(4278255360&W)+te>>>0}}function mt(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function qt(p,b,T,j,V,G){var W;for(W=0;W<j;++W){var X=b[T+W],te=X>>>8,ce=X,ve=255&(ve=(ve=X>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));ce=255&(ce=(ce+=(p.hd<<24>>24)*(te<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),V[G+W]=(4278255360&X)+(ve<<16)+ce}}function vt(p,b,T,j,V){w[b]=function(G,W,X,te,ce,ve,Re,le,xe){for(te=Re;te<le;++te)for(Re=0;Re<xe;++Re)ce[ve++]=V(X[j(G[W++])])},w[p]=function(G,W,X,te,ce,ve,Re){var le=8>>G.b,xe=G.Ea,Te=G.K[0],ze=G.w;if(8>le)for(G=(1<<G.b)-1,ze=(1<<le)-1;W<X;++W){var Ne,Pe=0;for(Ne=0;Ne<xe;++Ne)Ne&G||(Pe=j(te[ce++])),ve[Re++]=V(Te[Pe&ze]),Pe>>=le}else w["VP8LMapColor"+T](te,ce,Te,ze,ve,Re,W,X,xe)}}function fi(p,b,T,j,V){for(T=b+T;b<T;){var G=p[b++];j[V++]=G>>16&255,j[V++]=G>>8&255,j[V++]=255&G}}function Qt(p,b,T,j,V){for(T=b+T;b<T;){var G=p[b++];j[V++]=G>>16&255,j[V++]=G>>8&255,j[V++]=255&G,j[V++]=G>>24&255}}function Ct(p,b,T,j,V){for(T=b+T;b<T;){var G=(W=p[b++])>>16&240|W>>12&15,W=240&W|W>>28&15;j[V++]=G,j[V++]=W}}function Pt(p,b,T,j,V){for(T=b+T;b<T;){var G=(W=p[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;j[V++]=G,j[V++]=W}}function $t(p,b,T,j,V){for(T=b+T;b<T;){var G=p[b++];j[V++]=255&G,j[V++]=G>>8&255,j[V++]=G>>16&255}}function St(p,b,T,j,V,G){if(G==0)for(T=b+T;b<T;)We(j,((G=p[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else r(j,V,p,b,T)}function In(p,b){w[b][0]=w[p+"0"],w[b][1]=w[p+"1"],w[b][2]=w[p+"2"],w[b][3]=w[p+"3"],w[b][4]=w[p+"4"],w[b][5]=w[p+"5"],w[b][6]=w[p+"6"],w[b][7]=w[p+"7"],w[b][8]=w[p+"8"],w[b][9]=w[p+"9"],w[b][10]=w[p+"10"],w[b][11]=w[p+"11"],w[b][12]=w[p+"12"],w[b][13]=w[p+"13"],w[b][14]=w[p+"0"],w[b][15]=w[p+"0"]}function Mt(p){return p==Uu||p==Sc||p==Vl||p==Ac}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function Dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new Dn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function er(p,b){var T=p.T,j=b.ba.f.RGBA,V=j.eb,G=j.fb+p.ka*j.A,W=_r[b.ba.S],X=p.y,te=p.O,ce=p.f,ve=p.N,Re=p.ea,le=p.W,xe=b.cc,Te=b.dc,ze=b.Mc,Ne=b.Nc,Pe=p.ka,Ve=p.ka+p.T,Qe=p.U,Ye=Qe+1>>1;for(Pe==0?W(X,te,null,null,ce,ve,Re,le,ce,ve,Re,le,V,G,null,null,Qe):(W(b.ec,b.fc,X,te,xe,Te,ze,Ne,ce,ve,Re,le,V,G-j.A,V,G,Qe),++T);Pe+2<Ve;Pe+=2)xe=ce,Te=ve,ze=Re,Ne=le,ve+=p.Rc,le+=p.Rc,G+=2*j.A,W(X,(te+=2*p.fa)-p.fa,X,te,xe,Te,ze,Ne,ce,ve,Re,le,V,G-j.A,V,G,Qe);return te+=p.fa,p.j+Ve<p.o?(r(b.ec,b.fc,X,te,Qe),r(b.cc,b.dc,ce,ve,Ye),r(b.Mc,b.Nc,Re,le,Ye),T--):1&Ve||W(X,te,null,null,ce,ve,Re,le,ce,ve,Re,le,V,G+j.A,null,null,Qe),T}function Ia(p,b,T){var j=p.F,V=[p.J];if(j!=null){var G=p.U,W=b.ba.S,X=W==Vu||W==Vl;b=b.ba.f.RGBA;var te=[0],ce=p.ka;te[0]=p.T,p.Kb&&(ce==0?--te[0]:(--ce,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-ce));var ve=b.eb;ce=b.fb+ce*b.A,p=Pu(j,V[0],p.width,G,te,ve,ce+(X?0:3),b.A),e(T==te),p&&Mt(W)&&ol(ve,ce,X,G,te,b.A)}return 0}function Gi(p){var b=p.ma,T=b.ba.S,j=11>T,V=T==Mr||T==za||T==Vu||T==Bl||T==12||Mt(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ws(b.Oa,p,V?11:12))return 0;if(V&&Mt(T)&&Ut(),p.da)alert("todo:use_scaling");else{if(j){if(b.Ib=fr,p.Kb){if(T=p.U+1>>1,b.memory=o(p.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=er,Ut()}}else alert("todo:EmitYUV");V&&(b.Jb=Ia,j&&De())}if(j&&!Lo){for(p=0;256>p;++p)wr[p]=89858*(p-128)+Hl>>Ha,s1[p]=-22014*(p-128)+Hl,Jf[p]=-45773*(p-128),Rc[p]=113618*(p-128)+Hl>>Ha;for(p=hl;p<jo;++p)b=76283*(p-16)+Hl>>Ha,o1[p-hl]=Gr(b,255),l1[p-hl]=Gr(b+8>>4,15);Lo=1}return 1}function At(p){var b=p.ma,T=p.U,j=p.T;return e(!(1&p.ka)),0>=T||0>=j?0:(T=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,T),b.Dc+=T,1)}function es(p){p.ma.memory=null}function Ur(p,b,T,j){return Z(p,8)!=47?0:(b[0]=Z(p,14)+1,T[0]=Z(p,14)+1,j[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function Tr(p,b){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+Z(b,T)+1}function Cr(p,b){return 120<b?b-120:1<=(T=((T=Ba[b-1])>>4)*p+(8-(15&T)))?T:1;var T}function Un(p,b,T){var j=Y(T),V=p[b+=255&j].g-8;return 0<V&&(re(T,T.u+8),j=Y(T),b+=p[b].value,b+=j&(1<<V)-1),re(T,T.u+p[b].g),p[b].value}function Jn(p,b,T){return T.g+=p.g,T.value+=p.value<<b>>>0,e(8>=T.g),p.g}function Mi(p,b,T){var j=p.xc;return e((b=j==0?0:p.vc[p.md*(T>>j)+(b>>j)])<p.Wb),p.Ya[b]}function dr(p,b,T,j){var V=p.ab,G=p.c*b,W=p.C;b=W+b;var X=T,te=j;for(j=p.Ta,T=p.Ua;0<V--;){var ce=p.gc[V],ve=W,Re=b,le=X,xe=te,Te=(te=j,X=T,ce.Ea);switch(e(ve<Re),e(Re<=ce.nc),ce.hc){case 2:Ii(le,xe,(Re-ve)*Te,te,X);break;case 0:var ze=ve,Ne=Re,Pe=te,Ve=X,Qe=(ht=ce).Ea;ze==0&&(Ol(le,xe,null,null,1,Pe,Ve),sn(le,xe+1,0,0,Qe-1,Pe,Ve+1),xe+=Qe,Ve+=Qe,++ze);for(var Ye=1<<ht.b,pt=Ye-1,st=Ue(Qe,ht.b),Ht=ht.K,ht=ht.w+(ze>>ht.b)*st;ze<Ne;){var pn=Ht,ui=ht,Jt=1;for(Pl(le,xe,Pe,Ve-Qe,1,Pe,Ve);Jt<Qe;){var ot=(Jt&~pt)+Ye;ot>Qe&&(ot=Qe),(0,Ks[pn[ui++]>>8&15])(le,xe+ +Jt,Pe,Ve+Jt-Qe,ot-Jt,Pe,Ve+Jt),Jt=ot}xe+=Qe,Ve+=Qe,++ze&pt||(ht+=st)}Re!=ce.nc&&r(te,X-Te,te,X+(Re-ve-1)*Te,Te);break;case 1:for(Te=le,Ne=xe,Qe=(le=ce.Ea)-(Ve=le&~(Pe=(xe=1<<ce.b)-1)),ze=Ue(le,ce.b),Ye=ce.K,ce=ce.w+(ve>>ce.b)*ze;ve<Re;){for(pt=Ye,st=ce,Ht=new Nt,ht=Ne+Ve,pn=Ne+le;Ne<ht;)mt(pt[st++],Ht),zl(Ht,Te,Ne,xe,te,X),Ne+=xe,X+=xe;Ne<pn&&(mt(pt[st++],Ht),zl(Ht,Te,Ne,Qe,te,X),Ne+=Qe,X+=Qe),++ve&Pe||(ce+=ze)}break;case 3:if(le==te&&xe==X&&0<ce.b){for(Ne=te,le=Te=X+(Re-ve)*Te-(Ve=(Re-ve)*Ue(ce.Ea,ce.b)),xe=te,Pe=X,ze=[],Ve=(Qe=Ve)-1;0<=Ve;--Ve)ze[Ve]=xe[Pe+Ve];for(Ve=Qe-1;0<=Ve;--Ve)Ne[le+Ve]=ze[Ve];vc(ce,ve,Re,te,Te,te,X)}else vc(ce,ve,Re,le,xe,te,X)}X=j,te=T}te!=T&&r(j,T,X,te,G)}function tr(p,b){var T=p.V,j=p.Ba+p.c*p.C,V=b-p.C;if(e(b<=p.l.o),e(16>=V),0<V){var G=p.l,W=p.Ta,X=p.Ua,te=G.width;if(dr(p,V,T,j),V=X=[X],e((T=p.C)<(j=b)),e(G.v<G.va),j>G.o&&(j=G.o),T<G.j){var ce=G.j-T;T=G.j,V[0]+=ce*te}if(T>=j?T=0:(V[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=j-T,T=1),T){if(X=X[0],11>(T=p.ca).S){var ve=T.f.RGBA,Re=(j=T.S,V=G.U,G=G.T,ce=ve.eb,ve.A),le=G;for(ve=ve.fb+p.Ma*ve.A;0<le--;){var xe=W,Te=X,ze=V,Ne=ce,Pe=ve;switch(j){case _c:Fl(xe,Te,ze,Ne,Pe);break;case Mr:Qs(xe,Te,ze,Ne,Pe);break;case Uu:Qs(xe,Te,ze,Ne,Pe),ol(Ne,Pe,0,ze,1,0);break;case wc:al(xe,Te,ze,Ne,Pe);break;case za:St(xe,Te,ze,Ne,Pe,1);break;case Sc:St(xe,Te,ze,Ne,Pe,1),ol(Ne,Pe,0,ze,1,0);break;case Vu:St(xe,Te,ze,Ne,Pe,0);break;case Vl:St(xe,Te,ze,Ne,Pe,0),ol(Ne,Pe,1,ze,1,0);break;case Bl:Xs(xe,Te,ze,Ne,Pe);break;case Ac:Xs(xe,Te,ze,Ne,Pe),Pa(Ne,Pe,ze,1,0);break;case To:Is(xe,Te,ze,Ne,Pe);break;default:e(0)}X+=te,ve+=Re}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=T.height)}}p.C=b,e(p.C<=p.i)}function kn(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var T=p.Ya[b].G,j=p.Ya[b].H;if(0<T[1][j[1]+0].g||0<T[2][j[2]+0].g||0<T[3][j[3]+0].g)return 0}return 1}function Wn(p,b,T,j,V,G){if(p.Z!=0){var W=p.qd,X=p.rd;for(e(eo[p.Z]!=null);b<T;++b)eo[p.Z](W,X,j,V,j,V,G),W=j,X=V,V+=G;p.qd=W,p.rd=X}}function Oi(p,b){var T=p.l.ma,j=T.Z==0||T.Z==1?p.l.j:p.C;if(j=p.C<j?j:p.C,e(b<=p.l.o),b>j){var V=p.l.width,G=T.ca,W=T.tb+V*j,X=p.V,te=p.Ba+p.c*j,ce=p.gc;e(p.ab==1),e(ce[0].hc==3),Rs(ce[0],j,b,X,te,G,W),Wn(T,j,b,G,W,V)}p.C=p.Ma=b}function Nr(p,b,T,j,V,G,W){var X=p.$/j,te=p.$%j,ce=p.m,ve=p.s,Re=T+p.$,le=Re;V=T+j*V;var xe=T+j*G,Te=280+ve.ua,ze=p.Pb?X:16777216,Ne=0<ve.ua?ve.Wa:null,Pe=ve.wc,Ve=Re<xe?Mi(ve,te,X):null;e(p.C<G),e(xe<=V);var Qe=!1;e:for(;;){for(;Qe||Re<xe;){var Ye=0;if(X>=ze){var pt=Re-T;e((ze=p).Pb),ze.wd=ze.m,ze.xd=pt,0<ze.s.ua&&et(ze.s.Wa,ze.s.vb),ze=X+Co}if(te&Pe||(Ve=Mi(ve,te,X)),e(Ve!=null),Ve.Qb&&(b[Re]=Ve.qb,Qe=!0),!Qe)if(fe(ce),Ve.jc){Ye=ce,pt=b;var st=Re,Ht=Ve.pd[Y(Ye)&Eo-1];e(Ve.jc),256>Ht.g?(re(Ye,Ye.u+Ht.g),pt[st]=Ht.value,Ye=0):(re(Ye,Ye.u+Ht.g-256),e(256<=Ht.value),Ye=Ht.value),Ye==0&&(Qe=!0)}else Ye=Un(Ve.G[0],Ve.H[0],ce);if(ce.h)break;if(Qe||256>Ye){if(!Qe)if(Ve.nd)b[Re]=(Ve.qb|Ye<<8)>>>0;else{if(fe(ce),Qe=Un(Ve.G[1],Ve.H[1],ce),fe(ce),pt=Un(Ve.G[2],Ve.H[2],ce),st=Un(Ve.G[3],Ve.H[3],ce),ce.h)break;b[Re]=(st<<24|Qe<<16|Ye<<8|pt)>>>0}if(Qe=!1,++Re,++te>=j&&(te=0,++X,W!=null&&X<=G&&!(X%16)&&W(p,X),Ne!=null))for(;le<Re;)Ye=b[le++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else if(280>Ye){if(Ye=Tr(Ye-256,ce),pt=Un(Ve.G[4],Ve.H[4],ce),fe(ce),pt=Cr(j,pt=Tr(pt,ce)),ce.h)break;if(Re-T<pt||V-Re<Ye)break e;for(st=0;st<Ye;++st)b[Re+st]=b[Re+st-pt];for(Re+=Ye,te+=Ye;te>=j;)te-=j,++X,W!=null&&X<=G&&!(X%16)&&W(p,X);if(e(Re<=V),te&Pe&&(Ve=Mi(ve,te,X)),Ne!=null)for(;le<Re;)Ye=b[le++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else{if(!(Ye<Te))break e;for(Qe=Ye-280,e(Ne!=null);le<Re;)Ye=b[le++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye;Ye=Re,e(!(Qe>>>(pt=Ne).Xa)),b[Ye]=pt.X[Qe],Qe=!0}Qe||e(ce.h==M(ce))}if(p.Pb&&ce.h&&Re<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&et(p.s.vb,p.s.Wa);else{if(ce.h)break e;W?.(p,X>G?G:X),p.a=0,p.$=Re-T}return 1}return p.a=3,0}function aa(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function vs(){var p=new jt;return p==null?null:(p.a=0,p.xb=Lh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ii=Kt,zl=qt,Fl=fi,Qs=Qt,Xs=Ct,Is=Pt,al=$t,w.VP8LMapColor32b=Ns,w.VP8LMapColor8b=vr,p)}function xa(p,b,T,j,V){var G=1,W=[p],X=[b],te=j.m,ce=j.s,ve=null,Re=0;e:for(;;){if(T)for(;G&&Z(te,1);){var le=W,xe=X,Te=j,ze=1,Ne=Te.m,Pe=Te.gc[Te.ab],Ve=Z(Ne,2);if(Te.Oc&1<<Ve)G=0;else{switch(Te.Oc|=1<<Ve,Pe.hc=Ve,Pe.Ea=le[0],Pe.nc=xe[0],Pe.K=[null],++Te.ab,e(4>=Te.ab),Ve){case 0:case 1:Pe.b=Z(Ne,3)+2,ze=xa(Ue(Pe.Ea,Pe.b),Ue(Pe.nc,Pe.b),0,Te,Pe.K),Pe.K=Pe.K[0];break;case 3:var Qe,Ye=Z(Ne,8)+1,pt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(le[0]=Ue(Pe.Ea,pt),Pe.b=pt,Qe=ze=xa(Ye,1,0,Te,Pe.K)){var st,Ht=Ye,ht=Pe,pn=1<<(8>>ht.b),ui=o(pn);if(ui==null)Qe=0;else{var Jt=ht.K[0],ot=ht.w;for(ui[0]=ht.K[0][0],st=1;st<1*Ht;++st)ui[st]=rt(Jt[ot+st],ui[st-1]);for(;st<4*pn;++st)ui[st]=0;ht.K[0]=null,ht.K[0]=ui,Qe=1}}ze=Qe;break;case 2:break;default:e(0)}G=ze}}if(W=W[0],X=X[0],G&&Z(te,1)&&!(G=1<=(Re=Z(te,4))&&11>=Re)){j.a=3;break e}var Je;if(Je=G)t:{var gi,zt,an,Fn=j,$i=W,Sr=X,ii=Re,zi=T,Or=Fn.m,Fi=Fn.s,cn=[null],En=1,mi=0,Ln=Va[ii];n:for(;;){if(zi&&Z(Or,1)){var Ki=Z(Or,3)+2,yi=Ue($i,Ki),Tn=Ue(Sr,Ki),Di=yi*Tn;if(!xa(yi,Tn,0,Fn,cn))break n;for(cn=cn[0],Fi.xc=Ki,gi=0;gi<Di;++gi){var Bn=cn[gi]>>8&65535;cn[gi]=Bn,Bn>=En&&(En=Bn+1)}}if(Or.h)break n;for(zt=0;5>zt;++zt){var Bi=ul[zt];!zt&&0<ii&&(Bi+=1<<ii),mi<Bi&&(mi=Bi)}var Vi=c(En*Ln,E),Kn=En,An=c(Kn,de);if(An==null)var Pr=null;else e(65536>=Kn),Pr=An;var Ai=o(mi);if(Pr==null||Ai==null||Vi==null){Fn.a=1;break n}var It=Vi;for(gi=an=0;gi<En;++gi){var Lt=Pr[gi],Cn=Lt.G,ha=Lt.H,Ga=0,Jr=1,Ui=0;for(zt=0;5>zt;++zt){Bi=ul[zt],Cn[zt]=It,ha[zt]=an,!zt&&0<ii&&(Bi+=1<<ii);r:{var Do,ko=Bi,jc=Fn,ri=Ai,kh=It,Mh=an,Lc=0,to=jc.m,u1=Z(to,1);if(s(ri,0,0,ko),u1){var Oh=Z(to,1)+1,Ph=Z(to,1),Dc=Z(to,Ph==0?1:8);ri[Dc]=1,Oh==2&&(ri[Dc=Z(to,8)]=1);var ar=1}else{var Ei=o(19),Yu=Z(to,4)+4;if(19<Yu){jc.a=3;var Mo=0;break r}for(Do=0;Do<Yu;++Do)Ei[qu[Do]]=Z(to,3);var Yl=void 0,fl=void 0,Ds=jc,kc=Ei,Wl=ko,Mc=ri,Oc=0,no=Ds.m,zh=8,Fh=c(128,E);i:for(;N(Fh,0,7,kc,19);){if(Z(no,1)){var ed=2+2*Z(no,3);if((Yl=2+Z(no,ed))>Wl)break i}else Yl=Wl;for(fl=0;fl<Wl&&Yl--;){fe(no);var Bh=Fh[0+(127&Y(no))];re(no,no.u+Bh.g);var Oo=Bh.value;if(16>Oo)Mc[fl++]=Oo,Oo!=0&&(zh=Oo);else{var td=Oo==16,nd=Oo-16,id=Ul[nd],Vh=Z(no,Fa[nd])+id;if(fl+Vh>Wl)break i;for(var rd=td?zh:0;0<Vh--;)Mc[fl++]=rd}}Oc=1;break i}Oc||(Ds.a=3),ar=Oc}(ar=ar&&!to.h)&&(Lc=N(kh,Mh,8,ri,ko)),ar&&Lc!=0?Mo=Lc:(jc.a=3,Mo=0)}if(Mo==0)break n;if(Jr&&Ec[zt]==1&&(Jr=It[an].g==0),Ga+=It[an].g,an+=Mo,3>=zt){var dl,Pc=Ai[0];for(dl=1;dl<Bi;++dl)Ai[dl]>Pc&&(Pc=Ai[dl]);Ui+=Pc}}if(Lt.nd=Jr,Lt.Qb=0,Jr&&(Lt.qb=(Cn[3][ha[3]+0].value<<24|Cn[1][ha[1]+0].value<<16|Cn[2][ha[2]+0].value)>>>0,Ga==0&&256>Cn[0][ha[0]+0].value&&(Lt.Qb=1,Lt.qb+=Cn[0][ha[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>Ui,Lt.jc){var Wu,ks=Lt;for(Wu=0;Wu<Eo;++Wu){var io=Wu,ro=ks.pd[io],zc=ks.G[0][ks.H[0]+io];256<=zc.value?(ro.g=zc.g+256,ro.value=zc.value):(ro.g=0,ro.value=0,io>>=Jn(zc,8,ro),io>>=Jn(ks.G[1][ks.H[1]+io],16,ro),io>>=Jn(ks.G[2][ks.H[2]+io],0,ro),Jn(ks.G[3][ks.H[3]+io],24,ro))}}}Fi.vc=cn,Fi.Wb=En,Fi.Ya=Pr,Fi.yc=Vi,Je=1;break t}Je=0}if(!(G=Je)){j.a=3;break e}if(0<Re){if(ce.ua=1<<Re,!oe(ce.Wa,Re)){j.a=1,G=0;break e}}else ce.ua=0;var Fc=j,pl=W,ad=X,$l=Fc.s,Kl=$l.xc;if(Fc.c=pl,Fc.i=ad,$l.md=Ue(pl,Kl),$l.wc=Kl==0?-1:(1<<Kl)-1,T){j.xb=No;break e}if((ve=o(W*X))==null){j.a=1,G=0;break e}G=(G=Nr(j,ve,0,W,X,X,null))&&!te.h;break e}return G?(V!=null?V[0]=ve:(e(ve==null),e(T)),j.$=0,T||aa(ce)):aa(ce),G}function Rr(p,b){var T=p.c*p.i,j=T+b+16*b;return e(p.c<=b),p.V=o(j),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+b,1)}function ts(p,b){var T=p.C,j=b-T,V=p.V,G=p.Ba+p.c*T;for(e(b<=p.l.o);0<j;){var W=16<j?16:j,X=p.l.ma,te=p.l.width,ce=te*W,ve=X.ca,Re=X.tb+te*T,le=p.Ta,xe=p.Ua;dr(p,W,V,G),Na(le,xe,ve,Re,ce),Wn(X,T,T+W,ve,Re,te),j-=W,V+=W*p.c,T+=W}e(T==b),p.C=p.Ma=b}function qr(){this.ub=this.yd=this.td=this.Rb=0}function pr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function sa(){this.Yb=(function(){var p=[];return(function b(T,j,V){for(var G=V[j],W=0;W<G&&(T.push(V.length>j+1?[]:0),!(V.length<j+1));W++)b(T[W],j+1,V)})(p,0,[3,11]),p})()}function pi(){this.jb=o(3),this.Wc=h([4,8],sa),this.Xc=h([4,17],sa)}function yo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function oa(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Bs),this.aa=0,this.l=new nr}function bo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Zo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new qr,this.Kc=new pr,this.ed=new yo,this.Qa=new Hr,this.Ic=this.$c=this.Aa=0,this.D=new vo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,_a),this.Pa=new pi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bo),this.Hd=0,this.rb=Array(new oa),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bs),this.L=this.aa=0,this.gd=h([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(p,b){return 0>p?0:p>b?b:p}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var p=new Zo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ra||(Ra=vn)),p}function fn(p,b,T){return p.a==0&&(p.a=b,p.sc=T,p.cb=0),0}function ns(p,b,T){return 3<=T&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function la(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,j=b.w,V=b.ha;if(4>V)return fn(p,7,"Truncated header.");var G=T[j+0]|T[j+1]<<8|T[j+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return fn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return fn(p,4,"Frame not displayable.");j+=3,V-=3;var X=p.Kc;if(W.Rb){if(7>V)return fn(p,7,"cannot parse picture header");if(!ns(T,j,V))return fn(p,3,"Bad code word");X.c=16383&(T[j+4]<<8|T[j+3]),X.Td=T[j+4]>>6,X.i=16383&(T[j+6]<<8|T[j+5]),X.Ud=T[j+6]>>6,j+=7,V-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,b.width=X.c,b.height=X.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(W.ub>V)return fn(p,7,"bad partition length");ie(G=p.m,T,j,W.ub),j+=W.ub,V-=W.ub,W.Rb&&(X.Ld=me(G),X.Kd=me(G)),X=p.Qa;var te,ce=p.Pa;if(e(G!=null),e(X!=null),X.Cb=me(G),X.Cb){if(X.Bb=me(G),me(G)){for(X.Fb=me(G),te=0;4>te;++te)X.Zb[te]=me(G)?ee(G,7):0;for(te=0;4>te;++te)X.Lb[te]=me(G)?ee(G,6):0}if(X.Bb)for(te=0;3>te;++te)ce.jb[te]=me(G)?he(G,8):255}else X.Bb=0;if(G.Ka)return fn(p,3,"cannot parse segment header");if((X=p.ed).zd=me(G),X.Tb=he(G,6),X.wb=he(G,3),X.Pc=me(G),X.Pc&&me(G)){for(ce=0;4>ce;++ce)me(G)&&(X.vd[ce]=ee(G,6));for(ce=0;4>ce;++ce)me(G)&&(X.od[ce]=ee(G,6))}if(p.L=X.Tb==0?0:X.zd?1:2,G.Ka)return fn(p,3,"cannot parse filter header");var ve=V;if(V=te=j,j=te+ve,X=ve,p.Xb=(1<<he(p.m,2))-1,ve<3*(ce=p.Xb))T=7;else{for(te+=3*ce,X-=3*ce,ve=0;ve<ce;++ve){var Re=T[V+0]|T[V+1]<<8|T[V+2]<<16;Re>X&&(Re=X),ie(p.Jc[+ve],T,te,Re),te+=Re,X-=Re,V+=3}ie(p.Jc[+ce],T,te,X),T=te<j?0:5}if(T!=0)return fn(p,T,"cannot parse partitions");for(T=he(te=p.m,7),V=me(te)?ee(te,4):0,j=me(te)?ee(te,4):0,X=me(te)?ee(te,4):0,ce=me(te)?ee(te,4):0,te=me(te)?ee(te,4):0,ve=p.Qa,Re=0;4>Re;++Re){if(ve.Cb){var le=ve.Zb[Re];ve.Fb||(le+=T)}else{if(0<Re){p.pb[Re]=p.pb[0];continue}le=T}var xe=p.pb[Re];xe.Sc[0]=Ua[Gr(le+V,127)],xe.Sc[1]=qa[Gr(le+0,127)],xe.Eb[0]=2*Ua[Gr(le+j,127)],xe.Eb[1]=101581*qa[Gr(le+X,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=Ua[Gr(le+ce,117)],xe.Qc[1]=qa[Gr(le+te,127)],xe.lc=le+te}if(!W.Rb)return fn(p,4,"Not a key frame.");for(me(G),W=p.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(j=0;3>j;++j)for(X=0;11>X;++X)ce=Me(G,li[T][V][j][X])?he(G,8):Zf[T][V][j][X],W.Wc[T][V].Yb[j][X]=ce;for(V=0;17>V;++V)W.Xc[T][V]=W.Wc[T][gn[V]]}return p.kc=me(G),p.kc&&(p.Bd=he(G,8)),p.cb=1}function vn(p,b,T,j,V,G,W){var X=b[V].Yb[T];for(T=0;16>V;++V){if(!Me(p,X[T+0]))return V;for(;!Me(p,X[T+1]);)if(X=b[++V].Yb[0],T=0,V==16)return 16;var te=b[V+1].Yb;if(Me(p,X[T+2])){var ce=p,ve=0;if(Me(ce,(le=X)[(Re=T)+3]))if(Me(ce,le[Re+6])){for(X=0,Re=2*(ve=Me(ce,le[Re+8]))+(le=Me(ce,le[Re+9+ve])),ve=0,le=Xf[Re];le[X];++X)ve+=ve+Me(ce,le[X]);ve+=3+(8<<Re)}else Me(ce,le[Re+7])?(ve=7+2*Me(ce,165),ve+=Me(ce,145)):ve=5+Me(ce,159);else ve=Me(ce,le[Re+4])?3+Me(ce,le[Re+5]):2;X=te[2]}else ve=1,X=te[1];te=W+jh[V],0>(ce=p).b&&_e(ce);var Re,le=ce.b,xe=(Re=ce.Ca>>1)-(ce.I>>le)>>31;--ce.b,ce.Ca+=xe,ce.Ca|=1,ce.I-=(Re+1&xe)<<le,G[te]=((ve^xe)-xe)*j[(0<V)+0]}return 16}function bs(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,b,T,j,V){V=p[b+T+32*j]+(V>>3),p[b+T+32*j]=-256&V?0>V?0:255:V}function oi(p,b,T,j,V,G){Ni(p,b,0,T,j+V),Ni(p,b,1,T,j+G),Ni(p,b,2,T,j-G),Ni(p,b,3,T,j-V)}function wi(p){return(20091*p>>16)+p}function Vs(p,b,T,j){var V,G=0,W=o(16);for(V=0;4>V;++V){var X=p[b+0]+p[b+8],te=p[b+0]-p[b+8],ce=(35468*p[b+4]>>16)-wi(p[b+12]),ve=wi(p[b+4])+(35468*p[b+12]>>16);W[G+0]=X+ve,W[G+1]=te+ce,W[G+2]=te-ce,W[G+3]=X-ve,G+=4,b++}for(V=G=0;4>V;++V)X=(p=W[G+0]+4)+W[G+8],te=p-W[G+8],ce=(35468*W[G+4]>>16)-wi(W[G+12]),Ni(T,j,0,0,X+(ve=wi(W[G+4])+(35468*W[G+12]>>16))),Ni(T,j,1,0,te+ce),Ni(T,j,2,0,te-ce),Ni(T,j,3,0,X-ve),G++,j+=32}function kl(p,b,T,j){var V=p[b+0]+4,G=35468*p[b+4]>>16,W=wi(p[b+4]),X=35468*p[b+1]>>16;oi(T,j,0,V+W,p=wi(p[b+1]),X),oi(T,j,1,V+G,p,X),oi(T,j,2,V-G,p,X),oi(T,j,3,V-W,p,X)}function Jo(p,b,T,j,V){Vs(p,b,T,j),V&&Vs(p,b+16,T,j+4)}function gr(p,b,T,j){Zs(p,b+0,T,j,1),Zs(p,b+32,T,j+128,1)}function el(p,b,T,j){var V;for(p=p[b+0]+4,V=0;4>V;++V)for(b=0;4>b;++b)Ni(T,j,b,V,p)}function is(p,b,T,j){p[b+0]&&jn(p,b+0,T,j),p[b+16]&&jn(p,b+16,T,j+4),p[b+32]&&jn(p,b+32,T,j+128),p[b+48]&&jn(p,b+48,T,j+128+4)}function Yi(p,b,T,j){var V,G=o(16);for(V=0;4>V;++V){var W=p[b+0+V]+p[b+12+V],X=p[b+4+V]+p[b+8+V],te=p[b+4+V]-p[b+8+V],ce=p[b+0+V]-p[b+12+V];G[0+V]=W+X,G[8+V]=W-X,G[4+V]=ce+te,G[12+V]=ce-te}for(V=0;4>V;++V)W=(p=G[0+4*V]+3)+G[3+4*V],X=G[1+4*V]+G[2+4*V],te=G[1+4*V]-G[2+4*V],ce=p-G[3+4*V],T[j+0]=W+X>>3,T[j+16]=ce+te>>3,T[j+32]=W-X>>3,T[j+48]=ce-te>>3,j+=64}function xs(p,b,T){var j,V=b-32,G=kr,W=255-p[V-1];for(j=0;j<T;++j){var X,te=G,ce=W+p[b-1];for(X=0;X<T;++X)p[b+X]=te[ce+p[V+X]];b+=32}}function tl(p,b){xs(p,b,4)}function nl(p,b){xs(p,b,8)}function xo(p,b){xs(p,b,16)}function _o(p,b){var T;for(T=0;16>T;++T)r(p,b+32*T,p,b-32,16)}function rs(p,b){var T;for(T=16;0<T;--T)s(p,b,p[b-1],16),b+=32}function jr(p,b,T){var j;for(j=0;16>j;++j)s(b,T+32*j,p,16)}function wa(p,b){var T,j=16;for(T=0;16>T;++T)j+=p[b-1+32*T]+p[b+T-32];jr(j>>5,p,b)}function as(p,b){var T,j=8;for(T=0;16>T;++T)j+=p[b-1+32*T];jr(j>>4,p,b)}function Lr(p,b){var T,j=8;for(T=0;16>T;++T)j+=p[b+T-32];jr(j>>4,p,b)}function _s(p,b){jr(128,p,b)}function Rt(p,b,T){return p+2*b+T+2>>2}function Us(p,b){var T,j=b-32;for(j=new Uint8Array([Rt(p[j-1],p[j+0],p[j+1]),Rt(p[j+0],p[j+1],p[j+2]),Rt(p[j+1],p[j+2],p[j+3]),Rt(p[j+2],p[j+3],p[j+4])]),T=0;4>T;++T)r(p,b+32*T,j,0,j.length)}function wo(p,b){var T=p[b-1],j=p[b-1+32],V=p[b-1+64],G=p[b-1+96];We(p,b+0,16843009*Rt(p[b-1-32],T,j)),We(p,b+32,16843009*Rt(T,j,V)),We(p,b+64,16843009*Rt(j,V,G)),We(p,b+96,16843009*Rt(V,G,G))}function ws(p,b){var T,j=4;for(T=0;4>T;++T)j+=p[b+T-32]+p[b-1+32*T];for(j>>=3,T=0;4>T;++T)s(p,b+32*T,j,4)}function Wi(p,b){var T=p[b-1+0],j=p[b-1+32],V=p[b-1+64],G=p[b-1-32],W=p[b+0-32],X=p[b+1-32],te=p[b+2-32],ce=p[b+3-32];p[b+0+96]=Rt(j,V,p[b-1+96]),p[b+1+96]=p[b+0+64]=Rt(T,j,V),p[b+2+96]=p[b+1+64]=p[b+0+32]=Rt(G,T,j),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Rt(W,G,T),p[b+3+64]=p[b+2+32]=p[b+1+0]=Rt(X,W,G),p[b+3+32]=p[b+2+0]=Rt(te,X,W),p[b+3+0]=Rt(ce,te,X)}function Pi(p,b){var T=p[b+1-32],j=p[b+2-32],V=p[b+3-32],G=p[b+4-32],W=p[b+5-32],X=p[b+6-32],te=p[b+7-32];p[b+0+0]=Rt(p[b+0-32],T,j),p[b+1+0]=p[b+0+32]=Rt(T,j,V),p[b+2+0]=p[b+1+32]=p[b+0+64]=Rt(j,V,G),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Rt(V,G,W),p[b+3+32]=p[b+2+64]=p[b+1+96]=Rt(G,W,X),p[b+3+64]=p[b+2+96]=Rt(W,X,te),p[b+3+96]=Rt(X,te,te)}function qs(p,b){var T=p[b-1+0],j=p[b-1+32],V=p[b-1+64],G=p[b-1-32],W=p[b+0-32],X=p[b+1-32],te=p[b+2-32],ce=p[b+3-32];p[b+0+0]=p[b+1+64]=G+W+1>>1,p[b+1+0]=p[b+2+64]=W+X+1>>1,p[b+2+0]=p[b+3+64]=X+te+1>>1,p[b+3+0]=te+ce+1>>1,p[b+0+96]=Rt(V,j,T),p[b+0+64]=Rt(j,T,G),p[b+0+32]=p[b+1+96]=Rt(T,G,W),p[b+1+32]=p[b+2+96]=Rt(G,W,X),p[b+2+32]=p[b+3+96]=Rt(W,X,te),p[b+3+32]=Rt(X,te,ce)}function Mn(p,b){var T=p[b+0-32],j=p[b+1-32],V=p[b+2-32],G=p[b+3-32],W=p[b+4-32],X=p[b+5-32],te=p[b+6-32],ce=p[b+7-32];p[b+0+0]=T+j+1>>1,p[b+1+0]=p[b+0+64]=j+V+1>>1,p[b+2+0]=p[b+1+64]=V+G+1>>1,p[b+3+0]=p[b+2+64]=G+W+1>>1,p[b+0+32]=Rt(T,j,V),p[b+1+32]=p[b+0+96]=Rt(j,V,G),p[b+2+32]=p[b+1+96]=Rt(V,G,W),p[b+3+32]=p[b+2+96]=Rt(G,W,X),p[b+3+64]=Rt(W,X,te),p[b+3+96]=Rt(X,te,ce)}function Yr(p,b){var T=p[b-1+0],j=p[b-1+32],V=p[b-1+64],G=p[b-1+96];p[b+0+0]=T+j+1>>1,p[b+2+0]=p[b+0+32]=j+V+1>>1,p[b+2+32]=p[b+0+64]=V+G+1>>1,p[b+1+0]=Rt(T,j,V),p[b+3+0]=p[b+1+32]=Rt(j,V,G),p[b+3+32]=p[b+1+64]=Rt(V,G,G),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=G}function Hs(p,b){var T=p[b-1+0],j=p[b-1+32],V=p[b-1+64],G=p[b-1+96],W=p[b-1-32],X=p[b+0-32],te=p[b+1-32],ce=p[b+2-32];p[b+0+0]=p[b+2+32]=T+W+1>>1,p[b+0+32]=p[b+2+64]=j+T+1>>1,p[b+0+64]=p[b+2+96]=V+j+1>>1,p[b+0+96]=G+V+1>>1,p[b+3+0]=Rt(X,te,ce),p[b+2+0]=Rt(W,X,te),p[b+1+0]=p[b+3+32]=Rt(T,W,X),p[b+1+32]=p[b+3+64]=Rt(j,T,W),p[b+1+64]=p[b+3+96]=Rt(V,j,T),p[b+1+96]=Rt(G,V,j)}function Sa(p,b){var T;for(T=0;8>T;++T)r(p,b+32*T,p,b-32,8)}function il(p,b){var T;for(T=0;8>T;++T)s(p,b,p[b-1],8),b+=32}function Wr(p,b,T){var j;for(j=0;8>j;++j)s(b,T+32*j,p,8)}function ss(p,b){var T,j=8;for(T=0;8>T;++T)j+=p[b+T-32]+p[b-1+32*T];Wr(j>>4,p,b)}function $r(p,b){var T,j=4;for(T=0;8>T;++T)j+=p[b+T-32];Wr(j>>3,p,b)}function Ri(p,b){var T,j=4;for(T=0;8>T;++T)j+=p[b-1+32*T];Wr(j>>3,p,b)}function ja(p,b){Wr(128,p,b)}function ir(p,b,T){var j=p[b-T],V=p[b+0],G=3*(V-j)+Js[1020+p[b-2*T]-p[b+T]],W=Bu[112+(G+4>>3)];p[b-T]=kr[255+j+Bu[112+(G+3>>3)]],p[b+0]=kr[255+V-W]}function La(p,b,T,j){var V=p[b+0],G=p[b+T];return br[255+p[b-2*T]-p[b-T]]>j||br[255+G-V]>j}function Ss(p,b,T,j){return 4*br[255+p[b-T]-p[b+0]]+br[255+p[b-2*T]-p[b+T]]<=j}function Da(p,b,T,j,V){var G=p[b-3*T],W=p[b-2*T],X=p[b-T],te=p[b+0],ce=p[b+T],ve=p[b+2*T],Re=p[b+3*T];return 4*br[255+X-te]+br[255+W-ce]>j?0:br[255+p[b-4*T]-G]<=V&&br[255+G-W]<=V&&br[255+W-X]<=V&&br[255+Re-ve]<=V&&br[255+ve-ce]<=V&&br[255+ce-te]<=V}function ka(p,b,T,j){var V=2*j+1;for(j=0;16>j;++j)Ss(p,b+j,T,V)&&ir(p,b+j,T)}function ua(p,b,T,j){var V=2*j+1;for(j=0;16>j;++j)Ss(p,b+j*T,1,V)&&ir(p,b+j*T,1)}function Gs(p,b,T,j){var V;for(V=3;0<V;--V)ka(p,b+=4*T,T,j)}function So(p,b,T,j){var V;for(V=3;0<V;--V)ua(p,b+=4,T,j)}function Kr(p,b,T,j,V,G,W,X){for(G=2*G+1;0<V--;){if(Da(p,b,T,G,W))if(La(p,b,T,X))ir(p,b,T);else{var te=p,ce=b,ve=T,Re=te[ce-2*ve],le=te[ce-ve],xe=te[ce+0],Te=te[ce+ve],ze=te[ce+2*ve],Ne=27*(Ve=Js[1020+3*(xe-le)+Js[1020+Re-Te]])+63>>7,Pe=18*Ve+63>>7,Ve=9*Ve+63>>7;te[ce-3*ve]=kr[255+te[ce-3*ve]+Ve],te[ce-2*ve]=kr[255+Re+Pe],te[ce-ve]=kr[255+le+Ne],te[ce+0]=kr[255+xe-Ne],te[ce+ve]=kr[255+Te-Pe],te[ce+2*ve]=kr[255+ze-Ve]}b+=j}}function Ma(p,b,T,j,V,G,W,X){for(G=2*G+1;0<V--;){if(Da(p,b,T,G,W))if(La(p,b,T,X))ir(p,b,T);else{var te=p,ce=b,ve=T,Re=te[ce-ve],le=te[ce+0],xe=te[ce+ve],Te=Bu[112+(4+(ze=3*(le-Re))>>3)],ze=Bu[112+(ze+3>>3)],Ne=Te+1>>1;te[ce-2*ve]=kr[255+te[ce-2*ve]+Ne],te[ce-ve]=kr[255+Re+ze],te[ce+0]=kr[255+le-Te],te[ce+ve]=kr[255+xe-Ne]}b+=j}}function rl(p,b,T,j,V,G){Kr(p,b,T,1,16,j,V,G)}function Aa(p,b,T,j,V,G){Kr(p,b,1,T,16,j,V,G)}function Ao(p,b,T,j,V,G){var W;for(W=3;0<W;--W)Ma(p,b+=4*T,T,1,16,j,V,G)}function S(p,b,T,j,V,G){var W;for(W=3;0<W;--W)Ma(p,b+=4,1,T,16,j,V,G)}function F(p,b,T,j,V,G,W,X){Kr(p,b,V,1,8,G,W,X),Kr(T,j,V,1,8,G,W,X)}function ue(p,b,T,j,V,G,W,X){Kr(p,b,1,V,8,G,W,X),Kr(T,j,1,V,8,G,W,X)}function ye(p,b,T,j,V,G,W,X){Ma(p,b+4*V,V,1,8,G,W,X),Ma(T,j+4*V,V,1,8,G,W,X)}function we(p,b,T,j,V,G,W,X){Ma(p,b+4,1,V,8,G,W,X),Ma(T,j+4,1,V,8,G,W,X)}function Fe(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Yt,this.vb=new Yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new E}function jt(){this.xb=this.a=0,this.l=new nr,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,lt),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(p,b,T,j,V,G,W){for(p=p==null?0:p[b+0],b=0;b<W;++b)V[G+b]=p+T[j+b]&255,p=V[G+b]}function ei(p,b,T,j,V,G,W){var X;if(p==null)dn(null,null,T,j,V,G,W);else for(X=0;X<W;++X)V[G+X]=p[b+X]+T[j+X]&255}function qn(p,b,T,j,V,G,W){if(p==null)dn(null,null,T,j,V,G,W);else{var X,te=p[b+0],ce=te,ve=te;for(X=0;X<W;++X)ce=ve+(te=p[b+X])-ce,ve=T[j+X]+(-256&ce?0>ce?0:255:ce)&255,ce=te,V[G+X]=ve}}function g(p,b,T,j){var V=b.width,G=b.o;if(e(p!=null&&b!=null),0>T||0>=j||T+j>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Et,(W=p.ga==null)||(W=b.width*b.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var X=p.Fa,te=p.P,ce=p.qc,ve=p.mb,Re=p.nb,le=te+1,xe=ce-1,Te=W.l;if(e(X!=null&&ve!=null&&b!=null),eo[0]=null,eo[1]=dn,eo[2]=ei,eo[3]=qn,W.ca=ve,W.tb=Re,W.c=b.width,W.i=b.height,e(0<W.c&&0<W.i),1>=ce)b=0;else if(W.$a=3&X[te+0],W.Z=X[te+0]>>2&3,W.Lc=X[te+0]>>4&3,te=X[te+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||te)b=0;else if(Te.put=At,Te.ac=Gi,Te.bc=es,Te.ma=W,Te.width=b.width,Te.height=b.height,Te.Da=b.Da,Te.v=b.v,Te.va=b.va,Te.j=b.j,Te.o=b.o,W.$a)e:{e(W.$a==1),b=vs();t:for(;;){if(b==null){b=0;break e}if(e(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,pe(b.m,X,le,xe),!xa(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&kn(b.s)?(W.ic=1,X=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(X),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=Rr(b,W.c)),!b))break t;b=1;break e}W.mc=null,b=0}else b=xe>=W.c*W.i;W=!b}if(W)return null;p.ga.Lc!=1?p.Ga=0:j=G-T}e(p.ga!=null),e(T+j<=G);e:{if(b=(X=p.ga).c,G=X.l.o,X.$a==0){if(le=p.rc,xe=p.Vc,Te=p.Fa,te=p.P+1+T*b,ce=p.mb,ve=p.nb+T*b,e(te<=p.P+p.qc),X.Z!=0)for(e(eo[X.Z]!=null),W=0;W<j;++W)eo[X.Z](le,xe,Te,te,ce,ve,b),le=ce,xe=ve,ve+=b,te+=b;else for(W=0;W<j;++W)r(ce,ve,Te,te,b),le=ce,xe=ve,ve+=b,te+=b;p.rc=le,p.Vc=xe}else{if(e(X.mc!=null),b=T+j,e((W=X.mc)!=null),e(b<=W.i),W.C>=b)b=1;else if(X.ic||De(),X.ic){X=W.V,le=W.Ba,xe=W.c;var ze=W.i,Ne=(Te=1,te=W.$/xe,ce=W.$%xe,ve=W.m,Re=W.s,W.$),Pe=xe*ze,Ve=xe*b,Qe=Re.wc,Ye=Ne<Ve?Mi(Re,ce,te):null;e(Ne<=Pe),e(b<=ze),e(kn(Re));t:for(;;){for(;!ve.h&&Ne<Ve;){if(ce&Qe||(Ye=Mi(Re,ce,te)),e(Ye!=null),fe(ve),256>(ze=Un(Ye.G[0],Ye.H[0],ve)))X[le+Ne]=ze,++Ne,++ce>=xe&&(ce=0,++te<=b&&!(te%16)&&Oi(W,te));else{if(!(280>ze)){Te=0;break t}ze=Tr(ze-256,ve);var pt,st=Un(Ye.G[4],Ye.H[4],ve);if(fe(ve),!(Ne>=(st=Cr(xe,st=Tr(st,ve)))&&Pe-Ne>=ze)){Te=0;break t}for(pt=0;pt<ze;++pt)X[le+Ne+pt]=X[le+Ne+pt-st];for(Ne+=ze,ce+=ze;ce>=xe;)ce-=xe,++te<=b&&!(te%16)&&Oi(W,te);Ne<Ve&&ce&Qe&&(Ye=Mi(Re,ce,te))}e(ve.h==M(ve))}Oi(W,te>b?b:te);break t}!Te||ve.h&&Ne<Pe?(Te=0,W.a=ve.h?5:3):W.$=Ne,b=Te}else b=Nr(W,W.V,W.Ba,W.c,W.i,b,ts);if(!b){j=0;break e}}T+j>=G&&(p.Cc=1),j=1}if(!j)return null;if(p.Cc&&((j=p.ga)!=null&&(j.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*V}function R(p,b,T,j,V,G){for(;0<V--;){var W,X=p,te=b+(T?1:0),ce=p,ve=b+(T?0:3);for(W=0;W<j;++W){var Re=ce[ve+4*W];Re!=255&&(Re*=32897,X[te+4*W+0]=X[te+4*W+0]*Re>>23,X[te+4*W+1]=X[te+4*W+1]*Re>>23,X[te+4*W+2]=X[te+4*W+2]*Re>>23)}b+=G}}function D(p,b,T,j,V){for(;0<j--;){var G;for(G=0;G<T;++G){var W=p[b+2*G+0],X=15&(ce=p[b+2*G+1]),te=4369*X,ce=(240&ce|ce>>4)*te>>16;p[b+2*G+0]=(240&W|W>>4)*te>>16&240|(15&W|W<<4)*te>>16>>4&15,p[b+2*G+1]=240&ce|X}b+=V}}function J(p,b,T,j,V,G,W,X){var te,ce,ve=255;for(ce=0;ce<V;++ce){for(te=0;te<j;++te){var Re=p[b+te];G[W+4*te]=Re,ve&=Re}b+=T,W+=X}return ve!=255}function Ee(p,b,T,j,V){var G;for(G=0;G<V;++G)T[j+G]=p[b+G]>>8}function De(){ol=R,Pa=D,Pu=J,Na=Ee}function Xe(p,b,T){w[p]=function(j,V,G,W,X,te,ce,ve,Re,le,xe,Te,ze,Ne,Pe,Ve,Qe){var Ye,pt=Qe-1>>1,st=X[te+0]|ce[ve+0]<<16,Ht=Re[le+0]|xe[Te+0]<<16;e(j!=null);var ht=3*st+Ht+131074>>2;for(b(j[V+0],255&ht,ht>>16,ze,Ne),G!=null&&(ht=3*Ht+st+131074>>2,b(G[W+0],255&ht,ht>>16,Pe,Ve)),Ye=1;Ye<=pt;++Ye){var pn=X[te+Ye]|ce[ve+Ye]<<16,ui=Re[le+Ye]|xe[Te+Ye]<<16,Jt=st+pn+Ht+ui+524296,ot=Jt+2*(pn+Ht)>>3;ht=ot+st>>1,st=(Jt=Jt+2*(st+ui)>>3)+pn>>1,b(j[V+2*Ye-1],255&ht,ht>>16,ze,Ne+(2*Ye-1)*T),b(j[V+2*Ye-0],255&st,st>>16,ze,Ne+(2*Ye-0)*T),G!=null&&(ht=Jt+Ht>>1,st=ot+ui>>1,b(G[W+2*Ye-1],255&ht,ht>>16,Pe,Ve+(2*Ye-1)*T),b(G[W+2*Ye+0],255&st,st>>16,Pe,Ve+(2*Ye+0)*T)),st=pn,Ht=ui}1&Qe||(ht=3*st+Ht+131074>>2,b(j[V+Qe-1],255&ht,ht>>16,ze,Ne+(Qe-1)*T),G!=null&&(ht=3*Ht+st+131074>>2,b(G[W+Qe-1],255&ht,ht>>16,Pe,Ve+(Qe-1)*T)))}}function Ut(){_r[_c]=cl,_r[Mr]=ql,_r[wc]=Dh,_r[za]=Cc,_r[Vu]=Ro,_r[Bl]=Ls,_r[To]=Io,_r[Uu]=ql,_r[Sc]=Cc,_r[Vl]=Ro,_r[Ac]=Ls}function ti(p){return p&-16384?0>p?0:255:p>>Nc}function un(p,b){return ti((19077*p>>8)+(26149*b>>8)-14234)}function On(p,b,T){return ti((19077*p>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function rr(p,b){return ti((19077*p>>8)+(33050*b>>8)-17685)}function mr(p,b,T,j,V){j[V+0]=un(p,T),j[V+1]=On(p,b,T),j[V+2]=rr(p,b)}function $n(p,b,T,j,V){j[V+0]=rr(p,b),j[V+1]=On(p,b,T),j[V+2]=un(p,T)}function yr(p,b,T,j,V){var G=On(p,b,T);b=G<<3&224|rr(p,b)>>3,j[V+0]=248&un(p,T)|G>>5,j[V+1]=b}function Ea(p,b,T,j,V){var G=240&rr(p,b)|15;j[V+0]=240&un(p,T)|On(p,b,T)>>4,j[V+1]=G}function As(p,b,T,j,V){j[V+0]=255,mr(p,b,T,j,V+1)}function Es(p,b,T,j,V){$n(p,b,T,j,V),j[V+3]=255}function Qr(p,b,T,j,V){mr(p,b,T,j,V),j[V+3]=255}function Ys(p,b,T){w[p]=function(j,V,G,W,X,te,ce,ve,Re){for(var le=ve+(-2&Re)*T;ve!=le;)b(j[V+0],G[W+0],X[te+0],ce,ve),b(j[V+1],G[W+0],X[te+0],ce,ve+T),V+=2,++W,++te,ve+=2*T;1&Re&&b(j[V+0],G[W+0],X[te+0],ce,ve)}}function Ml(p,b,T){return T==0?p==0?b==0?6:5:b==0?4:0:T}function ku(p,b,T,j,V){switch(p>>>30){case 3:Zs(b,T,j,V,0);break;case 2:Dr(b,T,j,V);break;case 1:jn(b,T,j,V)}}function Ta(p,b){var T,j,V=b.M,G=b.Nb,W=p.oc,X=p.pc+40,te=p.oc,ce=p.pc+584,ve=p.oc,Re=p.pc+600;for(T=0;16>T;++T)W[X+32*T-1]=129;for(T=0;8>T;++T)te[ce+32*T-1]=129,ve[Re+32*T-1]=129;for(0<V?W[X-1-32]=te[ce-1-32]=ve[Re-1-32]=129:(s(W,X-32-1,127,21),s(te,ce-32-1,127,9),s(ve,Re-32-1,127,9)),j=0;j<p.za;++j){var le=b.ya[b.aa+j];if(0<j){for(T=-1;16>T;++T)r(W,X+32*T-4,W,X+32*T+12,4);for(T=-1;8>T;++T)r(te,ce+32*T-4,te,ce+32*T+4,4),r(ve,Re+32*T-4,ve,Re+32*T+4,4)}var xe=p.Gd,Te=p.Hd+j,ze=le.ad,Ne=le.Hc;if(0<V&&(r(W,X-32,xe[Te].y,0,16),r(te,ce-32,xe[Te].f,0,8),r(ve,Re-32,xe[Te].ea,0,8)),le.Za){var Pe=W,Ve=X-32+16;for(0<V&&(j>=p.za-1?s(Pe,Ve,xe[Te].y[15],4):r(Pe,Ve,xe[Te+1].y,0,4)),T=0;4>T;T++)Pe[Ve+128+T]=Pe[Ve+256+T]=Pe[Ve+384+T]=Pe[Ve+0+T];for(T=0;16>T;++T,Ne<<=2)Pe=W,Ve=X+Li[T],Si[le.Ob[T]](Pe,Ve),ku(Ne,ze,16*+T,Pe,Ve)}else if(Pe=Ml(j,V,le.Ob[0]),Zr[Pe](W,X),Ne!=0)for(T=0;16>T;++T,Ne<<=2)ku(Ne,ze,16*+T,W,X+Li[T]);for(T=le.Gc,Pe=Ml(j,V,le.Dd),cs[Pe](te,ce),cs[Pe](ve,Re),Ne=ze,Pe=te,Ve=ce,255&(le=0|T)&&(170&le?Oa(Ne,256,Pe,Ve):Sn(Ne,256,Pe,Ve)),le=ve,Ne=Re,255&(T>>=8)&&(170&T?Oa(ze,320,le,Ne):Sn(ze,320,le,Ne)),V<p.Ub-1&&(r(xe[Te].y,0,W,X+480,16),r(xe[Te].f,0,te,ce+224,8),r(xe[Te].ea,0,ve,Re+224,8)),T=8*G*p.B,xe=p.sa,Te=p.ta+16*j+16*G*p.R,ze=p.qa,le=p.ra+8*j+T,Ne=p.Ha,Pe=p.Ia+8*j+T,T=0;16>T;++T)r(xe,Te+T*p.R,W,X+32*T,16);for(T=0;8>T;++T)r(ze,le+T*p.B,te,ce+32*T,8),r(Ne,Pe+T*p.B,ve,Re+32*T,8)}}function os(p,b,T,j,V,G,W,X,te){var ce=[0],ve=[0],Re=0,le=te!=null?te.kd:0,xe=te??new $e;if(p==null||12>T)return 7;xe.data=p,xe.w=b,xe.ha=T,b=[b],T=[T],xe.gb=[xe.gb];e:{var Te=b,ze=T,Ne=xe.gb;if(e(p!=null),e(ze!=null),e(Ne!=null),Ne[0]=0,12<=ze[0]&&!t(p,Te[0],"RIFF")){if(t(p,Te[0]+8,"WEBP")){Ne=3;break e}var Pe=ct(p,Te[0]+4);if(12>Pe||4294967286<Pe){Ne=3;break e}if(le&&Pe>ze[0]-8){Ne=7;break e}Ne[0]=Pe,Te[0]+=12,ze[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Pe=0<xe.gb[0],T=T[0];;){e:{var Ve=p;ze=b,Ne=T;var Qe=ce,Ye=ve,pt=Te=[0];if((ht=Re=[Re])[0]=0,8>Ne[0])Ne=7;else{if(!t(Ve,ze[0],"VP8X")){if(ct(Ve,ze[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var st=ct(Ve,ze[0]+8),Ht=1+nt(Ve,ze[0]+12);if(2147483648<=Ht*(Ve=1+nt(Ve,ze[0]+15))){Ne=3;break e}pt!=null&&(pt[0]=st),Qe!=null&&(Qe[0]=Ht),Ye!=null&&(Ye[0]=Ve),ze[0]+=18,Ne[0]-=18,ht[0]=1}Ne=0}}if(Re=Re[0],Te=Te[0],Ne!=0)return Ne;if(ze=!!(2&Te),!Pe&&Re)return 3;if(G!=null&&(G[0]=!!(16&Te)),W!=null&&(W[0]=ze),X!=null&&(X[0]=0),W=ce[0],Te=ve[0],Re&&ze&&te==null){Ne=0;break}if(4>T){Ne=7;break}if(Pe&&Re||!Pe&&!Re&&!t(p,b[0],"ALPH")){T=[T],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{st=p,Ne=b,Pe=T;var ht=xe.gb;Qe=xe.na,Ye=xe.P,pt=xe.Sa,Ht=22,e(st!=null),e(Pe!=null),Ve=Ne[0];var pn=Pe[0];for(e(Qe!=null),e(pt!=null),Qe[0]=null,Ye[0]=null,pt[0]=0;;){if(Ne[0]=Ve,Pe[0]=pn,8>pn){Ne=7;break e}var ui=ct(st,Ve+4);if(4294967286<ui){Ne=3;break e}var Jt=8+ui+1&-2;if(Ht+=Jt,0<ht&&Ht>ht){Ne=3;break e}if(!t(st,Ve,"VP8 ")||!t(st,Ve,"VP8L")){Ne=0;break e}if(pn[0]<Jt){Ne=7;break e}t(st,Ve,"ALPH")||(Qe[0]=st,Ye[0]=Ve+8,pt[0]=ui),Ve+=Jt,pn-=Jt}}if(T=T[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ne!=0)break}T=[T],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(ht=p,Ne=b,Pe=T,Qe=xe.gb[0],Ye=xe.Ja,pt=xe.xa,st=Ne[0],Ve=!t(ht,st,"VP8 "),Ht=!t(ht,st,"VP8L"),e(ht!=null),e(Pe!=null),e(Ye!=null),e(pt!=null),8>Pe[0])Ne=7;else{if(Ve||Ht){if(ht=ct(ht,st+4),12<=Qe&&ht>Qe-12){Ne=3;break e}if(le&&ht>Pe[0]-8){Ne=7;break e}Ye[0]=ht,Ne[0]+=8,Pe[0]-=8,pt[0]=Ht}else pt[0]=5<=Pe[0]&&ht[st+0]==47&&!(ht[st+4]>>5),Ye[0]=Pe[0];Ne=0}if(T=T[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],b=b[0],Ne!=0)break;if(4294967286<xe.Ja)return 3;if(X==null||ze||(X[0]=xe.xa?2:1),W=[W],Te=[Te],xe.xa){if(5>T){Ne=7;break}X=W,le=Te,ze=G,p==null||5>T?p=0:5<=T&&p[b+0]==47&&!(p[b+4]>>5)?(Pe=[0],ht=[0],Qe=[0],pe(Ye=new P,p,b,T),Ur(Ye,Pe,ht,Qe)?(X!=null&&(X[0]=Pe[0]),le!=null&&(le[0]=ht[0]),ze!=null&&(ze[0]=Qe[0]),p=1):p=0):p=0}else{if(10>T){Ne=7;break}X=Te,p==null||10>T||!ns(p,b+3,T-3)?p=0:(le=p[b+0]|p[b+1]<<8|p[b+2]<<16,ze=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=xe.Ja||!ze||!p?p=0:(W&&(W[0]=ze),X&&(X[0]=p),p=1))}if(!p||(W=W[0],Te=Te[0],Re&&(ce[0]!=W||ve[0]!=Te)))return 3;te!=null&&(te[0]=xe,te.offset=b-te.w,e(4294967286>b-te.w),e(te.offset==te.ha-T));break}return Ne==0||Ne==7&&Re&&te==null?(G!=null&&(G[0]|=xe.na!=null&&0<xe.na.length),j!=null&&(j[0]=W),V!=null&&(V[0]=Te),0):Ne}function Ws(p,b,T){var j=b.width,V=b.height,G=0,W=0,X=j,te=V;if(b.Da=p!=null&&0<p.Da,b.Da&&(X=p.cd,te=p.bd,G=p.v,W=p.j,11>T||(G&=-2,W&=-2),0>G||0>W||0>=X||0>=te||G+X>j||W+te>V))return 0;if(b.v=G,b.j=W,b.va=G+X,b.o=W+te,b.U=X,b.T=te,b.da=p!=null&&0<p.da,b.da){if(!Tt(X,te,T=[p.ib],G=[p.hb]))return 0;b.ib=T[0],b.hb=G[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*j/4&&b.hb<3*V/4,b.Kb=0),1}function Mu(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function ls(p,b,T,j){if(j==null||0>=p||0>=b)return 2;if(T!=null){if(T.Da){var V=T.cd,G=T.bd,W=-2&T.v,X=-2&T.j;if(0>W||0>X||0>=V||0>=G||W+V>p||X+G>b)return 2;p=V,b=G}if(T.da){if(!Tt(p,b,V=[T.ib],G=[T.hb]))return 2;p=V[0],b=G[0]}}j.width=p,j.height=b;e:{var te=j.width,ce=j.height;if(p=j.S,0>=te||0>=ce||!(p>=_c&&13>p))p=2;else{if(0>=j.Rd&&j.sd==null){W=G=V=b=0;var ve=(X=te*Ic[p])*ce;if(11>p||(G=(ce+1)/2*(b=(te+1)/2),p==12&&(W=(V=te)*ce)),(ce=o(ve+2*G+W))==null){p=1;break e}j.sd=ce,11>p?((te=j.f.RGBA).eb=ce,te.fb=0,te.A=X,te.size=ve):((te=j.f.kb).y=ce,te.O=0,te.fa=X,te.Fd=ve,te.f=ce,te.N=0+ve,te.Ab=b,te.Cd=G,te.ea=ce,te.W=0+ve+G,te.Db=b,te.Ed=G,p==12&&(te.F=ce,te.J=0+ve+2*G),te.Tc=W,te.lb=V)}if(b=1,V=j.S,G=j.width,W=j.height,V>=_c&&13>V)if(11>V)p=j.f.RGBA,b&=(X=Math.abs(p.A))*(W-1)+G<=p.size,b&=X>=G*Ic[V],b&=p.eb!=null;else{p=j.f.kb,X=(G+1)/2,ve=(W+1)/2,te=Math.abs(p.fa),ce=Math.abs(p.Ab);var Re=Math.abs(p.Db),le=Math.abs(p.lb),xe=le*(W-1)+G;b&=te*(W-1)+G<=p.Fd,b&=ce*(ve-1)+X<=p.Cd,b=(b&=Re*(ve-1)+X<=p.Ed)&te>=G&ce>=X&Re>=X,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,V==12&&(b&=le>=G,b&=xe<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||T!=null&&T.fd&&(p=Mu(j)),p}var Eo=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,Ts=32,Cs=8,$s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(p){return p},w.Predictor2=function(p,b,T){return b[T+0]},w.Predictor3=function(p,b,T){return b[T+1]},w.Predictor4=function(p,b,T){return b[T-1]},w.Predictor5=function(p,b,T){return _t(_t(p,b[T+1]),b[T+0])},w.Predictor6=function(p,b,T){return _t(p,b[T-1])},w.Predictor7=function(p,b,T){return _t(p,b[T+0])},w.Predictor8=function(p,b,T){return _t(b[T-1],b[T+0])},w.Predictor9=function(p,b,T){return _t(b[T+0],b[T+1])},w.Predictor10=function(p,b,T){return _t(_t(p,b[T-1]),_t(b[T+0],b[T+1]))},w.Predictor11=function(p,b,T){var j=b[T+0];return 0>=Bt(j>>24&255,p>>24&255,(b=b[T-1])>>24&255)+Bt(j>>16&255,p>>16&255,b>>16&255)+Bt(j>>8&255,p>>8&255,b>>8&255)+Bt(255&j,255&p,255&b)?j:p},w.Predictor12=function(p,b,T){var j=b[T+0];return(Wt((p>>24&255)+(j>>24&255)-((b=b[T-1])>>24&255))<<24|Wt((p>>16&255)+(j>>16&255)-(b>>16&255))<<16|Wt((p>>8&255)+(j>>8&255)-(b>>8&255))<<8|Wt((255&p)+(255&j)-(255&b)))>>>0},w.Predictor13=function(p,b,T){var j=b[T-1];return(Zt((p=_t(p,b[T+0]))>>24&255,j>>24&255)<<24|Zt(p>>16&255,j>>16&255)<<16|Zt(p>>8&255,j>>8&255)<<8|Zt(255&p,255&j))>>>0};var Ol=w.PredictorAdd0;w.PredictorAdd1=sn,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Pl=w.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ii,vc=w.ColorIndexInverseTransform,Ns=w.MapARGB,Rs=w.VP8LColorIndexInverseTransformAlpha,vr=w.MapAlpha,Ks=w.VP8LPredictorsAdd=[];Ks.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var zl,Fl,Qs,Xs,Is,al,Ca,Zs,Dr,Oa,jn,Sn,ni,ji,js,us,sl,Ou,Nh,$f,Kf,Qf,Rh,Ih,ol,Pa,Pu,Na,ll=o(511),bc=o(2041),zu=o(225),Fu=o(767),xc=0,Js=bc,Bu=zu,kr=Fu,br=ll,_c=0,Mr=1,wc=2,za=3,Vu=4,Bl=5,To=6,Uu=7,Sc=8,Vl=9,Ac=10,Fa=[2,3,7],Ul=[3,3,11],ul=[280,256,256,256,40],Ec=[0,1,1,1,0],qu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ba=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Va=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Ua=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ra=null,Xf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zr=[],Si=[],cs=[],No=1,Lh=2,eo=[],_r=[];Xe("UpsampleRgbLinePair",mr,3),Xe("UpsampleBgrLinePair",$n,3),Xe("UpsampleRgbaLinePair",Qr,4),Xe("UpsampleBgraLinePair",Es,4),Xe("UpsampleArgbLinePair",As,4),Xe("UpsampleRgba4444LinePair",Ea,2),Xe("UpsampleRgb565LinePair",yr,2);var cl=w.UpsampleRgbLinePair,Dh=w.UpsampleBgrLinePair,ql=w.UpsampleRgbaLinePair,Cc=w.UpsampleBgraLinePair,Ro=w.UpsampleArgbLinePair,Ls=w.UpsampleRgba4444LinePair,Io=w.UpsampleRgb565LinePair,Ha=16,Hl=1<<Ha-1,hl=-227,jo=482,Nc=6,Lo=0,wr=o(256),Rc=o(256),Jf=o(256),s1=o(256),o1=o(jo-hl),l1=o(jo-hl);Ys("YuvToRgbRow",mr,3),Ys("YuvToBgrRow",$n,3),Ys("YuvToRgbaRow",Qr,4),Ys("YuvToBgraRow",Es,4),Ys("YuvToArgbRow",As,4),Ys("YuvToRgba4444Row",Ea,2),Ys("YuvToRgb565Row",yr,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gl=[0,2,8],Hu=[8,7,6,4,4,2,2,2,1,1,1,1],Gu=1;this.WebPDecodeRGBA=function(p,b,T,j,V){var G=Mr,W=new Fe,X=new wt;W.ba=X,X.S=G,X.width=[X.width],X.height=[X.height];var te=X.width,ce=X.height,ve=new bt;if(ve==null||p==null)var Re=2;else e(ve!=null),Re=os(p,b,T,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Re!=0?te=0:(te!=null&&(te[0]=ve.width[0]),ce!=null&&(ce[0]=ve.height[0]),te=1),te){X.width=X.width[0],X.height=X.height[0],j!=null&&(j[0]=X.width),V!=null&&(V[0]=X.height);e:{if(j=new nr,(V=new $e).data=p,V.w=b,V.ha=T,V.kd=1,b=[0],e(V!=null),((p=os(V.data,V.w,V.ha,null,null,null,b,null,V))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(W!=null),j.data=V.data,j.w=V.w+V.offset,j.ha=V.ha-V.offset,j.put=At,j.ac=Gi,j.bc=es,j.ma=W,V.xa){if((p=vs())==null){W=1;break e}if((function(le,xe){var Te=[0],ze=[0],Ne=[0];t:for(;;){if(le==null)return 0;if(xe==null)return le.a=2,0;if(le.l=xe,le.a=0,pe(le.m,xe.data,xe.w,xe.ha),!Ur(le.m,Te,ze,Ne)){le.a=3;break t}if(le.xb=Lh,xe.width=Te[0],xe.height=ze[0],!xa(Te[0],ze[0],1,le,null))break t;return 1}return e(le.a!=0),0})(p,j)){if(j=(b=ls(j.width,j.height,W.Oa,W.ba))==0){t:{j=p;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((T=j.l)!=null),e((V=T.ma)!=null),j.xb!=0){if(j.ca=V.ba,j.tb=V.tb,e(j.ca!=null),!Ws(V.Oa,T,za)){j.a=2;break n}if(!Rr(j,T.width)||T.da)break n;if((T.da||Mt(j.ca.S))&&De(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&De()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!oe(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Nr(j,j.V,j.Ba,j.c,j.i,T.o,tr))break n;V.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(b=p.a)}else b=p.a}else{if((p=new _i)==null){W=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,la(p,j)){if((b=ls(j.width,j.height,W.Oa,W.ba))==0){if(p.Aa=0,T=W.Oa,e((V=p)!=null),T!=null){if(0<(te=0>(te=T.Md)?0:100<te?255:255*te/100)){for(ce=ve=0;4>ce;++ce)12>(Re=V.pb[ce]).lc&&(Re.ia=te*Hu[0>Re.lc?0:Re.lc]>>3),ve|=Re.ia;ve&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(le,xe){if(le==null)return 0;if(xe==null)return fn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!la(le,xe))return 0;if(e(le.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(le.L=0);var Te=Gl[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=xe.v-Te>>4,le.zb=xe.j-Te>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=xe.o+15+Te>>4,le.Hb=xe.va+15+Te>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var ze=le.ed;for(Te=0;4>Te;++Te){var Ne;if(le.Qa.Cb){var Pe=le.Qa.Lb[Te];le.Qa.Fb||(Pe+=ze.Tb)}else Pe=ze.Tb;for(Ne=0;1>=Ne;++Ne){var Ve=le.gd[Te][Ne],Qe=Pe;if(ze.Pc&&(Qe+=ze.vd[0],Ne&&(Qe+=ze.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Ye=Qe;0<ze.wb&&(Ye=4<ze.wb?Ye>>2:Ye>>1)>9-ze.wb&&(Ye=9-ze.wb),1>Ye&&(Ye=1),Ve.dd=Ye,Ve.tc=2*Qe+Ye,Ve.ld=40<=Qe?2:15<=Qe?1:0}else Ve.tc=0;Ve.La=Ne}}}Te=0}else fn(le,6,"Frame setup failed"),Te=le.a;if(Te=Te==0){if(Te){le.$c=0,0<le.Aa||(le.Ic=Gu);t:{Te=le.Ic,ze=4*(Ye=le.za);var pt=32*Ye,st=Ye+1,Ht=0<le.L?Ye*(0<le.Aa?2:1):0,ht=(le.Aa==2?2:1)*Ye;if((Ve=ze+832+(Ne=3*(16*Te+Gl[le.L])/2*pt)+(Pe=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ve)Te=0;else{if(Ve>le.Vb){if(le.Vb=0,le.Ec=o(Ve),le.Fc=0,le.Ec==null){Te=fn(le,1,"no memory during frame initialization.");break t}le.Vb=Ve}Ve=le.Ec,Qe=le.Fc,le.Ac=Ve,le.Bc=Qe,Qe+=ze,le.Gd=c(pt,bo),le.Hd=0,le.rb=c(st+1,oa),le.sb=1,le.wa=Ht?c(Ht,Ir):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ye),e(!0),le.oc=Ve,le.pc=Qe,Qe+=832,le.ya=c(ht,Bs),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ye),le.R=16*Ye,le.B=8*Ye,Ye=(pt=Gl[le.L])*le.R,pt=pt/2*le.B,le.sa=Ve,le.ta=Qe+Ye,le.qa=le.sa,le.ra=le.ta+16*Te*le.R+pt,le.Ha=le.qa,le.Ia=le.ra+8*Te*le.B+pt,le.$c=0,Qe+=Ne,le.mb=Pe?Ve:null,le.nb=Pe?Qe:null,e(Qe+Pe<=le.Fc+le.Vb),bs(le),s(le.Ac,le.Bc,0,ze),Te=1}}if(Te){if(xe.ka=0,xe.y=le.sa,xe.O=le.ta,xe.f=le.qa,xe.N=le.ra,xe.ea=le.Ha,xe.Vd=le.Ia,xe.fa=le.R,xe.Rc=le.B,xe.F=null,xe.J=0,!xc){for(Te=-255;255>=Te;++Te)ll[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)bc[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)zu[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Fu[255+Te]=0>Te?0:255<Te?255:Te;xc=1}Ca=Yi,Zs=Jo,Oa=gr,jn=el,Sn=is,Dr=kl,ni=rl,ji=Aa,js=F,us=ue,sl=Ao,Ou=S,Nh=ye,$f=we,Kf=ka,Qf=ua,Rh=Gs,Ih=So,Si[0]=ws,Si[1]=tl,Si[2]=Us,Si[3]=wo,Si[4]=Wi,Si[5]=qs,Si[6]=Pi,Si[7]=Mn,Si[8]=Hs,Si[9]=Yr,Zr[0]=wa,Zr[1]=xo,Zr[2]=_o,Zr[3]=rs,Zr[4]=as,Zr[5]=Lr,Zr[6]=_s,cs[0]=ss,cs[1]=nl,cs[2]=Sa,cs[3]=il,cs[4]=Ri,cs[5]=$r,cs[6]=ja,Te=1}else Te=0}Te&&(Te=(function(pn,ui){for(pn.M=0;pn.M<pn.Va;++pn.M){var Jt,ot=pn.Jc[pn.M&pn.Xb],Je=pn.m,gi=pn;for(Jt=0;Jt<gi.za;++Jt){var zt=Je,an=gi,Fn=an.Ac,$i=an.Bc+4*Jt,Sr=an.zc,ii=an.ya[an.aa+Jt];if(an.Qa.Bb?ii.$b=Me(zt,an.Pa.jb[0])?2+Me(zt,an.Pa.jb[2]):Me(zt,an.Pa.jb[1]):ii.$b=0,an.kc&&(ii.Ad=Me(zt,an.Bd)),ii.Za=!Me(zt,145)+0,ii.Za){var zi=ii.Ob,Or=0;for(an=0;4>an;++an){var Fi,cn=Sr[0+an];for(Fi=0;4>Fi;++Fi){cn=xr[Fn[$i+Fi]][cn];for(var En=Tc[Me(zt,cn[0])];0<En;)En=Tc[2*En+Me(zt,cn[En])];cn=-En,Fn[$i+Fi]=cn}r(zi,Or,Fn,$i,4),Or+=4,Sr[0+an]=cn}}else cn=Me(zt,156)?Me(zt,128)?1:3:Me(zt,163)?2:0,ii.Ob[0]=cn,s(Fn,$i,cn,4),s(Sr,0,cn,4);ii.Dd=Me(zt,142)?Me(zt,114)?Me(zt,183)?1:3:2:0}if(gi.m.Ka)return fn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(gi=ot,zt=(Je=pn).rb[Je.sb-1],Fn=Je.rb[Je.sb+Je.ja],Jt=Je.ya[Je.aa+Je.ja],$i=Je.kc?Jt.Ad:0)zt.la=Fn.la=0,Jt.Za||(zt.Na=Fn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var mi,Ln;if(zt=Fn,Fn=gi,$i=Je.Pa.Xc,Sr=Je.ya[Je.aa+Je.ja],ii=Je.pb[Sr.$b],an=Sr.ad,zi=0,Or=Je.rb[Je.sb-1],cn=Fi=0,s(an,zi,0,384),Sr.Za)var Ki=0,yi=$i[3];else{En=o(16);var Tn=zt.Na+Or.Na;if(Tn=Ra(Fn,$i[1],Tn,ii.Eb,0,En,0),zt.Na=Or.Na=(0<Tn)+0,1<Tn)Ca(En,0,an,zi);else{var Di=En[0]+3>>3;for(En=0;256>En;En+=16)an[zi+En]=Di}Ki=1,yi=$i[0]}var Bn=15&zt.la,Bi=15&Or.la;for(En=0;4>En;++En){var Vi=1&Bi;for(Di=Ln=0;4>Di;++Di)Bn=Bn>>1|(Vi=(Tn=Ra(Fn,yi,Tn=Vi+(1&Bn),ii.Sc,Ki,an,zi))>Ki)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Bn>>=4,Bi=Bi>>1|Vi<<7,Fi=(Fi<<8|Ln)>>>0}for(yi=Bn,Ki=Bi>>4,mi=0;4>mi;mi+=2){for(Ln=0,Bn=zt.la>>4+mi,Bi=Or.la>>4+mi,En=0;2>En;++En){for(Vi=1&Bi,Di=0;2>Di;++Di)Tn=Vi+(1&Bn),Bn=Bn>>1|(Vi=0<(Tn=Ra(Fn,$i[2],Tn,ii.Qc,0,an,zi)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Bn>>=2,Bi=Bi>>1|Vi<<5}cn|=Ln<<4*mi,yi|=Bn<<4<<mi,Ki|=(240&Bi)<<mi}zt.la=yi,Or.la=Ki,Sr.Hc=Fi,Sr.Gc=cn,Sr.ia=43690&cn?0:ii.ia,$i=!(Fi|cn)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Jt.$b][Jt.Za],Je.wa[Je.Y+Je.ja].La|=!$i),gi.Ka)return fn(pn,7,"Premature end-of-file encountered.")}if(bs(pn),Je=ui,gi=1,Jt=(ot=pn).D,zt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Jt.M=ot.M,Jt.uc=zt,Ta(ot,Jt),gi=1,Jt=(Ln=ot.D).Nb,zt=(cn=Gl[ot.L])*ot.R,Fn=cn/2*ot.B,En=16*Jt*ot.R,Di=8*Jt*ot.B,$i=ot.sa,Sr=ot.ta-zt+En,ii=ot.qa,an=ot.ra-Fn+Di,zi=ot.Ha,Or=ot.Ia-Fn+Di,Bi=(Bn=Ln.M)==0,Fi=Bn>=ot.Va-1,ot.Aa==2&&Ta(ot,Ln),Ln.uc)for(Vi=(Tn=ot).D.M,e(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){Ki=Ln,yi=Vi;var Kn=(An=(Ui=Tn).D).Nb;mi=Ui.R;var An=An.wa[An.Y+Ki],Pr=Ui.sa,Ai=Ui.ta+16*Kn*mi+16*Ki,It=An.dd,Lt=An.tc;if(Lt!=0)if(e(3<=Lt),Ui.L==1)0<Ki&&Qf(Pr,Ai,mi,Lt+4),An.La&&Ih(Pr,Ai,mi,Lt),0<yi&&Kf(Pr,Ai,mi,Lt+4),An.La&&Rh(Pr,Ai,mi,Lt);else{var Cn=Ui.B,ha=Ui.qa,Ga=Ui.ra+8*Kn*Cn+8*Ki,Jr=Ui.Ha,Ui=Ui.Ia+8*Kn*Cn+8*Ki;Kn=An.ld,0<Ki&&(ji(Pr,Ai,mi,Lt+4,It,Kn),us(ha,Ga,Jr,Ui,Cn,Lt+4,It,Kn)),An.La&&(Ou(Pr,Ai,mi,Lt,It,Kn),$f(ha,Ga,Jr,Ui,Cn,Lt,It,Kn)),0<yi&&(ni(Pr,Ai,mi,Lt+4,It,Kn),js(ha,Ga,Jr,Ui,Cn,Lt+4,It,Kn)),An.La&&(sl(Pr,Ai,mi,Lt,It,Kn),Nh(ha,Ga,Jr,Ui,Cn,Lt,It,Kn))}}if(ot.ia&&alert("todo:DitherRow"),Je.put!=null){if(Ln=16*Bn,Bn=16*(Bn+1),Bi?(Je.y=ot.sa,Je.O=ot.ta+En,Je.f=ot.qa,Je.N=ot.ra+Di,Je.ea=ot.Ha,Je.W=ot.Ia+Di):(Ln-=cn,Je.y=$i,Je.O=Sr,Je.f=ii,Je.N=an,Je.ea=zi,Je.W=Or),Fi||(Bn-=cn),Bn>Je.o&&(Bn=Je.o),Je.F=null,Je.J=null,ot.Fa!=null&&0<ot.Fa.length&&Ln<Bn&&(Je.J=g(ot,Je,Ln,Bn-Ln),Je.F=ot.mb,Je.F==null&&Je.F.length==0)){gi=fn(ot,3,"Could not decode alpha data.");break t}Ln<Je.j&&(cn=Je.j-Ln,Ln=Je.j,e(!(1&cn)),Je.O+=ot.R*cn,Je.N+=ot.B*(cn>>1),Je.W+=ot.B*(cn>>1),Je.F!=null&&(Je.J+=Je.width*cn)),Ln<Bn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Ln-Je.j,Je.U=Je.va-Je.v,Je.T=Bn-Ln,gi=Je.put(Je))}Jt+1!=ot.Ic||Fi||(r(ot.sa,ot.ta-zt,$i,Sr+16*ot.R,zt),r(ot.qa,ot.ra-Fn,ii,an+8*ot.B,Fn),r(ot.Ha,ot.Ia-Fn,zi,Or+8*ot.B,Fn))}if(!gi)return fn(pn,6,"Output aborted.")}return 1})(le,xe)),xe.bc!=null&&xe.bc(xe),Te&=1}return Te?(le.cb=0,Te):0})(p,j)||(b=p.a)}}else b=p.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Mu(W.ba))}W=b}G=W!=0?null:11>G?X.f.RGBA.eb:X.f.kb.y}else G=null;return G};var Ic=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,q){for(var I="",N=0;N<4;N++)I+=String.fromCharCode(w[q++]);return I}function v(w,q){return w[q+0]|w[q+1]<<8}function A(w,q){return(w[q+0]|w[q+1]<<8|w[q+2]<<16)>>>0}function C(w,q){return(w[q+0]|w[q+1]<<8|w[q+2]<<16|w[q+3]<<24)>>>0}new f;var _=[0],z=[0],H=[],U=new f,B=n,ne=(function(w,q){var I={},N=0,E=!1,Q=0,de=0;if(I.frames=[],!(function(k,P){for(var Y=0;Y<4;Y++)if(k[P+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(w,q)){for(C(w,q+=4),q+=8;q<w.length;){var ie=d(w,q),he=C(w,q+=4);q+=4;var ee=he+(1&he);switch(ie){case"VP8 ":case"VP8L":I.frames[N]===void 0&&(I.frames[N]={}),(Z=I.frames[N]).src_off=E?de:q-8,Z.src_size=Q+he+8,N++,E&&(E=!1,Q=0,de=0);break;case"VP8X":(Z=I.header={}).feature_flags=w[q];var pe=q+4;Z.canvas_width=1+A(w,pe),pe+=3,Z.canvas_height=1+A(w,pe),pe+=3;break;case"ALPH":E=!0,Q=ee+8,de=q-8;break;case"ANIM":(Z=I.header).bgcolor=C(w,q),pe=q+4,Z.loop_count=v(w,pe),pe+=2;break;case"ANMF":var Ce,Z;(Z=I.frames[N]={}).offset_x=2*A(w,q),q+=3,Z.offset_y=2*A(w,q),q+=3,Z.width=1+A(w,q),q+=3,Z.height=1+A(w,q),q+=3,Z.duration=A(w,q),q+=3,Ce=w[q++],Z.dispose=1&Ce,Z.blend=Ce>>1&1}ie!="ANMF"&&(q+=ee)}return I}})(B,0);ne.response=B,ne.rgbaoutput=!0,ne.dataurl=!1;var ae=ne.header?ne.header:null,se=ne.frames?ne.frames:null;if(ae){ae.loop_counter=ae.loop_count,_=[ae.canvas_height],z=[ae.canvas_width];for(var Se=0;Se<se.length&&se[Se].blend!=0;Se++);}var je=se[0],$=U.WebPDecodeRGBA(B,je.src_off,je.src_size,z,_);je.rgba=$,je.imgwidth=z[0],je.imgheight=_[0];for(var O=0;O<z[0]*_[0]*4;O++)H[O]=$[O];return this.width=z,this.height=_,this.data=H,this}function H7(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function G7(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,c,h,f,d,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=k;Object.defineProperty(this,"pdf",{get:function(){return P}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(oe){Y=!!oe}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(oe){M=!!oe}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(oe){isNaN(oe)||(re=oe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(oe){isNaN(oe)||(fe=oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(oe){var et;typeof oe=="number"?et=[oe,oe,oe,oe]:((et=new Array(4))[0]=oe[0],et[1]=oe.length>=2?oe[1]:et[0],et[2]=oe.length>=3?oe[2]:et[0],et[3]=oe.length>=4?oe[3]:et[1]),d.margin=et}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(oe){_e=oe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(oe){me=oe}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(oe){Me=oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(oe){oe instanceof v&&(d=oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(oe){d.path=oe}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(oe){We=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var et;et=C(oe),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var et=C(oe);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var tt=null,nt=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(oe){tt=null,nt=null,ct=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var et;if(this.ctx.font=oe,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var Yt=et[1];et[2];var Tt=et[3],Ue=et[4];et[5];var rt=et[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(it==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Nt=(function(vt){var fi,Qt,Ct=[],Pt=vt.trim();if(Pt==="")return e0;if(Pt in jb)return[jb[Pt]];for(;Pt!=="";){switch(Qt=null,fi=(Pt=Db(Pt)).charAt(0)){case'"':case"'":Qt=z7(Pt.substring(1),fi);break;default:Qt=F7(Pt)}if(Qt===null||(Ct.push(Qt[0]),(Pt=Db(Qt[1]))!==""&&Pt.charAt(0)!==","))return e0;Pt=Pt.replace(/^,/,"")}return Ct})(rt);if(this.fontFaces){var _t=(function(vt,fi){var Qt=vt.getFontList(),Ct=JSON.stringify(Qt);if(tt===null||nt!==Ct){var Pt=(function($t){var St=[];return Object.keys($t).forEach(function(In){$t[In].forEach(function(Mt){var Ot=null;switch(Mt){case"bold":Ot={family:In,weight:"bold"};break;case"italic":Ot={family:In,style:"italic"};break;case"bolditalic":Ot={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:In}}Ot!==null&&(Ot.ref={name:In,style:Mt},St.push(Ot))})}),St})(Qt);tt=(function($t){for(var St={},In=0;In<$t.length;++In){var Mt=Jg($t[In]),Ot=Mt.family,Dn=Mt.stretch,wt=Mt.style,bt=Mt.weight;St[Ot]=St[Ot]||{},St[Ot][Dn]=St[Ot][Dn]||{},St[Ot][Dn][wt]=St[Ot][Dn][wt]||{},St[Ot][Dn][wt][bt]=Mt}return St})(Pt.concat(fi)),nt=Ct}return tt})(this.pdf,this.fontFaces),Wt=Nt.map(function(vt){return{family:vt,stretch:"normal",weight:Tt,style:Yt}}),Zt=(function(vt,fi,Qt){for(var Ct=(Qt=Qt||{}).defaultFontFamily||"times",Pt=Object.assign({},P7,Qt.genericFontFamilies||{}),$t=null,St=null,In=0;In<fi.length;++In)if(Pt[($t=Jg(fi[In])).family]&&($t.family=Pt[$t.family]),vt.hasOwnProperty($t.family)){St=vt[$t.family];break}if(!(St=St||vt[Ct]))throw new Error("Could not find a font-family for the rule '"+Lb($t)+"' and default family '"+Ct+"'.");if(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];var Dn=V0[Mt],wt=Dn<=V0.normal?-1:1,bt=Ib(Ot,K4,Dn,wt);if(!bt)throw new Error("Could not find a matching font-stretch value for "+Mt);return bt})($t.stretch,St),St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];for(var Dn=$4[Mt],wt=0;wt<Dn.length;++wt)if(Ot[Dn[wt]])return Ot[Dn[wt]];throw new Error("Could not find a matching font-style for "+Mt)})($t.style,St),!(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];if(Mt===400&&Ot[500])return Ot[500];if(Mt===500&&Ot[400])return Ot[400];var Dn=O7[Mt],wt=Ib(Ot,Q4,Dn,Mt<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Mt);return wt})($t.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Lb($t)+"'.");return St})(_t,Wt);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var Bt="";(Tt==="bold"||parseInt(Tt,10)>=700||Yt==="bold")&&(Bt="bold"),Yt==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var sn="",Kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Nt.length;mt++){if(this.pdf.internal.getFont(Nt[mt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){sn=Nt[mt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Nt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=Nt[mt],Bt="bold";else if(this.pdf.internal.getFont(Nt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=Nt[mt],Bt="normal";break}}if(sn===""){for(var qt=0;qt<Nt.length;qt++)if(Kt[Nt[qt]]){sn=Kt[Nt[qt]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};A.prototype.setLineDash=function(k){this.lineDash=k},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){se.call(this,"fill",!1)},A.prototype.stroke=function(){se.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(k,P)},A.prototype.closePath=function(){var k=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Zn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){k=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},A.prototype.lineTo=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(Y.x,Y.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},A.prototype.quadraticCurveTo=function(k,P,Y,M){if(isNaN(Y)||isNaN(M)||isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new c(Y,M)),fe=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new c(re.x,re.y)},A.prototype.bezierCurveTo=function(k,P,Y,M,re,fe){if(isNaN(re)||isNaN(fe)||isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new c(re,fe)),me=this.ctx.transform.applyToPoint(new c(k,P)),Me=this.ctx.transform.applyToPoint(new c(Y,M));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Me.x,y2:Me.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new c(_e.x,_e.y)},A.prototype.arc=function(k,P,Y,M,re,fe){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M)||isNaN(re))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new c(k,P));k=_e.x,P=_e.y;var me=this.ctx.transform.applyToPoint(new c(0,Y)),Me=this.ctx.transform.applyToPoint(new c(0,0));Y=Math.sqrt(Math.pow(me.x-Me.x,2)+Math.pow(me.y-Me.y,2))}Math.abs(re-M)>=2*Math.PI&&(M=0,re=2*Math.PI),this.path.push({type:"arc",x:k,y:P,radius:Y,startAngle:M,endAngle:re,counterclockwise:fe})},A.prototype.arcTo=function(k,P,Y,M,re){throw new Error("arcTo not implemented.")},A.prototype.rect=function(k,P,Y,M){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,P),this.lineTo(k+Y,P),this.lineTo(k+Y,P+M),this.lineTo(k,P+M),this.lineTo(k,P),this.lineTo(k+Y,P),this.lineTo(k,P)},A.prototype.fillRect=function(k,P,Y,M){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,P,Y,M),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},A.prototype.strokeRect=function(k,P,Y,M){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");z.call(this)||(this.beginPath(),this.rect(k,P,Y,M),this.stroke())},A.prototype.clearRect=function(k,P,Y,M){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,P,Y,M))},A.prototype.save=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},A.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(P),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(k){var P,Y,M,re;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))P=0,Y=0,M=0,re=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(fe!==null)P=parseInt(fe[1]),Y=parseInt(fe[2]),M=parseInt(fe[3]),re=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)P=parseInt(fe[1]),Y=parseInt(fe[2]),M=parseInt(fe[3]),re=parseFloat(fe[4]);else{if(re=1,typeof k=="string"&&k.charAt(0)!=="#"){var _e=new V4(k);k=_e.ok?_e.toHex():"#000000"}k.length===4?(P=k.substring(1,2),P+=P,Y=k.substring(2,3),Y+=Y,M=k.substring(3,4),M+=M):(P=k.substring(1,3),Y=k.substring(3,5),M=k.substring(5,7)),P=parseInt(P,16),Y=parseInt(Y,16),M=parseInt(M,16)}}return{r:P,g:Y,b:M,a:re,style:k}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},z=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(k,P,Y,M){if(isNaN(P)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!_.call(this)){var re=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:k,x:P,y:Y,scale:fe,angle:re,align:this.textAlign,maxWidth:M})}},A.prototype.strokeText=function(k,P,Y,M){if(isNaN(P)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!z.call(this)){M=isNaN(M)?void 0:M;var re=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:k,x:P,y:Y,scale:fe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:M})}},A.prototype.measureText=function(k){if(typeof k!="string")throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,Y=this.pdf.internal.scaleFactor,M=P.internal.getFontSize(),re=P.getStringUnitWidth(k)*M/P.internal.scaleFactor;return new function(fe){var _e=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:re*=Math.round(96*Y/72*1e4)/1e4})},A.prototype.scale=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new f(k,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.rotate=function(k){if(isNaN(k))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},A.prototype.translate=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new f(1,0,0,1,k,P);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.transform=function(k,P,Y,M,re,fe){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(M)||isNaN(re)||isNaN(fe))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(k,P,Y,M,re,fe);this.ctx.transform=this.ctx.transform.multiply(_e)},A.prototype.setTransform=function(k,P,Y,M,re,fe){k=isNaN(k)?1:k,P=isNaN(P)?0:P,Y=isNaN(Y)?0:Y,M=isNaN(M)?1:M,re=isNaN(re)?0:re,fe=isNaN(fe)?0:fe,this.ctx.transform=new f(k,P,Y,M,re,fe)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(k,P,Y,M,re,fe,_e,me,Me){var We=this.pdf.getImageProperties(k),tt=1,nt=1,ct=1,oe=1;M!==void 0&&me!==void 0&&(ct=me/M,oe=Me/re,tt=We.width/M*me/M,nt=We.height/re*Me/re),fe===void 0&&(fe=P,_e=Y,P=0,Y=0),M!==void 0&&me===void 0&&(me=M,Me=re),M===void 0&&me===void 0&&(me=We.width,Me=We.height);var et=this.ctx.transform.decompose(),Yt=ee(et.rotate.shx),Tt=new f,Ue=(Tt=(Tt=(Tt=Tt.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new h(fe-P*ct,_e-Y*oe,M*tt,re*nt));if(this.autoPaging){for(var rt,it=U.call(this,Ue),Nt=[],_t=0;_t<it.length;_t+=1)Nt.indexOf(it[_t])===-1&&Nt.push(it[_t]);ae(Nt);for(var Wt=Nt[0],Zt=Nt[Nt.length-1],Bt=Wt;Bt<Zt+1;Bt++){this.pdf.setPage(Bt);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Bt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Bt===1?0:mt+(Bt-2)*qt;if(this.ctx.clip_path.length!==0){var fi=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(rt,this.posX+this.margin[3],-vt+Kt+this.ctx.prevPageLastElemOffset),Se.call(this,"fill",!0),this.path=fi}var Qt=JSON.parse(JSON.stringify(Ue));Qt=ne([Qt],this.posX+this.margin[3],-vt+Kt+this.ctx.prevPageLastElemOffset)[0];var Ct=(Bt>Wt||Bt<Zt)&&H.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,qt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,Yt),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Yt)};var U=function(k,P,Y){var M=[];P=P||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":M.push(Math.floor((k.y+re)/Y)+1);break;case"arc":M.push(Math.floor((k.y+re-k.radius)/Y)+1),M.push(Math.floor((k.y+re+k.radius)/Y)+1);break;case"qct":var fe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);M.push(Math.floor((fe.y+re)/Y)+1),M.push(Math.floor((fe.y+fe.h+re)/Y)+1);break;case"bct":var _e=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);M.push(Math.floor((_e.y+re)/Y)+1),M.push(Math.floor((_e.y+_e.h+re)/Y)+1);break;case"rect":M.push(Math.floor((k.y+re)/Y)+1),M.push(Math.floor((k.y+k.h+re)/Y)+1)}for(var me=0;me<M.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<M[me];)B.call(this);return M},B=function(){var k=this.fillStyle,P=this.strokeStyle,Y=this.font,M=this.lineCap,re=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=P,this.font=Y,this.lineCap=M,this.lineWidth=re,this.lineJoin=fe},ne=function(k,P,Y){for(var M=0;M<k.length;M++)switch(k[M].type){case"bct":k[M].x2+=P,k[M].y2+=Y;case"qct":k[M].x1+=P,k[M].y1+=Y;default:k[M].x+=P,k[M].y+=Y}return k},ae=function(k){return k.sort(function(P,Y){return P-Y})},se=function(k,P){var Y=this.fillStyle,M=this.strokeStyle,re=this.lineCap,fe=this.lineWidth,_e=Math.abs(fe*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var Me,We,tt=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),ct=[],oe=0;oe<nt.length;oe++)if(nt[oe].x!==void 0)for(var et=U.call(this,nt[oe]),Yt=0;Yt<et.length;Yt+=1)ct.indexOf(et[Yt])===-1&&ct.push(et[Yt]);for(var Tt=0;Tt<ct.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<ct[Tt];)B.call(this);ae(ct);for(var Ue=ct[0],rt=ct[ct.length-1],it=Ue;it<rt+1;it++){this.pdf.setPage(it),this.fillStyle=Y,this.strokeStyle=M,this.lineCap=re,this.lineWidth=_e,this.lineJoin=me;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=it===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=it===1?0:Wt+(it-2)*Zt;if(this.ctx.clip_path.length!==0){var sn=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Me,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),Se.call(this,k,!0),this.path=sn}if(We=JSON.parse(JSON.stringify(tt)),this.path=ne(We,this.posX+this.margin[3],-Bt+_t+this.ctx.prevPageLastElemOffset),P===!1||it===0){var Kt=(it>Ue||it<rt)&&H.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Zt,null).clip().discardPath()),Se.call(this,k,P),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=tt}else this.lineWidth=_e,Se.call(this,k,P),this.lineWidth=fe},Se=function(k,P){if((k!=="stroke"||P||!z.call(this))&&(k==="stroke"||P||!_.call(this))){for(var Y,M,re=[],fe=this.path,_e=0;_e<fe.length;_e++){var me=fe[_e];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var Me=re.length;if(fe[_e-1]&&!isNaN(fe[_e-1].x)&&(Y=[me.x-fe[_e-1].x,me.y-fe[_e-1].y],Me>0)){for(;Me>=0;Me--)if(re[Me-1].close!==!0&&re[Me-1].begin!==!0){re[Me-1].deltas.push(Y),re[Me-1].abs.push(me);break}}break;case"bct":Y=[me.x1-fe[_e-1].x,me.y1-fe[_e-1].y,me.x2-fe[_e-1].x,me.y2-fe[_e-1].y,me.x-fe[_e-1].x,me.y-fe[_e-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var We=fe[_e-1].x+2/3*(me.x1-fe[_e-1].x),tt=fe[_e-1].y+2/3*(me.y1-fe[_e-1].y),nt=me.x+2/3*(me.x1-me.x),ct=me.y+2/3*(me.y1-me.y),oe=me.x,et=me.y;Y=[We-fe[_e-1].x,tt-fe[_e-1].y,nt-fe[_e-1].x,ct-fe[_e-1].y,oe-fe[_e-1].x,et-fe[_e-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}M=P?null:k==="stroke"?"stroke":"fill";for(var Yt=!1,Tt=0;Tt<re.length;Tt++)if(re[Tt].arc)for(var Ue=re[Tt].abs,rt=0;rt<Ue.length;rt++){var it=Ue[rt];it.type==="arc"?O.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,P,!Yt):E.call(this,it.x,it.y),Yt=!0}else if(re[Tt].close===!0)this.pdf.internal.out("h"),Yt=!1;else if(re[Tt].begin!==!0){var Nt=re[Tt].start.x,_t=re[Tt].start.y;Q.call(this,re[Tt].deltas,Nt,_t),Yt=!0}M&&w.call(this,M),P&&q.call(this)}},je=function(k){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Y;case"top":return k+P-Y;case"hanging":return k+P-2*Y;case"middle":return k+P/2-Y;default:return k}},$=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(P,Y){this.colorStops.push([P,Y])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(k,P,Y,M,re,fe,_e,me,Me){for(var We=ie.call(this,Y,M,re,fe),tt=0;tt<We.length;tt++){var nt=We[tt];tt===0&&(Me?I.call(this,nt.x1+k,nt.y1+P):E.call(this,nt.x1+k,nt.y1+P)),de.call(this,k,P,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}me?q.call(this):w.call(this,_e)},w=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,P){this.pdf.internal.out(t(k)+" "+r(P)+" m")},N=function(k){var P;switch(k.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var Y,M,re,fe=this.pdf.getTextDimensions(k.text),_e=je.call(this,k.y),me=$.call(this,_e)-fe.h,Me=this.ctx.transform.applyToPoint(new c(k.x,_e));if(this.autoPaging){var We=this.ctx.transform.decompose(),tt=new f;tt=(tt=(tt=tt.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var nt=this.ctx.transform.applyToRectangle(new h(k.x,_e,fe.w,fe.h)),ct=tt.applyToRectangle(new h(k.x,me,fe.w,fe.h)),oe=U.call(this,ct),et=[],Yt=0;Yt<oe.length;Yt+=1)et.indexOf(oe[Yt])===-1&&et.push(oe[Yt]);ae(et);for(var Tt=et[0],Ue=et[et.length-1],rt=Tt;rt<Ue+1;rt++){this.pdf.setPage(rt);var it=rt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Wt=_t-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Zt-this.margin[3],sn=rt===1?0:Nt+(rt-2)*Wt;if(this.ctx.clip_path.length!==0){var Kt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Y,this.posX+this.margin[3],-1*sn+it),Se.call(this,"fill",!0),this.path=Kt}var mt=ne([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-sn+it+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*k.scale),re=this.lineWidth,this.lineWidth=re*k.scale);var qt=this.autoPaging!=="text";if(qt||mt.y+mt.h<=_t){if(qt||mt.y>=it&&mt.x<=Zt){var vt=qt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Zt-mt.x)[0],fi=ne([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-sn+it+this.ctx.prevPageLastElemOffset)[0],Qt=qt&&(rt>Tt||rt<Ue)&&H.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Wt,null).clip().discardPath()),this.pdf.text(vt,fi.x,fi.y,{angle:k.angle,align:P,renderingMode:k.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else mt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-mt.y);k.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=re)}}else k.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*k.scale),re=this.lineWidth,this.lineWidth=re*k.scale),this.pdf.text(k.text,Me.x+this.posX,Me.y+this.posY,{angle:k.angle,align:P,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=re)},E=function(k,P,Y,M){Y=Y||0,M=M||0,this.pdf.internal.out(t(k+Y)+" "+r(P+M)+" l")},Q=function(k,P,Y){return this.pdf.lines(k,P,Y,null,null)},de=function(k,P,Y,M,re,fe,_e,me){this.pdf.internal.out([e(s(Y+k)),e(o(M+P)),e(s(re+k)),e(o(fe+P)),e(s(_e+k)),e(o(me+P)),"c"].join(" "))},ie=function(k,P,Y,M){for(var re=2*Math.PI,fe=Math.PI/2;P>Y;)P-=re;var _e=Math.abs(Y-P);_e<re&&M&&(_e=re-_e);for(var me=[],Me=M?-1:1,We=P;_e>1e-5;){var tt=We+Me*Math.min(_e,fe);me.push(he.call(this,k,We,tt)),_e-=Math.abs(tt-We),We=tt}return me},he=function(k,P,Y){var M=(Y-P)/2,re=k*Math.cos(M),fe=k*Math.sin(M),_e=re,me=-fe,Me=_e*_e+me*me,We=Me+_e*re+me*fe,tt=4/3*(Math.sqrt(2*Me*We)-We)/(_e*fe-me*re),nt=_e-tt*me,ct=me+tt*_e,oe=nt,et=-ct,Yt=M+P,Tt=Math.cos(Yt),Ue=Math.sin(Yt);return{x1:k*Math.cos(P),y1:k*Math.sin(P),x2:nt*Tt-ct*Ue,y2:nt*Ue+ct*Tt,x3:oe*Tt-et*Ue,y3:oe*Ue+et*Tt,x4:k*Math.cos(Y),y4:k*Math.sin(Y)}},ee=function(k){return 180*k/Math.PI},pe=function(k,P,Y,M,re,fe){var _e=k+.5*(Y-k),me=P+.5*(M-P),Me=re+.5*(Y-re),We=fe+.5*(M-fe),tt=Math.min(k,re,_e,Me),nt=Math.max(k,re,_e,Me),ct=Math.min(P,fe,me,We),oe=Math.max(P,fe,me,We);return new h(tt,ct,nt-tt,oe-ct)},Ce=function(k,P,Y,M,re,fe,_e,me){var Me,We,tt,nt,ct,oe,et,Yt,Tt,Ue,rt,it,Nt,_t,Wt=Y-k,Zt=M-P,Bt=re-Y,sn=fe-M,Kt=_e-re,mt=me-fe;for(We=0;We<41;We++)Tt=(et=(tt=k+(Me=We/40)*Wt)+Me*((ct=Y+Me*Bt)-tt))+Me*(ct+Me*(re+Me*Kt-ct)-et),Ue=(Yt=(nt=P+Me*Zt)+Me*((oe=M+Me*sn)-nt))+Me*(oe+Me*(fe+Me*mt-oe)-Yt),We==0?(rt=Tt,it=Ue,Nt=Tt,_t=Ue):(rt=Math.min(rt,Tt),it=Math.min(it,Ue),Nt=Math.max(Nt,Tt),_t=Math.max(_t,Ue));return new h(Math.round(rt),Math.round(it),Math.round(Nt-rt),Math.round(_t-it))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,P,Y=(k=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:P}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(yt.API),(function(n){var e=function(c){var h,f,d,v,A,C,_,z,H,U;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(A=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(C=(A=((A=((A=((A=(A-(U=A%85))/85)-(H=A%85))/85)-(z=A%85))/85)-(_=A%85))/85)%85,f.push(C+33,_+33,z+33,H+33,U+33)):f.push(122);return(function(B,ne){for(var ae=ne;ae>0;ae--)B.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var h,f,d,v,A,C=String,_="length",z=255,H="charCodeAt",U="slice",B="replace";for(c[U](-2),c=c[U](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),d=[],v=0,A=(c+=h="uuuuu"[U](c[_]%5||5))[_];A>v;v+=5)f=52200625*(c[H](v)-33)+614125*(c[H](v+1)-33)+7225*(c[H](v+2)-33)+85*(c[H](v+3)-33)+(c[H](v+4)-33),d.push(z&f>>24,z&f>>16,z&f>>8,z&f);return(function(ne,ae){for(var se=ae;se>0;se--)ne.pop()})(d,h[_]),C.fromCharCode.apply(C,d)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=k0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(yt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,C=0,_=function(z){var H=z.length,U=[],B=String.fromCharCode;for(C=0;C<H;C+=1)U.push(B(255&z.charCodeAt(C)));return U.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(_(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,c)}catch{}return h})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(yt.API),(function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):Mg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):Mg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Zn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var _=0;_<v.length;++_){var z=v[_],H=z.src.find(function(U){return U.format==="truetype"});H&&d.addFont(H.url,z.ref.name,z.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=C.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,d.context2d.save(!0),f(this.prop.container,C)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(C){return d.updateProgress(null,v),C}).then(v,A).then(function(C){return d.updateProgress(1),C})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),C=d.call(A,h,f);return c.convert(C,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,yt.getPageSize=function(h,f,d){if(Zn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,C=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var z,H=0,U=0;if(_.hasOwnProperty(C))H=_[C][1]/A,U=_[C][0]/A;else try{H=d[1],U=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",U>H&&(z=U,U=H,H=z);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",H>U&&(z=U,U=H,H=z)}return{width:U,height:H,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Jg):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(yt.API),yt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],h=r.exec(c);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=t.internal.newObject();v.push(A);var C=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(yt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(A){for(var C,_=256*A.charCodeAt(4)+A.charCodeAt(5),z=A.length,H={width:0,height:0,numcomponents:1},U=4;U<z;U+=2){if(U+=_,e.indexOf(A.charCodeAt(U+1))!==-1){C=256*A.charCodeAt(U+5)+A.charCodeAt(U+6),H={width:256*A.charCodeAt(U+7)+A.charCodeAt(U+8),height:C,numcomponents:A.charCodeAt(U+9)};break}_=256*A.charCodeAt(U+2)+A.charCodeAt(U+3)}return H})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return v}})(yt.API),yt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=w7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;s=d&&f===1?(function(O){for(var w=O.width,q=O.height,I=O.data,N=O.palette,E=O.depth,Q=!1,de=[],ie=[],he=void 0,ee=!1,pe=0,Ce=0;Ce<N.length;Ce++){var Z=Fv(N[Ce],4),k=Z[0],P=Z[1],Y=Z[2],M=Z[3];de.push(k,P,Y),M!=null&&(M===0?(pe++,ie.length<1&&ie.push(Ce)):M<255&&(ee=!0))}if(ee||pe>1){Q=!0,ie=void 0;var re=w*q;he=new Uint8Array(re);for(var fe=new DataView(I.buffer),_e=0;_e<re;_e++){var me=t0(fe,_e,E),Me=Fv(N[me],4)[3];he[_e]=Me}}else pe===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:I,alphaBytes:he,needSMask:Q,palette:de,mask:ie}})(o):f===2||f===4?(function(O){for(var w=O.data,q=O.width,I=O.height,N=O.channels,E=O.depth,Q=N===2?"DeviceGray":"DeviceRGB",de=N-1,ie=q*I,he=de,ee=ie*he,pe=1*ie,Ce=Math.ceil(ee*E/8),Z=Math.ceil(pe*E/8),k=new Uint8Array(Ce),P=new Uint8Array(Z),Y=new DataView(w.buffer),M=new DataView(k.buffer),re=new DataView(P.buffer),fe=!1,_e=0;_e<ie;_e++){for(var me=_e*N,Me=0;Me<he;Me++)Ub(M,t0(Y,me+Me,E),_e*he+Me,E);var We=t0(Y,me+he,E);We<(1<<E)-1&&(fe=!0),Ub(re,We,1*_e,E)}return{colorSpace:Q,colorsPerPixel:de,sMaskBitsPerComponent:fe?E:void 0,colorBytes:k,alphaBytes:P,needSMask:fe}})(o):(function(O){var w=O.data,q=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(I){for(var N=I.length,E=new Uint8Array(2*N),Q=new DataView(E.buffer,E.byteOffset,E.byteLength),de=0;de<N;de++)Q.setUint16(2*de,I[de],!1);return E})(w):w,needSMask:!1}})(o);var A,C,_,z=s,H=z.colorSpace,U=z.colorsPerPixel,B=z.sMaskBitsPerComponent,ne=z.colorBytes,ae=z.alphaBytes,se=z.needSMask,Se=z.palette,je=z.mask,$=null;return r!==yt.API.image_compression.NONE&&typeof k0=="function"?($=(function(O){var w;switch(O){case yt.API.image_compression.FAST:w=11;break;case yt.API.image_compression.MEDIUM:w=13;break;case yt.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),A=this.decode.FLATE_DECODE,C="/Predictor ".concat($," /Colors ").concat(U," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=Pb(ne,Math.ceil(c*U*v/8),U,v,r),se&&(_=Pb(ae,Math.ceil(c*B/8),1,B,r))):(A=void 0,C=void 0,n=ne,se&&(_=ae)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:A,decodeParameters:C,transparency:je,palette:Se,sMask:_,predictor:$,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:B,colorSpace:H}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new q7(e),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new n0(100).encode(d,100);return n.processJPEG.call(this,v,t,r,s)},n.processGIF87A=n.processGIF89A})(yt.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){hi.log("bit decode error:"+t)}},oo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},oo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,v=r*this.width*4+4*s;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=n}},oo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,d=(c>>11)/e*255|0,v=s*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},oo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=c}},oo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new oo(e,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new n0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),Hb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new Hb(e),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new n0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),yt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var v=r[d],A=r[d+1],C=r[d+2],_=r[d+3];o[h++]=v,o[h++]=A,o[h++]=C,c[f++]=_}var z=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:z,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},yt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eh=yt.API,tp=eh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=e.doKerning!==!1,C=0,_=n.length,z=0,H=h[0]||f,U=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(C=A&&Zn(d[r])==="object"&&!isNaN(parseInt(d[r][z],10))?d[r][z]/v:0,U.push((h[r]||H)/f+C)),z=r;return U},kb=eh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return eh.processArabic&&(n=eh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:tp.apply(this,arguments).reduce(function(o,c){return o+c},0)},Mb=function(n,e,t,r){for(var s=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+e[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Ob=function(n,e,t){t||(t={});var r,s,o,c,h,f,d,v=[],A=[v],C=t.textIndent||0,_=0,z=0,H=n.split(" "),U=tp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?H[0].length+2:t.lineIndent||0){var B=Array(f).join(" "),ne=[];H.map(function(se){(se=se.split(/\s*\n/)).length>1?ne=ne.concat(se.map(function(Se,je){return(je&&Se.length?`
`:"")+Se})):ne.push(se[0])}),H=ne,f=kb.apply(this,[B,t])}for(o=0,c=H.length;o<c;o++){var ae=0;if(r=H[o],f&&r[0]==`
`&&(r=r.substr(1),ae=1),C+_+(z=(s=tp.apply(this,[r,t])).reduce(function(se,Se){return se+Se},0))>e||ae){if(z>e){for(h=Mb.apply(this,[r,s,e-(C+_),e]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);z=s.slice(r.length-(v[0]?v[0].length:0)).reduce(function(se,Se){return se+Se},0)}else v=[r];A.push(v),C=z+f,_=U}else v.push(r),C+=_+z,_=U}return d=f?function(se,Se){return(Se?B:"")+se.join(" ")}:function(se){return se.join(" ")},A.map(d)},eh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),C="Unicode";return A.metadata[C]?{widths:A.metadata[C].widths||{0:1},kerning:A.metadata[C].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(Ob.apply(this,[r[h],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(C){return"0x"+parseInt(C,10).toString(16)},h=n.__fontmetrics__.compress=function(C){var _,z,H,U,B=["{"];for(var ne in C){if(_=C[ne],isNaN(parseInt(ne,10))?z="'"+ne+"'":(ne=parseInt(ne,10),z=(z=c(ne).slice(2)).slice(0,-1)+s[z.slice(-1)]),typeof _=="number")_<0?(H=c(_).slice(3),U="-"):(H=c(_).slice(2),U=""),H=U+H.slice(0,-1)+s[H.slice(-1)];else{if(Zn(_)!=="object")throw new Error("Don't know what to do with value type "+Zn(_)+".");H=h(_)}B.push(z+H)}return B.push("}"),B.join("")},f=n.__fontmetrics__.uncompress=function(C){if(typeof C!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,z,H,U,B={},ne=1,ae=B,se=[],Se="",je="",$=C.length-1,O=1;O<$;O+=1)(U=C[O])=="'"?_?(H=_.join(""),_=void 0):_=[]:_?_.push(U):U=="{"?(se.push([ae,H]),ae={},H=void 0):U=="}"?((z=se.pop())[0][z[1]]=ae,H=void 0,ae=z[0]):U=="-"?ne=-1:H===void 0?r.hasOwnProperty(U)?(Se+=r[U],H=parseInt(Se,16)*ne,ne=1,Se=""):Se+=U:r.hasOwnProperty(U)?(je+=r[U],ae[H]=parseInt(je,16)*ne,ne=1,H=void 0,je=""):je+=U;return B},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(C){var _=C.font,z=A.Unicode[_.postScriptName];z&&(_.metadata.Unicode={},_.metadata.Unicode.widths=z.widths,_.metadata.Unicode.kerning=z.kerning);var H=v.Unicode[_.postScriptName];H&&(_.metadata.Unicode.encoding=H,_.encoding=H.codePages[0])}])})(yt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(up(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(yt),yt.API.addSvgAsImage=function(n,e,t,r,s,o,c,h){if(isNaN(e)||isNaN(t))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Gt.canvg?Promise.resolve(Gt.canvg):Mg(()=>import("./index.es-CV7iwsAF.js"),[])).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C}).then(function(C){return C.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,c,h)})},yt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},yt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,A=0;function C(z,H){var U,B=!1;for(U=0;U<z.length;U+=1)z[U]===H&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=h.length;for(A=0;A<_;A+=1)t[h[A]].value=t[h[A]].defaultValue,t[h[A]].explicitSet=!1}if(Zn(n)==="object"){for(s in n)if(o=n[s],C(h,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&C(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var z,H=[];for(z in t)t[z].explicitSet===!0&&(t[z].type==="name"?H.push("/"+z+" /"+t[z].value):H.push("/"+z+" "+t[z].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},yt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",G7),this.internal.events.subscribe("postPutResources",H7)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,C=o.length;A<C;++A){if(h=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},r=function(o){var c,h,f,d,v,A,C;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,C=(h=Object.keys(o).sort(function(_,z){return _-z})).length;A<C;A++)c=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,C=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",z=0;z<C.length;z++)_+=String.fromCharCode(C[z]);var H=d();v({data:_,addLength1:!0,objectId:H}),f("endobj");var U=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var B=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+sh(h.fontName)),f("/FontFile2 "+H+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var ne=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+sh(h.fontName)),f("/FontDescriptor "+B+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+sh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+ne+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,C="",_=0;_<A.length;_++)C+=String.fromCharCode(A[_]);var z=d();v({data:C,addLength1:!0,objectId:z}),f("endobj");var H=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:H}),f("endobj");var U=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+z+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+sh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var B=0;B<h.metadata.hmtx.widths.length;B++)h.metadata.hmtx.widths[B]=parseInt(h.metadata.hmtx.widths[B]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+sh(h.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},C=A.pdfEscape,_=A.activeFontKey,z=A.fonts,H=_,U="",B=0,ne="",ae=z[H].encoding;if(z[H].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(ne=h,H=_,Array.isArray(h)&&(ne=h[0]),B=0;B<ne.length;B+=1)z[H].metadata.hasOwnProperty("cmap")&&(c=z[H].metadata.cmap.unicode.codeMap[ne[B].charCodeAt(0)]),c||ne[B].charCodeAt(0)<256&&z[H].metadata.hasOwnProperty("Unicode")?U+=ne[B]:U+="";var se="";return parseInt(H.slice(1))<14||ae==="WinAnsiEncoding"?se=C(U,H).split("").map(function(Se){return Se.charCodeAt(0).toString(16)}).join(""):ae==="Identity-H"&&(se=t(U,z[H])),A.isHex=!0,{text:se,x:f,y:d,options:v,mutex:A}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(s(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:c})).text}])})(yt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(yt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,h,f,d,v,A=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],z={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ne=!1,ae=0;this.__bidiEngine__={};var se=function(I){var N=I.charCodeAt(),E=N>>8,Q=H[E];return Q!==void 0?A[256*Q+(255&N)]:E===252||E===253?"AL":B.test(E)?"L":E===8?"R":"N"},Se=function(I){for(var N,E=0;E<I.length;E++){if((N=se(I.charAt(E)))==="L")return!1;if(N==="R")return!0}return!1},je=function(I,N,E,Q){var de,ie,he,ee,pe=N[Q];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ne=!1;break;case"N":case"AN":break;case"EN":ne&&(pe="AN");break;case"AL":ne=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":Q<1||Q+1>=N.length||(de=E[Q-1])!=="EN"&&de!=="AN"||(ie=N[Q+1])!=="EN"&&ie!=="AN"?pe="N":ne&&(ie="AN"),pe=ie===de?ie:"N";break;case"ES":pe=(de=Q>0?E[Q-1]:"B")==="EN"&&Q+1<N.length&&N[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&E[Q-1]==="EN"){pe="EN";break}if(ne){pe="N";break}for(he=Q+1,ee=N.length;he<ee&&N[he]==="ET";)he++;pe=he<ee&&N[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ee=N.length,he=Q+1;he<ee&&N[he]==="NSM";)he++;if(he<ee){var Ce=I[Q],Z=Ce>=1425&&Ce<=2303||Ce===64286;if(de=N[he],Z&&(de==="R"||de==="AL")){pe="R";break}}}pe=Q<1||(de=N[Q-1])==="B"?"N":E[Q-1];break;case"B":ne=!1,s=!0,pe=ae;break;case"S":o=!0,pe="N"}return pe},$=function(I,N,E){var Q=I.split("");return E&&O(Q,E,{hiLevel:ae}),Q.reverse(),N&&N.reverse(),Q.join("")},O=function(I,N,E){var Q,de,ie,he,ee,pe=-1,Ce=I.length,Z=0,k=[],P=ae?_:C,Y=[];for(ne=!1,s=!1,o=!1,de=0;de<Ce;de++)Y[de]=se(I[de]);for(ie=0;ie<Ce;ie++){if(ee=Z,k[ie]=je(I,Y,k,ie),Q=240&(Z=P[ee][z[k[ie]]]),Z&=15,N[ie]=he=P[Z][5],Q>0)if(Q===16){for(de=pe;de<ie;de++)N[de]=1;pe=-1}else pe=-1;if(P[Z][6])pe===-1&&(pe=ie);else if(pe>-1){for(de=pe;de<ie;de++)N[de]=he;pe=-1}Y[ie]==="B"&&(N[ie]=0),E.hiLevel|=he}o&&(function(M,re,fe){for(var _e=0;_e<fe;_e++)if(M[_e]==="S"){re[_e]=ae;for(var me=_e-1;me>=0&&M[me]==="WS";me--)re[me]=ae}})(Y,N,Ce)},w=function(I,N,E,Q,de){if(!(de.hiLevel<I)){if(I===1&&ae===1&&!s)return N.reverse(),void(E&&E.reverse());for(var ie,he,ee,pe,Ce=N.length,Z=0;Z<Ce;){if(Q[Z]>=I){for(ee=Z+1;ee<Ce&&Q[ee]>=I;)ee++;for(pe=Z,he=ee-1;pe<he;pe++,he--)ie=N[pe],N[pe]=N[he],N[he]=ie,E&&(ie=E[pe],E[pe]=E[he],E[he]=ie);Z=ee}Z++}}},q=function(I,N,E){var Q=I.split(""),de={hiLevel:ae};return E||(E=[]),O(Q,E,de),(function(ie,he,ee){if(ee.hiLevel!==0&&v)for(var pe,Ce=0;Ce<ie.length;Ce++)he[Ce]===1&&(pe=U.indexOf(ie[Ce]))>=0&&(ie[Ce]=U[pe+1])})(Q,E,de),w(2,Q,N,E,de),w(1,Q,N,E,de),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(I,N,E){if((function(de,ie){if(ie)for(var he=0;he<de.length;he++)ie[he]=he;h===void 0&&(h=Se(de)),d===void 0&&(d=Se(de))})(I,N),c||!f||d)if(c&&f&&h^d)ae=h?1:0,I=$(I,N,E);else if(!c&&f&&d)ae=h?1:0,I=q(I,N,E),I=$(I,N);else if(!c||h||f||d){if(c&&!f&&h^d)I=$(I,N),h?(ae=0,I=q(I,N,E)):(ae=1,I=q(I,N,E),I=$(I,N));else if(c&&h&&!f&&d)ae=1,I=q(I,N,E),I=$(I,N);else if(!c&&!f&&h^d){var Q=v;h?(ae=1,I=q(I,N,E),ae=0,v=!1,I=q(I,N,E),v=Q):(ae=0,I=q(I,N,E),I=$(I,N),ae=1,v=!1,I=q(I,N,E),v=Q,I=$(I,N))}}else ae=0,I=q(I,N,E);else ae=h?1:0,I=q(I,N,E);return I},this.__bidiEngine__.setOptions=function(I){I&&(c=I.isInputVisual,f=I.isOutputVisual,h=I.isInputRtl,d=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(c=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?c.push([t.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):c.push([t.doBidiReorder(s[h])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ju(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sR(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Y7(this.contents),this.head=new $7(this),this.name=new J7(this),this.cmap=new Z4(this),this.toUnicode={},this.hhea=new K7(this),this.maxp=new eR(this),this.hmtx=new tR(this),this.post=new X7(this),this.os2=new Q7(this),this.loca=new aR(this),this.glyf=new nR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var mo,ju=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),Y7=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,h,f,d,v,A,C,_,z,H;for(H in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),c=Math.floor(A/f),v=16*_-A,(s=new ju).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(c),s.writeShort(v),o=16*_,d=s.pos+o,h=null,z=[],t)for(C=t[H],s.writeString(H),s.writeInt(n(C)),s.writeInt(d),s.writeInt(C.length),z=z.concat(C),H==="head"&&(h=d),d+=C.length;d%4;)z.push(0),d++;return s.write(z),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=J4.call(t);t.length%4;)t.push(0);for(o=new ju(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),W7={}.hasOwnProperty,Xo=function(n,e){for(var t in e)W7.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};mo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var $7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ju).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Gb=(function(){function n(e,t){var r,s,o,c,h,f,d,v,A,C,_,z,H,U,B,ne,ae;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),C=_/2,e.pos+=6,o=(function(){var se,Se;for(Se=[],f=se=0;0<=C?se<C:se>C;f=0<=C?++se:--se)Se.push(e.readUInt16());return Se})(),e.pos+=2,H=(function(){var se,Se;for(Se=[],f=se=0;0<=C?se<C:se>C;f=0<=C?++se:--se)Se.push(e.readUInt16());return Se})(),d=(function(){var se,Se;for(Se=[],f=se=0;0<=C?se<C:se>C;f=0<=C?++se:--se)Se.push(e.readUInt16());return Se})(),v=(function(){var se,Se;for(Se=[],f=se=0;0<=C?se<C:se>C;f=0<=C?++se:--se)Se.push(e.readUInt16());return Se})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var se,Se;for(Se=[],f=se=0;0<=s?se<s:se>s;f=0<=s?++se:--se)Se.push(e.readUInt16());return Se})(),f=B=0,ae=o.length;B<ae;f=++B)for(U=o[f],r=ne=z=H[f];z<=U?ne<=U:ne>=U;r=z<=U?++ne:--ne)v[f]===0?c=r+d[f]:(c=h[v[f]/2+(r-z)-(C-f)]||0)!==0&&(c+=d[f]),this.codeMap[r]=65535&c}e.pos=A}return n.encode=function(e,t){var r,s,o,c,h,f,d,v,A,C,_,z,H,U,B,ne,ae,se,Se,je,$,O,w,q,I,N,E,Q,de,ie,he,ee,pe,Ce,Z,k,P,Y,M,re,fe,_e,me,Me,We,tt;switch(Q=new ju,c=Object.keys(e).sort(function(nt,ct){return nt-ct}),t){case"macroman":for(H=0,U=(function(){var nt=[];for(z=0;z<256;++z)nt.push(0);return nt})(),ne={0:0},o={},de=0,pe=c.length;de<pe;de++)ne[me=e[s=c[de]]]==null&&(ne[me]=++H),o[s]={old:e[s],new:ne[e[s]]},U[s]=ne[e[s]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(U),{charMap:o,subtable:Q.data,maxGlyphID:H+1};case"unicode":for(N=[],A=[],ae=0,ne={},r={},B=d=null,ie=0,Ce=c.length;ie<Ce;ie++)ne[Se=e[s=c[ie]]]==null&&(ne[Se]=++ae),r[s]={old:Se,new:ne[Se]},h=ne[Se]-s,B!=null&&h===d||(B&&A.push(B),N.push(s),d=h),B=s;for(B&&A.push(B),A.push(65535),N.push(65535),q=2*(w=N.length),O=2*Math.pow(Math.log(w)/Math.LN2,2),C=Math.log(O/2)/Math.LN2,$=2*w-O,f=[],je=[],_=[],z=he=0,Z=N.length;he<Z;z=++he){if(I=N[z],v=A[z],I===65535){f.push(0),je.push(0);break}if(I-(E=r[I].new)>=32768)for(f.push(0),je.push(2*(_.length+w-z)),s=ee=I;I<=v?ee<=v:ee>=v;s=I<=v?++ee:--ee)_.push(r[s].new);else f.push(E-I),je.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*w+2*_.length),Q.writeUInt16(0),Q.writeUInt16(q),Q.writeUInt16(O),Q.writeUInt16(C),Q.writeUInt16($),fe=0,k=A.length;fe<k;fe++)s=A[fe],Q.writeUInt16(s);for(Q.writeUInt16(0),_e=0,P=N.length;_e<P;_e++)s=N[_e],Q.writeUInt16(s);for(Me=0,Y=f.length;Me<Y;Me++)h=f[Me],Q.writeUInt16(h);for(We=0,M=je.length;We<M;We++)se=je[We],Q.writeUInt16(se);for(tt=0,re=_.length;tt<re;tt++)H=_[tt],Q.writeUInt16(H);return{charMap:r,subtable:Q.data,maxGlyphID:ae+1}}},n})(),Z4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Gb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Gb.encode(e,t),(s=new ju).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),K7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Q7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),X7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(e.readUInt32());return f}).call(this)}},n})(),Z7=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},J7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,h,f,d,v,A,C;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)s=r[o],e.pos=s.offset,d=e.readString(s.length),c=new Z7(d,s),f[C=s.nameID]==null&&(f[C]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),eR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),tR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)v.push(e.readInt16());return v})(),this.widths=(function(){var d,v,A,C;for(C=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],C.push(o.advance);return C}).call(this),r=this.widths[this.widths.length-1],f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),J4=[].slice,nR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,h,f,d,v,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(h=new ju(t.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new rR(h,d,A,f,v):new iR(h,c,d,A,f,v),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,h,f;for(c=[],o=[],h=0,f=t.length;h<f;h++)s=e[t[h]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),iR=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),rR=(function(){function n(e,t,r,s,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new ju(J4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),aR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,mo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),v=0;v<r.length;++v)d[4*v+3]=255&r[v],d[4*v+2]=(65280&r[v])>>8,d[4*v+1]=(16711680&r[v])>>16,d[4*v]=(4278190080&r[v])>>24;return d},n})(),sR=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,h,f;for(s={},c=0,h=e.length;c<h;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,h,f,d,v,A,C,_,z,H,U,B;for(s in r=Z4.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},B=r.charMap)_[(f=B[s]).old]=f.new;for(z in C=r.maxGlyphID,c)z in _||(_[z]=C++);return v=(function(ne){var ae,se;for(ae in se={},ne)se[ne[ae]]=ae;return se})(_),A=Object.keys(v).sort(function(ne,ae){return ne-ae}),H=(function(){var ne,ae,se;for(se=[],ne=0,ae=A.length;ne<ae;ne++)h=A[ne],se.push(v[h]);return se})(),o=this.font.glyf.encode(c,H,_),d=this.font.loca.encode(o.offsets,H),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();yt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var h,f,d;for(d=[],h=0,f=t.length;h<f;h++)r=t[h],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function ew(n,e,t,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,h=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,v=/\r\n|\r|\n/g,A="",C=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(v):n,C=A.length||1),t+=h*(2-o),r.valign==="middle"?t-=C/2*d:r.valign==="bottom"&&(t-=C*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),A&&C>=1){for(var z=0;z<A.length;z++)s.text(A[z],e-s.getStringUnitWidth(A[z])*_,t),t+=d;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Yb={},ph=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Yb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=n.unifyColor(e.fillColor);v&&(r=this.jsPDFDocument).setFillColor.apply(r,v),v=n.unifyColor(e.textColor),v&&(s=this.jsPDFDocument).setTextColor.apply(s,v),v=n.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Yb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),U0=function(n,e){return U0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},U0(n,e)};function tw(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nw=(function(n){tw(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function oR(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function lR(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function zp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function iw(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=rw(s,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function rw(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function a1(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function aw(n,e){var t=a1(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function uR(n,e,t,r,s){var o={},c=1.3333333333333333,h=i0(e,function(ae){return s.getComputedStyle(ae).backgroundColor});h!=null&&(o.fillColor=h);var f=i0(e,function(ae){return s.getComputedStyle(ae).color});f!=null&&(o.textColor=f);var d=hR(r,t);d&&(o.cellPadding=d);var v="borderTopColor",A=c*t,C=r.borderTopWidth;if(r.borderBottomWidth===C&&r.borderRightWidth===C&&r.borderLeftWidth===C){var _=(parseFloat(C)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var z=i0(e,function(ae){return s.getComputedStyle(ae)[v]});z!=null&&(o.lineColor=z);var H=["left","right","center","justify"];H.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),H=["middle","bottom","top"],H.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var U=parseInt(r.fontSize||"");isNaN(U)||(o.fontSize=U/c);var B=cR(r);B&&(o.fontStyle=B);var ne=(r.fontFamily||"").toLowerCase();return n.indexOf(ne)!==-1&&(o.font=ne),o}function cR(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function i0(n,e){var t=sw(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function sw(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:sw(n.parentElement,e):t}function hR(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(h){return parseInt(h||"0")/r}),c=a1(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function ow(n,e,t,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var h;typeof e=="string"?h=t.document.querySelector(e):h=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),v=[],A=[],C=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:v,body:A,foot:C};for(var _=0;_<h.rows.length;_++){var z=h.rows[_],H=(c=(o=z?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),U=fR(f,d,t,z,r,s);U&&(H==="thead"?v.push(U):H==="tfoot"?C.push(U):A.push(U))}return{head:v,body:A,foot:C}}function fR(n,e,t,r,s,o){for(var c=new nw(r),h=0;h<r.cells.length;h++){var f=r.cells[h],d=t.getComputedStyle(f);if(s||d.display!=="none"){var v=void 0;o&&(v=uR(n,f,e,d,t)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:dR(f)})}}var A=t.getComputedStyle(r);if(c.length>0&&(s||A.display!=="none"))return c}function dR(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function pR(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Cl(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function lw(n,e){var t=new ph(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();pR(s,r,e);var o=Cl({},s,r,e),c;typeof window<"u"&&(c=window);var h=gR(s,r,e),f=mR(s,r,e),d=yR(t,o),v=bR(t,o,c);return{id:e.tableId,content:v,hooks:f,styles:h,settings:d}}function gR(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],v=e[f],A=t[f];r.columnStyles=Cl({},d,v,A)}else{var C=[n,e,t],_=C.map(function(z){return z[f]||{}});r[f]=Cl({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var h=c[o];s(h)}return r}function mR(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var h=c[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function yR(n,e){var t,r,s,o,c,h,f,d,v,A,C,_,z=a1(e.margin,40/n.scaleFactor()),H=(t=vR(n,e.startY))!==null&&t!==void 0?t:z.top,U;e.showFoot===!0?U="everyPage":e.showFoot===!1?U="never":U=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var B;e.showHead===!0?B="everyPage":e.showHead===!1?B="never":B=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var ne=(o=e.useCss)!==null&&o!==void 0?o:!1,ae=e.theme||(ne?"plain":"striped"),se=!!e.horizontalPageBreak,Se=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:ne,theme:ae,startY:H,margin:z,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:B,showFoot:U,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(C=e.tableLineColor)!==null&&C!==void 0?C:200,horizontalPageBreak:se,horizontalPageBreakRepeat:Se,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function vR(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function bR(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var h=ow(n,e.html,t,c,e.useCss)||{};r=h.head||r,s=h.body||r,o=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||xR(r,s,o);return{columns:f,head:r,body:s,foot:o}}function xR(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,h;Array.isArray(r)?h=r[parseInt(o)]:h=r[o],typeof h=="object"&&!Array.isArray(h)&&(c=h?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var v={dataKey:d};s.push(v)}}),s}var q0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),_R=(function(n){tw(e,n);function e(t,r,s,o,c,h){var f=n.call(this,t,r,h)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return e})(q0),wR=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,c){for(var h=0,f=t;h<f.length;h++){var d=f[h],v=new _R(e,this,r,s,o,c),A=d(v)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new q0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new q0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),uw=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof nw&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var h=t.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),cw=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=a1(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),SR=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function AR(n,e){ER(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=H0(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=H0(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),CR(e),NR(e,n),TR(e)}function ER(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=aw(n,e);e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){var v=e.hooks.didParseCell;e.callCellHooks(n,v,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=zp(d.text,d.styles,n)+A;var C=zp(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=C+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},A=v.cellWidth||v.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function H0(n,e,t){for(var r=e,s=n.reduce(function(_,z){return _+z.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],h=c.wrappedWidth/s,f=r*h,d=c.width+f,v=t(c),A=d<v?v:d;e-=A-c.width,c.width=A}if(e=Math.round(e*1e10)/1e10,e){var C=n.filter(function(_){return e<0?_.width>t(_):!0});C.length&&(e=H0(C,e,t))}return e}function TR(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var v=o.cells[f.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var A=r.length-s,C=v.rowSpan>A?A:v.rowSpan;e[f.index]={cell:v,left:C,row:o}}}}}function CR(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,c=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(c-=1,c>1&&n.columns[h+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function NR(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var v=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,v+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Wb(d.text,v,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Wb(d.text,v,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,v);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var C=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<C*d.rowSpan?t={height:C,count:d.rowSpan}:t&&t.count>0&&t.height>C&&(C=t.height),C>o.height&&(o.height=C)}}t.count--}}function Wb(n,e,t,r,s){return n.map(function(o){return RR(o,e,t,r,s)})}function RR(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=zp(n,t,r))return n;for(;e<zp(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function hw(n,e){var t=new ph(n),r=IR(e,t.scaleFactor()),s=new wR(e,r);return AR(t,s),t.applyStyles(t.userStyles),s}function IR(n,e){var t=n.content,r=LR(t.columns);if(t.head.length===0){var s=$b(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=$b(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:r0("head",t.head,r,c,o,e),body:r0("body",t.body,r,c,o,e),foot:r0("foot",t.foot,r,c,o,e)}}function r0(n,e,t,r,s,o){var c={},h=e.map(function(f,d){for(var v=0,A={},C=0,_=0,z=0,H=t;z<H.length;z++){var U=H[z];if(c[U.index]==null||c[U.index].left===0)if(_===0){var B=void 0;Array.isArray(f)?B=f[U.index-C-v]:B=f[U.dataKey];var ne={};typeof B=="object"&&!Array.isArray(B)&&(ne=B?.styles||{});var ae=DR(n,U,d,s,r,o,ne),se=new cw(B,ae,n);A[U.dataKey]=se,A[U.index]=se,_=se.colSpan-1,c[U.index]={left:se.rowSpan-1,times:_}}else _--,C++;else c[U.index].left--,_=c[U.index].times,v++}return new uw(f,d,n,A)});return h}function $b(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=jR(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function jR(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function LR(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new SR(s,e,t)})}function DR(n,e,t,r,s,o,c){var h=lR(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Cl({},h.table,h[n],s.styles,f),v=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},A=n==="body"?v:{},C=n==="body"&&t%2===0?Cl({},h.alternateRow,s.alternateRowStyles):{},_=oR(o),z=Cl({},_,d,C,A);return Cl(z,c)}function kR(n,e,t){var r;t===void 0&&(t={});var s=aw(n,e),o=new Map,c=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(C){var _=e.columns.find(function(z){return z.dataKey===C||z.index===C});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),h.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,v=(r=t?.start)!==null&&r!==void 0?r:0;v<e.columns.length;){if(o.has(v)){v++;continue}var A=e.columns[v].wrappedWidth;if(d||s>=A)d=!1,c.push(v),h.push(e.columns[v]),s-=A;else break;v++}return{colIndexes:c,columns:h,lastIndex:v-1}}function MR(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=kR(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function fw(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=r+s.bottom+c;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(C,_){return C+_.height},0);h+=d}var v=new ph(n);(t.pageBreak==="always"||t.startY!=null&&h>v.pageSize().height)&&(pw(v),o.y=s.top),e.callWillDrawPageHooks(v,o);var A=Cl({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?OR(v,e,A,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(C){return Ll(v,e,C,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(C,_){var z=_===e.body.length-1;Fp(v,e,C,z,A,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(C){return Ll(v,e,C,o,e.columns)})),iw(v,e,A,o),e.callEndPageHooks(v,o),e.finalY=o.y,n.lastAutoTable=e,v.applyStyles(v.userStyles)}function OR(n,e,t,r){var s=MR(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,v){n.applyStyles(n.userStyles),v>0?Nf(n,e,t,r,d.columns,!0):Kb(n,e,r,d.columns),PR(n,e,t,r,d.columns),a0(n,e,r,d.columns)});else for(var c=-1,h=s[0],f=function(){var d=c;if(h){n.applyStyles(n.userStyles);var v=h.columns;c>=0?Nf(n,e,t,r,v,!0):Kb(n,e,r,v),d=Qb(n,e,c+1,r,v),a0(n,e,r,v)}var A=d-c;s.slice(1).forEach(function(C){n.applyStyles(n.userStyles),Nf(n,e,t,r,C.columns,!0),Qb(n,e,c+1,r,C.columns,A),a0(n,e,r,C.columns)}),c=d};c<e.body.length-1;)f()}function Kb(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Ll(n,e,o,t,r)})}function PR(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var h=c===e.body.length-1;Fp(n,e,o,h,t,r,s)})}function Qb(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),h=-1;return e.body.slice(t,c).forEach(function(f,d){var v=t+d===e.body.length-1,A=dw(n,e,v,r);f.canEntireRowFit(A,s)&&(Ll(n,e,f,r,s),h=t+d)}),h}function a0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Ll(n,e,o,t,r)})}function zR(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function FR(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,h=t.columns;c<h.length;c++){var f=h[c],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var v=new cw(d.raw,d.styles,d.section);v=Cl(v,d),v.text=[];var A=zR(d,e,r);d.text.length>A&&(v.text=d.text.splice(A,d.text.length));var C=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(C,_),d.contentHeight>=e&&(d.contentHeight=e,v.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),v.contentHeight=v.getContentHeight(C,_),v.contentHeight>o&&(o=v.contentHeight),s[f.index]=v}}var z=new uw(n.raw,-1,n.section,s,!0);z.height=o;for(var H=0,U=t.columns;H<U.length;H++){var f=U[H],v=z.cells[f.index];v&&(v.height=z.height);var d=n.cells[f.index];d&&(d.height=n.height)}return z}function BR(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,h=s-c;e.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>h)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var v=e.hasRowSpan(r.columns),A=e.getMaxCellHeight(r.columns)>h;return A?(v&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||r.settings.rowPageBreak==="avoid")}function Fp(n,e,t,r,s,o,c){var h=dw(n,e,r,o);if(t.canEntireRowFit(h,c))Ll(n,e,t,o,c);else if(BR(n,t,h,e)){var f=FR(t,h,e,n);Ll(n,e,t,o,c),Nf(n,e,s,o,c),Fp(n,e,f,r,s,o,c)}else Nf(n,e,s,o,c),Fp(n,e,t,r,s,o,c)}function Ll(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var h=c[o],f=t.cells[h.index];if(!f){r.x+=h.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,h,r);if(d===!1){r.x+=h.width;continue}VR(n,f,r);var v=f.getTextPos();ew(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,h,r),r.x+=h.width}r.y+=t.height}function VR(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=rw(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),UR(n,e,t,r.lineWidth))}function UR(n,e,t,r){var s,o,c,h;r.top&&(s=t.x,o=t.y,c=t.x+e.width,h=t.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,c,h)),r.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,h=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,c,h)),r.left&&(s=t.x,o=t.y,c=t.x,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,s,o,c,h)),r.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,s,o,c,h));function f(d,v,A,C,_){n.getDocument().setLineWidth(d),n.getDocument().line(v,A,C,_,"S")}}function dw(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function Nf(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(h){return Ll(n,e,h,r,s)}),e.callEndPageHooks(n,r);var c=e.settings.margin;iw(n,e,t,r),pw(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Ll(n,e,h,r,s)}),n.applyStyles(n.userStyles))}function pw(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function qR(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=lw(this,r),o=hw(this,s);return fw(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){ew(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return ph.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){ph.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new ph(this),o=ow(s,e,window,t,!1),c=o.head,h=o.body,f=((r=c[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var s0;function Nl(n,e){var t=lw(n,e),r=hw(n,t);fw(n,r)}try{if(typeof window<"u"&&window){var Xb=window,Zb=Xb.jsPDF||((s0=Xb.jspdf)===null||s0===void 0?void 0:s0.jsPDF);Zb&&qR(Zb)}}catch(n){console.error("Could not apply autoTable plugin",n)}const _h="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3cdefs%3e%3clinearGradient%20id='grad1'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23006CE0;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23004BA0;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3ccircle%20cx='50'%20cy='50'%20r='45'%20fill='url(%23grad1)'%20/%3e%3cpath%20d='M55%2020%20L35%2050%20L50%2050%20L45%2080%20L65%2050%20L50%2050%20Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3c/svg%3e",HR=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],GR=({tickets:n,computers:e})=>{const[t,r]=Ze.useState("tickets"),[s,o]=Ze.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,h]=Ze.useState([]),[f,d]=Ze.useState(!1),v=w=>{h(q=>q.includes(w)?q.filter(I=>I!==w):[...q,w])},A=()=>c.length===0?e||[]:(e||[]).filter(w=>c.includes(w.type)),_=(n||[]).filter(w=>w.status==="closed").filter(w=>{if(!w.closedAt)return!1;try{const q=new Date(w.closedAt).toISOString().split("T")[0];return q>=s.start&&q<=s.end}catch{return!1}}),z=[0,108,224],H=[100,100,100],U=[245,247,250],B=(w,q,I)=>{const N=w.internal.pageSize.width;try{const E=new Image;E.src=_h,w.addImage(E,"PNG",14,10,30,10)}catch{console.warn("Logo not loaded")}w.setFillColor(...z),w.rect(0,0,N,5,"F"),w.setTextColor(0),w.setFontSize(22),w.setFont("helvetica","bold"),w.text("ELSPEC ANDINA",50,20),w.setFontSize(10),w.setTextColor(100),w.setFont("helvetica","normal"),w.text("Soluciones en Calidad de Energa",50,25),w.setDrawColor(200),w.line(14,30,N-14,30),q&&(w.setFontSize(18),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(q,14,42)),I&&(w.setFontSize(11),w.setTextColor(...H),w.setFont("helvetica","normal"),w.text(I,14,49))},ne=(w,q)=>{const I=w.internal.pageSize.width,N=w.internal.pageSize.height,E=w.internal.getNumberOfPages();w.setTextColor(150),w.setFontSize(8),w.text(`Pgina ${q} de ${E}`,I-14,N-10,{align:"right"}),w.text(`Confidencial - Uso Interno - Generado el ${new Date().toLocaleDateString()}`,14,N-10)},ae=(w,q,I,N,E,Q,de,ie)=>{w.setFillColor(...U),w.setDrawColor(220),w.roundedRect(q,I,N,E,3,3,"FD"),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(Q.toUpperCase(),q+5,I+8),w.setFontSize(16),w.setTextColor(...ie),w.setFont("helvetica","bold"),w.text(String(de),q+5,I+20)},se=()=>{const w=new yt,q=w.internal.pageSize.width,I=_.length,N=_.reduce((P,Y)=>(P[Y.priority]=(P[Y.priority]||0)+1,P),{high:0,medium:0,low:0}),E=_.reduce((P,Y)=>(Y.feedback&&Y.feedback.rating&&(P.sum+=Y.feedback.rating,P.count+=1),P),{sum:0,count:0}),Q=E.count>0?(E.sum/E.count).toFixed(1):"N/A";B(w,"Resumen Ejecutivo de Servicios",`Periodo: ${s.start} al ${s.end}`);const de=55,ie=25,he=(q-34)/3;ae(w,14,de,he,ie,"Tickets Resueltos",I,z),ae(w,14+he+3,de,he,ie,"Calificacin Prom.",`${Q} / 5.0`,[245,158,11]),ae(w,14+he*2+6,de,he,ie,"Alta Prioridad",N.high,[220,38,38]);let ee=de+ie+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Detalle de Servicios Prestados:",14,ee),ee+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("A continuacin se presenta el detalle de las solicitudes de soporte tcnico atendidas y cerradas durante el periodo seleccionado. Este informe consolida la gestin de incidentes y requerimientos para garantizar la continuidad operativa.",q-28),14,ee),ee+=20;const Ce=["ID","Ttulo","Solicitante","Prioridad","Fecha Cierre","Calif."],Z=_.map(P=>[P.id?P.id.slice(-6):"",P.title||"",P.author||"",(P.priority||"").toUpperCase(),P.closedAt?new Date(P.closedAt).toLocaleDateString():"",P.feedback?`${P.feedback.rating}/5`:"-"]);Nl(w,{head:[Ce],body:Z,startY:ee,theme:"grid",headStyles:{fillColor:z,textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35}});const k=w.internal.getNumberOfPages();for(let P=1;P<=k;P++)w.setPage(P),P>1&&B(w),ne(w,P);w.addPage(),B(w),ee=40,w.setFontSize(16),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Detalladas de Servicio Tcnico",14,ee),ee+=15,_.forEach(P=>{const Y=w.splitTextToSize(P.description||"",q-40).length,M=P.solution?w.splitTextToSize(P.solution,q-40).length:0,re=60+Y*5+M*5+(P.feedback?30:0);ee+re>280&&(w.addPage(),B(w),ee=40),w.setFillColor(...U),w.setDrawColor(200),w.roundedRect(14,ee,q-28,12,2,2,"F"),w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(0),w.text(`TICKET #${P.id?P.id.slice(-6):"N/A"}`,20,ee+8),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Fecha: ${new Date(P.createdAt).toLocaleDateString()}`,60,ee+8);const fe=P.priority==="high"?[220,38,38]:P.priority==="medium"?[217,119,6]:[22,163,74];w.setFont("helvetica","bold"),w.setTextColor(...fe),w.text(`Prioridad: ${P.priority.toUpperCase()}`,110,ee+8),w.setTextColor(0),w.text(`Solicitante: ${P.author}`,160,ee+8),ee+=18,w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(...z);const _e=w.splitTextToSize(P.title,q-28);w.text(_e,14,ee),ee+=_e.length*6+4,w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(50),w.text("DESCRIPCIN DEL PROBLEMA:",14,ee),ee+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const me=w.splitTextToSize(P.description||"Sin detalles.",q-34);if(w.setFillColor(250),w.rect(14,ee-4,q-28,me.length*5+6,"F"),w.text(me,17,ee),ee+=me.length*5+12,P.solution){w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(22,163,74),w.text("SOLUCIN TCNICA APLICADA:",14,ee),ee+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Me=w.splitTextToSize(P.solution,q-34);if(w.setFillColor(240,253,244),w.rect(14,ee-4,q-28,Me.length*5+6,"F"),w.text(Me,17,ee),ee+=Me.length*5+4,P.recommendation){ee+=4,w.setFont("helvetica","bold"),w.setTextColor(60),w.text("Recomendacin:",17,ee),w.setFont("helvetica","normal");const We=w.splitTextToSize(P.recommendation,q-60);w.text(We,45,ee),ee+=We.length*5+6}else ee+=8}else ee+=5;if(P.feedback){w.setDrawColor(245,158,11),w.setLineWidth(.5),w.line(14,ee,q-14,ee),ee+=6,w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(180,83,9),w.text("EVALUACIN DEL SERVICIO",14,ee+4),w.setFontSize(12);const Me="".repeat(P.feedback.rating)+"".repeat(5-P.feedback.rating);if(w.text(Me,70,ee+4),w.setFontSize(9),P.feedback.comment){w.setFont("helvetica","italic"),w.setTextColor(80);const We=w.splitTextToSize(`"${P.feedback.comment}"`,q-110);w.text(We,100,ee+4),ee+=Math.max(10,We.length*4+10)}else ee+=12}else ee+=10;w.setDrawColor(200),w.setLineWidth(.5),w.line(14,ee-2,q-14,ee-2),ee+=10}),w.save(`Informe_Soporte_${s.end}.pdf`)},Se=()=>{const w=new yt,q=w.internal.pageSize.width,I=A(),N=I.length,E=I.filter(P=>P.status==="Active").length,Q=I.filter(P=>P.status==="Stock").length,de=I.filter(P=>P.status==="Maintenance").length;B(w,"Inventario General de Activos IT",`Fecha de Corte: ${new Date().toLocaleDateString()}`);const ie=55,he=25,ee=(q-34)/4;ae(w,14,ie,ee,he,"Total Equipos",N,z),ae(w,14+ee+2,ie,ee,he,"En Uso (Asignados)",E,[22,163,74]),ae(w,14+ee*2+4,ie,ee,he,"En Stock",Q,[245,158,11]),ae(w,14+ee*3+6,ie,ee,he,"Mantenimiento",de,[220,38,38]);let pe=ie+he+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Estado del Parque Informtico:",14,pe),pe+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Informe detallado de los activos tecnolgicos registrados en el sistema. Incluye equipos de cmputo asignados a usuarios, equipos disponibles en inventario y aquellos que se encuentran en procesos de reparacin o baja.",q-28),14,pe),pe+=20;const Z=I.map(P=>[P.name||`${P.brand} ${P.model}`,P.type||"N/A",P.serial||"N/A",P.assignedTo||"---",P.location||"N/A",P.status==="Active"?"EN USO":P.status==="Stock"?"DISPONIBLE":P.status.toUpperCase()]);Nl(w,{head:[["Equipo / Modelo","Tipo","Serial","Asignado A","Ubicacin","Estado","Fallas"]],body:Z.map(P=>{const M=I.find(re=>re.serial===P[2]||re.name===P[0])?.hasFault?"S":"NO";return[...P,M]}),startY:pe,theme:"striped",headStyles:{fillColor:z,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35}}),w.addPage(),B(w),pe=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Tcnicas Resumidas",14,pe),pe+=10,I.forEach((P,Y)=>{pe+40>280&&(w.addPage(),B(w),pe=40),w.setFillColor(250,250,250),w.setDrawColor(220),w.roundedRect(14,pe,q-28,35,2,2,"FD"),w.setFontSize(12),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${P.brand} ${P.model}`.toUpperCase(),25,pe+10),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(`Serial: ${P.serial}`,25,pe+16),w.text(`Tipo: ${P.type}`,25,pe+22),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Especificaciones:",90,pe+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`CPU: ${P.processor||"N/A"}`,90,pe+16),w.text(`RAM: ${P.ram||"N/A"} | HDD: ${P.storage||"N/A"}`,90,pe+22),w.text(`OS: ${P.os||"N/A"}`,90,pe+28),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Asignacin:",150,pe+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Usuario: ${P.assignedTo||"---"}`,150,pe+16),w.text(`Ubicacin: ${P.location||"N/A"}`,150,pe+22);const M=P.status==="Active"?[22,163,74]:P.status==="Stock"?[245,158,11]:[220,38,38];w.setTextColor(...M),w.setFont("helvetica","bold"),w.text(P.status.toUpperCase(),150,pe+28),P.hasFault&&(w.setFillColor(254,242,242),w.setDrawColor(220,38,38),w.roundedRect(25,pe+32,q-50,12,1,1,"FD"),w.setFontSize(8),w.setTextColor(185,28,28),w.setFont("helvetica","bold"),w.text("REPORTE DE FALLA ACTIV0:",28,pe+37),w.setFont("helvetica","normal"),w.text(P.faultDescription||"Sin detalles",28,pe+41),pe+=15),pe+=40});const k=w.internal.getNumberOfPages();for(let P=1;P<=k;P++)w.setPage(P),P>1&&B(w),ne(w,P);w.save(`Inventario_IT_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},je=()=>{const w=new yt,q=w.internal.pageSize.width,I=A(),N=Y=>{if(!Y.maintenanceLog||Y.maintenanceLog.length===0)return{status:"Pendiente",color:[100,100,100]};const M=new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date),re=new Date().getFullYear();let fe;M.getFullYear()<re?fe=new Date(re,6,15):M.getMonth()<=6?fe=new Date(re,10,15):fe=new Date(re+1,6,15);const me=Math.ceil((fe-new Date)/(1e3*60*60*24));return me<0?{status:"Vencido",color:[220,38,38]}:me<=30?{status:"Prximo",color:[234,179,8]}:{status:"Al Da",color:[22,163,74]}},E=I.length,Q=I.filter(Y=>N(Y).status==="Vencido").length,de=I.filter(Y=>N(Y).status==="Prximo").length,ie=I.filter(Y=>N(Y).status==="Al Da").length;B(w,"Informe de Mantenimiento Preventivo",`Fecha de Generacin: ${new Date().toLocaleDateString()}`);const he=55,ee=25,pe=(q-34)/4;ae(w,14,he,pe,ee,"Total Equipos",E,z),ae(w,14+pe+2,he,pe,ee,"Al Da (OK)",ie,[22,163,74]),ae(w,14+pe*2+4,he,pe,ee,"Atencin Req.",de,[234,179,8]),ae(w,14+pe*3+6,he,pe,ee,"Vencidos / Crtico",Q,[220,38,38]);let Ce=he+ee+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Anlisis de Salud del Parque Informtico:",14,Ce),Ce+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Este informe presenta el estado actual del cronograma de mantenimiento preventivo. Se identifican los equipos que requieren atencin inmediata (Vencidos) y aquellos prximos a su fecha de servicio, permitiendo una planificacin eficiente de los recursos tcnicos.",q-28),14,Ce),Ce+=20;const k=I.map(Y=>{const M=N(Y),re=Y.maintenanceLog?.length>0?new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date).toLocaleDateString():"Sin Registros";return[Y.name||`${Y.brand} ${Y.model}`,Y.serial||"N/A",Y.assignedTo||"Stock",re,M.status.toUpperCase()]});Nl(w,{head:[["Equipo","Serial","Usuario / Ubicacin","ltimo Mant.","Estado Actual"]],body:k,startY:Ce,theme:"grid",headStyles:{fillColor:z,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:U},margin:{top:35},didParseCell:Y=>{if(Y.section==="body"&&Y.column.index===4){const M=Y.cell.raw;M==="VENCIDO"&&(Y.cell.styles.textColor=[220,38,38]),M==="PRXIMO"&&(Y.cell.styles.textColor=[217,119,6]),M==="AL DA"&&(Y.cell.styles.textColor=[22,163,74])}}}),w.addPage(),B(w),Ce=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Historial de Mantenimientos por Equipo",14,Ce),Ce+=15,I.forEach((Y,M)=>{const re=Y.maintenanceLog?.length||0,fe=35+re*10;Ce+fe>280&&(w.addPage(),B(w),Ce=40),w.setFillColor(245,245,245),w.rect(14,Ce,q-28,8,"F"),w.setFontSize(10),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${Y.brand} ${Y.model} (${Y.serial})`,16,Ce+5.5);const _e=N(Y);w.setTextColor(..._e.color),w.text(_e.status.toUpperCase(),q-30,Ce+5.5,{align:"right"}),Ce+=12,re>0?Y.maintenanceLog.slice(-3).forEach(Me=>{w.setFontSize(9),w.setTextColor(80),w.setFont("helvetica","normal");const We=new Date(Me.createdAt||Me.date).toLocaleDateString();w.text(` ${We}`,20,Ce),w.text(`${Me.activity} (Tc: ${Me.technician||"Admin"})`,50,Ce),Ce+=6}):(w.setFontSize(9),w.setTextColor(150),w.setFont("helvetica","italic"),w.text("   Sin registros de mantenimiento.",20,Ce),Ce+=6),Ce+=8});const P=w.internal.getNumberOfPages();for(let Y=1;Y<=P;Y++)w.setPage(Y),Y>1&&B(w),ne(w,Y);w.save(`Plan_Mantenimiento_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},$=_.reduce((w,q)=>(q.feedback&&q.feedback.rating&&(w.sum+=q.feedback.rating,w.count+=1),w),{sum:0,count:0}),O=$.count>0?($.sum/$.count).toFixed(1):"N/A";return m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px",flexWrap:"wrap",gap:"20px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[m.jsx("img",{src:_h,alt:"ELSPEC Logo",style:{height:"50px"}}),m.jsxs("div",{children:[m.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ELSPEC ANDINA"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[m.jsx(zs,{size:16,color:"var(--primary)"})," Centro de Inteligencia y Reportes IT"]})]})]}),m.jsx("div",{style:{position:"relative",minWidth:"280px"},children:m.jsxs("select",{value:t,onChange:w=>r(w.target.value),style:{width:"100%",padding:"12px 20px",background:"rgba(0,0,0,0.3)",border:"1px solid var(--primary)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",outline:"none",fontWeight:"bold"},children:[m.jsx("option",{value:"tickets",style:{background:"#1e293b"},children:" Informe de Asistencia Tcnica"}),m.jsx("option",{value:"assets",style:{background:"#1e293b"},children:" Inventario General de Activos"}),m.jsx("option",{value:"maintenance",style:{background:"#1e293b"},children:" Estado de Mantenimiento"})]})})]}),t==="tickets"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[m.jsxs("div",{style:{background:"rgba(0, 108, 224, 0.1)",border:"1px solid rgba(0, 108, 224, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:_.length}),m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tickets en Rango"})]}),m.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--success)"},children:_.filter(w=>w.status==="closed").length}),m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Resueltos"})]}),m.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--warning)"},children:O}),m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Satisfaccin (1-5)"})]})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)"},children:[m.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"end",flexWrap:"wrap"},children:[m.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(jp,{size:14})," Fecha Inicio"]}),m.jsx("input",{type:"date",value:s.start,onChange:w=>o({...s,start:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(jp,{size:14})," Fecha Fin"]}),m.jsx("input",{type:"date",value:s.end,onChange:w=>o({...s,end:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),m.jsxs("button",{onClick:se,disabled:_.length===0,className:"btn-primary",style:{height:"48px",padding:"0 30px",display:"flex",alignItems:"center",gap:"10px",background:_.length===0?"rgba(255,255,255,0.05)":"var(--primary)",cursor:_.length===0?"not-allowed":"pointer"},children:[m.jsx(Ef,{size:20})," Generar Informe (PDF)"]})]}),_.length===0&&m.jsx("p",{style:{marginTop:"20px",color:"var(--warning)",fontSize:"0.9rem",textAlign:"center"},children:"* No se encontraron tickets cerrados en el rango de fechas seleccionado."})]})]}),t==="assets"&&m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[m.jsx(n1,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),m.jsx("h3",{style:{marginBottom:"10px"},children:"Inventario Completo de Activos IT"}),m.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Genera un reporte detallado de todo el hardware registrado en el sistema."}),m.jsxs("div",{style:{marginBottom:"25px",maxWidth:"400px",margin:"0 auto 25px auto",position:"relative"},children:[m.jsxs("button",{onClick:()=>d(!f),className:"btn-secondary",style:{width:"100%",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"10px",cursor:"pointer"},children:[m.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(a4,{size:16}),c.length===0?"Incluir: Todos los Tipos":`Incluir: ${c.length} seleccionados`]}),m.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:""})]}),f&&m.jsxs("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"10px",padding:"15px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",textAlign:"left",maxHeight:"300px",overflowY:"auto"},children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Seleccione Tipos:"}),m.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>h([]),children:"Limpiar Filtros"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:HR.map(w=>m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px",cursor:"pointer",fontSize:"0.9rem",borderRadius:"5px",background:c.includes(w)?"rgba(0, 108, 224, 0.1)":"transparent"},children:[m.jsx("input",{type:"checkbox",checked:c.includes(w),onChange:()=>v(w)}),w]},w))})]})]}),m.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"15px 30px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[m.jsx(Ef,{size:20})," Descargar Reporte de Inventario"]}),c.length>0&&m.jsxs("p",{style:{marginTop:"10px",fontSize:"0.85rem",color:"var(--primary)"},children:["* Filtrado por: ",c.join(", ")]})]}),t==="maintenance"&&m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[m.jsx(Dm,{size:48,color:"var(--warning)",style:{marginBottom:"20px"}}),m.jsx("h3",{style:{marginBottom:"10px"},children:"Estado de Mantenimiento Preventivo"}),m.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Informe de salud del parque informtico, identificando equipos crticos, vencidos y prximos a mantenimiento."}),m.jsxs("button",{onClick:je,className:"btn-primary",style:{background:"var(--warning)",color:"black",padding:"15px 30px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[m.jsx(Ef,{size:20})," Descargar Informe de Salud (PDF)"]})]})]})},YR=["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M1 Pro","Apple M1 Max","Apple M2","Apple M2 Pro","Apple M2 Max","Apple M3","Apple M3 Pro","Apple M3 Max","Intel Xeon","AMD Threadripper","Otro"],WR=["4GB","8GB","12GB","16GB","24GB","32GB","64GB","128GB"],$R=["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD","500GB HDD","1TB HDD","2TB HDD","4TB HDD"],Jb=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],ex=["Laptop","Desktop","Servidor","Tablet","Smartphone","Otro"],KR=()=>{const{computers:n,addComputer:e,updateComputer:t,deleteComputer:r,addMaintenanceLog:s}=Mm(),{users:o}=Yf(),[c,h]=Ze.useState(""),[f,d]=Ze.useState([]),[v,A]=Ze.useState(!1),[C,_]=Ze.useState(null),[z,H]=Ze.useState(null),[U,B]=Ze.useState({activity:"",technician:""}),[ne,ae]=Ze.useState({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),se=N=>{ae(N),_(N)},Se=()=>{ae({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),_({id:"new"})},je=async N=>{N.preventDefault(),C.id==="new"?await e({...ne,createdAt:new Date().toISOString()}):await t(C.id,ne),_(null)},$=N=>{window.confirm("Est seguro de eliminar este equipo?")&&r(N)},O=async N=>{N.preventDefault(),z&&U.activity&&(await s(z.id,U),H(null),B({activity:"",technician:""}))},w=N=>{const E=new yt,Q=[0,108,224];try{const ee=new Image;ee.src=_h,E.addImage(ee,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("HOJA DE VIDA",150,18,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(1),E.line(14,30,196,30),E.setDrawColor(200),E.setFillColor(245,247,250),E.roundedRect(14,35,182,35,3,3,"FD"),E.setFontSize(10),E.setTextColor(100),E.text("TIPO DE EQUIPO",20,42),E.text("MARCA",80,42),E.text("MODELO",140,42),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(N.type.toUpperCase(),20,48),E.text(N.brand.toUpperCase(),80,48),E.text(N.model.toUpperCase(),140,48),E.setFontSize(10),E.setTextColor(100),E.setFont("helvetica","normal"),E.text("SERIAL",20,58),E.text("ESTADO ACTUAL",80,58),E.text("FECHA COMPRA",140,58),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(N.serial||"N/A",20,64),E.text(N.status.toUpperCase(),80,64),E.text(N.purchaseDate||"N/A",140,64),E.setFontSize(14),E.setTextColor(...Q),E.text("Especificaciones Tcnicas",14,85);const de=[["Tipo de Equipo",N.type],["Marca",N.brand],["Modelo",N.model],["Serial",N.serial]];ex.includes(N.type)&&de.push(["Procesador",N.processor],["Memoria RAM",N.ram],["Almacenamiento",N.storage],["Sistema Operativo",N.os]),de.push(["Ubicacin",N.location],["Asignado a",N.assignedTo],["Estado Funcional",N.hasFault?"CON FALLAS / AVERAS":"Operativo Correctamente"]),N.hasFault&&de.push(["Descripcin de Falla",N.faultDescription||"Sin detalles registrados"]),N.details&&de.push(["Detalles Adicionales",N.details]),Nl(E,{body:de,startY:90,theme:"grid",styles:{fontSize:10,cellPadding:5},columnStyles:{0:{fontStyle:"bold",width:60,fillColor:[240,240,240]},1:{textColor:ee=>ee.raw[0]==="Estado Funcional"&&N.hasFault?[220,38,38]:[0,0,0]}},didParseCell:ee=>{ee.section==="body"&&ee.row.raw[0]==="Estado Funcional"&&N.hasFault&&(ee.cell.styles.textColor=[220,38,38],ee.cell.styles.fontStyle="bold")}});const ie=E.lastAutoTable.finalY+15;E.setFontSize(14),E.setTextColor(...Q),E.text("Historial de Mantenimientos",14,ie);const he=(N.maintenanceLog||[]).map(ee=>[new Date(ee.createdAt).toLocaleDateString(),ee.activity,ee.technician||"Admin"]);he.length>0?Nl(E,{head:[["Fecha","Actividad Realizada","Tcnico"]],body:he,startY:ie+5,theme:"striped",headStyles:{fillColor:Q}}):(E.setFontSize(10),E.setTextColor(100),E.text("No hay registros de mantenimiento.",14,ie+10)),E.setFontSize(8),E.setTextColor(150),E.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Gestin ELSPEC ANDINA`,105,290,{align:"center"}),E.save(`HojaVida_${N.serial||"Equipo"}.pdf`)},q=n.filter(N=>{const E=(N.assignedTo?.toLowerCase()||"").includes(c.toLowerCase())||(N.serial?.toLowerCase()||"").includes(c.toLowerCase())||(N.brand?.toLowerCase()||"").includes(c.toLowerCase()),Q=f.length===0||f.includes(N.type);return E&&Q}),I=N=>{d(E=>E.includes(N)?E.filter(Q=>Q!==N):[...E,N])};return m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[m.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(n1,{color:"var(--primary)",size:24})," Inventario General de Activos"]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsxs("div",{style:{position:"relative"},children:[m.jsxs("button",{onClick:()=>A(!v),className:"btn-secondary",style:{padding:"10px 15px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"8px",cursor:"pointer"},children:[m.jsx(I0,{size:16}),f.length===0?"Todos los Tipos":`${f.length} Filtros`]}),v&&m.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",width:"200px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"Filtrar por Tipo:"}),m.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>d([]),children:"Limpiar"})]}),Jb.map(N=>m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",cursor:"pointer",fontSize:"0.9rem"},children:[m.jsx("input",{type:"checkbox",checked:f.includes(N),onChange:()=>I(N)}),N]},N))]})]}),m.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"10px 20px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(rc,{size:18})," Nuevo Equipo"]})]})]}),C&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",padding:"30px",border:"1px solid var(--primary)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:[m.jsx("h4",{style:{marginTop:0,marginBottom:"25px",fontSize:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"15px"},children:C.id==="new"?"Registrar Nuevo Equipo":"Editar Informacin del Equipo"}),m.jsxs("form",{onSubmit:je,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Tipo"}),m.jsx("select",{value:ne.type,onChange:N=>ae({...ne,type:N.target.value}),children:Jb.map(N=>m.jsx("option",{value:N,children:N},N))})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Marca"}),m.jsx("input",{required:!0,value:ne.brand,onChange:N=>ae({...ne,brand:N.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Modelo"}),m.jsx("input",{required:!0,value:ne.model,onChange:N=>ae({...ne,model:N.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Serial / Service Tag"}),m.jsx("input",{required:!0,value:ne.serial,onChange:N=>ae({...ne,serial:N.target.value})})]}),ex.includes(ne.type)&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Procesador"}),m.jsx("input",{list:"processor-list",value:ne.processor,onChange:N=>ae({...ne,processor:N.target.value})}),m.jsx("datalist",{id:"processor-list",children:YR.map(N=>m.jsx("option",{value:N},N))})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"RAM"}),m.jsx("input",{list:"ram-list",value:ne.ram,onChange:N=>ae({...ne,ram:N.target.value})}),m.jsx("datalist",{id:"ram-list",children:WR.map(N=>m.jsx("option",{value:N},N))})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Almacenamiento"}),m.jsx("input",{list:"storage-list",value:ne.storage,onChange:N=>ae({...ne,storage:N.target.value})}),m.jsx("datalist",{id:"storage-list",children:$R.map(N=>m.jsx("option",{value:N},N))})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Sistema Operativo"}),m.jsx("input",{value:ne.os,onChange:N=>ae({...ne,os:N.target.value})})]})]}),m.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[m.jsx("label",{children:"Observaciones / Detalles Tcnicos Adicionales (IP, MAC, Puertos, etc.)"}),m.jsx("textarea",{rows:"2",value:ne.details||"",onChange:N=>ae({...ne,details:N.target.value}),placeholder:"Ej: Direccin IP fija, Direccin MAC, Nmero de Puertos..."})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Asignado A (Usuario/Area)"}),m.jsxs("select",{value:ne.assignedTo,onChange:N=>{const E=N.target.value;ae({...ne,assignedTo:E,status:E?"Active":"Stock"})},children:[m.jsx("option",{value:"",children:"-- Disponible / En Stock --"}),o&&o.map(N=>m.jsx("option",{value:N.username,children:N.name||N.username},N.id))]})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Ubicacin"}),m.jsx("input",{value:ne.location,onChange:N=>ae({...ne,location:N.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Fecha Compra"}),m.jsx("input",{type:"date",value:ne.purchaseDate,onChange:N=>ae({...ne,purchaseDate:N.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Estado"}),m.jsxs("select",{value:ne.status,onChange:N=>ae({...ne,status:N.target.value}),children:[m.jsx("option",{value:"Active",children:"En Uso (Activo)"}),m.jsx("option",{value:"Stock",children:"Disponible (Stock)"}),m.jsx("option",{value:"Maintenance",children:"En Mantenimiento"}),m.jsx("option",{value:"Retired",children:"Retirado / De Baja"})]})]}),m.jsxs("div",{style:{gridColumn:"1 / -1",background:"rgba(255, 0, 0, 0.05)",padding:"15px",borderRadius:"10px",border:"1px solid rgba(255, 0, 0, 0.2)"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:ne.hasFault?"15px":"0"},children:[m.jsx("input",{type:"checkbox",checked:ne.hasFault,onChange:N=>ae({...ne,hasFault:N.target.checked}),style:{width:"20px",height:"20px"}}),m.jsx("span",{style:{fontWeight:"bold",color:ne.hasFault?"var(--danger)":"inherit"},children:"El equipo presenta fallas o averas?"})]}),ne.hasFault&&m.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[m.jsx("label",{children:"Descripcin de la Falla / Avera"}),m.jsx("textarea",{required:ne.hasFault,value:ne.faultDescription,onChange:N=>ae({...ne,faultDescription:N.target.value}),placeholder:"Describa el problema tcnico, dao fsico o mal funcionamiento...",rows:"3",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--danger)"}})]})]}),m.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"15px",marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[m.jsx("button",{type:"button",onClick:()=>_(null),style:{flex:1,background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancelar"}),m.jsxs("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",fontSize:"1.1rem"},children:[m.jsx(YT,{size:18})," Guardar Cambios"]})]})]})]})}),z&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{width:"400px",padding:"25px",border:"1px solid var(--primary)"},children:[m.jsx("h4",{style:{marginTop:0},children:"Registrar Mantenimiento"}),m.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Para: ",z.brand," ",z.model]}),m.jsxs("form",{onSubmit:O,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Actividad Realizada"}),m.jsx("textarea",{required:!0,rows:"4",value:U.activity,onChange:N=>B({...U,activity:N.target.value}),placeholder:"Ej: Limpieza fsica, Actualizacin de Drivers..."})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Tcnico Responsable"}),m.jsx("input",{value:U.technician,onChange:N=>B({...U,technician:N.target.value}),placeholder:"Nombre del tcnico"})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Registrar"}),m.jsx("button",{type:"button",onClick:()=>H(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white"},children:"Cancelar"})]})]})]})}),m.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[m.jsx("input",{type:"text",placeholder:"Buscar por serial, marca o usuario...",value:c,onChange:N=>h(N.target.value),style:{width:"100%",padding:"12px 15px 12px 45px",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),m.jsx(I0,{size:20,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),m.jsxs("div",{style:{display:"grid",gap:"15px"},children:[q.map(N=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[m.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsxs("h4",{style:{margin:0,fontSize:"1.1rem"},children:[N.brand," ",N.model]}),m.jsx("span",{style:{fontSize:"0.7rem",padding:"3px 8px",borderRadius:"10px",background:N.status==="Active"?"rgba(16, 185, 129, 0.2)":N.status==="Stock"?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:N.status==="Active"?"var(--success)":N.status==="Stock"?"var(--primary)":"var(--danger)"},children:N.status==="Active"?"En Uso":N.status==="Stock"?"Disponible":N.status})]}),m.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginTop:"5px"},children:[m.jsx(l4,{size:14,style:{display:"inline",marginRight:"5px"}})," ",N.assignedTo||"Sin Asignar"," | Serial: ",N.serial]}),N.hasFault&&m.jsxs("div",{style:{fontSize:"0.9rem",color:"#7f1d1d",background:"#fecaca",padding:"8px 12px",borderRadius:"8px",marginTop:"10px",display:"flex",alignItems:"start",gap:"8px",border:"1px solid #f87171"},children:[m.jsx(Dm,{size:16,style:{marginTop:"2px",flexShrink:0}}),m.jsxs("div",{children:[m.jsx("strong",{children:"Falla Reportada:"}),m.jsx("div",{style:{marginTop:"2px"},children:N.faultDescription})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("button",{onClick:()=>w(N),title:"Descargar Hoja de Vida",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:m.jsx(zs,{size:18})}),m.jsx("button",{onClick:()=>H(N),title:"Registrar Mantenimiento",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:m.jsx(_T,{size:18})}),m.jsx("button",{onClick:()=>se(N),title:"Editar",style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:m.jsx(Su,{size:18})}),m.jsx("button",{onClick:()=>$(N.id),title:"Eliminar",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:m.jsx(Au,{size:18})})]})]},N.id)),q.length===0&&m.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"No se encontraron equipos registrados."})]})]})},QR=()=>{const{computers:n,addMaintenanceLog:e}=Mm(),[t,r]=Ze.useState(null),[s,o]=Ze.useState({activity:"",technician:""}),[c,h]=Ze.useState(""),f=async A=>{A.preventDefault(),t&&s.activity&&(await e(t.id,s),r(null),o({activity:"",technician:""}))},d=A=>{const C=new Date;let _,z;if(!A.maintenanceLog||A.maintenanceLog.length===0){const ne=C.getFullYear(),ae=new Date(ne,6,15),se=new Date(ne,10,15);C<ae?_=ae:C<se?_=se:_=new Date(ne+1,6,15),z=new Date(A.purchaseDate||A.createdAt)}else{const ne=A.maintenanceLog[A.maintenanceLog.length-1],ae=ne.createdAt||ne.date;z=new Date(ae);const se=C.getFullYear();z.getFullYear()<se?(_=new Date(se,6,15),C>_&&(_=new Date(se,10,15)),C>_&&(_=new Date(se+1,6,15))):z.getMonth()<=6?(_=new Date(se,10,15),C>_&&(_=new Date(se+1,6,15))):_=new Date(se+1,6,15)}const H=_-C,U=Math.ceil(H/(1e3*60*60*24));let B="ok";return U<0?B="overdue":U<=30&&(B="warning"),{nextDate:_,diffDays:U,status:B,lastDate:z}},v=n.map(A=>({...A,...d(A)})).filter(A=>(A.brand?.toLowerCase()||"").includes(c.toLowerCase())||(A.model?.toLowerCase()||"").includes(c.toLowerCase())||(A.serial?.toLowerCase()||"").includes(c.toLowerCase())).sort((A,C)=>A.diffDays-C.diffDays);return m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(jp,{color:"var(--primary)",size:24})," Cronograma de Mantenimiento Preventivo"]}),m.jsxs("div",{style:{position:"relative",width:"300px"},children:[m.jsx("input",{type:"text",placeholder:"Buscar equipo...",value:c,onChange:A=>h(A.target.value),style:{width:"100%",padding:"10px 15px 10px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),m.jsx(I0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]})]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)"},children:[m.jsx("th",{style:{padding:"15px"},children:"Equipo / Serial"}),m.jsx("th",{style:{padding:"15px"},children:"ltimo Mantenimiento"}),m.jsx("th",{style:{padding:"15px"},children:"Prximo Mantenimiento"}),m.jsx("th",{style:{padding:"15px"},children:"Estado Actual"}),m.jsx("th",{style:{padding:"15px"},children:"Accin"})]})}),m.jsx("tbody",{children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontraron equipos para el criterio de bsqueda."})}):v.map(A=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[m.jsxs("td",{style:{padding:"15px"},children:[m.jsxs("div",{style:{fontWeight:"bold"},children:[A.brand," ",A.model]}),m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",gap:"5px",alignItems:"center"},children:m.jsx("span",{style:{color:"var(--primary)"},children:A.serial})})]}),m.jsx("td",{style:{padding:"15px",color:"var(--text-muted)"},children:A.lastDate.toLocaleDateString()}),m.jsx("td",{style:{padding:"15px",fontWeight:"bold"},children:A.nextDate.toLocaleDateString()}),m.jsxs("td",{style:{padding:"15px"},children:[A.status==="overdue"&&m.jsxs("span",{style:{color:"var(--danger)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(239, 68, 68, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[m.jsx(o4,{size:16})," Vencido (",Math.abs(A.diffDays)," das)"]}),A.status==="warning"&&m.jsxs("span",{style:{color:"var(--warning)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(245, 158, 11, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[m.jsx(wu,{size:16})," Atencin (",A.diffDays," das)"]}),A.status==="ok"&&m.jsxs("span",{style:{color:"var(--success)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[m.jsx(Uo,{size:16})," OK (",A.diffDays," das)"]})]}),m.jsx("td",{style:{padding:"15px"},children:m.jsx("button",{onClick:()=>r(A),className:"btn-primary",style:{padding:"8px 15px",fontSize:"0.85rem"},children:"Registrar"})})]},A.id))})]})}),t&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"30px",border:"1px solid var(--primary)"},children:[m.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(Uo,{size:24,color:"var(--success)"})," Registrar Mantenimiento"]}),m.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:["Equipo: ",m.jsxs("span",{style:{color:"white",fontWeight:"bold"},children:[t.brand," ",t.model]})," ",m.jsx("br",{}),"Serial: ",t.serial]}),m.jsxs("form",{onSubmit:f,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Actividad Realizada"}),m.jsx("textarea",{required:!0,rows:"4",value:s.activity,onChange:A=>o({...s,activity:A.target.value}),placeholder:"Detalle el trabajo realizado (Ej: Limpieza interna, Cambio de pasta trmica, Formateo...)"})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Tcnico Responsable"}),m.jsx("input",{required:!0,value:s.technician,onChange:A=>o({...s,technician:A.target.value}),placeholder:"Nombre del tcnico"})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"12px"},children:"Guardar Registro"}),m.jsx("button",{type:"button",onClick:()=>r(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},XR=({computers:n,currentUser:e})=>{const t=n.filter(s=>s.assignedTo===e.username),r=s=>{const o=new yt,c=[0,108,224];try{const v=new Image;v.src=_h,o.addImage(v,"SVG",14,10,40,15)}catch{console.warn("Logo error")}o.setFontSize(18),o.setTextColor(0),o.setFont("helvetica","bold"),o.text("HOJA DE VIDA",150,18,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),o.setDrawColor(0,108,224),o.setLineWidth(1),o.line(14,30,196,30),o.setDrawColor(200),o.setFillColor(245,247,250),o.roundedRect(14,35,182,35,3,3,"FD"),o.setFontSize(10),o.setTextColor(100),o.text("TIPO DE EQUIPO",20,42),o.text("MARCA",80,42),o.text("MODELO",140,42),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text((s.type||"N/A").toUpperCase(),20,48),o.text((s.brand||"N/A").toUpperCase(),80,48),o.text((s.model||"N/A").toUpperCase(),140,48),o.setFontSize(10),o.setTextColor(100),o.setFont("helvetica","normal"),o.text("SERIAL",20,58),o.text("ESTADO ACTUAL",80,58),o.text("FECHA COMPRA",140,58),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text(s.serial||"N/A",20,64),o.text((s.status||"N/A").toUpperCase(),80,64),o.text(s.purchaseDate||"N/A",140,64),o.setFontSize(14),o.setTextColor(...c),o.text("Especificaciones Tcnicas",14,85);const h=[["Procesador",s.processor],["Memoria RAM",s.ram],["Almacenamiento",s.storage],["Sistema Operativo",s.os],["Ubicacin",s.location],["Asignado a",s.assignedTo]];let f=95;if(o.setFontSize(10),o.setTextColor(0),o.setFont("helvetica","normal"),h.forEach(([v,A])=>{o.setFillColor(250),o.rect(14,f-4,182,8,"F"),o.setFont("helvetica","bold"),o.text(v+":",20,f+1),o.setFont("helvetica","normal"),o.text(A||"N/A",80,f+1),f+=10}),f+=10,o.setFontSize(14),o.setTextColor(...c),o.text("Historial de Mantenimientos",14,f),f+=10,s.maintenanceLog&&s.maintenanceLog.length>0){const v=s.maintenanceLog.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.activity,A.technician||"N/A"]);o.autoTable({startY:f,head:[["Fecha","Actividad Realizada","Tcnico"]],body:v,theme:"grid",headStyles:{fillColor:c,textColor:255},styles:{fontSize:9}})}else o.setFontSize(10),o.setTextColor(100),o.text("No hay registros de mantenimiento.",14,f+5);const d=o.internal.getNumberOfPages();for(let v=1;v<=d;v++)o.setPage(v),o.setFontSize(8),o.setTextColor(150),o.text(`Generado el: ${new Date().toLocaleDateString()} - ELSPEC ANDINA S.A.S`,105,290,{align:"center"});o.save(`HojaDeVida_${s.brand}_${s.model}.pdf`)};return m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("h3",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(n1,{color:"var(--primary)",size:24})," Mis Equipos Asignados"]}),t.length===0?m.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"15px"},children:m.jsx("p",{style:{color:"var(--text-muted)"},children:"No tienes equipos de cmputo asignados actualmente."})}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.map(s=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-color)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s",cursor:"default"},onMouseEnter:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseLeave:o=>o.currentTarget.style.transform="translateY(0)",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[m.jsxs("div",{children:[m.jsxs("h4",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:[s.brand," ",s.model]}),m.jsx("span",{style:{fontSize:"0.8rem",color:"var(--primary)",fontWeight:"bold"},children:s.type})]}),m.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",padding:"5px 10px",borderRadius:"8px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[m.jsx(Uo,{size:14})," Asignado"]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Serial:"}),m.jsx("br",{}),s.serial]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Procesador:"}),m.jsx("br",{}),s.processor]}),m.jsxs("div",{children:[m.jsx("strong",{children:"RAM:"}),m.jsx("br",{}),s.ram]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Almacenamiento:"}),m.jsx("br",{}),s.storage]})]}),m.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px",marginTop:"auto"},children:m.jsxs("button",{onClick:()=>r(s),className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[m.jsx(zs,{size:18})," Descargar Hoja de Vida"]})})]},s.id))})]})},ZR=()=>{const[n,e]=Ze.useState([]);return Ze.useEffect(()=>{const s=nn.subscribeIndicators(o=>{e(o)});return()=>{typeof s=="function"&&s()}},[]),{indicators:n,addIndicator:s=>nn.addIndicator(s),deleteIndicator:s=>nn.deleteIndicator(s)}},JR=({tickets:n})=>{const{indicators:e,addIndicator:t,deleteIndicator:r}=ZR(),[s,o]=Ze.useState("all"),[c,h]=Ze.useState([]),[f,d]=Ze.useState([]),[v,A]=Ze.useState(!1),[C,_]=Ze.useState({name:"",target:"",current:"",unit:"%"}),[z,H]=Ze.useState(null),[U,B]=Ze.useState(null),[ne,ae]=Ze.useState([]),[se,Se]=Ze.useState(!1),je=E=>{E.preventDefault(),t({name:C.name,target:parseFloat(C.target),current:parseFloat(C.current),unit:C.unit}),_({name:"",target:"",current:"",unit:"%"}),A(!1)},$=E=>{window.confirm("Eliminar este indicador?")&&r(E)},O={high:24,medium:48,low:72};Ze.useEffect(()=>{w()},[n,s]),Ze.useEffect(()=>{const E=nn.subscribeSGIProcesses(Q=>{d(Q)});return()=>E&&E()},[]);const w=()=>{if(!n)return;const E=new Date,Q=n.filter(de=>{if(s==="all")return!0;const ie=new Date(de.createdAt),he=Math.abs(E-ie),ee=Math.ceil(he/(1e3*60*60*24));return s==="week"?ee<=7:s==="month"?ee<=30:s==="year"?ee<=365:!0});h(Q)},I=(()=>{if(!c.length)return null;let E=0,Q=0,de=0,ie=0;const he=c.map(Ce=>{const Z=new Date(Ce.createdAt),k=Ce.closedAt?new Date(Ce.closedAt):new Date,P=Ce.status==="closed",M=(k-Z)/(1e3*60*60),re=O[Ce.priority]||48,fe=M<=re,_e=fe?"ontime":"overdue";return P&&(E++,de+=M,ie++,fe&&Q++),{...Ce,durationHours:M.toFixed(1),isCompliant:fe,slaStatus:_e,slaLimit:re}}),ee=E>0?(Q/E*100).toFixed(1):0,pe=ie>0?(de/ie).toFixed(1):0;return{total:c.length,closed:E,open:c.length-E,complianceRate:ee,avgResolutionTime:pe,ticketsWithMetrics:he}})(),N=()=>{const E=new yt,Q=[0,108,224];try{const he=new Image;he.src=_h,E.addImage(he,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("INFORME DE GESTIN (SGI)",105,20,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text(`Generado: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,105,26,{align:"center"}),E.text(`Filtro: ${s==="all"?"Todo el Histrico":s==="week"?"ltimos 7 das":s==="month"?"ltimo Mes":"ltimo Ao"}`,105,31,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(.5),E.line(14,35,196,35);let de=40;if(e&&e.length>0){E.setFontSize(14),E.setTextColor(...Q),E.text("Indicadores Personalizados / Metas",14,de+10);const he=e.map(ee=>[ee.name,`${ee.target} ${ee.unit}`,`${ee.current} ${ee.unit}`,ee.current>=ee.target?"CUMPLE":"NO CUMPLE"]);Nl(E,{head:[["Indicador","Meta","Actual","Estado"]],body:he,startY:de+15,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:10},didParseCell:ee=>{ee.section==="body"&&ee.column.index===3&&(ee.cell.styles.textColor=ee.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],ee.cell.styles.fontStyle="bold")}}),de=E.lastAutoTable.finalY+10}if(f&&f.length>0&&(E.setFontSize(14),E.setTextColor(...Q),E.text("Monitor de Procesos SGI",14,de+10),de+=15,f.forEach(he=>{if(he.indicators&&he.indicators.length>0){E.setFontSize(12),E.setTextColor(50,50,50),E.text(`Proceso: ${he.name}`,14,de);const pe=(new Date().getMonth()+1).toString().padStart(2,"0"),Ce=he.indicators.map(Z=>{const k=Z.monthlyData?.[pe]||0,P=k>=Z.target;return[Z.name,`${Z.target} ${Z.unit}`,`${k} ${Z.unit}`,P?"CUMPLE":"REVISAR"]});Nl(E,{head:[["Indicador","Meta","Mes Actual","Estado"]],body:Ce,startY:de+5,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:9},didParseCell:Z=>{Z.section==="body"&&Z.column.index===3&&(Z.cell.styles.textColor=Z.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],Z.cell.styles.fontStyle="bold")}}),de=E.lastAutoTable.finalY+10}})),I){E.setFontSize(14),E.setTextColor(...Q),E.text("Resumen Ejecutivo (Tickets)",14,de+10);const he=[[" % Cumplimiento SLA",`${I.complianceRate}%`],["Tiempo Promedio Resolucin",`${I.avgResolutionTime} Horas`],["Tickets Cerrados",`${I.closed}`],["Tickets Vencidos",`${I.ticketsWithMetrics.filter(pe=>!pe.isCompliant).length}`],["Total Solicitudes",`${I.total}`]];Nl(E,{body:he,startY:de+15,theme:"grid",headStyles:{fillColor:Q},styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",width:100},1:{halign:"right"}}}),E.setFontSize(14),E.setTextColor(...Q),E.text("Detalle de Tickets y Cumplimiento",14,E.lastAutoTable.finalY+15);const ee=I.ticketsWithMetrics.map(pe=>[`#${pe.id?pe.id.slice(-6):"N/A"}`,new Date(pe.createdAt).toLocaleDateString(),pe.priority.toUpperCase(),pe.status==="open"?"ABIERTO":"CERRADO",pe.closedBy||"---",`${pe.durationHours} hrs`,pe.isCompliant?"CUMPLE":"VENCIDO"]);Nl(E,{head:[["ID","Fecha","Prioridad","Estado","Responsable","Tiempo","SLA"]],body:ee,startY:E.lastAutoTable.finalY+20,theme:"striped",headStyles:{fillColor:Q},styles:{fontSize:9},didParseCell:pe=>{pe.section==="body"&&pe.column.index===6&&(pe.cell.raw==="VENCIDO"?(pe.cell.styles.textColor=[220,38,38],pe.cell.styles.fontStyle="bold"):(pe.cell.styles.textColor=[16,185,129],pe.cell.styles.fontStyle="bold"))}})}else E.setFontSize(12),E.setTextColor(100),E.text("No hay actividad de tickets registrada en este periodo.",14,de+20);const ie=E.internal.getNumberOfPages();for(let he=1;he<=ie;he++)E.setPage(he),E.setFontSize(8),E.setTextColor(150),E.text(`Pgina ${he} de ${ie} - Sistema ELSPEC ANDINA`,105,290,{align:"center"});E.save(`Informe_SGI_${new Date().toISOString().split("T")[0]}.pdf`)};return m.jsxs("div",{style:{padding:"0 0 40px 0"},children:[m.jsx("style",{children:`
                @media (max-width: 768px) {
                    .controls-header {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .controls-header-right {
                        flex-direction: column;
                        gap: 10px !important;
                    }
                    .kpi-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-card-header {
                        padding: 15px !important;
                    }
                    .evidence-modal-content {
                        width: 95% !important;
                        padding: 20px !important;
                    }
                }
                `}),m.jsxs("div",{className:"glass-card controls-header",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[m.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(jv,{color:"var(--primary)"})," Indicadores de Gestin (SGI)"]}),m.jsxs("div",{className:"controls-header-right",style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsxs("button",{onClick:()=>A(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",background:"var(--success)"},children:[m.jsx(rc,{size:16})," Nuevo"]}),m.jsxs("button",{onClick:N,disabled:!I,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",opacity:I?1:.5,cursor:I?"pointer":"not-allowed"},children:[m.jsx(Ef,{size:16})," PDF"]}),m.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)",margin:"0 5px"}}),m.jsx(a4,{size:16,color:"var(--text-muted)"}),m.jsxs("select",{value:s,onChange:E=>o(E.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",padding:"8px",borderRadius:"8px"},children:[m.jsx("option",{value:"all",children:"Todo"}),m.jsx("option",{value:"week",children:"Semana"}),m.jsx("option",{value:"month",children:"Mes"}),m.jsx("option",{value:"year",children:"Ao"})]})]})]}),e.length>0&&m.jsxs("div",{style:{marginBottom:"30px"},children:[m.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Indicadores Personalizados"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:e.map(E=>m.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative"},children:[m.jsx("button",{onClick:()=>$(E.id),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",padding:"5px"},children:m.jsx(Au,{size:14})}),m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:E.name}),m.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"10px"},children:m.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"},children:[E.current," ",m.jsx("span",{style:{fontSize:"1rem"},children:E.unit})]})}),m.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"5px"},children:["Meta: ",E.target," ",E.unit]}),m.jsx("div",{style:{marginTop:"10px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${Math.min(E.current/E.target*100,100)}%`,background:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"}})})]},E.id))})]}),f&&f.length>0&&m.jsxs("div",{style:{marginBottom:"40px"},children:[m.jsxs("h3",{style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"10px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(wu,{color:"var(--primary)"})," Monitor de Procesos Corporativos"]}),m.jsx("div",{className:"process-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px"},children:f.map(E=>m.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{className:"process-card-header",style:{padding:"20px",background:"rgba(0, 108, 224, 0.1)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[m.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:E.name}),m.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:["Lder: ",E.leader||"Sin asignar"]})]}),m.jsx("div",{style:{padding:"20px",flex:1},children:E.indicators&&E.indicators.length>0?m.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:m.jsx("tbody",{children:E.indicators.map(Q=>{const ie=(new Date().getMonth()+1).toString().padStart(2,"0"),he=Q.monthlyData?.[ie]||0,ee=Math.min(he/(Q.target||1)*100,100);return m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{H(Q),B(ie),Se(!0),nn.subscribeSGIEvidence(E.id,pe=>{const Ce=pe.filter(Z=>Z.indicatorId===Q.id&&Z.month===ie);ae(Ce)})},className:"indicator-row",children:[m.jsxs("td",{style:{padding:"10px 0"},children:[m.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:Q.name}),m.jsx("div",{style:{height:"6px",width:"100%",background:"rgba(255,255,255,0.1)",borderRadius:"3px"},children:m.jsx("div",{style:{height:"100%",width:`${ee}%`,background:ee>=90?"var(--success)":ee>=70?"var(--warning)":"var(--danger)",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),m.jsx("td",{style:{padding:"10px 0 10px 15px",textAlign:"right",whiteSpace:"nowrap"},children:m.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[he," ",m.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["/ ",Q.target," ",Q.unit]})]})})]},Q.id)})})}):m.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin indicadores configurados"})})]},E.id))})]}),I?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"kpi-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(52, 211, 153, 0.15)",padding:"15px",borderRadius:"50%"},children:m.jsx(Uo,{size:32,color:"var(--success)"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Cumplimiento SLA"}),m.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:I.complianceRate>=80?"var(--success)":I.complianceRate>=50?"var(--warning)":"var(--danger)"},children:[I.complianceRate,"%"]}),m.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Meta: > 80%"})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"15px",borderRadius:"50%"},children:m.jsx(wu,{size:32,color:"var(--primary)"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tiempo Promedio Cierre"}),m.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[I.avgResolutionTime," ",m.jsx("span",{style:{fontSize:"1rem"},children:"hrs"})]})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(239, 68, 68, 0.15)",padding:"15px",borderRadius:"50%"},children:m.jsx(r4,{size:32,color:"var(--danger)"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tickets Vencidos"}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--danger)"},children:I.ticketsWithMetrics.filter(E=>!E.isCompliant).length}),m.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[I.ticketsWithMetrics.length," Totales"]})]})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"25px",overflowX:"auto"},children:[m.jsx("h4",{style:{marginBottom:"20px"},children:"Detalle de Cumplimiento por Ticket"}),m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.85rem",textAlign:"left"},children:[m.jsx("th",{style:{padding:"10px"},children:"ID Ticket"}),m.jsx("th",{style:{padding:"10px"},children:"Fecha Ingreso"}),m.jsx("th",{style:{padding:"10px"},children:"Prioridad / SLA"}),m.jsx("th",{style:{padding:"10px"},children:"Responsable (Cierre)"}),m.jsx("th",{style:{padding:"10px"},children:"Tiempo Transcurrido"}),m.jsx("th",{style:{padding:"10px"},children:"Estado SLA"}),m.jsx("th",{style:{padding:"10px"},children:"Estado Ticket"})]})}),m.jsx("tbody",{children:I.ticketsWithMetrics.map(E=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"0.9rem"},children:[m.jsxs("td",{style:{padding:"15px 10px",fontFamily:"monospace",color:"var(--primary)"},children:["#",E.id?E.id.slice(-6):"N/A"]}),m.jsx("td",{style:{padding:"15px 10px"},children:new Date(E.createdAt).toLocaleDateString()}),m.jsx("td",{style:{padding:"15px 10px"},children:m.jsxs("span",{style:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem",color:E.priority==="high"?"var(--danger)":E.priority==="medium"?"var(--warning)":"var(--success)"},children:[E.priority," (",E.slaLimit,"h)"]})}),m.jsx("td",{style:{padding:"15px 10px"},children:E.closedBy||(E.status==="closed"?"Admin":"---")}),m.jsxs("td",{style:{padding:"15px 10px"},children:[E.durationHours," hrs"]}),m.jsx("td",{style:{padding:"15px 10px"},children:E.isCompliant?m.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[m.jsx(Uo,{size:12})," A Tiempo"]}):m.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--danger)",background:"rgba(239, 68, 68, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[m.jsx(Lp,{size:12})," Vencido"]})}),m.jsx("td",{style:{padding:"15px 10px",opacity:.8},children:E.status==="open"?"Abierto":"Cerrado"})]},E.id))})]})]})]}):m.jsxs("div",{className:"glass-card",style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[m.jsx("div",{style:{marginBottom:"15px"},children:m.jsx(jv,{size:48,style:{opacity:.2}})}),"No hay actividad de tickets para generar indicadores automticos en este periodo."]}),v&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[m.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"Nuevo Indicador / Meta"}),m.jsxs("form",{onSubmit:je,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Nombre del Indicador"}),m.jsx("input",{type:"text",placeholder:"Ej: Satisfaccin Cliente",required:!0,value:C.name,onChange:E=>_({...C,name:E.target.value})})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Meta"}),m.jsx("input",{type:"number",step:"0.01",required:!0,value:C.target,onChange:E=>_({...C,target:E.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Valor Actual"}),m.jsx("input",{type:"number",step:"0.01",required:!0,value:C.current,onChange:E=>_({...C,current:E.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Unidad"}),m.jsxs("select",{value:C.unit,onChange:E=>_({...C,unit:E.target.value}),children:[m.jsx("option",{value:"%",children:"%"}),m.jsx("option",{value:"#",children:"#"}),m.jsx("option",{value:"$",children:"$"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[m.jsx("button",{type:"button",onClick:()=>A(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Crear Indicador"})]})]})]})}),se&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card evidence-modal-content",style:{padding:"30px",width:"100%",maxWidth:"600px",maxHeight:"85vh",overflowY:"auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("div",{children:[m.jsx("h3",{style:{margin:0},children:"Detalle de Evidencia"}),m.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:[z?.name," - Mes ",U]})]}),m.jsx("button",{onClick:()=>Se(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:m.jsx(Lp,{})})]}),ne.length===0?m.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontr evidencia para este periodo."}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:ne.map(E=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[m.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:E.leaderName}),m.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(E.timestamp).toLocaleDateString()})]}),m.jsxs("div",{style:{marginBottom:"15px"},children:[m.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Valor reportado:"}),m.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:E.value})]}),E.comment&&m.jsxs("div",{style:{marginBottom:"15px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"8px",borderLeft:"3px solid var(--primary)"},children:[m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"5px",textTransform:"uppercase"},children:"Comentario / Feedback"}),m.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:E.comment})]}),E.attachments&&E.attachments.length>0&&m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:E.attachments.map((Q,de)=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[Q.type?.includes("image")?m.jsx("img",{src:Q.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(Q.url,"_blank")}):m.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:m.jsx(zs,{size:32,color:"var(--primary)"})}),m.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Q.name}),m.jsx("a",{href:Q.url,download:Q.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none"},children:"Descargar"})]},de))})]})]},E.id))})]})})]})},eI=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState([]),[s,o]=Ze.useState(null),[c,h]=Ze.useState(!1),[f,d]=Ze.useState(!1),[v,A]=Ze.useState(!0),[C,_]=Ze.useState({name:"",description:"",leaders:[]}),[z,H]=Ze.useState(null),[U,B]=Ze.useState({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),[ne,ae]=Ze.useState([]),[se,Se]=Ze.useState(!1),[je,$]=Ze.useState(null),[O,w]=Ze.useState(null),[q,I]=Ze.useState([]),[N,E]=Ze.useState(!1),[Q,de]=Ze.useState("");Ze.useEffect(()=>{const M=nn.subscribeSGIProcesses(_e=>{e(_e),A(!1)});(async()=>{const _e=await nn.getUsers();r(_e)})();const fe=nn.subscribeSGIIndicatorTypes(_e=>{I(_e)});return()=>{M(),fe()}},[]);const ie=async M=>{M.preventDefault();try{if(C.leaders.length===0){alert("Debe seleccionar al menos un lder para el proceso.");return}s&&!s.isNew?await nn.updateSGIProcess(s.id,C):await nn.addSGIProcess({...C,indicators:[]}),h(!1),_({name:"",description:"",leaders:[]}),o(null)}catch(re){console.error("Error saving process:",re)}},he=async M=>{window.confirm("Seguro que desea eliminar este proceso?")&&(await nn.deleteSGIProcess(M),s?.id===M&&o(null))},ee=async M=>{if(M.preventDefault(),!s)return;let re;if(z)re=s.indicators.map(fe=>fe.id===z.id?{...fe,...U}:fe);else{const fe={id:Date.now().toString(),...U,monthlyData:{}};re=[...s.indicators||[],fe]}try{await nn.updateSGIProcess(s.id,{indicators:re}),o({...s,indicators:re}),d(!1),B({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),H(null)}catch(fe){console.error("Error saving indicator:",fe)}},pe=async M=>{if(!window.confirm("Est seguro de eliminar este indicador?"))return;const re=s.indicators.filter(fe=>fe.id!==M);await nn.updateSGIProcess(s.id,{indicators:re}),o({...s,indicators:re})},Ce=(M,re=null)=>($(M),w(re),Se(!0),nn.subscribeSGIEvidence(s.id,_e=>{let me=_e.filter(Me=>Me.indicatorId===M.id);re&&(me=me.filter(Me=>Me.month===re)),ae(me)})),Z=async(M,re,fe)=>{if(!s)return;const _e=s.indicators.map(me=>me.id===M?{...me,monthlyData:{...me.monthlyData,[re]:parseFloat(fe)}}:me);try{await nn.updateSGIProcess(s.id,{indicators:_e}),o({...s,indicators:_e})}catch(me){console.error("Error updating data:",me)}},k=()=>{let M="data:text/csv;charset=utf-8,";M+=`Proceso,Indicador,Tipo,Meta,Ene,Feb,Mar,Abr,May,Jun,Jul,Ago,Sep,Oct,Nov,Dic
`,n.forEach(_e=>{_e.indicators&&_e.indicators.forEach(me=>{const Me=q.find(tt=>tt.id===me.typeId)?.name||"General",We=[`"${_e.name}"`,`"${me.name}"`,`"${Me}"`,`"${me.target} ${me.unit}"`,me.monthlyData?.["01"]||0,me.monthlyData?.["02"]||0,me.monthlyData?.["03"]||0,me.monthlyData?.["04"]||0,me.monthlyData?.["05"]||0,me.monthlyData?.["06"]||0,me.monthlyData?.["07"]||0,me.monthlyData?.["08"]||0,me.monthlyData?.["09"]||0,me.monthlyData?.["10"]||0,me.monthlyData?.["11"]||0,me.monthlyData?.["12"]||0].join(",");M+=We+`
`})});const re=encodeURI(M),fe=document.createElement("a");fe.setAttribute("href",re),fe.setAttribute("download","reporte_sgi_acumulado.csv"),document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},P=(M,re)=>{if(!M||!re)return"rgba(255,255,255,0.05)";const fe=parseFloat(M)/parseFloat(re)*100;return fe>=90?"rgba(16, 185, 129, 0.2)":fe>=70?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)"},Y=(M,re)=>{if(!M||!re)return"rgba(255,255,255,0.1)";const fe=parseFloat(M)/parseFloat(re)*100;return fe>=90?"#10b981":fe>=70?"#f59e0b":"#ef4444"};return m.jsxs("div",{style:{padding:"20px",width:"100%",margin:"0 auto"},children:[m.jsx("style",{children:`
                @media (max-width: 1024px) {
                    .sgi-management-layout {
                        grid-template-columns: 1fr !important;
                    }
                    .sidebar-processes {
                        order: -1;
                    }
                }
                @media (max-width: 768px) {
                    .header-management {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .process-detail-header {
                        flex-direction: column;
                        gap: 15px;
                    }
                    .indicators-table-container {
                        margin: 0 -15px;
                        border-radius: 0 !important;
                    }
                }
                `}),m.jsxs("div",{className:"header-management",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[m.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(zs,{color:"var(--primary)"})," Gestin de Procesos SGI"]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsxs("button",{onClick:k,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--success)"},children:[m.jsx(Ef,{size:18})," Reporte"]}),m.jsxs("button",{onClick:()=>E(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--secondary)"},children:[m.jsx(Su,{size:18})," Tipos"]}),m.jsxs("button",{onClick:()=>{o({isNew:!0}),_({name:"",description:"",leaders:[]}),h(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(rc,{size:18})," Proceso"]})]})]}),m.jsxs("div",{className:"sgi-management-layout mobile-column",style:{display:"grid",gridTemplateColumns:"minmax(250px, 1fr) 4fr",gap:"30px"},children:[m.jsx("style",{children:`
                    @media (max-width: 1024px) {
                        .sgi-management-layout {
                            grid-template-columns: 1fr !important;
                            display: flex !important;
                            flex-direction: column !important;
                        }
                    }
                    `}),m.jsxs("div",{className:"glass-card sidebar-processes sidebar-responsive",style:{padding:"20px",height:"fit-content"},children:[m.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Procesos"}),m.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(M=>m.jsx("li",{style:{marginBottom:"10px"},children:m.jsxs("div",{onClick:()=>o(M),style:{padding:"12px",borderRadius:"8px",cursor:"pointer",background:s?.id===M.id?"rgba(0, 108, 224, 0.2)":"rgba(255,255,255,0.05)",border:s?.id===M.id?"1px solid var(--primary)":"1px solid transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontWeight:500},children:M.name}),m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("button",{onClick:re=>{re.stopPropagation(),o(M),_({name:M.name,description:M.description||"",leaders:M.leaders||(M.leader?[{id:M.leaderId||"",name:M.leader}]:[])}),h(!0)},style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer"},title:"Editar Proceso",children:m.jsx(Su,{size:14})}),m.jsx("button",{onClick:re=>{re.stopPropagation(),he(M.id)},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},title:"Eliminar Proceso",children:m.jsx(Au,{size:14})})]})]})},M.id))})]}),m.jsx("div",{className:"glass-card main-process-content",style:{padding:"30px"},children:s&&!s.isNew?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"process-detail-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[m.jsxs("div",{children:[m.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"var(--primary)"},children:s.name}),m.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:s.description||"Sin descripcin"}),m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:["Lderes:",s.leaders?.map(M=>m.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:M.name},M.id))||s.leader&&m.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:s.leader})||"N/A"]})]}),m.jsxs("button",{onClick:()=>{H(null),B({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),d(!0)},className:"btn-primary",style:{background:"var(--success)",fontSize:"0.9rem",padding:"8px 15px"},children:[m.jsx(rc,{size:16,style:{marginRight:"5px"}})," Agregar Indicador"]})]}),m.jsx("div",{className:"glass-card indicators-table-container table-responsive",style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"12px"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",textAlign:"left"},children:[m.jsx("th",{style:{padding:"10px"},children:"Indicador"}),m.jsx("th",{style:{padding:"10px"},children:"Meta"}),m.jsx("th",{style:{padding:"10px"},children:"Ene"}),m.jsx("th",{style:{padding:"10px"},children:"Feb"}),m.jsx("th",{style:{padding:"10px"},children:"Mar"}),m.jsx("th",{style:{padding:"10px"},children:"Abr"}),m.jsx("th",{style:{padding:"10px"},children:"May"}),m.jsx("th",{style:{padding:"10px"},children:"Jun"}),m.jsx("th",{style:{padding:"10px"},children:"Jul"}),m.jsx("th",{style:{padding:"10px"},children:"Ago"}),m.jsx("th",{style:{padding:"10px"},children:"Sep"}),m.jsx("th",{style:{padding:"10px"},children:"Oct"}),m.jsx("th",{style:{padding:"10px"},children:"Nov"}),m.jsx("th",{style:{padding:"10px"},children:"Dic"}),m.jsx("th",{style:{padding:"10px"},children:"Acciones"})]})}),m.jsx("tbody",{children:(()=>{const M=(s.indicators||[]).reduce((fe,_e)=>{const me=_e.folder||"General";return fe[me]||(fe[me]=[]),fe[me].push(_e),fe},{});return(s.indicators||[]).length>0?Object.entries(M).map(([fe,_e])=>m.jsxs(tx.Fragment,{children:[m.jsx("tr",{style:{background:"rgba(255, 255, 255, 0.03)"},children:m.jsx("td",{colSpan:"15",style:{padding:"10px",color:"var(--primary)",fontWeight:"bold",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:fe})}),_e.map(me=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[m.jsxs("td",{style:{padding:"15px 10px",paddingLeft:"20px"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:me.name}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"5px",opacity:.6},children:[me.requiresPhoto&&m.jsx(i4,{size:14,title:"Requiere Foto"}),me.requiresFile&&m.jsx(R0,{size:14,title:"Requiere Archivo"}),me.requiresComment&&m.jsx(s4,{size:14,title:"Requiere Comentario"})]})]}),m.jsxs("td",{style:{padding:"15px 10px"},children:[m.jsxs("div",{children:[me.target||"-"," ",me.unit]}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"4px"},children:me.frequency||"Mensual"})]}),["01","02","03","04","05","06","07","08","09","10","11","12"].map(Me=>m.jsx("td",{style:{padding:"5px"},children:m.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx("input",{type:"number",style:{width:"50px",background:P(me.monthlyData?.[Me],me.target),border:`1px solid ${Y(me.monthlyData?.[Me],me.target)}`,color:"white",padding:"4px",borderRadius:"4px",fontSize:"0.85rem",transition:"all 0.3s ease"},value:me.monthlyData?.[Me]||"",onChange:We=>Z(me.id,Me,We.target.value)}),me.monthlyData?.[Me]!==void 0&&m.jsx("button",{onClick:()=>Ce(me,Me),style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer",padding:"2px",marginTop:"2px"},title:"Ver evidencia del mes",children:m.jsx(zs,{size:10})})]})},Me)),m.jsxs("td",{style:{padding:"15px 10px",display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:()=>{H(me),B({name:me.name,target:me.target,unit:me.unit,requiresPhoto:me.requiresPhoto,requiresFile:me.requiresFile,requiresComment:me.requiresComment,folder:me.folder||"",frequency:me.frequency||"Mensual"}),d(!0)},title:"Editar Indicador",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:m.jsx(Su,{size:16})}),m.jsx("button",{onClick:()=>Ce(me),title:"Ver Evidencia",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:m.jsx(zs,{size:16})}),m.jsx("button",{onClick:()=>pe(me.id),style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:m.jsx(Au,{size:16})})]})]},me.id))]},fe)):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No hay indicadores configurados para este proceso."})})})()})]})})]}):m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-muted)"},children:[m.jsx(zs,{size:48,style:{opacity:.2,marginBottom:"20px"}}),m.jsx("p",{children:"Seleccione un proceso para ver sus indicadores o cree uno nuevo."})]})})]}),c&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[m.jsx("h3",{children:s?.id?"Editar Proceso":"Nuevo Proceso"}),m.jsxs("form",{onSubmit:ie,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Nombre del Proceso"}),m.jsx("input",{type:"text",required:!0,value:C.name,onChange:M=>_({...C,name:M.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Descripcin"}),m.jsx("textarea",{value:C.description,onChange:M=>_({...C,description:M.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"}})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Seleccionar Lderes (Puede seleccionar varios)"}),m.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px"},children:t.map(M=>{const re=C.leaders?.some(fe=>fe.id===M.id);return m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[m.jsx("input",{type:"checkbox",checked:re,onChange:fe=>{let _e=[...C.leaders||[]];fe.target.checked?_e.push({id:M.id,name:M.name}):_e=_e.filter(me=>me.id!==M.id),_({...C,leaders:_e})}}),m.jsxs("span",{style:{fontSize:"0.9rem"},children:[M.name," ",m.jsxs("small",{style:{opacity:.5},children:["(",M.role,")"]})]})]},M.id)})})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{type:"button",onClick:()=>h(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),f&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"450px"},children:[m.jsx("h3",{children:z?"Editar Indicador":"Nuevo Indicador de Proceso"}),m.jsxs("form",{onSubmit:ee,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Nombre del Indicador / Tarea"}),m.jsx("input",{type:"text",placeholder:"Ej: Entrega de Reportes",required:!0,value:U.name,onChange:M=>B({...U,name:M.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Carpeta / Grupo (Opcional)"}),m.jsx("input",{type:"text",placeholder:"Ej: Seguridad, Calidad, etc.",value:U.folder||"",onChange:M=>B({...U,folder:M.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Tipo de Indicador"}),m.jsxs("select",{value:U.typeId||"",onChange:M=>B({...U,typeId:M.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[m.jsx("option",{value:"",children:"-- Seleccionar Tipo --"}),q.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Meta"}),m.jsx("input",{type:"number",required:!0,value:U.target,onChange:M=>B({...U,target:M.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Unidad"}),m.jsxs("select",{value:U.unit,onChange:M=>B({...U,unit:M.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[m.jsx("option",{value:"%",children:"% (Porcentaje)"}),m.jsx("option",{value:"#",children:"# (Cantidad)"}),m.jsx("option",{value:"$",children:"$ (Pesos)"})]})]})]}),m.jsxs("div",{style:{margin:"15px 0"},children:[m.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Requerimientos de Evidencia:"}),m.jsxs("div",{style:{display:"flex",gap:"20px"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:U.requiresPhoto,onChange:M=>B({...U,requiresPhoto:M.target.checked})}),m.jsx("span",{children:"Foto"})]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:U.requiresFile,onChange:M=>B({...U,requiresFile:M.target.checked})}),m.jsx("span",{children:"Archivo"})]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:U.requiresComment,onChange:M=>B({...U,requiresComment:M.target.checked})}),m.jsx("span",{children:"Comentario"})]})]})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Frecuencia de Medicin"}),m.jsxs("select",{value:U.frequency||"Mensual",onChange:M=>B({...U,frequency:M.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[m.jsx("option",{value:"Mensual",children:"Mensual"}),m.jsx("option",{value:"Bimestral",children:"Bimestral"}),m.jsx("option",{value:"Trimestral",children:"Trimestral"}),m.jsx("option",{value:"Semestral",children:"Semestral"}),m.jsx("option",{value:"Anual",children:"Anual"})]})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{type:"button",onClick:()=>{d(!1),H(null)},style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),m.jsx("button",{type:"submit",className:"btn-primary",children:z?"Guardar Cambios":"Agregar"})]})]})]})}),se&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{margin:0},children:["Evidencia: ",je?.name]}),O&&m.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:["Filtrado por Mes: ",O]})]}),m.jsx("button",{onClick:()=>{Se(!1),w(null)},style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:m.jsx(Lp,{})})]}),ne.length===0?m.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se ha cargado evidencia para este indicador an."}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:ne.map(M=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"12px",borderLeft:"4px solid var(--primary)"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[m.jsx("span",{style:{fontWeight:"bold"},children:M.leaderName}),m.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(M.timestamp).toLocaleString()})]}),M.value&&m.jsxs("div",{style:{marginBottom:"10px"},children:["Valor reportado: ",m.jsx("b",{style:{color:"var(--primary)"},children:M.value})]}),M.comment&&m.jsxs("p",{style:{fontSize:"0.9rem",margin:"0 0 10px 0",fontStyle:"italic"},children:['"',M.comment,'"']}),M.attachments&&M.attachments.length>0&&m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:M.attachments.map((re,fe)=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[re.type?.includes("image")?m.jsx("img",{src:re.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(re.url,"_blank")}):m.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:m.jsx(zs,{size:32,color:"var(--primary)"})}),m.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.name}),m.jsx("a",{href:re.url,download:re.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none",display:"block",marginTop:"5px"},children:"Descargar"})]},fe))})]})]},M.id))})]})}),N&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1200,display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsx("h3",{style:{margin:0},children:"Tipos de Indicadores"}),m.jsx("button",{onClick:()=>E(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:m.jsx(Lp,{})})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[m.jsx("input",{type:"text",placeholder:"Nuevo Tipo (ej: Seguridad)",value:Q,onChange:M=>de(M.target.value),style:{flex:1,padding:"8px",borderRadius:"4px",border:"none"}}),m.jsx("button",{onClick:async()=>{Q.trim()&&(await nn.addSGIIndicatorType({name:Q.trim()}),de(""))},className:"btn-primary",style:{padding:"8px 15px"},children:m.jsx(rc,{size:16})})]}),m.jsxs("ul",{style:{listStyle:"none",padding:0,maxHeight:"300px",overflowY:"auto"},children:[q.map(M=>m.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[m.jsx("span",{children:M.name}),m.jsx("button",{onClick:()=>{window.confirm("Eliminar este tipo?")&&nn.deleteSGIIndicatorType(M.id)},style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:m.jsx(Au,{size:16})})]},M.id)),q.length===0&&m.jsx("li",{style:{textAlign:"center",color:"var(--text-muted)",padding:"10px"},children:"No hay tipos definidos."})]})]})})]})},tI=()=>{const[n,e]=Ze.useState([]),[t,r]=Ze.useState(null),[s,o]=Ze.useState(!0),[c,h]=Ze.useState(nn.getSession()),[f,d]=Ze.useState({indicatorId:"",value:"",comment:"",files:[]}),[v,A]=Ze.useState(!1),[C,_]=Ze.useState([]),[z,H]=Ze.useState(!1),[U,B]=Ze.useState(null),[ne,ae]=Ze.useState({indicatorId:"",value:"",comment:"",files:[]});Ze.useEffect(()=>{if(!c)return;const I=nn.subscribeSGIProcesses(N=>{const E=N.filter(Q=>Q.leaders?.some(de=>de.id===c.id)||Q.leaderId===c.id||Q.leader===c.name);if(e(E),o(!1),t){const Q=E.find(de=>de.id===t.id);r(Q||null)}});return()=>I()},[c,t?.id]),Ze.useEffect(()=>{if(!t)return;const I=nn.subscribeSGIEvidence(t.id,N=>{_(N)});return()=>I()},[t?.id]);const se=I=>{const N=Array.from(I.target.files);if(N.some(Q=>Q.size>1024*1024)){alert(` Uno o ms archivos exceden el lmite de 1MB.

Para esta versin gratuita (sin tarjeta vinculada), los archivos deben ser pequeos (<1MB). Por favor comprima el archivo e intente de nuevo.`),I.target.value="";return}d({...f,files:N})},Se=async(I,N=!1)=>{const E=N?ne:f;if(!E.value&&!E.comment&&E.files.length===0){alert("Por favor ingrese algn dato o evidencia.");return}A(!0);try{const de=(new Date().getMonth()+1).toString().padStart(2,"0"),ie=[];for(const he of E.files){if(he.size>1024*1024)throw new Error(`El archivo ${he.name} es demasiado grande. El lmite es 1MB.`);const ee=await nn.uploadFile(he);ie.push({name:he.name,url:ee,type:he.type})}if(N&&U){const he=C.find(pe=>pe.id===U),ee=[...he.attachments||[],...ie];if(await nn.updateSGIEvidence(U,{value:E.value,comment:E.comment,attachments:ee}),E.value){const pe=parseFloat(he.value||0),Ce=parseFloat(E.value)-pe;await je(I,de,Ce)}alert("Evidencia actualizada."),O()}else await nn.submitSGIEvidence({processId:t.id,indicatorId:I,leaderId:c.id,leaderName:c.name,month:de,year:new Date().getFullYear(),value:E.value,comment:E.comment,attachments:ie}),E.value&&await je(I,de,parseFloat(E.value)),d({indicatorId:"",value:"",comment:"",files:[]}),alert("Evidencia enviada correctamente.")}catch(Q){console.error("Error submitting:",Q),alert(Q.message||"Error al procesar la solicitud.")}finally{A(!1)}},je=async(I,N,E)=>{const Q=t.indicators.map(de=>{if(de.id===I){let he=parseFloat(de.monthlyData?.[N]||0)+E;if(de.target){const ee=parseFloat(de.target);he>ee&&(he=ee)}return he<0&&(he=0),{...de,monthlyData:{...de.monthlyData||{},[N]:he}}}return de});await nn.updateSGIProcess(t.id,{indicators:Q})},$=(I,N)=>{alert("Abriendo editor..."),B(I.id),ae({indicatorId:N,value:I.value||"",comment:I.comment||"",files:[]}),H(!0)},O=()=>{H(!1),B(null),ae({indicatorId:"",value:"",comment:"",files:[]})},w=I=>{const N=Array.from(I.target.files);if(N.some(Q=>Q.size>1024*1024)){alert(" Archivo > 1MB. Comprima e intente de nuevo."),I.target.value="";return}ae({...ne,files:N})},q=async(I,N)=>{if(window.confirm("Seguro que deseas eliminar esta entrega? El valor se restar del acumulado."))try{if(await nn.deleteSGIEvidence(I.id),I.value){const E=I.month,Q=parseFloat(I.value),de=t.indicators.map(ie=>{if(ie.id===N.id){let ee=parseFloat(ie.monthlyData?.[E]||0)-Q;return ee<0&&(ee=0),{...ie,monthlyData:{...ie.monthlyData||{},[E]:ee}}}return ie});await nn.updateSGIProcess(t.id,{indicators:de})}alert("Evidencia eliminada y valor ajustado.")}catch(E){console.error("Error deleting evidence:",E),alert("Error al eliminar la evidencia.")}};return s?m.jsx("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:"Cargando procesos..."}):m.jsxs("div",{className:"mobile-column",style:{padding:"20px",display:"flex",gap:"30px",minHeight:"80vh"},children:[m.jsxs("div",{className:"sidebar-responsive",style:{width:"300px",flexShrink:0},children:[m.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(wu,{color:"var(--primary)"})," Mis Procesos SGI"]}),n.length===0?m.jsx("div",{className:"glass-card",style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:"No tienes procesos asignados en este momento."}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(I=>m.jsxs("div",{onClick:()=>r(I),className:"glass-card",style:{padding:"15px",cursor:"pointer",border:t?.id===I.id?"1px solid var(--primary)":"1px solid transparent",background:t?.id===I.id?"rgba(0, 108, 224, 0.15)":"rgba(255,255,255,0.05)",transition:"all 0.2s ease"},children:[m.jsx("div",{style:{fontWeight:"bold"},children:I.name}),m.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:[I.indicators?.length||0," Indicadores definidos"]})]},I.id))})]}),m.jsx("div",{style:{flex:1},children:t?m.jsxs("div",{children:[m.jsxs("div",{className:"glass-card",style:{padding:"25px",marginBottom:"30px"},children:[m.jsx("h2",{style:{margin:0},children:t.name}),m.jsx("p",{style:{color:"var(--text-muted)",margin:"10px 0 0 0"},children:t.description})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:(()=>{const I=(t.indicators||[]).reduce((N,E)=>{const Q=E.folder||"General";return N[Q]||(N[Q]=[]),N[Q].push(E),N},{});return Object.entries(I).map(([N,E])=>m.jsxs("div",{style:{marginBottom:"30px"},children:[m.jsx("h3",{style:{color:"var(--primary)",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px",marginBottom:"20px",fontSize:"1.2rem",fontWeight:"500"},children:N}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:E.map(Q=>m.jsxs("div",{className:"glass-card",style:{padding:"25px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("div",{children:[m.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:Q.name}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[Q.requiresPhoto&&m.jsxs("span",{className:"badge-blue",children:[m.jsx(i4,{size:12})," Foto"]}),Q.requiresFile&&m.jsxs("span",{className:"badge-blue",children:[m.jsx(R0,{size:12})," Archivo"]}),Q.requiresComment&&m.jsxs("span",{className:"badge-blue",children:[m.jsx(s4,{size:12})," Comentario"]})]})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Meta ",Q.frequency||"Mensual"]}),m.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[Q.target," ",Q.unit]})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"12px"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Valor Real (Mes Actual)"}),m.jsx("input",{type:"number",placeholder:`0.00 ${Q.unit}`,onChange:de=>d({...f,value:de.target.value})})]}),Q.requiresComment&&m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Comentarios / Observaciones"}),m.jsx("textarea",{placeholder:"Describa el progreso o hallazgos...",style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"},onChange:de=>d({...f,comment:de.target.value})})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(Q.requiresPhoto||Q.requiresFile)&&m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Evidencia (Fotos/Archivos)"}),m.jsxs("div",{style:{border:"2px dashed var(--border-color)",padding:"20px",borderRadius:"12px",textAlign:"center",position:"relative",cursor:"pointer",background:f.files.length>0?"rgba(52, 211, 153, 0.05)":"transparent"},children:[m.jsx("input",{type:"file",multiple:!0,accept:Q.requiresPhoto?"image/*,.pdf,.doc,.docx":"*",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:se}),m.jsx(aC,{size:24,color:"var(--primary)",style:{marginBottom:"10px"}}),m.jsx("div",{style:{fontSize:"0.9rem"},children:f.files.length>0?`${f.files.length} archivos seleccionados`:"Haga clic o arrastre para subir evidencia"})]})]}),m.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"auto"},children:m.jsx("button",{disabled:v,onClick:()=>Se(Q.id),className:"btn-primary",style:{flex:1,display:"flex",justifyContent:"center",gap:"10px"},children:v?"Enviando...":m.jsxs(m.Fragment,{children:[m.jsx(KT,{size:18})," Enviar Cumplimiento"]})})})]})]}),m.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px"},children:[m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(wu,{size:14})," Historial de Entregas"]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:C.filter(de=>de.indicatorId===Q.id).length===0?m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:"Sin entregas previas este mes."}):C.filter(de=>de.indicatorId===Q.id).sort((de,ie)=>new Date(ie.timestamp)-new Date(de.timestamp)).map(de=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"8px",fontSize:"0.85rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"5px"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[m.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:[de.value," ",Q.unit]}),m.jsx("span",{style:{fontSize:"0.75rem",opacity:.6},children:new Date(de.timestamp).toLocaleString()})]}),m.jsxs("div",{style:{display:"flex",gap:"5px"},children:[m.jsx("button",{onClick:()=>$(de,Q.id),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Editar esta entrega",children:m.jsx(Lv,{size:16})}),m.jsx("button",{onClick:()=>q(de,Q),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Eliminar esta entrega",children:m.jsx(Au,{size:16})})]})]}),de.comment&&m.jsx("p",{style:{margin:"0 0 5px 0",opacity:.8},children:de.comment}),de.attachments&&de.attachments.length>0&&m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:de.attachments.map((ie,he)=>m.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(255,255,255,0.1)",padding:"4px 8px",borderRadius:"4px"},children:m.jsxs("a",{href:ie.url,download:ie.name,style:{color:"var(--primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem"},children:[m.jsx(R0,{size:12})," ",ie.name]})},he))})]},de.id))})]})]},Q.id))})]},N))})()})]}):m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[m.jsx(zs,{size:80,style:{marginBottom:"20px"}}),m.jsx("h2",{children:"Selecciona un proceso para comenzar"})]})}),z&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999},children:m.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"25px",position:"relative"},children:[m.jsx("button",{onClick:O,style:{position:"absolute",top:"15px",right:"15px",background:"transparent",border:"none",color:"white",cursor:"pointer"},children:m.jsx(km,{size:24})}),m.jsxs("h3",{style:{marginTop:0,marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(Lv,{size:20,color:"var(--primary)"})," Editar Entrega"]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Valor Real (Correccin)"}),m.jsx("input",{type:"number",value:ne.value,onChange:I=>ae({...ne,value:I.target.value})})]}),m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Comentarios / Observaciones"}),m.jsx("textarea",{value:ne.comment,onChange:I=>ae({...ne,comment:I.target.value}),style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"}})]}),m.jsxs("div",{className:"input-group",style:{margin:0},children:[m.jsx("label",{children:"Agregar Evidencia Adicional"}),m.jsx("input",{type:"file",multiple:!0,onChange:w,style:{color:"white"}})]}),m.jsx("button",{disabled:v,onClick:()=>Se(ne.indicatorId,!0),className:"btn-primary",style:{marginTop:"10px",display:"flex",justifyContent:"center",gap:"10px"},children:v?"Actualizando...":m.jsxs(m.Fragment,{children:[m.jsx(Uo,{size:18})," Guardar Cambios"]})})]})]})})]})},nI=()=>{const{user:n,logout:e,users:t}=Yf(),{tickets:r,addTicket:s,updateTicketStatus:o,deleteTicket:c}=dC(),{computers:h}=Mm(),[f,d]=Ze.useState("view_tickets"),[v,A]=Ze.useState({title:"",description:"",priority:"medium"}),[C,_]=Ze.useState(!1),[z,H]=Ze.useState(null),[U,B]=Ze.useState({solution:"",recommendation:""}),[ne,ae]=Ze.useState(null),[se,Se]=Ze.useState({rating:5,comment:""}),[je,$]=Ze.useState(10),[O,w]=Ze.useState(""),[q,I]=Ze.useState(""),N=M=>{M.preventDefault(),ne&&(o(ne,"closed",{feedback:{rating:parseInt(se.rating),comment:se.comment,createdAt:new Date().toISOString()}}),ae(null),Se({rating:5,comment:""}))},[E,Q]=Ze.useState(null);if(!n)return null;console.log("Dashboard loaded - Version: 2.1.1 (Activity Fixed)");const de=()=>{try{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))}catch(M){console.error("Fullscreen error",M)}},ie=M=>{M.preventDefault(),s({...v,author:n.username}),A({title:"",description:"",priority:"medium"}),d("view_tickets")},he=M=>{M.preventDefault(),E&&(o(E.id,E.status,{title:E.title,description:E.description,priority:E.priority,...Ce&&{solution:E.solution,recommendation:E.recommendation}}),Q(null))},ee=M=>{window.confirm("Est seguro de que desea eliminar este ticket?")&&c(M)},pe=M=>{M.preventDefault(),o(z,"closed",{solution:U.solution,recommendation:U.recommendation,closedAt:new Date().toISOString(),closedBy:n.username});const re=(r||[]).find(fe=>fe.id===z);if(re){const fe=(t||[]).find(_e=>_e.username===re.author);fe&&fe.email&&(console.log(`%c SISTEMA ENVIANDO CORREO A: ${fe.email}`,"color: #10b981; font-weight: bold;"),console.log(`Asunto:  Ticket Resuelto: ${re.title}`),console.log(`Solucin: ${U.solution}`),console.log(`Recomendacin: ${U.recommendation}`))}H(null),B({solution:"",recommendation:""})},Ce=n.role==="admin",Z=Ce||n.canManageAssets,k=r||[],P=k.filter(M=>M.status==="open").length,Y=k.filter(M=>M.status==="closed").length;return m.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-color)",color:"white"},children:[E&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(Su,{color:"var(--primary)",size:24})," Editar Ticket"]}),m.jsx("button",{onClick:()=>Q(null),style:{background:"transparent",color:"var(--text-muted)"},children:m.jsx(km,{size:24})})]}),m.jsxs("form",{onSubmit:he,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Ttulo / Asunto"}),m.jsx("input",{type:"text",required:!0,value:E.title,onChange:M=>Q({...E,title:M.target.value})})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Prioridad"}),m.jsxs("select",{value:E.priority,onChange:M=>Q({...E,priority:M.target.value}),children:[m.jsx("option",{value:"low",children:"Baja"}),m.jsx("option",{value:"medium",children:"Media"}),m.jsx("option",{value:"high",children:"Alta"})]})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Descripcin del Problema"}),m.jsx("textarea",{rows:"5",required:!0,value:E.description,onChange:M=>Q({...E,description:M.target.value})})]}),Ce&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Resolucin Tcnica (Admin)"}),m.jsx("textarea",{rows:"4",value:E.solution||"",onChange:M=>Q({...E,solution:M.target.value}),placeholder:"Detalle tcnico de la solucin..."})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Recomendaciones (Admin)"}),m.jsx("textarea",{rows:"3",value:E.recommendation||"",onChange:M=>Q({...E,recommendation:M.target.value}),placeholder:"Recomendaciones para el cliente..."})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"15px"},children:"Guardar Cambios"}),m.jsx("button",{type:"button",onClick:()=>Q(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),z&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[m.jsxs("h3",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx(Uo,{color:"var(--success)",size:24})," Finalizar Servicio Tcnico"]}),m.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Complete los detalles de la solucin para cerrar el caso y notificar al usuario."}),m.jsxs("form",{onSubmit:pe,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Descripcin de la Solucin"}),m.jsx("textarea",{rows:"4",required:!0,value:U.solution,onChange:M=>B({...U,solution:M.target.value}),placeholder:"Detalle los pasos tcnicos realizados..."})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Recomendaciones al Usuario"}),m.jsx("textarea",{rows:"3",required:!0,value:U.recommendation,onChange:M=>B({...U,recommendation:M.target.value}),placeholder:"Recomendaciones sugeridas para el futuro..."})]}),m.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--success)",padding:"15px"},children:"Confirmar y Enviar Notificacin"}),m.jsx("button",{type:"button",onClick:()=>H(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),ne&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"500px",border:"1px solid var(--warning)",maxHeight:"90vh",overflowY:"auto"},children:[m.jsxs("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px",color:"var(--warning)"},children:[m.jsx(Wd,{size:24,fill:"var(--warning)"})," Calificar Servicio"]}),m.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Su opinin es importante para mejorar nuestro servicio de soporte."}),m.jsxs("form",{onSubmit:N,children:[m.jsxs("div",{className:"input-group",style:{textAlign:"center",marginBottom:"20px"},children:[m.jsx("label",{style:{marginBottom:"10px",display:"block"},children:"Calificacin General"}),m.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[1,2,3,4,5].map(M=>m.jsx("button",{type:"button",onClick:()=>Se({...se,rating:M}),style:{background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:re=>re.currentTarget.style.transform="scale(1.2)",onMouseLeave:re=>re.currentTarget.style.transform="scale(1)",children:m.jsx(Wd,{size:32,color:M<=se.rating?"var(--warning)":"gray",fill:M<=se.rating?"var(--warning)":"transparent"})},M))})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Comentarios Adicionales (Opcional)"}),m.jsx("textarea",{rows:"3",value:se.comment,onChange:M=>Se({...se,comment:M.target.value}),placeholder:"Qu le pareci la atencin?..."})]}),m.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[m.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--warning)",color:"black",fontWeight:"bold",padding:"15px"},children:"Enviar Calificacin"}),m.jsx("button",{type:"button",onClick:()=>ae(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Omitir"})]})]})]})}),m.jsxs("nav",{style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",padding:"10px 15px",borderBottom:"1px solid var(--border-color)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,gap:"10px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",flex:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("img",{src:_h,alt:"ELSPEC Logo",style:{height:"40px"}}),m.jsxs("h1",{style:{fontSize:"clamp(1rem, 4vw, 1.4rem)",margin:0,fontWeight:800,letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:["ELSPEC ",m.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]})]}),m.jsxs("div",{className:"glass-card",style:{display:"flex",padding:"3px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",flexWrap:"wrap"},children:[m.jsxs("button",{onClick:()=>d("create_ticket"),style:{background:f==="create_ticket"?"var(--primary)":"transparent",border:"none",color:f==="create_ticket"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(rc,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Nueva Solicitud"})]}),m.jsxs("button",{onClick:()=>d("view_tickets"),style:{background:f==="view_tickets"?"var(--primary)":"transparent",border:"none",color:f==="view_tickets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(kg,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:Ce?"Bandeja de Entrada":"Mis Tickets"})]}),Ce&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>d("users"),style:{background:f==="users"?"var(--primary)":"transparent",border:"none",color:f==="users"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(cC,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Usuarios"})]}),m.jsxs("button",{onClick:()=>d("reports"),style:{background:f==="reports"?"var(--primary)":"transparent",border:"none",color:f==="reports"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(zs,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Reportes"})]})]}),m.jsxs("button",{onClick:()=>d("assets"),style:{background:f==="assets"?"var(--primary)":"transparent",border:"none",color:f==="assets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(n1,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Activos"})]}),Z&&m.jsxs("button",{onClick:()=>d("maintenance"),style:{background:f==="maintenance"?"var(--primary)":"transparent",border:"none",color:f==="maintenance"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(jp,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mantenimiento"})]}),(Ce||n.role==="sgi")&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>d("sgi_indicators"),style:{background:f==="sgi_indicators"?"var(--primary)":"transparent",border:"none",color:f==="sgi_indicators"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(Dm,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Indicadores SGI"})]}),m.jsxs("button",{onClick:()=>d("sgi_processes"),style:{background:f==="sgi_processes"?"var(--primary)":"transparent",border:"none",color:f==="sgi_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(zs,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Gestin Procesos"})]})]}),m.jsxs("button",{onClick:()=>d("my_processes"),style:{background:f==="my_processes"?"var(--primary)":"transparent",border:"none",color:f==="my_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[m.jsx(wu,{size:16})," ",m.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mis Procesos"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[m.jsx("button",{onClick:de,title:"Pantalla Completa",style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:C?m.jsx(FT,{size:18}):m.jsx(OT,{size:18})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",borderLeft:"1px solid var(--border-color)",paddingLeft:"20px"},children:[m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:n.username}),m.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:n.role})]}),m.jsx("button",{onClick:()=>{e(),window.location.reload()},style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:m.jsx(kT,{size:18})})]})]})]}),m.jsxs("div",{style:{padding:"clamp(15px, 4vw, 30px)"},children:[m.jsx("header",{style:{marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[m.jsxs("div",{children:[m.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"5px"},children:f==="create_ticket"?"Nueva Solicitud de Soporte":f==="view_tickets"?Ce?"Consola de Administracin IT":"Mis Solicitudes Tcnicas":f==="users"?"Control de Accesos":f==="assets"?"Gestin de Activos y Equipos":f==="maintenance"?"Cronograma de Mantenimiento":f==="sgi_indicators"?"Tablero de Control SGI":f==="sgi_processes"?"Gestin de Procesos SGI":f==="my_processes"?"Mis Procesos Asignados":"Centro de Generacin de Informes"}),m.jsx("p",{style:{color:"var(--text-muted)"},children:"Mesa de servicios corporativa - Soporte Interno ELSPEC ANDINA."})]}),Ce&&f==="view_tickets"&&m.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Estado Global: ",m.jsx("span",{style:{color:"var(--success)",fontWeight:"bold"},children:"Operativo"})]})]})}),Ce&&f==="view_tickets"&&m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},children:[m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"14px",borderRadius:"15px"},children:m.jsx(IT,{color:"var(--primary)",size:28})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Tickets"}),m.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:k.length})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(245, 158, 11, 0.15)",padding:"14px",borderRadius:"15px"},children:m.jsx(r4,{color:"var(--warning)",size:28})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Pendientes"}),m.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:P})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(16, 185, 129, 0.15)",padding:"14px",borderRadius:"15px"},children:m.jsx(Uo,{color:"var(--success)",size:28})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Finalizados"}),m.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:Y})]})]})]}),f==="create_ticket"&&m.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:m.jsxs("div",{className:"glass-card",style:{padding:"40px"},children:[m.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px",fontSize:"1.5rem"},children:[m.jsx(rc,{size:32,color:"var(--primary)"})," Nueva Solicitud de Soporte"]}),m.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Por favor complete el siguiente formulario con el mayor detalle posible para que nuestro equipo pueda asistirle eficientemente."}),m.jsxs("form",{onSubmit:ie,children:[m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Tipo de Servicio / Asunto"}),m.jsx("input",{type:"text",value:v.title,placeholder:"Ej: Falla en servidor de archivos, Error de software...",onChange:M=>A({...v,title:M.target.value}),required:!0,style:{fontSize:"1.1rem",padding:"15px"}})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Nivel de Prioridad"}),m.jsxs("select",{value:v.priority,onChange:M=>A({...v,priority:M.target.value}),style:{fontSize:"1rem",padding:"15px"},children:[m.jsx("option",{value:"low",children:"Baja - Consulta General"}),m.jsx("option",{value:"medium",children:"Media - Incidencia Relevante"}),m.jsx("option",{value:"high",children:"Alta - Urgencia Tcnica"})]})]}),m.jsxs("div",{className:"input-group",children:[m.jsx("label",{children:"Descripcin Detallada"}),m.jsx("textarea",{rows:"8",value:v.description,placeholder:"Describa el problema aqu. Incluya mensajes de error, pasos para reproducir, etc.",onChange:M=>A({...v,description:M.target.value}),required:!0,style:{fontSize:"1rem",padding:"15px"}})]}),m.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"20px",fontSize:"1.1rem",fontWeight:"bold"},children:"Enviar Solicitud"})]})]})}),f==="view_tickets"&&m.jsx("div",{style:{width:"100%"},children:m.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[m.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx(kg,{size:24,color:"var(--primary)"}),Ce?"Registro General de Actividades IT":"Listado de mis Requerimientos"]}),m.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",marginBottom:"20px",background:"rgba(255,255,255,0.02)",padding:"15px",borderRadius:"10px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Mostrar:"}),m.jsxs("select",{value:je,onChange:M=>$(Number(M.target.value)),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"5px 10px"},children:[m.jsx("option",{value:5,children:"5 ltimos"}),m.jsx("option",{value:10,children:"10 ltimos"}),m.jsx("option",{value:20,children:"20 ltimos"}),m.jsx("option",{value:50,children:"50 ltimos"}),m.jsx("option",{value:1e3,children:"Todos"})]})]}),m.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)"}}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Desde:"}),m.jsx("input",{type:"date",value:O,onChange:M=>w(M.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Hasta:"}),m.jsx("input",{type:"date",value:q,onChange:M=>I(M.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:k.length===0?m.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"100px 0",opacity:.4},children:[m.jsx(kg,{size:64,style:{marginBottom:"20px"}}),m.jsx("p",{style:{fontSize:"1.1rem"},children:"No existen tickets registrados en este momento."})]}):k.filter(M=>{if(Ce||M.author===n.username){let re=!0;if(O&&(re=re&&new Date(M.createdAt)>=new Date(O)),q){const fe=new Date(q);fe.setHours(23,59,59,999),re=re&&new Date(M.createdAt)<=fe}return re}return!1}).sort((M,re)=>new Date(re.createdAt)-new Date(M.createdAt)).slice(0,je).map(M=>{const re=Ce||M.author===n.username;return m.jsxs("div",{style:{padding:"clamp(15px, 4vw, 25px)",background:"rgba(255,255,255,0.01)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"var(--transition)"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"flex-start"),marginBottom:"20px",gap:"15px"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("h4",{style:{fontSize:"clamp(1.1rem, 3vw, 1.3rem)",margin:"0 0 10px 0",color:"white"},children:M.title}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"20px",background:M.priority==="high"?"rgba(239, 68, 68, 0.2)":M.priority==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",color:M.priority==="high"?"var(--danger)":M.priority==="medium"?"var(--warning)":"var(--success)",textTransform:"uppercase",fontWeight:800,letterSpacing:"0.5px"},children:M.priority}),m.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[m.jsx(wu,{size:14})," Creacin: ",M.createdAt?new Date(M.createdAt).toLocaleString():"Fecha N/A"]}),M.closedAt&&m.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--success)",display:"flex",alignItems:"center",gap:"5px"},children:[m.jsx(Uo,{size:14})," Cierre: ",new Date(M.closedAt).toLocaleString()]}),m.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["ID: ",m.jsx("code",{style:{color:"var(--primary)"},children:M.id?M.id.slice(-6):"N/A"})]}),m.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",borderLeft:"1px solid rgba(255,255,255,0.1)",paddingLeft:"15px"},children:["Autor: ",m.jsx("b",{style:{color:"white"},children:M.author})]})]})]}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px"},children:[M.status==="open"?m.jsxs("div",{style:{color:"var(--warning)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(245, 158, 11, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[m.jsx(wu,{size:16})," Pendiente"]}):m.jsxs("div",{style:{color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(16, 185, 129, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[m.jsx(Uo,{size:16})," Resuelto"]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[re&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>Q(M),title:"Editar Ticket",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px"},children:m.jsx(Su,{size:18})}),m.jsx("button",{onClick:()=>ee(M.id),title:"Eliminar Ticket",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px"},children:m.jsx(Au,{size:18})})]}),Ce&&M.status==="open"&&m.jsx("button",{onClick:()=>H(M.id),className:"btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem",background:"var(--success)",borderRadius:"10px"},children:"Finalizar"})]})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:M.status==="closed"&&window.innerWidth>=768?"1fr 1fr":"1fr",gap:"20px"},children:[m.jsx("div",{style:{background:"rgba(0,0,0,0.15)",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Descripcin del Problema"}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",margin:0,lineHeight:1.6},children:M.description})]})}),M.status==="closed"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[m.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"20px",borderRadius:"12px",borderLeft:"4px solid var(--success)"},children:[m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Resolucin Tcnica"}),m.jsx("p",{style:{color:"white",fontSize:"0.95rem",marginBottom:"15px",lineHeight:1.6},children:M.solution}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Recomendaciones"}),m.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0,lineHeight:1.6},children:M.recommendation})]}),M.feedback?m.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"15px",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[m.jsx(Wd,{size:16,fill:"var(--warning)",color:"var(--warning)"}),m.jsxs("span",{style:{fontWeight:"bold",color:"var(--warning)",fontSize:"0.9rem"},children:["Calificacin del Usuario: ",M.feedback.rating,"/5"]})]}),M.feedback.comment&&m.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",margin:"5px 0 0 0",fontStyle:"italic"},children:['"',M.feedback.comment,'"']})]}):M.author===n.username&&m.jsxs("button",{onClick:()=>{ae(M.id),Se({rating:5,comment:""})},style:{background:"rgba(245, 158, 11, 0.15)",color:"var(--warning)",border:"1px dashed var(--warning)",padding:"12px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:fe=>fe.currentTarget.style.background="rgba(245, 158, 11, 0.25)",onMouseLeave:fe=>fe.currentTarget.style.background="rgba(245, 158, 11, 0.15)",children:[m.jsx(Wd,{size:18})," Calificar Atencin"]})]})]})]},M.id)})})]})}),(f==="users"||f==="reports"||f==="assets"||f==="maintenance"||f==="sgi_indicators"||f==="sgi_processes"||f==="my_processes")&&m.jsxs("div",{style:{width:"100%"},children:[f==="users"&&m.jsx(pC,{}),f==="reports"&&m.jsx(GR,{tickets:r,computers:h}),f==="assets"&&(Z?m.jsx(KR,{}):m.jsx(XR,{computers:h,currentUser:n})),f==="maintenance"&&m.jsx(QR,{}),f==="sgi_indicators"&&m.jsx(JR,{tickets:r}),f==="sgi_processes"&&m.jsx(eI,{}),f==="my_processes"&&m.jsx(tI,{})]})]})]})};class iI extends tx.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?m.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#0f172a",color:"white",padding:"20px",textAlign:"center"},children:m.jsxs("div",{className:"glass-card",style:{padding:"40px",maxWidth:"500px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.05)"},children:[m.jsx(o4,{size:64,style:{color:"#ef4444",marginBottom:"20px"}}),m.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"Algo sali mal"}),m.jsx("p",{style:{color:"#94a3b8",marginBottom:"30px"},children:"La aplicacin ha encontrado un error inesperado al intentar cargar esta vista."}),m.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"8px",marginBottom:"30px",fontSize:"0.8rem",color:"#ef4444",maxHeight:"200px",overflow:"auto"},children:this.state.error&&this.state.error.toString()}),m.jsxs("button",{onClick:this.handleReload,style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[m.jsx(HT,{size:18})," Recargar Aplicacin"]})]})}):this.props.children}}function rI(){const{isAuthenticated:n}=Yf();return m.jsx("div",{className:"App",children:m.jsx(iI,{children:n?m.jsx(nI,{}):m.jsx(fC,{})})})}window.onerror=function(n,e,t,r,s){const o=`Error: ${n} at ${e}:${t}`;return console.error(o),!1};try{L3.createRoot(document.getElementById("root")).render(m.jsx(Ze.StrictMode,{children:m.jsx(rI,{})}))}catch(n){console.error("Render error:",n),document.body.innerHTML=`<div style="color: white; padding: 20px;">Error al cargar la aplicacin: ${n.message}</div>`}export{Zn as _,aI as c,w3 as g};
