(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var fI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _g={exports:{}},pf={};var ry;function T3(){if(ry)return pf;ry=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return pf.Fragment=e,pf.jsx=t,pf.jsxs=t,pf}var ay;function C3(){return ay||(ay=1,_g.exports=T3()),_g.exports}var p=C3(),wg={exports:{}},tn={};var sy;function N3(){if(sy)return tn;sy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function _(X){return X===null||typeof X!="object"?null:(X=I&&X[I]||X["@@iterator"],typeof X=="function"?X:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function V(X,k,P){this.props=X,this.context=k,this.refs=B,this.updater=P||z}V.prototype.isReactComponent={},V.prototype.setState=function(X,k){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,k,"setState")},V.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function te(){}te.prototype=V.prototype;function ae(X,k,P){this.props=X,this.context=k,this.refs=B,this.updater=P||z}var se=ae.prototype=new te;se.constructor=ae,M(se,V.prototype),se.isPureReactComponent=!0;var Se=Array.isArray;function je(){}var K={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function w(X,k,P){var Y=P.ref;return{$$typeof:n,type:X,key:k,ref:Y!==void 0?Y:null,props:P}}function U(X,k){return w(X.type,k,X.props)}function N(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function C(X){var k={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(P){return k[P]})}var E=/\/+/g;function H(X,k){return typeof X=="object"&&X!==null&&X.key!=null?C(""+X.key):k.toString(36)}function fe(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(je,je):(X.status="pending",X.then(function(k){X.status==="pending"&&(X.status="fulfilled",X.value=k)},function(k){X.status==="pending"&&(X.status="rejected",X.reason=k)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ne(X,k,P,Y,W){var re=typeof X;(re==="undefined"||re==="boolean")&&(X=null);var pe=!1;if(X===null)pe=!0;else switch(re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(X.$$typeof){case n:case e:pe=!0;break;case v:return pe=X._init,ne(pe(X._payload),k,P,Y,W)}}if(pe)return W=W(X),pe=Y===""?"."+H(X,0):Y,Se(W)?(P="",pe!=null&&(P=pe.replace(E,"$&/")+"/"),ne(W,k,P,"",function(Oe){return Oe})):W!=null&&(N(W)&&(W=U(W,P+(W.key==null||X&&X.key===W.key?"":(""+W.key).replace(E,"$&/")+"/")+pe)),k.push(W)),1;pe=0;var _e=Y===""?".":Y+":";if(Se(X))for(var me=0;me<X.length;me++)Y=X[me],re=_e+H(Y,me),pe+=ne(Y,k,P,re,W);else if(me=_(X),typeof me=="function")for(X=me.call(X),me=0;!(Y=X.next()).done;)Y=Y.value,re=_e+H(Y,me++),pe+=ne(Y,k,P,re,W);else if(re==="object"){if(typeof X.then=="function")return ne(fe(X),k,P,Y,W);throw k=String(X),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(X,k,P){if(X==null)return X;var Y=[],W=0;return ne(X,Y,"","",function(re){return k.call(P,re,W++)}),Y}function J(X){if(X._status===-1){var k=X._result;k=k(),k.then(function(P){(X._status===0||X._status===-1)&&(X._status=1,X._result=P)},function(P){(X._status===0||X._status===-1)&&(X._status=2,X._result=P)}),X._status===-1&&(X._status=0,X._result=k)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ee={map:he,forEach:function(X,k,P){he(X,function(){k.apply(this,arguments)},P)},count:function(X){var k=0;return he(X,function(){k++}),k},toArray:function(X){return he(X,function(k){return k})||[]},only:function(X){if(!N(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return tn.Activity=A,tn.Children=Ee,tn.Component=V,tn.Fragment=t,tn.Profiler=s,tn.PureComponent=ae,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,tn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return K.H.useMemoCache(X)}},tn.cache=function(X){return function(){return X.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(X,k,P){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Y=M({},X.props),W=X.key;if(k!=null)for(re in k.key!==void 0&&(W=""+k.key),k)!O.call(k,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&k.ref===void 0||(Y[re]=k[re]);var re=arguments.length-2;if(re===1)Y.children=P;else if(1<re){for(var pe=Array(re),_e=0;_e<re;_e++)pe[_e]=arguments[_e+2];Y.children=pe}return w(X.type,W,Y)},tn.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},tn.createElement=function(X,k,P){var Y,W={},re=null;if(k!=null)for(Y in k.key!==void 0&&(re=""+k.key),k)O.call(k,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(W[Y]=k[Y]);var pe=arguments.length-2;if(pe===1)W.children=P;else if(1<pe){for(var _e=Array(pe),me=0;me<pe;me++)_e[me]=arguments[me+2];W.children=_e}if(X&&X.defaultProps)for(Y in pe=X.defaultProps,pe)W[Y]===void 0&&(W[Y]=pe[Y]);return w(X,re,W)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(X){return{$$typeof:h,render:X}},tn.isValidElement=N,tn.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:J}},tn.memo=function(X,k){return{$$typeof:d,type:X,compare:k===void 0?null:k}},tn.startTransition=function(X){var k=K.T,P={};K.T=P;try{var Y=X(),W=K.S;W!==null&&W(P,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(je,de)}catch(re){de(re)}finally{k!==null&&P.types!==null&&(k.types=P.types),K.T=k}},tn.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},tn.use=function(X){return K.H.use(X)},tn.useActionState=function(X,k,P){return K.H.useActionState(X,k,P)},tn.useCallback=function(X,k){return K.H.useCallback(X,k)},tn.useContext=function(X){return K.H.useContext(X)},tn.useDebugValue=function(){},tn.useDeferredValue=function(X,k){return K.H.useDeferredValue(X,k)},tn.useEffect=function(X,k){return K.H.useEffect(X,k)},tn.useEffectEvent=function(X){return K.H.useEffectEvent(X)},tn.useId=function(){return K.H.useId()},tn.useImperativeHandle=function(X,k,P){return K.H.useImperativeHandle(X,k,P)},tn.useInsertionEffect=function(X,k){return K.H.useInsertionEffect(X,k)},tn.useLayoutEffect=function(X,k){return K.H.useLayoutEffect(X,k)},tn.useMemo=function(X,k){return K.H.useMemo(X,k)},tn.useOptimistic=function(X,k){return K.H.useOptimistic(X,k)},tn.useReducer=function(X,k,P){return K.H.useReducer(X,k,P)},tn.useRef=function(X){return K.H.useRef(X)},tn.useState=function(X){return K.H.useState(X)},tn.useSyncExternalStore=function(X,k,P){return K.H.useSyncExternalStore(X,k,P)},tn.useTransition=function(){return K.H.useTransition()},tn.version="19.2.4",tn}var oy;function $0(){return oy||(oy=1,wg.exports=N3()),wg.exports}var Qe=$0();const sx=E3(Qe);var Sg={exports:{}},gf={},Ag={exports:{}},Eg={};var ly;function j3(){return ly||(ly=1,(function(n){function e(ne,he){var J=ne.length;ne.push(he);e:for(;0<J;){var de=J-1>>>1,Ee=ne[de];if(0<s(Ee,he))ne[de]=he,ne[J]=Ee,J=de;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var he=ne[0],J=ne.pop();if(J!==he){ne[0]=J;e:for(var de=0,Ee=ne.length,X=Ee>>>1;de<X;){var k=2*(de+1)-1,P=ne[k],Y=k+1,W=ne[Y];if(0>s(P,J))Y<Ee&&0>s(W,P)?(ne[de]=W,ne[Y]=J,de=Y):(ne[de]=P,ne[k]=J,de=k);else if(Y<Ee&&0>s(W,J))ne[de]=W,ne[Y]=J,de=Y;else break e}}return he}function s(ne,he){var J=ne.sortIndex-he.sortIndex;return J!==0?J:ne.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,A=null,I=3,_=!1,z=!1,M=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(ne){for(var he=t(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=ne)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(d)}}function Se(ne){if(M=!1,se(ne),!z)if(t(f)!==null)z=!0,je||(je=!0,C());else{var he=t(d);he!==null&&fe(Se,he.startTime-ne)}}var je=!1,K=-1,O=5,w=-1;function U(){return B?!0:!(n.unstable_now()-w<O)}function N(){if(B=!1,je){var ne=n.unstable_now();w=ne;var he=!0;try{e:{z=!1,M&&(M=!1,te(K),K=-1),_=!0;var J=I;try{t:{for(se(ne),A=t(f);A!==null&&!(A.expirationTime>ne&&U());){var de=A.callback;if(typeof de=="function"){A.callback=null,I=A.priorityLevel;var Ee=de(A.expirationTime<=ne);if(ne=n.unstable_now(),typeof Ee=="function"){A.callback=Ee,se(ne),he=!0;break t}A===t(f)&&r(f),se(ne)}else r(f);A=t(f)}if(A!==null)he=!0;else{var X=t(d);X!==null&&fe(Se,X.startTime-ne),he=!1}}break e}finally{A=null,I=J,_=!1}he=void 0}}finally{he?C():je=!1}}}var C;if(typeof ae=="function")C=function(){ae(N)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,H=E.port2;E.port1.onmessage=N,C=function(){H.postMessage(null)}}else C=function(){V(N,0)};function fe(ne,he){K=V(function(){ne(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var J=I;I=he;try{return ne()}finally{I=J}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var J=I;I=ne;try{return he()}finally{I=J}},n.unstable_scheduleCallback=function(ne,he,J){var de=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?de+J:de):J=de,ne){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=J+Ee,ne={id:v++,callback:he,priorityLevel:ne,startTime:J,expirationTime:Ee,sortIndex:-1},J>de?(ne.sortIndex=J,e(d,ne),t(f)===null&&ne===t(d)&&(M?(te(K),K=-1):M=!0,fe(Se,J-de))):(ne.sortIndex=Ee,e(f,ne),z||_||(z=!0,je||(je=!0,C()))),ne},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ne){var he=I;return function(){var J=I;I=he;try{return ne.apply(this,arguments)}finally{I=J}}}})(Eg)),Eg}var uy;function I3(){return uy||(uy=1,Ag.exports=j3()),Ag.exports}var Tg={exports:{}},fa={};var cy;function R3(){if(cy)return fa;cy=1;var n=$0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fa.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,v)},fa.flushSync=function(f){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=v,r.d.f()}},fa.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fa.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),I=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:_}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:I,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fa.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fa.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fa.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fa.requestFormReset=function(f){r.d.r(f)},fa.unstable_batchedUpdates=function(f,d){return f(d)},fa.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},fa.useFormStatus=function(){return c.H.useHostTransitionStatus()},fa.version="19.2.4",fa}var hy;function L3(){if(hy)return Tg.exports;hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=R3(),Tg.exports}var fy;function D3(){if(fy)return gf;fy=1;var n=I3(),e=$0(),t=L3();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return f(y),i;if(x===u)return f(y),a;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=y,u=x;else{for(var L=!1,Q=y.child;Q;){if(Q===l){L=!0,l=y,u=x;break}if(Q===u){L=!0,u=y,l=x;break}Q=Q.sibling}if(!L){for(Q=x.child;Q;){if(Q===l){L=!0,l=x,u=y;break}if(Q===u){L=!0,u=x,l=y;break}Q=Q.sibling}if(!L)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function C(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function H(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case Se:return"Suspense";case je:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case z:return"Portal";case ae:return i.displayName||"Context";case te:return(i._context.displayName||"Context")+".Consumer";case se:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return a=i.displayName||null,a!==null?a:H(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return H(i(a))}catch{}}return null}var fe=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},de=[],Ee=-1;function X(i){return{current:i}}function k(i){0>Ee||(i.current=de[Ee],de[Ee]=null,Ee--)}function P(i,a){Ee++,de[Ee]=i.current,i.current=a}var Y=X(null),W=X(null),re=X(null),pe=X(null);function _e(i,a){switch(P(re,a),P(W,i),P(Y,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?C5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=C5(a),i=N5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(Y),P(Y,i)}function me(){k(Y),k(W),k(re)}function Oe(i){i.memoizedState!==null&&P(pe,i);var a=Y.current,l=N5(a,i.type);a!==l&&(P(W,i),P(Y,l))}function ge(i){W.current===i&&(k(Y),k(W)),pe.current===i&&(k(pe),cf._currentValue=J)}var Xe,et;function lt(i){if(Xe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Xe=a&&a[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+i+et}var oe=!1;function nt(i,a){if(!i||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Pe){var Me=Pe}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Pe){Me=Pe}i.call(Ge.prototype)}}else{try{throw Error()}catch(Pe){Me=Pe}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Pe){if(Pe&&Me&&typeof Pe.stack=="string")return[Pe.stack,Me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],Q=x[1];if(L&&Q){var ye=L.split(`
`),De=Q.split(`
`);for(y=u=0;u<ye.length&&!ye[u].includes("DetermineComponentFrameRoot");)u++;for(;y<De.length&&!De[y].includes("DetermineComponentFrameRoot");)y++;if(u===ye.length||y===De.length)for(u=ye.length-1,y=De.length-1;1<=u&&0<=y&&ye[u]!==De[y];)y--;for(;1<=u&&0<=y;u--,y--)if(ye[u]!==De[y]){if(u!==1||y!==1)do if(u--,y--,0>y||ye[u]!==De[y]){var Ve=`
`+ye[u].replace(" at new "," at ");return i.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",i.displayName)),Ve}while(1<=u&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?lt(l):""}function Wt(i,a){switch(i.tag){case 26:case 27:case 5:return lt(i.type);case 16:return lt("Lazy");case 13:return i.child!==a&&a!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return nt(i.type,!1);case 11:return nt(i.type.render,!1);case 1:return nt(i.type,!0);case 31:return lt("Activity");default:return""}}function Tt(i){try{var a="",l=null;do a+=Wt(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var qe=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,_t=n.unstable_requestPaint,$t=n.unstable_now,Jt=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,on=n.unstable_UserBlockingPriority,Qt=n.unstable_NormalPriority,mt=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,vt=n.log,fi=n.unstable_setDisableYieldValue,Xt=null,Ct=null;function Pt(i){if(typeof vt=="function"&&fi(i),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Xt,i)}catch{}}var Kt=Math.clz32?Math.clz32:Mt,St=Math.log,Ln=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(St(i)/Ln|0)|0}var Ot=256,Mn=262144,wt=4194304;function bt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ln(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var y=0,x=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?y=bt(u):(L&=Q,L!==0?y=bt(L):l||(l=Q&~i,l!==0&&(y=bt(l))))):(Q=u&~x,Q!==0?y=bt(Q):L!==0?y=bt(L):l||(l=u&~i,l!==0&&(y=bt(l)))),y===0?0:a!==0&&a!==y&&(a&x)===0&&(x=y&-y,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:y}function dr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function er(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function Gi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function At(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ts(i,a,l,u,y,x){var L=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Q=i.entanglements,ye=i.expirationTimes,De=i.hiddenUpdates;for(l=L&~l;0<l;){var Ve=31-Kt(l),Ge=1<<Ve;Q[Ve]=0,ye[Ve]=-1;var Me=De[Ve];if(Me!==null)for(De[Ve]=null,Ve=0;Ve<Me.length;Ve++){var Pe=Me[Ve];Pe!==null&&(Pe.lane&=-536870913)}l&=~Ge}u!==0&&Ur(i,u,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(L&~a))}function Ur(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Kt(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Cr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Kt(l),y=1<<u;y&a|i[u]&a&&(i[u]|=a),l&=~y}}function Nr(i,a){var l=a&-a;return l=(l&42)!==0?1:Hn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Hn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mi(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:X5(i.type))}function pr(i,a){var l=he.p;try{return he.p=i,a()}finally{he.p=l}}var tr=Math.random().toString(36).slice(2),On="__reactFiber$"+tr,Wn="__reactProps$"+tr,Oi="__reactContainer$"+tr,jr="__reactEvents$"+tr,aa="__reactListeners$"+tr,bs="__reactHandles$"+tr,xa="__reactResources$"+tr,Ir="__reactMarker$"+tr;function ns(i){delete i[On],delete i[Wn],delete i[jr],delete i[aa],delete i[bs]}function qr(i){var a=i[On];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[On]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=M5(i);i!==null;){if(l=i[On])return l;i=M5(i)}return a}i=l,l=i.parentNode}return null}function gr(i){if(i=i[On]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Hr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function sa(i){var a=i[xa];return a||(a=i[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pi(i){i[Ir]=!0}var yo=new Set,Rr={};function oa(i,a){_a(i,a),_a(i+"Capture",a)}function _a(i,a){for(Rr[i]=a,i=0;i<a.length;i++)yo.add(a[i])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},bo={};function Jo(i){return qe.call(bo,i)?!0:qe.call(vo,i)?!1:Bs.test(i)?bo[i]=!0:(vo[i]=!0,!1)}function Gr(i,a,l){if(Jo(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function nr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function _i(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function is(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function la(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function vn(i){if(!i._valueTracker){var a=is(i)?"checked":"value";i._valueTracker=la(i,a,""+i[a])}}function xs(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=is(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oi=/[\n"\\]/g;function wi(i){return i.replace(oi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vs(i,a,l,u,y,x,L,Q){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),a!=null?L==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+fn(a)):i.value!==""+fn(a)&&(i.value=""+fn(a)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),a!=null?el(i,L,fn(a)):l!=null?el(i,L,fn(l)):u!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+fn(Q):i.removeAttribute("name")}function Bl(i,a,l,u,y,x,L,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){vn(i);return}l=l!=null?""+fn(l):"",a=a!=null?""+fn(a):l,Q||a===i.value||(i.value=a),i.defaultValue=a}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=Q?i.checked:!!u,i.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),vn(i)}function el(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function mr(i,a,l,u){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&u&&(i[l].defaultSelected=!0)}else{for(l=""+fn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,u&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function tl(i,a,l){if(a!=null&&(a=""+fn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+fn(l):""}function rs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=fn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),vn(i)}function Yi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||_s.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function il(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var y in a)u=a[y],a.hasOwnProperty(y)&&l[y]!==u&&nl(i,y,u)}else for(var x in a)a.hasOwnProperty(x)&&nl(i,x,a[x])}function xo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(i){return as.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wa(){}var ss=null;function Dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ws=null,jt=null;function Us(i){var a=gr(i);if(a&&(i=a.stateNode)){var l=i[Wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Vs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var y=u[Wn]||null;if(!y)throw Error(r(90));Vs(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&xs(u)}break e;case"textarea":tl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&mr(i,!!l.multiple,a,!1)}}}var wo=!1;function Ss(i,a,l){if(wo)return i(a,l);wo=!0;try{var u=i(a);return u}finally{if(wo=!1,(ws!==null||jt!==null)&&(wd(),ws&&(a=ws,i=jt,jt=ws=null,Us(a),i)))for(a=0;a<i.length;a++)Us(i[a])}}function Wi(i,a){var l=i.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Pi)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{qs=!1}var Yr=null,Hs=null,Sa=null;function rl(){if(Sa)return Sa;var i,a=Hs,l=a.length,u,y="value"in Yr?Yr.value:Yr.textContent,x=y.length;for(i=0;i<l&&a[i]===y[i];i++);var L=l-i;for(u=1;u<=L&&a[l-u]===y[x-u];u++);return Sa=y.slice(i,1<u?1-u:void 0)}function Wr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function $r(){return!1}function ji(i){function a(l,u,y,x,L){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?os:$r,this.isPropagationStopped=$r,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=ji(La),Da=A({},La,{view:0,detail:0}),As=ji(Da),ka,Ma,ua,Gs=A({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ua&&(ua&&i.type==="mousemove"?(ka=i.screenX-ua.screenX,Ma=i.screenY-ua.screenY):Ma=ka=0,ua=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Ma}}),So=ji(Gs),Kr=A({},Gs,{dataTransfer:0}),Oa=ji(Kr),al=A({},Da,{relatedTarget:0}),Aa=ji(al),Ao=A({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),S=ji(Ao),F=A({},La,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ue=ji(F),ve=A({},La,{data:0}),Ae=ji(ve),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ut[i])?!!a[i]:!1}function Rt(){return dt}var Et=A({},Da,{key:function(i){if(i.key){var a=Be[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$e[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rt,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dn=ji(Et),ei=A({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=ji(ei),m=A({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rt}),j=ji(m),D=A({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=ji(D),Ce=A({},Gs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=ji(Ce),Je=A({},La,{newState:0,oldState:0}),qt=ji(Je),ti=[9,13,27,32],cn=Pi&&"CompositionEvent"in window,zn=null;Pi&&"documentMode"in document&&(zn=document.documentMode);var rr=Pi&&"TextEvent"in window&&!zn,yr=Pi&&(!cn||zn&&8<zn&&11>=zn),$n=" ",vr=!1;function Ea(i,a){switch(i){case"keyup":return ti.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ts=!1;function Qr(i,a){switch(i){case"compositionend":return Es(a);case"keypress":return a.which!==32?null:(vr=!0,$n);case"textInput":return i=a.data,i===$n&&vr?null:i;default:return null}}function Ys(i,a){if(Ts)return i==="compositionend"||!cn&&Ea(i,a)?(i=rl(),Sa=Hs=Yr=null,Ts=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yr&&a.locale!=="ko"?null:a.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ou(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Vl[i.type]:a==="textarea"}function Ta(i,a,l,u){ws?jt?jt.push(u):jt=[u]:ws=u,a=jd(a,"onChange"),0<a.length&&(l=new ir("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var ls=null,Ws=null;function Pu(i){_5(i,0)}function us(i){var a=Hr(i);if(xs(a))return i}function Eo(i,a){if(i==="change")return a}var ca=!1;if(Pi){var Xr;if(Pi){var Cs="oninput"in document;if(!Cs){var Ns=document.createElement("div");Ns.setAttribute("oninput","return;"),Cs=typeof Ns.oninput=="function"}Xr=Cs}else Xr=!1;ca=Xr&&(!document.documentMode||9<document.documentMode)}function $s(){ls&&(ls.detachEvent("onpropertychange",Ul),Ws=ls=null)}function Ul(i){if(i.propertyName==="value"&&us(Ws)){var a=[];Ta(a,Ws,i,Dr(i)),Ss(Pu,a)}}function ql(i,a,l){i==="focusin"?($s(),ls=a,Ws=l,ls.attachEvent("onpropertychange",Ul)):i==="focusout"&&$s()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return us(Ws)}function vc(i,a){if(i==="click")return us(a)}function js(i,a){if(i==="input"||i==="change")return us(a)}function Is(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var br=typeof Object.is=="function"?Object.is:Is;function Ks(i,a){if(br(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!qe.call(a,y)||!br(i[y],a[y]))return!1}return!0}function Hl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gl(i,a){var l=Hl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hl(l)}}function Qs(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Qs(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Xs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function Rs(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var sl=Pi&&"documentMode"in document&&11>=document.documentMode,Ca=null,Zs=null,kr=null,Pa=!1;function Dn(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pa||Ca==null||Ca!==Ni(u)||(u=Ca,"selectionStart"in u&&Rs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kr&&Ks(kr,u)||(kr=u,u=jd(Zs,"onSelect"),0<u.length&&(a=new ir("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Ca)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ni={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ri={},Ls={};Pi&&(Ls=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function cs(i){if(Ri[i])return Ri[i];if(!ni[i])return i;var a=ni[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ls)return Ri[i]=a[l];return i}var ol=cs("animationend"),zu=cs("animationiteration"),Lh=cs("animationstart"),Zf=cs("transitionrun"),Jf=cs("transitionstart"),ed=cs("transitioncancel"),Dh=cs("transitionend"),kh=new Map,ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ll.push("scrollEnd");function za(i,a){kh.set(i,a),oa(a,[i])}var Fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Na=[],ul=0,bc=0;function Bu(){for(var i=ul,a=bc=ul=0;a<i;){var l=Na[a];Na[a++]=null;var u=Na[a];Na[a++]=null;var y=Na[a];Na[a++]=null;var x=Na[a];if(Na[a++]=null,u!==null&&y!==null){var L=u.pending;L===null?y.next=y:(y.next=L.next,L.next=y),u.pending=y}x!==0&&Uu(l,y,x)}}function Vu(i,a,l,u){Na[ul++]=i,Na[ul++]=a,Na[ul++]=l,Na[ul++]=u,bc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xc(i,a,l,u){return Vu(i,a,l,u),Mr(i)}function Js(i,a){return Vu(i,null,null,a),Mr(i)}function Uu(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&a!==null&&(y=31-Kt(l),i=x.hiddenUpdates,u=i[y],u===null?i[y]=[a]:u.push(a),a.lane=l|536870912),x):null}function Mr(i){if(50<nf)throw nf=0,G1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var xr={};function _c(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,a,l,u){return new _c(i,a,l,u)}function wc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fa(i,a){var l=i.alternate;return l===null?(l=Or(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function qu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Yl(i,a,l,u,y,x){var L=0;if(u=i,typeof i=="function")wc(i)&&(L=1);else if(typeof i=="string")L=d3(i,l,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Or(31,l,a,y),i.elementType=w,i.lanes=x,i;case M:return To(l.children,y,x,a);case B:L=8,y|=24;break;case V:return i=Or(12,l,a,y|2),i.elementType=V,i.lanes=x,i;case Se:return i=Or(13,l,a,y),i.elementType=Se,i.lanes=x,i;case je:return i=Or(19,l,a,y),i.elementType=je,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ae:L=10;break e;case te:L=9;break e;case se:L=11;break e;case K:L=14;break e;case O:L=16,u=null;break e}L=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Or(L,l,a,y),a.elementType=i,a.type=u,a.lanes=x,a}function To(i,a,l,u){return i=Or(7,i,u,a),i.lanes=l,i}function Hu(i,a,l){return i=Or(6,i,null,a),i.lanes=l,i}function Sc(i){var a=Or(18,null,null,0);return a.stateNode=i,a}function Wl(i,a,l){return a=Or(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ac=new WeakMap;function Ba(i,a){if(typeof i=="object"&&i!==null){var l=Ac.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Tt(a)},Ac.set(i,a),a)}return{value:i,source:a,stack:Tt(a)}}var $l=[],cl=0,Ec=null,Gu=0,Va=[],Ua=0,Co=null,qa=1,Ha="";function ja(i,a){$l[cl++]=Gu,$l[cl++]=Ec,Ec=i,Gu=a}function td(i,a,l){Va[Ua++]=qa,Va[Ua++]=Ha,Va[Ua++]=Co,Co=i;var u=qa;i=Ha;var y=32-Kt(u)-1;u&=~(1<<y),l+=1;var x=32-Kt(a)+y;if(30<x){var L=y-y%5;x=(u&(1<<L)-1).toString(32),u>>=L,y-=L,qa=1<<32-Kt(a)+y|l<<y|u,Ha=x+i}else qa=1<<x|l<<y|u,Ha=i}function Mh(i){i.return!==null&&(ja(i,1),td(i,1,0))}function Tc(i){for(;i===Ec;)Ec=$l[--cl],$l[cl]=null,Gu=$l[--cl],$l[cl]=null;for(;i===Co;)Co=Va[--Ua],Va[Ua]=null,Ha=Va[--Ua],Va[Ua]=null,qa=Va[--Ua],Va[Ua]=null}function nd(i,a){Va[Ua++]=qa,Va[Ua++]=Ha,Va[Ua++]=Co,qa=a.id,Ha=a.overflow,Co=i}var _r=null,li=null,gn=!1,Zr=null,Si=!1,hs=Error(r(519));function No(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Ba(a,i)),hs}function Oh(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[On]=i,a[Wn]=u,l){case"dialog":yn("cancel",a),yn("close",a);break;case"iframe":case"object":case"embed":yn("load",a);break;case"video":case"audio":for(l=0;l<af.length;l++)yn(af[l],a);break;case"source":yn("error",a);break;case"img":case"image":case"link":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"input":yn("invalid",a),Bl(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":yn("invalid",a);break;case"textarea":yn("invalid",a),rs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||E5(a.textContent,l)?(u.popover!=null&&(yn("beforetoggle",a),yn("toggle",a)),u.onScroll!=null&&yn("scroll",a),u.onScrollEnd!=null&&yn("scrollend",a),u.onClick!=null&&(a.onclick=wa),a=!0):a=!1,a||No(i,!0)}function eo(i){for(_r=i.return;_r;)switch(_r.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:_r=_r.return}}function wr(i){if(i!==_r)return!1;if(!gn)return eo(i),gn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||sg(i.type,i.memoizedProps)),l=!l),l&&li&&No(i),eo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=k5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));li=k5(i)}else a===27?(a=li,uu(i.type)?(i=hg,hg=null,li=i):li=a):li=_r?Os(i.stateNode.nextSibling):null;return!0}function hl(){li=_r=null,gn=!1}function Ph(){var i=Zr;return i!==null&&(Qa===null?Qa=i:Qa.push.apply(Qa,i),Zr=null),i}function Kl(i){Zr===null?Zr=[i]:Zr.push(i)}var Cc=X(null),jo=null,Ds=null;function Io(i,a,l){P(Cc,a._currentValue),a._currentValue=l}function Ga(i){i._currentValue=Cc.current,k(Cc)}function Ql(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function fl(i,a,l,u){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var L=y.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=y;for(var ye=0;ye<a.length;ye++)if(Q.context===a[ye]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Ql(x.return,l,i),u||(L=null);break e}x=Q.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(r(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Ql(L,l,i),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===i){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function Ro(i,a,l,u){i=null;for(var y=a,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var Q=y.type;br(y.pendingProps.value,L.value)||(i!==null?i.push(Q):i=[Q])}}else if(y===pe.current){if(L=y.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(cf):i=[cf])}y=y.return}i!==null&&fl(a,i,l,u),a.flags|=262144}function Nc(i){for(i=i.firstContext;i!==null;){if(!br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lo(i){jo=i,Ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sr(i){return id(jo,i)}function jc(i,a){return jo===null&&Lo(i),id(i,a)}function id(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ds===null){if(i===null)throw Error(r(308));Ds=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ds=Ds.next=a;return l}var c1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},h1=n.unstable_scheduleCallback,f1=n.unstable_NormalPriority,Li={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new c1,data:new Map,refCount:0}}function Yu(i){i.refCount--,i.refCount===0&&h1(f1,function(){i.controller.abort()})}var Wu=null,Ic=0,g=0,b=null;function T(i,a){if(Wu===null){var l=Wu=[];Ic=0,g=X1(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ic++,a.then(R,R),a}function R(){if(--Ic===0&&Wu!==null){b!==null&&(b.status="fulfilled");var i=Wu;Wu=null,g=0,b=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function q(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var G=ne.S;ne.S=function(i,a){K2=$t(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T(i,a),G!==null&&G(i,a)};var $=X(null);function Z(){var i=$.current;return i!==null?i:ci.pooledCache}function ie(i,a){a===null?P($,$.current):P($,a.pool)}function ce(){var i=Z();return i===null?null:{parent:Li._currentValue,pool:i}}var be=Error(r(460)),Re=Error(r(474)),le=Error(r(542)),we={then:function(){}};function Ne(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fe(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(wa,wa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ze(i),i;default:if(typeof a.status=="string")a.then(wa,wa);else{if(i=ci,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=u}},function(u){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ze(i),i}throw ze=a,be}}function Ie(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,be):l}}var ze=null;function Ue(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function Ze(i){if(i===be||i===le)throw Error(r(483))}var We=null,pt=0;function st(i){var a=pt;return pt+=1,We===null&&(We=[]),Fe(We,i,a)}function Gt(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ht(i,a){throw a.$$typeof===I?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function pn(i){function a(Te,xe){if(i){var Le=Te.deletions;Le===null?(Te.deletions=[xe],Te.flags|=16):Le.push(xe)}}function l(Te,xe){if(!i)return null;for(;xe!==null;)a(Te,xe),xe=xe.sibling;return null}function u(Te){for(var xe=new Map;Te!==null;)Te.key!==null?xe.set(Te.key,Te):xe.set(Te.index,Te),Te=Te.sibling;return xe}function y(Te,xe){return Te=Fa(Te,xe),Te.index=0,Te.sibling=null,Te}function x(Te,xe,Le){return Te.index=Le,i?(Le=Te.alternate,Le!==null?(Le=Le.index,Le<xe?(Te.flags|=67108866,xe):Le):(Te.flags|=67108866,xe)):(Te.flags|=1048576,xe)}function L(Te){return i&&Te.alternate===null&&(Te.flags|=67108866),Te}function Q(Te,xe,Le,He){return xe===null||xe.tag!==6?(xe=Hu(Le,Te.mode,He),xe.return=Te,xe):(xe=y(xe,Le),xe.return=Te,xe)}function ye(Te,xe,Le,He){var Dt=Le.type;return Dt===M?Ve(Te,xe,Le.props.children,He,Le.key):xe!==null&&(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===O&&Ie(Dt)===xe.type)?(xe=y(xe,Le.props),Gt(xe,Le),xe.return=Te,xe):(xe=Yl(Le.type,Le.key,Le.props,null,Te.mode,He),Gt(xe,Le),xe.return=Te,xe)}function De(Te,xe,Le,He){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Le.containerInfo||xe.stateNode.implementation!==Le.implementation?(xe=Wl(Le,Te.mode,He),xe.return=Te,xe):(xe=y(xe,Le.children||[]),xe.return=Te,xe)}function Ve(Te,xe,Le,He,Dt){return xe===null||xe.tag!==7?(xe=To(Le,Te.mode,He,Dt),xe.return=Te,xe):(xe=y(xe,Le),xe.return=Te,xe)}function Ge(Te,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Hu(""+xe,Te.mode,Le),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case _:return Le=Yl(xe.type,xe.key,xe.props,null,Te.mode,Le),Gt(Le,xe),Le.return=Te,Le;case z:return xe=Wl(xe,Te.mode,Le),xe.return=Te,xe;case O:return xe=Ie(xe),Ge(Te,xe,Le)}if(fe(xe)||C(xe))return xe=To(xe,Te.mode,Le,null),xe.return=Te,xe;if(typeof xe.then=="function")return Ge(Te,st(xe),Le);if(xe.$$typeof===ae)return Ge(Te,jc(Te,xe),Le);ht(Te,xe)}return null}function Me(Te,xe,Le,He){var Dt=xe!==null?xe.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Dt!==null?null:Q(Te,xe,""+Le,He);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:return Le.key===Dt?ye(Te,xe,Le,He):null;case z:return Le.key===Dt?De(Te,xe,Le,He):null;case O:return Le=Ie(Le),Me(Te,xe,Le,He)}if(fe(Le)||C(Le))return Dt!==null?null:Ve(Te,xe,Le,He,null);if(typeof Le.then=="function")return Me(Te,xe,st(Le),He);if(Le.$$typeof===ae)return Me(Te,xe,jc(Te,Le),He);ht(Te,Le)}return null}function Pe(Te,xe,Le,He,Dt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Te=Te.get(Le)||null,Q(xe,Te,""+He,Dt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case _:return Te=Te.get(He.key===null?Le:He.key)||null,ye(xe,Te,He,Dt);case z:return Te=Te.get(He.key===null?Le:He.key)||null,De(xe,Te,He,Dt);case O:return He=Ie(He),Pe(Te,xe,Le,He,Dt)}if(fe(He)||C(He))return Te=Te.get(Le)||null,Ve(xe,Te,He,Dt,null);if(typeof He.then=="function")return Pe(Te,xe,Le,st(He),Dt);if(He.$$typeof===ae)return Pe(Te,xe,Le,jc(xe,He),Dt);ht(xe,He)}return null}function ft(Te,xe,Le,He){for(var Dt=null,Fn=null,xt=xe,un=xe=0,xn=null;xt!==null&&un<Le.length;un++){xt.index>un?(xn=xt,xt=null):xn=xt.sibling;var Bn=Me(Te,xt,Le[un],He);if(Bn===null){xt===null&&(xt=xn);break}i&&xt&&Bn.alternate===null&&a(Te,xt),xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn,xt=xn}if(un===Le.length)return l(Te,xt),gn&&ja(Te,un),Dt;if(xt===null){for(;un<Le.length;un++)xt=Ge(Te,Le[un],He),xt!==null&&(xe=x(xt,xe,un),Fn===null?Dt=xt:Fn.sibling=xt,Fn=xt);return gn&&ja(Te,un),Dt}for(xt=u(xt);un<Le.length;un++)xn=Pe(xt,Te,un,Le[un],He),xn!==null&&(i&&xn.alternate!==null&&xt.delete(xn.key===null?un:xn.key),xe=x(xn,xe,un),Fn===null?Dt=xn:Fn.sibling=xn,Fn=xn);return i&&xt.forEach(function(pu){return a(Te,pu)}),gn&&ja(Te,un),Dt}function Ft(Te,xe,Le,He){if(Le==null)throw Error(r(151));for(var Dt=null,Fn=null,xt=xe,un=xe=0,xn=null,Bn=Le.next();xt!==null&&!Bn.done;un++,Bn=Le.next()){xt.index>un?(xn=xt,xt=null):xn=xt.sibling;var pu=Me(Te,xt,Bn.value,He);if(pu===null){xt===null&&(xt=xn);break}i&&xt&&pu.alternate===null&&a(Te,xt),xe=x(pu,xe,un),Fn===null?Dt=pu:Fn.sibling=pu,Fn=pu,xt=xn}if(Bn.done)return l(Te,xt),gn&&ja(Te,un),Dt;if(xt===null){for(;!Bn.done;un++,Bn=Le.next())Bn=Ge(Te,Bn.value,He),Bn!==null&&(xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn);return gn&&ja(Te,un),Dt}for(xt=u(xt);!Bn.done;un++,Bn=Le.next())Bn=Pe(xt,Te,un,Bn.value,He),Bn!==null&&(i&&Bn.alternate!==null&&xt.delete(Bn.key===null?un:Bn.key),xe=x(Bn,xe,un),Fn===null?Dt=Bn:Fn.sibling=Bn,Fn=Bn);return i&&xt.forEach(function(A3){return a(Te,A3)}),gn&&ja(Te,un),Dt}function si(Te,xe,Le,He){if(typeof Le=="object"&&Le!==null&&Le.type===M&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:e:{for(var Dt=Le.key;xe!==null;){if(xe.key===Dt){if(Dt=Le.type,Dt===M){if(xe.tag===7){l(Te,xe.sibling),He=y(xe,Le.props.children),He.return=Te,Te=He;break e}}else if(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===O&&Ie(Dt)===xe.type){l(Te,xe.sibling),He=y(xe,Le.props),Gt(He,Le),He.return=Te,Te=He;break e}l(Te,xe);break}else a(Te,xe);xe=xe.sibling}Le.type===M?(He=To(Le.props.children,Te.mode,He,Le.key),He.return=Te,Te=He):(He=Yl(Le.type,Le.key,Le.props,null,Te.mode,He),Gt(He,Le),He.return=Te,Te=He)}return L(Te);case z:e:{for(Dt=Le.key;xe!==null;){if(xe.key===Dt)if(xe.tag===4&&xe.stateNode.containerInfo===Le.containerInfo&&xe.stateNode.implementation===Le.implementation){l(Te,xe.sibling),He=y(xe,Le.children||[]),He.return=Te,Te=He;break e}else{l(Te,xe);break}else a(Te,xe);xe=xe.sibling}He=Wl(Le,Te.mode,He),He.return=Te,Te=He}return L(Te);case O:return Le=Ie(Le),si(Te,xe,Le,He)}if(fe(Le))return ft(Te,xe,Le,He);if(C(Le)){if(Dt=C(Le),typeof Dt!="function")throw Error(r(150));return Le=Dt.call(Le),Ft(Te,xe,Le,He)}if(typeof Le.then=="function")return si(Te,xe,st(Le),He);if(Le.$$typeof===ae)return si(Te,xe,jc(Te,Le),He);ht(Te,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,xe!==null&&xe.tag===6?(l(Te,xe.sibling),He=y(xe,Le),He.return=Te,Te=He):(l(Te,xe),He=Hu(Le,Te.mode,He),He.return=Te,Te=He),L(Te)):l(Te,xe)}return function(Te,xe,Le,He){try{pt=0;var Dt=si(Te,xe,Le,He);return We=null,Dt}catch(xt){if(xt===be||xt===le)throw xt;var Fn=Or(29,xt,null,Te.mode);return Fn.lanes=He,Fn.return=Te,Fn}}}var ui=pn(!0),en=pn(!1),ot=!1;function tt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gi(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function an(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qn&2)!==0){var y=u.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),u.pending=a,a=Mr(i),Uu(i,null,l),a}return Vu(i,u,a,l),Mr(i)}function Vn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Cr(i,l)}}function $i(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?y=x=a:x=x.next=a}else y=x=a;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ar=!1;function ii(){if(Ar){var i=b;if(i!==null)throw i}}function zi(i,a,l,u){Ar=!1;var y=i.updateQueue;ot=!1;var x=y.firstBaseUpdate,L=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var ye=Q,De=ye.next;ye.next=null,L===null?x=De:L.next=De,L=ye;var Ve=i.alternate;Ve!==null&&(Ve=Ve.updateQueue,Q=Ve.lastBaseUpdate,Q!==L&&(Q===null?Ve.firstBaseUpdate=De:Q.next=De,Ve.lastBaseUpdate=ye))}if(x!==null){var Ge=y.baseState;L=0,Ve=De=ye=null,Q=x;do{var Me=Q.lane&-536870913,Pe=Me!==Q.lane;if(Pe?(bn&Me)===Me:(u&Me)===Me){Me!==0&&Me===g&&(Ar=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var ft=i,Ft=Q;Me=a;var si=l;switch(Ft.tag){case 1:if(ft=Ft.payload,typeof ft=="function"){Ge=ft.call(si,Ge,Me);break e}Ge=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Ft.payload,Me=typeof ft=="function"?ft.call(si,Ge,Me):ft,Me==null)break e;Ge=A({},Ge,Me);break e;case 2:ot=!0}}Me=Q.callback,Me!==null&&(i.flags|=64,Pe&&(i.flags|=8192),Pe=y.callbacks,Pe===null?y.callbacks=[Me]:Pe.push(Me))}else Pe={lane:Me,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ve===null?(De=Ve=Pe,ye=Ge):Ve=Ve.next=Pe,L|=Me;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;Pe=Q,Q=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);Ve===null&&(ye=Ge),y.baseState=ye,y.firstBaseUpdate=De,y.lastBaseUpdate=Ve,x===null&&(y.shared.lanes=0),ru|=L,i.lanes=L,i.memoizedState=Ge}}function Pr(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Fi(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Pr(l[i],a)}var hn=X(null),En=X(0);function mi(i,a){i=wl,P(En,i),P(hn,a),wl=i|a.baseLanes}function kn(){P(En,wl),P(hn,hn.current)}function Ki(){wl=En.current,k(hn),k(En)}var yi=X(null),Tn=null;function Di(i){var a=i.alternate;P(An,An.current&1),P(yi,i),Tn===null&&(a===null||hn.current!==null||a.memoizedState!==null)&&(Tn=i)}function Un(i){P(An,An.current),P(yi,i),Tn===null&&(Tn=i)}function Bi(i){i.tag===22?(P(An,An.current),P(yi,i),Tn===null&&(Tn=i)):Vi()}function Vi(){P(An,An.current),P(yi,yi.current)}function Kn(i){k(yi),Tn===i&&(Tn=null),k(An)}var An=X(0);function zr(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ug(l)||cg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ai=0,It=null,Lt=null,Cn=null,ha=!1,Ya=!1,Jr=!1,Ui=0,Do=0,ko=null,Rc=0;function ri(){throw Error(r(321))}function zh(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!br(i[l],a[l]))return!1;return!0}function Fh(i,a,l,u,y,x){return Ai=x,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=i===null||i.memoizedState===null?s2:x1,Jr=!1,x=l(u,y),Jr=!1,Ya&&(x=to(a,l,u,y)),Lc(i),x}function Lc(i){ne.H=Wh;var a=Lt!==null&&Lt.next!==null;if(Ai=0,Cn=Lt=It=null,ha=!1,Do=0,ko=null,a)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Nc(i)&&(sr=!0))}function to(i,a,l,u){It=i;var y=0;do{if(Ya&&(ko=null),Do=0,Ya=!1,25<=y)throw Error(r(301));if(y+=1,Cn=Lt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ne.H=o2,x=a(l,u)}while(Ya);return x}function d1(){var i=ne.H,a=i.useState()[0];return a=typeof a.then=="function"?Mo(a):a,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(It.flags|=1024),a}function Bh(){var i=Ui!==0;return Ui=0,i}function Vh(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Dc(i){if(ha){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ha=!1}Ai=0,Cn=Lt=It=null,Ya=!1,Do=Ui=0,ko=null}function ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?It.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Ei(){if(Lt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var a=Cn===null?It.memoizedState:Cn.next;if(a!==null)Cn=a,Lt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Cn===null?It.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var a=Do;return Do+=1,ko===null&&(ko=[]),i=Fe(ko,i,a),a=It,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?s2:x1),i}function Zl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===ae)return Sr(i)}throw Error(r(438,String(i)))}function dl(i){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=$u(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=U;return a.index++,l}function ks(i,a){return typeof a=="function"?a(i):a}function kc(i){var a=Ei();return Jl(a,Lt,i)}function Jl(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var y=i.baseQueue,x=u.pending;if(x!==null){if(y!==null){var L=y.next;y.next=x.next,x.next=L}a.baseQueue=y=x,u.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{a=y.next;var Q=L=null,ye=null,De=a,Ve=!1;do{var Ge=De.lane&-536870913;if(Ge!==De.lane?(bn&Ge)===Ge:(Ai&Ge)===Ge){var Me=De.revertLane;if(Me===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ge===g&&(Ve=!0);else if((Ai&Me)===Me){De=De.next,Me===g&&(Ve=!0);continue}else Ge={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(Q=ye=Ge,L=x):ye=ye.next=Ge,It.lanes|=Me,ru|=Me;Ge=De.action,Jr&&l(x,Ge),x=De.hasEagerState?De.eagerState:l(x,Ge)}else Me={lane:Ge,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(Q=ye=Me,L=x):ye=ye.next=Me,It.lanes|=Ge,ru|=Ge;De=De.next}while(De!==null&&De!==a);if(ye===null?L=x:ye.next=Q,!br(x,i.memoizedState)&&(sr=!0,Ve&&(l=b,l!==null)))throw l;i.memoizedState=x,i.baseState=L,i.baseQueue=ye,u.lastRenderedState=x}return y===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mc(i){var a=Ei(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,y=l.pending,x=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do x=i(x,L.action),L=L.next;while(L!==y);br(x,a.memoizedState)||(sr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function Oc(i,a,l){var u=It,y=Ei(),x=gn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var L=!br((Lt||y).memoizedState,l);if(L&&(y.memoizedState=l,sr=!0),y=y.queue,p1(qh.bind(null,u,y,i),[i]),y.getSnapshot!==a||L||Cn!==null&&Cn.memoizedState.tag&1){if(u.flags|=2048,gl(9,{destroy:void 0},Uh.bind(null,u,y,l,a),null),ci===null)throw Error(r(349));x||(Ai&127)!==0||no(u,a,l)}return l}function no(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=$u(),It.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Uh(i,a,l,u){a.value=l,a.getSnapshot=u,rd(a)&&Hh(i)}function qh(i,a,l){return l(function(){rd(a)&&Hh(i)})}function rd(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!br(i,l)}catch{return!0}}function Hh(i){var a=Js(i,2);a!==null&&Xa(a,i,2)}function Oo(i){var a=ar();if(typeof i=="function"){var l=i;if(i=l(),Jr){Pt(!0);try{l()}finally{Pt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},a}function ad(i,a,l,u){return i.baseState=l,Jl(i,Lt,typeof u=="function"?u:ks)}function sd(i,a,l,u,y){if(cd(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};ne.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,od(a,x)):(x.next=l.next,a.pending=l.next=x)}}function od(i,a){var l=a.action,u=a.payload,y=i.state;if(a.isTransition){var x=ne.T,L={};ne.T=L;try{var Q=l(y,u),ye=ne.S;ye!==null&&ye(L,Q),Gh(i,a,Q)}catch(De){pl(i,a,De)}finally{x!==null&&L.types!==null&&(x.types=L.types),ne.T=x}}else try{x=l(y,u),Gh(i,a,x)}catch(De){pl(i,a,De)}}function Gh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ld(i,a,u)},function(u){return pl(i,a,u)}):ld(i,a,l)}function ld(i,a,l){a.status="fulfilled",a.value=l,Pc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,od(i,l)))}function pl(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Pc(a),a=a.next;while(a!==u)}i.action=null}function Pc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Ku(i,a){return a}function Ms(i,a){if(gn){var l=ci.formState;if(l!==null){e:{var u=It;if(gn){if(li){t:{for(var y=li,x=Si;y.nodeType!==8;){if(!x){y=null;break t}if(y=Os(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){li=Os(y.nextSibling),u=y.data==="F!";break e}}No(u)}u=!1}u&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:a},l.queue=u,l=i2.bind(null,It,u),u.dispatch=l,u=Oo(!1),x=b1.bind(null,It,!1,u.queue),u=ar(),y={state:a,dispatch:null,action:i,pending:null},u.queue=y,l=sd.bind(null,It,y,x,l),y.dispatch=l,u.memoizedState=i,[a,l,!1]}function io(i){var a=Ei();return ro(a,Lt,i)}function ro(i,a,l){if(a=Jl(i,a,Ku)[0],i=kc(ks)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Mo(a)}catch(L){throw L===be?le:L}else u=a;a=Ei();var y=a.queue,x=y.dispatch;return l!==a.memoizedState&&(It.flags|=2048,gl(9,{destroy:void 0},zc.bind(null,y,l),null)),[u,x,i]}function zc(i,a){i.action=a}function Fc(i){var a=Ei(),l=Lt;if(l!==null)return ro(a,l,i);Ei(),a=a.memoizedState,l=Ei();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function gl(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=$u(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function ud(){return Ei().memoizedState}function eu(i,a,l,u){var y=ar();It.flags|=i,y.memoizedState=gl(1|a,{destroy:void 0},l,u===void 0?null:u)}function tu(i,a,l,u){var y=Ei();u=u===void 0?null:u;var x=y.memoizedState.inst;Lt!==null&&u!==null&&zh(u,Lt.memoizedState.deps)?y.memoizedState=gl(a,x,l,u):(It.flags|=i,y.memoizedState=gl(1|a,x,l,u))}function qm(i,a){eu(8390656,8,i,a)}function p1(i,a){tu(2048,8,i,a)}function vw(i){It.flags|=4;var a=It.updateQueue;if(a===null)a=$u(),It.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Hm(i){var a=Ei().memoizedState;return vw({ref:a,nextImpl:i}),function(){if((qn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Gm(i,a){return tu(4,2,i,a)}function Ym(i,a){return tu(4,4,i,a)}function Wm(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function $m(i,a,l){l=l!=null?l.concat([i]):null,tu(4,4,Wm.bind(null,a,i),l)}function g1(){}function Km(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&zh(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function Qm(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&zh(a,u[1]))return u[0];if(u=i(),Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u}function m1(i,a,l){return l===void 0||(Ai&1073741824)!==0&&(bn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=X2(),It.lanes|=i,ru|=i,l)}function Xm(i,a,l,u){return br(l,a)?l:hn.current!==null?(i=m1(i,l,u),br(i,a)||(sr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(bn&261930)===0?(sr=!0,i.memoizedState=l):(i=X2(),It.lanes|=i,ru|=i,a)}function Zm(i,a,l,u,y){var x=he.p;he.p=x!==0&&8>x?x:8;var L=ne.T,Q={};ne.T=Q,b1(i,!1,a,l);try{var ye=y(),De=ne.S;if(De!==null&&De(Q,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ve=q(ye,u);Yh(i,a,Ve,ps(i))}else Yh(i,a,u,ps(i))}catch(Ge){Yh(i,a,{then:function(){},status:"rejected",reason:Ge},ps())}finally{he.p=x,L!==null&&Q.types!==null&&(L.types=Q.types),ne.T=L}}function bw(){}function y1(i,a,l,u){if(i.tag!==5)throw Error(r(476));var y=Jm(i).queue;Zm(i,y,a,J,l===null?bw:function(){return e2(i),l(u)})}function Jm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:J},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function e2(i){var a=Jm(i);a.next===null&&(a=i.alternate.memoizedState),Yh(i,a.next.queue,{},ps())}function v1(){return Sr(cf)}function t2(){return Ei().memoizedState}function n2(){return Ei().memoizedState}function xw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ps();i=zt(l);var u=an(a,i,l);u!==null&&(Xa(u,a,l),Vn(u,a,l)),a={cache:Xl()},i.payload=a;return}a=a.return}}function _w(i,a,l){var u=ps();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cd(i)?r2(a,l):(l=xc(i,a,l,u),l!==null&&(Xa(l,i,u),a2(l,a,u)))}function i2(i,a,l){var u=ps();Yh(i,a,l,u)}function Yh(i,a,l,u){var y={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cd(i))r2(a,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var L=a.lastRenderedState,Q=x(L,l);if(y.hasEagerState=!0,y.eagerState=Q,br(Q,L))return Vu(i,a,y,0),ci===null&&Bu(),!1}catch{}if(l=xc(i,a,y,u),l!==null)return Xa(l,i,u),a2(l,a,u),!0}return!1}function b1(i,a,l,u){if(u={lane:2,revertLane:X1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cd(i)){if(a)throw Error(r(479))}else a=xc(i,l,u,2),a!==null&&Xa(a,i,2)}function cd(i){var a=i.alternate;return i===It||a!==null&&a===It}function r2(i,a){Ya=ha=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function a2(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Cr(i,l)}}var Wh={readContext:Sr,use:Zl,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};Wh.useEffectEvent=ri;var s2={readContext:Sr,use:Zl,useCallback:function(i,a){return ar().memoizedState=[i,a===void 0?null:a],i},useContext:Sr,useEffect:qm,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,eu(4194308,4,Wm.bind(null,a,i),l)},useLayoutEffect:function(i,a){return eu(4194308,4,i,a)},useInsertionEffect:function(i,a){eu(4,2,i,a)},useMemo:function(i,a){var l=ar();a=a===void 0?null:a;var u=i();if(Jr){Pt(!0);try{i()}finally{Pt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=ar();if(l!==void 0){var y=l(a);if(Jr){Pt(!0);try{l(a)}finally{Pt(!1)}}}else y=a;return u.memoizedState=u.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},u.queue=i,i=i.dispatch=_w.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var a=ar();return i={current:i},a.memoizedState=i},useState:function(i){i=Oo(i);var a=i.queue,l=i2.bind(null,It,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:g1,useDeferredValue:function(i,a){var l=ar();return m1(l,i,a)},useTransition:function(){var i=Oo(!1);return i=Zm.bind(null,It,i.queue,!0,!1),ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=It,y=ar();if(gn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),ci===null)throw Error(r(349));(bn&127)!==0||no(u,a,l)}y.memoizedState=l;var x={value:l,getSnapshot:a};return y.queue=x,qm(qh.bind(null,u,x,i),[i]),u.flags|=2048,gl(9,{destroy:void 0},Uh.bind(null,u,x,l,a),null),l},useId:function(){var i=ar(),a=ci.identifierPrefix;if(gn){var l=Ha,u=qa;l=(u&~(1<<32-Kt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ui++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Rc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:v1,useFormState:Ms,useActionState:Ms,useOptimistic:function(i){var a=ar();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=b1.bind(null,It,!0,l),l.dispatch=a,[i,a]},useMemoCache:dl,useCacheRefresh:function(){return ar().memoizedState=xw.bind(null,It)},useEffectEvent:function(i){var a=ar(),l={impl:i};return a.memoizedState=l,function(){if((qn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},x1={readContext:Sr,use:Zl,useCallback:Km,useContext:Sr,useEffect:p1,useImperativeHandle:$m,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Qm,useReducer:kc,useRef:ud,useState:function(){return kc(ks)},useDebugValue:g1,useDeferredValue:function(i,a){var l=Ei();return Xm(l,Lt.memoizedState,i,a)},useTransition:function(){var i=kc(ks)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:t2,useHostTransitionStatus:v1,useFormState:io,useActionState:io,useOptimistic:function(i,a){var l=Ei();return ad(l,Lt,i,a)},useMemoCache:dl,useCacheRefresh:n2};x1.useEffectEvent=Hm;var o2={readContext:Sr,use:Zl,useCallback:Km,useContext:Sr,useEffect:p1,useImperativeHandle:$m,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Qm,useReducer:Mc,useRef:ud,useState:function(){return Mc(ks)},useDebugValue:g1,useDeferredValue:function(i,a){var l=Ei();return Lt===null?m1(l,i,a):Xm(l,Lt.memoizedState,i,a)},useTransition:function(){var i=Mc(ks)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Oc,useId:t2,useHostTransitionStatus:v1,useFormState:Fc,useActionState:Fc,useOptimistic:function(i,a){var l=Ei();return Lt!==null?ad(l,Lt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:dl,useCacheRefresh:n2};o2.useEffectEvent=Hm;function _1(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var w1={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=ps(),y=zt(u);y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Xa(a,i,u),Vn(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=ps(),y=zt(u);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=an(i,y,u),a!==null&&(Xa(a,i,u),Vn(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ps(),u=zt(l);u.tag=2,a!=null&&(u.callback=a),a=an(i,u,l),a!==null&&(Xa(a,i,l),Vn(a,i,l))}};function l2(i,a,l,u,y,x,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,x,L):a.prototype&&a.prototype.isPureReactComponent?!Ks(l,u)||!Ks(y,x):!0}function u2(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&w1.enqueueReplaceState(a,a.state,null)}function Qu(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function c2(i){Fu(i)}function h2(i){console.error(i)}function f2(i){Fu(i)}function hd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function d2(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function S1(i,a,l){return l=zt(l),l.tag=3,l.payload={element:null},l.callback=function(){hd(i,a)},l}function p2(i){return i=zt(i),i.tag=3,i}function g2(i,a,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=u.value;i.payload=function(){return y(x)},i.callback=function(){d2(a,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){d2(a,l,u),typeof y!="function"&&(au===null?au=new Set([this]):au.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function ww(i,a,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ro(a,l,y,!0),l=yi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Sd():l.alternate===null&&qi===0&&(qi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===we?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),$1(i,u,y)),!1;case 22:return l.flags|=65536,u===we?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),$1(i,u,y)),!1}throw Error(r(435,l.tag))}return $1(i,u,y),Sd(),!1}if(gn)return a=yi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,u!==hs&&(i=Error(r(422),{cause:u}),Kl(Ba(i,l)))):(u!==hs&&(a=Error(r(423),{cause:u}),Kl(Ba(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,u=Ba(u,l),y=S1(i.stateNode,u,y),$i(i,y),qi!==4&&(qi=2)),!1;var x=Error(r(520),{cause:u});if(x=Ba(x,l),tf===null?tf=[x]:tf.push(x),qi!==4&&(qi=2),a===null)return!0;u=Ba(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=S1(l.stateNode,u,i),$i(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(au===null||!au.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=p2(y),g2(y,i,l,u),$i(l,y),!1}l=l.return}while(l!==null);return!1}var A1=Error(r(461)),sr=!1;function ea(i,a,l,u){a.child=i===null?en(a,null,l,u):ui(a,i.child,l,u)}function m2(i,a,l,u,y){l=l.render;var x=a.ref;if("ref"in u){var L={};for(var Q in u)Q!=="ref"&&(L[Q]=u[Q])}else L=u;return Lo(a),u=Fh(i,a,l,L,x,y),Q=Bh(),i!==null&&!sr?(Vh(i,a,y),ml(i,a,y)):(gn&&Q&&Mh(a),a.flags|=1,ea(i,a,u,y),a.child)}function y2(i,a,l,u,y){if(i===null){var x=l.type;return typeof x=="function"&&!wc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,v2(i,a,x,u,y)):(i=Yl(l.type,null,u,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!L1(i,y)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ks,l(L,u)&&i.ref===a.ref)return ml(i,a,y)}return a.flags|=1,i=Fa(x,u),i.ref=a.ref,i.return=a,a.child=i}function v2(i,a,l,u,y){if(i!==null){var x=i.memoizedProps;if(Ks(x,u)&&i.ref===a.ref)if(sr=!1,a.pendingProps=u=x,L1(i,y))(i.flags&131072)!==0&&(sr=!0);else return a.lanes=i.lanes,ml(i,a,y)}return E1(i,a,l,u,y)}function b2(i,a,l,u){var y=u.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(u=a.child=i.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~x}else u=0,a.child=null;return x2(i,a,x,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ie(a,x!==null?x.cachePool:null),x!==null?mi(a,x):kn(),Bi(a);else return u=a.lanes=536870912,x2(i,a,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ie(a,x.cachePool),mi(a,x),Vi(),a.memoizedState=null):(i!==null&&ie(a,null),kn(),Vi());return ea(i,a,y,l),a.child}function $h(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function x2(i,a,l,u,y){var x=Z();return x=x===null?null:{parent:Li._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&ie(a,null),kn(),Bi(a),i!==null&&Ro(i,a,u,!0),a.childLanes=y,null}function fd(i,a){return a=pd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function _2(i,a,l){return ui(a,i.child,null,l),i=fd(a,a.pendingProps),i.flags|=2,Kn(a),a.memoizedState=null,i}function Sw(i,a,l){var u=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(gn){if(u.mode==="hidden")return i=fd(a,u),a.lanes=536870912,$h(null,i);if(Un(a),(i=li)?(i=D5(i,Si),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,_r=a,li=null)):i=null,i===null)throw No(a);return a.lanes=536870912,null}return fd(a,u)}var x=i.memoizedState;if(x!==null){var L=x.dehydrated;if(Un(a),y)if(a.flags&256)a.flags&=-257,a=_2(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(sr||Ro(i,a,l,!1),y=(l&i.childLanes)!==0,sr||y){if(u=ci,u!==null&&(L=Nr(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Js(i,L),Xa(u,i,L),A1;Sd(),a=_2(i,a,l)}else i=x.treeContext,li=Os(L.nextSibling),_r=a,gn=!0,Zr=null,Si=!1,i!==null&&nd(a,i),a=fd(a,u),a.flags|=4096;return a}return i=Fa(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function dd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function E1(i,a,l,u,y){return Lo(a),l=Fh(i,a,l,u,void 0,y),u=Bh(),i!==null&&!sr?(Vh(i,a,y),ml(i,a,y)):(gn&&u&&Mh(a),a.flags|=1,ea(i,a,l,y),a.child)}function w2(i,a,l,u,y,x){return Lo(a),a.updateQueue=null,l=to(a,u,l,y),Lc(i),u=Bh(),i!==null&&!sr?(Vh(i,a,x),ml(i,a,x)):(gn&&u&&Mh(a),a.flags|=1,ea(i,a,l,x),a.child)}function S2(i,a,l,u,y){if(Lo(a),a.stateNode===null){var x=xr,L=l.contextType;typeof L=="object"&&L!==null&&(x=Sr(L)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=w1,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},tt(a),L=l.contextType,x.context=typeof L=="object"&&L!==null?Sr(L):xr,x.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(_1(a,l,L,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&w1.enqueueReplaceState(x,x.state,null),zi(a,u,x,y),ii(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){x=a.stateNode;var Q=a.memoizedProps,ye=Qu(l,Q);x.props=ye;var De=x.context,Ve=l.contextType;L=xr,typeof Ve=="object"&&Ve!==null&&(L=Sr(Ve));var Ge=l.getDerivedStateFromProps;Ve=typeof Ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,Ve||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||De!==L)&&u2(a,x,u,L),ot=!1;var Me=a.memoizedState;x.state=Me,zi(a,u,x,y),ii(),De=a.memoizedState,Q||Me!==De||ot?(typeof Ge=="function"&&(_1(a,l,Ge,u),De=a.memoizedState),(ye=ot||l2(a,l,ye,u,Me,De,L))?(Ve||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=De),x.props=u,x.state=De,x.context=L,u=ye):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,gi(i,a),L=a.memoizedProps,Ve=Qu(l,L),x.props=Ve,Ge=a.pendingProps,Me=x.context,De=l.contextType,ye=xr,typeof De=="object"&&De!==null&&(ye=Sr(De)),Q=l.getDerivedStateFromProps,(De=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Ge||Me!==ye)&&u2(a,x,u,ye),ot=!1,Me=a.memoizedState,x.state=Me,zi(a,u,x,y),ii();var Pe=a.memoizedState;L!==Ge||Me!==Pe||ot||i!==null&&i.dependencies!==null&&Nc(i.dependencies)?(typeof Q=="function"&&(_1(a,l,Q,u),Pe=a.memoizedState),(Ve=ot||l2(a,l,Ve,u,Me,Pe,ye)||i!==null&&i.dependencies!==null&&Nc(i.dependencies))?(De||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Pe,ye),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Pe,ye)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Pe),x.props=u,x.state=Pe,x.context=ye,u=Ve):(typeof x.componentDidUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Me===i.memoizedState||(a.flags|=1024),u=!1)}return x=u,dd(i,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&u?(a.child=ui(a,i.child,null,y),a.child=ui(a,null,l,y)):ea(i,a,l,y),a.memoizedState=x.state,i=a.child):i=ml(i,a,y),i}function A2(i,a,l,u){return hl(),a.flags|=256,ea(i,a,l,u),a.child}var T1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C1(i){return{baseLanes:i,cachePool:ce()}}function N1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ds),i}function E2(i,a,l){var u=a.pendingProps,y=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,i===null){if(gn){if(y?Di(a):Vi(),(i=li)?(i=D5(i,Si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Co!==null?{id:qa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Sc(i),l.return=a,a.child=l,_r=a,li=null)):i=null,i===null)throw No(a);return cg(i)?a.lanes=32:a.lanes=536870912,null}var Q=u.children;return u=u.fallback,y?(Vi(),y=a.mode,Q=pd({mode:"hidden",children:Q},y),u=To(u,y,l,null),Q.return=a,u.return=a,Q.sibling=u,a.child=Q,u=a.child,u.memoizedState=C1(l),u.childLanes=N1(i,L,l),a.memoizedState=T1,$h(null,u)):(Di(a),j1(a,Q))}var ye=i.memoizedState;if(ye!==null&&(Q=ye.dehydrated,Q!==null)){if(x)a.flags&256?(Di(a),a.flags&=-257,a=I1(i,a,l)):a.memoizedState!==null?(Vi(),a.child=i.child,a.flags|=128,a=null):(Vi(),Q=u.fallback,y=a.mode,u=pd({mode:"visible",children:u.children},y),Q=To(Q,y,l,null),Q.flags|=2,u.return=a,Q.return=a,u.sibling=Q,a.child=u,ui(a,i.child,null,l),u=a.child,u.memoizedState=C1(l),u.childLanes=N1(i,L,l),a.memoizedState=T1,a=$h(null,u));else if(Di(a),cg(Q)){if(L=Q.nextSibling&&Q.nextSibling.dataset,L)var De=L.dgst;L=De,u=Error(r(419)),u.stack="",u.digest=L,Kl({value:u,source:null,stack:null}),a=I1(i,a,l)}else if(sr||Ro(i,a,l,!1),L=(l&i.childLanes)!==0,sr||L){if(L=ci,L!==null&&(u=Nr(L,l),u!==0&&u!==ye.retryLane))throw ye.retryLane=u,Js(i,u),Xa(L,i,u),A1;ug(Q)||Sd(),a=I1(i,a,l)}else ug(Q)?(a.flags|=192,a.child=i.child,a=null):(i=ye.treeContext,li=Os(Q.nextSibling),_r=a,gn=!0,Zr=null,Si=!1,i!==null&&nd(a,i),a=j1(a,u.children),a.flags|=4096);return a}return y?(Vi(),Q=u.fallback,y=a.mode,ye=i.child,De=ye.sibling,u=Fa(ye,{mode:"hidden",children:u.children}),u.subtreeFlags=ye.subtreeFlags&65011712,De!==null?Q=Fa(De,Q):(Q=To(Q,y,l,null),Q.flags|=2),Q.return=a,u.return=a,u.sibling=Q,a.child=u,$h(null,u),u=a.child,Q=i.child.memoizedState,Q===null?Q=C1(l):(y=Q.cachePool,y!==null?(ye=Li._currentValue,y=y.parent!==ye?{parent:ye,pool:ye}:y):y=ce(),Q={baseLanes:Q.baseLanes|l,cachePool:y}),u.memoizedState=Q,u.childLanes=N1(i,L,l),a.memoizedState=T1,$h(i.child,u)):(Di(a),l=i.child,i=l.sibling,l=Fa(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(L=a.deletions,L===null?(a.deletions=[i],a.flags|=16):L.push(i)),a.child=l,a.memoizedState=null,l)}function j1(i,a){return a=pd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function pd(i,a){return i=Or(22,i,null,a),i.lanes=0,i}function I1(i,a,l){return ui(a,i.child,null,l),i=j1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function T2(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Ql(i.return,a,l)}function R1(i,a,l,u,y,x){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y,treeForkCount:x}:(L.isBackwards=a,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=y,L.treeForkCount=x)}function C2(i,a,l){var u=a.pendingProps,y=u.revealOrder,x=u.tail;u=u.children;var L=An.current,Q=(L&2)!==0;if(Q?(L=L&1|2,a.flags|=128):L&=1,P(An,L),ea(i,a,u,l),u=gn?Gu:0,!Q&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T2(i,l,a);else if(i.tag===19)T2(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&zr(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),R1(a,!1,y,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&zr(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}R1(a,!0,l,null,x,u);break;case"together":R1(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ml(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ru|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Ro(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Fa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Fa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function L1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Nc(i)))}function Aw(i,a,l){switch(a.tag){case 3:_e(a,a.stateNode.containerInfo),Io(a,Li,i.memoizedState.cache),hl();break;case 27:case 5:Oe(a);break;case 4:_e(a,a.stateNode.containerInfo);break;case 10:Io(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Un(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Di(a),a.flags|=128,null):(l&a.child.childLanes)!==0?E2(i,a,l):(Di(a),i=ml(i,a,l),i!==null?i.sibling:null);Di(a);break;case 19:var y=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ro(i,a,l,!1),u=(l&a.childLanes)!==0),y){if(u)return C2(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),P(An,An.current),u)break;return null;case 22:return a.lanes=0,b2(i,a,l,a.pendingProps);case 24:Io(a,Li,i.memoizedState.cache)}return ml(i,a,l)}function N2(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)sr=!0;else{if(!L1(i,l)&&(a.flags&128)===0)return sr=!1,Aw(i,a,l);sr=(i.flags&131072)!==0}else sr=!1,gn&&(a.flags&1048576)!==0&&td(a,Gu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=Ie(a.elementType),a.type=i,typeof i=="function")wc(i)?(u=Qu(i,u),a.tag=1,a=S2(null,a,i,u,l)):(a.tag=0,a=E1(null,a,i,u,l));else{if(i!=null){var y=i.$$typeof;if(y===se){a.tag=11,a=m2(null,a,i,u,l);break e}else if(y===K){a.tag=14,a=y2(null,a,i,u,l);break e}}throw a=H(i)||i,Error(r(306,a,""))}}return a;case 0:return E1(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,y=Qu(u,a.pendingProps),S2(i,a,u,y,l);case 3:e:{if(_e(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var x=a.memoizedState;y=x.element,gi(i,a),zi(a,u,null,l);var L=a.memoizedState;if(u=L.cache,Io(a,Li,u),u!==x.cache&&fl(a,[Li],l,!0),ii(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=A2(i,a,u,l);break e}else if(u!==y){y=Ba(Error(r(424)),a),Kl(y),a=A2(i,a,u,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,li=Os(i.firstChild),_r=a,gn=!0,Zr=null,Si=!0,l=en(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hl(),u===y){a=ml(i,a,l);break e}ea(i,a,u,l)}a=a.child}return a;case 26:return dd(i,a),i===null?(l=F5(a.type,null,a.pendingProps,null))?a.memoizedState=l:gn||(l=a.type,i=a.pendingProps,u=Id(re.current).createElement(l),u[On]=a,u[Wn]=i,ta(u,l,i),pi(u),a.stateNode=u):a.memoizedState=F5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Oe(a),i===null&&gn&&(u=a.stateNode=O5(a.type,a.pendingProps,re.current),_r=a,Si=!0,y=li,uu(a.type)?(hg=y,li=Os(u.firstChild)):li=y),ea(i,a,a.pendingProps.children,l),dd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gn&&((y=u=li)&&(u=e3(u,a.type,a.pendingProps,Si),u!==null?(a.stateNode=u,_r=a,li=Os(u.firstChild),Si=!1,y=!0):y=!1),y||No(a)),Oe(a),y=a.type,x=a.pendingProps,L=i!==null?i.memoizedProps:null,u=x.children,sg(y,x)?u=null:L!==null&&sg(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=Fh(i,a,d1,null,null,l),cf._currentValue=y),dd(i,a),ea(i,a,u,l),a.child;case 6:return i===null&&gn&&((i=l=li)&&(l=t3(l,a.pendingProps,Si),l!==null?(a.stateNode=l,_r=a,li=null,i=!0):i=!1),i||No(a)),null;case 13:return E2(i,a,l);case 4:return _e(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=ui(a,null,u,l):ea(i,a,u,l),a.child;case 11:return m2(i,a,a.type,a.pendingProps,l);case 7:return ea(i,a,a.pendingProps,l),a.child;case 8:return ea(i,a,a.pendingProps.children,l),a.child;case 12:return ea(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Io(a,a.type,u.value),ea(i,a,u.children,l),a.child;case 9:return y=a.type._context,u=a.pendingProps.children,Lo(a),y=Sr(y),u=u(y),a.flags|=1,ea(i,a,u,l),a.child;case 14:return y2(i,a,a.type,a.pendingProps,l);case 15:return v2(i,a,a.type,a.pendingProps,l);case 19:return C2(i,a,l);case 31:return Sw(i,a,l);case 22:return b2(i,a,l,a.pendingProps);case 24:return Lo(a),u=Sr(Li),i===null?(y=Z(),y===null&&(y=ci,x=Xl(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),a.memoizedState={parent:u,cache:y},tt(a),Io(a,Li,y)):((i.lanes&l)!==0&&(gi(i,a),zi(a,null,null,l),ii()),y=i.memoizedState,x=a.memoizedState,y.parent!==u?(y={parent:u,cache:u},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Io(a,Li,u)):(u=x.cache,Io(a,Li,u),u!==y.cache&&fl(a,[Li],l,!0))),ea(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function yl(i){i.flags|=4}function D1(i,a,l,u,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(t5())i.flags|=8192;else throw ze=we,Re}else i.flags&=-16777217}function j2(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H5(a))if(t5())i.flags|=8192;else throw ze=we,Re}function gd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ra():536870912,i.lanes|=a,qc|=a)}function Kh(i,a){if(!gn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function vi(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function Ew(i,a,l){var u=a.pendingProps;switch(Tc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(a),null;case 1:return vi(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ga(Li),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(wr(a)?yl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ph())),vi(a),null;case 26:var y=a.type,x=a.memoizedState;return i===null?(yl(a),x!==null?(vi(a),j2(a,x)):(vi(a),D1(a,y,null,u,l))):x?x!==i.memoizedState?(yl(a),vi(a),j2(a,x)):(vi(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&yl(a),vi(a),D1(a,y,i,u,l)),null;case 27:if(ge(a),l=re.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}i=Y.current,wr(a)?Oh(a):(i=O5(y,u,l),a.stateNode=i,yl(a))}return vi(a),null;case 5:if(ge(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return vi(a),null}if(x=Y.current,wr(a))Oh(a);else{var L=Id(re.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(y,{is:u.is}):L.createElement(y)}}x[On]=a,x[Wn]=u;e:for(L=a.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===a)break e;for(;L.sibling===null;){if(L.return===null||L.return===a)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}a.stateNode=x;e:switch(ta(x,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&yl(a)}}return vi(a),D1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&yl(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=re.current,wr(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,y=_r,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}i[On]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||E5(i.nodeValue,l)),i||No(a,!0)}else i=Id(i).createTextNode(u),i[On]=a,a.stateNode=i}return vi(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=wr(a),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[On]=a}else hl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),i=!1}else l=Ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return vi(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=wr(a),u!==null&&u.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[On]=a}else hl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vi(a),y=!1}else y=Ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==y&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),gd(a,a.updateQueue),vi(a),null);case 4:return me(),i===null&&tg(a.stateNode.containerInfo),vi(a),null;case 10:return Ga(a.type),vi(a),null;case 19:if(k(An),u=a.memoizedState,u===null)return vi(a),null;if(y=(a.flags&128)!==0,x=u.rendering,x===null)if(y)Kh(u,!1);else{if(qi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=zr(i),x!==null){for(a.flags|=128,Kh(u,!1),i=x.updateQueue,a.updateQueue=i,gd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)qu(l,i),l=l.sibling;return P(An,An.current&1|2),gn&&ja(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&$t()>xd&&(a.flags|=128,y=!0,Kh(u,!1),a.lanes=4194304)}else{if(!y)if(i=zr(x),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,gd(a,i),Kh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!gn)return vi(a),null}else 2*$t()-u.renderingStartTime>xd&&l!==536870912&&(a.flags|=128,y=!0,Kh(u,!1),a.lanes=4194304);u.isBackwards?(x.sibling=a.child,a.child=x):(i=u.last,i!==null?i.sibling=x:a.child=x,u.last=x)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=$t(),i.sibling=null,l=An.current,P(An,y?l&1|2:l&1),gn&&ja(a,u.treeForkCount),i):(vi(a),null);case 22:case 23:return Kn(a),Ki(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(vi(a),a.subtreeFlags&6&&(a.flags|=8192)):vi(a),l=a.updateQueue,l!==null&&gd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&k($),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ga(Li),vi(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Tw(i,a){switch(Tc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ga(Li),me(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ge(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(r(340));hl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Kn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return k(An),null;case 4:return me(),null;case 10:return Ga(a.type),null;case 22:case 23:return Kn(a),Ki(),i!==null&&k($),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ga(Li),null;case 25:return null;default:return null}}function I2(i,a){switch(Tc(a),a.tag){case 3:Ga(Li),me();break;case 26:case 27:case 5:ge(a);break;case 4:me();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:k(An);break;case 10:Ga(a.type);break;case 22:case 23:Kn(a),Ki(),i!==null&&k($);break;case 24:Ga(Li)}}function Qh(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&i)===i){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==y)}}catch(Q){Xn(a,a.return,Q)}}function nu(i,a,l){try{var u=a.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var x=y.next;u=x;do{if((u.tag&i)===i){var L=u.inst,Q=L.destroy;if(Q!==void 0){L.destroy=void 0,y=a;var ye=l,De=Q;try{De()}catch(Ve){Xn(y,ye,Ve)}}}u=u.next}while(u!==x)}}catch(Ve){Xn(a,a.return,Ve)}}function R2(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Fi(a,l)}catch(u){Xn(i,i.return,u)}}}function L2(i,a,l){l.props=Qu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Xn(i,a,u)}}function Xh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(y){Xn(i,a,y)}}function Po(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){Xn(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Xn(i,a,y)}else l.current=null}function D2(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){Xn(i,i.return,y)}}function k1(i,a,l){try{var u=i.stateNode;$w(u,i.type,l,a),u[Wn]=a}catch(y){Xn(i,i.return,y)}}function k2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&uu(i.type)||i.tag===4}function M1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||k2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&uu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function O1(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=wa));else if(u!==4&&(u===27&&uu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(O1(i,a,l),i=i.sibling;i!==null;)O1(i,a,l),i=i.sibling}function md(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&uu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(md(i,a,l),i=i.sibling;i!==null;)md(i,a,l),i=i.sibling}function M2(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ta(a,u,l),a[On]=i,a[Wn]=l}catch(x){Xn(i,i.return,x)}}var vl=!1,or=!1,P1=!1,O2=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function Cw(i,a){if(i=i.containerInfo,rg=Pd,i=Xs(i),Rs(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,Q=-1,ye=-1,De=0,Ve=0,Ge=i,Me=null;t:for(;;){for(var Pe;Ge!==l||y!==0&&Ge.nodeType!==3||(Q=L+y),Ge!==x||u!==0&&Ge.nodeType!==3||(ye=L+u),Ge.nodeType===3&&(L+=Ge.nodeValue.length),(Pe=Ge.firstChild)!==null;)Me=Ge,Ge=Pe;for(;;){if(Ge===i)break t;if(Me===l&&++De===y&&(Q=L),Me===x&&++Ve===u&&(ye=L),(Pe=Ge.nextSibling)!==null)break;Ge=Me,Me=Ge.parentNode}Ge=Pe}l=Q===-1||ye===-1?null:{start:Q,end:ye}}else l=null}l=l||{start:0,end:0}}else l=null;for(ag={focusedElem:i,selectionRange:l},Pd=!1,Fr=a;Fr!==null;)if(a=Fr,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Fr=i;else for(;Fr!==null;){switch(a=Fr,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,y=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var ft=Qu(l.type,y);i=u.getSnapshotBeforeUpdate(ft,x),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){Xn(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)lg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Fr=i;break}Fr=a.return}}function P2(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:xl(i,l),u&4&&Qh(5,l);break;case 1:if(xl(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(L){Xn(l,l.return,L)}else{var y=Qu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Xn(l,l.return,L)}}u&64&&R2(l),u&512&&Xh(l,l.return);break;case 3:if(xl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Fi(i,a)}catch(L){Xn(l,l.return,L)}}break;case 27:a===null&&u&4&&M2(l);case 26:case 5:xl(i,l),a===null&&u&4&&D2(l),u&512&&Xh(l,l.return);break;case 12:xl(i,l);break;case 31:xl(i,l),u&4&&B2(i,l);break;case 13:xl(i,l),u&4&&V2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Ow.bind(null,l),n3(i,l))));break;case 22:if(u=l.memoizedState!==null||vl,!u){a=a!==null&&a.memoizedState!==null||or,y=vl;var x=or;vl=u,(or=a)&&!x?_l(i,l,(l.subtreeFlags&8772)!==0):xl(i,l),vl=y,or=x}break;case 30:break;default:xl(i,l)}}function z2(i){var a=i.alternate;a!==null&&(i.alternate=null,z2(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ns(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ti=null,Wa=!1;function bl(i,a,l){for(l=l.child;l!==null;)F2(i,a,l),l=l.sibling}function F2(i,a,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Xt,l)}catch{}switch(l.tag){case 26:or||Po(l,a),bl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:or||Po(l,a);var u=Ti,y=Wa;uu(l.type)&&(Ti=l.stateNode,Wa=!1),bl(i,a,l),of(l.stateNode),Ti=u,Wa=y;break;case 5:or||Po(l,a);case 6:if(u=Ti,y=Wa,Ti=null,bl(i,a,l),Ti=u,Wa=y,Ti!==null)if(Wa)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(l.stateNode)}catch(x){Xn(l,a,x)}else try{Ti.removeChild(l.stateNode)}catch(x){Xn(l,a,x)}break;case 18:Ti!==null&&(Wa?(i=Ti,R5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xc(i)):R5(Ti,l.stateNode));break;case 4:u=Ti,y=Wa,Ti=l.stateNode.containerInfo,Wa=!0,bl(i,a,l),Ti=u,Wa=y;break;case 0:case 11:case 14:case 15:nu(2,l,a),or||nu(4,l,a),bl(i,a,l);break;case 1:or||(Po(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&L2(l,a,u)),bl(i,a,l);break;case 21:bl(i,a,l);break;case 22:or=(u=or)||l.memoizedState!==null,bl(i,a,l),or=u;break;default:bl(i,a,l)}}function B2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xc(i)}catch(l){Xn(a,a.return,l)}}}function V2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(l){Xn(a,a.return,l)}}function Nw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new O2),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new O2),a;default:throw Error(r(435,i.tag))}}function yd(i,a){var l=Nw(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var y=Pw.bind(null,i,u);u.then(y,y)}})}function $a(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],x=i,L=a,Q=L;e:for(;Q!==null;){switch(Q.tag){case 27:if(uu(Q.type)){Ti=Q.stateNode,Wa=!1;break e}break;case 5:Ti=Q.stateNode,Wa=!1;break e;case 3:case 4:Ti=Q.stateNode.containerInfo,Wa=!0;break e}Q=Q.return}if(Ti===null)throw Error(r(160));F2(x,L,y),Ti=null,Wa=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)U2(a,i),a=a.sibling}var ao=null;function U2(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$a(a,i),Ka(i),u&4&&(nu(3,i,i.return),Qh(3,i),nu(5,i,i.return));break;case 1:$a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),u&64&&vl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=ao;if($a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Ir]||x[On]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(u),y.head.insertBefore(x,y.querySelector("head > title"))),ta(x,u,l),x[On]=i,pi(x),u=x;break e;case"link":var L=U5("link","href",y).get(u+(l.href||""));if(L){for(var Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(Q,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;case"meta":if(L=U5("meta","content",y).get(u+(l.content||""))){for(Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(Q,1);break t}}x=y.createElement(u),ta(x,u,l),y.head.appendChild(x);break;default:throw Error(r(468,u))}x[On]=i,pi(x),u=x}i.stateNode=u}else q5(y,i.type,i.stateNode);else i.stateNode=V5(y,u,i.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?q5(y,i.type,i.stateNode):V5(y,u,i.memoizedProps)):u===null&&i.stateNode!==null&&k1(i,i.memoizedProps,l.memoizedProps)}break;case 27:$a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),l!==null&&u&4&&k1(i,i.memoizedProps,l.memoizedProps);break;case 5:if($a(a,i),Ka(i),u&512&&(or||l===null||Po(l,l.return)),i.flags&32){y=i.stateNode;try{Yi(y,"")}catch(ft){Xn(i,i.return,ft)}}u&4&&i.stateNode!=null&&(y=i.memoizedProps,k1(i,y,l!==null?l.memoizedProps:y)),u&1024&&(P1=!0);break;case 6:if($a(a,i),Ka(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ft){Xn(i,i.return,ft)}}break;case 3:if(Dd=null,y=ao,ao=Rd(a.containerInfo),$a(a,i),ao=y,Ka(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(a.containerInfo)}catch(ft){Xn(i,i.return,ft)}P1&&(P1=!1,q2(i));break;case 4:u=ao,ao=Rd(i.stateNode.containerInfo),$a(a,i),Ka(i),ao=u;break;case 12:$a(a,i),Ka(i);break;case 31:$a(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yd(i,u)));break;case 13:$a(a,i),Ka(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bd=$t()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yd(i,u)));break;case 22:y=i.memoizedState!==null;var ye=l!==null&&l.memoizedState!==null,De=vl,Ve=or;if(vl=De||y,or=Ve||ye,$a(a,i),or=Ve,vl=De,Ka(i),u&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ye||vl||or||Xu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ye=l=a;try{if(x=ye.stateNode,y)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Q=ye.stateNode;var Ge=ye.memoizedProps.style,Me=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;Q.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(ft){Xn(ye,ye.return,ft)}}}else if(a.tag===6){if(l===null){ye=a;try{ye.stateNode.nodeValue=y?"":ye.memoizedProps}catch(ft){Xn(ye,ye.return,ft)}}}else if(a.tag===18){if(l===null){ye=a;try{var Pe=ye.stateNode;y?L5(Pe,!0):L5(ye.stateNode,!1)}catch(ft){Xn(ye,ye.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yd(i,l))));break;case 19:$a(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yd(i,u)));break;case 30:break;case 21:break;default:$a(a,i),Ka(i)}}function Ka(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(k2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,x=M1(i);md(i,x,y);break;case 5:var L=l.stateNode;l.flags&32&&(Yi(L,""),l.flags&=-33);var Q=M1(i);md(i,Q,L);break;case 3:case 4:var ye=l.stateNode.containerInfo,De=M1(i);O1(i,De,ye);break;default:throw Error(r(161))}}catch(Ve){Xn(i,i.return,Ve)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function q2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;q2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function xl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)P2(i,a.alternate,a),a=a.sibling}function Xu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:nu(4,a,a.return),Xu(a);break;case 1:Po(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&L2(a,a.return,l),Xu(a);break;case 27:of(a.stateNode);case 26:case 5:Po(a,a.return),Xu(a);break;case 22:a.memoizedState===null&&Xu(a);break;case 30:Xu(a);break;default:Xu(a)}i=i.sibling}}function _l(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,y=i,x=a,L=x.flags;switch(x.tag){case 0:case 11:case 15:_l(y,x,l),Qh(4,x);break;case 1:if(_l(y,x,l),u=x,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(De){Xn(u,u.return,De)}if(u=x,y=u.updateQueue,y!==null){var Q=u.stateNode;try{var ye=y.shared.hiddenCallbacks;if(ye!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ye.length;y++)Pr(ye[y],Q)}catch(De){Xn(u,u.return,De)}}l&&L&64&&R2(x),Xh(x,x.return);break;case 27:M2(x);case 26:case 5:_l(y,x,l),l&&u===null&&L&4&&D2(x),Xh(x,x.return);break;case 12:_l(y,x,l);break;case 31:_l(y,x,l),l&&L&4&&B2(y,x);break;case 13:_l(y,x,l),l&&L&4&&V2(y,x);break;case 22:x.memoizedState===null&&_l(y,x,l),Xh(x,x.return);break;case 30:break;default:_l(y,x,l)}a=a.sibling}}function z1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Yu(l))}function F1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yu(i))}function so(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)H2(i,a,l,u),a=a.sibling}function H2(i,a,l,u){var y=a.flags;switch(a.tag){case 0:case 11:case 15:so(i,a,l,u),y&2048&&Qh(9,a);break;case 1:so(i,a,l,u);break;case 3:so(i,a,l,u),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yu(i)));break;case 12:if(y&2048){so(i,a,l,u),i=a.stateNode;try{var x=a.memoizedProps,L=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(L,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ye){Xn(a,a.return,ye)}}else so(i,a,l,u);break;case 31:so(i,a,l,u);break;case 13:so(i,a,l,u);break;case 23:break;case 22:x=a.stateNode,L=a.alternate,a.memoizedState!==null?x._visibility&2?so(i,a,l,u):Zh(i,a):x._visibility&2?so(i,a,l,u):(x._visibility|=2,Bc(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),y&2048&&z1(L,a);break;case 24:so(i,a,l,u),y&2048&&F1(a.alternate,a);break;default:so(i,a,l,u)}}function Bc(i,a,l,u,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,L=a,Q=l,ye=u,De=L.flags;switch(L.tag){case 0:case 11:case 15:Bc(x,L,Q,ye,y),Qh(8,L);break;case 23:break;case 22:var Ve=L.stateNode;L.memoizedState!==null?Ve._visibility&2?Bc(x,L,Q,ye,y):Zh(x,L):(Ve._visibility|=2,Bc(x,L,Q,ye,y)),y&&De&2048&&z1(L.alternate,L);break;case 24:Bc(x,L,Q,ye,y),y&&De&2048&&F1(L.alternate,L);break;default:Bc(x,L,Q,ye,y)}a=a.sibling}}function Zh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,y=u.flags;switch(u.tag){case 22:Zh(l,u),y&2048&&z1(u.alternate,u);break;case 24:Zh(l,u),y&2048&&F1(u.alternate,u);break;default:Zh(l,u)}a=a.sibling}}var Jh=8192;function Vc(i,a,l){if(i.subtreeFlags&Jh)for(i=i.child;i!==null;)G2(i,a,l),i=i.sibling}function G2(i,a,l){switch(i.tag){case 26:Vc(i,a,l),i.flags&Jh&&i.memoizedState!==null&&p3(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Vc(i,a,l);break;case 3:case 4:var u=ao;ao=Rd(i.stateNode.containerInfo),Vc(i,a,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Jh,Jh=16777216,Vc(i,a,l),Jh=u):Vc(i,a,l));break;default:Vc(i,a,l)}}function Y2(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ef(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Fr=u,$2(u,i)}Y2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W2(i),i=i.sibling}function W2(i){switch(i.tag){case 0:case 11:case 15:ef(i),i.flags&2048&&nu(9,i,i.return);break;case 3:ef(i);break;case 12:ef(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,vd(i)):ef(i);break;default:ef(i)}}function vd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Fr=u,$2(u,i)}Y2(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:nu(8,a,a.return),vd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,vd(a));break;default:vd(a)}i=i.sibling}}function $2(i,a){for(;Fr!==null;){var l=Fr;switch(l.tag){case 0:case 11:case 15:nu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Fr=u;else e:for(l=i;Fr!==null;){u=Fr;var y=u.sibling,x=u.return;if(z2(u),u===l){Fr=null;break e}if(y!==null){y.return=x,Fr=y;break e}Fr=x}}}var jw={getCacheForType:function(i){var a=Sr(Li),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Sr(Li).controller.signal}},Iw=typeof WeakMap=="function"?WeakMap:Map,qn=0,ci=null,mn=null,bn=0,Qn=0,fs=null,iu=!1,Uc=!1,B1=!1,wl=0,qi=0,ru=0,Zu=0,V1=0,ds=0,qc=0,tf=null,Qa=null,U1=!1,bd=0,K2=0,xd=1/0,_d=null,au=null,Er=0,su=null,Hc=null,Sl=0,q1=0,H1=null,Q2=null,nf=0,G1=null;function ps(){return(qn&2)!==0&&bn!==0?bn&-bn:ne.T!==null?X1():Mi()}function X2(){if(ds===0)if((bn&536870912)===0||gn){var i=Mn;Mn<<=1,(Mn&3932160)===0&&(Mn=262144),ds=i}else ds=536870912;return i=yi.current,i!==null&&(i.flags|=32),ds}function Xa(i,a,l){(i===ci&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(Gc(i,0),ou(i,bn,ds,!1)),At(i,l),((qn&2)===0||i!==ci)&&(i===ci&&((qn&2)===0&&(Zu|=l),qi===4&&ou(i,bn,ds,!1)),zo(i))}function Z2(i,a,l){if((qn&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||dr(i,a),y=u?Dw(i,a):W1(i,a,!0),x=u;do{if(y===0){Uc&&!u&&ou(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!Rw(l)){y=W1(i,a,!1),x=!1;continue}if(y===2){if(x=a,i.errorRecoveryDisabledLanes&x)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var Q=i;y=tf;var ye=Q.current.memoizedState.isDehydrated;if(ye&&(Gc(Q,L).flags|=256),L=W1(Q,L,!1),L!==2){if(B1&&!ye){Q.errorRecoveryDisabledLanes|=x,Zu|=x,y=4;break e}x=Qa,Qa=y,x!==null&&(Qa===null?Qa=x:Qa.push.apply(Qa,x))}y=L}if(x=!1,y!==2)continue}}if(y===1){Gc(i,0),ou(i,a,0,!0);break}e:{switch(u=i,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ou(u,a,ds,!iu);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=bd+300-$t(),10<y)){if(ou(u,a,ds,!iu),ln(u,0,!0)!==0)break e;Sl=a,u.timeoutHandle=j5(J2.bind(null,u,l,Qa,_d,U1,a,ds,Zu,qc,iu,x,"Throttled",-0,0),y);break e}J2(u,l,Qa,_d,U1,a,ds,Zu,qc,iu,x,null,-0,0)}}break}while(!0);zo(i)}function J2(i,a,l,u,y,x,L,Q,ye,De,Ve,Ge,Me,Pe){if(i.timeoutHandle=-1,Ge=a.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},G2(a,x,Ge);var ft=(x&62914560)===x?bd-$t():(x&4194048)===x?K2-$t():0;if(ft=g3(Ge,ft),ft!==null){Sl=x,i.cancelPendingCommit=ft(o5.bind(null,i,a,x,l,u,y,L,Q,ye,Ve,Ge,null,Me,Pe)),ou(i,x,L,!De);return}}o5(i,a,x,l,u,y,L,Q,ye)}function Rw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],x=y.getSnapshot;y=y.value;try{if(!br(x(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ou(i,a,l,u){a&=~V1,a&=~Zu,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var y=a;0<y;){var x=31-Kt(y),L=1<<x;u[x]=-1,y&=~L}l!==0&&Ur(i,l,a)}function wd(){return(qn&6)===0?(rf(0),!1):!0}function Y1(){if(mn!==null){if(Qn===0)var i=mn.return;else i=mn,Ds=jo=null,Dc(i),We=null,pt=0,i=mn;for(;i!==null;)I2(i.alternate,i),i=i.return;mn=null}}function Gc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Xw(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Sl=0,Y1(),ci=i,mn=l=Fa(i.current,null),bn=a,Qn=0,fs=null,iu=!1,Uc=dr(i,a),B1=!1,qc=ds=V1=Zu=ru=qi=0,Qa=tf=null,U1=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var y=31-Kt(u),x=1<<y;a|=i[y],u&=~x}return wl=a,Bu(),l}function e5(i,a){It=null,ne.H=Wh,a===be||a===le?(a=Ue(),Qn=3):a===Re?(a=Ue(),Qn=4):Qn=a===A1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fs=a,mn===null&&(qi=1,hd(i,Ba(a,i.current)))}function t5(){var i=yi.current;return i===null?!0:(bn&4194048)===bn?Tn===null:(bn&62914560)===bn||(bn&536870912)!==0?i===Tn:!1}function n5(){var i=ne.H;return ne.H=Wh,i===null?Wh:i}function i5(){var i=ne.A;return ne.A=jw,i}function Sd(){qi=4,iu||(bn&4194048)!==bn&&yi.current!==null||(Uc=!0),(ru&134217727)===0&&(Zu&134217727)===0||ci===null||ou(ci,bn,ds,!1)}function W1(i,a,l){var u=qn;qn|=2;var y=n5(),x=i5();(ci!==i||bn!==a)&&(_d=null,Gc(i,a)),a=!1;var L=qi;e:do try{if(Qn!==0&&mn!==null){var Q=mn,ye=fs;switch(Qn){case 8:Y1(),L=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(a=!0);var De=Qn;if(Qn=0,fs=null,Yc(i,Q,ye,De),l&&Uc){L=0;break e}break;default:De=Qn,Qn=0,fs=null,Yc(i,Q,ye,De)}}Lw(),L=qi;break}catch(Ve){e5(i,Ve)}while(!0);return a&&i.shellSuspendCounter++,Ds=jo=null,qn=u,ne.H=y,ne.A=x,mn===null&&(ci=null,bn=0,Bu()),L}function Lw(){for(;mn!==null;)r5(mn)}function Dw(i,a){var l=qn;qn|=2;var u=n5(),y=i5();ci!==i||bn!==a?(_d=null,xd=$t()+500,Gc(i,a)):Uc=dr(i,a);e:do try{if(Qn!==0&&mn!==null){a=mn;var x=fs;t:switch(Qn){case 1:Qn=0,fs=null,Yc(i,a,x,1);break;case 2:case 9:if(Ne(x)){Qn=0,fs=null,a5(a);break}a=function(){Qn!==2&&Qn!==9||ci!==i||(Qn=7),zo(i)},x.then(a,a);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:Ne(x)?(Qn=0,fs=null,a5(a)):(Qn=0,fs=null,Yc(i,a,x,7));break;case 5:var L=null;switch(mn.tag){case 26:L=mn.memoizedState;case 5:case 27:var Q=mn;if(L?H5(L):Q.stateNode.complete){Qn=0,fs=null;var ye=Q.sibling;if(ye!==null)mn=ye;else{var De=Q.return;De!==null?(mn=De,Ad(De)):mn=null}break t}}Qn=0,fs=null,Yc(i,a,x,5);break;case 6:Qn=0,fs=null,Yc(i,a,x,6);break;case 8:Y1(),qi=6;break e;default:throw Error(r(462))}}kw();break}catch(Ve){e5(i,Ve)}while(!0);return Ds=jo=null,ne.H=u,ne.A=y,qn=l,mn!==null?0:(ci=null,bn=0,Bu(),qi)}function kw(){for(;mn!==null&&!Nt();)r5(mn)}function r5(i){var a=N2(i.alternate,i,wl);i.memoizedProps=i.pendingProps,a===null?Ad(i):mn=a}function a5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=w2(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=w2(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:Dc(a);default:I2(l,a),a=mn=qu(a,wl),a=N2(l,a,wl)}i.memoizedProps=i.pendingProps,a===null?Ad(i):mn=a}function Yc(i,a,l,u){Ds=jo=null,Dc(a),We=null,pt=0;var y=a.return;try{if(ww(i,y,a,l,bn)){qi=1,hd(i,Ba(l,i.current)),mn=null;return}}catch(x){if(y!==null)throw mn=y,x;qi=1,hd(i,Ba(l,i.current)),mn=null;return}a.flags&32768?(gn||u===1?i=!0:Uc||(bn&536870912)!==0?i=!1:(iu=i=!0,(u===2||u===9||u===3||u===6)&&(u=yi.current,u!==null&&u.tag===13&&(u.flags|=16384))),s5(a,i)):Ad(a)}function Ad(i){var a=i;do{if((a.flags&32768)!==0){s5(a,iu);return}i=a.return;var l=Ew(a.alternate,a,wl);if(l!==null){mn=l;return}if(a=a.sibling,a!==null){mn=a;return}mn=a=i}while(a!==null);qi===0&&(qi=5)}function s5(i,a){do{var l=Tw(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);qi=6,mn=null}function o5(i,a,l,u,y,x,L,Q,ye){i.cancelPendingCommit=null;do Ed();while(Er!==0);if((qn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=bc,ts(i,l,x,L,Q,ye),i===ci&&(mn=ci=null,bn=0),Hc=a,su=i,Sl=l,q1=x,H1=y,Q2=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zw(Qt,function(){return f5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null,y=he.p,he.p=2,L=qn,qn|=4;try{Cw(i,a,l)}finally{qn=L,he.p=y,ne.T=u}}Er=1,l5(),u5(),c5()}}function l5(){if(Er===1){Er=0;var i=su,a=Hc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var y=qn;qn|=4;try{U2(a,i);var x=ag,L=Xs(i.containerInfo),Q=x.focusedElem,ye=x.selectionRange;if(L!==Q&&Q&&Q.ownerDocument&&Qs(Q.ownerDocument.documentElement,Q)){if(ye!==null&&Rs(Q)){var De=ye.start,Ve=ye.end;if(Ve===void 0&&(Ve=De),"selectionStart"in Q)Q.selectionStart=De,Q.selectionEnd=Math.min(Ve,Q.value.length);else{var Ge=Q.ownerDocument||document,Me=Ge&&Ge.defaultView||window;if(Me.getSelection){var Pe=Me.getSelection(),ft=Q.textContent.length,Ft=Math.min(ye.start,ft),si=ye.end===void 0?Ft:Math.min(ye.end,ft);!Pe.extend&&Ft>si&&(L=si,si=Ft,Ft=L);var Te=Gl(Q,Ft),xe=Gl(Q,si);if(Te&&xe&&(Pe.rangeCount!==1||Pe.anchorNode!==Te.node||Pe.anchorOffset!==Te.offset||Pe.focusNode!==xe.node||Pe.focusOffset!==xe.offset)){var Le=Ge.createRange();Le.setStart(Te.node,Te.offset),Pe.removeAllRanges(),Ft>si?(Pe.addRange(Le),Pe.extend(xe.node,xe.offset)):(Le.setEnd(xe.node,xe.offset),Pe.addRange(Le))}}}}for(Ge=[],Pe=Q;Pe=Pe.parentNode;)Pe.nodeType===1&&Ge.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ge.length;Q++){var He=Ge[Q];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Pd=!!rg,ag=rg=null}finally{qn=y,he.p=u,ne.T=l}}i.current=a,Er=2}}function u5(){if(Er===2){Er=0;var i=su,a=Hc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var y=qn;qn|=4;try{P2(i,a.alternate,a)}finally{qn=y,he.p=u,ne.T=l}}Er=3}}function c5(){if(Er===4||Er===3){Er=0,_t();var i=su,a=Hc,l=Sl,u=Q2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Er=5:(Er=0,Hc=su=null,h5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(au=null),Jn(l),a=a.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Xt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=ne.T,y=he.p,he.p=2,ne.T=null;try{for(var x=i.onRecoverableError,L=0;L<u.length;L++){var Q=u[L];x(Q.value,{componentStack:Q.stack})}}finally{ne.T=a,he.p=y}}(Sl&3)!==0&&Ed(),zo(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===G1?nf++:(nf=0,G1=i):nf=0,rf(0)}}function h5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Yu(a)))}function Ed(){return l5(),u5(),c5(),f5()}function f5(){if(Er!==5)return!1;var i=su,a=q1;q1=0;var l=Jn(Sl),u=ne.T,y=he.p;try{he.p=32>l?32:l,ne.T=null,l=H1,H1=null;var x=su,L=Sl;if(Er=0,Hc=su=null,Sl=0,(qn&6)!==0)throw Error(r(331));var Q=qn;if(qn|=4,W2(x.current),H2(x,x.current,L,l),qn=Q,rf(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Xt,x)}catch{}return!0}finally{he.p=y,ne.T=u,h5(i,a)}}function d5(i,a,l){a=Ba(l,a),a=S1(i.stateNode,a,2),i=an(i,a,2),i!==null&&(At(i,2),zo(i))}function Xn(i,a,l){if(i.tag===3)d5(i,i,l);else for(;a!==null;){if(a.tag===3){d5(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(au===null||!au.has(u))){i=Ba(l,i),l=p2(2),u=an(a,l,2),u!==null&&(g2(l,u,a,i),At(u,2),zo(u));break}}a=a.return}}function $1(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new Iw;var y=new Set;u.set(a,y)}else y=u.get(a),y===void 0&&(y=new Set,u.set(a,y));y.has(l)||(B1=!0,y.add(l),i=Mw.bind(null,i,a,l),a.then(i,i))}function Mw(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ci===i&&(bn&l)===l&&(qi===4||qi===3&&(bn&62914560)===bn&&300>$t()-bd?(qn&2)===0&&Gc(i,0):V1|=l,qc===bn&&(qc=0)),zo(i)}function p5(i,a){a===0&&(a=Ra()),i=Js(i,a),i!==null&&(At(i,a),zo(i))}function Ow(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),p5(i,l)}function Pw(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),p5(i,l)}function zw(i,a){return rt(i,a)}var Td=null,Wc=null,K1=!1,Cd=!1,Q1=!1,lu=0;function zo(i){i!==Wc&&i.next===null&&(Wc===null?Td=Wc=i:Wc=Wc.next=i),Cd=!0,K1||(K1=!0,Bw())}function rf(i,a){if(!Q1&&Cd){Q1=!0;do for(var l=!1,u=Td;u!==null;){if(i!==0){var y=u.pendingLanes;if(y===0)var x=0;else{var L=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-Kt(42|i)+1)-1,x&=y&~(L&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,v5(u,x))}else x=bn,x=ln(u,u===ci?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||dr(u,x)||(l=!0,v5(u,x));u=u.next}while(l);Q1=!1}}function Fw(){g5()}function g5(){Cd=K1=!1;var i=0;lu!==0&&Qw()&&(i=lu);for(var a=$t(),l=null,u=Td;u!==null;){var y=u.next,x=m5(u,a);x===0?(u.next=null,l===null?Td=y:l.next=y,y===null&&(Wc=l)):(l=u,(i!==0||(x&3)!==0)&&(Cd=!0)),u=y}Er!==0&&Er!==5||rf(i),lu!==0&&(lu=0)}function m5(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var L=31-Kt(x),Q=1<<L,ye=y[L];ye===-1?((Q&l)===0||(Q&u)!==0)&&(y[L]=er(Q,a)):ye<=a&&(i.expiredLanes|=Q),x&=~Q}if(a=ci,l=bn,l=ln(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||dr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&it(u),Jn(l)){case 2:case 8:l=on;break;case 32:l=Qt;break;case 268435456:l=Ht;break;default:l=Qt}return u=y5.bind(null,i),l=rt(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&it(u),i.callbackPriority=2,i.callbackNode=null,2}function y5(i,a){if(Er!==0&&Er!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ed()&&i.callbackNode!==l)return null;var u=bn;return u=ln(i,i===ci?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Z2(i,u,a),m5(i,$t()),i.callbackNode!=null&&i.callbackNode===l?y5.bind(null,i):null)}function v5(i,a){if(Ed())return null;Z2(i,a,!0)}function Bw(){Zw(function(){(qn&6)!==0?rt(Vt,Fw):g5()})}function X1(){if(lu===0){var i=g;i===0&&(i=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),lu=i}return lu}function b5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lr(""+i)}function x5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Vw(i,a,l,u,y){if(a==="submit"&&l&&l.stateNode===y){var x=b5((y[Wn]||null).action),L=u.submitter;L&&(a=(a=L[Wn]||null)?b5(a.formAction):L.getAttribute("formAction"),a!==null&&(x=a,L=null));var Q=new ir("action","action",null,u,y);i.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lu!==0){var ye=L?x5(y,L):new FormData(y);y1(l,{pending:!0,data:ye,method:y.method,action:x},null,ye)}}else typeof x=="function"&&(Q.preventDefault(),ye=L?x5(y,L):new FormData(y),y1(l,{pending:!0,data:ye,method:y.method,action:x},x,ye))},currentTarget:y}]})}}for(var Z1=0;Z1<ll.length;Z1++){var J1=ll[Z1],Uw=J1.toLowerCase(),qw=J1[0].toUpperCase()+J1.slice(1);za(Uw,"on"+qw)}za(ol,"onAnimationEnd"),za(zu,"onAnimationIteration"),za(Lh,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(Zf,"onTransitionRun"),za(Jf,"onTransitionStart"),za(ed,"onTransitionCancel"),za(Dh,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(af));function _5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],y=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var L=u.length-1;0<=L;L--){var Q=u[L],ye=Q.instance,De=Q.currentTarget;if(Q=Q.listener,ye!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=De;try{x(y)}catch(Ve){Fu(Ve)}y.currentTarget=null,x=ye}else for(L=0;L<u.length;L++){if(Q=u[L],ye=Q.instance,De=Q.currentTarget,Q=Q.listener,ye!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=De;try{x(y)}catch(Ve){Fu(Ve)}y.currentTarget=null,x=ye}}}}function yn(i,a){var l=a[jr];l===void 0&&(l=a[jr]=new Set);var u=i+"__bubble";l.has(u)||(w5(a,i,2,!1),l.add(u))}function eg(i,a,l){var u=0;a&&(u|=4),w5(l,i,u,a)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function tg(i){if(!i[Nd]){i[Nd]=!0,yo.forEach(function(l){l!=="selectionchange"&&(Hw.has(l)||eg(l,!1,i),eg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Nd]||(a[Nd]=!0,eg("selectionchange",!1,a))}}function w5(i,a,l,u){switch(X5(a)){case 2:var y=v3;break;case 8:y=b3;break;default:y=mg}l=y.bind(null,a,l,i),y=void 0,!qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),u?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function ng(i,a,l,u,y){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var Q=u.stateNode.containerInfo;if(Q===y)break;if(L===4)for(L=u.return;L!==null;){var ye=L.tag;if((ye===3||ye===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;Q!==null;){if(L=qr(Q),L===null)return;if(ye=L.tag,ye===5||ye===6||ye===26||ye===27){u=x=L;continue e}Q=Q.parentNode}}u=u.return}Ss(function(){var De=x,Ve=Dr(l),Ge=[];e:{var Me=kh.get(i);if(Me!==void 0){var Pe=ir,ft=i;switch(i){case"keypress":if(Wr(l)===0)break e;case"keydown":case"keyup":Pe=dn;break;case"focusin":ft="focus",Pe=Aa;break;case"focusout":ft="blur",Pe=Aa;break;case"beforeblur":case"afterblur":Pe=Aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j;break;case ol:case zu:case Lh:Pe=S;break;case Dh:Pe=ee;break;case"scroll":case"scrollend":Pe=As;break;case"wheel":Pe=ke;break;case"copy":case"cut":case"paste":Pe=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Gn;break;case"toggle":case"beforetoggle":Pe=qt}var Ft=(a&4)!==0,si=!Ft&&(i==="scroll"||i==="scrollend"),Te=Ft?Me!==null?Me+"Capture":null:Me;Ft=[];for(var xe=De,Le;xe!==null;){var He=xe;if(Le=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Le===null||Te===null||(He=Wi(xe,Te),He!=null&&Ft.push(sf(xe,He,Le))),si)break;xe=xe.return}0<Ft.length&&(Me=new Pe(Me,ft,null,l,Ve),Ge.push({event:Me,listeners:Ft}))}}if((a&7)===0){e:{if(Me=i==="mouseover"||i==="pointerover",Pe=i==="mouseout"||i==="pointerout",Me&&l!==ss&&(ft=l.relatedTarget||l.fromElement)&&(qr(ft)||ft[Oi]))break e;if((Pe||Me)&&(Me=Ve.window===Ve?Ve:(Me=Ve.ownerDocument)?Me.defaultView||Me.parentWindow:window,Pe?(ft=l.relatedTarget||l.toElement,Pe=De,ft=ft?qr(ft):null,ft!==null&&(si=o(ft),Ft=ft.tag,ft!==si||Ft!==5&&Ft!==27&&Ft!==6)&&(ft=null)):(Pe=null,ft=De),Pe!==ft)){if(Ft=So,He="onMouseLeave",Te="onMouseEnter",xe="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=Gn,He="onPointerLeave",Te="onPointerEnter",xe="pointer"),si=Pe==null?Me:Hr(Pe),Le=ft==null?Me:Hr(ft),Me=new Ft(He,xe+"leave",Pe,l,Ve),Me.target=si,Me.relatedTarget=Le,He=null,qr(Ve)===De&&(Ft=new Ft(Te,xe+"enter",ft,l,Ve),Ft.target=Le,Ft.relatedTarget=si,He=Ft),si=He,Pe&&ft)t:{for(Ft=Gw,Te=Pe,xe=ft,Le=0,He=Te;He;He=Ft(He))Le++;He=0;for(var Dt=xe;Dt;Dt=Ft(Dt))He++;for(;0<Le-He;)Te=Ft(Te),Le--;for(;0<He-Le;)xe=Ft(xe),He--;for(;Le--;){if(Te===xe||xe!==null&&Te===xe.alternate){Ft=Te;break t}Te=Ft(Te),xe=Ft(xe)}Ft=null}else Ft=null;Pe!==null&&S5(Ge,Me,Pe,Ft,!1),ft!==null&&si!==null&&S5(Ge,si,ft,Ft,!0)}}e:{if(Me=De?Hr(De):window,Pe=Me.nodeName&&Me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Me.type==="file")var Fn=Eo;else if(Ou(Me))if(ca)Fn=js;else{Fn=Ii;var xt=ql}else Pe=Me.nodeName,!Pe||Pe.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?De&&xo(De.elementType)&&(Fn=Eo):Fn=vc;if(Fn&&(Fn=Fn(i,De))){Ta(Ge,Fn,l,Ve);break e}xt&&xt(i,Me,De),i==="focusout"&&De&&Me.type==="number"&&De.memoizedProps.value!=null&&el(Me,"number",Me.value)}switch(xt=De?Hr(De):window,i){case"focusin":(Ou(xt)||xt.contentEditable==="true")&&(Ca=xt,Zs=De,kr=null);break;case"focusout":kr=Zs=Ca=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Dn(Ge,l,Ve);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":Dn(Ge,l,Ve)}var un;if(cn)e:{switch(i){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else Ts?Ea(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(yr&&l.locale!=="ko"&&(Ts||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Ts&&(un=rl()):(Yr=Ve,Hs="value"in Yr?Yr.value:Yr.textContent,Ts=!0)),xt=jd(De,xn),0<xt.length&&(xn=new Ae(xn,i,null,l,Ve),Ge.push({event:xn,listeners:xt}),un?xn.data=un:(un=Es(l),un!==null&&(xn.data=un)))),(un=rr?Qr(i,l):Ys(i,l))&&(xn=jd(De,"onBeforeInput"),0<xn.length&&(xt=new Ae("onBeforeInput","beforeinput",null,l,Ve),Ge.push({event:xt,listeners:xn}),xt.data=un)),Vw(Ge,i,De,l,Ve)}_5(Ge,a)})}function sf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function jd(i,a){for(var l=a+"Capture",u=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Wi(i,l),y!=null&&u.unshift(sf(i,y,x)),y=Wi(i,a),y!=null&&u.push(sf(i,y,x))),i.tag===3)return u;i=i.return}return[]}function Gw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function S5(i,a,l,u,y){for(var x=a._reactName,L=[];l!==null&&l!==u;){var Q=l,ye=Q.alternate,De=Q.stateNode;if(Q=Q.tag,ye!==null&&ye===u)break;Q!==5&&Q!==26&&Q!==27||De===null||(ye=De,y?(De=Wi(l,x),De!=null&&L.unshift(sf(l,De,ye))):y||(De=Wi(l,x),De!=null&&L.push(sf(l,De,ye)))),l=l.return}L.length!==0&&i.push({event:a,listeners:L})}var Yw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function A5(i){return(typeof i=="string"?i:""+i).replace(Yw,`
`).replace(Ww,"")}function E5(i,a){return a=A5(a),A5(i)===a}function ai(i,a,l,u,y,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yi(i,""+u);break;case"className":nr(i,"class",u);break;case"tabIndex":nr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(i,l,u);break;case"style":il(i,u,x);break;case"data":if(a!=="object"){nr(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ai(i,a,"name",y.name,y,null),ai(i,a,"formEncType",y.formEncType,y,null),ai(i,a,"formMethod",y.formMethod,y,null),ai(i,a,"formTarget",y.formTarget,y,null)):(ai(i,a,"encType",y.encType,y,null),ai(i,a,"method",y.method,y,null),ai(i,a,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=wa);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Lr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":yn("beforetoggle",i),yn("toggle",i),Gr(i,"popover",u);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_o.get(l)||l,Gr(i,l,u))}}function ig(i,a,l,u,y,x){switch(l){case"style":il(i,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&Yi(i,""+u);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),x=i[Wn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,y),typeof u=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,y);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Gr(i,l,u)}}}function ta(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",i),yn("load",i);var u=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,x,L,l,null)}}y&&ai(i,a,"srcSet",l.srcSet,l,null),u&&ai(i,a,"src",l.src,l,null);return;case"input":yn("invalid",i);var Q=x=L=y=null,ye=null,De=null;for(u in l)if(l.hasOwnProperty(u)){var Ve=l[u];if(Ve!=null)switch(u){case"name":y=Ve;break;case"type":L=Ve;break;case"checked":ye=Ve;break;case"defaultChecked":De=Ve;break;case"value":x=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,a));break;default:ai(i,a,u,Ve,l,null)}}Bl(i,x,Q,ye,De,L,y,!1);return;case"select":yn("invalid",i),u=L=x=null;for(y in l)if(l.hasOwnProperty(y)&&(Q=l[y],Q!=null))switch(y){case"value":x=Q;break;case"defaultValue":L=Q;break;case"multiple":u=Q;default:ai(i,a,y,Q,l,null)}a=x,l=L,i.multiple=!!u,a!=null?mr(i,!!u,a,!1):l!=null&&mr(i,!!u,l,!0);return;case"textarea":yn("invalid",i),x=y=u=null;for(L in l)if(l.hasOwnProperty(L)&&(Q=l[L],Q!=null))switch(L){case"value":u=Q;break;case"defaultValue":y=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:ai(i,a,L,Q,l,null)}rs(i,u,y,x);return;case"option":for(ye in l)l.hasOwnProperty(ye)&&(u=l[ye],u!=null)&&(ye==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ai(i,a,ye,u,l,null));return;case"dialog":yn("beforetoggle",i),yn("toggle",i),yn("cancel",i),yn("close",i);break;case"iframe":case"object":yn("load",i);break;case"video":case"audio":for(u=0;u<af.length;u++)yn(af[u],i);break;case"image":yn("error",i),yn("load",i);break;case"details":yn("toggle",i);break;case"embed":case"source":case"link":yn("error",i),yn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(u=l[De],u!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ai(i,a,De,u,l,null)}return;default:if(xo(a)){for(Ve in l)l.hasOwnProperty(Ve)&&(u=l[Ve],u!==void 0&&ig(i,a,Ve,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&ai(i,a,Q,u,l,null))}function $w(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,L=null,Q=null,ye=null,De=null,Ve=null;for(Pe in l){var Ge=l[Pe];if(l.hasOwnProperty(Pe)&&Ge!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ye=Ge;default:u.hasOwnProperty(Pe)||ai(i,a,Pe,null,u,Ge)}}for(var Me in u){var Pe=u[Me];if(Ge=l[Me],u.hasOwnProperty(Me)&&(Pe!=null||Ge!=null))switch(Me){case"type":x=Pe;break;case"name":y=Pe;break;case"checked":De=Pe;break;case"defaultChecked":Ve=Pe;break;case"value":L=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,a));break;default:Pe!==Ge&&ai(i,a,Me,Pe,u,Ge)}}Vs(i,L,Q,ye,De,Ve,x,y);return;case"select":Pe=L=Q=Me=null;for(x in l)if(ye=l[x],l.hasOwnProperty(x)&&ye!=null)switch(x){case"value":break;case"multiple":Pe=ye;default:u.hasOwnProperty(x)||ai(i,a,x,null,u,ye)}for(y in u)if(x=u[y],ye=l[y],u.hasOwnProperty(y)&&(x!=null||ye!=null))switch(y){case"value":Me=x;break;case"defaultValue":Q=x;break;case"multiple":L=x;default:x!==ye&&ai(i,a,y,x,u,ye)}a=Q,l=L,u=Pe,Me!=null?mr(i,!!l,Me,!1):!!u!=!!l&&(a!=null?mr(i,!!l,a,!0):mr(i,!!l,l?[]:"",!1));return;case"textarea":Pe=Me=null;for(Q in l)if(y=l[Q],l.hasOwnProperty(Q)&&y!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ai(i,a,Q,null,u,y)}for(L in u)if(y=u[L],x=l[L],u.hasOwnProperty(L)&&(y!=null||x!=null))switch(L){case"value":Me=y;break;case"defaultValue":Pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&ai(i,a,L,y,u,x)}tl(i,Me,Pe);return;case"option":for(var ft in l)Me=l[ft],l.hasOwnProperty(ft)&&Me!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:ai(i,a,ft,null,u,Me));for(ye in u)Me=u[ye],Pe=l[ye],u.hasOwnProperty(ye)&&Me!==Pe&&(Me!=null||Pe!=null)&&(ye==="selected"?i.selected=Me&&typeof Me!="function"&&typeof Me!="symbol":ai(i,a,ye,Me,u,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)Me=l[Ft],l.hasOwnProperty(Ft)&&Me!=null&&!u.hasOwnProperty(Ft)&&ai(i,a,Ft,null,u,Me);for(De in u)if(Me=u[De],Pe=l[De],u.hasOwnProperty(De)&&Me!==Pe&&(Me!=null||Pe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:ai(i,a,De,Me,u,Pe)}return;default:if(xo(a)){for(var si in l)Me=l[si],l.hasOwnProperty(si)&&Me!==void 0&&!u.hasOwnProperty(si)&&ig(i,a,si,void 0,u,Me);for(Ve in u)Me=u[Ve],Pe=l[Ve],!u.hasOwnProperty(Ve)||Me===Pe||Me===void 0&&Pe===void 0||ig(i,a,Ve,Me,u,Pe);return}}for(var Te in l)Me=l[Te],l.hasOwnProperty(Te)&&Me!=null&&!u.hasOwnProperty(Te)&&ai(i,a,Te,null,u,Me);for(Ge in u)Me=u[Ge],Pe=l[Ge],!u.hasOwnProperty(Ge)||Me===Pe||Me==null&&Pe==null||ai(i,a,Ge,Me,u,Pe)}function T5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var y=l[u],x=y.transferSize,L=y.initiatorType,Q=y.duration;if(x&&Q&&T5(L)){for(L=0,Q=y.responseEnd,u+=1;u<l.length;u++){var ye=l[u],De=ye.startTime;if(De>Q)break;var Ve=ye.transferSize,Ge=ye.initiatorType;Ve&&T5(Ge)&&(ye=ye.responseEnd,L+=Ve*(ye<Q?1:(Q-De)/(ye-De)))}if(--u,a+=8*(x+L)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var rg=null,ag=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function C5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function sg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var og=null;function Qw(){var i=window.event;return i&&i.type==="popstate"?i===og?!1:(og=i,!0):(og=null,!1)}var j5=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,I5=typeof Promise=="function"?Promise:void 0,Zw=typeof queueMicrotask=="function"?queueMicrotask:typeof I5<"u"?function(i){return I5.resolve(null).then(i).catch(Jw)}:j5;function Jw(i){setTimeout(function(){throw i})}function uu(i){return i==="head"}function R5(i,a){var l=a,u=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(y),Xc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")of(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,of(l);for(var x=l.firstChild;x;){var L=x.nextSibling,Q=x.nodeName;x[Ir]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&of(i.ownerDocument.body);l=y}while(l);Xc(a)}function L5(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function lg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lg(l),ns(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function e3(i,a,l,u){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ir])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Os(i.nextSibling),i===null)break}return null}function t3(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Os(i.nextSibling),i===null))return null;return i}function D5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Os(i.nextSibling),i===null))return null;return i}function ug(i){return i.data==="$?"||i.data==="$~"}function cg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function n3(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Os(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var hg=null;function k5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Os(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function M5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function O5(i,a,l){switch(a=Id(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function of(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ns(i)}var Ps=new Map,P5=new Set;function Rd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Al=he.d;he.d={f:i3,r:r3,D:a3,C:s3,L:o3,m:l3,X:c3,S:u3,M:h3};function i3(){var i=Al.f(),a=wd();return i||a}function r3(i){var a=gr(i);a!==null&&a.tag===5&&a.type==="form"?e2(a):Al.r(i)}var $c=typeof document>"u"?null:document;function z5(i,a,l){var u=$c;if(u&&typeof a=="string"&&a){var y=wi(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),P5.has(y)||(P5.add(y),i={rel:i,crossOrigin:l,href:a},u.querySelector(y)===null&&(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function a3(i){Al.D(i),z5("dns-prefetch",i,null)}function s3(i,a){Al.C(i,a),z5("preconnect",i,a)}function o3(i,a,l){Al.L(i,a,l);var u=$c;if(u&&i&&a){var y='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+wi(l.imageSizes)+'"]')):y+='[href="'+wi(i)+'"]';var x=y;switch(a){case"style":x=Kc(i);break;case"script":x=Qc(i)}Ps.has(x)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ps.set(x,i),u.querySelector(y)!==null||a==="style"&&u.querySelector(lf(x))||a==="script"&&u.querySelector(uf(x))||(a=u.createElement("link"),ta(a,"link",i),pi(a),u.head.appendChild(a)))}}function l3(i,a){Al.m(i,a);var l=$c;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',x=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Qc(i)}if(!Ps.has(x)&&(i=A({rel:"modulepreload",href:i},a),Ps.set(x,i),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uf(x)))return}u=l.createElement("link"),ta(u,"link",i),pi(u),l.head.appendChild(u)}}}function u3(i,a,l){Al.S(i,a,l);var u=$c;if(u&&i){var y=sa(u).hoistableStyles,x=Kc(i);a=a||"default";var L=y.get(x);if(!L){var Q={loading:0,preload:null};if(L=u.querySelector(lf(x)))Q.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ps.get(x))&&fg(i,l);var ye=L=u.createElement("link");pi(ye),ta(ye,"link",i),ye._p=new Promise(function(De,Ve){ye.onload=De,ye.onerror=Ve}),ye.addEventListener("load",function(){Q.loading|=1}),ye.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Ld(L,a,u)}L={type:"stylesheet",instance:L,count:1,state:Q},y.set(x,L)}}}function c3(i,a){Al.X(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(uf(y)),x||(i=A({src:i,async:!0},a),(a=Ps.get(y))&&dg(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function h3(i,a){Al.M(i,a);var l=$c;if(l&&i){var u=sa(l).hoistableScripts,y=Qc(i),x=u.get(y);x||(x=l.querySelector(uf(y)),x||(i=A({src:i,async:!0,type:"module"},a),(a=Ps.get(y))&&dg(i,a),x=l.createElement("script"),pi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function F5(i,a,l,u){var y=(y=re.current)?Rd(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Kc(l.href),l=sa(y).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Kc(l.href);var x=sa(y).hoistableStyles,L=x.get(i);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,L),(x=y.querySelector(lf(i)))&&!x._p&&(L.instance=x,L.state.loading=5),Ps.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ps.set(i,l),x||f3(y,i,l,L.state))),a&&u===null)throw Error(r(528,""));return L}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qc(l),l=sa(y).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kc(i){return'href="'+wi(i)+'"'}function lf(i){return'link[rel="stylesheet"]['+i+"]"}function B5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function f3(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ta(a,"link",l),pi(a),i.head.appendChild(a))}function Qc(i){return'[src="'+wi(i)+'"]'}function uf(i){return"script[async]"+i}function V5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+wi(l.href)+'"]');if(u)return a.instance=u,pi(u),u;var y=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pi(u),ta(u,"style",y),Ld(u,l.precedence,i),a.instance=u;case"stylesheet":y=Kc(l.href);var x=i.querySelector(lf(y));if(x)return a.state.loading|=4,a.instance=x,pi(x),x;u=B5(l),(y=Ps.get(y))&&fg(u,y),x=(i.ownerDocument||i).createElement("link"),pi(x);var L=x;return L._p=new Promise(function(Q,ye){L.onload=Q,L.onerror=ye}),ta(x,"link",u),a.state.loading|=4,Ld(x,l.precedence,i),a.instance=x;case"script":return x=Qc(l.src),(y=i.querySelector(uf(x)))?(a.instance=y,pi(y),y):(u=l,(y=Ps.get(x))&&(u=A({},l),dg(u,y)),i=i.ownerDocument||i,y=i.createElement("script"),pi(y),ta(y,"link",u),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ld(u,l.precedence,i));return a.instance}function Ld(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,x=y,L=0;L<u.length;L++){var Q=u[L];if(Q.dataset.precedence===a)x=Q;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function fg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function dg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Dd=null;function U5(i,a,l){if(Dd===null){var u=new Map,y=Dd=new Map;y.set(l,u)}else y=Dd,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[Ir]||x[On]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(a)||"";L=i+L;var Q=u.get(L);Q?Q.push(x):u.set(L,[x])}}return u}function q5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function d3(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function H5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function p3(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Kc(u.href),x=a.querySelector(lf(y));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=kd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,pi(x);return}x=a.ownerDocument||a,u=B5(u),(y=Ps.get(y))&&fg(u,y),x=x.createElement("link"),pi(x);var L=x;L._p=new Promise(function(Q,ye){L.onload=Q,L.onerror=ye}),ta(x,"link",u),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=kd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var pg=0;function g3(i,a){return i.stylesheets&&i.count===0&&Od(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Od(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&pg===0&&(pg=62500*Kw());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Od(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>pg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Md=null;function Od(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Md=new Map,a.forEach(m3,i),Md=null,kd.call(i))}function m3(i,a){if(!(a.state.loading&4)){var l=Md.get(i);if(l)var u=l.get(null);else{l=new Map,Md.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var L=y[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}y=a.instance,L=y.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,y),l.set(L,y),this.count++,u=kd.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var cf={$$typeof:ae,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function y3(i,a,l,u,y,x,L,Q,ye){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function G5(i,a,l,u,y,x,L,Q,ye,De,Ve,Ge){return i=new y3(i,a,l,L,ye,De,Ve,Ge,Q),a=1,x===!0&&(a|=24),x=Or(3,null,null,a),i.current=x,x.stateNode=i,a=Xl(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},tt(x),i}function Y5(i){return i?(i=xr,i):xr}function W5(i,a,l,u,y,x){y=Y5(y),u.context===null?u.context=y:u.pendingContext=y,u=zt(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=an(i,u,a),l!==null&&(Xa(l,i,a),Vn(l,i,a))}function $5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function gg(i,a){$5(i,a),(i=i.alternate)&&$5(i,a)}function K5(i){if(i.tag===13||i.tag===31){var a=Js(i,67108864);a!==null&&Xa(a,i,67108864),gg(i,67108864)}}function Q5(i){if(i.tag===13||i.tag===31){var a=ps();a=Hn(a);var l=Js(i,a);l!==null&&Xa(l,i,a),gg(i,a)}}var Pd=!0;function v3(i,a,l,u){var y=ne.T;ne.T=null;var x=he.p;try{he.p=2,mg(i,a,l,u)}finally{he.p=x,ne.T=y}}function b3(i,a,l,u){var y=ne.T;ne.T=null;var x=he.p;try{he.p=8,mg(i,a,l,u)}finally{he.p=x,ne.T=y}}function mg(i,a,l,u){if(Pd){var y=yg(u);if(y===null)ng(i,a,u,zd,l),Z5(i,u);else if(_3(y,i,a,l,u))u.stopPropagation();else if(Z5(i,u),a&4&&-1<x3.indexOf(i)){for(;y!==null;){var x=gr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=bt(x.pendingLanes);if(L!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;L;){var ye=1<<31-Kt(L);Q.entanglements[1]|=ye,L&=~ye}zo(x),(qn&6)===0&&(xd=$t()+500,rf(0))}}break;case 31:case 13:Q=Js(x,2),Q!==null&&Xa(Q,x,2),wd(),gg(x,2)}if(x=yg(u),x===null&&ng(i,a,u,zd,l),x===y)break;y=x}y!==null&&u.stopPropagation()}else ng(i,a,u,null,l)}}function yg(i){return i=Dr(i),vg(i)}var zd=null;function vg(i){if(zd=null,i=qr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return zd=i,null}function X5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Vt:return 2;case on:return 8;case Qt:case mt:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var bg=!1,cu=null,hu=null,fu=null,hf=new Map,ff=new Map,du=[],x3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z5(i,a){switch(i){case"focusin":case"focusout":cu=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":hf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(a.pointerId)}}function df(i,a,l,u,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[y]},a!==null&&(a=gr(a),a!==null&&K5(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function _3(i,a,l,u,y){switch(a){case"focusin":return cu=df(cu,i,a,l,u,y),!0;case"dragenter":return hu=df(hu,i,a,l,u,y),!0;case"mouseover":return fu=df(fu,i,a,l,u,y),!0;case"pointerover":var x=y.pointerId;return hf.set(x,df(hf.get(x)||null,i,a,l,u,y)),!0;case"gotpointercapture":return x=y.pointerId,ff.set(x,df(ff.get(x)||null,i,a,l,u,y)),!0}return!1}function J5(i){var a=qr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,pr(i.priority,function(){Q5(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,pr(i.priority,function(){Q5(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=yg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ss=u,l.target.dispatchEvent(u),ss=null}else return a=gr(l),a!==null&&K5(a),i.blockedOn=l,!1;a.shift()}return!0}function ey(i,a,l){Fd(i)&&l.delete(a)}function w3(){bg=!1,cu!==null&&Fd(cu)&&(cu=null),hu!==null&&Fd(hu)&&(hu=null),fu!==null&&Fd(fu)&&(fu=null),hf.forEach(ey),ff.forEach(ey)}function Bd(i,a){i.blockedOn===a&&(i.blockedOn=null,bg||(bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,w3)))}var Vd=null;function ty(i){Vd!==i&&(Vd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vd===i&&(Vd=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],y=i[a+2];if(typeof u!="function"){if(vg(u||l)===null)continue;break}var x=gr(l);x!==null&&(i.splice(a,3),a-=3,y1(x,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function Xc(i){function a(ye){return Bd(ye,i)}cu!==null&&Bd(cu,i),hu!==null&&Bd(hu,i),fu!==null&&Bd(fu,i),hf.forEach(a),ff.forEach(a);for(var l=0;l<du.length;l++){var u=du[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<du.length&&(l=du[0],l.blockedOn===null);)J5(l),l.blockedOn===null&&du.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],x=l[u+1],L=y[Wn]||null;if(typeof x=="function")L||ty(l);else if(L){var Q=null;if(x&&x.hasAttribute("formAction")){if(y=x,L=x[Wn]||null)Q=L.formAction;else if(vg(y)!==null)continue}else Q=L.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),ty(l)}}}function ny(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return y=L})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function xg(i){this._internalRoot=i}Ud.prototype.render=xg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=ps();W5(l,u,i,a,null,null)},Ud.prototype.unmount=xg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;W5(i.current,2,null,i,null,null),wd(),a[Oi]=null}};function Ud(i){this._internalRoot=i}Ud.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<du.length&&a!==0&&a<du[l].priority;l++);du.splice(l,0,i),l===0&&J5(i)}};var iy=e.version;if(iy!=="19.2.4")throw Error(r(527,iy,"19.2.4"));he.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var S3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Xt=qd.inject(S3),Ct=qd}catch{}}return gf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",y=c2,x=h2,L=f2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError)),a=G5(i,1,!1,null,null,l,u,null,y,x,L,ny),i[Oi]=a.current,tg(i),new xg(a)},gf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,y="",x=c2,L=h2,Q=f2,ye=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(ye=l.formState)),a=G5(i,1,!0,a,l??null,u,y,ye,x,L,Q,ny),a.context=Y5(null),l=a.current,u=ps(),u=Hn(u),y=zt(u),y.callback=null,an(l,y,u),l=u,a.current.lanes=l,At(a,l),zo(a),i[Oi]=a.current,tg(i),new Ud(a)},gf.version="19.2.4",gf}var dy;function k3(){if(dy)return Sg.exports;dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sg.exports=D3(),Sg.exports}var M3=k3();const O3=()=>{};var py={};const ox=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},P3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,h=c?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let I=(h&15)<<2|d>>6,_=d&63;f||(_=64,c||(I=64)),r.push(t[v],t[A],t[I],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ox(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):P3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new z3;const I=o<<2|h>>4;if(r.push(I),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const z=d<<6&192|A;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F3=function(n){const e=ox(n);return lx.encodeByteArray(e,!0)},vp=function(n){return F3(n).replace(/\./g,"")},B3=function(n){try{return lx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U3=()=>V3().__FIREBASE_DEFAULTS__,q3=()=>{if(typeof process>"u"||typeof py>"u")return;const n=py.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},H3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&B3(n[1]);return e&&JSON.parse(e)},K0=()=>{try{return O3()||U3()||q3()||H3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},G3=n=>K0()?.emulatorHosts?.[n],ux=n=>{const e=G3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cx=()=>K0()?.config;class Y3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Gp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hx(n){return(await fetch(n,{credentials:"include"})).ok}function fx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vp(JSON.stringify(t)),vp(JSON.stringify(c)),""].join(".")}const Af={};function W3(){const n={prod:[],emulator:[]};for(const e of Object.keys(Af))Af[e]?n.emulator.push(e):n.prod.push(e);return n}function $3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gy=!1;function dx(n,e){if(typeof window>"u"||typeof document>"u"||!Gp(window.location.host)||Af[n]===e||Af[n]||gy)return;Af[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",o=W3().prod.length>0;function c(){const I=document.getElementById(r);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function f(I,_){I.setAttribute("width","24"),I.setAttribute("id",_),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function d(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{gy=!0,c()},I}function v(I,_){I.setAttribute("id",_),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=$3(r),_=t("text"),z=document.getElementById(_)||document.createElement("span"),M=t("learnmore"),B=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),te=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;h(ae),v(B,M);const se=d();f(te,V),ae.append(te,z,B,se),document.body.appendChild(ae)}o?(z.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function K3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q3(){const n=K0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X3(){return!Q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z3(){try{return typeof indexedDB=="object"}catch{return!1}}function J3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const eS="FirebaseError";class dc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eS,Object.setPrototypeOf(this,dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,px.prototype.create)}}class px{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?tS(o,r):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new dc(s,h,r)}}function tS(n,e){return n.replace(nS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nS=/\{\$([^}]+)}/g;function bp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(my(o)&&my(c)){if(!bp(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function my(n){return n!==null&&typeof n=="object"}function ho(n){return n&&n._delegate?n._delegate:n}class yh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ju="[DEFAULT]";class iS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Y3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aS(e))try{this.getOrInitializeService({instanceIdentifier:Ju})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ju){return this.instances.has(e)}getOptions(e=Ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ju){return this.component?this.component.multipleInstances?e:Ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(n){return n===Ju?void 0:n}function aS(n){return n.instantiationMode==="EAGER"}class sS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rn||(Rn={}));const oS={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},lS=Rn.INFO,uS={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},cS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=uS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gx{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const hS=(n,e)=>e.some(t=>n instanceof t);let yy,vy;function fS(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mx=new WeakMap,c0=new WeakMap,yx=new WeakMap,Cg=new WeakMap,Q0=new WeakMap;function pS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(xu(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&mx.set(t,n)}).catch(()=>{}),Q0.set(e,n),e}function gS(n){if(c0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});c0.set(n,e)}let h0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return c0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mS(n){h0=n(h0)}function yS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ng(this),e,...t);return yx.set(r,e.sort?e.sort():[e]),xu(r)}:dS().includes(n)?function(...e){return n.apply(Ng(this),e),xu(mx.get(this))}:function(...e){return xu(n.apply(Ng(this),e))}}function vS(n){return typeof n=="function"?yS(n):(n instanceof IDBTransaction&&gS(n),hS(n,fS())?new Proxy(n,h0):n)}function xu(n){if(n instanceof IDBRequest)return pS(n);if(Cg.has(n))return Cg.get(n);const e=vS(n);return e!==n&&(Cg.set(n,e),Q0.set(e,n)),e}const Ng=n=>Q0.get(n);function bS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),h=xu(c);return r&&c.addEventListener("upgradeneeded",f=>{r(xu(c.result),f.oldVersion,f.newVersion,xu(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const xS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],jg=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=_S.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xS.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),s&&f.done]))[0]};return jg.set(e,o),o}mS(n=>({...n,get:(e,t,r)=>by(e,t)||n.get(e,t,r),has:(e,t)=>!!by(e,t)||n.has(e,t)}));class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function SS(n){return n.getComponent()?.type==="VERSION"}const f0="@firebase/app",xy="0.14.8";const Ml=new gx("@firebase/app"),AS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",CS="@firebase/app-check-compat",NS="@firebase/app-check",jS="@firebase/auth",IS="@firebase/auth-compat",RS="@firebase/database",LS="@firebase/data-connect",DS="@firebase/database-compat",kS="@firebase/functions",MS="@firebase/functions-compat",OS="@firebase/installations",PS="@firebase/installations-compat",zS="@firebase/messaging",FS="@firebase/messaging-compat",BS="@firebase/performance",VS="@firebase/performance-compat",US="@firebase/remote-config",qS="@firebase/remote-config-compat",HS="@firebase/storage",GS="@firebase/storage-compat",YS="@firebase/firestore",WS="@firebase/ai",$S="@firebase/firestore-compat",KS="firebase",QS="12.9.0";const d0="[DEFAULT]",XS={[f0]:"fire-core",[AS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[NS]:"fire-app-check",[CS]:"fire-app-check-compat",[jS]:"fire-auth",[IS]:"fire-auth-compat",[RS]:"fire-rtdb",[LS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[kS]:"fire-fn",[MS]:"fire-fn-compat",[OS]:"fire-iid",[PS]:"fire-iid-compat",[zS]:"fire-fcm",[FS]:"fire-fcm-compat",[BS]:"fire-perf",[VS]:"fire-perf-compat",[US]:"fire-rc",[qS]:"fire-rc-compat",[HS]:"fire-gcs",[GS]:"fire-gcs-compat",[YS]:"fire-fst",[$S]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};const xp=new Map,ZS=new Map,p0=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Df(n){const e=n.name;if(p0.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;p0.set(e,n);for(const t of xp.values())_y(t,n);for(const t of ZS.values())_y(t,n);return!0}function vx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bx(n){return n==null?!1:n.settings!==void 0}const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_u=new px("app","Firebase",JS);class eA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _u.create("app-deleted",{appName:this._name})}}const xx=QS;function _x(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:d0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _u.create("bad-app-name",{appName:String(s)});if(t||(t=cx()),!t)throw _u.create("no-options");const o=xp.get(s);if(o){if(bp(t,o.options)&&bp(r,o.config))return o;throw _u.create("duplicate-app",{appName:s})}const c=new sS(s);for(const f of p0.values())c.addComponent(f);const h=new eA(t,r,c);return xp.set(s,h),h}function wx(n=d0){const e=xp.get(n);if(!e&&n===d0&&cx())return _x();if(!e)throw _u.create("no-app",{appName:n});return e}function wu(n,e,t){let r=XS[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(c.join(" "));return}Df(new yh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const tA="firebase-heartbeat-database",nA=1,kf="firebase-heartbeat-store";let Ig=null;function Sx(){return Ig||(Ig=bS(tA,nA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kf)}catch(t){console.warn(t)}}}}).catch(n=>{throw _u.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function iA(n){try{const t=(await Sx()).transaction(kf),r=await t.objectStore(kf).get(Ax(n));return await t.done,r}catch(e){if(e instanceof dc)Ml.warn(e.message);else{const t=_u.create("idb-get",{originalErrorMessage:e?.message});Ml.warn(t.message)}}}async function wy(n,e){try{const r=(await Sx()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,Ax(n)),await r.done}catch(t){if(t instanceof dc)Ml.warn(t.message);else{const r=_u.create("idb-set",{originalErrorMessage:t?.message});Ml.warn(r.message)}}}function Ax(n){return`${n.name}!${n.options.appId}`}const rA=1024,aA=30;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>aA){const s=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ml.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:t,unsentEntries:r}=oA(this._heartbeatsCache.heartbeats),s=vp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ml.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function oA(n,e=rA){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Ay(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ay(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z3()?J3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return vp(JSON.stringify({version:2,heartbeats:n})).length}function uA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function cA(n){Df(new yh("platform-logger",e=>new wS(e),"PRIVATE")),Df(new yh("heartbeat",e=>new sA(e),"PRIVATE")),wu(f0,xy,n),wu(f0,xy,"esm2020"),wu("fire-js","")}cA("");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Su,Ex;(function(){var n;function e(K,O){function w(){}w.prototype=O.prototype,K.F=O.prototype,K.prototype=new w,K.prototype.constructor=K,K.D=function(U,N,C){for(var E=Array(arguments.length-2),H=2;H<arguments.length;H++)E[H-2]=arguments[H];return O.prototype[N].apply(U,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(K,O,w){w||(w=0);const U=Array(16);if(typeof O=="string")for(var N=0;N<16;++N)U[N]=O.charCodeAt(w++)|O.charCodeAt(w++)<<8|O.charCodeAt(w++)<<16|O.charCodeAt(w++)<<24;else for(N=0;N<16;++N)U[N]=O[w++]|O[w++]<<8|O[w++]<<16|O[w++]<<24;O=K.g[0],w=K.g[1],N=K.g[2];let C=K.g[3],E;E=O+(C^w&(N^C))+U[0]+3614090360&4294967295,O=w+(E<<7&4294967295|E>>>25),E=C+(N^O&(w^N))+U[1]+3905402710&4294967295,C=O+(E<<12&4294967295|E>>>20),E=N+(w^C&(O^w))+U[2]+606105819&4294967295,N=C+(E<<17&4294967295|E>>>15),E=w+(O^N&(C^O))+U[3]+3250441966&4294967295,w=N+(E<<22&4294967295|E>>>10),E=O+(C^w&(N^C))+U[4]+4118548399&4294967295,O=w+(E<<7&4294967295|E>>>25),E=C+(N^O&(w^N))+U[5]+1200080426&4294967295,C=O+(E<<12&4294967295|E>>>20),E=N+(w^C&(O^w))+U[6]+2821735955&4294967295,N=C+(E<<17&4294967295|E>>>15),E=w+(O^N&(C^O))+U[7]+4249261313&4294967295,w=N+(E<<22&4294967295|E>>>10),E=O+(C^w&(N^C))+U[8]+1770035416&4294967295,O=w+(E<<7&4294967295|E>>>25),E=C+(N^O&(w^N))+U[9]+2336552879&4294967295,C=O+(E<<12&4294967295|E>>>20),E=N+(w^C&(O^w))+U[10]+4294925233&4294967295,N=C+(E<<17&4294967295|E>>>15),E=w+(O^N&(C^O))+U[11]+2304563134&4294967295,w=N+(E<<22&4294967295|E>>>10),E=O+(C^w&(N^C))+U[12]+1804603682&4294967295,O=w+(E<<7&4294967295|E>>>25),E=C+(N^O&(w^N))+U[13]+4254626195&4294967295,C=O+(E<<12&4294967295|E>>>20),E=N+(w^C&(O^w))+U[14]+2792965006&4294967295,N=C+(E<<17&4294967295|E>>>15),E=w+(O^N&(C^O))+U[15]+1236535329&4294967295,w=N+(E<<22&4294967295|E>>>10),E=O+(N^C&(w^N))+U[1]+4129170786&4294967295,O=w+(E<<5&4294967295|E>>>27),E=C+(w^N&(O^w))+U[6]+3225465664&4294967295,C=O+(E<<9&4294967295|E>>>23),E=N+(O^w&(C^O))+U[11]+643717713&4294967295,N=C+(E<<14&4294967295|E>>>18),E=w+(C^O&(N^C))+U[0]+3921069994&4294967295,w=N+(E<<20&4294967295|E>>>12),E=O+(N^C&(w^N))+U[5]+3593408605&4294967295,O=w+(E<<5&4294967295|E>>>27),E=C+(w^N&(O^w))+U[10]+38016083&4294967295,C=O+(E<<9&4294967295|E>>>23),E=N+(O^w&(C^O))+U[15]+3634488961&4294967295,N=C+(E<<14&4294967295|E>>>18),E=w+(C^O&(N^C))+U[4]+3889429448&4294967295,w=N+(E<<20&4294967295|E>>>12),E=O+(N^C&(w^N))+U[9]+568446438&4294967295,O=w+(E<<5&4294967295|E>>>27),E=C+(w^N&(O^w))+U[14]+3275163606&4294967295,C=O+(E<<9&4294967295|E>>>23),E=N+(O^w&(C^O))+U[3]+4107603335&4294967295,N=C+(E<<14&4294967295|E>>>18),E=w+(C^O&(N^C))+U[8]+1163531501&4294967295,w=N+(E<<20&4294967295|E>>>12),E=O+(N^C&(w^N))+U[13]+2850285829&4294967295,O=w+(E<<5&4294967295|E>>>27),E=C+(w^N&(O^w))+U[2]+4243563512&4294967295,C=O+(E<<9&4294967295|E>>>23),E=N+(O^w&(C^O))+U[7]+1735328473&4294967295,N=C+(E<<14&4294967295|E>>>18),E=w+(C^O&(N^C))+U[12]+2368359562&4294967295,w=N+(E<<20&4294967295|E>>>12),E=O+(w^N^C)+U[5]+4294588738&4294967295,O=w+(E<<4&4294967295|E>>>28),E=C+(O^w^N)+U[8]+2272392833&4294967295,C=O+(E<<11&4294967295|E>>>21),E=N+(C^O^w)+U[11]+1839030562&4294967295,N=C+(E<<16&4294967295|E>>>16),E=w+(N^C^O)+U[14]+4259657740&4294967295,w=N+(E<<23&4294967295|E>>>9),E=O+(w^N^C)+U[1]+2763975236&4294967295,O=w+(E<<4&4294967295|E>>>28),E=C+(O^w^N)+U[4]+1272893353&4294967295,C=O+(E<<11&4294967295|E>>>21),E=N+(C^O^w)+U[7]+4139469664&4294967295,N=C+(E<<16&4294967295|E>>>16),E=w+(N^C^O)+U[10]+3200236656&4294967295,w=N+(E<<23&4294967295|E>>>9),E=O+(w^N^C)+U[13]+681279174&4294967295,O=w+(E<<4&4294967295|E>>>28),E=C+(O^w^N)+U[0]+3936430074&4294967295,C=O+(E<<11&4294967295|E>>>21),E=N+(C^O^w)+U[3]+3572445317&4294967295,N=C+(E<<16&4294967295|E>>>16),E=w+(N^C^O)+U[6]+76029189&4294967295,w=N+(E<<23&4294967295|E>>>9),E=O+(w^N^C)+U[9]+3654602809&4294967295,O=w+(E<<4&4294967295|E>>>28),E=C+(O^w^N)+U[12]+3873151461&4294967295,C=O+(E<<11&4294967295|E>>>21),E=N+(C^O^w)+U[15]+530742520&4294967295,N=C+(E<<16&4294967295|E>>>16),E=w+(N^C^O)+U[2]+3299628645&4294967295,w=N+(E<<23&4294967295|E>>>9),E=O+(N^(w|~C))+U[0]+4096336452&4294967295,O=w+(E<<6&4294967295|E>>>26),E=C+(w^(O|~N))+U[7]+1126891415&4294967295,C=O+(E<<10&4294967295|E>>>22),E=N+(O^(C|~w))+U[14]+2878612391&4294967295,N=C+(E<<15&4294967295|E>>>17),E=w+(C^(N|~O))+U[5]+4237533241&4294967295,w=N+(E<<21&4294967295|E>>>11),E=O+(N^(w|~C))+U[12]+1700485571&4294967295,O=w+(E<<6&4294967295|E>>>26),E=C+(w^(O|~N))+U[3]+2399980690&4294967295,C=O+(E<<10&4294967295|E>>>22),E=N+(O^(C|~w))+U[10]+4293915773&4294967295,N=C+(E<<15&4294967295|E>>>17),E=w+(C^(N|~O))+U[1]+2240044497&4294967295,w=N+(E<<21&4294967295|E>>>11),E=O+(N^(w|~C))+U[8]+1873313359&4294967295,O=w+(E<<6&4294967295|E>>>26),E=C+(w^(O|~N))+U[15]+4264355552&4294967295,C=O+(E<<10&4294967295|E>>>22),E=N+(O^(C|~w))+U[6]+2734768916&4294967295,N=C+(E<<15&4294967295|E>>>17),E=w+(C^(N|~O))+U[13]+1309151649&4294967295,w=N+(E<<21&4294967295|E>>>11),E=O+(N^(w|~C))+U[4]+4149444226&4294967295,O=w+(E<<6&4294967295|E>>>26),E=C+(w^(O|~N))+U[11]+3174756917&4294967295,C=O+(E<<10&4294967295|E>>>22),E=N+(O^(C|~w))+U[2]+718787259&4294967295,N=C+(E<<15&4294967295|E>>>17),E=w+(C^(N|~O))+U[9]+3951481745&4294967295,K.g[0]=K.g[0]+O&4294967295,K.g[1]=K.g[1]+(N+(E<<21&4294967295|E>>>11))&4294967295,K.g[2]=K.g[2]+N&4294967295,K.g[3]=K.g[3]+C&4294967295}r.prototype.v=function(K,O){O===void 0&&(O=K.length);const w=O-this.blockSize,U=this.C;let N=this.h,C=0;for(;C<O;){if(N==0)for(;C<=w;)s(this,K,C),C+=this.blockSize;if(typeof K=="string"){for(;C<O;)if(U[N++]=K.charCodeAt(C++),N==this.blockSize){s(this,U),N=0;break}}else for(;C<O;)if(U[N++]=K[C++],N==this.blockSize){s(this,U),N=0;break}}this.h=N,this.o+=O},r.prototype.A=function(){var K=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);K[0]=128;for(var O=1;O<K.length-8;++O)K[O]=0;O=this.o*8;for(var w=K.length-8;w<K.length;++w)K[w]=O&255,O/=256;for(this.v(K),K=Array(16),O=0,w=0;w<4;++w)for(let U=0;U<32;U+=8)K[O++]=this.g[w]>>>U&255;return K};function o(K,O){var w=h;return Object.prototype.hasOwnProperty.call(w,K)?w[K]:w[K]=O(K)}function c(K,O){this.h=O;const w=[];let U=!0;for(let N=K.length-1;N>=0;N--){const C=K[N]|0;U&&C==O||(w[N]=C,U=!1)}this.g=w}var h={};function f(K){return-128<=K&&K<128?o(K,function(O){return new c([O|0],O<0?-1:0)}):new c([K|0],K<0?-1:0)}function d(K){if(isNaN(K)||!isFinite(K))return A;if(K<0)return B(d(-K));const O=[];let w=1;for(let U=0;K>=w;U++)O[U]=K/w|0,w*=4294967296;return new c(O,0)}function v(K,O){if(K.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(K.charAt(0)=="-")return B(v(K.substring(1),O));if(K.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(O,8));let U=A;for(let C=0;C<K.length;C+=8){var N=Math.min(8,K.length-C);const E=parseInt(K.substring(C,C+N),O);N<8?(N=d(Math.pow(O,N)),U=U.j(N).add(d(E))):(U=U.j(w),U=U.add(d(E)))}return U}var A=f(0),I=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(M(this))return-B(this).m();let K=0,O=1;for(let w=0;w<this.g.length;w++){const U=this.i(w);K+=(U>=0?U:4294967296+U)*O,O*=4294967296}return K},n.toString=function(K){if(K=K||10,K<2||36<K)throw Error("radix out of range: "+K);if(z(this))return"0";if(M(this))return"-"+B(this).toString(K);const O=d(Math.pow(K,6));var w=this;let U="";for(;;){const N=se(w,O).g;w=V(w,N.j(O));let C=((w.g.length>0?w.g[0]:w.h)>>>0).toString(K);if(w=N,z(w))return C+U;for(;C.length<6;)C="0"+C;U=C+U}},n.i=function(K){return K<0?0:K<this.g.length?this.g[K]:this.h};function z(K){if(K.h!=0)return!1;for(let O=0;O<K.g.length;O++)if(K.g[O]!=0)return!1;return!0}function M(K){return K.h==-1}n.l=function(K){return K=V(this,K),M(K)?-1:z(K)?0:1};function B(K){const O=K.g.length,w=[];for(let U=0;U<O;U++)w[U]=~K.g[U];return new c(w,~K.h).add(I)}n.abs=function(){return M(this)?B(this):this},n.add=function(K){const O=Math.max(this.g.length,K.g.length),w=[];let U=0;for(let N=0;N<=O;N++){let C=U+(this.i(N)&65535)+(K.i(N)&65535),E=(C>>>16)+(this.i(N)>>>16)+(K.i(N)>>>16);U=E>>>16,C&=65535,E&=65535,w[N]=E<<16|C}return new c(w,w[w.length-1]&-2147483648?-1:0)};function V(K,O){return K.add(B(O))}n.j=function(K){if(z(this)||z(K))return A;if(M(this))return M(K)?B(this).j(B(K)):B(B(this).j(K));if(M(K))return B(this.j(B(K)));if(this.l(_)<0&&K.l(_)<0)return d(this.m()*K.m());const O=this.g.length+K.g.length,w=[];for(var U=0;U<2*O;U++)w[U]=0;for(U=0;U<this.g.length;U++)for(let N=0;N<K.g.length;N++){const C=this.i(U)>>>16,E=this.i(U)&65535,H=K.i(N)>>>16,fe=K.i(N)&65535;w[2*U+2*N]+=E*fe,te(w,2*U+2*N),w[2*U+2*N+1]+=C*fe,te(w,2*U+2*N+1),w[2*U+2*N+1]+=E*H,te(w,2*U+2*N+1),w[2*U+2*N+2]+=C*H,te(w,2*U+2*N+2)}for(K=0;K<O;K++)w[K]=w[2*K+1]<<16|w[2*K];for(K=O;K<2*O;K++)w[K]=0;return new c(w,0)};function te(K,O){for(;(K[O]&65535)!=K[O];)K[O+1]+=K[O]>>>16,K[O]&=65535,O++}function ae(K,O){this.g=K,this.h=O}function se(K,O){if(z(O))throw Error("division by zero");if(z(K))return new ae(A,A);if(M(K))return O=se(B(K),O),new ae(B(O.g),B(O.h));if(M(O))return O=se(K,B(O)),new ae(B(O.g),O.h);if(K.g.length>30){if(M(K)||M(O))throw Error("slowDivide_ only works with positive integers.");for(var w=I,U=O;U.l(K)<=0;)w=Se(w),U=Se(U);var N=je(w,1),C=je(U,1);for(U=je(U,2),w=je(w,2);!z(U);){var E=C.add(U);E.l(K)<=0&&(N=N.add(w),C=E),U=je(U,1),w=je(w,1)}return O=V(K,N.j(O)),new ae(N,O)}for(N=A;K.l(O)>=0;){for(w=Math.max(1,Math.floor(K.m()/O.m())),U=Math.ceil(Math.log(w)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),C=d(w),E=C.j(O);M(E)||E.l(K)>0;)w-=U,C=d(w),E=C.j(O);z(C)&&(C=I),N=N.add(C),K=V(K,E)}return new ae(N,K)}n.B=function(K){return se(this,K).h},n.and=function(K){const O=Math.max(this.g.length,K.g.length),w=[];for(let U=0;U<O;U++)w[U]=this.i(U)&K.i(U);return new c(w,this.h&K.h)},n.or=function(K){const O=Math.max(this.g.length,K.g.length),w=[];for(let U=0;U<O;U++)w[U]=this.i(U)|K.i(U);return new c(w,this.h|K.h)},n.xor=function(K){const O=Math.max(this.g.length,K.g.length),w=[];for(let U=0;U<O;U++)w[U]=this.i(U)^K.i(U);return new c(w,this.h^K.h)};function Se(K){const O=K.g.length+1,w=[];for(let U=0;U<O;U++)w[U]=K.i(U)<<1|K.i(U-1)>>>31;return new c(w,K.h)}function je(K,O){const w=O>>5;O%=32;const U=K.g.length-w,N=[];for(let C=0;C<U;C++)N[C]=O>0?K.i(C+w)>>>O|K.i(C+w+1)<<32-O:K.i(C+w);return new c(N,K.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ex=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,Su=c}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tx,xf,Cx,sp,g0,Nx,jx,Ix;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var j=0;j<m.length;++j){var D=m[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=t(this);function s(m,j){if(j)e:{var D=r;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Ce=m[ee];if(!(Ce in D))break e;D=D[Ce]}m=m[m.length-1],ee=D[m],j=j(ee),j!=ee&&j!=null&&e(D,m,{configurable:!0,writable:!0,value:j})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(j){var D=[],ee;for(ee in j)Object.prototype.hasOwnProperty.call(j,ee)&&D.push([ee,j[ee]]);return D}});var o=o||{},c=this||self;function h(m){var j=typeof m;return j=="object"&&m!=null||j=="function"}function f(m,j,D){return m.call.apply(m.bind,arguments)}function d(m,j,D){return d=f,d.apply(null,arguments)}function v(m,j){var D=Array.prototype.slice.call(arguments,1);return function(){var ee=D.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function A(m,j){function D(){}D.prototype=j.prototype,m.Z=j.prototype,m.prototype=new D,m.prototype.constructor=m,m.Ob=function(ee,Ce,ke){for(var Je=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Je[qt-2]=arguments[qt];return j.prototype[Ce].apply(ee,Je)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const j=m.length;if(j>0){const D=Array(j);for(let ee=0;ee<j;ee++)D[ee]=m[ee];return D}return[]}function z(m,j){for(let ee=1;ee<arguments.length;ee++){const Ce=arguments[ee];var D=typeof Ce;if(D=D!="object"?D:Ce?Array.isArray(Ce)?"array":D:"null",D=="array"||D=="object"&&typeof Ce.length=="number"){D=m.length||0;const ke=Ce.length||0;m.length=D+ke;for(let Je=0;Je<ke;Je++)m[D+Je]=Ce[Je]}else m.push(Ce)}}class M{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function B(m){c.setTimeout(()=>{throw m},0)}function V(){var m=K;let j=null;return m.g&&(j=m.g,m.g=m.g.next,m.g||(m.h=null),j.next=null),j}class te{constructor(){this.h=this.g=null}add(j,D){const ee=ae.get();ee.set(j,D),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ae=new M(()=>new se,m=>m.reset());class se{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,je=!1,K=new te,O=()=>{const m=Promise.resolve(void 0);Se=()=>{m.then(w)}};function w(){for(var m;m=V();){try{m.h.call(m.g)}catch(D){B(D)}var j=ae;j.j(m),j.h<100&&(j.h++,m.next=j.g,j.g=m)}je=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(m,j){this.type=m,this.g=this.target=j,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,j=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};c.addEventListener("test",D,j),c.removeEventListener("test",D,j)}catch{}return m})();function E(m){return/^[\s\xa0]*$/.test(m)}function H(m,j){N.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,j)}A(H,N),H.prototype.init=function(m,j){const D=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=j,j=m.relatedTarget,j||(D=="mouseover"?j=m.fromElement:D=="mouseout"&&(j=m.toElement)),this.relatedTarget=j,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),ne=0;function he(m,j,D,ee,Ce){this.listener=m,this.proxy=null,this.src=j,this.type=D,this.capture=!!ee,this.ha=Ce,this.key=++ne,this.da=this.fa=!1}function J(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m,j,D){for(const ee in m)j.call(D,m[ee],ee,m)}function Ee(m,j){for(const D in m)j.call(void 0,m[D],D,m)}function X(m){const j={};for(const D in m)j[D]=m[D];return j}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,j){let D,ee;for(let Ce=1;Ce<arguments.length;Ce++){ee=arguments[Ce];for(D in ee)m[D]=ee[D];for(let ke=0;ke<k.length;ke++)D=k[ke],Object.prototype.hasOwnProperty.call(ee,D)&&(m[D]=ee[D])}}function Y(m){this.src=m,this.g={},this.h=0}Y.prototype.add=function(m,j,D,ee,Ce){const ke=m.toString();m=this.g[ke],m||(m=this.g[ke]=[],this.h++);const Je=re(m,j,ee,Ce);return Je>-1?(j=m[Je],D||(j.fa=!1)):(j=new he(j,this.src,ke,!!ee,Ce),j.fa=D,m.push(j)),j};function W(m,j){const D=j.type;if(D in m.g){var ee=m.g[D],Ce=Array.prototype.indexOf.call(ee,j,void 0),ke;(ke=Ce>=0)&&Array.prototype.splice.call(ee,Ce,1),ke&&(J(j),m.g[D].length==0&&(delete m.g[D],m.h--))}}function re(m,j,D,ee){for(let Ce=0;Ce<m.length;++Ce){const ke=m[Ce];if(!ke.da&&ke.listener==j&&ke.capture==!!D&&ke.ha==ee)return Ce}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),_e={};function me(m,j,D,ee,Ce){if(Array.isArray(j)){for(let ke=0;ke<j.length;ke++)me(m,j[ke],D,ee,Ce);return null}return D=Tt(D),m&&m[fe]?m.J(j,D,h(ee)?!!ee.capture:!1,Ce):Oe(m,j,D,!1,ee,Ce)}function Oe(m,j,D,ee,Ce,ke){if(!j)throw Error("Invalid event type");const Je=h(Ce)?!!Ce.capture:!!Ce;let qt=nt(m);if(qt||(m[pe]=qt=new Y(m)),D=qt.add(j,D,ee,Je,ke),D.proxy)return D;if(ee=ge(),D.proxy=ee,ee.src=m,ee.listener=D,m.addEventListener)C||(Ce=Je),Ce===void 0&&(Ce=!1),m.addEventListener(j.toString(),ee,Ce);else if(m.attachEvent)m.attachEvent(lt(j.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ge(){function m(D){return j.call(m.src,m.listener,D)}const j=oe;return m}function Xe(m,j,D,ee,Ce){if(Array.isArray(j))for(var ke=0;ke<j.length;ke++)Xe(m,j[ke],D,ee,Ce);else ee=h(ee)?!!ee.capture:!!ee,D=Tt(D),m&&m[fe]?(m=m.i,ke=String(j).toString(),ke in m.g&&(j=m.g[ke],D=re(j,D,ee,Ce),D>-1&&(J(j[D]),Array.prototype.splice.call(j,D,1),j.length==0&&(delete m.g[ke],m.h--)))):m&&(m=nt(m))&&(j=m.g[j.toString()],m=-1,j&&(m=re(j,D,ee,Ce)),(D=m>-1?j[m]:null)&&et(D))}function et(m){if(typeof m!="number"&&m&&!m.da){var j=m.src;if(j&&j[fe])W(j.i,m);else{var D=m.type,ee=m.proxy;j.removeEventListener?j.removeEventListener(D,ee,m.capture):j.detachEvent?j.detachEvent(lt(D),ee):j.addListener&&j.removeListener&&j.removeListener(ee),(D=nt(j))?(W(D,m),D.h==0&&(D.src=null,j[pe]=null)):J(m)}}}function lt(m){return m in _e?_e[m]:_e[m]="on"+m}function oe(m,j){if(m.da)m=!0;else{j=new H(j,this);const D=m.listener,ee=m.ha||m.src;m.fa&&et(m),m=D.call(ee,j)}return m}function nt(m){return m=m[pe],m instanceof Y?m:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(m){return typeof m=="function"?m:(m[Wt]||(m[Wt]=function(j){return m.handleEvent(j)}),m[Wt])}function qe(){U.call(this),this.i=new Y(this),this.M=this,this.G=null}A(qe,U),qe.prototype[fe]=!0,qe.prototype.removeEventListener=function(m,j,D,ee){Xe(this,m,j,D,ee)};function rt(m,j){var D,ee=m.G;if(ee)for(D=[];ee;ee=ee.G)D.push(ee);if(m=m.M,ee=j.type||j,typeof j=="string")j=new N(j,m);else if(j instanceof N)j.target=j.target||m;else{var Ce=j;j=new N(ee,m),P(j,Ce)}Ce=!0;let ke,Je;if(D)for(Je=D.length-1;Je>=0;Je--)ke=j.g=D[Je],Ce=it(ke,ee,!0,j)&&Ce;if(ke=j.g=m,Ce=it(ke,ee,!0,j)&&Ce,Ce=it(ke,ee,!1,j)&&Ce,D)for(Je=0;Je<D.length;Je++)ke=j.g=D[Je],Ce=it(ke,ee,!1,j)&&Ce}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var m=this.i;for(const j in m.g){const D=m.g[j];for(let ee=0;ee<D.length;ee++)J(D[ee]);delete m.g[j],m.h--}}this.G=null},qe.prototype.J=function(m,j,D,ee){return this.i.add(String(m),j,!1,D,ee)},qe.prototype.K=function(m,j,D,ee){return this.i.add(String(m),j,!0,D,ee)};function it(m,j,D,ee){if(j=m.i.g[String(j)],!j)return!0;j=j.concat();let Ce=!0;for(let ke=0;ke<j.length;++ke){const Je=j[ke];if(Je&&!Je.da&&Je.capture==D){const qt=Je.listener,ti=Je.ha||Je.src;Je.fa&&W(m.i,Je),Ce=qt.call(ti,ee)!==!1&&Ce}}return Ce&&!ee.defaultPrevented}function Nt(m,j){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(m,j||0)}function _t(m){m.g=Nt(()=>{m.g=null,m.i&&(m.i=!1,_t(m))},m.l);const j=m.h;m.h=null,m.m.apply(null,j)}class $t extends U{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(m){U.call(this),this.h=m,this.g={}}A(Jt,U);var Vt=[];function on(m){de(m.g,function(j,D){this.g.hasOwnProperty(D)&&et(j)},m),m.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),on(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=c.JSON.stringify,mt=c.JSON.parse,Ht=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function vt(){}function fi(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){N.call(this,"d")}A(Ct,N);function Pt(){N.call(this,"c")}A(Pt,N);var Kt={},St=null;function Ln(){return St=St||new qe}Kt.Ia="serverreachability";function Mt(m){N.call(this,Kt.Ia,m)}A(Mt,N);function Ot(m){const j=Ln();rt(j,new Mt(j))}Kt.STAT_EVENT="statevent";function Mn(m,j){N.call(this,Kt.STAT_EVENT,m),this.stat=j}A(Mn,N);function wt(m){const j=Ln();rt(j,new Mn(j,m))}Kt.Ja="timingevent";function bt(m,j){N.call(this,Kt.Ja,m),this.size=j}A(bt,N);function ln(m,j){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},j)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function er(m,j,D,ee,Ce,ke){m.info(function(){if(m.g)if(ke){var Je="",qt=ke.split("&");for(let cn=0;cn<qt.length;cn++){var ti=qt[cn].split("=");if(ti.length>1){const zn=ti[0];ti=ti[1];const rr=zn.split("_");Je=rr.length>=2&&rr[1]=="type"?Je+(zn+"="+ti+"&"):Je+(zn+"=redacted&")}}}else Je=null;else Je=ke;return"XMLHTTP REQ ("+ee+") [attempt "+Ce+"]: "+j+`
`+D+`
`+Je})}function Ra(m,j,D,ee,Ce,ke,Je){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ce+"]: "+j+`
`+D+`
`+ke+" "+Je})}function Gi(m,j,D,ee){m.info(function(){return"XMLHTTP TEXT ("+j+"): "+ts(m,D)+(ee?" "+ee:"")})}function At(m,j){m.info(function(){return"TIMEOUT: "+j})}dr.prototype.info=function(){};function ts(m,j){if(!m.g)return j;if(!j)return null;try{const ke=JSON.parse(j);if(ke){for(m=0;m<ke.length;m++)if(Array.isArray(ke[m])){var D=ke[m];if(!(D.length<2)){var ee=D[1];if(Array.isArray(ee)&&!(ee.length<1)){var Ce=ee[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(let Je=1;Je<ee.length;Je++)ee[Je]=""}}}}return Qt(ke)}catch{return j}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Hn(){}A(Hn,vt),Hn.prototype.g=function(){return new XMLHttpRequest},Nr=new Hn;function Jn(m){return encodeURIComponent(String(m))}function Mi(m){var j=1;m=m.split(":");const D=[];for(;j>0&&m.length;)D.push(m.shift()),j--;return m.length&&D.push(m.join(":")),D}function pr(m,j,D,ee){this.j=m,this.i=j,this.l=D,this.S=ee||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var On={},Wn={};function Oi(m,j,D){m.M=1,m.A=xs(_i(j)),m.u=D,m.R=!0,jr(m,null)}function jr(m,j){m.F=Date.now(),Ir(m),m.B=_i(m.A);var D=m.B,ee=m.S;Array.isArray(ee)||(ee=[String(ee)]),xo(D.i,"t",ee),m.C=0,D=m.j.L,m.h=new tr,m.g=ut(m.j,D?j:null,!m.u),m.P>0&&(m.O=new $t(d(m.Y,m,m.g),m.P)),j=m.V,D=m.g,ee=m.ba;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(Vt[0]=Ce.toString()),Ce=Vt);for(let ke=0;ke<Ce.length;ke++){const Je=me(D,Ce[ke],ee||j.handleEvent,!1,j.h||j);if(!Je)break;j.g[Je.key]=Je}j=m.J?X(m.J):{},m.u?(m.v||(m.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,j)):(m.v="GET",m.g.ea(m.B,m.v,null,j)),Ot(),er(m.i,m.v,m.B,m.l,m.S,m.u)}pr.prototype.ba=function(m){m=m.target;const j=this.O;j&&$r(m)==3?j.j():this.Y(m)},pr.prototype.Y=function(m){try{if(m==this.g)e:{const qt=$r(this.g),ti=this.g.ya(),cn=this.g.ca();if(!(qt<3)&&(qt!=3||this.g&&(this.h.h||this.g.la()||ji(this.g)))){this.K||qt!=4||ti==7||(ti==8||cn<=0?Ot(3):Ot(2)),qr(this);var j=this.g.ca();this.X=j;var D=aa(this);if(this.o=j==200,Ra(this.i,this.v,this.B,this.l,this.S,qt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,Ce=this.g;if((ee=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ee)){var ke=ee;break t}}ke=null}if(m=ke)Gi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,m);else{this.o=!1,this.m=3,wt(12),Hr(this),gr(this);break e}}if(this.R){m=!0;let zn;for(;!this.K&&this.C<D.length;)if(zn=xa(this,D),zn==Wn){qt==4&&(this.m=4,wt(14),m=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==On){this.m=4,wt(15),Gi(this.i,this.l,D,"[Invalid Chunk]"),m=!1;break}else Gi(this.i,this.l,zn,null),sa(this,zn);if(bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||D.length!=0||this.h.h||(this.m=1,wt(16),m=!1),this.o=this.o&&m,!m)Gi(this.i,this.l,D,"[Invalid Chunked Response]"),Hr(this),gr(this);else if(D.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Ao(Je),Je.P=!0,wt(11))}}else Gi(this.i,this.l,D,null),sa(this,D);qt==4&&Hr(this),this.o&&!this.K&&(qt==4?ue(this.j,this):(this.o=!1,Ir(this)))}else La(this.g),j==400&&D.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Hr(this),gr(this)}}}catch{}};function aa(m){if(!bs(m))return m.g.la();const j=ji(m.g);if(j==="")return"";let D="";const ee=j.length,Ce=$r(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Hr(m),gr(m),"";m.h.i=new c.TextDecoder}for(let ke=0;ke<ee;ke++)m.h.h=!0,D+=m.h.i.decode(j[ke],{stream:!(Ce&&ke==ee-1)});return j.length=0,m.h.g+=D,m.C=0,m.h.g}function bs(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function xa(m,j){var D=m.C,ee=j.indexOf(`
`,D);return ee==-1?Wn:(D=Number(j.substring(D,ee)),isNaN(D)?On:(ee+=1,ee+D>j.length?Wn:(j=j.slice(ee,ee+D),m.C=ee+D,j)))}pr.prototype.cancel=function(){this.K=!0,Hr(this)};function Ir(m){m.T=Date.now()+m.H,ns(m,m.H)}function ns(m,j){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ln(d(m.aa,m),j)}function qr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}pr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(At(this.i,this.B),this.M!=2&&(Ot(),wt(17)),Hr(this),this.m=2,gr(this)):ns(this,this.T-m)};function gr(m){m.j.I==0||m.K||ue(m.j,m)}function Hr(m){qr(m);var j=m.O;j&&typeof j.dispose=="function"&&j.dispose(),m.O=null,on(m.V),m.g&&(j=m.g,m.g=null,j.abort(),j.dispose())}function sa(m,j){try{var D=m.j;if(D.I!=0&&(D.g==m||_a(D.h,m))){if(!m.L&&_a(D.h,m)&&D.I==3){try{var ee=D.Ba.g.parse(j)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ce=ee;if(Ce[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<m.F)F(D),ka(D);else break e;Aa(D),wt(18)}}else D.xa=Ce[1],0<D.xa-D.K&&Ce[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=ln(d(D.Va,D),6e3));oa(D.h)<=1&&D.ta&&(D.ta=void 0)}else Ae(D,11)}else if((m.L||D.g==m)&&F(D),!E(j))for(Ce=D.Ba.g.parse(j),j=0;j<Ce.length;j++){let cn=Ce[j];const zn=cn[0];if(!(zn<=D.K))if(D.K=zn,cn=cn[1],D.I==2)if(cn[0]=="c"){D.M=cn[1],D.ba=cn[2];const rr=cn[3];rr!=null&&(D.ka=rr,D.j.info("VER="+D.ka));const yr=cn[4];yr!=null&&(D.za=yr,D.j.info("SVER="+D.za));const $n=cn[5];$n!=null&&typeof $n=="number"&&$n>0&&(ee=1.5*$n,D.O=ee,D.j.info("backChannelRequestTimeoutMs_="+ee)),ee=D;const vr=m.g;if(vr){const Ea=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var ke=ee.h;ke.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Bs(ke,ke.h),ke.h=null))}if(ee.G){const Es=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Es&&(ee.wa=Es,vn(ee.J,ee.G,Es))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-m.F,D.j.info("Handshake RTT: "+D.T+"ms")),ee=D;var Je=m;if(ee.na=$e(ee,ee.L?ee.ba:null,ee.W),Je.L){vo(ee.h,Je);var qt=Je,ti=ee.O;ti&&(qt.H=ti),qt.D&&(qr(qt),Ir(qt)),ee.g=Je}else al(ee);D.i.length>0&&ua(D)}else cn[0]!="stop"&&cn[0]!="close"||Ae(D,7);else D.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Ae(D,7):As(D):cn[0]!="noop"&&D.l&&D.l.qa(cn),D.A=0)}}Ot(4)}catch{}}var pi=class{constructor(m,j){this.g=m,this.map=j}};function yo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function oa(m){return m.h?1:m.g?m.g.size:0}function _a(m,j){return m.h?m.h==j:m.g?m.g.has(j):!1}function Bs(m,j){m.g?m.g.add(j):m.h=j}function vo(m,j){m.h&&m.h==j?m.h=null:m.g&&m.g.has(j)&&m.g.delete(j)}yo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let j=m.i;for(const D of m.g.values())j=j.concat(D.G);return j}return _(m.i)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(m,j){if(m){m=m.split("&");for(let D=0;D<m.length;D++){const ee=m[D].indexOf("=");let Ce,ke=null;ee>=0?(Ce=m[D].substring(0,ee),ke=m[D].substring(ee+1)):Ce=m[D],j(Ce,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function nr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;m instanceof nr?(this.l=m.l,fn(this,m.j),this.o=m.o,this.g=m.g,is(this,m.u),this.h=m.h,la(this,_o(m.i)),this.m=m.m):m&&(j=String(m).match(Jo))?(this.l=!1,fn(this,j[1]||"",!0),this.o=Ni(j[2]||""),this.g=Ni(j[3]||"",!0),is(this,j[4]),this.h=Ni(j[5]||"",!0),la(this,j[6]||"",!0),this.m=Ni(j[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}nr.prototype.toString=function(){const m=[];var j=this.j;j&&m.push(oi(j,Vs,!0),":");var D=this.g;return(D||j=="file")&&(m.push("//"),(j=this.o)&&m.push(oi(j,Vs,!0),"@"),m.push(Jn(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&m.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(oi(D,D.charAt(0)=="/"?el:Bl,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",oi(D,tl)),m.join("")},nr.prototype.resolve=function(m){const j=_i(this);let D=!!m.j;D?fn(j,m.j):D=!!m.o,D?j.o=m.o:D=!!m.g,D?j.g=m.g:D=m.u!=null;var ee=m.h;if(D)is(j,m.u);else if(D=!!m.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var Ce=j.h.lastIndexOf("/");Ce!=-1&&(ee=j.h.slice(0,Ce+1)+ee)}if(Ce=ee,Ce==".."||Ce==".")ee="";else if(Ce.indexOf("./")!=-1||Ce.indexOf("/.")!=-1){ee=Ce.lastIndexOf("/",0)==0,Ce=Ce.split("/");const ke=[];for(let Je=0;Je<Ce.length;){const qt=Ce[Je++];qt=="."?ee&&Je==Ce.length&&ke.push(""):qt==".."?((ke.length>1||ke.length==1&&ke[0]!="")&&ke.pop(),ee&&Je==Ce.length&&ke.push("")):(ke.push(qt),ee=!0)}ee=ke.join("/")}else ee=Ce}return D?j.h=ee:D=m.i.toString()!=="",D?la(j,_o(m.i)):D=!!m.m,D&&(j.m=m.m),j};function _i(m){return new nr(m)}function fn(m,j,D){m.j=D?Ni(j,!0):j,m.j&&(m.j=m.j.replace(/:$/,""))}function is(m,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);m.u=j}else m.u=null}function la(m,j,D){j instanceof rs?(m.i=j,Lr(m.i,m.l)):(D||(j=oi(j,mr)),m.i=new rs(j,m.l))}function vn(m,j,D){m.i.set(j,D)}function xs(m){return vn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ni(m,j){return m?j?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function oi(m,j,D){return typeof m=="string"?(m=encodeURI(m).replace(j,wi),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wi(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vs=/[#\/\?@]/g,Bl=/[#\?:]/g,el=/[#\?]/g,mr=/[#\?@]/g,tl=/#/g;function rs(m,j){this.h=this.g=null,this.i=m||null,this.j=!!j}function Yi(m){m.g||(m.g=new Map,m.h=0,m.i&&Gr(m.i,function(j,D){m.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}n=rs.prototype,n.add=function(m,j){Yi(this),this.i=null,m=as(this,m);let D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(j),this.h+=1,this};function _s(m,j){Yi(m),j=as(m,j),m.g.has(j)&&(m.i=null,m.h-=m.g.get(j).length,m.g.delete(j))}function nl(m,j){return Yi(m),j=as(m,j),m.g.has(j)}n.forEach=function(m,j){Yi(this),this.g.forEach(function(D,ee){D.forEach(function(Ce){m.call(j,Ce,ee,this)},this)},this)};function il(m,j){Yi(m);let D=[];if(typeof j=="string")nl(m,j)&&(D=D.concat(m.g.get(as(m,j))));else for(m=Array.from(m.g.values()),j=0;j<m.length;j++)D=D.concat(m[j]);return D}n.set=function(m,j){return Yi(this),this.i=null,m=as(this,m),nl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[j]),this.h+=1,this},n.get=function(m,j){return m?(m=il(this,m),m.length>0?String(m[0]):j):j};function xo(m,j,D){_s(m,j),D.length>0&&(m.i=null,m.g.set(as(m,j),_(D)),m.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],j=Array.from(this.g.keys());for(let ee=0;ee<j.length;ee++){var D=j[ee];const Ce=Jn(D);D=il(this,D);for(let ke=0;ke<D.length;ke++){let Je=Ce;D[ke]!==""&&(Je+="="+Jn(D[ke])),m.push(Je)}}return this.i=m.join("&")};function _o(m){const j=new rs;return j.i=m.i,m.g&&(j.g=new Map(m.g),j.h=m.h),j}function as(m,j){return j=String(j),m.j&&(j=j.toLowerCase()),j}function Lr(m,j){j&&!m.j&&(Yi(m),m.i=null,m.g.forEach(function(D,ee){const Ce=ee.toLowerCase();ee!=Ce&&(_s(this,ee),xo(this,Ce,D))},m)),m.j=j}function wa(m,j){const D=new dr;if(c.Image){const ee=new Image;ee.onload=v(Dr,D,"TestLoadImage: loaded",!0,j,ee),ee.onerror=v(Dr,D,"TestLoadImage: error",!1,j,ee),ee.onabort=v(Dr,D,"TestLoadImage: abort",!1,j,ee),ee.ontimeout=v(Dr,D,"TestLoadImage: timeout",!1,j,ee),c.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else j(!1)}function ss(m,j){const D=new dr,ee=new AbortController,Ce=setTimeout(()=>{ee.abort(),Dr(D,"TestPingServer: timeout",!1,j)},1e4);fetch(m,{signal:ee.signal}).then(ke=>{clearTimeout(Ce),ke.ok?Dr(D,"TestPingServer: ok",!0,j):Dr(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Ce),Dr(D,"TestPingServer: error",!1,j)})}function Dr(m,j,D,ee,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),ee(D)}catch{}}function ws(){this.g=new Ht}function jt(m){this.i=m.Sb||null,this.h=m.ab||!1}A(jt,vt),jt.prototype.g=function(){return new Us(this.i,this.h)};function Us(m,j){qe.call(this),this.H=m,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Us,qe),n=Us.prototype,n.open=function(m,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=j,this.readyState=1,Wi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(j.body=m),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var j=m.value?m.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!m.done}))&&(this.response=this.responseText+=j)}m.done?Ss(this):Wi(this),this.readyState==3&&wo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ss(this))},n.Na=function(m){this.g&&(this.response=m,Ss(this))},n.ga=function(){this.g&&Ss(this)};function Ss(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Wi(m)}n.setRequestHeader=function(m,j){this.A.append(m,j)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=j.next();return m.join(`\r
`)};function Wi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Pi(m){let j="";return de(m,function(D,ee){j+=ee,j+=":",j+=D,j+=`\r
`}),j}function qs(m,j,D){e:{for(ee in D){var ee=!1;break e}ee=!0}ee||(D=Pi(D),typeof m=="string"?D!=null&&Jn(D):vn(m,j,D))}function Pn(m){qe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Pn,qe);var Yr=/^https?$/i,Hs=["POST","PUT"];n=Pn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,j,D,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);j=j?j.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=I(d(this.Ca,this));try{this.B=!0,this.g.open(j,String(m),!0),this.B=!1}catch(ke){Sa(this,ke);return}if(m=D||"",D=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ce in ee)D.set(Ce,ee[Ce]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const ke of ee.keys())D.set(ke,ee.get(ke));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(D.keys()).find(ke=>ke.toLowerCase()=="content-type"),Ce=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Hs,j,void 0)>=0)||ee||Ce||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Je]of D)this.g.setRequestHeader(ke,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ke){Sa(this,ke)}};function Sa(m,j){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=j,m.o=5,rl(m),os(m)}function rl(m){m.A||(m.A=!0,rt(m,"complete"),rt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,rt(this,"complete"),rt(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Pn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(m){if(m.h&&typeof o<"u"){if(m.v&&$r(m)==4)setTimeout(m.Ca.bind(m),0);else if(rt(m,"readystatechange"),$r(m)==4){m.h=!1;try{const ke=m.ca();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var ee;if(ee=ke===0){let Je=String(m.D).match(Jo)[1]||null;!Je&&c.self&&c.self.location&&(Je=c.self.location.protocol.slice(0,-1)),ee=!Yr.test(Je?Je.toLowerCase():"")}D=ee}if(D)rt(m,"complete"),rt(m,"success");else{m.o=6;try{var Ce=$r(m)>2?m.g.statusText:""}catch{Ce=""}m.l=Ce+" ["+m.ca()+"]",rl(m)}}finally{os(m)}}}}function os(m,j){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const D=m.g;m.g=null,j||rt(m,"ready");try{D.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(m){return m.g?m.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var j=this.g.responseText;return m&&j.indexOf(m)==0&&(j=j.substring(m.length)),mt(j)}};function ji(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function La(m){const j={};m=(m.g&&$r(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(E(m[ee]))continue;var D=Mi(m[ee]);const Ce=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ke=j[Ce]||[];j[Ce]=ke,ke.push(D)}Ee(j,function(ee){return ee.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(m,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||j}function Da(m){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,m),this.Za=ir("retryDelaySeedMs",1e4,m),this.Ta=ir("forwardChannelMaxRetries",2,m),this.va=ir("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(m&&m.concurrentRequestLimit),this.Ba=new ws,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Da.prototype,n.ka=8,n.I=1,n.connect=function(m,j,D,ee){wt(0),this.W=m,this.H=j||{},D&&ee!==void 0&&(this.H.OSID=D,this.H.OAID=ee),this.F=this.X,this.J=$e(this,null,this.W),ua(this)};function As(m){if(Ma(m),m.I==3){var j=m.V++,D=_i(m.J);if(vn(D,"SID",m.M),vn(D,"RID",j),vn(D,"TYPE","terminate"),Kr(m,D),j=new pr(m,m.j,j),j.M=2,j.A=xs(_i(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!D&&c.Image&&(new Image().src=j.A,D=!0),D||(j.g=ut(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Ir(j)}Be(m)}function ka(m){m.g&&(Ao(m),m.g.cancel(),m.g=null)}function Ma(m){ka(m),m.v&&(c.clearTimeout(m.v),m.v=null),F(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ua(m){if(!Rr(m.h)&&!m.m){m.m=!0;var j=m.Ea;Se||O(),je||(Se(),je=!0),K.add(j,m),m.D=0}}function Gs(m,j){return oa(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=j.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ln(d(m.Ea,m,j),ve(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ce=new pr(this,this.j,m);let ke=this.o;if(this.U&&(ke?(ke=X(ke),P(ke,this.U)):ke=this.U),this.u!==null||this.R||(Ce.J=ke,ke=null),this.S)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var ee=this.i[D];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(j+=ee,j>4096){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=Oa(this,Ce,j),D=_i(this.J),vn(D,"RID",m),vn(D,"CVER",22),this.G&&vn(D,"X-HTTP-Session-Id",this.G),Kr(this,D),ke&&(this.R?j="headers="+Jn(Pi(ke))+"&"+j:this.u&&qs(D,this.u,ke)),Bs(this.h,Ce),this.Ra&&vn(D,"TYPE","init"),this.S?(vn(D,"$req",j),vn(D,"SID","null"),Ce.U=!0,Oi(Ce,D,null)):Oi(Ce,D,j),this.I=2}}else this.I==3&&(m?So(this,m):this.i.length==0||Rr(this.h)||So(this))};function So(m,j){var D;j?D=j.l:D=m.V++;const ee=_i(m.J);vn(ee,"SID",m.M),vn(ee,"RID",D),vn(ee,"AID",m.K),Kr(m,ee),m.u&&m.o&&qs(ee,m.u,m.o),D=new pr(m,m.j,D,m.D+1),m.u===null&&(D.J=m.o),j&&(m.i=j.G.concat(m.i)),j=Oa(m,D,1e3),D.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Bs(m.h,D),Oi(D,ee,j)}function Kr(m,j){m.H&&de(m.H,function(D,ee){vn(j,ee,D)}),m.l&&de({},function(D,ee){vn(j,ee,D)})}function Oa(m,j,D){D=Math.min(m.i.length,D);const ee=m.l?d(m.l.Ka,m.l,m):null;e:{var Ce=m.i;let qt=-1;for(;;){const ti=["count="+D];qt==-1?D>0?(qt=Ce[0].g,ti.push("ofs="+qt)):qt=0:ti.push("ofs="+qt);let cn=!0;for(let zn=0;zn<D;zn++){var ke=Ce[zn].g;const rr=Ce[zn].map;if(ke-=qt,ke<0)qt=Math.max(0,Ce[zn].g-100),cn=!1;else try{ke="req"+ke+"_"||"";try{var Je=rr instanceof Map?rr:Object.entries(rr);for(const[yr,$n]of Je){let vr=$n;h($n)&&(vr=Qt($n)),ti.push(ke+yr+"="+encodeURIComponent(vr))}}catch(yr){throw ti.push(ke+"type="+encodeURIComponent("_badmap")),yr}}catch{ee&&ee(rr)}}if(cn){Je=ti.join("&");break e}}Je=void 0}return m=m.i.splice(0,D),j.G=m,Je}function al(m){if(!m.g&&!m.v){m.Y=1;var j=m.Da;Se||O(),je||(Se(),je=!0),K.add(j,m),m.A=0}}function Aa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ln(d(m.Da,m),ve(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ln(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),ka(this),S(this))};function Ao(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function S(m){m.g=new pr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var j=_i(m.na);vn(j,"RID","rpc"),vn(j,"SID",m.M),vn(j,"AID",m.K),vn(j,"CI",m.F?"0":"1"),!m.F&&m.ia&&vn(j,"TO",m.ia),vn(j,"TYPE","xmlhttp"),Kr(m,j),m.u&&m.o&&qs(j,m.u,m.o),m.O&&(m.g.H=m.O);var D=m.g;m=m.ba,D.M=1,D.A=xs(_i(j)),D.u=null,D.R=!0,jr(D,m)}n.Va=function(){this.C!=null&&(this.C=null,ka(this),Aa(this),wt(19))};function F(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function ue(m,j){var D=null;if(m.g==j){F(m),Ao(m),m.g=null;var ee=2}else if(_a(m.h,j))D=j.G,vo(m.h,j),ee=1;else return;if(m.I!=0){if(j.o)if(ee==1){D=j.u?j.u.length:0,j=Date.now()-j.F;var Ce=m.D;ee=Ln(),rt(ee,new bt(ee,D)),ua(m)}else al(m);else if(Ce=j.m,Ce==3||Ce==0&&j.X>0||!(ee==1&&Gs(m,j)||ee==2&&Aa(m)))switch(D&&D.length>0&&(j=m.h,j.i=j.i.concat(D)),Ce){case 1:Ae(m,5);break;case 4:Ae(m,10);break;case 3:Ae(m,6);break;default:Ae(m,2)}}}function ve(m,j){let D=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(D*=2),D*j}function Ae(m,j){if(m.j.info("Error code "+j),j==2){var D=d(m.bb,m),ee=m.Ua;const Ce=!ee;ee=new nr(ee||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fn(ee,"https"),xs(ee),Ce?wa(ee.toString(),D):ss(ee.toString(),D)}else wt(2);m.I=0,m.l&&m.l.pa(j),Be(m),Ma(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Be(m){if(m.I=0,m.ja=[],m.l){const j=bo(m.h);(j.length!=0||m.i.length!=0)&&(z(m.ja,j),z(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function $e(m,j,D){var ee=D instanceof nr?_i(D):new nr(D);if(ee.g!="")j&&(ee.g=j+"."+ee.g),is(ee,ee.u);else{var Ce=c.location;ee=Ce.protocol,j=j?j+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;const ke=new nr(null);ee&&fn(ke,ee),j&&(ke.g=j),Ce&&is(ke,Ce),D&&(ke.h=D),ee=ke}return D=m.G,j=m.wa,D&&j&&vn(ee,D,j),vn(ee,"VER",m.ka),Kr(m,ee),ee}function ut(m,j,D){if(j&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=m.Aa&&!m.ma?new Pn(new jt({ab:D})):new Pn(m.ma),j.Fa(m.L),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Rt(){}Rt.prototype.g=function(m,j){return new Et(m,j)};function Et(m,j){qe.call(this),this.g=new Da(j),this.l=m,this.h=j&&j.messageUrlParams||null,m=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(m?m["X-WebChannel-Content-Type"]=j.messageContentType:m={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(m?m["X-WebChannel-Client-Profile"]=j.sa:m={"X-WebChannel-Client-Profile":j.sa}),this.g.U=m,(m=j&&j.Qb)&&!E(m)&&(this.g.u=m),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!E(j)&&(this.g.G=j,m=this.h,m!==null&&j in m&&(m=this.h,j in m&&delete m[j])),this.j=new Gn(this)}A(Et,qe),Et.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){As(this.g)},Et.prototype.o=function(m){var j=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.v&&(D={},D.__data__=Qt(m),m=D);j.i.push(new pi(j.Ya++,m)),j.I==3&&ua(j)},Et.prototype.N=function(){this.g.l=null,delete this.j,As(this.g),delete this.g,Et.Z.N.call(this)};function dn(m){Ct.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var j=m.__sm__;if(j){e:{for(const D in j){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,j=j!==null&&m in j?j[m]:void 0),this.data=j}else this.data=m}A(dn,Ct);function ei(){Pt.call(this),this.status=1}A(ei,Pt);function Gn(m){this.g=m}A(Gn,dt),Gn.prototype.ra=function(){rt(this.g,"a")},Gn.prototype.qa=function(m){rt(this.g,new dn(m))},Gn.prototype.pa=function(m){rt(this.g,new ei)},Gn.prototype.oa=function(){rt(this.g,"b")},Rt.prototype.createWebChannel=Rt.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Ix=function(){return new Rt},jx=function(){return Ln()},Nx=Kt,g0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,sp=Ur,Cr.COMPLETE="complete",Cx=Cr,fi.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,xf=fi,Pn.prototype.listenOnce=Pn.prototype.K,Pn.prototype.getLastError=Pn.prototype.Ha,Pn.prototype.getLastErrorCode=Pn.prototype.ya,Pn.prototype.getStatus=Pn.prototype.ca,Pn.prototype.getResponseJson=Pn.prototype.La,Pn.prototype.getResponseText=Pn.prototype.la,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Fa,Tx=Pn}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});let va=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");let Eh="12.9.0";function hA(n){Eh=n}const sc=new gx("@firebase/firestore");function nh(){return sc.logLevel}function ct(n,...e){if(sc.logLevel<=Rn.DEBUG){const t=e.map(X0);sc.debug(`Firestore (${Eh}): ${n}`,...t)}}function Ol(n,...e){if(sc.logLevel<=Rn.ERROR){const t=e.map(X0);sc.error(`Firestore (${Eh}): ${n}`,...t)}}function oc(n,...e){if(sc.logLevel<=Rn.WARN){const t=e.map(X0);sc.warn(`Firestore (${Eh}): ${n}`,...t)}}function X0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ut(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Rx(n,r,t)}function Rx(n,e,t){let r=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ol(r),new Error(r)}function Yn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Rx(e,s,r)}function rn(n,e){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends dc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Au{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Lx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(va.UNAUTHENTICATED)))}shutdown(){}}class dA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Au;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Au,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Au)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string",31837,{l:r}),new Lx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yn(e===null||typeof e=="string",2055,{h:e}),new va(e)}}class gA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=va.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new gA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yn(this.o===void 0,3512);const r=o=>{o.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Yn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ty(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function m0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return Rg(s)===Rg(o)?_n(s,o):Rg(s)?1:-1}return _n(n.length,e.length)}const bA=55296,xA=57343;function Rg(n){const e=n.charCodeAt(0);return e>=bA&&e<=xA}function vh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const Cy="__name__";class Vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ut(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ut(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Vo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return _n(e.length,t.length)}static compareSegments(e,t){const r=Vo.isNumericId(e),s=Vo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vo.extractNumericId(e).compare(Vo.extractNumericId(t)):m0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Su.fromString(e.substring(4,e.length-2))}}class di extends Vo{construct(e,t,r){return new di(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new di(t)}static emptyPath(){return new di([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends Vo{construct(e,t,r){return new ia(e,t,r)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new ia([Cy])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new at(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new at(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new at(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(r+=h,s++):(o(),s++)}if(o(),c)throw new at(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ia(t)}static emptyPath(){return new ia([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(di.fromString(e))}static fromName(e){return new kt(di.fromString(e).popFirst(5))}static empty(){return new kt(di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&di.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new di(e.slice()))}}function Dx(n,e,t){if(!t)throw new at(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wA(n,e,t,r){if(e===!0&&r===!0)throw new at(Ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ny(n){if(!kt.isDocumentKey(n))throw new at(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jy(n){if(kt.isDocumentKey(n))throw new at(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ut(12329,{type:typeof n})}function Ho(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yp(n);throw new at(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gf(n,e){if(!kx(n))throw new at(Ye.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new at(Ye.INVALID_ARGUMENT,t);return!0}const Iy=-62135596800,Ry=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ry);return new bi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Iy)throw new at(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gf(e,bi._jsonSchema))return new bi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bi._jsonSchemaVersion="firestore/timestamp/1.0",bi._jsonSchema={type:hr("string",bi._jsonSchemaVersion),seconds:hr("number"),nanoseconds:hr("number")};class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new bi(0,0))}static max(){return new Zt(new bi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mf=-1;function SA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Zt.fromTimestamp(r===1e9?new bi(t+1,0):new bi(t,r));return new Cu(s,kt.empty(),e)}function AA(n){return new Cu(n.readTime,n.key,Mf)}class Cu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cu(Zt.min(),kt.empty(),Mf)}static max(){return new Cu(Zt.max(),kt.empty(),Mf)}}function EA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=kt.comparator(n.documentKey,e.documentKey),t!==0?t:_n(n.largestBatchId,e.largestBatchId))}const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Th(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==TA)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let s=0,o=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++o,c&&o===s&&t()}),(f=>r(f)))})),c=!0,o===s&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((s=>s?Ke.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,s)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((v=>{c[d]=v,++h,h===o&&r(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new Ke(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function NA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ch(n){return n.name==="IndexedDbTransactionError"}class Wp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wp.ce=-1;const J0=-1;function $p(n){return n==null}function _p(n){return n===0&&1/n==-1/0}function jA(n){return typeof n=="number"&&Number.isInteger(n)&&!_p(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Mx="";function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ly(e)),e=RA(n.get(t),e);return Ly(e)}function RA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Mx:t+="";break;default:t+=o}}return t}function Ly(n){return n+Mx+""}function Dy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ku(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ox(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ki{constructor(e,t){this.comparator=e,this.root=t||na.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,na.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class na{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??na.RED,this.left=s??na.EMPTY,this.right=o??na.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new na(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return na.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return na.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,na.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,na.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}na.EMPTY=null,na.RED=!0,na.BLACK=!1;na.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new na(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tr(this.comparator);return t.data=e,t}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(ia.comparator)}static empty(){return new ys([])}unionWith(e){let t=new Tr(ia.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Px extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ra{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Px("Invalid base64 string: "+o):o}})(e);return new ra(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new ra(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ra.EMPTY_BYTE_STRING=new ra("");const LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(Yn(!!n,39018),typeof n=="string"){let e=0;const t=LA.exec(n);if(Yn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ju(n){return typeof n=="string"?ra.fromBase64String(n):ra.fromUint8Array(n)}const zx="server_timestamp",Fx="__type__",Bx="__previous_value__",Vx="__local_write_time__";function em(n){return(n?.mapValue?.fields||{})[Fx]?.stringValue===zx}function Kp(n){const e=n.mapValue.fields[Bx];return em(e)?Kp(e):e}function Of(n){const e=Nu(n.mapValue.fields[Vx].timestampValue);return new bi(e.seconds,e.nanos)}class DA{constructor(e,t,r,s,o,c,h,f,d,v,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v,this.apiKey=A}}const wp="(default)";class Pf{constructor(e,t){this.projectId=e,this.database=t||wp}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database===wp}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}function kA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new at(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(n.options.projectId,e)}const Ux="__type__",MA="__max__",Yd={mapValue:{}},qx="__vector__",Sp="value";function Iu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?em(n)?4:PA(n)?9007199254740991:OA(n)?10:11:Ut(28295,{value:n})}function Ko(n,e){if(n===e)return!0;const t=Iu(n);if(t!==Iu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Of(n).isEqual(Of(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Nu(s.timestampValue),h=Nu(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return ju(s.bytesValue).isEqual(ju(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Qi(s.geoPointValue.latitude)===Qi(o.geoPointValue.latitude)&&Qi(s.geoPointValue.longitude)===Qi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Qi(s.integerValue)===Qi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Qi(s.doubleValue),h=Qi(o.doubleValue);return c===h?_p(c)===_p(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return vh(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Dy(c)!==Dy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ko(c[f],h[f])))return!1;return!0})(n,e);default:return Ut(52216,{left:n})}}function zf(n,e){return(n.values||[]).find((t=>Ko(t,e)))!==void 0}function bh(n,e){if(n===e)return 0;const t=Iu(n),r=Iu(e);if(t!==r)return _n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Qi(o.integerValue||o.doubleValue),f=Qi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return My(n.timestampValue,e.timestampValue);case 4:return My(Of(n),Of(e));case 5:return m0(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=ju(o),f=ju(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=_n(h[d],f[d]);if(v!==0)return v}return _n(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=_n(Qi(o.latitude),Qi(c.latitude));return h!==0?h:_n(Qi(o.longitude),Qi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Oy(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[Sp]?.arrayValue,v=f[Sp]?.arrayValue,A=_n(d?.values?.length||0,v?.values?.length||0);return A!==0?A:Oy(d,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Yd.mapValue&&c===Yd.mapValue)return 0;if(o===Yd.mapValue)return 1;if(c===Yd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const I=m0(f[A],v[A]);if(I!==0)return I;const _=bh(h[f[A]],d[v[A]]);if(_!==0)return _}return _n(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ut(23264,{he:t})}}function My(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _n(n,e);const t=Nu(n),r=Nu(e),s=_n(t.seconds,r.seconds);return s!==0?s:_n(t.nanos,r.nanos)}function Oy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=bh(t[s],r[s]);if(o)return o}return _n(t.length,r.length)}function xh(n){return y0(n)}function y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Nu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ju(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return kt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=y0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${y0(t.fields[c])}`;return s+"}"})(n.mapValue):Ut(61005,{value:n})}function op(n){switch(Iu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kp(n);return e?16+op(e):16;case 5:return 2*n.stringValue.length;case 6:return ju(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+op(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ku(r.fields,((o,c)=>{s+=o.length+op(c)})),s})(n.mapValue);default:throw Ut(13486,{value:n})}}function Py(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v0(n){return!!n&&"integerValue"in n}function tm(n){return!!n&&"arrayValue"in n}function zy(n){return!!n&&"nullValue"in n}function Fy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lp(n){return!!n&&"mapValue"in n}function OA(n){return(n?.mapValue?.fields||{})[Ux]?.stringValue===qx}function Ef(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ku(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ef(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ef(n.arrayValue.values[t]);return e}return{...n}}function PA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MA}class Ja{constructor(e){this.value=e}static empty(){return new Ja({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ef(t)}setAll(e){let t=ia.emptyPath(),r={},s=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}c?r[h.lastSegment()]=Ef(c):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());lp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];lp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ku(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ja(Ef(this.value))}}function Hx(n){const e=[];return ku(n.fields,((t,r)=>{const s=new ia([t]);if(lp(r)){const o=Hx(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new ys(e)}class ba{constructor(e,t,r,s,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ba(e,0,Zt.min(),Zt.min(),Zt.min(),Ja.empty(),0)}static newFoundDocument(e,t,r,s){return new ba(e,1,t,Zt.min(),r,s,0)}static newNoDocument(e,t){return new ba(e,2,t,Zt.min(),Zt.min(),Ja.empty(),0)}static newUnknownDocument(e,t){return new ba(e,3,t,Zt.min(),Zt.min(),Ja.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ja.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ba&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ba(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ap{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=kt.comparator(kt.fromName(c.referenceValue),t.key):r=bh(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}class Ff{constructor(e,t="asc"){this.field=e,this.dir=t}}function zA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Gx{}class cr extends Gx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BA(e,t,r):t==="array-contains"?new qA(e,r):t==="in"?new HA(e,r):t==="not-in"?new GA(e,r):t==="array-contains-any"?new YA(e,r):new cr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VA(e,r):new UA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bh(t,this.value)):t!==null&&Iu(this.value)===Iu(t)&&this.matchesComparison(bh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends Gx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fo(e,t)}matches(e){return Yx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yx(n){return n.op==="and"}function Wx(n){return FA(n)&&Yx(n)}function FA(n){for(const e of n.filters)if(e instanceof fo)return!1;return!0}function b0(n){if(n instanceof cr)return n.field.canonicalString()+n.op.toString()+xh(n.value);if(Wx(n))return n.filters.map((e=>b0(e))).join(",");{const e=n.filters.map((t=>b0(t))).join(",");return`${n.op}(${e})`}}function $x(n,e){return n instanceof cr?(function(r,s){return s instanceof cr&&r.op===s.op&&r.field.isEqual(s.field)&&Ko(r.value,s.value)})(n,e):n instanceof fo?(function(r,s){return s instanceof fo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,h)=>o&&$x(c,s.filters[h])),!0):!1})(n,e):void Ut(19439)}function Kx(n){return n instanceof cr?(function(t){return`${t.field.canonicalString()} ${t.op} ${xh(t.value)}`})(n):n instanceof fo?(function(t){return t.op.toString()+" {"+t.getFilters().map(Kx).join(" ,")+"}"})(n):"Filter"}class BA extends cr{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class VA extends cr{constructor(e,t){super(e,"in",t),this.keys=Qx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UA extends cr{constructor(e,t){super(e,"not-in",t),this.keys=Qx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Qx(n,e){return(e.arrayValue?.values||[]).map((t=>kt.fromName(t.referenceValue)))}class qA extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tm(t)&&zf(t.arrayValue,this.value)}}class HA extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zf(this.value.arrayValue,t)}}class GA extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zf(this.value.arrayValue,t)}}class YA extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zf(this.value.arrayValue,r)))}}class WA{constructor(e,t=null,r=[],s=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Uy(n,e=null,t=[],r=[],s=null,o=null,c=null){return new WA(n,e,t,r,s,o,c)}function nm(n){const e=rn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>b0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),$p(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xh(r))).join(",")),e.Te=t}return e.Te}function im(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$x(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vy(n.startAt,e.startAt)&&Vy(n.endAt,e.endAt)}function x0(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Nh{constructor(e,t=null,r=[],s=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $A(n,e,t,r,s,o,c,h){return new Nh(n,e,t,r,s,o,c,h)}function rm(n){return new Nh(n)}function qy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KA(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Xx(n){return n.collectionGroup!==null}function Tf(n){const e=rn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Tr(ia.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ff(o,r))})),t.has(ia.keyField().canonicalString())||e.Ie.push(new Ff(ia.keyField(),r))}return e.Ie}function Go(n){const e=rn(n);return e.Ee||(e.Ee=QA(e,Tf(n))),e.Ee}function QA(n,e){if(n.limitType==="F")return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Ff(s.field,o)}));const t=n.endAt?new Ap(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ap(n.startAt.position,n.startAt.inclusive):null;return Uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _0(n,e){const t=n.filters.concat([e]);return new Nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function XA(n,e){const t=n.explicitOrderBy.concat([e]);return new Nh(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ep(n,e,t){return new Nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qp(n,e){return im(Go(n),Go(e))&&n.limitType===e.limitType}function Zx(n){return`${nm(Go(n))}|lt:${n.limitType}`}function ih(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>Kx(s))).join(", ")}]`),$p(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>xh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>xh(s))).join(",")),`Target(${r})`})(Go(n))}; limitType=${n.limitType})`}function Xp(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):kt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Tf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(c,h,f){const d=By(c,h,f);return c.inclusive?d<=0:d<0})(r.startAt,Tf(r),s)||r.endAt&&!(function(c,h,f){const d=By(c,h,f);return c.inclusive?d>=0:d>0})(r.endAt,Tf(r),s))})(n,e)}function ZA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jx(n){return(e,t)=>{let r=!1;for(const s of Tf(n)){const o=JA(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function JA(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?bh(f,d):Ut(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:n.dir})}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}const e6=new ki(kt.comparator);function Pl(){return e6}const e_=new ki(kt.comparator);function _f(...n){let e=e_;for(const t of n)e=e.insert(t.key,t);return e}function t_(n){let e=e_;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function nc(){return Cf()}function n_(){return Cf()}function Cf(){return new pc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const t6=new ki(kt.comparator),n6=new Tr(kt.comparator);function wn(...n){let e=n6;for(const t of n)e=e.add(t);return e}const i6=new Tr(_n);function r6(){return i6}function am(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function i_(n){return{integerValue:""+n}}function a6(n,e){return jA(e)?i_(e):am(n,e)}class Zp{constructor(){this._=void 0}}function s6(n,e,t){return n instanceof Tp?(function(s,o){const c={fields:{[Fx]:{stringValue:zx},[Vx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&em(o)&&(o=Kp(o)),o&&(c.fields[Bx]=o),{mapValue:c}})(t,e):n instanceof Bf?a_(n,e):n instanceof Vf?s_(n,e):(function(s,o){const c=r_(s,o),h=Hy(c)+Hy(s.Ae);return v0(c)&&v0(s.Ae)?i_(h):am(s.serializer,h)})(n,e)}function o6(n,e,t){return n instanceof Bf?a_(n,e):n instanceof Vf?s_(n,e):t}function r_(n,e){return n instanceof Cp?(function(r){return v0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Tp extends Zp{}class Bf extends Zp{constructor(e){super(),this.elements=e}}function a_(n,e){const t=o_(e);for(const r of n.elements)t.some((s=>Ko(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Vf extends Zp{constructor(e){super(),this.elements=e}}function s_(n,e){let t=o_(e);for(const r of n.elements)t=t.filter((s=>!Ko(s,r)));return{arrayValue:{values:t}}}class Cp extends Zp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Hy(n){return Qi(n.integerValue||n.doubleValue)}function o_(n){return tm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function l6(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Bf&&s instanceof Bf||r instanceof Vf&&s instanceof Vf?vh(r.elements,s.elements,Ko):r instanceof Cp&&s instanceof Cp?Ko(r.Ae,s.Ae):r instanceof Tp&&s instanceof Tp})(n.transform,e.transform)}class u6{constructor(e,t){this.version=e,this.transformResults=t}}class uo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function up(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jp{}function l_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sm(n.key,uo.none()):new Yf(n.key,n.data,uo.none());{const t=n.data,r=Ja.empty();let s=new Tr(ia.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Mu(n.key,r,new ys(s.toArray()),uo.none())}}function c6(n,e,t){n instanceof Yf?(function(s,o,c){const h=s.value.clone(),f=Yy(s.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Mu?(function(s,o,c){if(!up(s.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Yy(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(u_(s)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Nf(n,e,t,r){return n instanceof Yf?(function(o,c,h,f){if(!up(o.precondition,c))return h;const d=o.value.clone(),v=Wy(o.fieldTransforms,f,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Mu?(function(o,c,h,f){if(!up(o.precondition,c))return h;const d=Wy(o.fieldTransforms,f,c),v=c.data;return v.setAll(u_(o)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(o,c,h){return up(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function h6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=r_(r.transform,s||null);o!=null&&(t===null&&(t=Ja.empty()),t.set(r.field,o))}return t||null}function Gy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vh(r,s,((o,c)=>l6(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yf extends Jp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mu extends Jp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Yy(n,e,t){const r=new Map;Yn(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,h=e.data.field(o.field);r.set(o.field,o6(c,h,t[s]))}return r}function Wy(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,s6(o,c,e))}return r}class sm extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f6 extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d6{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&c6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n_();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(s.key)?null:h;const f=l_(c,h);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Zt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),wn())}isEqual(e){return this.batchId===e.batchId&&vh(this.mutations,e.mutations,((t,r)=>Gy(t,r)))&&vh(this.baseMutations,e.baseMutations,((t,r)=>Gy(t,r)))}}class om{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Yn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return t6})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new om(e,t,r,s)}}class p6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class g6{constructor(e,t){this.count=e,this.unchangedNames=t}}var ur,Nn;function m6(n){switch(n){case Ye.OK:return Ut(64938);case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0;default:return Ut(15467,{code:n})}}function c_(n){if(n===void 0)return Ol("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case ur.OK:return Ye.OK;case ur.CANCELLED:return Ye.CANCELLED;case ur.UNKNOWN:return Ye.UNKNOWN;case ur.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ur.INTERNAL:return Ye.INTERNAL;case ur.UNAVAILABLE:return Ye.UNAVAILABLE;case ur.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ur.NOT_FOUND:return Ye.NOT_FOUND;case ur.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ur.ABORTED:return Ye.ABORTED;case ur.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ur.DATA_LOSS:return Ye.DATA_LOSS;default:return Ut(39323,{code:n})}}(Nn=ur||(ur={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";function y6(){return new TextEncoder}const v6=new Su([4294967295,4294967295],0);function $y(n){const e=y6().encode(n),t=new Ex;return t.update(e),new Uint8Array(t.digest())}function Ky(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Su([t,r],0),new Su([s,o],0)]}class lm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wf(`Invalid padding: ${t}`);if(r<0)throw new wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Su.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Su.fromNumber(r)));return s.compare(v6)===1&&(s=new Su([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$y(e),[r,s]=Ky(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new lm(o,s,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=$y(e),[r,s]=Ky(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class e1{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new e1(Zt.min(),s,new ki(_n),Pl(),wn())}}class Wf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wf(r,t,wn(),wn(),wn())}}class cp{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class h_{constructor(e,t){this.targetId=e,this.Ce=t}}class f_{constructor(e,t,r=ra.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Qy{constructor(){this.ve=0,this.Fe=Xy(),this.Me=ra.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wn(),t=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ut(38017,{changeType:o})}})),new Wf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Xy()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Yn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class b6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pl(),this.He=Wd(),this.Je=Wd(),this.Ze=new ki(_n)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(x0(o))if(r===0){const c=new kt(o.path);this.et(t,c,ba.newNoDocument(c,Zt.min()))}else Yn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,h;try{c=ju(r).toUint8Array()}catch(f){if(f instanceof Px)return oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new lm(c,s,o)}catch(f){return oc(f instanceof wf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&x0(h.target)){const f=new kt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ba.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=wn();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new e1(e,t,this.Ze,this.je,r);return this.je=Pl(),this.He=Wd(),this.Je=Wd(),this.Ze=new ki(_n),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Qy,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Tr(_n),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Tr(_n),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ct("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wd(){return new ki(kt.comparator)}function Xy(){return new ki(kt.comparator)}const x6={asc:"ASCENDING",desc:"DESCENDING"},_6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w6={and:"AND",or:"OR"};class S6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w0(n,e){return n.useProto3Json||$p(e)?e:{value:e}}function Np(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A6(n,e){return Np(n,e.toTimestamp())}function Yo(n){return Yn(!!n,49232),Zt.fromTimestamp((function(t){const r=Nu(t);return new bi(r.seconds,r.nanos)})(n))}function um(n,e){return S0(n,e).canonicalString()}function S0(n,e){const t=(function(s){return new di(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function p_(n){const e=di.fromString(n);return Yn(b_(e),10190,{key:e.toString()}),e}function A0(n,e){return um(n.databaseId,e.path)}function Lg(n,e){const t=p_(e);if(t.get(1)!==n.databaseId.projectId)throw new at(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(m_(t))}function g_(n,e){return um(n.databaseId,e)}function E6(n){const e=p_(n);return e.length===4?di.emptyPath():m_(e)}function E0(n){return new di(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m_(n){return Yn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zy(n,e,t){return{name:A0(n,e),fields:t.value.mapValue.fields}}function T6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(Yn(v===void 0||typeof v=="string",58123),ra.fromBase64String(v||"")):(Yn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ra.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(d){const v=d.code===void 0?Ye.UNKNOWN:c_(d.code);return new at(v,d.message||"")})(c);t=new f_(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lg(n,r.document.name),o=Yo(r.document.updateTime),c=r.document.createTime?Yo(r.document.createTime):Zt.min(),h=new Ja({mapValue:{fields:r.document.fields}}),f=ba.newFoundDocument(s,o,c,h),d=r.targetIds||[],v=r.removedTargetIds||[];t=new cp(d,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lg(n,r.document),o=r.readTime?Yo(r.readTime):Zt.min(),c=ba.newNoDocument(s,o),h=r.removedTargetIds||[];t=new cp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lg(n,r.document),o=r.removedTargetIds||[];t=new cp([],o,s,null)}else{if(!("filter"in e))return Ut(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new g6(s,o),h=r.targetId;t=new h_(h,c)}}return t}function C6(n,e){let t;if(e instanceof Yf)t={update:Zy(n,e.key,e.value)};else if(e instanceof sm)t={delete:A0(n,e.key)};else if(e instanceof Mu)t={update:Zy(n,e.key,e.data),updateMask:O6(e.fieldMask)};else{if(!(e instanceof f6))return Ut(16599,{dt:e.type});t={verify:A0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Tp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Cp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ut(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:A6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ut(27497)})(n,e.precondition)),t}function N6(n,e){return n&&n.length>0?(Yn(e!==void 0,14353),n.map((t=>(function(s,o){let c=s.updateTime?Yo(s.updateTime):Yo(o);return c.isEqual(Zt.min())&&(c=Yo(o)),new u6(c,s.transformResults||[])})(t,e)))):[]}function j6(n,e){return{documents:[g_(n,e.path)]}}function I6(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=g_(n,s);const o=(function(d){if(d.length!==0)return v_(fo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((v=>(function(I){return{field:rh(I.field),direction:D6(I.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=w0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function R6(n){let e=E6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Yn(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(A){const I=y_(A);return I instanceof fo&&Wx(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(A){return A.map((I=>(function(z){return new Ff(ah(z.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(I)))})(t.orderBy));let h=null;t.limit&&(h=(function(A){let I;return I=typeof A=="object"?A.value:A,$p(I)?null:I})(t.limit));let f=null;t.startAt&&(f=(function(A){const I=!!A.before,_=A.values||[];return new Ap(_,I)})(t.startAt));let d=null;return t.endAt&&(d=(function(A){const I=!A.before,_=A.values||[];return new Ap(_,I)})(t.endAt)),$A(e,s,c,o,h,"F",f,d)}function L6(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function y_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ah(t.unaryFilter.field);return cr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ah(t.unaryFilter.field);return cr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ah(t.unaryFilter.field);return cr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ah(t.unaryFilter.field);return cr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(n):n.fieldFilter!==void 0?(function(t){return cr.create(ah(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return fo.create(t.compositeFilter.filters.map((r=>y_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(t.compositeFilter.op))})(n):Ut(30097,{filter:n})}function D6(n){return x6[n]}function k6(n){return _6[n]}function M6(n){return w6[n]}function rh(n){return{fieldPath:n.canonicalString()}}function ah(n){return ia.fromServerFormat(n.fieldPath)}function v_(n){return n instanceof cr?(function(t){if(t.op==="=="){if(Fy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NAN"}};if(zy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NAN"}};if(zy(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(t.field),op:k6(t.op),value:t.value}}})(n):n instanceof fo?(function(t){const r=t.getFilters().map((s=>v_(s)));return r.length===1?r[0]:{compositeFilter:{op:M6(t.op),filters:r}}})(n):Ut(54877,{filter:n})}function O6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function b_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function x_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class vu{constructor(e,t,r,s,o=Zt.min(),c=Zt.min(),h=ra.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P6{constructor(e){this.yt=e}}function z6(n){const e=R6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ep(e,e.limit,"L"):e}class F6{constructor(){this.Sn=new B6}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Cu.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Cu.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class B6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Tr(di.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tr(di.comparator)).toArray()}}const Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=41943040;class Za{static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(__,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class _h{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _h(0)}static ar(){return new _h(-1)}}const ev="LruGarbageCollector",V6=1048576;function tv([n,e],[t,r]){const s=_n(n,t);return s===0?_n(e,r):s}class U6{constructor(e){this.Pr=e,this.buffer=new Tr(tv),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class q6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ct(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ch(t)?ct(ev,"Ignoring IndexedDB error during garbage collection: ",t):await Th(t)}await this.Ar(3e5)}))}}class H6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(Wp.ce);const r=new U6(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Jy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,c,h,f,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,c=Date.now(),this.nthSequenceNumber(e,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(e,r,t)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(d=Date.now(),nh()<=Rn.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function G6(n,e){return new H6(n,e)}class Y6{constructor(){this.changes=new pc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ba.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $6{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Nf(r.mutation,s,ys.empty(),bi.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,wn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=wn()){const s=nc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let c=_f();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=nc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,wn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,s){let o=Pl();const c=Cf(),h=(function(){return Cf()})();return t.forEach(((f,d)=>{const v=r.get(d.key);s.has(d.key)&&(v===void 0||v.mutation instanceof Mu)?o=o.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),Nf(v.mutation,d,v.mutation.getFieldMask(),bi.now())):c.set(d.key,ys.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,v)=>c.set(d,v))),t.forEach(((d,v)=>h.set(d,new W6(v,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Cf();let s=new ki(((c,h)=>c-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let v=r.get(f)||ys.empty();v=h.applyToLocalView(d,v),r.set(f,v);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=n_();v.forEach((I=>{if(!o.has(I)){const _=l_(t.get(I),r.get(I));_!==null&&A.set(I,_),o=o.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,A))}return Ke.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return KA(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ke.resolve(nc());let h=Mf,f=o;return c.next((d=>Ke.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Ke.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{f=f.insert(v,I)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,wn()))).next((v=>({batchId:h,changes:t_(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next((r=>{let s=_f();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=_f();return this.indexManager.getCollectionParents(e,o).next((h=>Ke.forEach(h,(f=>{const d=(function(A,I){return new Nh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((v=>{v.forEach(((A,I)=>{c=c.insert(A,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((c=>{o.forEach(((f,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,ba.newInvalidDocument(v)))}));let h=_f();return c.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&Nf(v.mutation,d,ys.empty(),bi.now()),Xp(t,d)&&(h=h.insert(f,d))})),h}))}}class K6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Yo(s.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:z6(s.bundledQuery),readTime:Yo(s.readTime)}})(t)),Ke.resolve()}}class Q6{constructor(){this.overlays=new ki(kt.comparator),this.Lr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nc();return Ke.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const s=nc(),o=t.length+1,c=new kt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ki(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=nc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=nc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=s)););return Ke.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new p6(t,r));let o=this.Lr.get(t);o===void 0&&(o=wn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class X6{constructor(){this.sessionToken=ra.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}class cm{constructor(){this.kr=new Tr(Br.Kr),this.qr=new Tr(Br.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Br(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new kt(new di([])),r=new Br(t,e),s=new Br(t,e+1);let o=wn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Br(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return kt.comparator(e.key,t.key)||_n(e.Hr,t.Hr)}static Ur(e,t){return _n(e.Hr,t.Hr)||kt.comparator(e.key,t.key)}}class Z6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Tr(Br.Kr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new d6(o,t,r,s);this.mutationQueue.push(c);for(const h of s)this.Jr=this.Jr.add(new Br(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ke.resolve(c)}lookupMutationBatch(e,t){return Ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?J0:this.Yn-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),s=new Br(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const h=this.Zr(c.Hr);o.push(h)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(_n);return t.forEach((s=>{const o=new Br(s,0),c=new Br(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),Ke.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;kt.isDocumentKey(o)||(o=o.child(""));const c=new Br(new kt(o),0);let h=new Tr(_n);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Hr)),!0)}),c),Ke.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Yn(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Ke.forEach(t.mutations,(s=>{const o=new Br(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Br(t,0),s=this.Jr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class J6{constructor(e){this.ti=e,this.docs=(function(){return new ki(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():ba.newInvalidDocument(t))}getEntries(e,t){let r=Pl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ba.newInvalidDocument(s))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Pl();const c=t.path,h=new kt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||EA(AA(v),r)<=0||(s.has(v.key)||Xp(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ut(9500)}ni(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new eE(this)}getSize(e){return Ke.resolve(this.size)}}class eE extends Y6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class tE{constructor(e){this.persistence=e,this.ri=new pc((t=>nm(t)),im),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ii=0,this.si=new cm,this.targetCount=0,this.oi=_h._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Ke.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _h(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.lr(t),Ke.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),Ke.waitFor(o).next((()=>s))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.si.containsKey(t))}}class w_{constructor(e,t){this._i={},this.overlays={},this.ai=new Wp(0),this.ui=!1,this.ui=!0,this.ci=new X6,this.referenceDelegate=e(this),this.li=new tE(this),this.indexManager=new F6,this.remoteDocumentCache=(function(s){return new J6(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new P6(t),this.Pi=new K6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Z6(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ct("MemoryPersistence","Starting transaction:",e);const s=new nE(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Ke.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class nE extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Ri=new cm,this.Ai=null}static Vi(e){return new hm(e)}get di(){if(this.Ai)return this.Ai;throw Ut(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.di,(r=>{const s=kt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Zt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jp{constructor(e,t){this.persistence=e,this.fi=new pc((r=>IA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=G6(this,t)}static Vi(e,t){return new jp(e,t)}Ti(){}Ii(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Ke.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Ke.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(r++,o.removeEntry(c,Zt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=op(e.data.value)),t}wr(e,t,r){return Ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=wn(),s=wn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new fm(e,t.fromCache,r,s)}}class iE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return X3()?8:NA(K3())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new iE;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(nh()<=Rn.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ih(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ke.resolve()):(nh()<=Rn.DEBUG&&ct("QueryEngine","Query:",ih(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(nh()<=Rn.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ih(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(t))):Ke.resolve())}gs(e,t){if(qy(t))return Ke.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Ep(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=wn(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,h);return this.Ss(t,d,c,f.readTime)?this.gs(e,Ep(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return qy(t)||s.isEqual(Zt.min())?Ke.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,s)?Ke.resolve(null):(nh()<=Rn.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ih(t)),this.Ds(e,c,t,SA(s,Mf)).next((h=>h)))}))}bs(e,t){let r=new Tr(Jx(e));return t.forEach(((s,o)=>{Xp(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return nh()<=Rn.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ih(t)),this.fs.getDocumentsMatchingQuery(e,t,Cu.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const dm="LocalStore",aE=3e8;class sE{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ki(_n),this.Fs=new pc((o=>nm(o)),im),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function oE(n,e,t,r){return new sE(n,e,t,r)}async function S_(n,e){const t=rn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=wn();for(const d of s){c.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function lE(n,e){const t=rn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,I=A.keys();let _=Ke.resolve();return I.forEach((z=>{_=_.next((()=>v.getEntry(f,z))).next((M=>{const B=d.docVersions.get(z);Yn(B!==null,48541),M.version.compareTo(B)<0&&(A.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),v.addEntry(M)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function A_(n){const e=rn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function uE(n,e){const t=rn(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((v,A)=>{const I=s.get(A);if(!I)return;h.push(t.li.removeMatchingKeys(o,v.removedDocuments,A).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,A))));let _=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(ra.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):v.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(v.resumeToken,r)),s=s.insert(A,_),(function(M,B,V){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=aE?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(I,_,v)&&h.push(t.li.updateTargetData(o,_))}));let f=Pl(),d=wn();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(cE(o,c,e.documentUpdates).next((v=>{f=v.Bs,d=v.Ls}))),!r.isEqual(Zt.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((A=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Ke.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function cE(n,e,t){let r=wn(),s=wn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Pl();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Zt.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ct(dm,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:s}}))}function hE(n,e){const t=rn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=J0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fE(n,e){const t=rn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Ke.resolve(s)):t.li.allocateTargetId(r).next((c=>(s=new vu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function T0(n,e,t){const r=rn(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ch(c))throw c;ct(dm,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function nv(n,e,t){const r=rn(n);let s=Zt.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,v){const A=rn(f),I=A.Fs.get(v);return I!==void 0?Ke.resolve(A.vs.get(I)):A.li.getTargetData(d,v)})(r,c,Go(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:Zt.min(),t?o:wn()))).next((h=>(dE(r,ZA(e),h),{documents:h,ks:o})))))}function dE(n,e,t){let r=n.Ms.get(e)||Zt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class iv{constructor(){this.activeTargetIds=r6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pE{constructor(){this.vo=new iv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gE{Mo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(rv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ct(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $d=null;function C0(){return $d===null?$d=(function(){return 268435456+Math.round(2147483648*Math.random())})():$d++,"0x"+$d.toString(16)}const Dg="RestConnection",mE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yE{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===wp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const c=C0(),h=this.Qo(e,t.toUriEncodedString());ct(Dg,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(h),v=Gp(d);return this.zo(e,h,f,r,v).then((A=>(ct(Dg,`Received RPC '${e}' ${c}: `,A),A)),(A=>{throw oc(Dg,`RPC '${e}' ${c} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(e,t,r,s,o,c){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=mE[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class vE{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const da="WebChannelConnection",mf=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ch extends yE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ch.c_){const e=jx();mf(e,Nx.STAT_EVENT,(t=>{t.stat===g0.PROXY?ct(da,"STAT_EVENT: detected buffering proxy"):t.stat===g0.NOPROXY&&ct(da,"STAT_EVENT: detected no buffering proxy")})),ch.c_=!0}}zo(e,t,r,s,o){const c=C0();return new Promise(((h,f)=>{const d=new Tx;d.setWithCredentials(!0),d.listenOnce(Cx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case sp.NO_ERROR:const A=d.getResponseJson();ct(da,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),h(A);break;case sp.TIMEOUT:ct(da,`RPC '${e}' ${c} timed out`),f(new at(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const I=d.getStatus();if(ct(da,`RPC '${e}' ${c} failed with status:`,I,"response text:",d.getResponseText()),I>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const z=_?.error;if(z&&z.status&&z.message){const M=(function(V){const te=V.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(te)>=0?te:Ye.UNKNOWN})(z.status);f(new at(M,z.message))}else f(new at(Ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new at(Ye.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ct(da,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);ct(da,`RPC '${e}' ${c} sending request:`,s),d.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=C0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const d=o.join("");ct(da,`Creating RPC '${e}' stream ${s}: ${d}`,h);const v=c.createWebChannel(d,h);this.I_(v);let A=!1,I=!1;const _=new vE({Ho:z=>{I?ct(da,`Not sending because RPC '${e}' stream ${s} is closed:`,z):(A||(ct(da,`Opening RPC '${e}' stream ${s} transport.`),v.open(),A=!0),ct(da,`RPC '${e}' stream ${s} sending:`,z),v.send(z))},Jo:()=>v.close()});return mf(v,xf.EventType.OPEN,(()=>{I||(ct(da,`RPC '${e}' stream ${s} transport opened.`),_.i_())})),mf(v,xf.EventType.CLOSE,(()=>{I||(I=!0,ct(da,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(v))})),mf(v,xf.EventType.ERROR,(z=>{I||(I=!0,oc(da,`RPC '${e}' stream ${s} transport errored. Name:`,z.name,"Message:",z.message),_.o_(new at(Ye.UNAVAILABLE,"The operation could not be completed")))})),mf(v,xf.EventType.MESSAGE,(z=>{if(!I){const M=z.data[0];Yn(!!M,16349);const B=M,V=B?.error||B[0]?.error;if(V){ct(da,`RPC '${e}' stream ${s} received error:`,V);const te=V.status;let ae=(function(je){const K=ur[je];if(K!==void 0)return c_(K)})(te),se=V.message;te==="NOT_FOUND"&&se.includes("database")&&se.includes("does not exist")&&se.includes(this.databaseId.database)&&oc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=Ye.INTERNAL,se="Unknown error status: "+te+" with message "+V.message),I=!0,_.o_(new at(ae,se)),v.close()}else ct(da,`RPC '${e}' stream ${s} received:`,M),_.__(M)}})),ch.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ix()}}function bE(n){return new ch(n)}function kg(){return typeof document<"u"?document:null}function t1(n){return new S6(n,!0)}ch.c_=!1;class E_{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ct("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sv="PersistentStream";class T_{constructor(e,t,r,s,o,c,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Ol(t.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new at(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ct(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xE extends T_{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=T6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Zt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Zt.min():c.readTime?Yo(c.readTime):Zt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=E0(this.serializer),t.addTarget=(function(o,c){let h;const f=c.target;if(h=x0(f)?{documents:j6(o,f)}:{query:I6(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=d_(o,c.resumeToken);const d=w0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(Zt.min())>0){h.readTime=Np(o,c.snapshotVersion.toTimestamp());const d=w0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const r=L6(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=E0(this.serializer),t.removeTarget=e,this.K_(t)}}class _E extends T_{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Yn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=N6(e.writeResults,e.commitTime),r=Yo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=E0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>C6(this.serializer,r)))};this.K_(t)}}class wE{}class SE extends wE{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new at(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,S0(t,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ye.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,S0(t,r),s,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Ye.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AE(n,e,t,r){return new SE(n,e,t,r)}class EE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ol(t),this.aa=!1):ct("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class TE{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{gc(this)&&(ct(lc,"Restarting streams for network reachability change."),await(async function(f){const d=rn(f);d.Ea.add(4),await $f(d),d.Va.set("Unknown"),d.Ea.delete(4),await n1(d)})(this))}))})),this.Va=new EE(r,s)}}async function n1(n){if(gc(n))for(const e of n.Ra)await e(!0)}async function $f(n){for(const e of n.Ra)await e(!1)}function C_(n,e){const t=rn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ym(t)?mm(t):jh(t).O_()&&gm(t,e))}function pm(n,e){const t=rn(n),r=jh(t);t.Ia.delete(e),r.O_()&&N_(t,e),t.Ia.size===0&&(r.O_()?r.L_():gc(t)&&t.Va.set("Unknown"))}function gm(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jh(n).Z_(e)}function N_(n,e){n.da.$e(e),jh(n).X_(e)}function mm(n){n.da=new b6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),jh(n).start(),n.Va.ua()}function ym(n){return gc(n)&&!jh(n).x_()&&n.Ia.size>0}function gc(n){return rn(n).Ea.size===0}function j_(n){n.da=void 0}async function CE(n){n.Va.set("Online")}async function NE(n){n.Ia.forEach(((e,t)=>{gm(n,e)}))}async function jE(n,e){j_(n),ym(n)?(n.Va.ha(e),mm(n)):n.Va.set("Unknown")}async function IE(n,e,t){if(n.Va.set("Online"),e instanceof f_&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){ct(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ip(n,r)}else if(e instanceof cp?n.da.Xe(e):e instanceof h_?n.da.st(e):n.da.tt(e),!t.isEqual(Zt.min()))try{const r=await A_(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ra.EMPTY_BYTE_STRING,v.snapshotVersion)),N_(o,f);const A=new vu(v.target,f,d,v.sequenceNumber);gm(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ct(lc,"Failed to raise snapshot:",r),await Ip(n,r)}}async function Ip(n,e,t){if(!Ch(e))throw e;n.Ea.add(1),await $f(n),n.Va.set("Offline"),t||(t=()=>A_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(lc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await n1(n)}))}function I_(n,e){return e().catch((t=>Ip(n,t,e)))}async function i1(n){const e=rn(n),t=Ru(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J0;for(;RE(e);)try{const s=await hE(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,LE(e,s)}catch(s){await Ip(e,s)}R_(e)&&L_(e)}function RE(n){return gc(n)&&n.Ta.length<10}function LE(n,e){n.Ta.push(e);const t=Ru(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function R_(n){return gc(n)&&!Ru(n).x_()&&n.Ta.length>0}function L_(n){Ru(n).start()}async function DE(n){Ru(n).ra()}async function kE(n){const e=Ru(n);for(const t of n.Ta)e.ea(t.mutations)}async function ME(n,e,t){const r=n.Ta.shift(),s=om.from(r,e,t);await I_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await i1(n)}async function OE(n,e){e&&Ru(n).Y_&&await(async function(r,s){if((function(c){return m6(c)&&c!==Ye.ABORTED})(s.code)){const o=r.Ta.shift();Ru(r).B_(),await I_(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await i1(r)}})(n,e),R_(n)&&L_(n)}async function ov(n,e){const t=rn(n);t.asyncQueue.verifyOperationInProgress(),ct(lc,"RemoteStore received new credentials");const r=gc(t);t.Ea.add(3),await $f(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await n1(t)}async function PE(n,e){const t=rn(n);e?(t.Ea.delete(2),await n1(t)):e||(t.Ea.add(2),await $f(t),t.Va.set("Unknown"))}function jh(n){return n.ma||(n.ma=(function(t,r,s){const o=rn(t);return o.sa(),new xE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:CE.bind(null,n),Yo:NE.bind(null,n),t_:jE.bind(null,n),J_:IE.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),ym(n)?mm(n):n.Va.set("Unknown")):(await n.ma.stop(),j_(n))}))),n.ma}function Ru(n){return n.fa||(n.fa=(function(t,r,s){const o=rn(t);return o.sa(),new _E(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:DE.bind(null,n),t_:OE.bind(null,n),ta:kE.bind(null,n),na:ME.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await i1(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class vm{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,h=new vm(e,t,c,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,e){if(Ol("AsyncQueue",`${e}: ${n}`),Ch(n))return new at(Ye.UNAVAILABLE,`${e}: ${n}`);throw n}class hh{static emptySet(e){return new hh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=_f(),this.sortedSet=new ki(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class lv{constructor(){this.ga=new ki(kt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ut(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wh{constructor(e,t,r,s,o,c,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new wh(e,t,hh.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class zE{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FE{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=rn(t),o=s.queries;s.queries=uv(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new at(Ye.ABORTED,"Firestore shutting down"))}}function uv(){return new pc((n=>Zx(n)),Qp)}async function D_(n,e){const t=rn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new zE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=bm(c,`Initialization of query '${ih(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&xm(t)}async function k_(n,e){const t=rn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BE(n,e){const t=rn(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(s)&&(r=!0);c.wa=s}}r&&xm(t)}function VE(n,e,t){const r=rn(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function xm(n){n.Ca.forEach((e=>{e.next()}))}var N0,cv;(cv=N0||(N0={})).Ma="default",cv.Cache="cache";class M_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N0.Cache}}class O_{constructor(e){this.key=e}}class P_{constructor(e){this.key=e}}class UE{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.eu=Jx(e),this.tu=new hh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new lv,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,A)=>{const I=s.get(v),_=Xp(this.query,A)?A:null,z=!!I&&this.mutatedKeys.has(I.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let B=!1;I&&_?I.data.isEqual(_.data)?z!==M&&(r.track({type:3,doc:_}),B=!0):this.su(I,_)||(r.track({type:2,doc:_}),B=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!I&&_?(r.track({type:0,doc:_}),B=!0):I&&!_&&(r.track({type:1,doc:I}),B=!0,(f||d)&&(h=!0)),B&&(_?(c=c.add(_),o=M?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,A)=>(function(_,z){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Vt:B})}};return M(_)-M(z)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new wh(this.query,e.tu,o,c,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new P_(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new O_(r))})),t}cu(e){this.Za=e.ks,this.Ya=wn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _m="SyncEngine";class qE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HE{constructor(e){this.key=e,this.hu=!1}}class GE{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new pc((h=>Zx(h)),Qp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(kt.comparator),this.Au=new Map,this.Vu=new cm,this.du={},this.mu=new Map,this.fu=_h.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YE(n,e,t=!0){const r=q_(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await z_(r,e,t,!0),s}async function WE(n,e){const t=q_(n);await z_(t,e,!0,!1)}async function z_(n,e,t,r){const s=await fE(n.localStore,Go(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await $E(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&C_(n.remoteStore,s),h}async function $E(n,e,t,r,s){n.pu=(A,I,_)=>(async function(M,B,V,te){let ae=B.view.ru(V);ae.Ss&&(ae=await nv(M.localStore,B.query,!1).then((({documents:K})=>B.view.ru(K,ae))));const se=te&&te.targetChanges.get(B.targetId),Se=te&&te.targetMismatches.get(B.targetId)!=null,je=B.view.applyChanges(ae,M.isPrimaryClient,se,Se);return fv(M,B.targetId,je.au),je.snapshot})(n,A,I,_);const o=await nv(n.localStore,e,!0),c=new UE(e,o.ks),h=c.ru(o.documents),f=Wf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=c.applyChanges(h,n.isPrimaryClient,f);fv(n,t,d.au);const v=new qE(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function KE(n,e,t){const r=rn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Qp(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await T0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&pm(r.remoteStore,s.targetId),j0(r,s.targetId)})).catch(Th)):(j0(r,s.targetId),await T0(r.localStore,s.targetId,!0))}async function QE(n,e){const t=rn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pm(t.remoteStore,r.targetId))}async function XE(n,e,t){const r=r8(n);try{const s=await(function(c,h){const f=rn(c),d=bi.now(),v=h.reduce(((_,z)=>_.add(z.key)),wn());let A,I;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let z=Pl(),M=wn();return f.xs.getEntries(_,v).next((B=>{z=B,z.forEach(((V,te)=>{te.isValidDocument()||(M=M.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,z))).next((B=>{A=B;const V=[];for(const te of h){const ae=h6(te,A.get(te.key).overlayedDocument);ae!=null&&V.push(new Mu(te.key,ae,Hx(ae.value.mapValue),uo.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,V,h)})).next((B=>{I=B;const V=B.applyToLocalDocumentSet(A,M);return f.documentOverlayCache.saveOverlays(_,B.batchId,V)}))})).then((()=>({batchId:I.batchId,changes:t_(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,h,f){let d=c.du[c.currentUser.toKey()];d||(d=new ki(_n)),d=d.insert(h,f),c.du[c.currentUser.toKey()]=d})(r,s.batchId,t),await Kf(r,s.changes),await i1(r.remoteStore)}catch(s){const o=bm(s,"Failed to persist write");t.reject(o)}}async function F_(n,e){const t=rn(n);try{const r=await uE(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Yn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Yn(c.hu,14607):s.removedDocuments.size>0&&(Yn(c.hu,42227),c.hu=!1))})),await Kf(t,r,e)}catch(r){await Th(r)}}function hv(n,e,t){const r=rn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const I of A.ba)I.va(h)&&(d=!0)})),d&&xm(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZE(n,e,t){const r=rn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new ki(kt.comparator);c=c.insert(o,ba.newNoDocument(o,Zt.min()));const h=wn().add(o),f=new e1(Zt.min(),new Map,new ki(_n),c,h);await F_(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),wm(r)}else await T0(r.localStore,e,!1).then((()=>j0(r,e,t))).catch(Th)}async function JE(n,e){const t=rn(n),r=e.batch.batchId;try{const s=await lE(t.localStore,e);V_(t,r,null),B_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kf(t,s)}catch(s){await Th(s)}}async function e8(n,e,t){const r=rn(n);try{const s=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Yn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(r.localStore,e);V_(r,e,t),B_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kf(r,s)}catch(s){await Th(s)}}function B_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function V_(n,e,t){const r=rn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function j0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||U_(n,r)}))}function U_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(pm(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),wm(n))}function fv(n,e,t){for(const r of t)r instanceof O_?(n.Vu.addReference(r.key,e),t8(n,r)):r instanceof P_?(ct(_m,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||U_(n,r.key)):Ut(19791,{wu:r})}function t8(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ct(_m,"New document in limbo: "+t),n.Eu.add(r),wm(n))}function wm(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new kt(di.fromString(e)),r=n.fu.next();n.Au.set(r,new HE(t)),n.Ru=n.Ru.insert(t,r),C_(n.remoteStore,new vu(Go(rm(t.path)),r,"TargetPurposeLimboResolution",Wp.ce))}}async function Kf(n,e,t){const r=rn(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){s.push(d);const v=fm.Es(f.targetId,d);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(f,d){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Ke.forEach(d,(I=>Ke.forEach(I.Ts,(_=>v.persistence.referenceDelegate.addReference(A,I.targetId,_))).next((()=>Ke.forEach(I.Is,(_=>v.persistence.referenceDelegate.removeReference(A,I.targetId,_)))))))))}catch(A){if(!Ch(A))throw A;ct(dm,"Failed to update sequence numbers: "+A)}for(const A of d){const I=A.targetId;if(!A.fromCache){const _=v.vs.get(I),z=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(z);v.vs=v.vs.insert(I,M)}}})(r.localStore,o))}async function n8(n,e){const t=rn(n);if(!t.currentUser.isEqual(e)){ct(_m,"User change. New user:",e.toKey());const r=await S_(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new at(Ye.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kf(t,r.Ns)}}function i8(n,e){const t=rn(n),r=t.Au.get(e);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const h=t.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function q_(n){const e=rn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZE.bind(null,e),e.Pu.J_=BE.bind(null,e.eventManager),e.Pu.yu=VE.bind(null,e.eventManager),e}function r8(n){const e=rn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e8.bind(null,e),e}class Rp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=t1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oE(this.persistence,new rE,e.initialUser,this.serializer)}Cu(e){return new w_(hm.Vi,this.serializer)}Du(e){return new pE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rp.provider={build:()=>new Rp};class a8 extends Rp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yn(this.persistence.referenceDelegate instanceof jp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new w_((r=>jp.Vi(r,t)),this.serializer)}}class I0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n8.bind(null,this.syncEngine),await PE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FE})()}createDatastore(e){const t=t1(e.databaseInfo.databaseId),r=bE(e.databaseInfo);return AE(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,c,h){return new TE(r,s,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>hv(this.syncEngine,t,0)),(function(){return av.v()?new av:new gE})())}createSyncEngine(e,t){return(function(s,o,c,h,f,d,v){const A=new GE(s,o,c,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=rn(t);ct(lc,"RemoteStore shutting down."),r.Ea.add(5),await $f(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}I0.provider={build:()=>new I0};class H_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Lu="FirestoreClient";class s8{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=va.UNAUTHENTICATED,this.clientId=Z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ct(Lu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(Lu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mg(n,e){n.asyncQueue.verifyOperationInProgress(),ct(Lu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await S_(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function dv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await o8(n);ct(Lu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ov(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>ov(e.remoteStore,s))),n._onlineComponents=e}async function o8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(Lu,"Using user provided OfflineComponentProvider");try{await Mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await Mg(n,new Rp)}}else ct(Lu,"Using default OfflineComponentProvider"),await Mg(n,new a8(void 0));return n._offlineComponents}async function G_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(Lu,"Using user provided OnlineComponentProvider"),await dv(n,n._uninitializedComponentsProvider._online)):(ct(Lu,"Using default OnlineComponentProvider"),await dv(n,new I0))),n._onlineComponents}function l8(n){return G_(n).then((e=>e.syncEngine))}async function R0(n){const e=await G_(n),t=e.eventManager;return t.onListen=YE.bind(null,e.syncEngine),t.onUnlisten=KE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QE.bind(null,e.syncEngine),t}function u8(n,e,t,r){const s=new H_(r),o=new M_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>D_(await R0(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>k_(await R0(n),o)))}}function c8(n,e,t={}){const r=new Au;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const v=new H_({next:I=>{v.Nu(),c.enqueueAndForget((()=>k_(o,A))),I.fromCache&&f.source==="server"?d.reject(new at(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),A=new M_(h,v,{includeMetadataChanges:!0,Ka:!0});return D_(o,A)})(await R0(n),n.asyncQueue,e,t,r))),r.promise}function h8(n,e){const t=new Au;return n.asyncQueue.enqueueAndForget((async()=>XE(await l8(n),e,t))),t.promise}function Y_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const f8="ComponentProvider",pv=new Map;function d8(n,e,t,r,s){return new DA(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Y_(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const W_="firestore.googleapis.com",gv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W_,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=__;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V6)throw new at(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class r1{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=pv.get(t);r&&(ct(f8,"Removing Datastore"),pv.delete(t),r.terminate())})(this),Promise.resolve()}}function p8(n,e,t,r={}){n=Ho(n,r1);const s=Gp(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(hx(`https://${h}`),dx("Firestore",!0)),o.host!==W_&&o.host!==h&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!bp(f,c)&&(n._setSettings(f),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=va.MOCK_USER;else{d=fx(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new at(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new va(A)}n._authCredentials=new dA(new Lx(d,v))}}class Fl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fl(this.firestore,e,this._query)}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gf(t,fr._jsonSchema))return new fr(e,r||null,new kt(di.fromString(t.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:hr("string",fr._jsonSchemaVersion),referencePath:hr("string")};class Eu extends Fl{constructor(e,t,r){super(e,t,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new kt(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function lr(n,e,...t){if(n=ho(n),Dx("collection","path",e),n instanceof r1){const r=di.fromString(e,...t);return jy(r),new Eu(n,null,r)}{if(!(n instanceof fr||n instanceof Eu))throw new at(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return jy(r),new Eu(n.firestore,null,r)}}function Ia(n,e,...t){if(n=ho(n),arguments.length===1&&(e=Z0.newId()),Dx("doc","path",e),n instanceof r1){const r=di.fromString(e,...t);return Ny(r),new fr(n,null,new kt(r))}{if(!(n instanceof fr||n instanceof Eu))throw new at(Ye.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(di.fromString(e,...t));return Ny(r),new fr(n.firestore,n instanceof Eu?n.converter:null,new kt(r))}}const yv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E_(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&ct(yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Au;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ch(e))throw e;ct(yv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ol("INTERNAL UNHANDLED ERROR: ",bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=vm.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function bv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class uc extends r1{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new vv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function g8(n,e){const t=typeof n=="object"?n:wx(),r=typeof n=="string"?n:wp,s=vx(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ux("firestore");o&&p8(s,...o)}return s}function Sm(n){if(n._terminated)throw new at(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||m8(n),n._firestoreClient}function m8(n){const e=n._freezeSettings(),t=d8(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new s8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(ra.fromBase64String(e))}catch(t){throw new at(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zs(ra.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gf(e,zs._jsonSchema))return zs.fromBase64String(e.bytes)}}zs._jsonSchemaVersion="firestore/bytes/1.0",zs._jsonSchema={type:hr("string",zs._jsonSchemaVersion),bytes:hr("string")};class Am{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class Wo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(Gf(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:hr("string",Wo._jsonSchemaVersion),latitude:hr("number"),longitude:hr("number")};class co{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gf(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new co(e.vectorValues);throw new at(Ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:hr("string",co._jsonSchemaVersion),vectorValues:hr("object")};const y8=/^__.*__$/;class v8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yf(e,this.data,t,this.fieldTransforms)}}class $_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function K_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{dataSource:n})}}class Tm{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Lp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(K_(this.dataSource)&&y8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class b8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||t1(e)}createContext(e,t,r,s=!1){return new Tm({dataSource:e,methodName:t,targetDoc:r,path:ia.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cm(n){const e=n._freezeSettings(),t=t1(n._databaseId);return new b8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function x8(n,e,t,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);Nm("Data must be an object, but it was:",c,r);const h=Q_(r,c);let f,d;if(o.merge)f=new ys(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const I=cc(e,A,t);if(!c.contains(I))throw new at(Ye.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);J_(v,I)||v.push(I)}f=new ys(v),d=c.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=c.fieldTransforms;return new v8(new Ja(h),f,d)}class a1 extends Em{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a1}}function _8(n,e,t,r){const s=n.createContext(1,e,t);Nm("Data must be an object, but it was:",s,r);const o=[],c=Ja.empty();ku(r,((f,d)=>{const v=Z_(e,f,t);d=ho(d);const A=s.childContextForFieldPath(v);if(d instanceof a1)o.push(v);else{const I=Qf(d,A);I!=null&&(o.push(v),c.set(v,I))}}));const h=new ys(o);return new $_(c,h,s.fieldTransforms)}function w8(n,e,t,r,s,o){const c=n.createContext(1,e,t),h=[cc(e,r,t)],f=[s];if(o.length%2!=0)throw new at(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)h.push(cc(e,o[I])),f.push(o[I+1]);const d=[],v=Ja.empty();for(let I=h.length-1;I>=0;--I)if(!J_(d,h[I])){const _=h[I];let z=f[I];z=ho(z);const M=c.childContextForFieldPath(_);if(z instanceof a1)d.push(_);else{const B=Qf(z,M);B!=null&&(d.push(_),v.set(_,B))}}const A=new ys(d);return new $_(v,A,c.fieldTransforms)}function S8(n,e,t,r=!1){return Qf(t,n.createContext(r?4:3,e))}function Qf(n,e){if(X_(n=ho(n)))return Nm("Unsupported field value:",e,n),Q_(n,e);if(n instanceof Em)return(function(r,s){if(!K_(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const h of r){let f=Qf(h,s.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=ho(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bi.fromDate(r);return{timestampValue:Np(s.serializer,o)}}if(r instanceof bi){const o=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Np(s.serializer,o)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zs)return{bytesValue:d_(s.serializer,r._byteString)};if(r instanceof fr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:um(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof co)return(function(c,h){const f=c instanceof co?c.toArray():c;return{mapValue:{fields:{[Ux]:{stringValue:qx},[Sp]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return am(h.serializer,v)}))}}}}}})(r,s);if(x_(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Yp(r)}`)})(n,e)}function Q_(n,e){const t={};return Ox(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(n,((r,s)=>{const o=Qf(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function X_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Wo||n instanceof zs||n instanceof fr||n instanceof Em||n instanceof co||x_(n))}function Nm(n,e,t){if(!X_(t)||!kx(t)){const r=Yp(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function cc(n,e,t){if((e=ho(e))instanceof Am)return e._internalPath;if(typeof e=="string")return Z_(n,e);throw Lp("Field path arguments must be of type string or ",n,!1,void 0,t)}const A8=new RegExp("[~\\*/\\[\\]]");function Z_(n,e,t){if(e.search(A8)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Am(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lp(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new at(Ye.INVALID_ARGUMENT,h+n+f)}function J_(n,e){return n.some((t=>t.isEqual(e)))}class E8{convertValue(e,t="none"){switch(Iu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ku(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Sp].arrayValue?.values?.map((r=>Qi(r.doubleValue)));return new co(t)}convertGeoPoint(e){return new Wo(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=di.fromString(e);Yn(b_(r),9688,{name:e});const s=new Pf(r.get(1),r.get(3)),o=new kt(r.popFirst(5));return s.isEqual(t)||Ol(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class jm extends E8{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}const xv="@firebase/firestore",_v="4.11.0";function wv(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class e4{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(cc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T8 extends e4{data(){return super.data()}}function t4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new at(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class Rm extends Im{}function El(n,e,...t){let r=[];e instanceof Im&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof Lm)).length,h=o.filter((f=>f instanceof s1)).length;if(c>1||c>0&&h>0)throw new at(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class s1 extends Rm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new s1(e,t,r)}_apply(e){const t=this._parse(e);return n4(e._query,t),new Fl(e.firestore,e.converter,_0(e._query,t))}_parse(e){const t=Cm(e.firestore);return(function(o,c,h,f,d,v,A){let I;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new at(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Tv(A,v);const z=[];for(const M of A)z.push(Ev(f,o,M));I={arrayValue:{values:z}}}else I=Ev(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Tv(A,v),I=S8(h,c,A,v==="in"||v==="not-in");return cr.create(d,v,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sv(n,e,t){const r=e,s=cc("where",n);return s1._create(s,r,t)}class Lm extends Im{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:fo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const h=o.getFlattenedFilters();for(const f of h)n4(c,f),c=_0(c,f)})(e._query,t),new Fl(e.firestore,e.converter,_0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dm extends Rm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dm(e,t)}_apply(e){const t=(function(s,o,c){if(s.startAt!==null)throw new at(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new at(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ff(o,c)})(e._query,this._field,this._direction);return new Fl(e.firestore,e.converter,XA(e._query,t))}}function Zc(n,e="asc"){const t=e,r=cc("orderBy",n);return Dm._create(r,t)}class km extends Rm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new km(e,t,r)}_apply(e){return new Fl(e.firestore,e.converter,Ep(e._query,this._limit,this._limitType))}}function Av(n){return km._create("limit",n,"F")}function Ev(n,e,t){if(typeof(t=ho(t))=="string"){if(t==="")throw new at(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xx(e)&&t.indexOf("/")!==-1)throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(di.fromString(t));if(!kt.isDocumentKey(r))throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Py(n,new kt(r))}if(t instanceof fr)return Py(n,t._key);throw new at(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(t)}.`)}function Tv(n,e){if(!Array.isArray(n)||n.length===0)throw new at(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n4(n,e){const t=(function(s,o){for(const c of s)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new at(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function C8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends e4{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ic._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ic._jsonSchemaVersion="firestore/documentSnapshot/1.0",ic._jsonSchema={type:hr("string",ic._jsonSchemaVersion),bundleSource:hr("string","DocumentSnapshot"),bundleName:hr("string"),bundle:hr("string")};class hp extends ic{data(e={}){return super.data(e)}}class rc{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Sf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new hp(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const f=new hp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Sf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new hp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Sf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,v=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:N8(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Z0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:n})}}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:hr("string",rc._jsonSchemaVersion),bundleSource:hr("string","QuerySnapshot"),bundleName:hr("string"),bundle:hr("string")};function Og(n){n=Ho(n,Fl);const e=Ho(n.firestore,uc),t=Sm(e),r=new jm(e);return t4(n._query),c8(t,n._query).then((s=>new rc(e,r,n,s)))}function Tl(n,e,t,...r){n=Ho(n,fr);const s=Ho(n.firestore,uc),o=Cm(s);let c;return c=typeof(e=ho(e))=="string"||e instanceof Am?w8(o,"updateDoc",n._key,e,t,r):_8(o,"updateDoc",n._key,e),Mm(s,[c.toMutation(n._key,uo.exists(!0))])}function yf(n){return Mm(Ho(n.firestore,uc),[new sm(n._key,uo.none())])}function Cl(n,e){const t=Ho(n.firestore,uc),r=Ia(n),s=C8(n.converter,e),o=Cm(n.firestore);return Mm(t,[x8(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,uo.exists(!1))]).then((()=>r))}function gu(n,...e){n=ho(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wv(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(wv(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof fr)c=Ho(n.firestore,uc),h=rm(n._key.path),o={next:d=>{e[r]&&e[r](j8(c,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Ho(n,Fl);c=Ho(d.firestore,uc),h=d._query;const v=new jm(c);o={next:A=>{e[r]&&e[r](new rc(c,v,d,A))},error:e[r+1],complete:e[r+2]},t4(n._query)}const f=Sm(c);return u8(f,h,s,o)}function Mm(n,e){const t=Sm(n);return h8(t,e)}function j8(n,e,t){const r=t.docs.get(e._key),s=new jm(n);return new ic(n,s,e._key,r,new Sf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){hA(xx),Df(new yh("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new uc(new pA(r.getProvider("auth-internal")),new yA(c,r.getProvider("app-check-internal")),kA(c,s),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),wu(xv,_v,e),wu(xv,_v,"esm2020")})();const i4="firebasestorage.googleapis.com",I8="storageBucket",R8=120*1e3,L8=600*1e3;class Xo extends dc{constructor(e,t,r=0){super(Pg(e),`Firebase Storage: ${t} (${Pg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qo||(Qo={}));function Pg(n){return"storage/"+n}function D8(){const n="An unknown error occurred, please check the error payload for server response.";return new Xo(Qo.UNKNOWN,n)}function k8(){return new Xo(Qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M8(){return new Xo(Qo.CANCELED,"User canceled the upload/download.")}function O8(n){return new Xo(Qo.INVALID_URL,"Invalid URL '"+n+"'.")}function P8(n){return new Xo(Qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Cv(n){return new Xo(Qo.INVALID_ARGUMENT,n)}function r4(){return new Xo(Qo.APP_DELETED,"The Firebase app was deleted.")}function z8(n){return new Xo(Qo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=lo.makeFromUrl(e,t)}catch{return new lo(e,"")}if(r.path==="")return r;throw P8(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function d(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${v}/b/${s}/o${I}`,"i"),z={bucket:1,path:3},M=t===i4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",V=new RegExp(`^https?://${M}/${s}/${B}`,"i"),ae=[{regex:h,indices:f,postModify:o},{regex:_,indices:z,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let se=0;se<ae.length;se++){const Se=ae[se],je=Se.regex.exec(e);if(je){const K=je[Se.indices.bucket];let O=je[Se.indices.path];O||(O=""),r=new lo(K,O),Se.postModify(r);break}}if(r==null)throw O8(e);return r}}class F8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function B8(n,e,t){let r=1,s=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function v(...B){d||(d=!0,e.apply(null,B))}function A(B){s=setTimeout(()=>{s=null,n(_,f())},B)}function I(){o&&clearTimeout(o)}function _(B,...V){if(d){I();return}if(B){I(),v.call(null,B,...V);return}if(f()||c){I(),v.call(null,B,...V);return}r<64&&(r*=2);let ae;h===1?(h=2,ae=0):ae=(r+Math.random())*1e3,A(ae)}let z=!1;function M(B){z||(z=!0,I(),!d&&(s!==null?(B||(h=2),clearTimeout(s),A(0)):B||(h=1)))}return A(0),o=setTimeout(()=>{c=!0,M(!0)},t),M}function V8(n){n(!1)}function U8(n){return n!==void 0}function Nv(n,e,t,r){if(r<e)throw Cv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Cv(`Invalid value for '${n}'. Expected ${t} or less.`)}function q8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Dp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Dp||(Dp={}));function H8(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class G8{constructor(e,t,r,s,o,c,h,f,d,v,A,I=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=A,this.retry=I,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,M)=>{this.resolve_=z,this.reject_=M,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Kd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Dp.NO_ERROR,f=o.getStatus();if(!h||H8(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Dp.ABORT;r(!1,new Kd(!1,null,v));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Kd(d,o))})},t=(r,s)=>{const o=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());U8(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=D8();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(s.canceled){const f=this.appDelete_?r4():M8();c(f)}else{const f=k8();c(f)}};this.canceled_?t(!1,new Kd(!1,null,!0)):this.backoffId_=B8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Y8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function W8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function K8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Q8(n,e,t,r,s,o,c=!0,h=!1){const f=q8(n.urlParams),d=n.url+f,v=Object.assign({},n.headers);return $8(v,e),Y8(v,t),W8(v,o),K8(v,r),new G8(d,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,h)}function X8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Z8(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class kp{constructor(e,t){this._service=e,t instanceof lo?this._location=t:this._location=lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kp(e,t)}get root(){const e=new lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z8(this._location.path)}get storage(){return this._service}get parent(){const e=X8(this._location.path);if(e===null)return null;const t=new lo(this._location.bucket,e);return new kp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw z8(e)}}function jv(n,e){const t=e?.[I8];return t==null?null:lo.makeFromBucketSpec(t,n)}function J8(n,e,t,r={}){n.host=`${e}:${t}`;const s=Gp(e);s&&(hx(`https://${n.host}/b`),dx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:fx(o,n.app.options.projectId))}class eT{constructor(e,t,r,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=i4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R8,this._maxUploadRetryTime=L8,this._requests=new Set,s!=null?this._bucket=lo.makeFromBucketSpec(s,this._host):this._bucket=jv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lo.makeFromBucketSpec(this._url,e):this._bucket=jv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kp(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new F8(r4());{const c=Q8(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Iv="@firebase/storage",Rv="0.14.0";const a4="storage";function tT(n=wx(),e){n=ho(n);const r=vx(n,a4).getImmediate({identifier:e}),s=ux("storage");return s&&nT(r,...s),r}function nT(n,e,t,r={}){J8(n,e,t,r)}function iT(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new eT(t,r,s,e,xx)}function rT(){Df(new yh(a4,iT,"PUBLIC").setMultipleInstances(!0)),wu(Iv,Rv,""),wu(Iv,Rv,"esm2020")}rT();var aT="firebase",sT="12.9.0";wu(aT,sT,"app");const oT={apiKey:"AIzaSyAqBIlDzqQdz-GxVGpsL1maWnnTwusleww",authDomain:"sistema-tickets-766f4.firebaseapp.com",projectId:"sistema-tickets-766f4",storageBucket:"sistema-tickets-766f4.firebasestorage.app",messagingSenderId:"1008656923219",appId:"1:1008656923219:web:66eccb70aedd284f3aa4a6"},s4=_x(oT),jn=g8(s4);tT(s4);const In={USERS:"users",TICKETS:"tickets",COMPUTERS:"computers",INDICATORS:"indicators",SGI_PROCESSES:"sgi_processes",SGI_EVIDENCE:"sgi_evidence",SGI_INDICATOR_TYPES:"sgi_indicator_types",VISITS:"visits"},Bt={uploadFile:async n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=s=>t(s)}),initializeDefaults:async()=>{try{console.log("Firebase: Verificando datos iniciales...");const n=El(lr(jn,In.USERS),Av(1));if((await Og(n)).empty){console.log("Firebase: Base de datos vaca. Creando usuarios por defecto...");const t=[{username:"alejandro",password:"lucy931205",role:"admin",name:"Alejandro",email:"admin@elspecandina.com"},{username:"user",password:"user",role:"engineer",name:"Usuario Soporte",email:"soporte@elspecandina.com"}];for(const r of t)await Cl(lr(jn,In.USERS),{...r,createdAt:new Date().toISOString()});return console.log("Firebase: Usuarios iniciales creados."),!0}return!1}catch(n){return console.error("Firebase Initialization Error:",n),!1}},loginUser:async(n,e)=>{try{const t=(n||"").toLowerCase().trim(),r=El(lr(jn,In.USERS),Sv("username","==",t),Av(1)),s=await Og(r);if(!s.empty){const o=s.docs[0],c=o.data();if(c.password===e)return{id:o.id,...c}}return null}catch(t){return console.error("Login Error:",t),null}},getUsers:async()=>(await Og(lr(jn,In.USERS))).docs.map(e=>({id:e.id,...e.data()})),subscribeUsers:n=>{try{return console.log("Firebase: Iniciando suscripcin de usuarios..."),gu(lr(jn,In.USERS),e=>{console.log("Firebase: Usuarios actualizados");const t=e.docs.map(r=>({id:r.id,...r.data()}));n(t)},e=>{console.error("Firebase Error (Usuarios):",e),alert("Error de conexin con la base de datos (Usuarios). Verifique su conexin.")})}catch(e){return console.error("Critical Firebase Error:",e),()=>{}}},addUser:async n=>({id:(await Cl(lr(jn,In.USERS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateUser:async(n,e)=>{const t=Ia(jn,In.USERS,n);await Tl(t,e)},deleteUser:async n=>{const e=Ia(jn,In.USERS,n);await yf(e)},subscribeTickets:n=>{try{console.log("Firebase: Iniciando suscripcin de tickets...");const e=El(lr(jn,In.TICKETS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Tickets actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Tickets):",t)})}catch(e){return console.error("Critical Firebase Error (Tickets):",e),()=>{}}},addTicket:async n=>({id:(await Cl(lr(jn,In.TICKETS),{...n,status:"open",deleted:!1,createdAt:new Date().toISOString()})).id,...n}),updateTicket:async(n,e)=>{const t=Ia(jn,In.TICKETS,n);await Tl(t,e)},deleteTicket:async n=>{const e=Ia(jn,In.TICKETS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeComputers:n=>{try{console.log("Firebase: Iniciando suscripcin de computadores...");const e=El(lr(jn,In.COMPUTERS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Computadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Computers):",t)})}catch(e){return console.error("Critical Firebase Error (Computers):",e),()=>{}}},addComputer:async n=>({id:(await Cl(lr(jn,In.COMPUTERS),{...n,deleted:!1,createdAt:new Date().toISOString(),maintenanceLog:[]})).id,...n}),updateComputer:async(n,e)=>{const t=Ia(jn,In.COMPUTERS,n);await Tl(t,e)},deleteComputer:async n=>{const e=Ia(jn,In.COMPUTERS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeIndicators:n=>{try{console.log("Firebase: Iniciando suscripcin de indicadores...");const e=El(lr(jn,In.INDICATORS),Zc("createdAt","desc"));return gu(e,t=>{console.log("Firebase: Indicadores actualizados");const r=t.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},t=>{console.error("Firebase Error (Indicators):",t)})}catch(e){return console.error("Critical Firebase Error (Indicators):",e),()=>{}}},addIndicator:async n=>({id:(await Cl(lr(jn,In.INDICATORS),{...n,deleted:!1,createdAt:new Date().toISOString()})).id,...n}),deleteIndicator:async n=>{const e=Ia(jn,In.INDICATORS,n);await Tl(e,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeSGIProcesses:n=>{try{console.log("Firebase: Suscribiendo a procesos SGI...");const e=El(lr(jn,In.SGI_PROCESSES),Zc("name"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)},t=>console.error("Firebase Error (SGI Processes):",t))}catch(e){return console.error("Critical Firebase Error (SGI Processes):",e),()=>{}}},addSGIProcess:async n=>({id:(await Cl(lr(jn,In.SGI_PROCESSES),{...n,createdAt:new Date().toISOString()})).id,...n}),updateSGIProcess:async(n,e)=>{const t=Ia(jn,In.SGI_PROCESSES,n);await Tl(t,e)},deleteSGIProcess:async n=>{const e=Ia(jn,In.SGI_PROCESSES,n);await yf(e)},subscribeSGIIndicatorTypes:n=>{const e=El(lr(jn,In.SGI_INDICATOR_TYPES),Zc("name"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)})},addSGIIndicatorType:async n=>({id:(await Cl(lr(jn,In.SGI_INDICATOR_TYPES),{...n,createdAt:new Date().toISOString()})).id,...n}),deleteSGIIndicatorType:async n=>{const e=Ia(jn,In.SGI_INDICATOR_TYPES,n);await yf(e)},submitSGIEvidence:async n=>({id:(await Cl(lr(jn,In.SGI_EVIDENCE),{...n,timestamp:new Date().toISOString()})).id,...n}),deleteSGIEvidence:async n=>{const e=Ia(jn,In.SGI_EVIDENCE,n);await yf(e)},updateSGIEvidence:async(n,e)=>{const t=Ia(jn,In.SGI_EVIDENCE,n);await Tl(t,e)},subscribeSGIEvidence:(n,e)=>{const t=El(lr(jn,In.SGI_EVIDENCE),Sv("processId","==",n));return gu(t,r=>{const o=r.docs.map(c=>({id:c.id,...c.data()})).sort((c,h)=>new Date(h.timestamp)-new Date(c.timestamp));e(o)})},getSession:()=>{try{const n=localStorage.getItem("app_logged_user");return n?JSON.parse(n):null}catch{return localStorage.removeItem("app_logged_user"),null}},setSession:n=>{localStorage.setItem("app_logged_user",JSON.stringify(n))},clearSession:()=>{localStorage.removeItem("app_logged_user")},getVisits:n=>{const e=El(lr(jn,In.VISITS),Zc("date","asc"));return gu(e,t=>{const r=t.docs.map(s=>({id:s.id,...s.data()}));n(r)})},addVisit:async n=>({id:(await Cl(lr(jn,In.VISITS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateVisit:async(n,e)=>{const t=Ia(jn,In.VISITS,n);await Tl(t,e)},deleteVisit:async n=>{const e=Ia(jn,In.VISITS,n);await yf(e)}},Ih=()=>{const[n,e]=Qe.useState(()=>Bt.getSession()),[t,r]=Qe.useState([]);return Qe.useEffect(()=>{const d=Bt.subscribeUsers(v=>{r(v)});return()=>{typeof d=="function"&&d()}},[]),{user:n,users:t,login:async(d,v)=>{const A=await Bt.loginUser(d,v);return A?(e(A),Bt.setSession(A),!0):!1},logout:()=>{e(null),Bt.clearSession()},addUser:d=>Bt.addUser(d),deleteUser:d=>Bt.deleteUser(d),updateUser:(d,v)=>Bt.updateUser(d,v),isAuthenticated:!!n}};const o4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const lT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const uT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Lv=n=>{const e=uT(n);return e.charAt(0).toUpperCase()+e.slice(1)};var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const fT=Qe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...h},f)=>Qe.createElement("svg",{ref:f,...cT,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:o4("lucide",s),...!o&&!hT(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,v])=>Qe.createElement(d,v)),...Array.isArray(o)?o:[o]]));const sn=(n,e)=>{const t=Qe.forwardRef(({className:r,...s},o)=>Qe.createElement(fT,{ref:o,iconNode:e,className:o4(`lucide-${lT(Lv(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Lv(n),t};const dT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lh=sn("activity",dT);const pT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sh=sn("calendar",pT);const gT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],l4=sn("camera",gT);const mT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Dv=sn("chart-pie",mT);const yT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u4=sn("circle-alert",yT);const vT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uo=sn("circle-check-big",vT);const bT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Tu=sn("circle-plus",bT);const xT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mp=sn("circle-x",xT);const _T=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Qd=sn("clipboard-list",_T);const wT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dl=sn("clock",wT);const ST=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],AT=sn("cpu",ST);const ET=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jf=sn("download",ET);const TT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CT=sn("eye-off",TT);const NT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jT=sn("eye",NT);const IT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ms=sn("file-text",IT);const RT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],c4=sn("funnel",RT);const LT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DT=sn("house",LT);const kT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],MT=sn("image",kT);const OT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PT=sn("layout-dashboard",OT);const zT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],FT=sn("log-in",zT);const BT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VT=sn("log-out",BT);const UT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],qT=sn("maximize",UT);const HT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],h4=sn("message-square",HT);const GT=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],YT=sn("minimize",GT);const WT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Uf=sn("monitor",WT);const $T=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],L0=sn("paperclip",$T);const KT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kv=sn("pencil",KT);const QT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mv=sn("plus",QT);const XT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ZT=sn("refresh-cw",XT);const JT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eC=sn("save",JT);const tC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],D0=sn("search",tC);const nC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iC=sn("send",nC);const rC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aC=sn("shield-check",rC);const sC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oC=sn("shield",sC);const lC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$o=sn("square-pen",lC);const uC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xd=sn("star",uC);const cC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kl=sn("trash-2",cC);const hC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Om=sn("triangle-alert",hC);const fC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dC=sn("upload",fC);const pC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ov=sn("user-plus",pC);const gC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Op=sn("user",gC);const mC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pv=sn("users",mC);const yC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pp=sn("x",yC),vC=()=>{const[n,e]=Qe.useState(""),[t,r]=Qe.useState(""),[s,o]=Qe.useState(!1),[c,h]=Qe.useState(""),{login:f}=Ih();Qe.useEffect(()=>{Bt.initializeDefaults()},[]);const d=async v=>{v.preventDefault(),h("");try{await f(n,t)?window.location.reload():h("Usuario o contrasea incorrectos.")}catch(A){console.error(A),h("Error al iniciar sesin.")}};return p.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"radial-gradient(circle at top right, rgba(0, 108, 224, 0.15), transparent 40%), radial-gradient(circle at bottom left, rgba(0, 108, 224, 0.1), transparent 40%)",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"50px 40px",width:"100%",maxWidth:"450px",border:"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[p.jsx("div",{style:{background:"linear-gradient(135deg, var(--primary), #004da1)",width:"70px",height:"70px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",boxShadow:"0 10px 25px rgba(0, 108, 224, 0.3)"},children:p.jsx(aC,{color:"white",size:36})}),p.jsxs("h1",{style:{fontSize:"2rem",color:"white",fontWeight:800,letterSpacing:"-0.5px",marginBottom:"8px"},children:["ELSPEC ",p.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]}),p.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Mesa de Soporte Tcnico Especializado"})]}),p.jsxs("form",{onSubmit:d,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Usuario"}),p.jsx("input",{type:"text",value:n,onChange:v=>e(v.target.value),placeholder:"Ingrese su usuario",style:{padding:"14px 18px",fontSize:"1rem"},required:!0})]}),p.jsxs("div",{className:"input-group",style:{marginBottom:"30px"},children:[p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Contrasea"}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx("input",{type:s?"text":"password",value:t,onChange:v=>r(v.target.value),placeholder:"Ingrese su contrasea",style:{padding:"14px 18px",fontSize:"1rem",paddingRight:"50px"},required:!0}),p.jsx("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",padding:"5px",color:"var(--text-muted)"},children:s?p.jsx(CT,{size:20}):p.jsx(jT,{size:20})})]})]}),c&&p.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"var(--danger)",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"20px",textAlign:"center"},children:c}),p.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:"1.1rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:["Acceder al Sistema ",p.jsx(FT,{size:20})]})]}),p.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"El sistema ahora sincroniza datos en tiempo real entre todos sus dispositivos."}),p.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"Para restablecer su contrasea, contacte al administrador del sistema."})]})})},bC=()=>{const[n,e]=Qe.useState([]);return Qe.useEffect(()=>{const o=Bt.subscribeTickets(c=>{e(c)});return()=>{typeof o=="function"&&o()}},[]),{tickets:n,addTicket:o=>Bt.addTicket(o),updateTicketStatus:(o,c,h={})=>Bt.updateTicket(o,{status:c,...h}),deleteTicket:o=>Bt.deleteTicket(o)}},Pm=()=>{const[n,e]=Qe.useState([]),[t,r]=Qe.useState(!0);Qe.useEffect(()=>{const f=Bt.subscribeComputers(d=>{e(d),r(!1)});return()=>{typeof f=="function"&&f()}},[]);const s=f=>Bt.addComputer(f),o=(f,d)=>Bt.updateComputer(f,d);return{computers:n,loading:t,addComputer:s,updateComputer:o,deleteComputer:f=>Bt.deleteComputer(f),addMaintenanceLog:(f,d)=>{const v=n.find(A=>A.id===f);if(v){const A=[...v.maintenanceLog||[],{...d,createdAt:new Date().toISOString()}];return o(f,{maintenanceLog:A})}}}},xC=()=>{const{addUser:n,deleteUser:e,updateUser:t}=Ih(),[r,s]=Qe.useState([]),[o,c]=Qe.useState(!1),[h,f]=Qe.useState(null),[d,v]=Qe.useState({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1});Qe.useEffect(()=>{const M=Bt.subscribeUsers(s);return()=>M()},[]);const A=()=>{v({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1}),f(null)},I=()=>{A(),c(!0)},_=M=>{if(M.preventDefault(),h)t(h.id,d);else{if(r.some(B=>B.username===d.username)){alert("El nombre de usuario ya existe");return}n(d)}c(!1),A()},z=M=>{f(M),v({username:M.username,password:M.password,role:M.role,name:M.name,email:M.email,canManageAssets:M.canManageAssets||!1}),c(!0)};return p.jsxs("div",{className:"glass-card",style:{padding:"30px",position:"relative"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0},children:[p.jsx(Op,{size:24,color:"var(--primary)"})," Gestin de Usuarios"]}),p.jsxs("button",{onClick:I,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Ov,{size:18})," Nuevo Usuario"]})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(M=>p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid var(--border-color)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[p.jsx("div",{style:{background:M.role==="admin"?"rgba(245, 158, 11, 0.1)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px"},children:M.role==="admin"?p.jsx(oC,{size:20,color:"var(--warning)"}):p.jsx(Op,{size:20,color:"var(--text-muted)"})}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},children:[M.name||M.username,M.canManageAssets&&M.role!=="admin"&&p.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(0, 108, 224, 0.2)",color:"var(--primary)",padding:"2px 6px",borderRadius:"4px"},children:"Gestor Activos"})]}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["@",M.username,"  ",M.email,"  ",p.jsx("span",{style:{textTransform:"capitalize"},children:M.role})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:()=>z(M),style:{background:"rgba(52, 211, 153, 0.1)",color:"var(--success)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Editar Usuario",children:p.jsx($o,{size:18})}),M.username!=="admin"&&p.jsx("button",{onClick:()=>{confirm(`Eliminar al usuario ${M.username}?`)&&e(M.id)},style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Eliminar Usuario",children:p.jsx(kl,{size:18})})]})]},M.id))}),o&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[h?p.jsx($o,{size:24}):p.jsx(Ov,{size:24}),h?"Editar Usuario":"Nuevo Usuario"]}),p.jsx("button",{onClick:()=>c(!1),style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:p.jsx(Pp,{size:24})})]}),p.jsxs("form",{onSubmit:_,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Nombre Completo"}),p.jsx("input",{type:"text",value:d.name,placeholder:"Juan Prez",onChange:M=>v({...d,name:M.target.value}),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:d.email,placeholder:"juan@empresa.com",onChange:M=>v({...d,email:M.target.value}),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Usuario"}),p.jsx("input",{type:"text",value:d.username,placeholder:"juanp",onChange:M=>v({...d,username:M.target.value}),required:!0,disabled:!!h})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Contrasea"}),p.jsx("input",{type:"text",value:d.password,placeholder:"******",onChange:M=>v({...d,password:M.target.value}),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Rol"}),p.jsxs("select",{value:d.role,onChange:M=>v({...d,role:M.target.value}),children:[p.jsx("option",{value:"engineer",children:"Ingeniero / Soporte"}),p.jsx("option",{value:"technician",children:"Tcnico (Operaciones)"}),p.jsx("option",{value:"admin",children:"Administrador / Gerencia"}),p.jsx("option",{value:"ventas",children:"Ventas"}),p.jsx("option",{value:"sgi",children:"SGI (Gestin)"}),p.jsx("option",{value:"logistica",children:"Logstica"}),p.jsx("option",{value:"operaciones",children:"Operaciones (Coordinador)"})]})]}),p.jsx("div",{className:"input-group",style:{display:"flex",alignItems:"center"},children:p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:0},children:[p.jsx("input",{type:"checkbox",checked:d.canManageAssets,onChange:M=>v({...d,canManageAssets:M.target.checked}),style:{width:"20px",height:"20px"}}),"Gestor de Activos"]})}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:h?"Actualizar":"Crear Usuario"}),p.jsx("button",{type:"button",onClick:()=>c(!1),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",color:"white",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},_C="modulepreload",wC=function(n){return"/"+n},zv={},zg=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=f(t.map(d=>{if(d=wC(d),d in zv)return;zv[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const I=document.createElement("link");if(I.rel=v?"stylesheet":_C,v||(I.as="script"),I.crossOrigin="",I.href=d,h&&I.setAttribute("nonce",h),document.head.appendChild(I),v)return new Promise((_,z)=>{I.addEventListener("load",_),I.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Zn(n){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(n)}var po=Uint8Array,vs=Uint16Array,zm=Int32Array,Fm=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bm=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fv=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f4=function(n,e){for(var t=new vs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new zm(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},d4=f4(Fm,2),SC=d4.b,k0=d4.r;SC[28]=258,k0[258]=28;var AC=f4(Bm,0),Bv=AC.r,M0=new vs(32768);for(var xi=0;xi<32768;++xi){var mu=(xi&43690)>>1|(xi&21845)<<1;mu=(mu&52428)>>2|(mu&13107)<<2,mu=(mu&61680)>>4|(mu&3855)<<4,M0[xi]=((mu&65280)>>8|(mu&255)<<8)>>1}var If=(function(n,e,t){for(var r=n.length,s=0,o=new vs(e);s<r;++s)n[s]&&++o[n[s]-1];var c=new vs(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var h;if(t){h=new vs(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],v=e-n[s],A=c[n[s]-1]++<<v,I=A|(1<<v)-1;A<=I;++A)h[M0[A]>>f]=d}else for(h=new vs(r),s=0;s<r;++s)n[s]&&(h[s]=M0[c[n[s]-1]++]>>15-n[s]);return h}),hc=new po(288);for(var xi=0;xi<144;++xi)hc[xi]=8;for(var xi=144;xi<256;++xi)hc[xi]=9;for(var xi=256;xi<280;++xi)hc[xi]=7;for(var xi=280;xi<288;++xi)hc[xi]=8;var zp=new po(32);for(var xi=0;xi<32;++xi)zp[xi]=5;var EC=If(hc,9,0),TC=If(zp,5,0),p4=function(n){return(n+7)/8|0},CC=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new po(n.subarray(e,t))},Nl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},vf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Fg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:m4,l:0};if(s==1){var c=new po(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(Se,je){return Se.f-je.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],d=0,v=1,A=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=s-1;)h=t[t[d].f<t[A].f?d++:A++],f=t[d!=v&&t[d].f<t[A].f?d++:A++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var I=o[0].s,r=1;r<s;++r)o[r].s>I&&(I=o[r].s);var _=new vs(I+1),z=O0(t[v-1],_,0);if(z>e){var r=0,M=0,B=z-e,V=1<<B;for(o.sort(function(je,K){return _[K.s]-_[je.s]||je.f-K.f});r<s;++r){var te=o[r].s;if(_[te]>e)M+=V-(1<<z-_[te]),_[te]=e;else break}for(M>>=B;M>0;){var ae=o[r].s;_[ae]<e?M-=1<<e-_[ae]++-1:++r}for(;r>=0&&M;--r){var se=o[r].s;_[se]==e&&(--_[se],++M)}z=e}return{t:new po(_),l:z}},O0=function(n,e,t){return n.s==-1?Math.max(O0(n.l,e,t+1),O0(n.r,e,t+1)):e[n.s]=t},Vv=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new vs(++e),r=0,s=n[0],o=1,c=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==s&&h!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[h]}return{c:t.subarray(0,r),n:e}},bf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},g4=function(n,e,t){var r=t.length,s=p4(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Uv=function(n,e,t,r,s,o,c,h,f,d,v){Nl(e,v++,t),++s[256];for(var A=Fg(s,15),I=A.t,_=A.l,z=Fg(o,15),M=z.t,B=z.l,V=Vv(I),te=V.c,ae=V.n,se=Vv(M),Se=se.c,je=se.n,K=new vs(19),O=0;O<te.length;++O)++K[te[O]&31];for(var O=0;O<Se.length;++O)++K[Se[O]&31];for(var w=Fg(K,7),U=w.t,N=w.l,C=19;C>4&&!U[Fv[C-1]];--C);var E=d+5<<3,H=bf(s,hc)+bf(o,zp)+c,fe=bf(s,I)+bf(o,M)+c+14+3*C+bf(K,U)+2*K[16]+3*K[17]+7*K[18];if(f>=0&&E<=H&&E<=fe)return g4(e,v,n.subarray(f,f+d));var ne,he,J,de;if(Nl(e,v,1+(fe<H)),v+=2,fe<H){ne=If(I,_,0),he=I,J=If(M,B,0),de=M;var Ee=If(U,N,0);Nl(e,v,ae-257),Nl(e,v+5,je-1),Nl(e,v+10,C-4),v+=14;for(var O=0;O<C;++O)Nl(e,v+3*O,U[Fv[O]]);v+=3*C;for(var X=[te,Se],k=0;k<2;++k)for(var P=X[k],O=0;O<P.length;++O){var Y=P[O]&31;Nl(e,v,Ee[Y]),v+=U[Y],Y>15&&(Nl(e,v,P[O]>>5&127),v+=P[O]>>12)}}else ne=EC,he=hc,J=TC,de=zp;for(var O=0;O<h;++O){var W=r[O];if(W>255){var Y=W>>18&31;vf(e,v,ne[Y+257]),v+=he[Y+257],Y>7&&(Nl(e,v,W>>23&31),v+=Fm[Y]);var re=W&31;vf(e,v,J[re]),v+=de[re],re>3&&(vf(e,v,W>>5&8191),v+=Bm[re])}else vf(e,v,ne[W]),v+=he[W]}return vf(e,v,ne[256]),v+he[256]},NC=new zm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m4=new po(0),jC=function(n,e,t,r,s,o){var c=o.z||n.length,h=new po(r+c+5*(1+Math.ceil(c/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var A=NC[e-1],I=A>>13,_=A&8191,z=(1<<t)-1,M=o.p||new vs(32768),B=o.h||new vs(z+1),V=Math.ceil(t/3),te=2*V,ae=function(lt){return(n[lt]^n[lt+1]<<V^n[lt+2]<<te)&z},se=new zm(25e3),Se=new vs(288),je=new vs(32),K=0,O=0,w=o.i||0,U=0,N=o.w||0,C=0;w+2<c;++w){var E=ae(w),H=w&32767,fe=B[E];if(M[H]=fe,B[E]=H,N<=w){var ne=c-w;if((K>7e3||U>24576)&&(ne>423||!d)){v=Uv(n,f,0,se,Se,je,O,U,C,w-C,v),U=K=O=0,C=w;for(var he=0;he<286;++he)Se[he]=0;for(var he=0;he<30;++he)je[he]=0}var J=2,de=0,Ee=_,X=H-fe&32767;if(ne>2&&E==ae(w-X))for(var k=Math.min(I,ne)-1,P=Math.min(32767,w),Y=Math.min(258,ne);X<=P&&--Ee&&H!=fe;){if(n[w+J]==n[w+J-X]){for(var W=0;W<Y&&n[w+W]==n[w+W-X];++W);if(W>J){if(J=W,de=X,W>k)break;for(var re=Math.min(X,W-2),pe=0,he=0;he<re;++he){var _e=w-X+he&32767,me=M[_e],Oe=_e-me&32767;Oe>pe&&(pe=Oe,fe=_e)}}}H=fe,fe=M[H],X+=H-fe&32767}if(de){se[U++]=268435456|k0[J]<<18|Bv[de];var ge=k0[J]&31,Xe=Bv[de]&31;O+=Fm[ge]+Bm[Xe],++Se[257+ge],++je[Xe],N=w+J,++K}else se[U++]=n[w],++Se[n[w]]}}for(w=Math.max(w,N);w<c;++w)se[U++]=n[w],++Se[n[w]];v=Uv(n,f,d,se,Se,je,O,U,C,w-C,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=B,o.p=M,o.i=w,o.w=N)}else{for(var w=o.w||0;w<c+d;w+=65535){var et=w+65535;et>=c&&(f[v/8|0]=d,et=c),v=g4(f,v+1,n.subarray(w,et))}o.i=c}return CC(h,0,r+p4(v)+s)},y4=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)s+=r+=t[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},IC=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new po(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return jC(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},v4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},RC=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=y4();s.p(e.dictionary),v4(n,2,s.d())}};function P0(n,e){e||(e={});var t=y4();t.p(n);var r=IC(n,e,e.dictionary?6:2,4);return RC(r,e),v4(r,r.length-4,t.d()),r}var LC=typeof TextDecoder<"u"&&new TextDecoder,DC=0;try{LC.decode(m4,{stream:!0}),DC=1}catch{}function kC(n){if(Array.isArray(n))return n}function MC(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,c,h=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(v){d=!0,s=v}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function qv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function OC(n,e){if(n){if(typeof n=="string")return qv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qv(n,e):void 0}}function PC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hv(n,e){return kC(n)||MC(n,e)||OC(n,e)||PC()}function Gv(n,e="utf8"){return new TextDecoder(e).decode(n)}const zC=new TextEncoder;function FC(n){return zC.encode(n)}const BC=1024*8,VC=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Bg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=BC,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof Vm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Bg[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===VC&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new Bg[t](h.buffer);return this.offset+=r,f.reverse(),f}const c=new Bg[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Gv(this.readBytes(e))}decodeText(e=1,t="utf8"){return Gv(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(FC(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rh(n){let e=n.length;for(;--e>=0;)n[e]=0}const UC=3,qC=258,b4=29,HC=256,GC=HC+1+b4,x4=30,YC=512,WC=new Array((GC+2)*2);Rh(WC);const $C=new Array(x4*2);Rh($C);const KC=new Array(YC);Rh(KC);const QC=new Array(qC-UC+1);Rh(QC);const XC=new Array(b4);Rh(XC);const ZC=new Array(x4);Rh(ZC);const JC=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var z0=JC;const eN=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},tN=new Uint32Array(eN()),nN=(n,e,t,r)=>{const s=tN,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^e[c])&255];return n^-1};var Fo=nN,F0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iN=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var rN=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)iN(t,r)&&(n[r]=t[r])}}return n},aN=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];t.set(c,s),s+=c.length}return t},w4={assign:rN,flattenChunks:aN};let S4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S4=!1}const qf=new Uint8Array(256);for(let n=0;n<256;n++)qf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;qf[254]=qf[254]=1;var sN=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,c=n.length,h=0;for(s=0;s<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,s=0;o<h;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const oN=(n,e)=>{if(e<65534&&n.subarray&&S4)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var lN=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let c=n[r++];if(c<128){o[s++]=c;continue}let h=qf[c];if(h>4){o[s++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<t;)c=c<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return oN(o,s)},uN=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+qf[n[t]]>e?t:e},B0={string2buf:sN,buf2string:lN,utf8border:uN};function cN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hN=cN;const Zd=16209,fN=16191;var dN=function(e,t){let r,s,o,c,h,f,d,v,A,I,_,z,M,B,V,te,ae,se,Se,je,K,O,w,U;const N=e.state;r=e.next_in,w=e.input,s=r+(e.avail_in-5),o=e.next_out,U=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),f=N.dmax,d=N.wsize,v=N.whave,A=N.wnext,I=N.window,_=N.hold,z=N.bits,M=N.lencode,B=N.distcode,V=(1<<N.lenbits)-1,te=(1<<N.distbits)-1;e:do{z<15&&(_+=w[r++]<<z,z+=8,_+=w[r++]<<z,z+=8),ae=M[_&V];t:for(;;){if(se=ae>>>24,_>>>=se,z-=se,se=ae>>>16&255,se===0)U[o++]=ae&65535;else if(se&16){Se=ae&65535,se&=15,se&&(z<se&&(_+=w[r++]<<z,z+=8),Se+=_&(1<<se)-1,_>>>=se,z-=se),z<15&&(_+=w[r++]<<z,z+=8,_+=w[r++]<<z,z+=8),ae=B[_&te];n:for(;;){if(se=ae>>>24,_>>>=se,z-=se,se=ae>>>16&255,se&16){if(je=ae&65535,se&=15,z<se&&(_+=w[r++]<<z,z+=8,z<se&&(_+=w[r++]<<z,z+=8)),je+=_&(1<<se)-1,je>f){e.msg="invalid distance too far back",N.mode=Zd;break e}if(_>>>=se,z-=se,se=o-c,je>se){if(se=je-se,se>v&&N.sane){e.msg="invalid distance too far back",N.mode=Zd;break e}if(K=0,O=I,A===0){if(K+=d-se,se<Se){Se-=se;do U[o++]=I[K++];while(--se);K=o-je,O=U}}else if(A<se){if(K+=d+A-se,se-=A,se<Se){Se-=se;do U[o++]=I[K++];while(--se);if(K=0,A<Se){se=A,Se-=se;do U[o++]=I[K++];while(--se);K=o-je,O=U}}}else if(K+=A-se,se<Se){Se-=se;do U[o++]=I[K++];while(--se);K=o-je,O=U}for(;Se>2;)U[o++]=O[K++],U[o++]=O[K++],U[o++]=O[K++],Se-=3;Se&&(U[o++]=O[K++],Se>1&&(U[o++]=O[K++]))}else{K=o-je;do U[o++]=U[K++],U[o++]=U[K++],U[o++]=U[K++],Se-=3;while(Se>2);Se&&(U[o++]=U[K++],Se>1&&(U[o++]=U[K++]))}}else if((se&64)===0){ae=B[(ae&65535)+(_&(1<<se)-1)];continue n}else{e.msg="invalid distance code",N.mode=Zd;break e}break}}else if((se&64)===0){ae=M[(ae&65535)+(_&(1<<se)-1)];continue t}else if(se&32){N.mode=fN;break e}else{e.msg="invalid literal/length code",N.mode=Zd;break e}break}}while(r<s&&o<h);Se=z>>3,r-=Se,z-=Se<<3,_&=(1<<z)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<h?257+(h-o):257-(o-h),N.hold=_,N.bits=z};const Jc=15,Yv=852,Wv=592,$v=0,Vg=1,Kv=2,pN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vN=(n,e,t,r,s,o,c,h)=>{const f=h.bits;let d=0,v=0,A=0,I=0,_=0,z=0,M=0,B=0,V=0,te=0,ae,se,Se,je,K,O=null,w;const U=new Uint16Array(Jc+1),N=new Uint16Array(Jc+1);let C=null,E,H,fe;for(d=0;d<=Jc;d++)U[d]=0;for(v=0;v<r;v++)U[e[t+v]]++;for(_=f,I=Jc;I>=1&&U[I]===0;I--);if(_>I&&(_=I),I===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<I&&U[A]===0;A++);for(_<A&&(_=A),B=1,d=1;d<=Jc;d++)if(B<<=1,B-=U[d],B<0)return-1;if(B>0&&(n===$v||I!==1))return-1;for(N[1]=0,d=1;d<Jc;d++)N[d+1]=N[d]+U[d];for(v=0;v<r;v++)e[t+v]!==0&&(c[N[e[t+v]]++]=v);if(n===$v?(O=C=c,w=20):n===Vg?(O=pN,C=gN,w=257):(O=mN,C=yN,w=0),te=0,v=0,d=A,K=o,z=_,M=0,Se=-1,V=1<<_,je=V-1,n===Vg&&V>Yv||n===Kv&&V>Wv)return 1;for(;;){E=d-M,c[v]+1<w?(H=0,fe=c[v]):c[v]>=w?(H=C[c[v]-w],fe=O[c[v]-w]):(H=96,fe=0),ae=1<<d-M,se=1<<z,A=se;do se-=ae,s[K+(te>>M)+se]=E<<24|H<<16|fe|0;while(se!==0);for(ae=1<<d-1;te&ae;)ae>>=1;if(ae!==0?(te&=ae-1,te+=ae):te=0,v++,--U[d]===0){if(d===I)break;d=e[t+c[v]]}if(d>_&&(te&je)!==Se){for(M===0&&(M=_),K+=A,z=d-M,B=1<<z;z+M<I&&(B-=U[z+M],!(B<=0));)z++,B<<=1;if(V+=1<<z,n===Vg&&V>Yv||n===Kv&&V>Wv)return 1;Se=te&je,s[Se]=_<<24|z<<16|K-o|0}}return te!==0&&(s[K+te]=d-M<<24|64<<16|0),h.bits=_,0};var Rf=vN;const bN=0,A4=1,E4=2,{Z_FINISH:Qv,Z_BLOCK:xN,Z_TREES:Jd,Z_OK:fc,Z_STREAM_END:_N,Z_NEED_DICT:wN,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:T4,Z_MEM_ERROR:C4,Z_BUF_ERROR:SN,Z_DEFLATED:Xv}=_4,o1=16180,Zv=16181,Jv=16182,eb=16183,tb=16184,nb=16185,ib=16186,rb=16187,ab=16188,sb=16189,Fp=16190,jl=16191,Ug=16192,ob=16193,qg=16194,lb=16195,ub=16196,cb=16197,hb=16198,ep=16199,tp=16200,fb=16201,db=16202,pb=16203,gb=16204,mb=16205,Hg=16206,yb=16207,vb=16208,Ci=16209,N4=16210,j4=16211,AN=852,EN=592,TN=15,CN=TN,bb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function NN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<o1||e.mode>j4?1:0},I4=n=>{if(mc(n))return Fs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=o1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(AN),e.distcode=e.distdyn=new Int32Array(EN),e.sane=1,e.back=-1,fc},R4=n=>{if(mc(n))return Fs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,I4(n)},L4=(n,e)=>{let t;if(mc(n))return Fs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,R4(n))},D4=(n,e)=>{if(!n)return Fs;const t=new NN;n.state=t,t.strm=n,t.window=null,t.mode=o1;const r=L4(n,e);return r!==fc&&(n.state=null),r},jN=n=>D4(n,CN);let xb=!0,Gg,Yg;const IN=n=>{if(xb){Gg=new Int32Array(512),Yg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Rf(A4,n.lens,0,288,Gg,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Rf(E4,n.lens,0,32,Yg,0,n.work,{bits:5}),xb=!1}n.lencode=Gg,n.lenbits=9,n.distcode=Yg,n.distbits=5},k4=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},RN=(n,e)=>{let t,r,s,o,c,h,f,d,v,A,I,_,z,M,B=0,V,te,ae,se,Se,je,K,O;const w=new Uint8Array(4);let U,N;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mc(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;t=n.state,t.mode===jl&&(t.mode=Ug),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,A=h,I=f,O=fc;e:for(;;)switch(t.mode){case o1:if(t.wrap===0){t.mode=Ug;break}for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0),d=0,v=0,t.mode=Zv;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Ci;break}if((d&15)!==Xv){n.msg="unknown compression method",t.mode=Ci;break}if(d>>>=4,v-=4,K=(d&15)+8,t.wbits===0&&(t.wbits=K),K>15||K>t.wbits){n.msg="invalid window size",t.mode=Ci;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?sb:jl,d=0,v=0;break;case Zv:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.flags=d,(t.flags&255)!==Xv){n.msg="unknown compression method",t.mode=Ci;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ci;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=Jv;case Jv:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,w[2]=d>>>16&255,w[3]=d>>>24&255,t.check=Fo(t.check,w,4,0)),d=0,v=0,t.mode=eb;case eb:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0,t.mode=tb;case tb:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,t.check=Fo(t.check,w,2,0)),d=0,v=0}else t.head&&(t.head.extra=null);t.mode=nb;case nb:if(t.flags&1024&&(_=t.length,_>h&&(_=h),_&&(t.head&&(K=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),K)),t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=ib;case ib:if(t.flags&2048){if(h===0)break e;_=0;do K=r[o+_++],t.head&&K&&t.length<65536&&(t.head.name+=String.fromCharCode(K));while(K&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,K)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=rb;case rb:if(t.flags&4096){if(h===0)break e;_=0;do K=r[o+_++],t.head&&K&&t.length<65536&&(t.head.comment+=String.fromCharCode(K));while(K&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=Fo(t.check,r,_,o)),h-=_,o+=_,K)break e}else t.head&&(t.head.comment=null);t.mode=ab;case ab:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ci;break}d=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=jl;break;case sb:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}n.adler=t.check=bb(d),d=0,v=0,t.mode=Fp;case Fp:if(t.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,wN;n.adler=t.check=1,t.mode=jl;case jl:if(e===xN||e===Jd)break e;case Ug:if(t.last){d>>>=v&7,v-=v&7,t.mode=Hg;break}for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}switch(t.last=d&1,d>>>=1,v-=1,d&3){case 0:t.mode=ob;break;case 1:if(IN(t),t.mode=ep,e===Jd){d>>>=2,v-=2;break e}break;case 2:t.mode=ub;break;case 3:n.msg="invalid block type",t.mode=Ci}d>>>=2,v-=2;break;case ob:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ci;break}if(t.length=d&65535,d=0,v=0,t.mode=qg,e===Jd)break e;case qg:t.mode=lb;case lb:if(_=t.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break e;s.set(r.subarray(o,o+_),c),h-=_,o+=_,f-=_,c+=_,t.length-=_;break}t.mode=jl;break;case ub:for(;v<14;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.nlen=(d&31)+257,d>>>=5,v-=5,t.ndist=(d&31)+1,d>>>=5,v-=5,t.ncode=(d&15)+4,d>>>=4,v-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ci;break}t.have=0,t.mode=cb;case cb:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.lens[C[t.have++]]=d&7,d>>>=3,v-=3}for(;t.have<19;)t.lens[C[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},O=Rf(bN,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,O){n.msg="invalid code lengths set",t.mode=Ci;break}t.have=0,t.mode=hb;case hb:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[d&(1<<t.lenbits)-1],V=B>>>24,te=B>>>16&255,ae=B&65535,!(V<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ae<16)d>>>=V,v-=V,t.lens[t.have++]=ae;else{if(ae===16){for(N=V+2;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(d>>>=V,v-=V,t.have===0){n.msg="invalid bit length repeat",t.mode=Ci;break}K=t.lens[t.have-1],_=3+(d&3),d>>>=2,v-=2}else if(ae===17){for(N=V+3;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=V,v-=V,K=0,_=3+(d&7),d>>>=3,v-=3}else{for(N=V+7;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=V,v-=V,K=0,_=11+(d&127),d>>>=7,v-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ci;break}for(;_--;)t.lens[t.have++]=K}}if(t.mode===Ci)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ci;break}if(t.lenbits=9,U={bits:t.lenbits},O=Rf(A4,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,O){n.msg="invalid literal/lengths set",t.mode=Ci;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},O=Rf(E4,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,O){n.msg="invalid distances set",t.mode=Ci;break}if(t.mode=ep,e===Jd)break e;case ep:t.mode=tp;case tp:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,dN(n,I),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,t.mode===jl&&(t.back=-1);break}for(t.back=0;B=t.lencode[d&(1<<t.lenbits)-1],V=B>>>24,te=B>>>16&255,ae=B&65535,!(V<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(te&&(te&240)===0){for(se=V,Se=te,je=ae;B=t.lencode[je+((d&(1<<se+Se)-1)>>se)],V=B>>>24,te=B>>>16&255,ae=B&65535,!(se+V<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=V,v-=V,t.back+=V,t.length=ae,te===0){t.mode=mb;break}if(te&32){t.back=-1,t.mode=jl;break}if(te&64){n.msg="invalid literal/length code",t.mode=Ci;break}t.extra=te&15,t.mode=fb;case fb:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=db;case db:for(;B=t.distcode[d&(1<<t.distbits)-1],V=B>>>24,te=B>>>16&255,ae=B&65535,!(V<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((te&240)===0){for(se=V,Se=te,je=ae;B=t.distcode[je+((d&(1<<se+Se)-1)>>se)],V=B>>>24,te=B>>>16&255,ae=B&65535,!(se+V<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=V,v-=V,t.back+=V,te&64){n.msg="invalid distance code",t.mode=Ci;break}t.offset=ae,t.extra=te&15,t.mode=pb;case pb:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ci;break}t.mode=gb;case gb:if(f===0)break e;if(_=I-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ci;break}_>t.wnext?(_-=t.wnext,z=t.wsize-_):z=t.wnext-_,_>t.length&&(_=t.length),M=t.window}else M=s,z=c-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do s[c++]=M[z++];while(--_);t.length===0&&(t.mode=tp);break;case mb:if(f===0)break e;s[c++]=t.length,f--,t.mode=tp;break;case Hg:if(t.wrap){for(;v<32;){if(h===0)break e;h--,d|=r[o++]<<v,v+=8}if(I-=f,n.total_out+=I,t.total+=I,t.wrap&4&&I&&(n.adler=t.check=t.flags?Fo(t.check,s,I,c-I):z0(t.check,s,I,c-I)),I=f,t.wrap&4&&(t.flags?d:bb(d))!==t.check){n.msg="incorrect data check",t.mode=Ci;break}d=0,v=0}t.mode=yb;case yb:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ci;break}d=0,v=0}t.mode=vb;case vb:O=_N;break e;case Ci:O=T4;break e;case N4:return C4;case j4:default:return Fs}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,(t.wsize||I!==n.avail_out&&t.mode<Ci&&(t.mode<Hg||e!==Qv))&&k4(n,n.output,n.next_out,I-n.avail_out),A-=n.avail_in,I-=n.avail_out,n.total_in+=A,n.total_out+=I,t.total+=I,t.wrap&4&&I&&(n.adler=t.check=t.flags?Fo(t.check,s,I,n.next_out-I):z0(t.check,s,I,n.next_out-I)),n.data_type=t.bits+(t.last?64:0)+(t.mode===jl?128:0)+(t.mode===ep||t.mode===qg?256:0),(A===0&&I===0||e===Qv)&&O===fc&&(O=SN),O},LN=n=>{if(mc(n))return Fs;let e=n.state;return e.window&&(e.window=null),n.state=null,fc},DN=(n,e)=>{if(mc(n))return Fs;const t=n.state;return(t.wrap&2)===0?Fs:(t.head=e,e.done=!1,fc)},kN=(n,e)=>{const t=e.length;let r,s,o;return mc(n)||(r=n.state,r.wrap!==0&&r.mode!==Fp)?Fs:r.mode===Fp&&(s=1,s=z0(s,e,t,0),s!==r.check)?T4:(o=k4(n,e,t,t),o?(r.mode=N4,C4):(r.havedict=1,fc))};var MN=R4,ON=L4,PN=I4,zN=jN,FN=D4,BN=RN,VN=LN,UN=DN,qN=kN,HN="pako inflate (from Nodeca project)",Il={inflateReset:MN,inflateReset2:ON,inflateResetKeep:PN,inflateInit:zN,inflateInit2:FN,inflate:BN,inflateEnd:VN,inflateGetHeader:UN,inflateSetDictionary:qN,inflateInfo:HN};function GN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YN=GN;const M4=Object.prototype.toString,{Z_NO_FLUSH:WN,Z_FINISH:$N,Z_OK:Hf,Z_STREAM_END:Wg,Z_NEED_DICT:$g,Z_STREAM_ERROR:KN,Z_DATA_ERROR:_b,Z_MEM_ERROR:QN}=_4;function Xf(n){this.options=w4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hN,this.strm.avail_out=0;let t=Il.inflateInit2(this.strm,e.windowBits);if(t!==Hf)throw new Error(F0[t]);if(this.header=new YN,Il.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=B0.string2buf(e.dictionary):M4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Il.inflateSetDictionary(this.strm,e.dictionary),t!==Hf)))throw new Error(F0[t])}Xf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?$N:WN,M4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Il.inflate(t,c),o===$g&&s&&(o=Il.inflateSetDictionary(t,s),o===Hf?o=Il.inflate(t,c):o===_b&&(o=$g));t.avail_in>0&&o===Wg&&t.state.wrap>0&&n[t.next_in]!==0;)Il.inflateReset(t),o=Il.inflate(t,c);switch(o){case KN:case _b:case $g:case QN:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===Wg))if(this.options.to==="string"){let f=B0.utf8border(t.output,t.next_out),d=t.next_out-f,v=B0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Hf&&h===0)){if(o===Wg)return o=Il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Xf.prototype.onData=function(n){this.chunks.push(n)};Xf.prototype.onEnd=function(n){n===Hf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function XN(n,e){const t=new Xf(e);if(t.push(n),t.err)throw t.msg||F0[t.err];return t.result}var ZN=Xf,JN=XN,e7={Inflate:ZN,inflate:JN};const{Inflate:t7,inflate:n7}=e7;var wb=t7,i7=n7;const O4=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;O4[n]=e}const Sb=4294967295;function r7(n,e,t){let r=n;for(let s=0;s<t;s++)r=O4[(r^e[s])&255]^r>>>8;return r}function a7(n,e){return(r7(Sb,n,e)^Sb)>>>0}function Ab(n,e,t){const r=n.readUint32(),s=a7(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function P4(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function z4(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function F4(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function B4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function V4(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+s7(e[o-s],t[o],t[o-s])&255}}function s7(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return s<=o&&s<=c?n:o<=c?e:t}function o7(n,e,t,r,s,o){switch(n){case 0:P4(e,t,s);break;case 1:z4(e,t,s,o);break;case 2:F4(e,t,r,s);break;case 3:B4(e,t,r,s,o);break;case 4:V4(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const l7=new Uint16Array([255]),u7=new Uint8Array(l7.buffer),c7=u7[0]===255;function h7(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*t*h);let d=0;for(let v=0;v<7;v++){const A=c[v],I=Math.ceil((t-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(I<=0||_<=0)continue;const z=I*h,M=new Uint8Array(z);for(let B=0;B<_;B++){const V=e[d++],te=e.subarray(d,d+z);d+=z;const ae=new Uint8Array(z);o7(V,te,ae,M,z,h),M.set(ae);for(let se=0;se<I;se++){const Se=A.x+se*A.xStep,je=A.y+B*A.yStep;if(!(Se>=t||je>=r))for(let K=0;K<h;K++)f[(je*t+Se)*h+K]=ae[se*h+K]}}}if(o===16){const v=new Uint16Array(f.buffer);if(c7)for(let A=0;A<v.length;A++)v[A]=f7(v[A]);return v}else return f}function f7(n){return(n&255)<<8|n>>8&255}const d7=new Uint16Array([255]),p7=new Uint8Array(d7.buffer),g7=p7[0]===255,m7=new Uint8Array(0);function Eb(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*t),f=new Uint8Array(r*h);let d=m7,v=0,A,I;for(let _=0;_<r;_++){switch(A=e.subarray(v+1,v+1+h),I=f.subarray(_*h,(_+1)*h),e[v]){case 0:P4(A,I,h);break;case 1:z4(A,I,h,c);break;case 2:F4(A,I,d,h);break;case 3:B4(A,I,d,h,c);break;case 4:V4(A,I,d,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=I,v+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(g7)for(let z=0;z<_.length;z++)_[z]=y7(_[z]);return _}else return f}function y7(n){return(n&255)<<8|n>>8&255}const fp=Uint8Array.of(137,80,78,71,13,10,26,10);function Tb(n){if(!v7(n.readBytes(fp.length)))throw new Error("wrong PNG signature")}function v7(n){if(n.length<fp.length)return!1;for(let e=0;e<fp.length;e++)if(n[e]!==fp[e])return!1;return!0}const b7="tEXt",x7=0,U4=new TextDecoder("latin1");function _7(n){if(S7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const w7=/^[\u0000-\u00FF]*$/;function S7(n){if(!w7.test(n))throw new Error("invalid latin1 text")}function A7(n,e,t){const r=q4(e);n[r]=E7(e,t-r.length-1)}function q4(n){for(n.mark();n.readByte()!==x7;);const e=n.offset;n.reset();const t=U4.decode(n.readBytes(e-n.offset-1));return n.skip(1),_7(t),t}function E7(n,e){return U4.decode(n.readBytes(e))}const gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Kg={UNKNOWN:-1,DEFLATE:0},Cb={UNKNOWN:-1,ADAPTIVE:0},Qg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},np={NONE:0,BACKGROUND:1,PREVIOUS:2},Xg={SOURCE:0,OVER:1};class T7 extends Vm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new wb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Kg.UNKNOWN,this._filterMethod=Cb.UNKNOWN,this._interlaceMethod=Qg.UNKNOWN,this._colorType=gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Tb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Tb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case b7:A7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ab(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ab(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=C7(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case gs.GREYSCALE:r=1;break;case gs.TRUECOLOUR:r=3;break;case gs.INDEXED_COLOUR:r=1;break;case gs.GREYSCALE_ALPHA:r=2;break;case gs.TRUECOLOUR_ALPHA:r=4;break;case gs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Kg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case gs.GREYSCALE:case gs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case gs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case gs.UNKNOWN:case gs.GREYSCALE_ALPHA:case gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=q4(this),r=this.readUint8();if(r!==Kg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:i7(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Eb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case np.NONE:break;case np.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case np.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,c)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,f=(o*t.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(t.blendOp){case Xg.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++)e.data[h+d]=t.data[f+d]}break;case Xg.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++){const v=t.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:t.data[f+d],I=Math.floor(v*A+(1-v)*e.data[h+d]);e.data[h+d]+=I}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Cb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qg.NO_INTERLACE)this._png.data=Eb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qg.ADAM7)this._png.data=h7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:np.NONE,blendOp:Xg.SOURCE,data:e}),this._inflator=new wb,this._writingDataChunks=!1}}function C7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Nb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Nb||(Nb={}));function N7(n,e){return new T7(n,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Zg(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var hi={log:Zg,warn:function(n){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):Zg.call(null,arguments))},error:function(n){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):Zg(n))}};function Jg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ec(r.response,e,t)},r.onerror=function(){hi.error("could not download file")},r.send()}function jb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ip(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ec=Yt.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Yt.URL||Yt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?jb(s.href)?Jg(n,e,t):ip(s,s.target="_blank"):ip(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){ip(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(jb(n))Jg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){ip(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Zn(o)!=="object"&&(hi.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Jg(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Yt.URL||Yt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function H4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var dp=Yt.atob.bind(Yt),Ib=Yt.btoa.bind(Yt);function e0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=pa(t,r,s,o,e[0],7,-680876936),o=pa(o,t,r,s,e[1],12,-389564586),s=pa(s,o,t,r,e[2],17,606105819),r=pa(r,s,o,t,e[3],22,-1044525330),t=pa(t,r,s,o,e[4],7,-176418897),o=pa(o,t,r,s,e[5],12,1200080426),s=pa(s,o,t,r,e[6],17,-1473231341),r=pa(r,s,o,t,e[7],22,-45705983),t=pa(t,r,s,o,e[8],7,1770035416),o=pa(o,t,r,s,e[9],12,-1958414417),s=pa(s,o,t,r,e[10],17,-42063),r=pa(r,s,o,t,e[11],22,-1990404162),t=pa(t,r,s,o,e[12],7,1804603682),o=pa(o,t,r,s,e[13],12,-40341101),s=pa(s,o,t,r,e[14],17,-1502002290),t=ga(t,r=pa(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ga(o,t,r,s,e[6],9,-1069501632),s=ga(s,o,t,r,e[11],14,643717713),r=ga(r,s,o,t,e[0],20,-373897302),t=ga(t,r,s,o,e[5],5,-701558691),o=ga(o,t,r,s,e[10],9,38016083),s=ga(s,o,t,r,e[15],14,-660478335),r=ga(r,s,o,t,e[4],20,-405537848),t=ga(t,r,s,o,e[9],5,568446438),o=ga(o,t,r,s,e[14],9,-1019803690),s=ga(s,o,t,r,e[3],14,-187363961),r=ga(r,s,o,t,e[8],20,1163531501),t=ga(t,r,s,o,e[13],5,-1444681467),o=ga(o,t,r,s,e[2],9,-51403784),s=ga(s,o,t,r,e[7],14,1735328473),t=ma(t,r=ga(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ma(o,t,r,s,e[8],11,-2022574463),s=ma(s,o,t,r,e[11],16,1839030562),r=ma(r,s,o,t,e[14],23,-35309556),t=ma(t,r,s,o,e[1],4,-1530992060),o=ma(o,t,r,s,e[4],11,1272893353),s=ma(s,o,t,r,e[7],16,-155497632),r=ma(r,s,o,t,e[10],23,-1094730640),t=ma(t,r,s,o,e[13],4,681279174),o=ma(o,t,r,s,e[0],11,-358537222),s=ma(s,o,t,r,e[3],16,-722521979),r=ma(r,s,o,t,e[6],23,76029189),t=ma(t,r,s,o,e[9],4,-640364487),o=ma(o,t,r,s,e[12],11,-421815835),s=ma(s,o,t,r,e[15],16,530742520),t=ya(t,r=ma(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ya(o,t,r,s,e[7],10,1126891415),s=ya(s,o,t,r,e[14],15,-1416354905),r=ya(r,s,o,t,e[5],21,-57434055),t=ya(t,r,s,o,e[12],6,1700485571),o=ya(o,t,r,s,e[3],10,-1894986606),s=ya(s,o,t,r,e[10],15,-1051523),r=ya(r,s,o,t,e[1],21,-2054922799),t=ya(t,r,s,o,e[8],6,1873313359),o=ya(o,t,r,s,e[15],10,-30611744),s=ya(s,o,t,r,e[6],15,-1560198380),r=ya(r,s,o,t,e[13],21,1309151649),t=ya(t,r,s,o,e[4],6,-145523070),o=ya(o,t,r,s,e[11],10,-1120210379),s=ya(s,o,t,r,e[2],15,718787259),r=ya(r,s,o,t,e[9],21,-343485551),n[0]=bu(t,n[0]),n[1]=bu(r,n[1]),n[2]=bu(s,n[2]),n[3]=bu(o,n[3])}function l1(n,e,t,r,s,o){return e=bu(bu(e,n),bu(r,o)),bu(e<<s|e>>>32-s,t)}function pa(n,e,t,r,s,o,c){return l1(e&t|~e&r,n,e,s,o,c)}function ga(n,e,t,r,s,o,c){return l1(e&r|t&~r,n,e,s,o,c)}function ma(n,e,t,r,s,o,c){return l1(e^t^r,n,e,s,o,c)}function ya(n,e,t,r,s,o,c){return l1(t^(e|~r),n,e,s,o,c)}function G4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)e0(r,j7(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(e0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,e0(r,s),r}function j7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Rb="0123456789abcdef".split("");function I7(n){for(var e="",t=0;t<4;t++)e+=Rb[n>>8*t+4&15]+Rb[n>>8*t&15];return e}function R7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function V0(n){return G4(n).map(R7).join("")}var L7=(function(n){for(var e=0;e<n.length;e++)n[e]=I7(n[e]);return n.join("")})(G4("hello"))!="5d41402abc4b2a76b9719d911017c592";function bu(n,e){if(L7){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function U0(n,e){var t,r,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}t=n,r=h}else h=r;var A=e.length,I=0,_=0,z="";for(f=0;f<A;f++)_=(_+(v=h[I=(I+1)%256]))%256,h[I]=h[_],h[_]=v,c=h[(h[I]+h[_])%256],z+=String.fromCharCode(e.charCodeAt(f)^c);return z}var Lb={print:4,modify:8,copy:16,"annot-forms":32};function sh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(Lb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=Lb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=V0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=U0(this.encryptionKey,this.padding)}function oh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Db(n){if(Zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(h){Yt.console&&hi.error("jsPDF PubSub Error",h.message,h)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bp(n){if(!(this instanceof Bp))return new Bp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Y4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function tc(n,e,t,r,s){if(!(this instanceof tc))return new tc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Y4.call(this,r,s)}function uh(n,e,t,r,s){if(!(this instanceof uh))return new uh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Y4.call(this,r,s)}function yt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",v=null;Zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,I={},_={internal:{},__private__:{}};_.__private__.PubSub=Db;var z="1.3",M=_.__private__.getPdfVersion=function(){return z};_.__private__.setPdfVersion=function(S){z=S};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return B};var V=_.__private__.getPageFormat=function(S){return B[S]};s=s||"a4";var te="compat",ae="advanced",se=te;function Se(){this.saveGraphicsState(),oe(new At(Ht,0,0,-Ht,0,Aa()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),d="n",se=ae}function je(){this.restoreGraphicsState(),d="S",se=te}var K=_.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};_.advancedAPI=function(S){var F=se===te;return F&&Se.call(this),typeof S!="function"||(S(this),F&&je.call(this)),this},_.compatAPI=function(S){var F=se===ae;return F&&je.call(this),typeof S!="function"||(S(this),F&&Se.call(this)),this},_.isAdvancedAPI=function(){return se===ae};var O,w=function(S){if(se!==ae)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=_.roundToPrecision=_.__private__.roundToPrecision=function(S,F){var ue=e||F;if(isNaN(S)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ue).replace(/0+$/,"")};O=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,16)};var N=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return U(S,2)},C=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return U(S,3)},E=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return se===te?S*Ht:se===ae?S:void 0},H=function(S){return E((function(F){return se===te?Aa()-F:se===ae?F:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var fe,ne="00000000000000000000000000000000",he=_.__private__.getFileId=function(){return ne},J=_.__private__.setFileId=function(S){return ne=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(oi=new sh(v.userPermissions,v.userPassword,v.ownerPassword,ne)),ne};_.setFileId=function(S){return J(S),this},_.getFileId=function(){return he()};var de=_.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),ue=F<0?"+":"-",ve=Math.floor(Math.abs(F/60)),Ae=Math.abs(F%60),Be=[ue,Y(ve),"'",Y(Ae),"'"].join("");return["D:",S.getFullYear(),Y(S.getMonth()+1),Y(S.getDate()),Y(S.getHours()),Y(S.getMinutes()),Y(S.getSeconds()),Be].join("")},Ee=_.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),ue=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),Ae=parseInt(S.substr(10,2),10),Be=parseInt(S.substr(12,2),10),$e=parseInt(S.substr(14,2),10);return new Date(F,ue,ve,Ae,Be,$e,0)},X=_.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=de(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return fe=F},k=_.__private__.getCreationDate=function(S){var F=fe;return S==="jsDate"&&(F=Ee(fe)),F};_.setCreationDate=function(S){return X(S),this},_.getCreationDate=function(S){return k(S)};var P,Y=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},W=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},re=0,pe=[],_e=[],me=0,Oe=[],ge=[],Xe=!1,et=_e;_.__private__.setCustomOutputDestination=function(S){Xe=!0,et=S};var lt=function(S){Xe||(et=S)};_.__private__.resetCustomOutputDestination=function(){Xe=!1,et=_e};var oe=_.__private__.out=function(S){return S=S.toString(),me+=S.length+1,et.push(S),et},nt=_.__private__.write=function(S){return oe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Wt=_.__private__.getArrayBuffer=function(S){for(var F=S.length,ue=new ArrayBuffer(F),ve=new Uint8Array(ue);F--;)ve[F]=S.charCodeAt(F);return ue},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Tt};var qe=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return qe=se===ae?S/Ht:S,this};var rt,it=_.__private__.getFontSize=_.getFontSize=function(){return se===te?qe:qe*Ht},Nt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Nt=S,this},_.__private__.getR2L=_.getR2L=function(){return Nt};var _t,$t=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))rt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');rt=S}else rt=parseInt(S,10)};_.__private__.getZoomMode=function(){return rt};var Jt,Vt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_t=S};_.__private__.getPageMode=function(){return _t};var on=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Jt=S};_.__private__.getLayoutMode=function(){return Jt},_.__private__.setDisplayMode=_.setDisplayMode=function(S,F,ue){return $t(S),on(F),Vt(ue),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(Qt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[S]},_.__private__.getDocumentProperties=function(){return Qt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var F in Qt)Qt.hasOwnProperty(F)&&S[F]&&(Qt[F]=S[F]);return this},_.__private__.setDocumentProperty=function(S,F){if(Object.keys(Qt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[S]=F};var mt,Ht,vt,fi,Xt,Ct={},Pt={},Kt=[],St={},Ln={},Mt={},Ot={},Mn=null,wt=0,bt=[],ln=new Db(_),dr=n.hotfixes||[],er={},Ra={},Gi=[],At=function S(F,ue,ve,Ae,Be,$e){if(!(this instanceof S))return new S(F,ue,ve,Ae,Be,$e);isNaN(F)&&(F=1),isNaN(ue)&&(ue=0),isNaN(ve)&&(ve=0),isNaN(Ae)&&(Ae=1),isNaN(Be)&&(Be=0),isNaN($e)&&($e=0),this._matrix=[F,ue,ve,Ae,Be,$e]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},At.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,ue=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,Ae=S.shx*this.shy+S.sy*this.sy,Be=S.tx*this.sx+S.ty*this.shx+this.tx,$e=S.tx*this.shy+S.ty*this.sy+this.ty;return new At(F,ue,ve,Ae,Be,$e)},At.prototype.decompose=function(){var S=this.sx,F=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty,$e=Math.sqrt(S*S+F*F),ut=(S/=$e)*ue+(F/=$e)*ve;ue-=S*ut,ve-=F*ut;var dt=Math.sqrt(ue*ue+ve*ve);return ut/=dt,S*(ve/=dt)<F*(ue/=dt)&&(S=-S,F=-F,ut=-ut,$e=-$e),{scale:new At($e,0,0,dt,0,0),translate:new At(1,0,0,1,Ae,Be),rotate:new At(S,F,-F,S,0,0),skew:new At(1,0,ut,1,0,0)}},At.prototype.toString=function(S){return this.join(" ")},At.prototype.inversed=function(){var S=this.sx,F=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty,$e=1/(S*ve-F*ue),ut=ve*$e,dt=-F*$e,Rt=-ue*$e,Et=S*$e;return new At(ut,dt,Rt,Et,-ut*Ae-Rt*Be,-dt*Ae-Et*Be)},At.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,ue=S.x*this.shy+S.y*this.sy+this.ty;return new ir(F,ue)},At.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),ue=this.applyToPoint(new ir(S.x+S.w,S.y+S.h));return new Da(F.x,F.y,ue.x-F.x,ue.y-F.y)},At.prototype.clone=function(){var S=this.sx,F=this.shy,ue=this.shx,ve=this.sy,Ae=this.tx,Be=this.ty;return new At(S,F,ue,ve,Ae,Be)},_.Matrix=At;var ts=_.matrixMult=function(S,F){return F.multiply(S)},Ur=new At(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ur;var Cr=function(S,F){if(!Ln[S]){var ue=(F instanceof tc?"Sh":"P")+(Object.keys(St).length+1).toString(10);F.id=ue,Ln[S]=ue,St[ue]=F,ln.publish("addPattern",F)}};_.ShadingPattern=tc,_.TilingPattern=uh,_.addShadingPattern=function(S,F){return w("addShadingPattern()"),Cr(S,F),this},_.beginTilingPattern=function(S){w("beginTilingPattern()"),ka(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,F){w("endTilingPattern()"),F.stream=ge[P].join(`
`),Cr(S,F),ln.publish("endTilingPattern",F),Gi.pop().restore()};var Nr,Hn=_.__private__.newObject=function(){var S=Jn();return Mi(S,!0),S},Jn=_.__private__.newObjectDeferred=function(){return re++,pe[re]=function(){return me},re},Mi=function(S,F){return F=typeof F=="boolean"&&F,pe[S]=me,F&&oe(S+" 0 obj"),S},pr=_.__private__.newAdditionalObject=function(){var S={objId:Jn(),content:""};return Oe.push(S),S},tr=Jn(),On=Jn(),Wn=_.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ue=parseFloat(F[0]);F=[ue,ue,ue,"r"]}for(var ve="#",Ae=0;Ae<3;Ae++)ve+=("0"+Math.floor(255*parseFloat(F[Ae])).toString(16)).slice(-2);return ve},Oi=_.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var ue=S.ch1,ve=S.ch2,Ae=S.ch3,Be=S.ch4,$e=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var ut=new H4(ue);if(ut.ok)ue=ut.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var dt=parseInt(ue.substr(1),16);ue=dt>>16&255,ve=dt>>8&255,Ae=255&dt}if(ve===void 0||Be===void 0&&ue===ve&&ve===Ae)F=typeof ue=="string"?ue+" "+$e[0]:S.precision===2?N(ue/255)+" "+$e[0]:C(ue/255)+" "+$e[0];else if(Be===void 0||Zn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",$e[1]].join(" ");F=typeof ue=="string"?[ue,ve,Ae,$e[1]].join(" "):S.precision===2?[N(ue/255),N(ve/255),N(Ae/255),$e[1]].join(" "):[C(ue/255),C(ve/255),C(Ae/255),$e[1]].join(" ")}else F=typeof ue=="string"?[ue,ve,Ae,Be,$e[2]].join(" "):S.precision===2?[N(ue),N(ve),N(Ae),N(Be),$e[2]].join(" "):[C(ue),C(ve),C(Ae),C(Be),$e[2]].join(" ");return F},jr=_.__private__.getFilters=function(){return c},aa=_.__private__.putStream=function(S){var F=(S=S||{}).data||"",ue=S.filters||jr(),ve=S.alreadyAppliedFilters||[],Ae=S.addLength1||!1,Be=F.length,$e=S.objectId,ut=function(j){return j};if(v!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ut=oi.encryptor($e,0));var dt={};ue===!0&&(ue=["FlateEncode"]);var Rt=S.additionalKeyValues||[],Et=(dt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(F,ue):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(dt.data.length!==0&&(Rt.push({key:"Length",value:dt.data.length}),Ae===!0&&Rt.push({key:"Length1",value:Be})),Et.length!=0)if(Et.split("/").length-1==1)Rt.push({key:"Filter",value:Et});else{Rt.push({key:"Filter",value:"["+Et+"]"});for(var dn=0;dn<Rt.length;dn+=1)if(Rt[dn].key==="DecodeParms"){for(var ei=[],Gn=0;Gn<dt.reverseChain.split("/").length-1;Gn+=1)ei.push("null");ei.push(Rt[dn].value),Rt[dn].value="["+ei.join(" ")+"]"}}oe("<<");for(var m=0;m<Rt.length;m++)oe("/"+Rt[m].key+" "+Rt[m].value);oe(">>"),dt.data.length!==0&&(oe("stream"),oe(ut(dt.data)),oe("endstream"))},bs=_.__private__.putPage=function(S){var F=S.number,ue=S.data,ve=S.objId,Ae=S.contentsObjId;Mi(ve,!0),oe("<</Type /Page"),oe("/Parent "+S.rootDictionaryObjId+" 0 R"),oe("/Resources "+S.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&oe("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&oe("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&oe("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&oe("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&oe("/UserUnit "+S.userUnit),ln.publish("putPage",{objId:ve,pageContext:bt[F],pageNumber:F,page:ue}),oe("/Contents "+Ae+" 0 R"),oe(">>"),oe("endobj");var Be=ue.join(`
`);return se===ae&&(Be+=`
Q`),Mi(Ae,!0),aa({data:Be,filters:jr(),objectId:Ae}),oe("endobj"),ve},xa=_.__private__.putPages=function(){var S,F,ue=[];for(S=1;S<=wt;S++)bt[S].objId=Jn(),bt[S].contentsObjId=Jn();for(S=1;S<=wt;S++)ue.push(bs({number:S,data:ge[S],objId:bt[S].objId,contentsObjId:bt[S].contentsObjId,mediaBox:bt[S].mediaBox,cropBox:bt[S].cropBox,bleedBox:bt[S].bleedBox,trimBox:bt[S].trimBox,artBox:bt[S].artBox,userUnit:bt[S].userUnit,rootDictionaryObjId:tr,resourceDictionaryObjId:On}));Mi(tr,!0),oe("<</Type /Pages");var ve="/Kids [";for(F=0;F<wt;F++)ve+=ue[F]+" 0 R ";oe(ve+"]"),oe("/Count "+wt),oe(">>"),oe("endobj"),ln.publish("postPutPages")},Ir=function(S){ln.publish("putFont",{font:S,out:oe,newObject:Hn,putStream:aa}),S.isAlreadyPutted!==!0&&(S.objectNumber=Hn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+oh(S.postScriptName)),oe("/Subtype /Type1"),typeof S.encoding=="string"&&oe("/Encoding /"+S.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ns=function(S){S.objectNumber=Hn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ue=S.pages[1].join(`
`);aa({data:ue,additionalKeyValues:F,objectId:S.objectNumber}),oe("endobj")},qr=function(S,F){F||(F=21);var ue=Hn(),ve=(function($e,ut){var dt,Rt=[],Et=1/(ut-1);for(dt=0;dt<1;dt+=Et)Rt.push(dt);if(Rt.push(1),$e[0].offset!=0){var dn={offset:0,color:$e[0].color};$e.unshift(dn)}if($e[$e.length-1].offset!=1){var ei={offset:1,color:$e[$e.length-1].color};$e.push(ei)}for(var Gn="",m=0,j=0;j<Rt.length;j++){for(dt=Rt[j];dt>$e[m+1].offset;)m++;var D=$e[m].offset,ee=(dt-D)/($e[m+1].offset-D),Ce=$e[m].color,ke=$e[m+1].color;Gn+=W(Math.round((1-ee)*Ce[0]+ee*ke[0]).toString(16))+W(Math.round((1-ee)*Ce[1]+ee*ke[1]).toString(16))+W(Math.round((1-ee)*Ce[2]+ee*ke[2]).toString(16))}return Gn.trim()})(S.colors,F),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+F+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),aa({data:ve,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),oe("endobj"),S.objectNumber=Hn(),oe("<< /ShadingType "+S.type),oe("/ColorSpace /DeviceRGB");var Be="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?Be+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):Be+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),oe(Be+="]"),S.matrix&&oe("/Matrix ["+S.matrix.toString()+"]"),oe("/Function "+ue+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},gr=function(S,F){var ue=Jn(),ve=Hn();F.push({resourcesOid:ue,objectOid:ve}),S.objectNumber=ve;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),Ae.push({key:"XStep",value:O(S.xStep)}),Ae.push({key:"YStep",value:O(S.yStep)}),Ae.push({key:"Resources",value:ue+" 0 R"}),S.matrix&&Ae.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),aa({data:S.stream,additionalKeyValues:Ae,objectId:S.objectNumber}),oe("endobj")},Hr=function(S){for(var F in S.objectNumber=Hn(),oe("<<"),S)switch(F){case"opacity":oe("/ca "+N(S[F]));break;case"stroke-opacity":oe("/CA "+N(S[F]))}oe(">>"),oe("endobj")},sa=function(S){Mi(S.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in oe("/Font <<"),Ct)Ct.hasOwnProperty(F)&&(A===!1||A===!0&&I.hasOwnProperty(F))&&oe("/"+F+" "+Ct[F].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(St).length>0){for(var F in oe("/Shading <<"),St)St.hasOwnProperty(F)&&St[F]instanceof tc&&St[F].objectNumber>=0&&oe("/"+F+" "+St[F].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),oe(">>")}})(),(function(F){if(Object.keys(St).length>0){for(var ue in oe("/Pattern <<"),St)St.hasOwnProperty(ue)&&St[ue]instanceof _.TilingPattern&&St[ue].objectNumber>=0&&St[ue].objectNumber<F&&oe("/"+ue+" "+St[ue].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),oe(">>")}})(S.objectOid),(function(){if(Object.keys(Mt).length>0){var F;for(F in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(F)&&Mt[F].objectNumber>=0&&oe("/"+F+" "+Mt[F].objectNumber+" 0 R");ln.publish("putGStateDict"),oe(">>")}})(),(function(){for(var F in oe("/XObject <<"),er)er.hasOwnProperty(F)&&er[F].objectNumber>=0&&oe("/"+F+" "+er[F].objectNumber+" 0 R");ln.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},pi=function(S){Pt[S.fontName]=Pt[S.fontName]||{},Pt[S.fontName][S.fontStyle]=S.id},yo=function(S,F,ue,ve,Ae){var Be={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:ue,encoding:ve,isStandardFont:Ae||!1,metadata:{}};return ln.publish("addFont",{font:Be,instance:this}),Ct[Be.id]=Be,pi(Be),Be.id},Rr=_.__private__.pdfEscape=_.pdfEscape=function(S,F){return(function(ue,ve){var Ae,Be,$e,ut,dt,Rt,Et,dn,ei;if($e=(ve=ve||{}).sourceEncoding||"Unicode",dt=ve.outputEncoding,(ve.autoencode||dt)&&Ct[mt].metadata&&Ct[mt].metadata[$e]&&Ct[mt].metadata[$e].encoding&&(ut=Ct[mt].metadata[$e].encoding,!dt&&Ct[mt].encoding&&(dt=Ct[mt].encoding),!dt&&ut.codePages&&(dt=ut.codePages[0]),typeof dt=="string"&&(dt=ut[dt]),dt)){for(Et=!1,Rt=[],Ae=0,Be=ue.length;Ae<Be;Ae++)(dn=dt[ue.charCodeAt(Ae)])?Rt.push(String.fromCharCode(dn)):Rt.push(ue[Ae]),Rt[Ae].charCodeAt(0)>>8&&(Et=!0);ue=Rt.join("")}for(Ae=ue.length;Et===void 0&&Ae!==0;)ue.charCodeAt(Ae-1)>>8&&(Et=!0),Ae--;if(!Et)return ue;for(Rt=ve.noBOM?[]:[254,255],Ae=0,Be=ue.length;Ae<Be;Ae++){if((ei=(dn=ue.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(ei),Rt.push(dn-(ei<<8))}return String.fromCharCode.apply(void 0,Rt)})(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=_.__private__.beginPage=function(S){ge[++wt]=[],bt[wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},vo(wt),lt(ge[P])},_a=function(S,F){var ue,ve,Ae;switch(t=F||t,typeof S=="string"&&(ue=V(S.toLowerCase()),Array.isArray(ue)&&(ve=ue[0],Ae=ue[1])),Array.isArray(S)&&(ve=S[0]*Ht,Ae=S[1]*Ht),isNaN(ve)&&(ve=s[0],Ae=s[1]),(ve>14400||Ae>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ae=Math.min(14400,Ae)),s=[ve,Ae],t.substr(0,1)){case"l":Ae>ve&&(s=[Ae,ve]);break;case"p":ve>Ae&&(s=[Ae,ve])}oa(s),jt(Dr),oe(Yr),$r!==0&&oe($r+" J"),ji!==0&&oe(ji+" j"),ln.publish("addPage",{pageNumber:wt})},Bs=function(S){S>0&&S<=wt&&(ge.splice(S,1),bt.splice(S,1),wt--,P>wt&&(P=wt),this.setPage(P))},vo=function(S){S>0&&S<=wt&&(P=S)},bo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ge.length-1},Jo=function(S,F,ue){var ve,Ae=void 0;return ue=ue||{},S=S!==void 0?S:Ct[mt].fontName,F=F!==void 0?F:Ct[mt].fontStyle,ve=S.toLowerCase(),Pt[ve]!==void 0&&Pt[ve][F]!==void 0?Ae=Pt[ve][F]:Pt[S]!==void 0&&Pt[S][F]!==void 0?Ae=Pt[S][F]:ue.disableWarning===!1&&hi.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),Ae||ue.noFallback||(Ae=Pt.times[F])==null&&(Ae=Pt.times.normal),Ae},Gr=_.__private__.putInfo=function(){var S=Hn(),F=function(ve){return ve};for(var ue in v!==null&&(F=oi.encryptor(S,0)),oe("<<"),oe("/Producer ("+Rr(F("jsPDF "+yt.version))+")"),Qt)Qt.hasOwnProperty(ue)&&Qt[ue]&&oe("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Rr(F(Qt[ue]))+")");oe("/CreationDate ("+Rr(F(fe))+")"),oe(">>"),oe("endobj")},nr=_.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||tr;switch(Hn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+F+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+rt;ue.substr(ue.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+N(rt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}_t&&oe("/PageMode /"+_t),ln.publish("putCatalog"),oe(">>"),oe("endobj")},_i=_.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(re+1)),oe("/Root "+re+" 0 R"),oe("/Info "+(re-1)+" 0 R"),v!==null&&oe("/Encrypt "+oi.oid+" 0 R"),oe("/ID [ <"+ne+"> <"+ne+"> ]"),oe(">>")},fn=_.__private__.putHeader=function(){oe("%PDF-"+z),oe("%")},is=_.__private__.putXRef=function(){var S="0000000000";oe("xref"),oe("0 "+(re+1)),oe("0000000000 65535 f ");for(var F=1;F<=re;F++)typeof pe[F]=="function"?oe((S+pe[F]()).slice(-10)+" 00000 n "):pe[F]!==void 0?oe((S+pe[F]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},la=_.__private__.buildDocument=function(){var S;re=0,me=0,_e=[],pe=[],Oe=[],tr=Jn(),On=Jn(),lt(_e),ln.publish("buildDocument"),fn(),xa(),(function(){ln.publish("putAdditionalObjects");for(var ue=0;ue<Oe.length;ue++){var ve=Oe[ue];Mi(ve.objId,!0),oe(ve.content),oe("endobj")}ln.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ue in Ct)Ct.hasOwnProperty(ue)&&(A===!1||A===!0&&I.hasOwnProperty(ue))&&Ir(Ct[ue])})(),(function(){var ue;for(ue in Mt)Mt.hasOwnProperty(ue)&&Hr(Mt[ue])})(),(function(){for(var ue in er)er.hasOwnProperty(ue)&&ns(er[ue])})(),(function(ue){var ve;for(ve in St)St.hasOwnProperty(ve)&&(St[ve]instanceof tc?qr(St[ve]):St[ve]instanceof uh&&gr(St[ve],ue))})(S),ln.publish("putResources"),S.forEach(sa),sa({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),v!==null&&(oi.oid=Hn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+oi.v),oe("/R "+oi.r),oe("/U <"+oi.toHexString(oi.U)+">"),oe("/O <"+oi.toHexString(oi.O)+">"),oe("/P "+oi.P),oe(">>"),oe("endobj")),Gr(),nr();var F=me;return is(),_i(),oe("startxref"),oe(""+F),oe("%%EOF"),lt(ge[P]),_e.join(`
`)},vn=_.__private__.getBlob=function(S){return new Blob([Wt(S)],{type:"application/pdf"})},xs=_.output=_.__private__.output=(Nr=function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return la();case"save":_.save(F.filename);break;case"arraybuffer":return Wt(la());case"blob":return vn(la());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(vn(la()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ve=la();try{ue=Ib(ve)}catch{ue=Ib(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+F.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Ae=F.pdfObjectUrl,Be="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ut=Yt.open();return ut!==null&&ut.document.write($e),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Rt=Yt.open();if(Rt!==null){Rt.document.write(dt);var Et=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=F.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ei=Yt.open();if(ei!==null&&(ei.document.write(dn),ei.document.title=F.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",F);default:return null}},Nr.foo=function(){try{return Nr.apply(this,arguments)}catch(ue){var S=ue.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var F="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Yt.console)throw new Error(F);Yt.console.error(F,ue),Yt.alert&&alert(F)}},Nr.foo.bar=Nr,Nr.foo),Ni=function(S){return Array.isArray(dr)===!0&&dr.indexOf(S)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var oi=null;X(),J();var wi=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[S].objId,pageNumber:S,pageContext:bt[S]}},Vs=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in bt)if(bt[F].objId===S)break;return wi(F)},Bl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:bt[P].objId,pageNumber:P,pageContext:bt[P]}};_.addPage=function(){return _a.apply(this,arguments),this},_.setPage=function(){return vo.apply(this,arguments),lt.call(this,ge[P]),this},_.insertPage=function(S){return this.addPage(),this.movePage(P,S),this},_.movePage=function(S,F){var ue,ve;if(S>F){ue=ge[S],ve=bt[S];for(var Ae=S;Ae>F;Ae--)ge[Ae]=ge[Ae-1],bt[Ae]=bt[Ae-1];ge[F]=ue,bt[F]=ve,this.setPage(F)}else if(S<F){ue=ge[S],ve=bt[S];for(var Be=S;Be<F;Be++)ge[Be]=ge[Be+1],bt[Be]=bt[Be+1];ge[F]=ue,bt[F]=ve,this.setPage(F)}return this},_.deletePage=function(){return Bs.apply(this,arguments),this},_.__private__.text=_.text=function(S,F,ue,ve,Ae){var Be,$e,ut,dt,Rt,Et,dn,ei,Gn,m=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof ue=="string"||Array.isArray(ue))){var j=ue;ue=F,F=S,S=j}if(arguments[3]instanceof At==0?(ut=arguments[4],dt=arguments[5],Zn(dn=arguments[3])==="object"&&dn!==null||(typeof ut=="string"&&(dt=ut,ut=null),typeof dn=="string"&&(dt=dn,dn=null),typeof dn=="number"&&(ut=dn,dn=null),ve={flags:dn,angle:ut,align:dt})):(w("The transform parameter of text() with a Matrix value"),Gn=Ae),isNaN(F)||isNaN(ue)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return m;var D,ee="",Ce=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ss,ke=m.internal.scaleFactor;function Je(Dn){return Dn=Dn.split("	").join(Array(ve.TabLen||9).join(" ")),Rr(Dn,dn)}function qt(Dn){for(var Sn,ni=Dn.concat(),Ri=[],Ls=ni.length;Ls--;)typeof(Sn=ni.shift())=="string"?Ri.push(Sn):Array.isArray(Dn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ri.push(Sn[0]):Ri.push([Sn[0],Sn[1],Sn[2]]);return Ri}function ti(Dn,Sn){var ni;if(typeof Dn=="string")ni=Sn(Dn)[0];else if(Array.isArray(Dn)){for(var Ri,Ls,cs=Dn.concat(),ol=[],zu=cs.length;zu--;)typeof(Ri=cs.shift())=="string"?ol.push(Sn(Ri)[0]):Array.isArray(Ri)&&typeof Ri[0]=="string"&&(Ls=Sn(Ri[0],Ri[1],Ri[2]),ol.push([Ls[0],Ls[1],Ls[2]]));ni=ol}return ni}var cn=!1,zn=!0;if(typeof S=="string")cn=!0;else if(Array.isArray(S)){var rr=S.concat();$e=[];for(var yr,$n=rr.length;$n--;)(typeof(yr=rr.shift())!="string"||Array.isArray(yr)&&typeof yr[0]!="string")&&(zn=!1);cn=zn}if(cn===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var vr=qe/m.internal.scaleFactor,Ea=vr*(Ce-1);switch(ve.baseline){case"bottom":ue-=Ea;break;case"top":ue+=vr-Ea;break;case"hanging":ue+=vr-2*Ea;break;case"middle":ue+=vr/2-Ea}if((Et=ve.maxWidth||0)>0&&(typeof S=="string"?S=m.splitTextToSize(S,Et):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Dn,Sn){return Dn.concat(m.splitTextToSize(Sn,Et))},[]))),Be={text:S,x:F,y:ue,options:ve,mutex:{pdfEscape:Rr,activeFontKey:mt,fonts:Ct,activeFontSize:qe}},ln.publish("preProcessText",Be),S=Be.text,ut=(ve=Be.options).angle,Gn instanceof At==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,ve.rotationDirection===0&&(ut=-ut),se===ae&&(ut=-ut);var Es=Math.cos(ut),Ts=Math.sin(ut);Gn=new At(Es,Ts,-Ts,Es,0,0)}else ut&&ut instanceof At&&(Gn=ut);se!==ae||Gn||(Gn=Ur),(Rt=ve.charSpace||Wr)!==void 0&&(ee+=O(E(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=ve.horizontalScale)!==void 0&&(ee+=O(100*ei)+` Tz
`),ve.lang;var Qr=-1,Ys=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Vl=m.internal.getCurrentPageInfo().pageContext;switch(Ys){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var Ou=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Qr!==-1?ee+=Qr+` Tr
`:Ou!==-1&&(ee+=`0 Tr
`),Qr!==-1&&(Vl.usedRenderingMode=Qr),dt=ve.align||"left";var Ta,ls=qe*Ce,Ws=m.internal.pageSize.getWidth(),Pu=Ct[mt];Rt=ve.charSpace||Wr,Et=ve.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var us=[],Eo=function(Dn){return m.getStringUnitWidth(Dn,{font:Pu,charSpace:Rt,fontSize:qe,doKerning:!1})*qe/ke};if(Object.prototype.toString.call(S)==="[object Array]"){var ca;$e=qt(S),dt!=="left"&&(Ta=$e.map(Eo));var Xr,Cs=0;if(dt==="right"){F-=Ta[0],S=[],$n=$e.length;for(var Ns=0;Ns<$n;Ns++)Ns===0?(Xr=Wi(F),ca=Pi(ue)):(Xr=E(Cs-Ta[Ns]),ca=-ls),S.push([$e[Ns],Xr,ca]),Cs=Ta[Ns]}else if(dt==="center"){F-=Ta[0]/2,S=[],$n=$e.length;for(var $s=0;$s<$n;$s++)$s===0?(Xr=Wi(F),ca=Pi(ue)):(Xr=E((Cs-Ta[$s])/2),ca=-ls),S.push([$e[$s],Xr,ca]),Cs=Ta[$s]}else if(dt==="left"){S=[],$n=$e.length;for(var Ul=0;Ul<$n;Ul++)S.push($e[Ul])}else if(dt==="justify"&&Pu.encoding==="Identity-H"){S=[],$n=$e.length,Et=Et!==0?Et:Ws;for(var ql=0,Ii=0;Ii<$n;Ii++)if(ca=Ii===0?Pi(ue):-ls,Xr=Ii===0?Wi(F):ql,Ii<$n-1){var vc=E((Et-Ta[Ii])/($e[Ii].split(" ").length-1)),js=$e[Ii].split(" ");S.push([js[0]+" ",Xr,ca]),ql=0;for(var Is=1;Is<js.length;Is++){var br=(Eo(js[Is-1]+" "+js[Is])-Eo(js[Is]))*ke+vc;Is==js.length-1?S.push([js[Is],br,0]):S.push([js[Is]+" ",br,0]),ql-=br}}else S.push([$e[Ii],Xr,ca]);S.push(["",ql,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],$n=$e.length,Et=Et!==0?Et:Ws,Ii=0;Ii<$n;Ii++){ca=Ii===0?Pi(ue):-ls,Xr=Ii===0?Wi(F):0;var Ks=$e[Ii].split(" ").length-1,Hl=Ks>0?(Et-Ta[Ii])/Ks:0;Ii<$n-1?us.push(O(E(Hl))):us.push(0),S.push([$e[Ii],Xr,ca])}}}(typeof ve.R2L=="boolean"?ve.R2L:Nt)===!0&&(S=ti(S,function(Dn,Sn,ni){return[Dn.split("").reverse().join(""),Sn,ni]})),Be={text:S,x:F,y:ue,options:ve,mutex:{pdfEscape:Rr,activeFontKey:mt,fonts:Ct,activeFontSize:qe}},ln.publish("postProcessText",Be),S=Be.text,D=Be.mutex.isHex||!1;var Gl=Ct[mt].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(S=ti(S,function(Dn,Sn,ni){return[Je(Dn),Sn,ni]})),$e=qt(S),S=[];for(var Qs,Xs,Rs,sl=Array.isArray($e[0])?1:0,Ca="",Zs=function(Dn,Sn,ni){var Ri="";return ni instanceof At?(ni=typeof ve.angle=="number"?ts(ni,new At(1,0,0,1,Dn,Sn)):ts(new At(1,0,0,1,Dn,Sn),ni),se===ae&&(ni=ts(new At(1,0,0,-1,0,0),ni)),Ri=ni.join(" ")+` Tm
`):Ri=O(Dn)+" "+O(Sn)+` Td
`,Ri},kr=0;kr<$e.length;kr++){switch(Ca="",sl){case 1:Rs=(D?"<":"(")+$e[kr][0]+(D?">":")"),Qs=parseFloat($e[kr][1]),Xs=parseFloat($e[kr][2]);break;case 0:Rs=(D?"<":"(")+$e[kr]+(D?">":")"),Qs=Wi(F),Xs=Pi(ue)}us!==void 0&&us[kr]!==void 0&&(Ca=us[kr]+` Tw
`),kr===0?S.push(Ca+Zs(Qs,Xs,Gn)+Rs):sl===0?S.push(Ca+Rs):sl===1&&S.push(Ca+Zs(Qs,Xs,Gn)+Rs)}S=sl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Pa=`BT
/`;return Pa+=mt+" "+qe+` Tf
`,Pa+=O(qe*Ce)+` TL
`,Pa+=Sa+`
`,Pa+=ee,Pa+=S,oe(Pa+="ET"),I[mt]=!0,m};var el=_.__private__.clip=_.clip=function(S){return oe(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return el("evenodd")},_.__private__.discardPath=_.discardPath=function(){return oe("n"),this};var mr=_.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return mr(S)&&(d=S),this};var tl=_.__private__.getStyle=_.getStyle=function(S){var F=d;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},rs=_.close=function(){return oe("h"),this};_.stroke=function(){return oe("S"),this},_.fill=function(S){return Yi("f",S),this},_.fillEvenOdd=function(S){return Yi("f*",S),this},_.fillStroke=function(S){return Yi("B",S),this},_.fillStrokeEvenOdd=function(S){return Yi("B*",S),this};var Yi=function(S,F){Zn(F)==="object"?il(F,S):oe(S)},_s=function(S){S===null||se===ae&&S===void 0||(S=tl(S),oe(S))};function nl(S,F,ue,ve,Ae){var Be=new uh(F||this.boundingBox,ue||this.xStep,ve||this.yStep,this.gState,Ae||this.matrix);Be.stream=this.stream;var $e=S+"$$"+this.cloneIndex+++"$$";return Cr($e,Be),Be}var il=function(S,F){var ue=Ln[S.key],ve=St[ue];if(ve instanceof tc)oe("q"),oe(xo(F)),ve.gState&&_.setGState(ve.gState),oe(S.matrix.toString()+" cm"),oe("/"+ue+" sh"),oe("Q");else if(ve instanceof uh){var Ae=new At(1,0,0,-1,0,Aa());S.matrix&&(Ae=Ae.multiply(S.matrix||Ur),ue=nl.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,Ae).id),oe("q"),oe("/Pattern cs"),oe("/"+ue+" scn"),ve.gState&&_.setGState(ve.gState),oe(F),oe("Q")}},xo=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_o=_.moveTo=function(S,F){return oe(O(E(S))+" "+O(H(F))+" m"),this},as=_.lineTo=function(S,F){return oe(O(E(S))+" "+O(H(F))+" l"),this},Lr=_.curveTo=function(S,F,ue,ve,Ae,Be){return oe([O(E(S)),O(H(F)),O(E(ue)),O(H(ve)),O(E(Ae)),O(H(Be)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,F,ue,ve,Ae){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return se===te?this.lines([[ue-S,ve-F]],S,F,[1,1],Ae||"S"):this.lines([[ue-S,ve-F]],S,F,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,F,ue,ve,Ae,Be){var $e,ut,dt,Rt,Et,dn,ei,Gn,m,j,D,ee;if(typeof S=="number"&&(ee=ue,ue=F,F=S,S=ee),ve=ve||[1,1],Be=Be||!1,isNaN(F)||isNaN(ue)||!Array.isArray(S)||!Array.isArray(ve)||!mr(Ae)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_o(F,ue),$e=ve[0],ut=ve[1],Rt=S.length,j=F,D=ue,dt=0;dt<Rt;dt++)(Et=S[dt]).length===2?(j=Et[0]*$e+j,D=Et[1]*ut+D,as(j,D)):(dn=Et[0]*$e+j,ei=Et[1]*ut+D,Gn=Et[2]*$e+j,m=Et[3]*ut+D,j=Et[4]*$e+j,D=Et[5]*ut+D,Lr(dn,ei,Gn,m,j,D));return Be&&rs(),_s(Ae),this},_.path=function(S){for(var F=0;F<S.length;F++){var ue=S[F],ve=ue.c;switch(ue.op){case"m":_o(ve[0],ve[1]);break;case"l":as(ve[0],ve[1]);break;case"c":Lr.apply(this,ve);break;case"h":rs()}}return this},_.__private__.rect=_.rect=function(S,F,ue,ve,Ae){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return se===te&&(ve=-ve),oe([O(E(S)),O(H(F)),O(E(ue)),O(E(ve)),"re"].join(" ")),_s(Ae),this},_.__private__.triangle=_.triangle=function(S,F,ue,ve,Ae,Be,$e){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ve)||isNaN(Ae)||isNaN(Be)||!mr($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-S,ve-F],[Ae-ue,Be-ve],[S-Ae,F-Be]],S,F,[1,1],$e,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,F,ue,ve,Ae,Be,$e){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ve)||isNaN(Ae)||isNaN(Be)||!mr($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ue),Be=Math.min(Be,.5*ve),this.lines([[ue-2*Ae,0],[Ae*ut,0,Ae,Be-Be*ut,Ae,Be],[0,ve-2*Be],[0,Be*ut,-Ae*ut,Be,-Ae,Be],[2*Ae-ue,0],[-Ae*ut,0,-Ae,-Be*ut,-Ae,-Be],[0,2*Be-ve],[0,-Be*ut,Ae*ut,-Be,Ae,-Be]],S+Ae,F,[1,1],$e,!0),this},_.__private__.ellipse=_.ellipse=function(S,F,ue,ve,Ae){if(isNaN(S)||isNaN(F)||isNaN(ue)||isNaN(ve)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ue,$e=4/3*(Math.SQRT2-1)*ve;return _o(S+ue,F),Lr(S+ue,F-$e,S+Be,F-ve,S,F-ve),Lr(S-Be,F-ve,S-ue,F-$e,S-ue,F),Lr(S-ue,F+$e,S-Be,F+ve,S,F+ve),Lr(S+Be,F+ve,S+ue,F+$e,S+ue,F),_s(Ae),this},_.__private__.circle=_.circle=function(S,F,ue,ve){if(isNaN(S)||isNaN(F)||isNaN(ue)||!mr(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,ue,ue,ve)},_.setFont=function(S,F,ue){return ue&&(F=K(F,ue)),mt=Jo(S,F,{disableWarning:!1}),this};var wa=_.__private__.getFont=_.getFont=function(){return Ct[Jo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,F,ue={};for(S in Pt)if(Pt.hasOwnProperty(S))for(F in ue[S]=[],Pt[S])Pt[S].hasOwnProperty(F)&&ue[S].push(F);return ue},_.addFont=function(S,F,ue,ve,Ae){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ue=K(ue,ve)),yo.call(this,S,F,ue,Ae=Ae||"Identity-H")};var ss,Dr=n.lineWidth||.200025,ws=_.__private__.getLineWidth=_.getLineWidth=function(){return Dr},jt=_.__private__.setLineWidth=_.setLineWidth=function(S){return Dr=S,oe(O(E(S))+" w"),this};_.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ue){return O(E(ue))}).join(" "),F=O(E(F)),oe("["+S+"] "+F+" d"),this};var Us=_.__private__.getLineHeight=_.getLineHeight=function(){return qe*ss};_.__private__.getLineHeight=_.getLineHeight=function(){return qe*ss};var wo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ss=S),this},Ss=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return ss};wo(n.lineHeight);var Wi=_.__private__.getHorizontalCoordinate=function(S){return E(S)},Pi=_.__private__.getVerticalCoordinate=function(S){return se===ae?S:bt[P].mediaBox.topRightY-bt[P].mediaBox.bottomLeftY-E(S)},qs=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return O(Wi(S))},Pn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return O(Pi(S))},Yr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Wn(Yr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,F,ue,ve){return Yr=Oi({ch1:S,ch2:F,ch3:ue,ch4:ve,pdfColorType:"draw",precision:2}),oe(Yr),this};var Hs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Wn(Hs)},_.__private__.setFillColor=_.setFillColor=function(S,F,ue,ve){return Hs=Oi({ch1:S,ch2:F,ch3:ue,ch4:ve,pdfColorType:"fill",precision:2}),oe(Hs),this};var Sa=n.textColor||"0 g",rl=_.__private__.getTextColor=_.getTextColor=function(){return Wn(Sa)};_.__private__.setTextColor=_.setTextColor=function(S,F,ue,ve){return Sa=Oi({ch1:S,ch2:F,ch3:ue,ch4:ve,pdfColorType:"text",precision:3}),this};var Wr=n.charSpace,os=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Wr||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wr=S,this};var $r=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var F=_.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $r=F,oe(F+" J"),this};var ji=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var F=_.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ji=F,oe(F+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(O(E(S))+" M"),this},_.GState=Bp,_.setGState=function(S){(S=typeof S=="string"?Mt[Ot[S]]:La(null,S)).equals(Mn)||(oe("/"+S.id+" gs"),Mn=S)};var La=function(S,F){if(!S||!Ot[S]){var ue=!1;for(var ve in Mt)if(Mt.hasOwnProperty(ve)&&Mt[ve].equals(F)){ue=!0;break}if(ue)F=Mt[ve];else{var Ae="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Ae]=F,F.id=Ae}return S&&(Ot[S]=F.id),ln.publish("addGState",F),F}};_.addGState=function(S,F){return La(S,F),this},_.saveGraphicsState=function(){return oe("q"),Kt.push({key:mt,size:qe,color:Sa}),this},_.restoreGraphicsState=function(){oe("Q");var S=Kt.pop();return mt=S.key,qe=S.size,Sa=S.color,Mn=null,this},_.setCurrentTransformationMatrix=function(S){return oe(S.toString()+" cm"),this},_.comment=function(S){return oe("#"+S),this};var ir=function(S,F){var ue=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Be){isNaN(Be)||(ue=parseFloat(Be))}});var ve=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Be){Ae=Be.toString()}}),this},Da=function(S,F,ue,ve){ir.call(this,S,F),this.type="rect";var Ae=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function($e){isNaN($e)||(Ae=parseFloat($e))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function($e){isNaN($e)||(Be=parseFloat($e))}}),this},As=function(){this.page=wt,this.currentPage=P,this.pages=ge.slice(0),this.pagesContext=bt.slice(0),this.x=vt,this.y=fi,this.matrix=Xt,this.width=ua(P),this.height=So(P),this.outputDestination=et,this.id="",this.objectNumber=-1};As.prototype.restore=function(){wt=this.page,P=this.currentPage,bt=this.pagesContext,ge=this.pages,vt=this.x,fi=this.y,Xt=this.matrix,Gs(P,this.width),Kr(P,this.height),et=this.outputDestination};var ka=function(S,F,ue,ve,Ae){Gi.push(new As),wt=P=0,ge=[],vt=S,fi=F,Xt=Ae,oa([ue,ve])};for(var Ma in _.beginFormObject=function(S,F,ue,ve,Ae){return ka(S,F,ue,ve,Ae),this},_.endFormObject=function(S){return(function(F){if(Ra[F])Gi.pop().restore();else{var ue=new As,ve="Xo"+(Object.keys(er).length+1).toString(10);ue.id=ve,Ra[F]=ve,er[ve]=ue,ln.publish("addFormObject",ue),Gi.pop().restore()}})(S),this},_.doFormObject=function(S,F){var ue=er[Ra[S]];return oe("q"),oe(F.toString()+" cm"),oe("/"+ue.id+" Do"),oe("Q"),this},_.getFormObject=function(S){var F=er[Ra[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},_.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(ec(vn(la()),S),typeof ec.unload=="function"&&Yt.setTimeout&&setTimeout(ec.unload,911),this):new Promise(function(ue,ve){try{var Ae=ec(vn(la()),S);typeof ec.unload=="function"&&Yt.setTimeout&&setTimeout(ec.unload,911),ue(Ae)}catch(Be){ve(Be.message)}})},yt.API)yt.API.hasOwnProperty(Ma)&&(Ma==="events"&&yt.API.events.length?(function(S,F){var ue,ve,Ae;for(Ae=F.length-1;Ae!==-1;Ae--)ue=F[Ae][0],ve=F[Ae][1],S.subscribe.apply(S,[ue].concat(typeof ve=="function"?[ve]:ve))})(ln,yt.API.events):_[Ma]=yt.API[Ma]);function ua(S){return bt[S].mediaBox.topRightX-bt[S].mediaBox.bottomLeftX}function Gs(S,F){bt[S].mediaBox.topRightX=F+bt[S].mediaBox.bottomLeftX}function So(S){return bt[S].mediaBox.topRightY-bt[S].mediaBox.bottomLeftY}function Kr(S,F){bt[S].mediaBox.topRightY=F+bt[S].mediaBox.bottomLeftY}var Oa=_.getPageWidth=function(S){return ua(S=S||P)/Ht},al=_.setPageWidth=function(S,F){Gs(S,F*Ht)},Aa=_.getPageHeight=function(S){return So(S=S||P)/Ht},Ao=_.setPageHeight=function(S,F){Kr(S,F*Ht)};return _.internal={pdfEscape:Rr,getStyle:tl,getFont:wa,getFontSize:it,getCharSpace:os,getTextColor:rl,getLineHeight:Us,getLineHeightFactor:Ss,getLineWidth:ws,write:nt,getHorizontalCoordinate:Wi,getVerticalCoordinate:Pi,getCoordinateString:qs,getVerticalCoordinateString:Pn,collections:{},newObject:Hn,newAdditionalObject:pr,newObjectDeferred:Jn,newObjectDeferredBegin:Mi,getFilters:jr,putStream:aa,events:ln,scaleFactor:Ht,pageSize:{getWidth:function(){return Oa(P)},setWidth:function(S){al(P,S)},getHeight:function(){return Aa(P)},setHeight:function(S){Ao(P,S)}},encryptionOptions:v,encryption:oi,getEncryptor:function(S){return v!==null?oi.encryptor(S,0):function(F){return F}},output:xs,getNumberOfPages:bo,get pages(){return ge},out:oe,f2:N,f3:C,getPageInfo:wi,getPageInfoByObjId:Vs,getCurrentPageInfo:Bl,getPDFVersion:M,Point:ir,Rectangle:Da,Matrix:At,hasHotfix:Ni},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Oa(P)},set:function(S){al(P,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Aa(P)},set:function(S){Ao(P,S)},enumerable:!0,configurable:!0}),(function(S){for(var F=0,ue=Tt.length;F<ue;F++){var ve=yo.call(this,S[F][0],S[F][1],S[F][2],Tt[F][3],!0);A===!1&&(I[ve]=!0);var Ae=S[F][0].split("-");pi({id:ve,fontName:Ae[0],fontStyle:Ae[1]||""})}ln.publish("addFonts",{fonts:Ct,dictionary:Pt})}).call(_,Tt),mt="F1",_a(s,t),ln.publish("initialized"),_}sh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},sh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},sh.prototype.processOwnerPassword=function(n,e){return U0(V0(e).substr(0,5),n)},sh.prototype.encryptor=function(n,e){var t=V0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return U0(t,r)}},Bp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Zn(n)!==Zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="4.1.0";var Hi=yt.API,Um=1,yc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vp=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},nn=function(n){return n.toFixed(2)},yu=function(n){return n.toFixed(5)};Hi.__acroform__={};var es=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},kb=function(n){return n*Um},Bo=function(n){var e=new $4,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(nn(r)),Number(nn(t))],e},D7=Hi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},k7=Hi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},M7=Hi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xi=Hi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return M7(n,e-1)},Zi=Hi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return D7(n,e-1)},Ji=Hi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return k7(n,e-1)},O7=Hi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=r(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},P7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=q0(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+nn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},q0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var o=t,c=gt.internal.getHeight(n)||0;c=c<0?-c:c;var h=gt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(N,C,E){if(N+1<s.length){var H=C+" "+s[N+1][0];return rp(H,n,E).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var d,v,A=rp("3",n,o).height,I=n.multiline?c-o:(c-A)/2,_=I+=2,z=0,M=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+rp(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var V="",te=0,ae=0;ae<s.length;ae++)if(s.hasOwnProperty(ae)){var se=!1;if(s[ae].length!==1&&B!==s[ae].length-1){if((A+2)*(te+2)+2>c)continue e;V+=s[ae][B],se=!0,M=ae,ae--}else{V=(V+=s[ae][B]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var Se=parseInt(ae),je=f(Se,V,o),K=ae>=s.length-1;if(je&&!K){V+=" ",B=0;continue}if(je||K){if(K)M=Se;else if(n.multiline&&(A+2)*(te+2)+2>c)continue e}else{if(!n.multiline||(A+2)*(te+2)+2>c)continue e;M=Se}}for(var O="",w=z;w<=M;w++){var U=s[w];if(n.multiline){if(w===M){O+=U[B]+" ",B=(B+1)%U.length;continue}if(w===z){O+=U[U.length-1]+" ";continue}}O+=U[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,v=rp(O,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=nn(d)+" "+nn(_)+` Td
`,e+="("+yc(O)+`) Tj
`,e+=-nn(d)+` 0 Td
`,_=-(o+2),v=0,z=se?M:M+1,te++,V=""}break}return r.text=e,r.fontSize=o,r},rp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},z7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F7=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},B7=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(z7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new K4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&F7(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=O7(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=gt.createDefaultAppearanceStream(h),Zn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=P7(h);f.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var I in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(I)){var _=h.appearanceStreamContent[I];if(A+="/"+I+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var z=_[c];typeof z=="function"&&(z=z.call(s,h)),A+="/"+c+" "+z+" ",s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z)}}else typeof(z=_)=="function"&&(z=z.call(s,h)),A+="/"+c+" "+z,s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(M,B){for(var V in M)if(M.hasOwnProperty(V)){var te=V,ae=M[V];B.internal.newObjectDeferredBegin(ae.objId,!0),Zn(ae)==="object"&&typeof ae.putStream=="function"&&ae.putStream(),delete M[te]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},W4=Hi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Zn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Vp(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+yc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+yc(r(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:W4(s,this.objId,this.scope)}):s instanceof qo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var $4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};es($4,qo);var K4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yc(t(n))+")"}},set:function(t){n=t}})};es(K4,qo);var go=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');e=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(V){V?this.F=Zi(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');t=V}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(V){r=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(V){r[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(V){r[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(V){r[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(V){r[3]=V}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Up)return;o="FieldObject"+n.FieldNum++}var V=function(te){return te};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+yc(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(V){c=V}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(V){h=V}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(V){f=V}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Um:d},set:function(V){d=V}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(V){v=V}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Up||this instanceof ac))return t0(A,this.objId,this.scope)},set:function(V){V=V.toString(),A=V}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Vr==0?t0(I,this.objId,this.scope):I},set:function(V){V=V.toString(),I=this instanceof Vr==0?V.substr(0,1)==="("?eh(V.substr(1,V.length-2)):eh(V):V}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?eh(I.substr(1,I.length-1)):I},set:function(V){V=V.toString(),I=this instanceof Vr==1?"/"+Vp(V):V}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Vr==0?t0(_,this.objId,this.scope):_},set:function(V){V=V.toString(),_=this instanceof Vr==0?V.substr(0,1)==="("?eh(V.substr(1,V.length-2)):eh(V):V}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr==1?eh(_.substr(1,_.length-1)):_},set:function(V){V=V.toString(),_=this instanceof Vr==1?"/"+Vp(V):V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var z,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(V){V=!!V,M=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(z)return z},set:function(V){z=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(V){V?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(V){V?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(V){V?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');B=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(B){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};es(go,qo);var fh=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return W4(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(t){t?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(t){t?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(t){t?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(t){t?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};es(fh,go);var dh=function(){fh.call(this),this.fontName="helvetica",this.combo=!1};es(dh,fh);var ph=function(){dh.call(this),this.combo=!0};es(ph,dh);var pp=function(){ph.call(this),this.edit=!0};es(pp,ph);var Vr=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(t){t?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(t){t?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(t){t?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+yc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Vp(t)}})};es(Vr,go);var gp=function(){Vr.call(this),this.pushButton=!0};es(gp,Vr);var gh=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};es(gh,Vr);var Up=function(){var n,e;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+yc(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Zn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(Up,go),gh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},gh.prototype.createOption=function(n){var e=new Up;return e.Parent=this,e.optionName=n,this.Kids.push(e),V7.call(this.scope,e),e};var mp=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};es(mp,Vr);var ac=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(ac,go);var yp=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){n?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};es(yp,ac);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=q0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+nn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),c=gt.internal.getWidth(n),h=q0(n,n.caption);return s.push("1 g"),s.push("0 0 "+nn(c)+" "+nn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+nn(c-1)+" "+nn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+nn(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),c=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(gt.internal.getWidth(n)/2)+" "+yu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+nn(gt.internal.getWidth(n)-2)+" "+nn(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(nn(r.x1.x)+" "+nn(r.x1.y)+" m"),t.push(nn(r.x2.x)+" "+nn(r.x2.y)+" l"),t.push(nn(r.x4.x)+" "+nn(r.x4.y)+" m"),t.push(nn(r.x3.x)+" "+nn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nn(gt.internal.getWidth(n)-2)+" "+nn(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(nn(t.x1.x)+" "+nn(t.x1.y)+" m"),r.push(nn(t.x2.x)+" "+nn(t.x2.y)+" l"),r.push(nn(t.x4.x)+" "+nn(t.x4.y)+" m"),r.push(nn(t.x3.x)+" "+nn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(gt.internal.getWidth(n))+" "+nn(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Zn(n)==="object"&&(e=kb(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Zn(n)==="object"&&(e=kb(n.Rect[3])),e};var V7=Hi.addField=function(n){if(B7(this,n),!(n instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=fh,Hi.AcroFormListBox=dh,Hi.AcroFormComboBox=ph,Hi.AcroFormEditBox=pp,Hi.AcroFormButton=Vr,Hi.AcroFormPushButton=gp,Hi.AcroFormRadioButton=gh,Hi.AcroFormCheckBox=mp,Hi.AcroFormTextField=ac,Hi.AcroFormPasswordField=yp,Hi.AcroFormAppearance=gt,Hi.AcroForm={ChoiceField:fh,ListBox:dh,ComboBox:ph,EditBox:pp,Button:Vr,PushButton:gp,RadioButton:gh,CheckBox:mp,TextField:ac,PasswordField:yp,Appearance:gt},yt.AcroForm={ChoiceField:fh,ListBox:dh,ComboBox:ph,EditBox:pp,Button:Vr,PushButton:gp,RadioButton:gh,CheckBox:mp,TextField:ac,PasswordField:yp,Appearance:gt};yt.AcroForm;function Q4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(N,C){var E,H,fe,ne,he,J=t;if((C=C||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(je(N))for(he in r)for(fe=r[he],E=0;E<fe.length;E+=1){for(ne=!0,H=0;H<fe[E].length;H+=1)if(fe[E][H]!==void 0&&fe[E][H]!==N[H]){ne=!1;break}if(ne===!0){J=he;break}}else for(he in r)for(fe=r[he],E=0;E<fe.length;E+=1){for(ne=!0,H=0;H<fe[E].length;H+=1)if(fe[E][H]!==void 0&&fe[E][H]!==N.charCodeAt(H)){ne=!1;break}if(ne===!0){J=he;break}}return J===t&&C!==t&&(J=C),J},o=function N(C){for(var E=this.internal.write,H=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:C.width}),ne.push({key:"Height",value:C.height}),C.colorSpace===V.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===V.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var he="",J=0,de=C.transparency.length;J<de;J++)he+=C.transparency[J]+" "+C.transparency[J]+" ";ne.push({key:"Mask",value:"["+he+"]"})}C.sMask!==void 0&&ne.push({key:"SMask",value:C.objectId+1+" 0 R"});var Ee=C.filter!==void 0?["/"+C.filter]:void 0;if(H({data:C.data,additionalKeyValues:ne,alreadyAppliedFilters:Ee,objectId:C.objectId}),E("endobj"),"sMask"in C&&C.sMask!==void 0){var X,k=(X=C.sMaskBitsPerComponent)!==null&&X!==void 0?X:C.bitsPerComponent,P={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:C.sMask};"filter"in C&&(P.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(C.width),P.filter=C.filter),N.call(this,P)}if(C.colorSpace===V.INDEXED){var Y=this.internal.newObject();H({data:O(new Uint8Array(C.palette)),objectId:Y}),E("endobj")}},c=function(){var N=this.internal.collections[e+"images"];for(var C in N)o.call(this,N[C])},h=function(){var N,C=this.internal.collections[e+"images"],E=this.internal.write;for(var H in C)E("/I"+(N=C[H]).index,N.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var N=this.internal.collections[e+"images"];return f.call(this),N},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(N){return typeof n["process"+N.toUpperCase()]=="function"},I=function(N){return Zn(N)==="object"&&N.nodeType===1},_=function(N,C){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var E=""+N.getAttribute("src");if(E.indexOf("data:image/")===0)return dp(unescape(E).split("base64,").pop());var H=n.loadFile(E,!0);if(H!==void 0)return H}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var fe;switch(C){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return dp(N.toDataURL(fe,1).split("base64,").pop())}},z=function(N){var C=this.internal.collections[e+"images"];if(C){for(var E in C)if(N===C[E].alias)return C[E]}},M=function(N,C,E){return N||C||(N=-96,C=-96),N<0&&(N=-1*E.width*72/N/this.internal.scaleFactor),C<0&&(C=-1*E.height*72/C/this.internal.scaleFactor),N===0&&(N=C*E.width/E.height),C===0&&(C=N*E.height/E.width),[N,C]},B=function(N,C,E,H,fe,ne){var he=M.call(this,E,H,fe),J=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Ee=d.call(this);if(E=he[0],H=he[1],Ee[fe.index]=fe,ne){ne*=Math.PI/180;var X=Math.cos(ne),k=Math.sin(ne),P=function(W){return W.toFixed(4)},Y=[P(X),P(k),P(-1*k),P(X),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,J(N),de(C+H),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([J(E),"0","0",J(H),"0","0","cm"].join(" "))):this.internal.write([J(E),"0","0",J(H),J(N),de(C+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ae=n.__addimage__.sHashCode=function(N){var C,E,H=0;if(typeof N=="string")for(E=N.length,C=0;C<E;C++)H=(H<<5)-H+N.charCodeAt(C),H|=0;else if(je(N))for(E=N.byteLength/2,C=0;C<E;C++)H=(H<<5)-H+N[C],H|=0;return H},se=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var C=!0;return N.length===0&&(C=!1),N.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(C=!1),C},Se=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var C=N.indexOf(",");return C<0?null:N.substring(0,C).trim().endsWith("base64")?N.substring(C+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var je=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},K=n.__addimage__.binaryStringToUint8Array=function(N){for(var C=N.length,E=new Uint8Array(C),H=0;H<C;H++)E[H]=N.charCodeAt(H);return E},O=n.__addimage__.arrayBufferToBinaryString=function(N){for(var C="",E=je(N)?N:new Uint8Array(N),H=0;H<E.length;H+=8192)C+=String.fromCharCode.apply(null,E.subarray(H,H+8192));return C};n.addImage=function(){var N,C,E,H,fe,ne,he,J,de;if(typeof arguments[1]=="number"?(C=t,E=arguments[1],H=arguments[2],fe=arguments[3],ne=arguments[4],he=arguments[5],J=arguments[6],de=arguments[7]):(C=arguments[1],E=arguments[2],H=arguments[3],fe=arguments[4],ne=arguments[5],he=arguments[6],J=arguments[7],de=arguments[8]),Zn(N=arguments[0])==="object"&&!I(N)&&"imageData"in N){var Ee=N;N=Ee.imageData,C=Ee.format||C||t,E=Ee.x||E||0,H=Ee.y||H||0,fe=Ee.w||Ee.width||fe,ne=Ee.h||Ee.height||ne,he=Ee.alias||he,J=Ee.compression||J,de=Ee.rotation||Ee.angle||de}var X=this.internal.getFilters();if(J===void 0&&X.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(E)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=w.call(this,N,C,he,J);return B.call(this,E,H,fe,ne,k,de),this};var w=function(N,C,E,H){var fe,ne,he;if(typeof N=="string"&&s(N)===t){N=unescape(N);var J=U(N,!1);(J!==""||(J=n.loadFile(N,!0))!==void 0)&&(N=J)}if(I(N)&&(N=_(N,C)),C=s(N,C),!A(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((he=E)==null||he.length===0)&&(E=(function(de){return typeof de=="string"||je(de)?ae(de):je(de.data)?ae(de.data):null})(N)),(fe=z.call(this,E))||(N instanceof Uint8Array||C==="RGBA"||(ne=N,N=K(N)),fe=this["process"+C.toUpperCase()](N,v.call(this),E,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:te.NONE})(H),ne)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},U=n.__addimage__.convertBase64ToBinaryString=function(N,C){C=typeof C!="boolean"||C;var E,H="";if(typeof N=="string"){var fe;E=(fe=Se(N))!==null&&fe!==void 0?fe:N;try{H=dp(E)}catch(ne){if(C)throw se(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};n.getImageProperties=function(N){var C,E,H="";if(I(N)&&(N=_(N)),typeof N=="string"&&s(N)===t&&((H=U(N,!1))===""&&(H=n.loadFile(N)||""),N=H),E=s(N),!A(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(N instanceof Uint8Array||(N=K(N)),!(C=this["process"+E.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=E,C}})(yt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((r=d[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var I=0;I<d.length;I++){r=d[I];var _=this.internal.pdfEscape,z=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(M.objId),te=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(V(r.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(V(te))+") >>",M.content=o;var ae=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+ae,r.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(M.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var se=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(z(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var Se=this.annotations._nameMap[r.options.name];r.options.pageNumber=Se.page,r.options.top=Se.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(z(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var je=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+je+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,s,o){var c,h,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,c,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(yt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},h=n.__arabicParser__.isArabicEndLetter=function(M){return c(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(M){return c(M)&&s.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return c(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return c(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return c(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return c(M)&&o(M)&&e[M.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(M){var B=0,V=t,te="",ae=0;for(B=0;B<M.length;B+=1)V[M.charCodeAt(B)]!==void 0?(ae++,typeof(V=V[M.charCodeAt(B)])=="number"&&(te+=String.fromCharCode(V),V=t,ae=0),B===M.length-1&&(V=t,te+=M.charAt(B-(ae-1)),B-=ae-1,ae=0)):(V=t,te+=M.charAt(B-ae),B-=ae,ae=0);return te};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var I=n.__arabicParser__.getCorrectForm=function(M,B,V){return c(M)?o(M)===!1?-1:!d(M)||!c(B)&&!c(V)||!c(V)&&h(B)||h(M)&&!c(B)||h(M)&&f(B)||h(M)&&h(B)?0:v(M)&&c(B)&&!h(B)&&c(V)&&d(V)?3:h(M)||!c(V)?1:2:-1},_=function(M){var B=0,V=0,te=0,ae="",se="",Se="",je=(M=M||"").split("\\s+"),K=[];for(B=0;B<je.length;B+=1){for(K.push(""),V=0;V<je[B].length;V+=1)ae=je[B][V],se=je[B][V-1],Se=je[B][V+1],c(ae)?(te=I(ae,se,Se),K[B]+=te!==-1?String.fromCharCode(e[ae.charCodeAt(0)][te]):ae):K[B]+=ae;K[B]=A(K[B])}return K.join(" ")},z=n.__arabicParser__.processArabic=n.processArabic=function(){var M,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(B)){var te=0;for(V=[],te=0;te<B.length;te+=1)Array.isArray(B[te])?V.push([_(B[te][0]),B[te][1],B[te][2]]):V.push([_(B[te])]);M=V}else M=_(B);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",z])})(yt.API),yt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(M){A=M}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(M){I=M}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(M){_=M}});var z=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return z},set:function(M){z=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),I=d.scaleFactor||this.internal.scaleFactor,_=0,z=0,M=0,B=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var V=d.maxWidth;V>0?typeof f=="string"?f=this.splitTextToSize(f,V):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(ae,se){return ae.concat(B.splitTextToSize(se,V))},[])):f=Array.isArray(f)?f:[f];for(var te=0;te<f.length;te++)_<(M=this.getStringUnitWidth(f[te],{font:A})*v)&&(_=M);return _!==0&&(z=f.length),{w:_/=I,h:Math.max((z*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&I&&(this.printHeaderRow(f.lineNumber,!0),f.y+=I[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,I){if(r.call(this),!v)throw new Error("No data for PDF table.");var _,z,M,B,V=[],te=[],ae=[],se={},Se={},je=[],K=[],O=(I=I||{}).autoSize||!1,w=I.printHeaders!==!1,U=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,N=I.margins||Object.assign({width:this.getPageWidth()},e),C=typeof I.padding=="number"?I.padding:3,E=I.headerBackgroundColor||"#c8c8c8",H=I.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=H,this.setFontSize(U),A==null)te=V=Object.keys(v[0]),ae=V.map(function(){return"left"});else if(Array.isArray(A)&&Zn(A[0])==="object")for(V=A.map(function(Ee){return Ee.name}),te=A.map(function(Ee){return Ee.prompt||Ee.name||""}),ae=A.map(function(Ee){return Ee.align||"left"}),_=0;_<A.length;_+=1)Se[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(te=V=A,ae=V.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<V.length;_+=1){for(se[B=V[_]]=v.map(function(Ee){return Ee[B]}),this.setFont(void 0,"bold"),je.push(this.getTextDimensions(te[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),z=se[B],this.setFont(void 0,"normal"),M=0;M<z.length;M+=1)je.push(this.getTextDimensions(z[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Se[B]=Math.max.apply(null,je)+C+C,je=[]}if(w){var fe={};for(_=0;_<V.length;_+=1)fe[V[_]]={},fe[V[_]].text=te[_],fe[V[_]].align=ae[_];var ne=h.call(this,fe,Se);K=V.map(function(Ee){return new o(f,d,Se[Ee],ne,fe[Ee].text,void 0,fe[Ee].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var he=A.reduce(function(Ee,X){return Ee[X.name]=X.align,Ee},{});for(_=0;_<v.length;_+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:_,data:v[_]},this);var J=h.call(this,v[_],Se);for(M=0;M<V.length;M+=1){var de=v[_][V[M]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:_,col:M,data:de},this),c.call(this,new o(f,d,Se[V[M]],J,de,_+2,he[V[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(f).map(function(_){var z=f[_];return this.splitTextToSize(z.hasOwnProperty("text")?z.text:z,d[_]-v-v)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/I+v+v},this).reduce(function(_,z){return Math.max(_,z)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){v=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,I.push(v)),v.lineNumber=f;var z=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(z)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),t=!1}})(yt.API);var X4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Z4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H0=Q4(Z4),J4=[100,200,300,400,500,600,700,800,900],U7=Q4(J4);function n0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return X4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof H0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Mb(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var q7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ob={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function zb(n){return n.trimLeft()}function H7(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function G7(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var th,ap,Fb,Bb,Vb,i0=["times"];function Ub(n,e,t,r,s){var o=4,c=Hb;switch(s){case yt.API.image_compression.FAST:o=1,c=qb;break;case yt.API.image_compression.MEDIUM:o=6,c=Gb;break;case yt.API.image_compression.SLOW:o=9,c=Yb}n=(function(f,d,v,A){for(var I,_=f.length/d,z=new Uint8Array(f.length+_),M=[Y7,qb,Hb,Gb,Yb],B=0;B<_;B+=1){var V=B*d,te=f.subarray(V,V+d);if(A)z.set(A(te,v,I),V+B);else{for(var ae=M.length,se=[],Se=0;Se<ae;Se+=1)se[Se]=M[Se](te,v,I);var je=$7(se.concat());z.set(se[je],V+B)}I=te}return z})(n,e,Math.ceil(t*r/8),c);var h=P0(n,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(h)}function Y7(n){var e=Array.apply([],n);return e.unshift(0),e}function qb(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Hb(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;s[o+1]=n[o]-c+256&255}return s}function Gb(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;s[o+1]=n[o]+256-(c+h>>>1)&255}return s}function Yb(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=W7(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-c+256&255}return s}function W7(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function $7(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function r0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),c=(1<<t)-1;return ew(n,s)>>o&c}function Wb(n,e,t,r){var s=t*r,o=Math.floor(s/8),c=16-(s-8*o+r),h=(1<<r)-1,f=(e&h)<<c;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var I=A>>8&255;d.setUint8(v,I)}})(n,o,ew(n,o)&~(h<<c)&65535|f)}function ew(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function K7(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<1+(7&s);n[e++],n[e++];var h=null,f=null;o&&(h=e,f=c,e+=3*c);var d=!0,v=[],A=0,I=null,_=0,z=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,z=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[e++];A=n[e++]|n[e++]<<8,I=n[e++],1&M||(I=null),_=M>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var B=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,ae=n[e++]|n[e++]<<8,se=n[e++],Se=se>>6&1,je=1<<1+(7&se),K=h,O=f,w=!1;se>>7&&(w=!0,K=e,O=je,e+=3*je);var U=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}v.push({x:B,y:V,width:te,height:ae,has_local_palette:w,palette_offset:K,palette_size:O,data_offset:U,data_length:e-U,transparent_index:I,interlaced:!!Se,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return z},this.frameInfo=function(C){if(C<0||C>=v.length)throw new Error("Frame index out of range.");return v[C]},this.decodeAndBlitFrameBGRA=function(C,E){var H=this.frameInfo(C),fe=H.width*H.height,ne=new Uint8Array(fe);$b(n,H.data_offset,ne,fe);var he=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var de=H.width,Ee=t-de,X=de,k=4*(H.y*t+H.x),P=4*((H.y+H.height)*t+H.x),Y=k,W=4*Ee;H.interlaced===!0&&(W+=4*t*7);for(var re=8,pe=0,_e=ne.length;pe<_e;++pe){var me=ne[pe];if(X===0&&(X=de,(Y+=W)>=P&&(W=4*Ee+4*t*(re-1),Y=k+(de+Ee)*(re<<1),re>>=1)),me===J)Y+=4;else{var Oe=n[he+3*me],ge=n[he+3*me+1],Xe=n[he+3*me+2];E[Y++]=Xe,E[Y++]=ge,E[Y++]=Oe,E[Y++]=255}--X}},this.decodeAndBlitFrameRGBA=function(C,E){var H=this.frameInfo(C),fe=H.width*H.height,ne=new Uint8Array(fe);$b(n,H.data_offset,ne,fe);var he=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var de=H.width,Ee=t-de,X=de,k=4*(H.y*t+H.x),P=4*((H.y+H.height)*t+H.x),Y=k,W=4*Ee;H.interlaced===!0&&(W+=4*t*7);for(var re=8,pe=0,_e=ne.length;pe<_e;++pe){var me=ne[pe];if(X===0&&(X=de,(Y+=W)>=P&&(W=4*Ee+4*t*(re-1),Y=k+(de+Ee)*(re<<1),re>>=1)),me===J)Y+=4;else{var Oe=n[he+3*me],ge=n[he+3*me+1],Xe=n[he+3*me+2];E[Y++]=Oe,E[Y++]=ge,E[Y++]=Xe,E[Y++]=255}--X}}}function $b(n,e,t,r){for(var s=n[e++],o=1<<s,c=o+1,h=c+1,f=s+1,d=(1<<f)-1,v=0,A=0,I=0,_=n[e++],z=new Int32Array(4096),M=null;;){for(;v<16&&_!==0;)A|=n[e++]<<v,v+=8,_===1?_=n[e++]:--_;if(v<f)break;var B=A&d;if(A>>=f,v-=f,B!==o){if(B===c)break;for(var V=B<h?B:M,te=0,ae=V;ae>o;)ae=z[ae]>>8,++te;var se=ae;if(I+te+(V!==B?1:0)>r)return void hi.log("Warning, gif stream longer than expected.");t[I++]=se;var Se=I+=te;for(V!==B&&(t[I++]=se),ae=V;te--;)ae=z[ae],t[--Se]=255&ae,ae>>=8;M!==null&&h<4096&&(z[h++]=M<<8|se,h>=d+1&&f<12&&(++f,d=d<<1|1)),M=B}else h=c+1,d=(1<<(f=s+1))-1,M=null}return I!==r&&hi.log("Warning, gif stream shorter than expected."),t}function a0(n){var e,t,r,s,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),I=new Array(65535),_=new Array(64),z=new Array(64),M=[],B=0,V=7,te=new Array(64),ae=new Array(64),se=new Array(64),Se=new Array(256),je=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(k,P){for(var Y=0,W=0,re=new Array,pe=1;pe<=16;pe++){for(var _e=1;_e<=k[pe];_e++)re[P[W]]=[],re[P[W]][0]=Y,re[P[W]][1]=pe,W++,Y++;Y*=2}return re}function he(k){for(var P=k[0],Y=k[1]-1;Y>=0;)P&1<<Y&&(B|=1<<V),Y--,--V<0&&(B==255?(J(255),J(0)):J(B),V=7,B=0)}function J(k){M.push(k)}function de(k){J(k>>8&255),J(255&k)}function Ee(k,P,Y,W,re){for(var pe,_e=re[0],me=re[240],Oe=(function(qe,rt){var it,Nt,_t,$t,Jt,Vt,on,Qt,mt,Ht,vt=0;for(mt=0;mt<8;++mt){it=qe[vt],Nt=qe[vt+1],_t=qe[vt+2],$t=qe[vt+3],Jt=qe[vt+4],Vt=qe[vt+5],on=qe[vt+6];var fi=it+(Qt=qe[vt+7]),Xt=it-Qt,Ct=Nt+on,Pt=Nt-on,Kt=_t+Vt,St=_t-Vt,Ln=$t+Jt,Mt=$t-Jt,Ot=fi+Ln,Mn=fi-Ln,wt=Ct+Kt,bt=Ct-Kt;qe[vt]=Ot+wt,qe[vt+4]=Ot-wt;var ln=.707106781*(bt+Mn);qe[vt+2]=Mn+ln,qe[vt+6]=Mn-ln;var dr=.382683433*((Ot=Mt+St)-(bt=Pt+Xt)),er=.5411961*Ot+dr,Ra=1.306562965*bt+dr,Gi=.707106781*(wt=St+Pt),At=Xt+Gi,ts=Xt-Gi;qe[vt+5]=ts+er,qe[vt+3]=ts-er,qe[vt+1]=At+Ra,qe[vt+7]=At-Ra,vt+=8}for(vt=0,mt=0;mt<8;++mt){it=qe[vt],Nt=qe[vt+8],_t=qe[vt+16],$t=qe[vt+24],Jt=qe[vt+32],Vt=qe[vt+40],on=qe[vt+48];var Ur=it+(Qt=qe[vt+56]),Cr=it-Qt,Nr=Nt+on,Hn=Nt-on,Jn=_t+Vt,Mi=_t-Vt,pr=$t+Jt,tr=$t-Jt,On=Ur+pr,Wn=Ur-pr,Oi=Nr+Jn,jr=Nr-Jn;qe[vt]=On+Oi,qe[vt+32]=On-Oi;var aa=.707106781*(jr+Wn);qe[vt+16]=Wn+aa,qe[vt+48]=Wn-aa;var bs=.382683433*((On=tr+Mi)-(jr=Hn+Cr)),xa=.5411961*On+bs,Ir=1.306562965*jr+bs,ns=.707106781*(Oi=Mi+Hn),qr=Cr+ns,gr=Cr-ns;qe[vt+40]=gr+xa,qe[vt+24]=gr-xa,qe[vt+8]=qr+Ir,qe[vt+56]=qr-Ir,vt++}for(mt=0;mt<64;++mt)Ht=qe[mt]*rt[mt],_[mt]=Ht>0?Ht+.5|0:Ht-.5|0;return _})(k,P),ge=0;ge<64;++ge)z[K[ge]]=Oe[ge];var Xe=z[0]-Y;Y=z[0],Xe==0?he(W[0]):(he(W[I[pe=32767+Xe]]),he(A[pe]));for(var et=63;et>0&&z[et]==0;)et--;if(et==0)return he(_e),Y;for(var lt,oe=1;oe<=et;){for(var nt=oe;z[oe]==0&&oe<=et;)++oe;var Wt=oe-nt;if(Wt>=16){lt=Wt>>4;for(var Tt=1;Tt<=lt;++Tt)he(me);Wt&=15}pe=32767+z[oe],he(re[(Wt<<4)+I[pe]]),he(A[pe]),oe++}return et!=63&&he(_e),Y}function X(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(P){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var re=c((Y[W]*P+50)/100);re=Math.min(Math.max(re,1),255),h[K[W]]=re}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var me=c((pe[_e]*P+50)/100);me=Math.min(Math.max(me,1),255),f[K[_e]]=me}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,Xe=0;Xe<8;Xe++)for(var et=0;et<8;et++)d[ge]=1/(h[K[ge]]*Oe[Xe]*Oe[et]*8),v[ge]=1/(f[K[ge]]*Oe[Xe]*Oe[et]*8),ge++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,P){P&&X(P),M=new Array,B=0,V=7,de(65496),de(65504),de(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),de(1),de(1),J(0),J(0),(function(){de(65499),de(132),J(0);for(var Nt=0;Nt<64;Nt++)J(h[Nt]);J(1);for(var _t=0;_t<64;_t++)J(f[_t])})(),(function(Nt,_t){de(65472),de(17),J(8),de(_t),de(Nt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(k.width,k.height),(function(){de(65476),de(418),J(0);for(var Nt=0;Nt<16;Nt++)J(O[Nt+1]);for(var _t=0;_t<=11;_t++)J(w[_t]);J(16);for(var $t=0;$t<16;$t++)J(U[$t+1]);for(var Jt=0;Jt<=161;Jt++)J(N[Jt]);J(1);for(var Vt=0;Vt<16;Vt++)J(C[Vt+1]);for(var on=0;on<=11;on++)J(E[on]);J(17);for(var Qt=0;Qt<16;Qt++)J(H[Qt+1]);for(var mt=0;mt<=161;mt++)J(fe[mt])})(),de(65498),de(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Y=0,W=0,re=0;B=0,V=7,this.encode.displayName="_encode_";for(var pe,_e,me,Oe,ge,Xe,et,lt,oe,nt=k.data,Wt=k.width,Tt=k.height,qe=4*Wt,rt=0;rt<Tt;){for(pe=0;pe<qe;){for(ge=qe*rt+pe,et=-1,lt=0,oe=0;oe<64;oe++)Xe=ge+(lt=oe>>3)*qe+(et=4*(7&oe)),rt+lt>=Tt&&(Xe-=qe*(rt+1+lt-Tt)),pe+et>=qe&&(Xe-=pe+et-qe+4),_e=nt[Xe++],me=nt[Xe++],Oe=nt[Xe++],te[oe]=(je[_e]+je[me+256|0]+je[Oe+512|0]>>16)-128,ae[oe]=(je[_e+768|0]+je[me+1024|0]+je[Oe+1280|0]>>16)-128,se[oe]=(je[_e+1280|0]+je[me+1536|0]+je[Oe+1792|0]>>16)-128;Y=Ee(te,d,Y,e,r),W=Ee(ae,v,W,t,s),re=Ee(se,v,re,t,s),pe+=32}rt+=8}if(V>=0){var it=[];it[1]=V+1,it[0]=(1<<V+1)-1,he(it)}return de(65497),new Uint8Array(M)},n=n||50,(function(){for(var k=String.fromCharCode,P=0;P<256;P++)Se[P]=k(P)})(),e=ne(O,w),t=ne(C,E),r=ne(U,N),s=ne(H,fe),(function(){for(var k=1,P=2,Y=1;Y<=15;Y++){for(var W=k;W<P;W++)I[32767+W]=Y,A[32767+W]=[],A[32767+W][1]=Y,A[32767+W][0]=W;for(var re=-(P-1);re<=-k;re++)I[32767+re]=Y,A[32767+re]=[],A[32767+re][1]=Y,A[32767+re][0]=P-1+re;k<<=1,P<<=1}})(),(function(){for(var k=0;k<256;k++)je[k]=19595*k,je[k+256|0]=38470*k,je[k+512|0]=7471*k+32768,je[k+768|0]=-11059*k,je[k+1024|0]=-21709*k,je[k+1280|0]=32768*k+8421375,je[k+1536|0]=-27439*k,je[k+1792|0]=-5329*k})(),X(n)}function oo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kb(n){function e(w){if(!w)throw Error("assert :P")}function t(w,U,N){for(var C=0;4>C;C++)if(w[U+C]!=N.charCodeAt(C))return!0;return!1}function r(w,U,N,C,E){for(var H=0;H<E;H++)w[U+H]=N[C+H]}function s(w,U,N,C){for(var E=0;E<C;E++)w[U+E]=N}function o(w){return new Int32Array(w)}function c(w,U){for(var N=[],C=0;C<w;C++)N.push(new U);return N}function h(w,U){var N=[];return(function C(E,H,fe){for(var ne=fe[H],he=0;he<ne&&(E.push(fe.length>H+1?[]:new U),!(fe.length<H+1));he++)C(E[he],H+1,fe)})(N,0,w),N}var f=function(){var w=this;function U(g,b){for(var T=1<<b-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function N(g,b,T,R,q){e(!(R%T));do g[b+(R-=T)]=q;while(0<R)}function C(g,b,T,R,q){if(e(2328>=q),512>=q)var G=o(512);else if((G=o(q))==null)return 0;return(function($,Z,ie,ce,be,Re){var le,we,Ne=Z,Fe=1<<ie,Ie=o(16),ze=o(16);for(e(be!=0),e(ce!=null),e($!=null),e(0<ie),we=0;we<be;++we){if(15<ce[we])return 0;++Ie[ce[we]]}if(Ie[0]==be)return 0;for(ze[1]=0,le=1;15>le;++le){if(Ie[le]>1<<le)return 0;ze[le+1]=ze[le]+Ie[le]}for(we=0;we<be;++we)le=ce[we],0<ce[we]&&(Re[ze[le]++]=we);if(ze[15]==1)return(ce=new E).g=0,ce.value=Re[0],N($,Ne,1,Fe,ce),Fe;var Ue,Ze=-1,We=Fe-1,pt=0,st=1,Gt=1,ht=1<<ie;for(we=0,le=1,be=2;le<=ie;++le,be<<=1){if(st+=Gt<<=1,0>(Gt-=Ie[le]))return 0;for(;0<Ie[le];--Ie[le])(ce=new E).g=le,ce.value=Re[we++],N($,Ne+pt,be,ht,ce),pt=U(pt,le)}for(le=ie+1,be=2;15>=le;++le,be<<=1){if(st+=Gt<<=1,0>(Gt-=Ie[le]))return 0;for(;0<Ie[le];--Ie[le]){if(ce=new E,(pt&We)!=Ze){for(Ne+=ht,Ue=1<<(Ze=le)-ie;15>Ze&&!(0>=(Ue-=Ie[Ze]));)++Ze,Ue<<=1;Fe+=ht=1<<(Ue=Ze-ie),$[Z+(Ze=pt&We)].g=Ue+ie,$[Z+Ze].value=Ne-Z-Ze}ce.g=le-ie,ce.value=Re[we++],N($,Ne+(pt>>ie),be,ht,ce),pt=U(pt,le)}}return st!=2*ze[15]-1?0:Fe})(g,b,T,R,q,G)}function E(){this.value=this.g=0}function H(){this.value=this.g=0}function fe(){this.G=c(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Eo,H)}function ne(g,b,T,R){e(g!=null),e(b!=null),e(2147483648>R),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=T,g.Jd=b,g.Yc=T+R,g.Zc=4<=R?T+R-4+1:T,_e(g)}function he(g,b){for(var T=0;0<b--;)T|=Oe(g,128)<<b;return T}function J(g,b){var T=he(g,b);return me(g)?-T:T}function de(g,b,T,R){var q,G=0;for(e(g!=null),e(b!=null),e(4294967288>R),g.Sb=R,g.Ra=0,g.u=0,g.h=0,4<R&&(R=4),q=0;q<R;++q)G+=b[T+q]<<8*q;g.Ra=G,g.bb=R,g.oa=b,g.pa=T}function Ee(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Cs-8>>>0,++g.bb,g.u-=8;W(g)&&(g.h=1,g.u=0)}function X(g,b){if(e(0<=b),!g.h&&b<=Xr){var T=Y(g)&ca[b];return g.u+=b,Ee(g),T}return g.h=1,g.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&Cs-1)>>>0}function W(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Cs}function re(g,b){g.u=b,g.h=W(g)}function pe(g){g.u>=Ns&&(e(g.u>=Ns),Ee(g))}function _e(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function me(g){return he(g,1)}function Oe(g,b){var T=g.Ca;0>g.b&&_e(g);var R=g.b,q=T*b>>>8,G=(g.I>>>R>q)+0;for(G?(T-=q,g.I-=q+1<<R>>>0):T=q+1,R=T,q=0;256<=R;)q+=8,R>>=8;return R=7^q+$s[R],g.b-=R,g.Ca=(T<<R)-1,G}function ge(g,b,T){g[b+0]=T>>24&255,g[b+1]=T>>16&255,g[b+2]=T>>8&255,g[b+3]=255&T}function Xe(g,b){return g[b+0]|g[b+1]<<8}function et(g,b){return Xe(g,b)|g[b+2]<<16}function lt(g,b){return Xe(g,b)|Xe(g,b+2)<<16}function oe(g,b){var T=1<<b;return e(g!=null),e(0<b),g.X=o(T),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function nt(g,b){e(g!=null),e(b!=null),e(g.Xa==b.Xa),r(b.X,0,g.X,0,1<<b.Xa)}function Wt(){this.X=[],this.Xa=this.Mb=0}function Tt(g,b,T,R){e(T!=null),e(R!=null);var q=T[0],G=R[0];return q==0&&(q=(g*G+b/2)/b),G==0&&(G=(b*q+g/2)/g),0>=q||0>=G?0:(T[0]=q,R[0]=G,1)}function qe(g,b){return g+(1<<b)-1>>>b}function rt(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function it(g,b){w[b]=function(T,R,q,G,$,Z,ie){var ce;for(ce=0;ce<$;++ce){var be=w[g](Z[ie+ce-1],q,G+ce);Z[ie+ce]=rt(T[R+ce],be)}}}function Nt(){this.ud=this.hd=this.jd=0}function _t(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function $t(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Jt(g,b){return $t(g+(g-b+.5>>1))}function Vt(g,b,T){return Math.abs(b-T)-Math.abs(g-T)}function on(g,b,T,R,q,G,$){for(R=G[$-1],T=0;T<q;++T)G[$+T]=R=rt(g[b+T],R)}function Qt(g,b,T,R,q){var G;for(G=0;G<T;++G){var $=g[b+G],Z=$>>8&255,ie=16711935&(ie=(ie=16711935&$)+((Z<<16)+Z));R[q+G]=(4278255360&$)+ie>>>0}}function mt(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function Ht(g,b,T,R,q,G){var $;for($=0;$<R;++$){var Z=b[T+$],ie=Z>>>8,ce=Z,be=255&(be=(be=Z>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));ce=255&(ce=(ce+=(g.hd<<24>>24)*(ie<<24>>24)>>>5)+((g.ud<<24>>24)*(be<<24>>24)>>>5)),q[G+$]=(4278255360&Z)+(be<<16)+ce}}function vt(g,b,T,R,q){w[b]=function(G,$,Z,ie,ce,be,Re,le,we){for(ie=Re;ie<le;++ie)for(Re=0;Re<we;++Re)ce[be++]=q(Z[R(G[$++])])},w[g]=function(G,$,Z,ie,ce,be,Re){var le=8>>G.b,we=G.Ea,Ne=G.K[0],Fe=G.w;if(8>le)for(G=(1<<G.b)-1,Fe=(1<<le)-1;$<Z;++$){var Ie,ze=0;for(Ie=0;Ie<we;++Ie)Ie&G||(ze=R(ie[ce++])),be[Re++]=q(Ne[ze&Fe]),ze>>=le}else w["VP8LMapColor"+T](ie,ce,Ne,Fe,be,Re,$,Z,we)}}function fi(g,b,T,R,q){for(T=b+T;b<T;){var G=g[b++];R[q++]=G>>16&255,R[q++]=G>>8&255,R[q++]=255&G}}function Xt(g,b,T,R,q){for(T=b+T;b<T;){var G=g[b++];R[q++]=G>>16&255,R[q++]=G>>8&255,R[q++]=255&G,R[q++]=G>>24&255}}function Ct(g,b,T,R,q){for(T=b+T;b<T;){var G=($=g[b++])>>16&240|$>>12&15,$=240&$|$>>28&15;R[q++]=G,R[q++]=$}}function Pt(g,b,T,R,q){for(T=b+T;b<T;){var G=($=g[b++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;R[q++]=G,R[q++]=$}}function Kt(g,b,T,R,q){for(T=b+T;b<T;){var G=g[b++];R[q++]=255&G,R[q++]=G>>8&255,R[q++]=G>>16&255}}function St(g,b,T,R,q,G){if(G==0)for(T=b+T;b<T;)ge(R,((G=g[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else r(R,q,g,b,T)}function Ln(g,b){w[b][0]=w[g+"0"],w[b][1]=w[g+"1"],w[b][2]=w[g+"2"],w[b][3]=w[g+"3"],w[b][4]=w[g+"4"],w[b][5]=w[g+"5"],w[b][6]=w[g+"6"],w[b][7]=w[g+"7"],w[b][8]=w[g+"8"],w[b][9]=w[g+"9"],w[b][10]=w[g+"10"],w[b][11]=w[g+"11"],w[b][12]=w[g+"12"],w[b][13]=w[g+"13"],w[b][14]=w[g+"0"],w[b][15]=w[g+"0"]}function Mt(g){return g==Hu||g==Sc||g==Wl||g==Ac}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new Mn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function er(g,b){var T=g.T,R=b.ba.f.RGBA,q=R.eb,G=R.fb+g.ka*R.A,$=wr[b.ba.S],Z=g.y,ie=g.O,ce=g.f,be=g.N,Re=g.ea,le=g.W,we=b.cc,Ne=b.dc,Fe=b.Mc,Ie=b.Nc,ze=g.ka,Ue=g.ka+g.T,Ze=g.U,We=Ze+1>>1;for(ze==0?$(Z,ie,null,null,ce,be,Re,le,ce,be,Re,le,q,G,null,null,Ze):($(b.ec,b.fc,Z,ie,we,Ne,Fe,Ie,ce,be,Re,le,q,G-R.A,q,G,Ze),++T);ze+2<Ue;ze+=2)we=ce,Ne=be,Fe=Re,Ie=le,be+=g.Rc,le+=g.Rc,G+=2*R.A,$(Z,(ie+=2*g.fa)-g.fa,Z,ie,we,Ne,Fe,Ie,ce,be,Re,le,q,G-R.A,q,G,Ze);return ie+=g.fa,g.j+Ue<g.o?(r(b.ec,b.fc,Z,ie,Ze),r(b.cc,b.dc,ce,be,We),r(b.Mc,b.Nc,Re,le,We),T--):1&Ue||$(Z,ie,null,null,ce,be,Re,le,ce,be,Re,le,q,G+R.A,null,null,Ze),T}function Ra(g,b,T){var R=g.F,q=[g.J];if(R!=null){var G=g.U,$=b.ba.S,Z=$==qu||$==Wl;b=b.ba.f.RGBA;var ie=[0],ce=g.ka;ie[0]=g.T,g.Kb&&(ce==0?--ie[0]:(--ce,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-ce));var be=b.eb;ce=b.fb+ce*b.A,g=Fu(R,q[0],g.width,G,ie,be,ce+(Z?0:3),b.A),e(T==ie),g&&Mt($)&&ll(be,ce,Z,G,ie,b.A)}return 0}function Gi(g){var b=g.ma,T=b.ba.S,R=11>T,q=T==Or||T==Fa||T==qu||T==Yl||T==12||Mt(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ws(b.Oa,g,q?11:12))return 0;if(q&&Mt(T)&&qt(),g.da)alert("todo:use_scaling");else{if(R){if(b.Ib=dr,g.Kb){if(T=g.U+1>>1,b.memory=o(g.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=er,qt()}}else alert("todo:EmitYUV");q&&(b.Jb=Ra,R&&ke())}if(R&&!Lo){for(g=0;256>g;++g)Sr[g]=89858*(g-128)+Ql>>Ga,c1[g]=-22014*(g-128)+Ql,id[g]=-45773*(g-128),jc[g]=113618*(g-128)+Ql>>Ga;for(g=fl;g<Ro;++g)b=76283*(g-16)+Ql>>Ga,h1[g-fl]=Gr(b,255),f1[g-fl]=Gr(b+8>>4,15);Lo=1}return 1}function At(g){var b=g.ma,T=g.U,R=g.T;return e(!(1&g.ka)),0>=T||0>=R?0:(T=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,T),b.Dc+=T,1)}function ts(g){g.ma.memory=null}function Ur(g,b,T,R){return X(g,8)!=47?0:(b[0]=X(g,14)+1,T[0]=X(g,14)+1,R[0]=X(g,1),X(g,3)!=0?0:!g.h)}function Cr(g,b){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+X(b,T)+1}function Nr(g,b){return 120<b?b-120:1<=(T=((T=Va[b-1])>>4)*g+(8-(15&T)))?T:1;var T}function Hn(g,b,T){var R=Y(T),q=g[b+=255&R].g-8;return 0<q&&(re(T,T.u+8),R=Y(T),b+=g[b].value,b+=R&(1<<q)-1),re(T,T.u+g[b].g),g[b].value}function Jn(g,b,T){return T.g+=g.g,T.value+=g.value<<b>>>0,e(8>=T.g),g.g}function Mi(g,b,T){var R=g.xc;return e((b=R==0?0:g.vc[g.md*(T>>R)+(b>>R)])<g.Wb),g.Ya[b]}function pr(g,b,T,R){var q=g.ab,G=g.c*b,$=g.C;b=$+b;var Z=T,ie=R;for(R=g.Ta,T=g.Ua;0<q--;){var ce=g.gc[q],be=$,Re=b,le=Z,we=ie,Ne=(ie=R,Z=T,ce.Ea);switch(e(be<Re),e(Re<=ce.nc),ce.hc){case 2:Ii(le,we,(Re-be)*Ne,ie,Z);break;case 0:var Fe=be,Ie=Re,ze=ie,Ue=Z,Ze=(ht=ce).Ea;Fe==0&&(Ul(le,we,null,null,1,ze,Ue),on(le,we+1,0,0,Ze-1,ze,Ue+1),we+=Ze,Ue+=Ze,++Fe);for(var We=1<<ht.b,pt=We-1,st=qe(Ze,ht.b),Gt=ht.K,ht=ht.w+(Fe>>ht.b)*st;Fe<Ie;){var pn=Gt,ui=ht,en=1;for(ql(le,we,ze,Ue-Ze,1,ze,Ue);en<Ze;){var ot=(en&~pt)+We;ot>Ze&&(ot=Ze),(0,Ks[pn[ui++]>>8&15])(le,we+ +en,ze,Ue+en-Ze,ot-en,ze,Ue+en),en=ot}we+=Ze,Ue+=Ze,++Fe&pt||(ht+=st)}Re!=ce.nc&&r(ie,Z-Ne,ie,Z+(Re-be-1)*Ne,Ne);break;case 1:for(Ne=le,Ie=we,Ze=(le=ce.Ea)-(Ue=le&~(ze=(we=1<<ce.b)-1)),Fe=qe(le,ce.b),We=ce.K,ce=ce.w+(be>>ce.b)*Fe;be<Re;){for(pt=We,st=ce,Gt=new Nt,ht=Ie+Ue,pn=Ie+le;Ie<ht;)mt(pt[st++],Gt),Hl(Gt,Ne,Ie,we,ie,Z),Ie+=we,Z+=we;Ie<pn&&(mt(pt[st++],Gt),Hl(Gt,Ne,Ie,Ze,ie,Z),Ie+=Ze,Z+=Ze),++be&ze||(ce+=Fe)}break;case 3:if(le==ie&&we==Z&&0<ce.b){for(Ie=ie,le=Ne=Z+(Re-be)*Ne-(Ue=(Re-be)*qe(ce.Ea,ce.b)),we=ie,ze=Z,Fe=[],Ue=(Ze=Ue)-1;0<=Ue;--Ue)Fe[Ue]=we[ze+Ue];for(Ue=Ze-1;0<=Ue;--Ue)Ie[le+Ue]=Fe[Ue];vc(ce,be,Re,ie,Ne,ie,Z)}else vc(ce,be,Re,le,we,ie,Z)}Z=R,ie=T}ie!=T&&r(R,T,Z,ie,G)}function tr(g,b){var T=g.V,R=g.Ba+g.c*g.C,q=b-g.C;if(e(b<=g.l.o),e(16>=q),0<q){var G=g.l,$=g.Ta,Z=g.Ua,ie=G.width;if(pr(g,q,T,R),q=Z=[Z],e((T=g.C)<(R=b)),e(G.v<G.va),R>G.o&&(R=G.o),T<G.j){var ce=G.j-T;T=G.j,q[0]+=ce*ie}if(T>=R?T=0:(q[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=R-T,T=1),T){if(Z=Z[0],11>(T=g.ca).S){var be=T.f.RGBA,Re=(R=T.S,q=G.U,G=G.T,ce=be.eb,be.A),le=G;for(be=be.fb+g.Ma*be.A;0<le--;){var we=$,Ne=Z,Fe=q,Ie=ce,ze=be;switch(R){case _c:Gl(we,Ne,Fe,Ie,ze);break;case Or:Qs(we,Ne,Fe,Ie,ze);break;case Hu:Qs(we,Ne,Fe,Ie,ze),ll(Ie,ze,0,Fe,1,0);break;case wc:sl(we,Ne,Fe,Ie,ze);break;case Fa:St(we,Ne,Fe,Ie,ze,1);break;case Sc:St(we,Ne,Fe,Ie,ze,1),ll(Ie,ze,0,Fe,1,0);break;case qu:St(we,Ne,Fe,Ie,ze,0);break;case Wl:St(we,Ne,Fe,Ie,ze,0),ll(Ie,ze,1,Fe,1,0);break;case Yl:Xs(we,Ne,Fe,Ie,ze);break;case Ac:Xs(we,Ne,Fe,Ie,ze),za(Ie,ze,Fe,1,0);break;case To:Rs(we,Ne,Fe,Ie,ze);break;default:e(0)}Z+=ie,be+=Re}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=T.height)}}g.C=b,e(g.C<=g.i)}function On(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var T=g.Ya[b].G,R=g.Ya[b].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function Wn(g,b,T,R,q,G){if(g.Z!=0){var $=g.qd,Z=g.rd;for(e(eo[g.Z]!=null);b<T;++b)eo[g.Z]($,Z,R,q,R,q,G),$=R,Z=q,q+=G;g.qd=$,g.rd=Z}}function Oi(g,b){var T=g.l.ma,R=T.Z==0||T.Z==1?g.l.j:g.C;if(R=g.C<R?R:g.C,e(b<=g.l.o),b>R){var q=g.l.width,G=T.ca,$=T.tb+q*R,Z=g.V,ie=g.Ba+g.c*R,ce=g.gc;e(g.ab==1),e(ce[0].hc==3),Is(ce[0],R,b,Z,ie,G,$),Wn(T,R,b,G,$,q)}g.C=g.Ma=b}function jr(g,b,T,R,q,G,$){var Z=g.$/R,ie=g.$%R,ce=g.m,be=g.s,Re=T+g.$,le=Re;q=T+R*q;var we=T+R*G,Ne=280+be.ua,Fe=g.Pb?Z:16777216,Ie=0<be.ua?be.Wa:null,ze=be.wc,Ue=Re<we?Mi(be,ie,Z):null;e(g.C<G),e(we<=q);var Ze=!1;e:for(;;){for(;Ze||Re<we;){var We=0;if(Z>=Fe){var pt=Re-T;e((Fe=g).Pb),Fe.wd=Fe.m,Fe.xd=pt,0<Fe.s.ua&&nt(Fe.s.Wa,Fe.s.vb),Fe=Z+Co}if(ie&ze||(Ue=Mi(be,ie,Z)),e(Ue!=null),Ue.Qb&&(b[Re]=Ue.qb,Ze=!0),!Ze)if(pe(ce),Ue.jc){We=ce,pt=b;var st=Re,Gt=Ue.pd[Y(We)&Eo-1];e(Ue.jc),256>Gt.g?(re(We,We.u+Gt.g),pt[st]=Gt.value,We=0):(re(We,We.u+Gt.g-256),e(256<=Gt.value),We=Gt.value),We==0&&(Ze=!0)}else We=Hn(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Ze||256>We){if(!Ze)if(Ue.nd)b[Re]=(Ue.qb|We<<8)>>>0;else{if(pe(ce),Ze=Hn(Ue.G[1],Ue.H[1],ce),pe(ce),pt=Hn(Ue.G[2],Ue.H[2],ce),st=Hn(Ue.G[3],Ue.H[3],ce),ce.h)break;b[Re]=(st<<24|Ze<<16|We<<8|pt)>>>0}if(Ze=!1,++Re,++ie>=R&&(ie=0,++Z,$!=null&&Z<=G&&!(Z%16)&&$(g,Z),Ie!=null))for(;le<Re;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=Cr(We-256,ce),pt=Hn(Ue.G[4],Ue.H[4],ce),pe(ce),pt=Nr(R,pt=Cr(pt,ce)),ce.h)break;if(Re-T<pt||q-Re<We)break e;for(st=0;st<We;++st)b[Re+st]=b[Re+st-pt];for(Re+=We,ie+=We;ie>=R;)ie-=R,++Z,$!=null&&Z<=G&&!(Z%16)&&$(g,Z);if(e(Re<=q),ie&ze&&(Ue=Mi(be,ie,Z)),Ie!=null)for(;le<Re;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Ne))break e;for(Ze=We-280,e(Ie!=null);le<Re;)We=b[le++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=Re,e(!(Ze>>>(pt=Ie).Xa)),b[We]=pt.X[Ze],Ze=!0}Ze||e(ce.h==W(ce))}if(g.Pb&&ce.h&&Re<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&nt(g.s.vb,g.s.Wa);else{if(ce.h)break e;$?.(g,Z>G?G:Z),g.a=0,g.$=Re-T}return 1}return g.a=3,0}function aa(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,e(g!=null)}function bs(){var g=new Rt;return g==null?null:(g.a=0,g.xb=Oh,Ln("Predictor","VP8LPredictors"),Ln("Predictor","VP8LPredictors_C"),Ln("PredictorAdd","VP8LPredictorsAdd"),Ln("PredictorAdd","VP8LPredictorsAdd_C"),Ii=Qt,Hl=Ht,Gl=fi,Qs=Xt,Xs=Ct,Rs=Pt,sl=Kt,w.VP8LMapColor32b=js,w.VP8LMapColor8b=br,g)}function xa(g,b,T,R,q){var G=1,$=[g],Z=[b],ie=R.m,ce=R.s,be=null,Re=0;e:for(;;){if(T)for(;G&&X(ie,1);){var le=$,we=Z,Ne=R,Fe=1,Ie=Ne.m,ze=Ne.gc[Ne.ab],Ue=X(Ie,2);if(Ne.Oc&1<<Ue)G=0;else{switch(Ne.Oc|=1<<Ue,ze.hc=Ue,ze.Ea=le[0],ze.nc=we[0],ze.K=[null],++Ne.ab,e(4>=Ne.ab),Ue){case 0:case 1:ze.b=X(Ie,3)+2,Fe=xa(qe(ze.Ea,ze.b),qe(ze.nc,ze.b),0,Ne,ze.K),ze.K=ze.K[0];break;case 3:var Ze,We=X(Ie,8)+1,pt=16<We?0:4<We?1:2<We?2:3;if(le[0]=qe(ze.Ea,pt),ze.b=pt,Ze=Fe=xa(We,1,0,Ne,ze.K)){var st,Gt=We,ht=ze,pn=1<<(8>>ht.b),ui=o(pn);if(ui==null)Ze=0;else{var en=ht.K[0],ot=ht.w;for(ui[0]=ht.K[0][0],st=1;st<1*Gt;++st)ui[st]=rt(en[ot+st],ui[st-1]);for(;st<4*pn;++st)ui[st]=0;ht.K[0]=null,ht.K[0]=ui,Ze=1}}Fe=Ze;break;case 2:break;default:e(0)}G=Fe}}if($=$[0],Z=Z[0],G&&X(ie,1)&&!(G=1<=(Re=X(ie,4))&&11>=Re)){R.a=3;break e}var tt;if(tt=G)t:{var gi,zt,an,Vn=R,$i=$,Ar=Z,ii=Re,zi=T,Pr=Vn.m,Fi=Vn.s,hn=[null],En=1,mi=0,kn=Ua[ii];n:for(;;){if(zi&&X(Pr,1)){var Ki=X(Pr,3)+2,yi=qe($i,Ki),Tn=qe(Ar,Ki),Di=yi*Tn;if(!xa(yi,Tn,0,Vn,hn))break n;for(hn=hn[0],Fi.xc=Ki,gi=0;gi<Di;++gi){var Un=hn[gi]>>8&65535;hn[gi]=Un,Un>=En&&(En=Un+1)}}if(Pr.h)break n;for(zt=0;5>zt;++zt){var Bi=cl[zt];!zt&&0<ii&&(Bi+=1<<ii),mi<Bi&&(mi=Bi)}var Vi=c(En*kn,E),Kn=En,An=c(Kn,fe);if(An==null)var zr=null;else e(65536>=Kn),zr=An;var Ai=o(mi);if(zr==null||Ai==null||Vi==null){Vn.a=1;break n}var It=Vi;for(gi=an=0;gi<En;++gi){var Lt=zr[gi],Cn=Lt.G,ha=Lt.H,Ya=0,Jr=1,Ui=0;for(zt=0;5>zt;++zt){Bi=cl[zt],Cn[zt]=It,ha[zt]=an,!zt&&0<ii&&(Bi+=1<<ii);r:{var Do,ko=Bi,Rc=Vn,ri=Ai,zh=It,Fh=an,Lc=0,to=Rc.m,d1=X(to,1);if(s(ri,0,0,ko),d1){var Bh=X(to,1)+1,Vh=X(to,1),Dc=X(to,Vh==0?1:8);ri[Dc]=1,Bh==2&&(ri[Dc=X(to,8)]=1);var ar=1}else{var Ei=o(19),$u=X(to,4)+4;if(19<$u){Rc.a=3;var Mo=0;break r}for(Do=0;Do<$u;++Do)Ei[Gu[Do]]=X(to,3);var Zl=void 0,dl=void 0,ks=Rc,kc=Ei,Jl=ko,Mc=ri,Oc=0,no=ks.m,Uh=8,qh=c(128,E);i:for(;C(qh,0,7,kc,19);){if(X(no,1)){var rd=2+2*X(no,3);if((Zl=2+X(no,rd))>Jl)break i}else Zl=Jl;for(dl=0;dl<Jl&&Zl--;){pe(no);var Hh=qh[0+(127&Y(no))];re(no,no.u+Hh.g);var Oo=Hh.value;if(16>Oo)Mc[dl++]=Oo,Oo!=0&&(Uh=Oo);else{var ad=Oo==16,sd=Oo-16,od=$l[sd],Gh=X(no,Ba[sd])+od;if(dl+Gh>Jl)break i;for(var ld=ad?Uh:0;0<Gh--;)Mc[dl++]=ld}}Oc=1;break i}Oc||(ks.a=3),ar=Oc}(ar=ar&&!to.h)&&(Lc=C(zh,Fh,8,ri,ko)),ar&&Lc!=0?Mo=Lc:(Rc.a=3,Mo=0)}if(Mo==0)break n;if(Jr&&Ec[zt]==1&&(Jr=It[an].g==0),Ya+=It[an].g,an+=Mo,3>=zt){var pl,Pc=Ai[0];for(pl=1;pl<Bi;++pl)Ai[pl]>Pc&&(Pc=Ai[pl]);Ui+=Pc}}if(Lt.nd=Jr,Lt.Qb=0,Jr&&(Lt.qb=(Cn[3][ha[3]+0].value<<24|Cn[1][ha[1]+0].value<<16|Cn[2][ha[2]+0].value)>>>0,Ya==0&&256>Cn[0][ha[0]+0].value&&(Lt.Qb=1,Lt.qb+=Cn[0][ha[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>Ui,Lt.jc){var Ku,Ms=Lt;for(Ku=0;Ku<Eo;++Ku){var io=Ku,ro=Ms.pd[io],zc=Ms.G[0][Ms.H[0]+io];256<=zc.value?(ro.g=zc.g+256,ro.value=zc.value):(ro.g=0,ro.value=0,io>>=Jn(zc,8,ro),io>>=Jn(Ms.G[1][Ms.H[1]+io],16,ro),io>>=Jn(Ms.G[2][Ms.H[2]+io],0,ro),Jn(Ms.G[3][Ms.H[3]+io],24,ro))}}}Fi.vc=hn,Fi.Wb=En,Fi.Ya=zr,Fi.yc=Vi,tt=1;break t}tt=0}if(!(G=tt)){R.a=3;break e}if(0<Re){if(ce.ua=1<<Re,!oe(ce.Wa,Re)){R.a=1,G=0;break e}}else ce.ua=0;var Fc=R,gl=$,ud=Z,eu=Fc.s,tu=eu.xc;if(Fc.c=gl,Fc.i=ud,eu.md=qe(gl,tu),eu.wc=tu==0?-1:(1<<tu)-1,T){R.xb=No;break e}if((be=o($*Z))==null){R.a=1,G=0;break e}G=(G=jr(R,be,0,$,Z,Z,null))&&!ie.h;break e}return G?(q!=null?q[0]=be:(e(be==null),e(T)),R.$=0,T||aa(ce)):aa(ce),G}function Ir(g,b){var T=g.c*g.i,R=T+b+16*b;return e(g.c<=b),g.V=o(R),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+b,1)}function ns(g,b){var T=g.C,R=b-T,q=g.V,G=g.Ba+g.c*T;for(e(b<=g.l.o);0<R;){var $=16<R?16:R,Z=g.l.ma,ie=g.l.width,ce=ie*$,be=Z.ca,Re=Z.tb+ie*T,le=g.Ta,we=g.Ua;pr(g,$,q,G),Na(le,we,be,Re,ce),Wn(Z,T,T+$,be,Re,ie),R-=$,q+=$*g.c,T+=$}e(T==b),g.C=g.Ma=b}function qr(){this.ub=this.yd=this.td=this.Rb=0}function gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function sa(){this.Yb=(function(){var g=[];return(function b(T,R,q){for(var G=q[R],$=0;$<G&&(T.push(q.length>R+1?[]:0),!(q.length<R+1));$++)b(T[$],R+1,q)})(g,0,[3,11]),g})()}function pi(){this.jb=o(3),this.Wc=h([4,8],sa),this.Xc=h([4,17],sa)}function yo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Rr(){this.ld=this.La=this.dd=this.tc=0}function oa(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rr),this.Y=0,this.ya=Array(new Bs),this.aa=0,this.l=new nr}function bo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Jo(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new qr,this.Kc=new gr,this.ed=new yo,this.Qa=new Hr,this.Ic=this.$c=this.Aa=0,this.D=new vo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,_a),this.Pa=new pi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bo),this.Hd=0,this.rb=Array(new oa),this.sb=0,this.wa=Array(new Rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bs),this.L=this.aa=0,this.gd=h([4,2],Rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(g,b){return 0>g?0:g>b?b:g}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var g=new Jo;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ja||(ja=vn)),g}function fn(g,b,T){return g.a==0&&(g.a=b,g.sc=T,g.cb=0),0}function is(g,b,T){return 3<=T&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function la(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return fn(g,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,R=b.w,q=b.ha;if(4>q)return fn(g,7,"Truncated header.");var G=T[R+0]|T[R+1]<<8|T[R+2]<<16,$=g.Od;if($.Rb=!(1&G),$.td=G>>1&7,$.yd=G>>4&1,$.ub=G>>5,3<$.td)return fn(g,3,"Incorrect keyframe parameters.");if(!$.yd)return fn(g,4,"Frame not displayable.");R+=3,q-=3;var Z=g.Kc;if($.Rb){if(7>q)return fn(g,7,"cannot parse picture header");if(!is(T,R,q))return fn(g,3,"Bad code word");Z.c=16383&(T[R+4]<<8|T[R+3]),Z.Td=T[R+4]>>6,Z.i=16383&(T[R+6]<<8|T[R+5]),Z.Ud=T[R+6]>>6,R+=7,q-=7,g.za=Z.c+15>>4,g.Ub=Z.i+15>>4,b.width=Z.c,b.height=Z.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((G=g.Pa).jb,0,255,G.jb.length),e((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if($.ub>q)return fn(g,7,"bad partition length");ne(G=g.m,T,R,$.ub),R+=$.ub,q-=$.ub,$.Rb&&(Z.Ld=me(G),Z.Kd=me(G)),Z=g.Qa;var ie,ce=g.Pa;if(e(G!=null),e(Z!=null),Z.Cb=me(G),Z.Cb){if(Z.Bb=me(G),me(G)){for(Z.Fb=me(G),ie=0;4>ie;++ie)Z.Zb[ie]=me(G)?J(G,7):0;for(ie=0;4>ie;++ie)Z.Lb[ie]=me(G)?J(G,6):0}if(Z.Bb)for(ie=0;3>ie;++ie)ce.jb[ie]=me(G)?he(G,8):255}else Z.Bb=0;if(G.Ka)return fn(g,3,"cannot parse segment header");if((Z=g.ed).zd=me(G),Z.Tb=he(G,6),Z.wb=he(G,3),Z.Pc=me(G),Z.Pc&&me(G)){for(ce=0;4>ce;++ce)me(G)&&(Z.vd[ce]=J(G,6));for(ce=0;4>ce;++ce)me(G)&&(Z.od[ce]=J(G,6))}if(g.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return fn(g,3,"cannot parse filter header");var be=q;if(q=ie=R,R=ie+be,Z=be,g.Xb=(1<<he(g.m,2))-1,be<3*(ce=g.Xb))T=7;else{for(ie+=3*ce,Z-=3*ce,be=0;be<ce;++be){var Re=T[q+0]|T[q+1]<<8|T[q+2]<<16;Re>Z&&(Re=Z),ne(g.Jc[+be],T,ie,Re),ie+=Re,Z-=Re,q+=3}ne(g.Jc[+ce],T,ie,Z),T=ie<R?0:5}if(T!=0)return fn(g,T,"cannot parse partitions");for(T=he(ie=g.m,7),q=me(ie)?J(ie,4):0,R=me(ie)?J(ie,4):0,Z=me(ie)?J(ie,4):0,ce=me(ie)?J(ie,4):0,ie=me(ie)?J(ie,4):0,be=g.Qa,Re=0;4>Re;++Re){if(be.Cb){var le=be.Zb[Re];be.Fb||(le+=T)}else{if(0<Re){g.pb[Re]=g.pb[0];continue}le=T}var we=g.pb[Re];we.Sc[0]=qa[Gr(le+q,127)],we.Sc[1]=Ha[Gr(le+0,127)],we.Eb[0]=2*qa[Gr(le+R,127)],we.Eb[1]=101581*Ha[Gr(le+Z,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=qa[Gr(le+ce,117)],we.Qc[1]=Ha[Gr(le+ie,127)],we.lc=le+ie}if(!$.Rb)return fn(g,4,"Not a key frame.");for(me(G),$=g.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(R=0;3>R;++R)for(Z=0;11>Z;++Z)ce=Oe(G,li[T][q][R][Z])?he(G,8):nd[T][q][R][Z],$.Wc[T][q].Yb[R][Z]=ce;for(q=0;17>q;++q)$.Xc[T][q]=$.Wc[T][gn[q]]}return g.kc=me(G),g.kc&&(g.Bd=he(G,8)),g.cb=1}function vn(g,b,T,R,q,G,$){var Z=b[q].Yb[T];for(T=0;16>q;++q){if(!Oe(g,Z[T+0]))return q;for(;!Oe(g,Z[T+1]);)if(Z=b[++q].Yb[0],T=0,q==16)return 16;var ie=b[q+1].Yb;if(Oe(g,Z[T+2])){var ce=g,be=0;if(Oe(ce,(le=Z)[(Re=T)+3]))if(Oe(ce,le[Re+6])){for(Z=0,Re=2*(be=Oe(ce,le[Re+8]))+(le=Oe(ce,le[Re+9+be])),be=0,le=td[Re];le[Z];++Z)be+=be+Oe(ce,le[Z]);be+=3+(8<<Re)}else Oe(ce,le[Re+7])?(be=7+2*Oe(ce,165),be+=Oe(ce,145)):be=5+Oe(ce,159);else be=Oe(ce,le[Re+4])?3+Oe(ce,le[Re+5]):2;Z=ie[2]}else be=1,Z=ie[1];ie=$+Mh[q],0>(ce=g).b&&_e(ce);var Re,le=ce.b,we=(Re=ce.Ca>>1)-(ce.I>>le)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Re+1&we)<<le,G[ie]=((be^we)-we)*R[(0<q)+0]}return 16}function xs(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Ni(g,b,T,R,q){q=g[b+T+32*R]+(q>>3),g[b+T+32*R]=-256&q?0>q?0:255:q}function oi(g,b,T,R,q,G){Ni(g,b,0,T,R+q),Ni(g,b,1,T,R+G),Ni(g,b,2,T,R-G),Ni(g,b,3,T,R-q)}function wi(g){return(20091*g>>16)+g}function Vs(g,b,T,R){var q,G=0,$=o(16);for(q=0;4>q;++q){var Z=g[b+0]+g[b+8],ie=g[b+0]-g[b+8],ce=(35468*g[b+4]>>16)-wi(g[b+12]),be=wi(g[b+4])+(35468*g[b+12]>>16);$[G+0]=Z+be,$[G+1]=ie+ce,$[G+2]=ie-ce,$[G+3]=Z-be,G+=4,b++}for(q=G=0;4>q;++q)Z=(g=$[G+0]+4)+$[G+8],ie=g-$[G+8],ce=(35468*$[G+4]>>16)-wi($[G+12]),Ni(T,R,0,0,Z+(be=wi($[G+4])+(35468*$[G+12]>>16))),Ni(T,R,1,0,ie+ce),Ni(T,R,2,0,ie-ce),Ni(T,R,3,0,Z-be),G++,R+=32}function Bl(g,b,T,R){var q=g[b+0]+4,G=35468*g[b+4]>>16,$=wi(g[b+4]),Z=35468*g[b+1]>>16;oi(T,R,0,q+$,g=wi(g[b+1]),Z),oi(T,R,1,q+G,g,Z),oi(T,R,2,q-G,g,Z),oi(T,R,3,q-$,g,Z)}function el(g,b,T,R,q){Vs(g,b,T,R),q&&Vs(g,b+16,T,R+4)}function mr(g,b,T,R){Zs(g,b+0,T,R,1),Zs(g,b+32,T,R+128,1)}function tl(g,b,T,R){var q;for(g=g[b+0]+4,q=0;4>q;++q)for(b=0;4>b;++b)Ni(T,R,b,q,g)}function rs(g,b,T,R){g[b+0]&&Dn(g,b+0,T,R),g[b+16]&&Dn(g,b+16,T,R+4),g[b+32]&&Dn(g,b+32,T,R+128),g[b+48]&&Dn(g,b+48,T,R+128+4)}function Yi(g,b,T,R){var q,G=o(16);for(q=0;4>q;++q){var $=g[b+0+q]+g[b+12+q],Z=g[b+4+q]+g[b+8+q],ie=g[b+4+q]-g[b+8+q],ce=g[b+0+q]-g[b+12+q];G[0+q]=$+Z,G[8+q]=$-Z,G[4+q]=ce+ie,G[12+q]=ce-ie}for(q=0;4>q;++q)$=(g=G[0+4*q]+3)+G[3+4*q],Z=G[1+4*q]+G[2+4*q],ie=G[1+4*q]-G[2+4*q],ce=g-G[3+4*q],T[R+0]=$+Z>>3,T[R+16]=ce+ie>>3,T[R+32]=$-Z>>3,T[R+48]=ce-ie>>3,R+=64}function _s(g,b,T){var R,q=b-32,G=Mr,$=255-g[q-1];for(R=0;R<T;++R){var Z,ie=G,ce=$+g[b-1];for(Z=0;Z<T;++Z)g[b+Z]=ie[ce+g[q+Z]];b+=32}}function nl(g,b){_s(g,b,4)}function il(g,b){_s(g,b,8)}function xo(g,b){_s(g,b,16)}function _o(g,b){var T;for(T=0;16>T;++T)r(g,b+32*T,g,b-32,16)}function as(g,b){var T;for(T=16;0<T;--T)s(g,b,g[b-1],16),b+=32}function Lr(g,b,T){var R;for(R=0;16>R;++R)s(b,T+32*R,g,16)}function wa(g,b){var T,R=16;for(T=0;16>T;++T)R+=g[b-1+32*T]+g[b+T-32];Lr(R>>5,g,b)}function ss(g,b){var T,R=8;for(T=0;16>T;++T)R+=g[b-1+32*T];Lr(R>>4,g,b)}function Dr(g,b){var T,R=8;for(T=0;16>T;++T)R+=g[b+T-32];Lr(R>>4,g,b)}function ws(g,b){Lr(128,g,b)}function jt(g,b,T){return g+2*b+T+2>>2}function Us(g,b){var T,R=b-32;for(R=new Uint8Array([jt(g[R-1],g[R+0],g[R+1]),jt(g[R+0],g[R+1],g[R+2]),jt(g[R+1],g[R+2],g[R+3]),jt(g[R+2],g[R+3],g[R+4])]),T=0;4>T;++T)r(g,b+32*T,R,0,R.length)}function wo(g,b){var T=g[b-1],R=g[b-1+32],q=g[b-1+64],G=g[b-1+96];ge(g,b+0,16843009*jt(g[b-1-32],T,R)),ge(g,b+32,16843009*jt(T,R,q)),ge(g,b+64,16843009*jt(R,q,G)),ge(g,b+96,16843009*jt(q,G,G))}function Ss(g,b){var T,R=4;for(T=0;4>T;++T)R+=g[b+T-32]+g[b-1+32*T];for(R>>=3,T=0;4>T;++T)s(g,b+32*T,R,4)}function Wi(g,b){var T=g[b-1+0],R=g[b-1+32],q=g[b-1+64],G=g[b-1-32],$=g[b+0-32],Z=g[b+1-32],ie=g[b+2-32],ce=g[b+3-32];g[b+0+96]=jt(R,q,g[b-1+96]),g[b+1+96]=g[b+0+64]=jt(T,R,q),g[b+2+96]=g[b+1+64]=g[b+0+32]=jt(G,T,R),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=jt($,G,T),g[b+3+64]=g[b+2+32]=g[b+1+0]=jt(Z,$,G),g[b+3+32]=g[b+2+0]=jt(ie,Z,$),g[b+3+0]=jt(ce,ie,Z)}function Pi(g,b){var T=g[b+1-32],R=g[b+2-32],q=g[b+3-32],G=g[b+4-32],$=g[b+5-32],Z=g[b+6-32],ie=g[b+7-32];g[b+0+0]=jt(g[b+0-32],T,R),g[b+1+0]=g[b+0+32]=jt(T,R,q),g[b+2+0]=g[b+1+32]=g[b+0+64]=jt(R,q,G),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=jt(q,G,$),g[b+3+32]=g[b+2+64]=g[b+1+96]=jt(G,$,Z),g[b+3+64]=g[b+2+96]=jt($,Z,ie),g[b+3+96]=jt(Z,ie,ie)}function qs(g,b){var T=g[b-1+0],R=g[b-1+32],q=g[b-1+64],G=g[b-1-32],$=g[b+0-32],Z=g[b+1-32],ie=g[b+2-32],ce=g[b+3-32];g[b+0+0]=g[b+1+64]=G+$+1>>1,g[b+1+0]=g[b+2+64]=$+Z+1>>1,g[b+2+0]=g[b+3+64]=Z+ie+1>>1,g[b+3+0]=ie+ce+1>>1,g[b+0+96]=jt(q,R,T),g[b+0+64]=jt(R,T,G),g[b+0+32]=g[b+1+96]=jt(T,G,$),g[b+1+32]=g[b+2+96]=jt(G,$,Z),g[b+2+32]=g[b+3+96]=jt($,Z,ie),g[b+3+32]=jt(Z,ie,ce)}function Pn(g,b){var T=g[b+0-32],R=g[b+1-32],q=g[b+2-32],G=g[b+3-32],$=g[b+4-32],Z=g[b+5-32],ie=g[b+6-32],ce=g[b+7-32];g[b+0+0]=T+R+1>>1,g[b+1+0]=g[b+0+64]=R+q+1>>1,g[b+2+0]=g[b+1+64]=q+G+1>>1,g[b+3+0]=g[b+2+64]=G+$+1>>1,g[b+0+32]=jt(T,R,q),g[b+1+32]=g[b+0+96]=jt(R,q,G),g[b+2+32]=g[b+1+96]=jt(q,G,$),g[b+3+32]=g[b+2+96]=jt(G,$,Z),g[b+3+64]=jt($,Z,ie),g[b+3+96]=jt(Z,ie,ce)}function Yr(g,b){var T=g[b-1+0],R=g[b-1+32],q=g[b-1+64],G=g[b-1+96];g[b+0+0]=T+R+1>>1,g[b+2+0]=g[b+0+32]=R+q+1>>1,g[b+2+32]=g[b+0+64]=q+G+1>>1,g[b+1+0]=jt(T,R,q),g[b+3+0]=g[b+1+32]=jt(R,q,G),g[b+3+32]=g[b+1+64]=jt(q,G,G),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=G}function Hs(g,b){var T=g[b-1+0],R=g[b-1+32],q=g[b-1+64],G=g[b-1+96],$=g[b-1-32],Z=g[b+0-32],ie=g[b+1-32],ce=g[b+2-32];g[b+0+0]=g[b+2+32]=T+$+1>>1,g[b+0+32]=g[b+2+64]=R+T+1>>1,g[b+0+64]=g[b+2+96]=q+R+1>>1,g[b+0+96]=G+q+1>>1,g[b+3+0]=jt(Z,ie,ce),g[b+2+0]=jt($,Z,ie),g[b+1+0]=g[b+3+32]=jt(T,$,Z),g[b+1+32]=g[b+3+64]=jt(R,T,$),g[b+1+64]=g[b+3+96]=jt(q,R,T),g[b+1+96]=jt(G,q,R)}function Sa(g,b){var T;for(T=0;8>T;++T)r(g,b+32*T,g,b-32,8)}function rl(g,b){var T;for(T=0;8>T;++T)s(g,b,g[b-1],8),b+=32}function Wr(g,b,T){var R;for(R=0;8>R;++R)s(b,T+32*R,g,8)}function os(g,b){var T,R=8;for(T=0;8>T;++T)R+=g[b+T-32]+g[b-1+32*T];Wr(R>>4,g,b)}function $r(g,b){var T,R=4;for(T=0;8>T;++T)R+=g[b+T-32];Wr(R>>3,g,b)}function ji(g,b){var T,R=4;for(T=0;8>T;++T)R+=g[b-1+32*T];Wr(R>>3,g,b)}function La(g,b){Wr(128,g,b)}function ir(g,b,T){var R=g[b-T],q=g[b+0],G=3*(q-R)+Js[1020+g[b-2*T]-g[b+T]],$=Uu[112+(G+4>>3)];g[b-T]=Mr[255+R+Uu[112+(G+3>>3)]],g[b+0]=Mr[255+q-$]}function Da(g,b,T,R){var q=g[b+0],G=g[b+T];return xr[255+g[b-2*T]-g[b-T]]>R||xr[255+G-q]>R}function As(g,b,T,R){return 4*xr[255+g[b-T]-g[b+0]]+xr[255+g[b-2*T]-g[b+T]]<=R}function ka(g,b,T,R,q){var G=g[b-3*T],$=g[b-2*T],Z=g[b-T],ie=g[b+0],ce=g[b+T],be=g[b+2*T],Re=g[b+3*T];return 4*xr[255+Z-ie]+xr[255+$-ce]>R?0:xr[255+g[b-4*T]-G]<=q&&xr[255+G-$]<=q&&xr[255+$-Z]<=q&&xr[255+Re-be]<=q&&xr[255+be-ce]<=q&&xr[255+ce-ie]<=q}function Ma(g,b,T,R){var q=2*R+1;for(R=0;16>R;++R)As(g,b+R,T,q)&&ir(g,b+R,T)}function ua(g,b,T,R){var q=2*R+1;for(R=0;16>R;++R)As(g,b+R*T,1,q)&&ir(g,b+R*T,1)}function Gs(g,b,T,R){var q;for(q=3;0<q;--q)Ma(g,b+=4*T,T,R)}function So(g,b,T,R){var q;for(q=3;0<q;--q)ua(g,b+=4,T,R)}function Kr(g,b,T,R,q,G,$,Z){for(G=2*G+1;0<q--;){if(ka(g,b,T,G,$))if(Da(g,b,T,Z))ir(g,b,T);else{var ie=g,ce=b,be=T,Re=ie[ce-2*be],le=ie[ce-be],we=ie[ce+0],Ne=ie[ce+be],Fe=ie[ce+2*be],Ie=27*(Ue=Js[1020+3*(we-le)+Js[1020+Re-Ne]])+63>>7,ze=18*Ue+63>>7,Ue=9*Ue+63>>7;ie[ce-3*be]=Mr[255+ie[ce-3*be]+Ue],ie[ce-2*be]=Mr[255+Re+ze],ie[ce-be]=Mr[255+le+Ie],ie[ce+0]=Mr[255+we-Ie],ie[ce+be]=Mr[255+Ne-ze],ie[ce+2*be]=Mr[255+Fe-Ue]}b+=R}}function Oa(g,b,T,R,q,G,$,Z){for(G=2*G+1;0<q--;){if(ka(g,b,T,G,$))if(Da(g,b,T,Z))ir(g,b,T);else{var ie=g,ce=b,be=T,Re=ie[ce-be],le=ie[ce+0],we=ie[ce+be],Ne=Uu[112+(4+(Fe=3*(le-Re))>>3)],Fe=Uu[112+(Fe+3>>3)],Ie=Ne+1>>1;ie[ce-2*be]=Mr[255+ie[ce-2*be]+Ie],ie[ce-be]=Mr[255+Re+Fe],ie[ce+0]=Mr[255+le-Ne],ie[ce+be]=Mr[255+we-Ie]}b+=R}}function al(g,b,T,R,q,G){Kr(g,b,T,1,16,R,q,G)}function Aa(g,b,T,R,q,G){Kr(g,b,1,T,16,R,q,G)}function Ao(g,b,T,R,q,G){var $;for($=3;0<$;--$)Oa(g,b+=4*T,T,1,16,R,q,G)}function S(g,b,T,R,q,G){var $;for($=3;0<$;--$)Oa(g,b+=4,1,T,16,R,q,G)}function F(g,b,T,R,q,G,$,Z){Kr(g,b,q,1,8,G,$,Z),Kr(T,R,q,1,8,G,$,Z)}function ue(g,b,T,R,q,G,$,Z){Kr(g,b,1,q,8,G,$,Z),Kr(T,R,1,q,8,G,$,Z)}function ve(g,b,T,R,q,G,$,Z){Oa(g,b+4*q,q,1,8,G,$,Z),Oa(T,R+4*q,q,1,8,G,$,Z)}function Ae(g,b,T,R,q,G,$,Z){Oa(g,b+4,1,q,8,G,$,Z),Oa(T,R+4,1,q,8,G,$,Z)}function Be(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Wt,this.vb=new Wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new E}function Rt(){this.xb=this.a=0,this.l=new nr,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,ut),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(g,b,T,R,q,G,$){for(g=g==null?0:g[b+0],b=0;b<$;++b)q[G+b]=g+T[R+b]&255,g=q[G+b]}function ei(g,b,T,R,q,G,$){var Z;if(g==null)dn(null,null,T,R,q,G,$);else for(Z=0;Z<$;++Z)q[G+Z]=g[b+Z]+T[R+Z]&255}function Gn(g,b,T,R,q,G,$){if(g==null)dn(null,null,T,R,q,G,$);else{var Z,ie=g[b+0],ce=ie,be=ie;for(Z=0;Z<$;++Z)ce=be+(ie=g[b+Z])-ce,be=T[R+Z]+(-256&ce?0>ce?0:255:ce)&255,ce=ie,q[G+Z]=be}}function m(g,b,T,R){var q=b.width,G=b.o;if(e(g!=null&&b!=null),0>T||0>=R||T+R>G)return null;if(!g.Cc){if(g.ga==null){var $;if(g.ga=new Et,($=g.ga==null)||($=b.width*b.o,e(g.Gb.length==0),g.Gb=o($),g.Uc=0,g.Gb==null?$=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,$=1),$=!$),!$){$=g.ga;var Z=g.Fa,ie=g.P,ce=g.qc,be=g.mb,Re=g.nb,le=ie+1,we=ce-1,Ne=$.l;if(e(Z!=null&&be!=null&&b!=null),eo[0]=null,eo[1]=dn,eo[2]=ei,eo[3]=Gn,$.ca=be,$.tb=Re,$.c=b.width,$.i=b.height,e(0<$.c&&0<$.i),1>=ce)b=0;else if($.$a=3&Z[ie+0],$.Z=Z[ie+0]>>2&3,$.Lc=Z[ie+0]>>4&3,ie=Z[ie+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||ie)b=0;else if(Ne.put=At,Ne.ac=Gi,Ne.bc=ts,Ne.ma=$,Ne.width=b.width,Ne.height=b.height,Ne.Da=b.Da,Ne.v=b.v,Ne.va=b.va,Ne.j=b.j,Ne.o=b.o,$.$a)e:{e($.$a==1),b=bs();t:for(;;){if(b==null){b=0;break e}if(e($!=null),$.mc=b,b.c=$.c,b.i=$.i,b.l=$.l,b.l.ma=$,b.l.width=$.c,b.l.height=$.i,b.a=0,de(b.m,Z,le,we),!xa($.c,$.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&On(b.s)?($.ic=1,Z=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(Z),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):($.ic=0,b=Ir(b,$.c)),!b))break t;b=1;break e}$.mc=null,b=0}else b=we>=$.c*$.i;$=!b}if($)return null;g.ga.Lc!=1?g.Ga=0:R=G-T}e(g.ga!=null),e(T+R<=G);e:{if(b=(Z=g.ga).c,G=Z.l.o,Z.$a==0){if(le=g.rc,we=g.Vc,Ne=g.Fa,ie=g.P+1+T*b,ce=g.mb,be=g.nb+T*b,e(ie<=g.P+g.qc),Z.Z!=0)for(e(eo[Z.Z]!=null),$=0;$<R;++$)eo[Z.Z](le,we,Ne,ie,ce,be,b),le=ce,we=be,be+=b,ie+=b;else for($=0;$<R;++$)r(ce,be,Ne,ie,b),le=ce,we=be,be+=b,ie+=b;g.rc=le,g.Vc=we}else{if(e(Z.mc!=null),b=T+R,e(($=Z.mc)!=null),e(b<=$.i),$.C>=b)b=1;else if(Z.ic||ke(),Z.ic){Z=$.V,le=$.Ba,we=$.c;var Fe=$.i,Ie=(Ne=1,ie=$.$/we,ce=$.$%we,be=$.m,Re=$.s,$.$),ze=we*Fe,Ue=we*b,Ze=Re.wc,We=Ie<Ue?Mi(Re,ce,ie):null;e(Ie<=ze),e(b<=Fe),e(On(Re));t:for(;;){for(;!be.h&&Ie<Ue;){if(ce&Ze||(We=Mi(Re,ce,ie)),e(We!=null),pe(be),256>(Fe=Hn(We.G[0],We.H[0],be)))Z[le+Ie]=Fe,++Ie,++ce>=we&&(ce=0,++ie<=b&&!(ie%16)&&Oi($,ie));else{if(!(280>Fe)){Ne=0;break t}Fe=Cr(Fe-256,be);var pt,st=Hn(We.G[4],We.H[4],be);if(pe(be),!(Ie>=(st=Nr(we,st=Cr(st,be)))&&ze-Ie>=Fe)){Ne=0;break t}for(pt=0;pt<Fe;++pt)Z[le+Ie+pt]=Z[le+Ie+pt-st];for(Ie+=Fe,ce+=Fe;ce>=we;)ce-=we,++ie<=b&&!(ie%16)&&Oi($,ie);Ie<Ue&&ce&Ze&&(We=Mi(Re,ce,ie))}e(be.h==W(be))}Oi($,ie>b?b:ie);break t}!Ne||be.h&&Ie<ze?(Ne=0,$.a=be.h?5:3):$.$=Ie,b=Ne}else b=jr($,$.V,$.Ba,$.c,$.i,b,ns);if(!b){R=0;break e}}T+R>=G&&(g.Cc=1),R=1}if(!R)return null;if(g.Cc&&((R=g.ga)!=null&&(R.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*q}function j(g,b,T,R,q,G){for(;0<q--;){var $,Z=g,ie=b+(T?1:0),ce=g,be=b+(T?0:3);for($=0;$<R;++$){var Re=ce[be+4*$];Re!=255&&(Re*=32897,Z[ie+4*$+0]=Z[ie+4*$+0]*Re>>23,Z[ie+4*$+1]=Z[ie+4*$+1]*Re>>23,Z[ie+4*$+2]=Z[ie+4*$+2]*Re>>23)}b+=G}}function D(g,b,T,R,q){for(;0<R--;){var G;for(G=0;G<T;++G){var $=g[b+2*G+0],Z=15&(ce=g[b+2*G+1]),ie=4369*Z,ce=(240&ce|ce>>4)*ie>>16;g[b+2*G+0]=(240&$|$>>4)*ie>>16&240|(15&$|$<<4)*ie>>16>>4&15,g[b+2*G+1]=240&ce|Z}b+=q}}function ee(g,b,T,R,q,G,$,Z){var ie,ce,be=255;for(ce=0;ce<q;++ce){for(ie=0;ie<R;++ie){var Re=g[b+ie];G[$+4*ie]=Re,be&=Re}b+=T,$+=Z}return be!=255}function Ce(g,b,T,R,q){var G;for(G=0;G<q;++G)T[R+G]=g[b+G]>>8}function ke(){ll=j,za=D,Fu=ee,Na=Ce}function Je(g,b,T){w[g]=function(R,q,G,$,Z,ie,ce,be,Re,le,we,Ne,Fe,Ie,ze,Ue,Ze){var We,pt=Ze-1>>1,st=Z[ie+0]|ce[be+0]<<16,Gt=Re[le+0]|we[Ne+0]<<16;e(R!=null);var ht=3*st+Gt+131074>>2;for(b(R[q+0],255&ht,ht>>16,Fe,Ie),G!=null&&(ht=3*Gt+st+131074>>2,b(G[$+0],255&ht,ht>>16,ze,Ue)),We=1;We<=pt;++We){var pn=Z[ie+We]|ce[be+We]<<16,ui=Re[le+We]|we[Ne+We]<<16,en=st+pn+Gt+ui+524296,ot=en+2*(pn+Gt)>>3;ht=ot+st>>1,st=(en=en+2*(st+ui)>>3)+pn>>1,b(R[q+2*We-1],255&ht,ht>>16,Fe,Ie+(2*We-1)*T),b(R[q+2*We-0],255&st,st>>16,Fe,Ie+(2*We-0)*T),G!=null&&(ht=en+Gt>>1,st=ot+ui>>1,b(G[$+2*We-1],255&ht,ht>>16,ze,Ue+(2*We-1)*T),b(G[$+2*We+0],255&st,st>>16,ze,Ue+(2*We+0)*T)),st=pn,Gt=ui}1&Ze||(ht=3*st+Gt+131074>>2,b(R[q+Ze-1],255&ht,ht>>16,Fe,Ie+(Ze-1)*T),G!=null&&(ht=3*Gt+st+131074>>2,b(G[$+Ze-1],255&ht,ht>>16,ze,Ue+(Ze-1)*T)))}}function qt(){wr[_c]=hl,wr[Or]=Kl,wr[wc]=Ph,wr[Fa]=Cc,wr[qu]=jo,wr[Yl]=Ds,wr[To]=Io,wr[Hu]=Kl,wr[Sc]=Cc,wr[Wl]=jo,wr[Ac]=Ds}function ti(g){return g&-16384?0>g?0:255:g>>Nc}function cn(g,b){return ti((19077*g>>8)+(26149*b>>8)-14234)}function zn(g,b,T){return ti((19077*g>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function rr(g,b){return ti((19077*g>>8)+(33050*b>>8)-17685)}function yr(g,b,T,R,q){R[q+0]=cn(g,T),R[q+1]=zn(g,b,T),R[q+2]=rr(g,b)}function $n(g,b,T,R,q){R[q+0]=rr(g,b),R[q+1]=zn(g,b,T),R[q+2]=cn(g,T)}function vr(g,b,T,R,q){var G=zn(g,b,T);b=G<<3&224|rr(g,b)>>3,R[q+0]=248&cn(g,T)|G>>5,R[q+1]=b}function Ea(g,b,T,R,q){var G=240&rr(g,b)|15;R[q+0]=240&cn(g,T)|zn(g,b,T)>>4,R[q+1]=G}function Es(g,b,T,R,q){R[q+0]=255,yr(g,b,T,R,q+1)}function Ts(g,b,T,R,q){$n(g,b,T,R,q),R[q+3]=255}function Qr(g,b,T,R,q){yr(g,b,T,R,q),R[q+3]=255}function Ys(g,b,T){w[g]=function(R,q,G,$,Z,ie,ce,be,Re){for(var le=be+(-2&Re)*T;be!=le;)b(R[q+0],G[$+0],Z[ie+0],ce,be),b(R[q+1],G[$+0],Z[ie+0],ce,be+T),q+=2,++$,++ie,be+=2*T;1&Re&&b(R[q+0],G[$+0],Z[ie+0],ce,be)}}function Vl(g,b,T){return T==0?g==0?b==0?6:5:b==0?4:0:T}function Ou(g,b,T,R,q){switch(g>>>30){case 3:Zs(b,T,R,q,0);break;case 2:kr(b,T,R,q);break;case 1:Dn(b,T,R,q)}}function Ta(g,b){var T,R,q=b.M,G=b.Nb,$=g.oc,Z=g.pc+40,ie=g.oc,ce=g.pc+584,be=g.oc,Re=g.pc+600;for(T=0;16>T;++T)$[Z+32*T-1]=129;for(T=0;8>T;++T)ie[ce+32*T-1]=129,be[Re+32*T-1]=129;for(0<q?$[Z-1-32]=ie[ce-1-32]=be[Re-1-32]=129:(s($,Z-32-1,127,21),s(ie,ce-32-1,127,9),s(be,Re-32-1,127,9)),R=0;R<g.za;++R){var le=b.ya[b.aa+R];if(0<R){for(T=-1;16>T;++T)r($,Z+32*T-4,$,Z+32*T+12,4);for(T=-1;8>T;++T)r(ie,ce+32*T-4,ie,ce+32*T+4,4),r(be,Re+32*T-4,be,Re+32*T+4,4)}var we=g.Gd,Ne=g.Hd+R,Fe=le.ad,Ie=le.Hc;if(0<q&&(r($,Z-32,we[Ne].y,0,16),r(ie,ce-32,we[Ne].f,0,8),r(be,Re-32,we[Ne].ea,0,8)),le.Za){var ze=$,Ue=Z-32+16;for(0<q&&(R>=g.za-1?s(ze,Ue,we[Ne].y[15],4):r(ze,Ue,we[Ne+1].y,0,4)),T=0;4>T;T++)ze[Ue+128+T]=ze[Ue+256+T]=ze[Ue+384+T]=ze[Ue+0+T];for(T=0;16>T;++T,Ie<<=2)ze=$,Ue=Z+Li[T],Si[le.Ob[T]](ze,Ue),Ou(Ie,Fe,16*+T,ze,Ue)}else if(ze=Vl(R,q,le.Ob[0]),Zr[ze]($,Z),Ie!=0)for(T=0;16>T;++T,Ie<<=2)Ou(Ie,Fe,16*+T,$,Z+Li[T]);for(T=le.Gc,ze=Vl(R,q,le.Dd),hs[ze](ie,ce),hs[ze](be,Re),Ie=Fe,ze=ie,Ue=ce,255&(le=0|T)&&(170&le?Pa(Ie,256,ze,Ue):Sn(Ie,256,ze,Ue)),le=be,Ie=Re,255&(T>>=8)&&(170&T?Pa(Fe,320,le,Ie):Sn(Fe,320,le,Ie)),q<g.Ub-1&&(r(we[Ne].y,0,$,Z+480,16),r(we[Ne].f,0,ie,ce+224,8),r(we[Ne].ea,0,be,Re+224,8)),T=8*G*g.B,we=g.sa,Ne=g.ta+16*R+16*G*g.R,Fe=g.qa,le=g.ra+8*R+T,Ie=g.Ha,ze=g.Ia+8*R+T,T=0;16>T;++T)r(we,Ne+T*g.R,$,Z+32*T,16);for(T=0;8>T;++T)r(Fe,le+T*g.B,ie,ce+32*T,8),r(Ie,ze+T*g.B,be,Re+32*T,8)}}function ls(g,b,T,R,q,G,$,Z,ie){var ce=[0],be=[0],Re=0,le=ie!=null?ie.kd:0,we=ie??new $e;if(g==null||12>T)return 7;we.data=g,we.w=b,we.ha=T,b=[b],T=[T],we.gb=[we.gb];e:{var Ne=b,Fe=T,Ie=we.gb;if(e(g!=null),e(Fe!=null),e(Ie!=null),Ie[0]=0,12<=Fe[0]&&!t(g,Ne[0],"RIFF")){if(t(g,Ne[0]+8,"WEBP")){Ie=3;break e}var ze=lt(g,Ne[0]+4);if(12>ze||4294967286<ze){Ie=3;break e}if(le&&ze>Fe[0]-8){Ie=7;break e}Ie[0]=ze,Ne[0]+=12,Fe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(ze=0<we.gb[0],T=T[0];;){e:{var Ue=g;Fe=b,Ie=T;var Ze=ce,We=be,pt=Ne=[0];if((ht=Re=[Re])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ue,Fe[0],"VP8X")){if(lt(Ue,Fe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var st=lt(Ue,Fe[0]+8),Gt=1+et(Ue,Fe[0]+12);if(2147483648<=Gt*(Ue=1+et(Ue,Fe[0]+15))){Ie=3;break e}pt!=null&&(pt[0]=st),Ze!=null&&(Ze[0]=Gt),We!=null&&(We[0]=Ue),Fe[0]+=18,Ie[0]-=18,ht[0]=1}Ie=0}}if(Re=Re[0],Ne=Ne[0],Ie!=0)return Ie;if(Fe=!!(2&Ne),!ze&&Re)return 3;if(G!=null&&(G[0]=!!(16&Ne)),$!=null&&($[0]=Fe),Z!=null&&(Z[0]=0),$=ce[0],Ne=be[0],Re&&Fe&&ie==null){Ie=0;break}if(4>T){Ie=7;break}if(ze&&Re||!ze&&!Re&&!t(g,b[0],"ALPH")){T=[T],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{st=g,Ie=b,ze=T;var ht=we.gb;Ze=we.na,We=we.P,pt=we.Sa,Gt=22,e(st!=null),e(ze!=null),Ue=Ie[0];var pn=ze[0];for(e(Ze!=null),e(pt!=null),Ze[0]=null,We[0]=null,pt[0]=0;;){if(Ie[0]=Ue,ze[0]=pn,8>pn){Ie=7;break e}var ui=lt(st,Ue+4);if(4294967286<ui){Ie=3;break e}var en=8+ui+1&-2;if(Gt+=en,0<ht&&Gt>ht){Ie=3;break e}if(!t(st,Ue,"VP8 ")||!t(st,Ue,"VP8L")){Ie=0;break e}if(pn[0]<en){Ie=7;break e}t(st,Ue,"ALPH")||(Ze[0]=st,We[0]=Ue+8,pt[0]=ui),Ue+=en,pn-=en}}if(T=T[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ie!=0)break}T=[T],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ht=g,Ie=b,ze=T,Ze=we.gb[0],We=we.Ja,pt=we.xa,st=Ie[0],Ue=!t(ht,st,"VP8 "),Gt=!t(ht,st,"VP8L"),e(ht!=null),e(ze!=null),e(We!=null),e(pt!=null),8>ze[0])Ie=7;else{if(Ue||Gt){if(ht=lt(ht,st+4),12<=Ze&&ht>Ze-12){Ie=3;break e}if(le&&ht>ze[0]-8){Ie=7;break e}We[0]=ht,Ie[0]+=8,ze[0]-=8,pt[0]=Gt}else pt[0]=5<=ze[0]&&ht[st+0]==47&&!(ht[st+4]>>5),We[0]=ze[0];Ie=0}if(T=T[0],we.Ja=we.Ja[0],we.xa=we.xa[0],b=b[0],Ie!=0)break;if(4294967286<we.Ja)return 3;if(Z==null||Fe||(Z[0]=we.xa?2:1),$=[$],Ne=[Ne],we.xa){if(5>T){Ie=7;break}Z=$,le=Ne,Fe=G,g==null||5>T?g=0:5<=T&&g[b+0]==47&&!(g[b+4]>>5)?(ze=[0],ht=[0],Ze=[0],de(We=new P,g,b,T),Ur(We,ze,ht,Ze)?(Z!=null&&(Z[0]=ze[0]),le!=null&&(le[0]=ht[0]),Fe!=null&&(Fe[0]=Ze[0]),g=1):g=0):g=0}else{if(10>T){Ie=7;break}Z=Ne,g==null||10>T||!is(g,b+3,T-3)?g=0:(le=g[b+0]|g[b+1]<<8|g[b+2]<<16,Fe=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=we.Ja||!Fe||!g?g=0:($&&($[0]=Fe),Z&&(Z[0]=g),g=1))}if(!g||($=$[0],Ne=Ne[0],Re&&(ce[0]!=$||be[0]!=Ne)))return 3;ie!=null&&(ie[0]=we,ie.offset=b-ie.w,e(4294967286>b-ie.w),e(ie.offset==ie.ha-T));break}return Ie==0||Ie==7&&Re&&ie==null?(G!=null&&(G[0]|=we.na!=null&&0<we.na.length),R!=null&&(R[0]=$),q!=null&&(q[0]=Ne),0):Ie}function Ws(g,b,T){var R=b.width,q=b.height,G=0,$=0,Z=R,ie=q;if(b.Da=g!=null&&0<g.Da,b.Da&&(Z=g.cd,ie=g.bd,G=g.v,$=g.j,11>T||(G&=-2,$&=-2),0>G||0>$||0>=Z||0>=ie||G+Z>R||$+ie>q))return 0;if(b.v=G,b.j=$,b.va=G+Z,b.o=$+ie,b.U=Z,b.T=ie,b.da=g!=null&&0<g.da,b.da){if(!Tt(Z,ie,T=[g.ib],G=[g.hb]))return 0;b.ib=T[0],b.hb=G[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*R/4&&b.hb<3*q/4,b.Kb=0),1}function Pu(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function us(g,b,T,R){if(R==null||0>=g||0>=b)return 2;if(T!=null){if(T.Da){var q=T.cd,G=T.bd,$=-2&T.v,Z=-2&T.j;if(0>$||0>Z||0>=q||0>=G||$+q>g||Z+G>b)return 2;g=q,b=G}if(T.da){if(!Tt(g,b,q=[T.ib],G=[T.hb]))return 2;g=q[0],b=G[0]}}R.width=g,R.height=b;e:{var ie=R.width,ce=R.height;if(g=R.S,0>=ie||0>=ce||!(g>=_c&&13>g))g=2;else{if(0>=R.Rd&&R.sd==null){$=G=q=b=0;var be=(Z=ie*Ic[g])*ce;if(11>g||(G=(ce+1)/2*(b=(ie+1)/2),g==12&&($=(q=ie)*ce)),(ce=o(be+2*G+$))==null){g=1;break e}R.sd=ce,11>g?((ie=R.f.RGBA).eb=ce,ie.fb=0,ie.A=Z,ie.size=be):((ie=R.f.kb).y=ce,ie.O=0,ie.fa=Z,ie.Fd=be,ie.f=ce,ie.N=0+be,ie.Ab=b,ie.Cd=G,ie.ea=ce,ie.W=0+be+G,ie.Db=b,ie.Ed=G,g==12&&(ie.F=ce,ie.J=0+be+2*G),ie.Tc=$,ie.lb=q)}if(b=1,q=R.S,G=R.width,$=R.height,q>=_c&&13>q)if(11>q)g=R.f.RGBA,b&=(Z=Math.abs(g.A))*($-1)+G<=g.size,b&=Z>=G*Ic[q],b&=g.eb!=null;else{g=R.f.kb,Z=(G+1)/2,be=($+1)/2,ie=Math.abs(g.fa),ce=Math.abs(g.Ab);var Re=Math.abs(g.Db),le=Math.abs(g.lb),we=le*($-1)+G;b&=ie*($-1)+G<=g.Fd,b&=ce*(be-1)+Z<=g.Cd,b=(b&=Re*(be-1)+Z<=g.Ed)&ie>=G&ce>=Z&Re>=Z,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,q==12&&(b&=le>=G,b&=we<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||T!=null&&T.fd&&(g=Pu(R)),g}var Eo=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,Cs=32,Ns=8,$s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(g){return g},w.Predictor2=function(g,b,T){return b[T+0]},w.Predictor3=function(g,b,T){return b[T+1]},w.Predictor4=function(g,b,T){return b[T-1]},w.Predictor5=function(g,b,T){return _t(_t(g,b[T+1]),b[T+0])},w.Predictor6=function(g,b,T){return _t(g,b[T-1])},w.Predictor7=function(g,b,T){return _t(g,b[T+0])},w.Predictor8=function(g,b,T){return _t(b[T-1],b[T+0])},w.Predictor9=function(g,b,T){return _t(b[T+0],b[T+1])},w.Predictor10=function(g,b,T){return _t(_t(g,b[T-1]),_t(b[T+0],b[T+1]))},w.Predictor11=function(g,b,T){var R=b[T+0];return 0>=Vt(R>>24&255,g>>24&255,(b=b[T-1])>>24&255)+Vt(R>>16&255,g>>16&255,b>>16&255)+Vt(R>>8&255,g>>8&255,b>>8&255)+Vt(255&R,255&g,255&b)?R:g},w.Predictor12=function(g,b,T){var R=b[T+0];return($t((g>>24&255)+(R>>24&255)-((b=b[T-1])>>24&255))<<24|$t((g>>16&255)+(R>>16&255)-(b>>16&255))<<16|$t((g>>8&255)+(R>>8&255)-(b>>8&255))<<8|$t((255&g)+(255&R)-(255&b)))>>>0},w.Predictor13=function(g,b,T){var R=b[T-1];return(Jt((g=_t(g,b[T+0]))>>24&255,R>>24&255)<<24|Jt(g>>16&255,R>>16&255)<<16|Jt(g>>8&255,R>>8&255)<<8|Jt(255&g,255&R))>>>0};var Ul=w.PredictorAdd0;w.PredictorAdd1=on,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var ql=w.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Ii,vc=w.ColorIndexInverseTransform,js=w.MapARGB,Is=w.VP8LColorIndexInverseTransformAlpha,br=w.MapAlpha,Ks=w.VP8LPredictorsAdd=[];Ks.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Hl,Gl,Qs,Xs,Rs,sl,Ca,Zs,kr,Pa,Dn,Sn,ni,Ri,Ls,cs,ol,zu,Lh,Zf,Jf,ed,Dh,kh,ll,za,Fu,Na,ul=o(511),bc=o(2041),Bu=o(225),Vu=o(767),xc=0,Js=bc,Uu=Bu,Mr=Vu,xr=ul,_c=0,Or=1,wc=2,Fa=3,qu=4,Yl=5,To=6,Hu=7,Sc=8,Wl=9,Ac=10,Ba=[2,3,7],$l=[3,3,11],cl=[280,256,256,256,40],Ec=[0,1,1,1,0],Gu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Va=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ua=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,qa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ha=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ja=null,td=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zr=[],Si=[],hs=[],No=1,Oh=2,eo=[],wr=[];Je("UpsampleRgbLinePair",yr,3),Je("UpsampleBgrLinePair",$n,3),Je("UpsampleRgbaLinePair",Qr,4),Je("UpsampleBgraLinePair",Ts,4),Je("UpsampleArgbLinePair",Es,4),Je("UpsampleRgba4444LinePair",Ea,2),Je("UpsampleRgb565LinePair",vr,2);var hl=w.UpsampleRgbLinePair,Ph=w.UpsampleBgrLinePair,Kl=w.UpsampleRgbaLinePair,Cc=w.UpsampleBgraLinePair,jo=w.UpsampleArgbLinePair,Ds=w.UpsampleRgba4444LinePair,Io=w.UpsampleRgb565LinePair,Ga=16,Ql=1<<Ga-1,fl=-227,Ro=482,Nc=6,Lo=0,Sr=o(256),jc=o(256),id=o(256),c1=o(256),h1=o(Ro-fl),f1=o(Ro-fl);Ys("YuvToRgbRow",yr,3),Ys("YuvToBgrRow",$n,3),Ys("YuvToRgbaRow",Qr,4),Ys("YuvToBgraRow",Ts,4),Ys("YuvToArgbRow",Es,4),Ys("YuvToRgba4444Row",Ea,2),Ys("YuvToRgb565Row",vr,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Yu=[8,7,6,4,4,2,2,2,1,1,1,1],Wu=1;this.WebPDecodeRGBA=function(g,b,T,R,q){var G=Or,$=new Be,Z=new wt;$.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var ie=Z.width,ce=Z.height,be=new bt;if(be==null||g==null)var Re=2;else e(be!=null),Re=ls(g,b,T,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Re!=0?ie=0:(ie!=null&&(ie[0]=be.width[0]),ce!=null&&(ce[0]=be.height[0]),ie=1),ie){Z.width=Z.width[0],Z.height=Z.height[0],R!=null&&(R[0]=Z.width),q!=null&&(q[0]=Z.height);e:{if(R=new nr,(q=new $e).data=g,q.w=b,q.ha=T,q.kd=1,b=[0],e(q!=null),((g=ls(q.data,q.w,q.ha,null,null,null,b,null,q))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(e($!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=At,R.ac=Gi,R.bc=ts,R.ma=$,q.xa){if((g=bs())==null){$=1;break e}if((function(le,we){var Ne=[0],Fe=[0],Ie=[0];t:for(;;){if(le==null)return 0;if(we==null)return le.a=2,0;if(le.l=we,le.a=0,de(le.m,we.data,we.w,we.ha),!Ur(le.m,Ne,Fe,Ie)){le.a=3;break t}if(le.xb=Oh,we.width=Ne[0],we.height=Fe[0],!xa(Ne[0],Fe[0],1,le,null))break t;return 1}return e(le.a!=0),0})(g,R)){if(R=(b=us(R.width,R.height,$.Oa,$.ba))==0){t:{R=g;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((T=R.l)!=null),e((q=T.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,e(R.ca!=null),!Ws(q.Oa,T,Fa)){R.a=2;break n}if(!Ir(R,T.width)||T.da)break n;if((T.da||Mt(R.ca.S))&&ke(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&ke()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!oe(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!jr(R,R.V,R.Ba,R.c,R.i,T.o,tr))break n;q.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(b=g.a)}else b=g.a}else{if((g=new _i)==null){$=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,la(g,R)){if((b=us(R.width,R.height,$.Oa,$.ba))==0){if(g.Aa=0,T=$.Oa,e((q=g)!=null),T!=null){if(0<(ie=0>(ie=T.Md)?0:100<ie?255:255*ie/100)){for(ce=be=0;4>ce;++ce)12>(Re=q.pb[ce]).lc&&(Re.ia=ie*Yu[0>Re.lc?0:Re.lc]>>3),be|=Re.ia;be&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(le,we){if(le==null)return 0;if(we==null)return fn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!la(le,we))return 0;if(e(le.cb),we.ac==null||we.ac(we)){we.ob&&(le.L=0);var Ne=Xl[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=we.v-Ne>>4,le.zb=we.j-Ne>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=we.o+15+Ne>>4,le.Hb=we.va+15+Ne>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Fe=le.ed;for(Ne=0;4>Ne;++Ne){var Ie;if(le.Qa.Cb){var ze=le.Qa.Lb[Ne];le.Qa.Fb||(ze+=Fe.Tb)}else ze=Fe.Tb;for(Ie=0;1>=Ie;++Ie){var Ue=le.gd[Ne][Ie],Ze=ze;if(Fe.Pc&&(Ze+=Fe.vd[0],Ie&&(Ze+=Fe.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var We=Ze;0<Fe.wb&&(We=4<Fe.wb?We>>2:We>>1)>9-Fe.wb&&(We=9-Fe.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*Ze+We,Ue.ld=40<=Ze?2:15<=Ze?1:0}else Ue.tc=0;Ue.La=Ie}}}Ne=0}else fn(le,6,"Frame setup failed"),Ne=le.a;if(Ne=Ne==0){if(Ne){le.$c=0,0<le.Aa||(le.Ic=Wu);t:{Ne=le.Ic,Fe=4*(We=le.za);var pt=32*We,st=We+1,Gt=0<le.L?We*(0<le.Aa?2:1):0,ht=(le.Aa==2?2:1)*We;if((Ue=Fe+832+(Ie=3*(16*Ne+Xl[le.L])/2*pt)+(ze=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ue)Ne=0;else{if(Ue>le.Vb){if(le.Vb=0,le.Ec=o(Ue),le.Fc=0,le.Ec==null){Ne=fn(le,1,"no memory during frame initialization.");break t}le.Vb=Ue}Ue=le.Ec,Ze=le.Fc,le.Ac=Ue,le.Bc=Ze,Ze+=Fe,le.Gd=c(pt,bo),le.Hd=0,le.rb=c(st+1,oa),le.sb=1,le.wa=Gt?c(Gt,Rr):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=We),e(!0),le.oc=Ue,le.pc=Ze,Ze+=832,le.ya=c(ht,Bs),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=We),le.R=16*We,le.B=8*We,We=(pt=Xl[le.L])*le.R,pt=pt/2*le.B,le.sa=Ue,le.ta=Ze+We,le.qa=le.sa,le.ra=le.ta+16*Ne*le.R+pt,le.Ha=le.qa,le.Ia=le.ra+8*Ne*le.B+pt,le.$c=0,Ze+=Ie,le.mb=ze?Ue:null,le.nb=ze?Ze:null,e(Ze+ze<=le.Fc+le.Vb),xs(le),s(le.Ac,le.Bc,0,Fe),Ne=1}}if(Ne){if(we.ka=0,we.y=le.sa,we.O=le.ta,we.f=le.qa,we.N=le.ra,we.ea=le.Ha,we.Vd=le.Ia,we.fa=le.R,we.Rc=le.B,we.F=null,we.J=0,!xc){for(Ne=-255;255>=Ne;++Ne)ul[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)bc[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Bu[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Vu[255+Ne]=0>Ne?0:255<Ne?255:Ne;xc=1}Ca=Yi,Zs=el,Pa=mr,Dn=tl,Sn=rs,kr=Bl,ni=al,Ri=Aa,Ls=F,cs=ue,ol=Ao,zu=S,Lh=ve,Zf=Ae,Jf=Ma,ed=ua,Dh=Gs,kh=So,Si[0]=Ss,Si[1]=nl,Si[2]=Us,Si[3]=wo,Si[4]=Wi,Si[5]=qs,Si[6]=Pi,Si[7]=Pn,Si[8]=Hs,Si[9]=Yr,Zr[0]=wa,Zr[1]=xo,Zr[2]=_o,Zr[3]=as,Zr[4]=ss,Zr[5]=Dr,Zr[6]=ws,hs[0]=os,hs[1]=il,hs[2]=Sa,hs[3]=rl,hs[4]=ji,hs[5]=$r,hs[6]=La,Ne=1}else Ne=0}Ne&&(Ne=(function(pn,ui){for(pn.M=0;pn.M<pn.Va;++pn.M){var en,ot=pn.Jc[pn.M&pn.Xb],tt=pn.m,gi=pn;for(en=0;en<gi.za;++en){var zt=tt,an=gi,Vn=an.Ac,$i=an.Bc+4*en,Ar=an.zc,ii=an.ya[an.aa+en];if(an.Qa.Bb?ii.$b=Oe(zt,an.Pa.jb[0])?2+Oe(zt,an.Pa.jb[2]):Oe(zt,an.Pa.jb[1]):ii.$b=0,an.kc&&(ii.Ad=Oe(zt,an.Bd)),ii.Za=!Oe(zt,145)+0,ii.Za){var zi=ii.Ob,Pr=0;for(an=0;4>an;++an){var Fi,hn=Ar[0+an];for(Fi=0;4>Fi;++Fi){hn=_r[Vn[$i+Fi]][hn];for(var En=Tc[Oe(zt,hn[0])];0<En;)En=Tc[2*En+Oe(zt,hn[En])];hn=-En,Vn[$i+Fi]=hn}r(zi,Pr,Vn,$i,4),Pr+=4,Ar[0+an]=hn}}else hn=Oe(zt,156)?Oe(zt,128)?1:3:Oe(zt,163)?2:0,ii.Ob[0]=hn,s(Vn,$i,hn,4),s(Ar,0,hn,4);ii.Dd=Oe(zt,142)?Oe(zt,114)?Oe(zt,183)?1:3:2:0}if(gi.m.Ka)return fn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(gi=ot,zt=(tt=pn).rb[tt.sb-1],Vn=tt.rb[tt.sb+tt.ja],en=tt.ya[tt.aa+tt.ja],$i=tt.kc?en.Ad:0)zt.la=Vn.la=0,en.Za||(zt.Na=Vn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var mi,kn;if(zt=Vn,Vn=gi,$i=tt.Pa.Xc,Ar=tt.ya[tt.aa+tt.ja],ii=tt.pb[Ar.$b],an=Ar.ad,zi=0,Pr=tt.rb[tt.sb-1],hn=Fi=0,s(an,zi,0,384),Ar.Za)var Ki=0,yi=$i[3];else{En=o(16);var Tn=zt.Na+Pr.Na;if(Tn=ja(Vn,$i[1],Tn,ii.Eb,0,En,0),zt.Na=Pr.Na=(0<Tn)+0,1<Tn)Ca(En,0,an,zi);else{var Di=En[0]+3>>3;for(En=0;256>En;En+=16)an[zi+En]=Di}Ki=1,yi=$i[0]}var Un=15&zt.la,Bi=15&Pr.la;for(En=0;4>En;++En){var Vi=1&Bi;for(Di=kn=0;4>Di;++Di)Un=Un>>1|(Vi=(Tn=ja(Vn,yi,Tn=Vi+(1&Un),ii.Sc,Ki,an,zi))>Ki)<<7,kn=kn<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Un>>=4,Bi=Bi>>1|Vi<<7,Fi=(Fi<<8|kn)>>>0}for(yi=Un,Ki=Bi>>4,mi=0;4>mi;mi+=2){for(kn=0,Un=zt.la>>4+mi,Bi=Pr.la>>4+mi,En=0;2>En;++En){for(Vi=1&Bi,Di=0;2>Di;++Di)Tn=Vi+(1&Un),Un=Un>>1|(Vi=0<(Tn=ja(Vn,$i[2],Tn,ii.Qc,0,an,zi)))<<3,kn=kn<<2|(3<Tn?3:1<Tn?2:an[zi+0]!=0),zi+=16;Un>>=2,Bi=Bi>>1|Vi<<5}hn|=kn<<4*mi,yi|=Un<<4<<mi,Ki|=(240&Bi)<<mi}zt.la=yi,Pr.la=Ki,Ar.Hc=Fi,Ar.Gc=hn,Ar.ia=43690&hn?0:ii.ia,$i=!(Fi|hn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[en.$b][en.Za],tt.wa[tt.Y+tt.ja].La|=!$i),gi.Ka)return fn(pn,7,"Premature end-of-file encountered.")}if(xs(pn),tt=ui,gi=1,en=(ot=pn).D,zt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(en.M=ot.M,en.uc=zt,Ta(ot,en),gi=1,en=(kn=ot.D).Nb,zt=(hn=Xl[ot.L])*ot.R,Vn=hn/2*ot.B,En=16*en*ot.R,Di=8*en*ot.B,$i=ot.sa,Ar=ot.ta-zt+En,ii=ot.qa,an=ot.ra-Vn+Di,zi=ot.Ha,Pr=ot.Ia-Vn+Di,Bi=(Un=kn.M)==0,Fi=Un>=ot.Va-1,ot.Aa==2&&Ta(ot,kn),kn.uc)for(Vi=(Tn=ot).D.M,e(Tn.D.uc),kn=Tn.yb;kn<Tn.Hb;++kn){Ki=kn,yi=Vi;var Kn=(An=(Ui=Tn).D).Nb;mi=Ui.R;var An=An.wa[An.Y+Ki],zr=Ui.sa,Ai=Ui.ta+16*Kn*mi+16*Ki,It=An.dd,Lt=An.tc;if(Lt!=0)if(e(3<=Lt),Ui.L==1)0<Ki&&ed(zr,Ai,mi,Lt+4),An.La&&kh(zr,Ai,mi,Lt),0<yi&&Jf(zr,Ai,mi,Lt+4),An.La&&Dh(zr,Ai,mi,Lt);else{var Cn=Ui.B,ha=Ui.qa,Ya=Ui.ra+8*Kn*Cn+8*Ki,Jr=Ui.Ha,Ui=Ui.Ia+8*Kn*Cn+8*Ki;Kn=An.ld,0<Ki&&(Ri(zr,Ai,mi,Lt+4,It,Kn),cs(ha,Ya,Jr,Ui,Cn,Lt+4,It,Kn)),An.La&&(zu(zr,Ai,mi,Lt,It,Kn),Zf(ha,Ya,Jr,Ui,Cn,Lt,It,Kn)),0<yi&&(ni(zr,Ai,mi,Lt+4,It,Kn),Ls(ha,Ya,Jr,Ui,Cn,Lt+4,It,Kn)),An.La&&(ol(zr,Ai,mi,Lt,It,Kn),Lh(ha,Ya,Jr,Ui,Cn,Lt,It,Kn))}}if(ot.ia&&alert("todo:DitherRow"),tt.put!=null){if(kn=16*Un,Un=16*(Un+1),Bi?(tt.y=ot.sa,tt.O=ot.ta+En,tt.f=ot.qa,tt.N=ot.ra+Di,tt.ea=ot.Ha,tt.W=ot.Ia+Di):(kn-=hn,tt.y=$i,tt.O=Ar,tt.f=ii,tt.N=an,tt.ea=zi,tt.W=Pr),Fi||(Un-=hn),Un>tt.o&&(Un=tt.o),tt.F=null,tt.J=null,ot.Fa!=null&&0<ot.Fa.length&&kn<Un&&(tt.J=m(ot,tt,kn,Un-kn),tt.F=ot.mb,tt.F==null&&tt.F.length==0)){gi=fn(ot,3,"Could not decode alpha data.");break t}kn<tt.j&&(hn=tt.j-kn,kn=tt.j,e(!(1&hn)),tt.O+=ot.R*hn,tt.N+=ot.B*(hn>>1),tt.W+=ot.B*(hn>>1),tt.F!=null&&(tt.J+=tt.width*hn)),kn<Un&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=kn-tt.j,tt.U=tt.va-tt.v,tt.T=Un-kn,gi=tt.put(tt))}en+1!=ot.Ic||Fi||(r(ot.sa,ot.ta-zt,$i,Ar+16*ot.R,zt),r(ot.qa,ot.ra-Vn,ii,an+8*ot.B,Vn),r(ot.Ha,ot.Ia-Vn,zi,Pr+8*ot.B,Vn))}if(!gi)return fn(pn,6,"Output aborted.")}return 1})(le,we)),we.bc!=null&&we.bc(we),Ne&=1}return Ne?(le.cb=0,Ne):0})(g,R)||(b=g.a)}}else b=g.a}b==0&&$.Oa!=null&&$.Oa.fd&&(b=Pu($.ba))}$=b}G=$!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var Ic=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,U){for(var N="",C=0;C<4;C++)N+=String.fromCharCode(w[U++]);return N}function v(w,U){return w[U+0]|w[U+1]<<8}function A(w,U){return(w[U+0]|w[U+1]<<8|w[U+2]<<16)>>>0}function I(w,U){return(w[U+0]|w[U+1]<<8|w[U+2]<<16|w[U+3]<<24)>>>0}new f;var _=[0],z=[0],M=[],B=new f,V=n,te=(function(w,U){var N={},C=0,E=!1,H=0,fe=0;if(N.frames=[],!(function(k,P){for(var Y=0;Y<4;Y++)if(k[P+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(w,U)){for(I(w,U+=4),U+=8;U<w.length;){var ne=d(w,U),he=I(w,U+=4);U+=4;var J=he+(1&he);switch(ne){case"VP8 ":case"VP8L":N.frames[C]===void 0&&(N.frames[C]={}),(X=N.frames[C]).src_off=E?fe:U-8,X.src_size=H+he+8,C++,E&&(E=!1,H=0,fe=0);break;case"VP8X":(X=N.header={}).feature_flags=w[U];var de=U+4;X.canvas_width=1+A(w,de),de+=3,X.canvas_height=1+A(w,de),de+=3;break;case"ALPH":E=!0,H=J+8,fe=U-8;break;case"ANIM":(X=N.header).bgcolor=I(w,U),de=U+4,X.loop_count=v(w,de),de+=2;break;case"ANMF":var Ee,X;(X=N.frames[C]={}).offset_x=2*A(w,U),U+=3,X.offset_y=2*A(w,U),U+=3,X.width=1+A(w,U),U+=3,X.height=1+A(w,U),U+=3,X.duration=A(w,U),U+=3,Ee=w[U++],X.dispose=1&Ee,X.blend=Ee>>1&1}ne!="ANMF"&&(U+=J)}return N}})(V,0);te.response=V,te.rgbaoutput=!0,te.dataurl=!1;var ae=te.header?te.header:null,se=te.frames?te.frames:null;if(ae){ae.loop_counter=ae.loop_count,_=[ae.canvas_height],z=[ae.canvas_width];for(var Se=0;Se<se.length&&se[Se].blend!=0;Se++);}var je=se[0],K=B.WebPDecodeRGBA(V,je.src_off,je.src_size,z,_);je.rgba=K,je.imgwidth=z[0],je.imgheight=_[0];for(var O=0;O<z[0]*_[0]*4;O++)M[O]=K[O];return this.width=z,this.height=_,this.data=M,this}function Q7(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function X7(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,c,h,f,d,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=k;Object.defineProperty(this,"pdf",{get:function(){return P}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(oe){Y=!!oe}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(oe){W=!!oe}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(oe){isNaN(oe)||(re=oe)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(oe){isNaN(oe)||(pe=oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(oe){var nt;typeof oe=="number"?nt=[oe,oe,oe,oe]:((nt=new Array(4))[0]=oe[0],nt[1]=oe.length>=2?oe[1]:nt[0],nt[2]=oe.length>=3?oe[2]:nt[0],nt[3]=oe.length>=4?oe[3]:nt[1]),d.margin=nt}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(oe){_e=oe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(oe){me=oe}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(oe){Oe=oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(oe){oe instanceof v&&(d=oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(oe){d.path=oe}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(oe){ge=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var nt;nt=I(oe),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var nt=I(oe);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var Xe=null,et=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(oe){Xe=null,et=null,lt=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var nt;if(this.ctx.font=oe,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var Wt=nt[1];nt[2];var Tt=nt[3],qe=nt[4];nt[5];var rt=nt[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(it==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Nt=(function(vt){var fi,Xt,Ct=[],Pt=vt.trim();if(Pt==="")return i0;if(Pt in Ob)return[Ob[Pt]];for(;Pt!=="";){switch(Xt=null,fi=(Pt=zb(Pt)).charAt(0)){case'"':case"'":Xt=H7(Pt.substring(1),fi);break;default:Xt=G7(Pt)}if(Xt===null||(Ct.push(Xt[0]),(Pt=zb(Xt[1]))!==""&&Pt.charAt(0)!==","))return i0;Pt=Pt.replace(/^,/,"")}return Ct})(rt);if(this.fontFaces){var _t=(function(vt,fi){var Xt=vt.getFontList(),Ct=JSON.stringify(Xt);if(Xe===null||et!==Ct){var Pt=(function(Kt){var St=[];return Object.keys(Kt).forEach(function(Ln){Kt[Ln].forEach(function(Mt){var Ot=null;switch(Mt){case"bold":Ot={family:Ln,weight:"bold"};break;case"italic":Ot={family:Ln,style:"italic"};break;case"bolditalic":Ot={family:Ln,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Ln}}Ot!==null&&(Ot.ref={name:Ln,style:Mt},St.push(Ot))})}),St})(Xt);Xe=(function(Kt){for(var St={},Ln=0;Ln<Kt.length;++Ln){var Mt=n0(Kt[Ln]),Ot=Mt.family,Mn=Mt.stretch,wt=Mt.style,bt=Mt.weight;St[Ot]=St[Ot]||{},St[Ot][Mn]=St[Ot][Mn]||{},St[Ot][Mn][wt]=St[Ot][Mn][wt]||{},St[Ot][Mn][wt][bt]=Mt}return St})(Pt.concat(fi)),et=Ct}return Xe})(this.pdf,this.fontFaces),$t=Nt.map(function(vt){return{family:vt,stretch:"normal",weight:Tt,style:Wt}}),Jt=(function(vt,fi,Xt){for(var Ct=(Xt=Xt||{}).defaultFontFamily||"times",Pt=Object.assign({},q7,Xt.genericFontFamilies||{}),Kt=null,St=null,Ln=0;Ln<fi.length;++Ln)if(Pt[(Kt=n0(fi[Ln])).family]&&(Kt.family=Pt[Kt.family]),vt.hasOwnProperty(Kt.family)){St=vt[Kt.family];break}if(!(St=St||vt[Ct]))throw new Error("Could not find a font-family for the rule '"+Pb(Kt)+"' and default family '"+Ct+"'.");if(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];var Mn=H0[Mt],wt=Mn<=H0.normal?-1:1,bt=Mb(Ot,Z4,Mn,wt);if(!bt)throw new Error("Could not find a matching font-stretch value for "+Mt);return bt})(Kt.stretch,St),St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];for(var Mn=X4[Mt],wt=0;wt<Mn.length;++wt)if(Ot[Mn[wt]])return Ot[Mn[wt]];throw new Error("Could not find a matching font-style for "+Mt)})(Kt.style,St),!(St=(function(Mt,Ot){if(Ot[Mt])return Ot[Mt];if(Mt===400&&Ot[500])return Ot[500];if(Mt===500&&Ot[400])return Ot[400];var Mn=U7[Mt],wt=Mb(Ot,J4,Mn,Mt<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Mt);return wt})(Kt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Pb(Kt)+"'.");return St})(_t,$t);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Vt="";(Tt==="bold"||parseInt(Tt,10)>=700||Wt==="bold")&&(Vt="bold"),Wt==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var on="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Nt.length;mt++){if(this.pdf.internal.getFont(Nt[mt],Vt,{noFallback:!0,disableWarning:!0})!==void 0){on=Nt[mt];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(Nt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)on=Nt[mt],Vt="bold";else if(this.pdf.internal.getFont(Nt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){on=Nt[mt],Vt="normal";break}}if(on===""){for(var Ht=0;Ht<Nt.length;Ht++)if(Qt[Nt[Ht]]){on=Qt[Nt[Ht]];break}}on=on===""?"Times":on,this.pdf.setFont(on,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};A.prototype.setLineDash=function(k){this.lineDash=k},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){se.call(this,"fill",!1)},A.prototype.stroke=function(){se.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(k,P)},A.prototype.closePath=function(){var k=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Zn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){k=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},A.prototype.lineTo=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(Y.x,Y.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},A.prototype.quadraticCurveTo=function(k,P,Y,W){if(isNaN(Y)||isNaN(W)||isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new c(Y,W)),pe=this.ctx.transform.applyToPoint(new c(k,P));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new c(re.x,re.y)},A.prototype.bezierCurveTo=function(k,P,Y,W,re,pe){if(isNaN(re)||isNaN(pe)||isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new c(re,pe)),me=this.ctx.transform.applyToPoint(new c(k,P)),Oe=this.ctx.transform.applyToPoint(new c(Y,W));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Oe.x,y2:Oe.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new c(_e.x,_e.y)},A.prototype.arc=function(k,P,Y,W,re,pe){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(re))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new c(k,P));k=_e.x,P=_e.y;var me=this.ctx.transform.applyToPoint(new c(0,Y)),Oe=this.ctx.transform.applyToPoint(new c(0,0));Y=Math.sqrt(Math.pow(me.x-Oe.x,2)+Math.pow(me.y-Oe.y,2))}Math.abs(re-W)>=2*Math.PI&&(W=0,re=2*Math.PI),this.path.push({type:"arc",x:k,y:P,radius:Y,startAngle:W,endAngle:re,counterclockwise:pe})},A.prototype.arcTo=function(k,P,Y,W,re){throw new Error("arcTo not implemented.")},A.prototype.rect=function(k,P,Y,W){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,P),this.lineTo(k+Y,P),this.lineTo(k+Y,P+W),this.lineTo(k,P+W),this.lineTo(k,P),this.lineTo(k+Y,P),this.lineTo(k,P)},A.prototype.fillRect=function(k,P,Y,W){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,P,Y,W),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},A.prototype.strokeRect=function(k,P,Y,W){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");z.call(this)||(this.beginPath(),this.rect(k,P,Y,W),this.stroke())},A.prototype.clearRect=function(k,P,Y,W){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,P,Y,W))},A.prototype.save=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},A.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(P),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(k){var P,Y,W,re;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))P=0,Y=0,W=0,re=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(pe!==null)P=parseInt(pe[1]),Y=parseInt(pe[2]),W=parseInt(pe[3]),re=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)P=parseInt(pe[1]),Y=parseInt(pe[2]),W=parseInt(pe[3]),re=parseFloat(pe[4]);else{if(re=1,typeof k=="string"&&k.charAt(0)!=="#"){var _e=new H4(k);k=_e.ok?_e.toHex():"#000000"}k.length===4?(P=k.substring(1,2),P+=P,Y=k.substring(2,3),Y+=Y,W=k.substring(3,4),W+=W):(P=k.substring(1,3),Y=k.substring(3,5),W=k.substring(5,7)),P=parseInt(P,16),Y=parseInt(Y,16),W=parseInt(W,16)}}return{r:P,g:Y,b:W,a:re,style:k}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},z=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(k,P,Y,W){if(isNaN(P)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!_.call(this)){var re=J(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:k,x:P,y:Y,scale:pe,angle:re,align:this.textAlign,maxWidth:W})}},A.prototype.strokeText=function(k,P,Y,W){if(isNaN(P)||isNaN(Y)||typeof k!="string")throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!z.call(this)){W=isNaN(W)?void 0:W;var re=J(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:k,x:P,y:Y,scale:pe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:W})}},A.prototype.measureText=function(k){if(typeof k!="string")throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,Y=this.pdf.internal.scaleFactor,W=P.internal.getFontSize(),re=P.getStringUnitWidth(k)*W/P.internal.scaleFactor;return new function(pe){var _e=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:re*=Math.round(96*Y/72*1e4)/1e4})},A.prototype.scale=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new f(k,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.rotate=function(k){if(isNaN(k))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},A.prototype.translate=function(k,P){if(isNaN(k)||isNaN(P))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new f(1,0,0,1,k,P);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.transform=function(k,P,Y,W,re,pe){if(isNaN(k)||isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(re)||isNaN(pe))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(k,P,Y,W,re,pe);this.ctx.transform=this.ctx.transform.multiply(_e)},A.prototype.setTransform=function(k,P,Y,W,re,pe){k=isNaN(k)?1:k,P=isNaN(P)?0:P,Y=isNaN(Y)?0:Y,W=isNaN(W)?1:W,re=isNaN(re)?0:re,pe=isNaN(pe)?0:pe,this.ctx.transform=new f(k,P,Y,W,re,pe)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(k,P,Y,W,re,pe,_e,me,Oe){var ge=this.pdf.getImageProperties(k),Xe=1,et=1,lt=1,oe=1;W!==void 0&&me!==void 0&&(lt=me/W,oe=Oe/re,Xe=ge.width/W*me/W,et=ge.height/re*Oe/re),pe===void 0&&(pe=P,_e=Y,P=0,Y=0),W!==void 0&&me===void 0&&(me=W,Oe=re),W===void 0&&me===void 0&&(me=ge.width,Oe=ge.height);var nt=this.ctx.transform.decompose(),Wt=J(nt.rotate.shx),Tt=new f,qe=(Tt=(Tt=(Tt=Tt.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new h(pe-P*lt,_e-Y*oe,W*Xe,re*et));if(this.autoPaging){for(var rt,it=B.call(this,qe),Nt=[],_t=0;_t<it.length;_t+=1)Nt.indexOf(it[_t])===-1&&Nt.push(it[_t]);ae(Nt);for(var $t=Nt[0],Jt=Nt[Nt.length-1],Vt=$t;Vt<Jt+1;Vt++){this.pdf.setPage(Vt);var on=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Vt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Vt===1?0:mt+(Vt-2)*Ht;if(this.ctx.clip_path.length!==0){var fi=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(rt,this.posX+this.margin[3],-vt+Qt+this.ctx.prevPageLastElemOffset),Se.call(this,"fill",!0),this.path=fi}var Xt=JSON.parse(JSON.stringify(qe));Xt=te([Xt],this.posX+this.margin[3],-vt+Qt+this.ctx.prevPageLastElemOffset)[0];var Ct=(Vt>$t||Vt<Jt)&&M.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],on,Ht,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,Wt),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Wt)};var B=function(k,P,Y){var W=[];P=P||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":W.push(Math.floor((k.y+re)/Y)+1);break;case"arc":W.push(Math.floor((k.y+re-k.radius)/Y)+1),W.push(Math.floor((k.y+re+k.radius)/Y)+1);break;case"qct":var pe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);W.push(Math.floor((pe.y+re)/Y)+1),W.push(Math.floor((pe.y+pe.h+re)/Y)+1);break;case"bct":var _e=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);W.push(Math.floor((_e.y+re)/Y)+1),W.push(Math.floor((_e.y+_e.h+re)/Y)+1);break;case"rect":W.push(Math.floor((k.y+re)/Y)+1),W.push(Math.floor((k.y+k.h+re)/Y)+1)}for(var me=0;me<W.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<W[me];)V.call(this);return W},V=function(){var k=this.fillStyle,P=this.strokeStyle,Y=this.font,W=this.lineCap,re=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=P,this.font=Y,this.lineCap=W,this.lineWidth=re,this.lineJoin=pe},te=function(k,P,Y){for(var W=0;W<k.length;W++)switch(k[W].type){case"bct":k[W].x2+=P,k[W].y2+=Y;case"qct":k[W].x1+=P,k[W].y1+=Y;default:k[W].x+=P,k[W].y+=Y}return k},ae=function(k){return k.sort(function(P,Y){return P-Y})},se=function(k,P){var Y=this.fillStyle,W=this.strokeStyle,re=this.lineCap,pe=this.lineWidth,_e=Math.abs(pe*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var Oe,ge,Xe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),lt=[],oe=0;oe<et.length;oe++)if(et[oe].x!==void 0)for(var nt=B.call(this,et[oe]),Wt=0;Wt<nt.length;Wt+=1)lt.indexOf(nt[Wt])===-1&&lt.push(nt[Wt]);for(var Tt=0;Tt<lt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<lt[Tt];)V.call(this);ae(lt);for(var qe=lt[0],rt=lt[lt.length-1],it=qe;it<rt+1;it++){this.pdf.setPage(it),this.fillStyle=Y,this.strokeStyle=W,this.lineCap=re,this.lineWidth=_e,this.lineJoin=me;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=it===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=it===1?0:$t+(it-2)*Jt;if(this.ctx.clip_path.length!==0){var on=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Oe,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),Se.call(this,k,!0),this.path=on}if(ge=JSON.parse(JSON.stringify(Xe)),this.path=te(ge,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),P===!1||it===0){var Qt=(it>qe||it<rt)&&M.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Jt,null).clip().discardPath()),Se.call(this,k,P),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Xe}else this.lineWidth=_e,Se.call(this,k,P),this.lineWidth=pe},Se=function(k,P){if((k!=="stroke"||P||!z.call(this))&&(k==="stroke"||P||!_.call(this))){for(var Y,W,re=[],pe=this.path,_e=0;_e<pe.length;_e++){var me=pe[_e];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var Oe=re.length;if(pe[_e-1]&&!isNaN(pe[_e-1].x)&&(Y=[me.x-pe[_e-1].x,me.y-pe[_e-1].y],Oe>0)){for(;Oe>=0;Oe--)if(re[Oe-1].close!==!0&&re[Oe-1].begin!==!0){re[Oe-1].deltas.push(Y),re[Oe-1].abs.push(me);break}}break;case"bct":Y=[me.x1-pe[_e-1].x,me.y1-pe[_e-1].y,me.x2-pe[_e-1].x,me.y2-pe[_e-1].y,me.x-pe[_e-1].x,me.y-pe[_e-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var ge=pe[_e-1].x+2/3*(me.x1-pe[_e-1].x),Xe=pe[_e-1].y+2/3*(me.y1-pe[_e-1].y),et=me.x+2/3*(me.x1-me.x),lt=me.y+2/3*(me.y1-me.y),oe=me.x,nt=me.y;Y=[ge-pe[_e-1].x,Xe-pe[_e-1].y,et-pe[_e-1].x,lt-pe[_e-1].y,oe-pe[_e-1].x,nt-pe[_e-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}W=P?null:k==="stroke"?"stroke":"fill";for(var Wt=!1,Tt=0;Tt<re.length;Tt++)if(re[Tt].arc)for(var qe=re[Tt].abs,rt=0;rt<qe.length;rt++){var it=qe[rt];it.type==="arc"?O.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,P,!Wt):E.call(this,it.x,it.y),Wt=!0}else if(re[Tt].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(re[Tt].begin!==!0){var Nt=re[Tt].start.x,_t=re[Tt].start.y;H.call(this,re[Tt].deltas,Nt,_t),Wt=!0}W&&w.call(this,W),P&&U.call(this)}},je=function(k){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Y;case"top":return k+P-Y;case"hanging":return k+P-2*Y;case"middle":return k+P/2-Y;default:return k}},K=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(P,Y){this.colorStops.push([P,Y])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(k,P,Y,W,re,pe,_e,me,Oe){for(var ge=ne.call(this,Y,W,re,pe),Xe=0;Xe<ge.length;Xe++){var et=ge[Xe];Xe===0&&(Oe?N.call(this,et.x1+k,et.y1+P):E.call(this,et.x1+k,et.y1+P)),fe.call(this,k,P,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}me?U.call(this):w.call(this,_e)},w=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(k,P){this.pdf.internal.out(t(k)+" "+r(P)+" m")},C=function(k){var P;switch(k.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var Y,W,re,pe=this.pdf.getTextDimensions(k.text),_e=je.call(this,k.y),me=K.call(this,_e)-pe.h,Oe=this.ctx.transform.applyToPoint(new c(k.x,_e));if(this.autoPaging){var ge=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var et=this.ctx.transform.applyToRectangle(new h(k.x,_e,pe.w,pe.h)),lt=Xe.applyToRectangle(new h(k.x,me,pe.w,pe.h)),oe=B.call(this,lt),nt=[],Wt=0;Wt<oe.length;Wt+=1)nt.indexOf(oe[Wt])===-1&&nt.push(oe[Wt]);ae(nt);for(var Tt=nt[0],qe=nt[nt.length-1],rt=Tt;rt<qe+1;rt++){this.pdf.setPage(rt);var it=rt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],$t=_t-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Vt=Jt-this.margin[3],on=rt===1?0:Nt+(rt-2)*$t;if(this.ctx.clip_path.length!==0){var Qt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Y,this.posX+this.margin[3],-1*on+it),Se.call(this,"fill",!0),this.path=Qt}var mt=te([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*k.scale),re=this.lineWidth,this.lineWidth=re*k.scale);var Ht=this.autoPaging!=="text";if(Ht||mt.y+mt.h<=_t){if(Ht||mt.y>=it&&mt.x<=Jt){var vt=Ht?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Jt-mt.x)[0],fi=te([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0],Xt=Ht&&(rt>Tt||rt<qe)&&M.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,$t,null).clip().discardPath()),this.pdf.text(vt,fi.x,fi.y,{angle:k.angle,align:P,renderingMode:k.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else mt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-mt.y);k.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=re)}}else k.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*k.scale),re=this.lineWidth,this.lineWidth=re*k.scale),this.pdf.text(k.text,Oe.x+this.posX,Oe.y+this.posY,{angle:k.angle,align:P,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=re)},E=function(k,P,Y,W){Y=Y||0,W=W||0,this.pdf.internal.out(t(k+Y)+" "+r(P+W)+" l")},H=function(k,P,Y){return this.pdf.lines(k,P,Y,null,null)},fe=function(k,P,Y,W,re,pe,_e,me){this.pdf.internal.out([e(s(Y+k)),e(o(W+P)),e(s(re+k)),e(o(pe+P)),e(s(_e+k)),e(o(me+P)),"c"].join(" "))},ne=function(k,P,Y,W){for(var re=2*Math.PI,pe=Math.PI/2;P>Y;)P-=re;var _e=Math.abs(Y-P);_e<re&&W&&(_e=re-_e);for(var me=[],Oe=W?-1:1,ge=P;_e>1e-5;){var Xe=ge+Oe*Math.min(_e,pe);me.push(he.call(this,k,ge,Xe)),_e-=Math.abs(Xe-ge),ge=Xe}return me},he=function(k,P,Y){var W=(Y-P)/2,re=k*Math.cos(W),pe=k*Math.sin(W),_e=re,me=-pe,Oe=_e*_e+me*me,ge=Oe+_e*re+me*pe,Xe=4/3*(Math.sqrt(2*Oe*ge)-ge)/(_e*pe-me*re),et=_e-Xe*me,lt=me+Xe*_e,oe=et,nt=-lt,Wt=W+P,Tt=Math.cos(Wt),qe=Math.sin(Wt);return{x1:k*Math.cos(P),y1:k*Math.sin(P),x2:et*Tt-lt*qe,y2:et*qe+lt*Tt,x3:oe*Tt-nt*qe,y3:oe*qe+nt*Tt,x4:k*Math.cos(Y),y4:k*Math.sin(Y)}},J=function(k){return 180*k/Math.PI},de=function(k,P,Y,W,re,pe){var _e=k+.5*(Y-k),me=P+.5*(W-P),Oe=re+.5*(Y-re),ge=pe+.5*(W-pe),Xe=Math.min(k,re,_e,Oe),et=Math.max(k,re,_e,Oe),lt=Math.min(P,pe,me,ge),oe=Math.max(P,pe,me,ge);return new h(Xe,lt,et-Xe,oe-lt)},Ee=function(k,P,Y,W,re,pe,_e,me){var Oe,ge,Xe,et,lt,oe,nt,Wt,Tt,qe,rt,it,Nt,_t,$t=Y-k,Jt=W-P,Vt=re-Y,on=pe-W,Qt=_e-re,mt=me-pe;for(ge=0;ge<41;ge++)Tt=(nt=(Xe=k+(Oe=ge/40)*$t)+Oe*((lt=Y+Oe*Vt)-Xe))+Oe*(lt+Oe*(re+Oe*Qt-lt)-nt),qe=(Wt=(et=P+Oe*Jt)+Oe*((oe=W+Oe*on)-et))+Oe*(oe+Oe*(pe+Oe*mt-oe)-Wt),ge==0?(rt=Tt,it=qe,Nt=Tt,_t=qe):(rt=Math.min(rt,Tt),it=Math.min(it,qe),Nt=Math.max(Nt,Tt),_t=Math.max(_t,qe));return new h(Math.round(rt),Math.round(it),Math.round(Nt-rt),Math.round(_t-it))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,P,Y=(k=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:P}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(yt.API),(function(n){var e=function(c){var h,f,d,v,A,I,_,z,M,B;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(A=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(I=(A=((A=((A=((A=(A-(B=A%85))/85)-(M=A%85))/85)-(z=A%85))/85)-(_=A%85))/85)%85,f.push(I+33,_+33,z+33,M+33,B+33)):f.push(122);return(function(V,te){for(var ae=te;ae>0;ae--)V.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var h,f,d,v,A,I=String,_="length",z=255,M="charCodeAt",B="slice",V="replace";for(c[B](-2),c=c[B](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),d=[],v=0,A=(c+=h="uuuuu"[B](c[_]%5||5))[_];A>v;v+=5)f=52200625*(c[M](v)-33)+614125*(c[M](v+1)-33)+7225*(c[M](v+2)-33)+85*(c[M](v+3)-33)+(c[M](v+4)-33),d.push(z&f>>24,z&f>>16,z&f>>8,z&f);return(function(te,ae){for(var se=ae;se>0;se--)te.pop()})(d,h[_]),I.fromCharCode.apply(I,d)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=P0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(yt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,I=0,_=function(z){var M=z.length,B=[],V=String.fromCharCode;for(I=0;I<M;I+=1)B.push(V(255&z.charCodeAt(I)));return B.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(_(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,c)}catch{}return h})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(yt.API),(function(n){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):zg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):zg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Zn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,I=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete I.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var _=0;_<v.length;++_){var z=v[_],M=z.src.find(function(B){return B.format==="truetype"});M&&d.addFont(M.url,z.ref.name,z.ref.style)}return I.windowHeight=I.windowHeight||0,I.windowHeight=I.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):I.windowHeight,d.context2d.save(!0),f(this.prop.container,I)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(I){return d.updateProgress(null,v),I}).then(v,A).then(function(I){return d.updateProgress(1),I})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),I=d.call(A,h,f);return c.convert(I,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,yt.getPageSize=function(h,f,d){if(Zn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,I=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var z,M=0,B=0;if(_.hasOwnProperty(I))M=_[I][1]/A,B=_[I][0]/A;else try{M=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",B>M&&(z=B,B=M,M=z);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",M>B&&(z=B,B=M,M=z)}return{width:B,height:M,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(n0):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(yt.API),yt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],h=r.exec(c);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=t.internal.newObject();v.push(A);var I=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(yt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(A){for(var I,_=256*A.charCodeAt(4)+A.charCodeAt(5),z=A.length,M={width:0,height:0,numcomponents:1},B=4;B<z;B+=2){if(B+=_,e.indexOf(A.charCodeAt(B+1))!==-1){I=256*A.charCodeAt(B+5)+A.charCodeAt(B+6),M={width:256*A.charCodeAt(B+7)+A.charCodeAt(B+8),height:I,numcomponents:A.charCodeAt(B+9)};break}_=256*A.charCodeAt(B+2)+A.charCodeAt(B+3)}return M})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return v}})(yt.API),yt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=N7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;s=d&&f===1?(function(O){for(var w=O.width,U=O.height,N=O.data,C=O.palette,E=O.depth,H=!1,fe=[],ne=[],he=void 0,J=!1,de=0,Ee=0;Ee<C.length;Ee++){var X=Hv(C[Ee],4),k=X[0],P=X[1],Y=X[2],W=X[3];fe.push(k,P,Y),W!=null&&(W===0?(de++,ne.length<1&&ne.push(Ee)):W<255&&(J=!0))}if(J||de>1){H=!0,ne=void 0;var re=w*U;he=new Uint8Array(re);for(var pe=new DataView(N.buffer),_e=0;_e<re;_e++){var me=r0(pe,_e,E),Oe=Hv(C[me],4)[3];he[_e]=Oe}}else de===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:N,alphaBytes:he,needSMask:H,palette:fe,mask:ne}})(o):f===2||f===4?(function(O){for(var w=O.data,U=O.width,N=O.height,C=O.channels,E=O.depth,H=C===2?"DeviceGray":"DeviceRGB",fe=C-1,ne=U*N,he=fe,J=ne*he,de=1*ne,Ee=Math.ceil(J*E/8),X=Math.ceil(de*E/8),k=new Uint8Array(Ee),P=new Uint8Array(X),Y=new DataView(w.buffer),W=new DataView(k.buffer),re=new DataView(P.buffer),pe=!1,_e=0;_e<ne;_e++){for(var me=_e*C,Oe=0;Oe<he;Oe++)Wb(W,r0(Y,me+Oe,E),_e*he+Oe,E);var ge=r0(Y,me+he,E);ge<(1<<E)-1&&(pe=!0),Wb(re,ge,1*_e,E)}return{colorSpace:H,colorsPerPixel:fe,sMaskBitsPerComponent:pe?E:void 0,colorBytes:k,alphaBytes:P,needSMask:pe}})(o):(function(O){var w=O.data,U=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(N){for(var C=N.length,E=new Uint8Array(2*C),H=new DataView(E.buffer,E.byteOffset,E.byteLength),fe=0;fe<C;fe++)H.setUint16(2*fe,N[fe],!1);return E})(w):w,needSMask:!1}})(o);var A,I,_,z=s,M=z.colorSpace,B=z.colorsPerPixel,V=z.sMaskBitsPerComponent,te=z.colorBytes,ae=z.alphaBytes,se=z.needSMask,Se=z.palette,je=z.mask,K=null;return r!==yt.API.image_compression.NONE&&typeof P0=="function"?(K=(function(O){var w;switch(O){case yt.API.image_compression.FAST:w=11;break;case yt.API.image_compression.MEDIUM:w=13;break;case yt.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),A=this.decode.FLATE_DECODE,I="/Predictor ".concat(K," /Colors ").concat(B," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=Ub(te,Math.ceil(c*B*v/8),B,v,r),se&&(_=Ub(ae,Math.ceil(c*V/8),1,V,r))):(A=void 0,I=void 0,n=te,se&&(_=ae)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:A,decodeParameters:I,transparency:je,palette:Se,sMask:_,predictor:K,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:V,colorSpace:M}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new K7(e),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new a0(100).encode(d,100);return n.processJPEG.call(this,v,t,r,s)},n.processGIF87A=n.processGIF89A})(yt.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){hi.log("bit decode error:"+t)}},oo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},oo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,v=r*this.width*4+4*s;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=n}},oo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,d=(c>>11)/e*255|0,v=s*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},oo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=c}},oo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new oo(e,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new a0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),Kb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new Kb(e),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new a0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(yt.API),yt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var v=r[d],A=r[d+1],I=r[d+2],_=r[d+3];o[h++]=v,o[h++]=A,o[h++]=I,c[f++]=_}var z=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:z,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},yt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=yt.API,ap=th.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=e.doKerning!==!1,I=0,_=n.length,z=0,M=h[0]||f,B=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(I=A&&Zn(d[r])==="object"&&!isNaN(parseInt(d[r][z],10))?d[r][z]/v:0,B.push((h[r]||M)/f+I)),z=r;return B},Fb=th.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(n=th.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:ap.apply(this,arguments).reduce(function(o,c){return o+c},0)},Bb=function(n,e,t,r){for(var s=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+e[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Vb=function(n,e,t){t||(t={});var r,s,o,c,h,f,d,v=[],A=[v],I=t.textIndent||0,_=0,z=0,M=n.split(" "),B=ap.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?M[0].length+2:t.lineIndent||0){var V=Array(f).join(" "),te=[];M.map(function(se){(se=se.split(/\s*\n/)).length>1?te=te.concat(se.map(function(Se,je){return(je&&Se.length?`
`:"")+Se})):te.push(se[0])}),M=te,f=Fb.apply(this,[V,t])}for(o=0,c=M.length;o<c;o++){var ae=0;if(r=M[o],f&&r[0]==`
`&&(r=r.substr(1),ae=1),I+_+(z=(s=ap.apply(this,[r,t])).reduce(function(se,Se){return se+Se},0))>e||ae){if(z>e){for(h=Bb.apply(this,[r,s,e-(I+_),e]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);z=s.slice(r.length-(v[0]?v[0].length:0)).reduce(function(se,Se){return se+Se},0)}else v=[r];A.push(v),I=z+f,_=B}else v.push(r),I+=_+z,_=B}return d=f?function(se,Se){return(Se?V:"")+se.join(" ")}:function(se){return se.join(" ")},A.map(d)},th.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),I="Unicode";return A.metadata[I]?{widths:A.metadata[I].widths||{0:1},kerning:A.metadata[I].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(Vb.apply(this,[r[h],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var c=function(I){return"0x"+parseInt(I,10).toString(16)},h=n.__fontmetrics__.compress=function(I){var _,z,M,B,V=["{"];for(var te in I){if(_=I[te],isNaN(parseInt(te,10))?z="'"+te+"'":(te=parseInt(te,10),z=(z=c(te).slice(2)).slice(0,-1)+s[z.slice(-1)]),typeof _=="number")_<0?(M=c(_).slice(3),B="-"):(M=c(_).slice(2),B=""),M=B+M.slice(0,-1)+s[M.slice(-1)];else{if(Zn(_)!=="object")throw new Error("Don't know what to do with value type "+Zn(_)+".");M=h(_)}V.push(z+M)}return V.push("}"),V.join("")},f=n.__fontmetrics__.uncompress=function(I){if(typeof I!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,z,M,B,V={},te=1,ae=V,se=[],Se="",je="",K=I.length-1,O=1;O<K;O+=1)(B=I[O])=="'"?_?(M=_.join(""),_=void 0):_=[]:_?_.push(B):B=="{"?(se.push([ae,M]),ae={},M=void 0):B=="}"?((z=se.pop())[0][z[1]]=ae,M=void 0,ae=z[0]):B=="-"?te=-1:M===void 0?r.hasOwnProperty(B)?(Se+=r[B],M=parseInt(Se,16)*te,te=1,Se=""):Se+=B:r.hasOwnProperty(B)?(je+=r[B],ae[M]=parseInt(je,16)*te,te=1,M=void 0,je=""):je+=B;return V},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(I){var _=I.font,z=A.Unicode[_.postScriptName];z&&(_.metadata.Unicode={},_.metadata.Unicode.widths=z.widths,_.metadata.Unicode.kerning=z.kerning);var M=v.Unicode[_.postScriptName];M&&(_.metadata.Unicode.encoding=M,_.encoding=M.codePages[0])}])})(yt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(dp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(yt),yt.API.addSvgAsImage=function(n,e,t,r,s,o,c,h){if(isNaN(e)||isNaN(t))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Yt.canvg?Promise.resolve(Yt.canvg):zg(()=>import("./index.es-BTL1Y3za.js"),[])).catch(function(I){return Promise.reject(new Error("Could not load canvg: "+I))}).then(function(I){return I.default?I.default:I}).then(function(I){return I.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(I){return I.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,c,h)})},yt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},yt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,A=0;function I(z,M){var B,V=!1;for(B=0;B<z.length;B+=1)z[B]===M&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=h.length;for(A=0;A<_;A+=1)t[h[A]].value=t[h[A]].defaultValue,t[h[A]].explicitSet=!1}if(Zn(n)==="object"){for(s in n)if(o=n[s],I(h,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&I(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var z,M=[];for(z in t)t[z].explicitSet===!0&&(t[z].type==="name"?M.push("/"+z+" /"+t[z].value):M.push("/"+z+" "+t[z].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},yt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",X7),this.internal.events.subscribe("postPutResources",Q7)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,I=o.length;A<I;++A){if(h=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},r=function(o){var c,h,f,d,v,A,I;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,I=(h=Object.keys(o).sort(function(_,z){return _-z})).length;A<I;A++)c=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,I=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",z=0;z<I.length;z++)_+=String.fromCharCode(I[z]);var M=d();v({data:_,addLength1:!0,objectId:M}),f("endobj");var B=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var V=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+oh(h.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var te=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+oh(h.fontName)),f("/FontDescriptor "+V+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+B+" 0 R"),f("/BaseFont /"+oh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+te+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,I="",_=0;_<A.length;_++)I+=String.fromCharCode(A[_]);var z=d();v({data:I,addLength1:!0,objectId:z}),f("endobj");var M=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var B=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+z+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+oh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var V=0;V<h.metadata.hmtx.widths.length;V++)h.metadata.hmtx.widths[V]=parseInt(h.metadata.hmtx.widths[V]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+oh(h.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},I=A.pdfEscape,_=A.activeFontKey,z=A.fonts,M=_,B="",V=0,te="",ae=z[M].encoding;if(z[M].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(te=h,M=_,Array.isArray(h)&&(te=h[0]),V=0;V<te.length;V+=1)z[M].metadata.hasOwnProperty("cmap")&&(c=z[M].metadata.cmap.unicode.codeMap[te[V].charCodeAt(0)]),c||te[V].charCodeAt(0)<256&&z[M].metadata.hasOwnProperty("Unicode")?B+=te[V]:B+="";var se="";return parseInt(M.slice(1))<14||ae==="WinAnsiEncoding"?se=I(B,M).split("").map(function(Se){return Se.charCodeAt(0).toString(16)}).join(""):ae==="Identity-H"&&(se=t(B,z[M])),A.isHex=!0,{text:se,x:f,y:d,options:v,mutex:A}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(s(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:c})).text}])})(yt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(yt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,h,f,d,v,A=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],z={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,ae=0;this.__bidiEngine__={};var se=function(N){var C=N.charCodeAt(),E=C>>8,H=M[E];return H!==void 0?A[256*H+(255&C)]:E===252||E===253?"AL":V.test(E)?"L":E===8?"R":"N"},Se=function(N){for(var C,E=0;E<N.length;E++){if((C=se(N.charAt(E)))==="L")return!1;if(C==="R")return!0}return!1},je=function(N,C,E,H){var fe,ne,he,J,de=C[H];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"N":case"AN":break;case"EN":te&&(de="AN");break;case"AL":te=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":H<1||H+1>=C.length||(fe=E[H-1])!=="EN"&&fe!=="AN"||(ne=C[H+1])!=="EN"&&ne!=="AN"?de="N":te&&(ne="AN"),de=ne===fe?ne:"N";break;case"ES":de=(fe=H>0?E[H-1]:"B")==="EN"&&H+1<C.length&&C[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&E[H-1]==="EN"){de="EN";break}if(te){de="N";break}for(he=H+1,J=C.length;he<J&&C[he]==="ET";)he++;de=he<J&&C[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(J=C.length,he=H+1;he<J&&C[he]==="NSM";)he++;if(he<J){var Ee=N[H],X=Ee>=1425&&Ee<=2303||Ee===64286;if(fe=C[he],X&&(fe==="R"||fe==="AL")){de="R";break}}}de=H<1||(fe=C[H-1])==="B"?"N":E[H-1];break;case"B":te=!1,s=!0,de=ae;break;case"S":o=!0,de="N"}return de},K=function(N,C,E){var H=N.split("");return E&&O(H,E,{hiLevel:ae}),H.reverse(),C&&C.reverse(),H.join("")},O=function(N,C,E){var H,fe,ne,he,J,de=-1,Ee=N.length,X=0,k=[],P=ae?_:I,Y=[];for(te=!1,s=!1,o=!1,fe=0;fe<Ee;fe++)Y[fe]=se(N[fe]);for(ne=0;ne<Ee;ne++){if(J=X,k[ne]=je(N,Y,k,ne),H=240&(X=P[J][z[k[ne]]]),X&=15,C[ne]=he=P[X][5],H>0)if(H===16){for(fe=de;fe<ne;fe++)C[fe]=1;de=-1}else de=-1;if(P[X][6])de===-1&&(de=ne);else if(de>-1){for(fe=de;fe<ne;fe++)C[fe]=he;de=-1}Y[ne]==="B"&&(C[ne]=0),E.hiLevel|=he}o&&(function(W,re,pe){for(var _e=0;_e<pe;_e++)if(W[_e]==="S"){re[_e]=ae;for(var me=_e-1;me>=0&&W[me]==="WS";me--)re[me]=ae}})(Y,C,Ee)},w=function(N,C,E,H,fe){if(!(fe.hiLevel<N)){if(N===1&&ae===1&&!s)return C.reverse(),void(E&&E.reverse());for(var ne,he,J,de,Ee=C.length,X=0;X<Ee;){if(H[X]>=N){for(J=X+1;J<Ee&&H[J]>=N;)J++;for(de=X,he=J-1;de<he;de++,he--)ne=C[de],C[de]=C[he],C[he]=ne,E&&(ne=E[de],E[de]=E[he],E[he]=ne);X=J}X++}}},U=function(N,C,E){var H=N.split(""),fe={hiLevel:ae};return E||(E=[]),O(H,E,fe),(function(ne,he,J){if(J.hiLevel!==0&&v)for(var de,Ee=0;Ee<ne.length;Ee++)he[Ee]===1&&(de=B.indexOf(ne[Ee]))>=0&&(ne[Ee]=B[de+1])})(H,E,fe),w(2,H,C,E,fe),w(1,H,C,E,fe),H.join("")};return this.__bidiEngine__.doBidiReorder=function(N,C,E){if((function(fe,ne){if(ne)for(var he=0;he<fe.length;he++)ne[he]=he;h===void 0&&(h=Se(fe)),d===void 0&&(d=Se(fe))})(N,C),c||!f||d)if(c&&f&&h^d)ae=h?1:0,N=K(N,C,E);else if(!c&&f&&d)ae=h?1:0,N=U(N,C,E),N=K(N,C);else if(!c||h||f||d){if(c&&!f&&h^d)N=K(N,C),h?(ae=0,N=U(N,C,E)):(ae=1,N=U(N,C,E),N=K(N,C));else if(c&&h&&!f&&d)ae=1,N=U(N,C,E),N=K(N,C);else if(!c&&!f&&h^d){var H=v;h?(ae=1,N=U(N,C,E),ae=0,v=!1,N=U(N,C,E),v=H):(ae=0,N=U(N,C,E),N=K(N,C),ae=1,v=!1,N=U(N,C,E),v=H,N=K(N,C))}}else ae=0,N=U(N,C,E);else ae=h?1:0,N=U(N,C,E);return N},this.__bidiEngine__.setOptions=function(N){N&&(c=N.isInputVisual,f=N.isOutputVisual,h=N.isInputRtl,d=N.isOutputRtl,v=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(c=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?c.push([t.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):c.push([t.doBidiReorder(s[h])]);r.text=c}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Du(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new fj(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Z7(this.contents),this.head=new ej(this),this.name=new aj(this),this.cmap=new tw(this),this.toUnicode={},this.hhea=new tj(this),this.maxp=new sj(this),this.hmtx=new oj(this),this.post=new ij(this),this.os2=new nj(this),this.loca=new hj(this),this.glyf=new lj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var mo,Du=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,c,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),Z7=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,c,h,f,d,v,A,I,_,z,M;for(M in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),c=Math.floor(A/f),v=16*_-A,(s=new Du).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(c),s.writeShort(v),o=16*_,d=s.pos+o,h=null,z=[],t)for(I=t[M],s.writeString(M),s.writeInt(n(I)),s.writeInt(d),s.writeInt(I.length),z=z.concat(I),M==="head"&&(h=d),d+=I.length;d%4;)z.push(0),d++;return s.write(z),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,c;for(t=nw.call(t);t.length%4;)t.push(0);for(o=new Du(t),s=0,r=0,c=t.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),J7={}.hasOwnProperty,Zo=function(n,e){for(var t in e)J7.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};mo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var ej=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Du).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Qb=(function(){function n(e,t){var r,s,o,c,h,f,d,v,A,I,_,z,M,B,V,te,ae;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),I=_/2,e.pos+=6,o=(function(){var se,Se;for(Se=[],f=se=0;0<=I?se<I:se>I;f=0<=I?++se:--se)Se.push(e.readUInt16());return Se})(),e.pos+=2,M=(function(){var se,Se;for(Se=[],f=se=0;0<=I?se<I:se>I;f=0<=I?++se:--se)Se.push(e.readUInt16());return Se})(),d=(function(){var se,Se;for(Se=[],f=se=0;0<=I?se<I:se>I;f=0<=I?++se:--se)Se.push(e.readUInt16());return Se})(),v=(function(){var se,Se;for(Se=[],f=se=0;0<=I?se<I:se>I;f=0<=I?++se:--se)Se.push(e.readUInt16());return Se})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var se,Se;for(Se=[],f=se=0;0<=s?se<s:se>s;f=0<=s?++se:--se)Se.push(e.readUInt16());return Se})(),f=V=0,ae=o.length;V<ae;f=++V)for(B=o[f],r=te=z=M[f];z<=B?te<=B:te>=B;r=z<=B?++te:--te)v[f]===0?c=r+d[f]:(c=h[v[f]/2+(r-z)-(I-f)]||0)!==0&&(c+=d[f]),this.codeMap[r]=65535&c}e.pos=A}return n.encode=function(e,t){var r,s,o,c,h,f,d,v,A,I,_,z,M,B,V,te,ae,se,Se,je,K,O,w,U,N,C,E,H,fe,ne,he,J,de,Ee,X,k,P,Y,W,re,pe,_e,me,Oe,ge,Xe;switch(H=new Du,c=Object.keys(e).sort(function(et,lt){return et-lt}),t){case"macroman":for(M=0,B=(function(){var et=[];for(z=0;z<256;++z)et.push(0);return et})(),te={0:0},o={},fe=0,de=c.length;fe<de;fe++)te[me=e[s=c[fe]]]==null&&(te[me]=++M),o[s]={old:e[s],new:te[e[s]]},B[s]=te[e[s]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(B),{charMap:o,subtable:H.data,maxGlyphID:M+1};case"unicode":for(C=[],A=[],ae=0,te={},r={},V=d=null,ne=0,Ee=c.length;ne<Ee;ne++)te[Se=e[s=c[ne]]]==null&&(te[Se]=++ae),r[s]={old:Se,new:te[Se]},h=te[Se]-s,V!=null&&h===d||(V&&A.push(V),C.push(s),d=h),V=s;for(V&&A.push(V),A.push(65535),C.push(65535),U=2*(w=C.length),O=2*Math.pow(Math.log(w)/Math.LN2,2),I=Math.log(O/2)/Math.LN2,K=2*w-O,f=[],je=[],_=[],z=he=0,X=C.length;he<X;z=++he){if(N=C[z],v=A[z],N===65535){f.push(0),je.push(0);break}if(N-(E=r[N].new)>=32768)for(f.push(0),je.push(2*(_.length+w-z)),s=J=N;N<=v?J<=v:J>=v;s=N<=v?++J:--J)_.push(r[s].new);else f.push(E-N),je.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*w+2*_.length),H.writeUInt16(0),H.writeUInt16(U),H.writeUInt16(O),H.writeUInt16(I),H.writeUInt16(K),pe=0,k=A.length;pe<k;pe++)s=A[pe],H.writeUInt16(s);for(H.writeUInt16(0),_e=0,P=C.length;_e<P;_e++)s=C[_e],H.writeUInt16(s);for(Oe=0,Y=f.length;Oe<Y;Oe++)h=f[Oe],H.writeUInt16(h);for(ge=0,W=je.length;ge<W;ge++)se=je[ge],H.writeUInt16(se);for(Xe=0,re=_.length;Xe<re;Xe++)M=_[Xe],H.writeUInt16(M);return{charMap:r,subtable:H.data,maxGlyphID:ae+1}}},n})(),tw=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Qb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Qb.encode(e,t),(s=new Du).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),tj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),nj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),ij=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(e.readUInt32());return f}).call(this)}},n})(),rj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,c,h,f,d,v,A,I;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)s=r[o],e.pos=s.offset,d=e.readString(s.length),c=new rj(d,s),f[I=s.nameID]==null&&(f[I]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),sj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),oj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,c,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)v.push(e.readInt16());return v})(),this.widths=(function(){var d,v,A,I;for(I=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],I.push(o.advance);return I}).call(this),r=this.widths[this.widths.length-1],f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),nw=[].slice,lj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,c,h,f,d,v,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(h=new Du(t.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new cj(h,d,A,f,v):new uj(h,c,d,A,f,v),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,c,h,f;for(c=[],o=[],h=0,f=t.length;h<f;h++)s=e[t[h]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),uj=(function(){function n(e,t,r,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),cj=(function(){function n(e,t,r,s,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Du(nw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),hj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,mo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<t.length&&t[o]==c){++o,r[c]=s;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),v=0;v<r.length;++v)d[4*v+3]=255&r[v],d[4*v+2]=(65280&r[v])>>8,d[4*v+1]=(16711680&r[v])>>16,d[4*v]=(4278190080&r[v])>>24;return d},n})(),fj=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,c,h,f;for(s={},c=0,h=e.length;c<h;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,c,h,f,d,v,A,I,_,z,M,B,V;for(s in r=tw.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},V=r.charMap)_[(f=V[s]).old]=f.new;for(z in I=r.maxGlyphID,c)z in _||(_[z]=I++);return v=(function(te){var ae,se;for(ae in se={},te)se[te[ae]]=ae;return se})(_),A=Object.keys(v).sort(function(te,ae){return te-ae}),M=(function(){var te,ae,se;for(se=[],te=0,ae=A.length;te<ae;te++)h=A[te],se.push(v[h]);return se})(),o=this.font.glyf.encode(c,M,_),d=this.font.loca.encode(o.offsets,M),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n})();yt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,c;if(Array.isArray(t))return"["+(function(){var h,f,d;for(d=[],h=0,f=t.length;h<f;h++)r=t[h],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function iw(n,e,t,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,h=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,v=/\r\n|\r|\n/g,A="",I=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(v):n,I=A.length||1),t+=h*(2-o),r.valign==="middle"?t-=I/2*d:r.valign==="bottom"&&(t-=I*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),A&&I>=1){for(var z=0;z<A.length;z++)s.text(A[z],e-s.getStringUnitWidth(A[z])*_,t),t+=d;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Xb={},mh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Xb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=n.unifyColor(e.fillColor);v&&(r=this.jsPDFDocument).setFillColor.apply(r,v),v=n.unifyColor(e.textColor),v&&(s=this.jsPDFDocument).setTextColor.apply(s,v),v=n.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Xb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),G0=function(n,e){return G0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},G0(n,e)};function rw(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");G0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var aw=(function(n){rw(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function dj(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pj(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function qp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function sw(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=ow(s,!1);c&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,c)}function ow(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function u1(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function lw(n,e){var t=u1(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function gj(n,e,t,r,s){var o={},c=1.3333333333333333,h=s0(e,function(ae){return s.getComputedStyle(ae).backgroundColor});h!=null&&(o.fillColor=h);var f=s0(e,function(ae){return s.getComputedStyle(ae).color});f!=null&&(o.textColor=f);var d=yj(r,t);d&&(o.cellPadding=d);var v="borderTopColor",A=c*t,I=r.borderTopWidth;if(r.borderBottomWidth===I&&r.borderRightWidth===I&&r.borderLeftWidth===I){var _=(parseFloat(I)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var z=s0(e,function(ae){return s.getComputedStyle(ae)[v]});z!=null&&(o.lineColor=z);var M=["left","right","center","justify"];M.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),M=["middle","bottom","top"],M.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var B=parseInt(r.fontSize||"");isNaN(B)||(o.fontSize=B/c);var V=mj(r);V&&(o.fontStyle=V);var te=(r.fontFamily||"").toLowerCase();return n.indexOf(te)!==-1&&(o.font=te),o}function mj(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function s0(n,e){var t=uw(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function uw(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:uw(n.parentElement,e):t}function yj(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(h){return parseInt(h||"0")/r}),c=u1(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function cw(n,e,t,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var h;typeof e=="string"?h=t.document.querySelector(e):h=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),v=[],A=[],I=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:v,body:A,foot:I};for(var _=0;_<h.rows.length;_++){var z=h.rows[_],M=(c=(o=z?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),B=vj(f,d,t,z,r,s);B&&(M==="thead"?v.push(B):M==="tfoot"?I.push(B):A.push(B))}return{head:v,body:A,foot:I}}function vj(n,e,t,r,s,o){for(var c=new aw(r),h=0;h<r.cells.length;h++){var f=r.cells[h],d=t.getComputedStyle(f);if(s||d.display!=="none"){var v=void 0;o&&(v=gj(n,f,e,d,t)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:bj(f)})}}var A=t.getComputedStyle(r);if(c.length>0&&(s||A.display!=="none"))return c}function bj(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function xj(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Rl(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function hw(n,e){var t=new mh(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();xj(s,r,e);var o=Rl({},s,r,e),c;typeof window<"u"&&(c=window);var h=_j(s,r,e),f=wj(s,r,e),d=Sj(t,o),v=Ej(t,o,c);return{id:e.tableId,content:v,hooks:f,styles:h,settings:d}}function _j(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],v=e[f],A=t[f];r.columnStyles=Rl({},d,v,A)}else{var I=[n,e,t],_=I.map(function(z){return z[f]||{}});r[f]=Rl({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var h=c[o];s(h)}return r}function wj(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var h=c[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function Sj(n,e){var t,r,s,o,c,h,f,d,v,A,I,_,z=u1(e.margin,40/n.scaleFactor()),M=(t=Aj(n,e.startY))!==null&&t!==void 0?t:z.top,B;e.showFoot===!0?B="everyPage":e.showFoot===!1?B="never":B=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var V;e.showHead===!0?V="everyPage":e.showHead===!1?V="never":V=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var te=(o=e.useCss)!==null&&o!==void 0?o:!1,ae=e.theme||(te?"plain":"striped"),se=!!e.horizontalPageBreak,Se=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:te,theme:ae,startY:M,margin:z,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:V,showFoot:B,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(I=e.tableLineColor)!==null&&I!==void 0?I:200,horizontalPageBreak:se,horizontalPageBreakRepeat:Se,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function Aj(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function Ej(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var h=cw(n,e.html,t,c,e.useCss)||{};r=h.head||r,s=h.body||r,o=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||Tj(r,s,o);return{columns:f,head:r,body:s,foot:o}}function Tj(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,h;Array.isArray(r)?h=r[parseInt(o)]:h=r[o],typeof h=="object"&&!Array.isArray(h)&&(c=h?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var v={dataKey:d};s.push(v)}}),s}var Y0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),Cj=(function(n){rw(e,n);function e(t,r,s,o,c,h){var f=n.call(this,t,r,h)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return e})(Y0),Nj=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,c){for(var h=0,f=t;h<f.length;h++){var d=f[h],v=new Cj(e,this,r,s,o,c),A=d(v)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new Y0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new Y0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),fw=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof aw&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var h=t.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),dw=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=u1(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),jj=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},n})();function Ij(n,e){Rj(n,e);var t=[],r=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=W0(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=W0(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),Dj(e),kj(e,n),Lj(e)}function Rj(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=lw(n,e);e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){var v=e.hooks.didParseCell;e.callCellHooks(n,v,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=qp(d.text,d.styles,n)+A;var I=qp(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=I+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},A=v.cellWidth||v.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function W0(n,e,t){for(var r=e,s=n.reduce(function(_,z){return _+z.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],h=c.wrappedWidth/s,f=r*h,d=c.width+f,v=t(c),A=d<v?v:d;e-=A-c.width,c.width=A}if(e=Math.round(e*1e10)/1e10,e){var I=n.filter(function(_){return e<0?_.width>t(_):!0});I.length&&(e=W0(I,e,t))}return e}function Lj(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var v=o.cells[f.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var A=r.length-s,I=v.rowSpan>A?A:v.rowSpan;e[f.index]={cell:v,left:I,row:o}}}}}function Dj(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,c=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(c-=1,c>1&&n.columns[h+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function kj(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var v=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,v+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Zb(d.text,v,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Zb(d.text,v,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,v);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var I=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<I*d.rowSpan?t={height:I,count:d.rowSpan}:t&&t.count>0&&t.height>I&&(I=t.height),I>o.height&&(o.height=I)}}t.count--}}function Zb(n,e,t,r,s){return n.map(function(o){return Mj(o,e,t,r,s)})}function Mj(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=qp(n,t,r))return n;for(;e<qp(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function pw(n,e){var t=new mh(n),r=Oj(e,t.scaleFactor()),s=new Nj(e,r);return Ij(t,s),t.applyStyles(t.userStyles),s}function Oj(n,e){var t=n.content,r=zj(t.columns);if(t.head.length===0){var s=Jb(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Jb(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:o0("head",t.head,r,c,o,e),body:o0("body",t.body,r,c,o,e),foot:o0("foot",t.foot,r,c,o,e)}}function o0(n,e,t,r,s,o){var c={},h=e.map(function(f,d){for(var v=0,A={},I=0,_=0,z=0,M=t;z<M.length;z++){var B=M[z];if(c[B.index]==null||c[B.index].left===0)if(_===0){var V=void 0;Array.isArray(f)?V=f[B.index-I-v]:V=f[B.dataKey];var te={};typeof V=="object"&&!Array.isArray(V)&&(te=V?.styles||{});var ae=Fj(n,B,d,s,r,o,te),se=new dw(V,ae,n);A[B.dataKey]=se,A[B.index]=se,_=se.colSpan-1,c[B.index]={left:se.rowSpan-1,times:_}}else _--,I++;else c[B.index].left--,_=c[B.index].times,v++}return new fw(f,d,n,A)});return h}function Jb(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=Pj(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function Pj(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function zj(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new jj(s,e,t)})}function Fj(n,e,t,r,s,o,c){var h=pj(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Rl({},h.table,h[n],s.styles,f),v=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},A=n==="body"?v:{},I=n==="body"&&t%2===0?Rl({},h.alternateRow,s.alternateRowStyles):{},_=dj(o),z=Rl({},_,d,I,A);return Rl(z,c)}function Bj(n,e,t){var r;t===void 0&&(t={});var s=lw(n,e),o=new Map,c=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(I){var _=e.columns.find(function(z){return z.dataKey===I||z.index===I});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),h.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,v=(r=t?.start)!==null&&r!==void 0?r:0;v<e.columns.length;){if(o.has(v)){v++;continue}var A=e.columns[v].wrappedWidth;if(d||s>=A)d=!1,c.push(v),h.push(e.columns[v]),s-=A;else break;v++}return{colIndexes:c,columns:h,lastIndex:v-1}}function Vj(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=Bj(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function gw(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=r+s.bottom+c;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(I,_){return I+_.height},0);h+=d}var v=new mh(n);(t.pageBreak==="always"||t.startY!=null&&h>v.pageSize().height)&&(yw(v),o.y=s.top),e.callWillDrawPageHooks(v,o);var A=Rl({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?Uj(v,e,A,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(I){return zl(v,e,I,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(I,_){var z=_===e.body.length-1;Hp(v,e,I,z,A,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(I){return zl(v,e,I,o,e.columns)})),sw(v,e,A,o),e.callEndPageHooks(v,o),e.finalY=o.y,n.lastAutoTable=e,v.applyStyles(v.userStyles)}function Uj(n,e,t,r){var s=Vj(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,v){n.applyStyles(n.userStyles),v>0?Lf(n,e,t,r,d.columns,!0):ex(n,e,r,d.columns),qj(n,e,t,r,d.columns),l0(n,e,r,d.columns)});else for(var c=-1,h=s[0],f=function(){var d=c;if(h){n.applyStyles(n.userStyles);var v=h.columns;c>=0?Lf(n,e,t,r,v,!0):ex(n,e,r,v),d=tx(n,e,c+1,r,v),l0(n,e,r,v)}var A=d-c;s.slice(1).forEach(function(I){n.applyStyles(n.userStyles),Lf(n,e,t,r,I.columns,!0),tx(n,e,c+1,r,I.columns,A),l0(n,e,r,I.columns)}),c=d};c<e.body.length-1;)f()}function ex(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return zl(n,e,o,t,r)})}function qj(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,c){var h=c===e.body.length-1;Hp(n,e,o,h,t,r,s)})}function tx(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var c=Math.min(t+o,e.body.length),h=-1;return e.body.slice(t,c).forEach(function(f,d){var v=t+d===e.body.length-1,A=mw(n,e,v,r);f.canEntireRowFit(A,s)&&(zl(n,e,f,r,s),h=t+d)}),h}function l0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return zl(n,e,o,t,r)})}function Hj(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function Gj(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,h=t.columns;c<h.length;c++){var f=h[c],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var v=new dw(d.raw,d.styles,d.section);v=Rl(v,d),v.text=[];var A=Hj(d,e,r);d.text.length>A&&(v.text=d.text.splice(A,d.text.length));var I=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(I,_),d.contentHeight>=e&&(d.contentHeight=e,v.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),v.contentHeight=v.getContentHeight(I,_),v.contentHeight>o&&(o=v.contentHeight),s[f.index]=v}}var z=new fw(n.raw,-1,n.section,s,!0);z.height=o;for(var M=0,B=t.columns;M<B.length;M++){var f=B[M],v=z.cells[f.index];v&&(v.height=z.height);var d=n.cells[f.index];d&&(d.height=n.height)}return z}function Yj(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,h=s-c;e.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>h)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var v=e.hasRowSpan(r.columns),A=e.getMaxCellHeight(r.columns)>h;return A?(v&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||r.settings.rowPageBreak==="avoid")}function Hp(n,e,t,r,s,o,c){var h=mw(n,e,r,o);if(t.canEntireRowFit(h,c))zl(n,e,t,o,c);else if(Yj(n,t,h,e)){var f=Gj(t,h,e,n);zl(n,e,t,o,c),Lf(n,e,s,o,c),Hp(n,e,f,r,s,o,c)}else Lf(n,e,s,o,c),Hp(n,e,t,r,s,o,c)}function zl(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var h=c[o],f=t.cells[h.index];if(!f){r.x+=h.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,h,r);if(d===!1){r.x+=h.width;continue}Wj(n,f,r);var v=f.getTextPos();iw(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,h,r),r.x+=h.width}r.y+=t.height}function Wj(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=ow(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),$j(n,e,t,r.lineWidth))}function $j(n,e,t,r){var s,o,c,h;r.top&&(s=t.x,o=t.y,c=t.x+e.width,h=t.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,c,h)),r.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,h=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,c,h)),r.left&&(s=t.x,o=t.y,c=t.x,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,s,o,c,h)),r.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,h=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,s,o,c,h));function f(d,v,A,I,_){n.getDocument().setLineWidth(d),n.getDocument().line(v,A,I,_,"S")}}function mw(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function Lf(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(h){return zl(n,e,h,r,s)}),e.callEndPageHooks(n,r);var c=e.settings.margin;sw(n,e,t,r),yw(n),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return zl(n,e,h,r,s)}),n.applyStyles(n.userStyles))}function yw(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Kj(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=hw(this,r),o=pw(this,s);return gw(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){iw(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return mh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){mh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new mh(this),o=cw(s,e,window,t,!1),c=o.head,h=o.body,f=((r=c[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var u0;function Ll(n,e){var t=hw(n,e),r=pw(n,t);gw(n,r)}try{if(typeof window<"u"&&window){var nx=window,ix=nx.jsPDF||((u0=nx.jspdf)===null||u0===void 0?void 0:u0.jsPDF);ix&&Kj(ix)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Ah="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3cdefs%3e%3clinearGradient%20id='grad1'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23006CE0;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23004BA0;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3ccircle%20cx='50'%20cy='50'%20r='45'%20fill='url(%23grad1)'%20/%3e%3cpath%20d='M55%2020%20L35%2050%20L50%2050%20L45%2080%20L65%2050%20L50%2050%20Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3c/svg%3e",Qj=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],Xj=({tickets:n,computers:e})=>{const[t,r]=Qe.useState("tickets"),[s,o]=Qe.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,h]=Qe.useState([]),[f,d]=Qe.useState(!1),v=w=>{h(U=>U.includes(w)?U.filter(N=>N!==w):[...U,w])},A=()=>c.length===0?e||[]:(e||[]).filter(w=>c.includes(w.type)),_=(n||[]).filter(w=>w.status==="closed").filter(w=>{if(!w.closedAt)return!1;try{const U=new Date(w.closedAt).toISOString().split("T")[0];return U>=s.start&&U<=s.end}catch{return!1}}),z=[0,108,224],M=[100,100,100],B=[245,247,250],V=(w,U,N)=>{const C=w.internal.pageSize.width;try{const E=new Image;E.src=Ah,w.addImage(E,"PNG",14,10,30,10)}catch{console.warn("Logo not loaded")}w.setFillColor(...z),w.rect(0,0,C,5,"F"),w.setTextColor(0),w.setFontSize(22),w.setFont("helvetica","bold"),w.text("ELSPEC ANDINA",50,20),w.setFontSize(10),w.setTextColor(100),w.setFont("helvetica","normal"),w.text("Soluciones en Calidad de Energa",50,25),w.setDrawColor(200),w.line(14,30,C-14,30),U&&(w.setFontSize(18),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(U,14,42)),N&&(w.setFontSize(11),w.setTextColor(...M),w.setFont("helvetica","normal"),w.text(N,14,49))},te=(w,U)=>{const N=w.internal.pageSize.width,C=w.internal.pageSize.height,E=w.internal.getNumberOfPages();w.setTextColor(150),w.setFontSize(8),w.text(`Pgina ${U} de ${E}`,N-14,C-10,{align:"right"}),w.text(`Confidencial - Uso Interno - Generado el ${new Date().toLocaleDateString()}`,14,C-10)},ae=(w,U,N,C,E,H,fe,ne)=>{w.setFillColor(...B),w.setDrawColor(220),w.roundedRect(U,N,C,E,3,3,"FD"),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(H.toUpperCase(),U+5,N+8),w.setFontSize(16),w.setTextColor(...ne),w.setFont("helvetica","bold"),w.text(String(fe),U+5,N+20)},se=()=>{const w=new yt,U=w.internal.pageSize.width,N=_.length,C=_.reduce((P,Y)=>(P[Y.priority]=(P[Y.priority]||0)+1,P),{high:0,medium:0,low:0}),E=_.reduce((P,Y)=>(Y.feedback&&Y.feedback.rating&&(P.sum+=Y.feedback.rating,P.count+=1),P),{sum:0,count:0}),H=E.count>0?(E.sum/E.count).toFixed(1):"N/A";V(w,"Resumen Ejecutivo de Servicios",`Periodo: ${s.start} al ${s.end}`);const fe=55,ne=25,he=(U-34)/3;ae(w,14,fe,he,ne,"Tickets Resueltos",N,z),ae(w,14+he+3,fe,he,ne,"Calificacin Prom.",`${H} / 5.0`,[245,158,11]),ae(w,14+he*2+6,fe,he,ne,"Alta Prioridad",C.high,[220,38,38]);let J=fe+ne+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Detalle de Servicios Prestados:",14,J),J+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("A continuacin se presenta el detalle de las solicitudes de soporte tcnico atendidas y cerradas durante el periodo seleccionado. Este informe consolida la gestin de incidentes y requerimientos para garantizar la continuidad operativa.",U-28),14,J),J+=20;const Ee=["ID","Ttulo","Solicitante","Prioridad","Fecha Cierre","Calif."],X=_.map(P=>[P.id?P.id.slice(-6):"",P.title||"",P.author||"",(P.priority||"").toUpperCase(),P.closedAt?new Date(P.closedAt).toLocaleDateString():"",P.feedback?`${P.feedback.rating}/5`:"-"]);Ll(w,{head:[Ee],body:X,startY:J,theme:"grid",headStyles:{fillColor:z,textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:B},margin:{top:35}});const k=w.internal.getNumberOfPages();for(let P=1;P<=k;P++)w.setPage(P),P>1&&V(w),te(w,P);w.addPage(),V(w),J=40,w.setFontSize(16),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Detalladas de Servicio Tcnico",14,J),J+=15,_.forEach(P=>{const Y=w.splitTextToSize(P.description||"",U-40).length,W=P.solution?w.splitTextToSize(P.solution,U-40).length:0,re=60+Y*5+W*5+(P.feedback?30:0);J+re>280&&(w.addPage(),V(w),J=40),w.setFillColor(...B),w.setDrawColor(200),w.roundedRect(14,J,U-28,12,2,2,"F"),w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(0),w.text(`TICKET #${P.id?P.id.slice(-6):"N/A"}`,20,J+8),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Fecha: ${new Date(P.createdAt).toLocaleDateString()}`,60,J+8);const pe=P.priority==="high"?[220,38,38]:P.priority==="medium"?[217,119,6]:[22,163,74];w.setFont("helvetica","bold"),w.setTextColor(...pe),w.text(`Prioridad: ${P.priority.toUpperCase()}`,110,J+8),w.setTextColor(0),w.text(`Solicitante: ${P.author}`,160,J+8),J+=18,w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(...z);const _e=w.splitTextToSize(P.title,U-28);w.text(_e,14,J),J+=_e.length*6+4,w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(50),w.text("DESCRIPCIN DEL PROBLEMA:",14,J),J+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const me=w.splitTextToSize(P.description||"Sin detalles.",U-34);if(w.setFillColor(250),w.rect(14,J-4,U-28,me.length*5+6,"F"),w.text(me,17,J),J+=me.length*5+12,P.solution){w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(22,163,74),w.text("SOLUCIN TCNICA APLICADA:",14,J),J+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Oe=w.splitTextToSize(P.solution,U-34);if(w.setFillColor(240,253,244),w.rect(14,J-4,U-28,Oe.length*5+6,"F"),w.text(Oe,17,J),J+=Oe.length*5+4,P.recommendation){J+=4,w.setFont("helvetica","bold"),w.setTextColor(60),w.text("Recomendacin:",17,J),w.setFont("helvetica","normal");const ge=w.splitTextToSize(P.recommendation,U-60);w.text(ge,45,J),J+=ge.length*5+6}else J+=8}else J+=5;if(P.feedback){w.setDrawColor(245,158,11),w.setLineWidth(.5),w.line(14,J,U-14,J),J+=6,w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(180,83,9),w.text("EVALUACIN DEL SERVICIO",14,J+4),w.setFontSize(12);const Oe="".repeat(P.feedback.rating)+"".repeat(5-P.feedback.rating);if(w.text(Oe,70,J+4),w.setFontSize(9),P.feedback.comment){w.setFont("helvetica","italic"),w.setTextColor(80);const ge=w.splitTextToSize(`"${P.feedback.comment}"`,U-110);w.text(ge,100,J+4),J+=Math.max(10,ge.length*4+10)}else J+=12}else J+=10;w.setDrawColor(200),w.setLineWidth(.5),w.line(14,J-2,U-14,J-2),J+=10}),w.save(`Informe_Soporte_${s.end}.pdf`)},Se=()=>{const w=new yt,U=w.internal.pageSize.width,N=A(),C=N.length,E=N.filter(P=>P.status==="Active").length,H=N.filter(P=>P.status==="Stock").length,fe=N.filter(P=>P.status==="Maintenance").length;V(w,"Inventario General de Activos IT",`Fecha de Corte: ${new Date().toLocaleDateString()}`);const ne=55,he=25,J=(U-34)/4;ae(w,14,ne,J,he,"Total Equipos",C,z),ae(w,14+J+2,ne,J,he,"En Uso (Asignados)",E,[22,163,74]),ae(w,14+J*2+4,ne,J,he,"En Stock",H,[245,158,11]),ae(w,14+J*3+6,ne,J,he,"Mantenimiento",fe,[220,38,38]);let de=ne+he+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Estado del Parque Informtico:",14,de),de+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Informe detallado de los activos tecnolgicos registrados en el sistema. Incluye equipos de cmputo asignados a usuarios, equipos disponibles en inventario y aquellos que se encuentran en procesos de reparacin o baja.",U-28),14,de),de+=20;const X=N.map(P=>[P.name||`${P.brand} ${P.model}`,P.type||"N/A",P.serial||"N/A",P.assignedTo||"---",P.location||"N/A",P.status==="Active"?"EN USO":P.status==="Stock"?"DISPONIBLE":P.status.toUpperCase()]);Ll(w,{head:[["Equipo / Modelo","Tipo","Serial","Asignado A","Ubicacin","Estado","Fallas"]],body:X.map(P=>{const W=N.find(re=>re.serial===P[2]||re.name===P[0])?.hasFault?"S":"NO";return[...P,W]}),startY:de,theme:"striped",headStyles:{fillColor:z,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:B},margin:{top:35}}),w.addPage(),V(w),de=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Tcnicas Resumidas",14,de),de+=10,N.forEach((P,Y)=>{de+40>280&&(w.addPage(),V(w),de=40),w.setFillColor(250,250,250),w.setDrawColor(220),w.roundedRect(14,de,U-28,35,2,2,"FD"),w.setFontSize(12),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${P.brand} ${P.model}`.toUpperCase(),25,de+10),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(`Serial: ${P.serial}`,25,de+16),w.text(`Tipo: ${P.type}`,25,de+22),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Especificaciones:",90,de+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`CPU: ${P.processor||"N/A"}`,90,de+16),w.text(`RAM: ${P.ram||"N/A"} | HDD: ${P.storage||"N/A"}`,90,de+22),w.text(`OS: ${P.os||"N/A"}`,90,de+28),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Asignacin:",150,de+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Usuario: ${P.assignedTo||"---"}`,150,de+16),w.text(`Ubicacin: ${P.location||"N/A"}`,150,de+22);const W=P.status==="Active"?[22,163,74]:P.status==="Stock"?[245,158,11]:[220,38,38];w.setTextColor(...W),w.setFont("helvetica","bold"),w.text(P.status.toUpperCase(),150,de+28),P.hasFault&&(w.setFillColor(254,242,242),w.setDrawColor(220,38,38),w.roundedRect(25,de+32,U-50,12,1,1,"FD"),w.setFontSize(8),w.setTextColor(185,28,28),w.setFont("helvetica","bold"),w.text("REPORTE DE FALLA ACTIV0:",28,de+37),w.setFont("helvetica","normal"),w.text(P.faultDescription||"Sin detalles",28,de+41),de+=15),de+=40});const k=w.internal.getNumberOfPages();for(let P=1;P<=k;P++)w.setPage(P),P>1&&V(w),te(w,P);w.save(`Inventario_IT_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},je=()=>{const w=new yt,U=w.internal.pageSize.width,N=A(),C=Y=>{if(!Y.maintenanceLog||Y.maintenanceLog.length===0)return{status:"Pendiente",color:[100,100,100]};const W=new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date),re=new Date().getFullYear();let pe;W.getFullYear()<re?pe=new Date(re,6,15):W.getMonth()<=6?pe=new Date(re,10,15):pe=new Date(re+1,6,15);const me=Math.ceil((pe-new Date)/(1e3*60*60*24));return me<0?{status:"Vencido",color:[220,38,38]}:me<=30?{status:"Prximo",color:[234,179,8]}:{status:"Al Da",color:[22,163,74]}},E=N.length,H=N.filter(Y=>C(Y).status==="Vencido").length,fe=N.filter(Y=>C(Y).status==="Prximo").length,ne=N.filter(Y=>C(Y).status==="Al Da").length;V(w,"Informe de Mantenimiento Preventivo",`Fecha de Generacin: ${new Date().toLocaleDateString()}`);const he=55,J=25,de=(U-34)/4;ae(w,14,he,de,J,"Total Equipos",E,z),ae(w,14+de+2,he,de,J,"Al Da (OK)",ne,[22,163,74]),ae(w,14+de*2+4,he,de,J,"Atencin Req.",fe,[234,179,8]),ae(w,14+de*3+6,he,de,J,"Vencidos / Crtico",H,[220,38,38]);let Ee=he+J+15;w.setFontSize(12),w.setTextColor(...z),w.setFont("helvetica","bold"),w.text("Anlisis de Salud del Parque Informtico:",14,Ee),Ee+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Este informe presenta el estado actual del cronograma de mantenimiento preventivo. Se identifican los equipos que requieren atencin inmediata (Vencidos) y aquellos prximos a su fecha de servicio, permitiendo una planificacin eficiente de los recursos tcnicos.",U-28),14,Ee),Ee+=20;const k=N.map(Y=>{const W=C(Y),re=Y.maintenanceLog?.length>0?new Date(Y.maintenanceLog[Y.maintenanceLog.length-1].createdAt||Y.maintenanceLog[Y.maintenanceLog.length-1].date).toLocaleDateString():"Sin Registros";return[Y.name||`${Y.brand} ${Y.model}`,Y.serial||"N/A",Y.assignedTo||"Stock",re,W.status.toUpperCase()]});Ll(w,{head:[["Equipo","Serial","Usuario / Ubicacin","ltimo Mant.","Estado Actual"]],body:k,startY:Ee,theme:"grid",headStyles:{fillColor:z,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:B},margin:{top:35},didParseCell:Y=>{if(Y.section==="body"&&Y.column.index===4){const W=Y.cell.raw;W==="VENCIDO"&&(Y.cell.styles.textColor=[220,38,38]),W==="PRXIMO"&&(Y.cell.styles.textColor=[217,119,6]),W==="AL DA"&&(Y.cell.styles.textColor=[22,163,74])}}}),w.addPage(),V(w),Ee=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Historial de Mantenimientos por Equipo",14,Ee),Ee+=15,N.forEach((Y,W)=>{const re=Y.maintenanceLog?.length||0,pe=35+re*10;Ee+pe>280&&(w.addPage(),V(w),Ee=40),w.setFillColor(245,245,245),w.rect(14,Ee,U-28,8,"F"),w.setFontSize(10),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${Y.brand} ${Y.model} (${Y.serial})`,16,Ee+5.5);const _e=C(Y);w.setTextColor(..._e.color),w.text(_e.status.toUpperCase(),U-30,Ee+5.5,{align:"right"}),Ee+=12,re>0?Y.maintenanceLog.slice(-3).forEach(Oe=>{w.setFontSize(9),w.setTextColor(80),w.setFont("helvetica","normal");const ge=new Date(Oe.createdAt||Oe.date).toLocaleDateString();w.text(` ${ge}`,20,Ee),w.text(`${Oe.activity} (Tc: ${Oe.technician||"Admin"})`,50,Ee),Ee+=6}):(w.setFontSize(9),w.setTextColor(150),w.setFont("helvetica","italic"),w.text("   Sin registros de mantenimiento.",20,Ee),Ee+=6),Ee+=8});const P=w.internal.getNumberOfPages();for(let Y=1;Y<=P;Y++)w.setPage(Y),Y>1&&V(w),te(w,Y);w.save(`Plan_Mantenimiento_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},K=_.reduce((w,U)=>(U.feedback&&U.feedback.rating&&(w.sum+=U.feedback.rating,w.count+=1),w),{sum:0,count:0}),O=K.count>0?(K.sum/K.count).toFixed(1):"N/A";return p.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px",flexWrap:"wrap",gap:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[p.jsx("img",{src:Ah,alt:"ELSPEC Logo",style:{height:"50px"}}),p.jsxs("div",{children:[p.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ELSPEC ANDINA"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[p.jsx(ms,{size:16,color:"var(--primary)"})," Centro de Inteligencia y Reportes IT"]})]})]}),p.jsx("div",{style:{position:"relative",minWidth:"280px"},children:p.jsxs("select",{value:t,onChange:w=>r(w.target.value),style:{width:"100%",padding:"12px 20px",background:"rgba(0,0,0,0.3)",border:"1px solid var(--primary)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",outline:"none",fontWeight:"bold"},children:[p.jsx("option",{value:"tickets",style:{background:"#1e293b"},children:" Informe de Asistencia Tcnica"}),p.jsx("option",{value:"assets",style:{background:"#1e293b"},children:" Inventario General de Activos"}),p.jsx("option",{value:"maintenance",style:{background:"#1e293b"},children:" Estado de Mantenimiento"})]})})]}),t==="tickets"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[p.jsxs("div",{style:{background:"rgba(0, 108, 224, 0.1)",border:"1px solid rgba(0, 108, 224, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:_.length}),p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tickets en Rango"})]}),p.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--success)"},children:_.filter(w=>w.status==="closed").length}),p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Resueltos"})]}),p.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--warning)"},children:O}),p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Satisfaccin (1-5)"})]})]}),p.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)"},children:[p.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"end",flexWrap:"wrap"},children:[p.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Sh,{size:14})," Fecha Inicio"]}),p.jsx("input",{type:"date",value:s.start,onChange:w=>o({...s,start:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),p.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Sh,{size:14})," Fecha Fin"]}),p.jsx("input",{type:"date",value:s.end,onChange:w=>o({...s,end:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),p.jsxs("button",{onClick:se,disabled:_.length===0,className:"btn-primary",style:{height:"48px",padding:"0 30px",display:"flex",alignItems:"center",gap:"10px",background:_.length===0?"rgba(255,255,255,0.05)":"var(--primary)",cursor:_.length===0?"not-allowed":"pointer"},children:[p.jsx(jf,{size:20})," Generar Informe (PDF)"]})]}),_.length===0&&p.jsx("p",{style:{marginTop:"20px",color:"var(--warning)",fontSize:"0.9rem",textAlign:"center"},children:"* No se encontraron tickets cerrados en el rango de fechas seleccionado."})]})]}),t==="assets"&&p.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[p.jsx(Uf,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),p.jsx("h3",{style:{marginBottom:"10px"},children:"Inventario Completo de Activos IT"}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Genera un reporte detallado de todo el hardware registrado en el sistema."}),p.jsxs("div",{style:{marginBottom:"25px",maxWidth:"400px",margin:"0 auto 25px auto",position:"relative"},children:[p.jsxs("button",{onClick:()=>d(!f),className:"btn-secondary",style:{width:"100%",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"10px",cursor:"pointer"},children:[p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(c4,{size:16}),c.length===0?"Incluir: Todos los Tipos":`Incluir: ${c.length} seleccionados`]}),p.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:""})]}),f&&p.jsxs("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"10px",padding:"15px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",textAlign:"left",maxHeight:"300px",overflowY:"auto"},children:[p.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"Seleccione Tipos:"}),p.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>h([]),children:"Limpiar Filtros"})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:Qj.map(w=>p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px",cursor:"pointer",fontSize:"0.9rem",borderRadius:"5px",background:c.includes(w)?"rgba(0, 108, 224, 0.1)":"transparent"},children:[p.jsx("input",{type:"checkbox",checked:c.includes(w),onChange:()=>v(w)}),w]},w))})]})]}),p.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"15px 30px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[p.jsx(jf,{size:20})," Descargar Reporte de Inventario"]}),c.length>0&&p.jsxs("p",{style:{marginTop:"10px",fontSize:"0.85rem",color:"var(--primary)"},children:["* Filtrado por: ",c.join(", ")]})]}),t==="maintenance"&&p.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[p.jsx(lh,{size:48,color:"var(--warning)",style:{marginBottom:"20px"}}),p.jsx("h3",{style:{marginBottom:"10px"},children:"Estado de Mantenimiento Preventivo"}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Informe de salud del parque informtico, identificando equipos crticos, vencidos y prximos a mantenimiento."}),p.jsxs("button",{onClick:je,className:"btn-primary",style:{background:"var(--warning)",color:"black",padding:"15px 30px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[p.jsx(jf,{size:20})," Descargar Informe de Salud (PDF)"]})]})]})},Zj=["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M1 Pro","Apple M1 Max","Apple M2","Apple M2 Pro","Apple M2 Max","Apple M3","Apple M3 Pro","Apple M3 Max","Intel Xeon","AMD Threadripper","Otro"],Jj=["4GB","8GB","12GB","16GB","24GB","32GB","64GB","128GB"],eI=["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD","500GB HDD","1TB HDD","2TB HDD","4TB HDD"],rx=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],ax=["Laptop","Desktop","Servidor","Tablet","Smartphone","Otro"],tI=()=>{const{computers:n,addComputer:e,updateComputer:t,deleteComputer:r,addMaintenanceLog:s}=Pm(),{users:o}=Ih(),[c,h]=Qe.useState(""),[f,d]=Qe.useState([]),[v,A]=Qe.useState(!1),[I,_]=Qe.useState(null),[z,M]=Qe.useState(null),[B,V]=Qe.useState({activity:"",technician:""}),[te,ae]=Qe.useState({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),se=C=>{ae(C),_(C)},Se=()=>{ae({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),_({id:"new"})},je=async C=>{C.preventDefault(),I.id==="new"?await e({...te,createdAt:new Date().toISOString()}):await t(I.id,te),_(null)},K=C=>{window.confirm("Est seguro de eliminar este equipo?")&&r(C)},O=async C=>{C.preventDefault(),z&&B.activity&&(await s(z.id,B),M(null),V({activity:"",technician:""}))},w=C=>{const E=new yt,H=[0,108,224];try{const J=new Image;J.src=Ah,E.addImage(J,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("HOJA DE VIDA",150,18,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(1),E.line(14,30,196,30),E.setDrawColor(200),E.setFillColor(245,247,250),E.roundedRect(14,35,182,35,3,3,"FD"),E.setFontSize(10),E.setTextColor(100),E.text("TIPO DE EQUIPO",20,42),E.text("MARCA",80,42),E.text("MODELO",140,42),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(C.type.toUpperCase(),20,48),E.text(C.brand.toUpperCase(),80,48),E.text(C.model.toUpperCase(),140,48),E.setFontSize(10),E.setTextColor(100),E.setFont("helvetica","normal"),E.text("SERIAL",20,58),E.text("ESTADO ACTUAL",80,58),E.text("FECHA COMPRA",140,58),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(C.serial||"N/A",20,64),E.text(C.status.toUpperCase(),80,64),E.text(C.purchaseDate||"N/A",140,64),E.setFontSize(14),E.setTextColor(...H),E.text("Especificaciones Tcnicas",14,85);const fe=[["Tipo de Equipo",C.type],["Marca",C.brand],["Modelo",C.model],["Serial",C.serial]];ax.includes(C.type)&&fe.push(["Procesador",C.processor],["Memoria RAM",C.ram],["Almacenamiento",C.storage],["Sistema Operativo",C.os]),fe.push(["Ubicacin",C.location],["Asignado a",C.assignedTo],["Estado Funcional",C.hasFault?"CON FALLAS / AVERAS":"Operativo Correctamente"]),C.hasFault&&fe.push(["Descripcin de Falla",C.faultDescription||"Sin detalles registrados"]),C.details&&fe.push(["Detalles Adicionales",C.details]),Ll(E,{body:fe,startY:90,theme:"grid",styles:{fontSize:10,cellPadding:5},columnStyles:{0:{fontStyle:"bold",width:60,fillColor:[240,240,240]},1:{textColor:J=>J.raw[0]==="Estado Funcional"&&C.hasFault?[220,38,38]:[0,0,0]}},didParseCell:J=>{J.section==="body"&&J.row.raw[0]==="Estado Funcional"&&C.hasFault&&(J.cell.styles.textColor=[220,38,38],J.cell.styles.fontStyle="bold")}});const ne=E.lastAutoTable.finalY+15;E.setFontSize(14),E.setTextColor(...H),E.text("Historial de Mantenimientos",14,ne);const he=(C.maintenanceLog||[]).map(J=>[new Date(J.createdAt).toLocaleDateString(),J.activity,J.technician||"Admin"]);he.length>0?Ll(E,{head:[["Fecha","Actividad Realizada","Tcnico"]],body:he,startY:ne+5,theme:"striped",headStyles:{fillColor:H}}):(E.setFontSize(10),E.setTextColor(100),E.text("No hay registros de mantenimiento.",14,ne+10)),E.setFontSize(8),E.setTextColor(150),E.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Gestin ELSPEC ANDINA`,105,290,{align:"center"}),E.save(`HojaVida_${C.serial||"Equipo"}.pdf`)},U=n.filter(C=>{const E=(C.assignedTo?.toLowerCase()||"").includes(c.toLowerCase())||(C.serial?.toLowerCase()||"").includes(c.toLowerCase())||(C.brand?.toLowerCase()||"").includes(c.toLowerCase()),H=f.length===0||f.includes(C.type);return E&&H}),N=C=>{d(E=>E.includes(C)?E.filter(H=>H!==C):[...E,C])};return p.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Uf,{color:"var(--primary)",size:24})," Inventario General de Activos"]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsxs("div",{style:{position:"relative"},children:[p.jsxs("button",{onClick:()=>A(!v),className:"btn-secondary",style:{padding:"10px 15px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"8px",cursor:"pointer"},children:[p.jsx(D0,{size:16}),f.length===0?"Todos los Tipos":`${f.length} Filtros`]}),v&&p.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",width:"200px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},children:[p.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"Filtrar por Tipo:"}),p.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>d([]),children:"Limpiar"})]}),rx.map(C=>p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",cursor:"pointer",fontSize:"0.9rem"},children:[p.jsx("input",{type:"checkbox",checked:f.includes(C),onChange:()=>N(C)}),C]},C))]})]}),p.jsxs("button",{onClick:Se,className:"btn-primary",style:{padding:"10px 20px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Tu,{size:18})," Nuevo Equipo"]})]})]}),I&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",padding:"30px",border:"1px solid var(--primary)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:[p.jsx("h4",{style:{marginTop:0,marginBottom:"25px",fontSize:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"15px"},children:I.id==="new"?"Registrar Nuevo Equipo":"Editar Informacin del Equipo"}),p.jsxs("form",{onSubmit:je,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Tipo"}),p.jsx("select",{value:te.type,onChange:C=>ae({...te,type:C.target.value}),children:rx.map(C=>p.jsx("option",{value:C,children:C},C))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Marca"}),p.jsx("input",{required:!0,value:te.brand,onChange:C=>ae({...te,brand:C.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Modelo"}),p.jsx("input",{required:!0,value:te.model,onChange:C=>ae({...te,model:C.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Serial / Service Tag"}),p.jsx("input",{required:!0,value:te.serial,onChange:C=>ae({...te,serial:C.target.value})})]}),ax.includes(te.type)&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Procesador"}),p.jsx("input",{list:"processor-list",value:te.processor,onChange:C=>ae({...te,processor:C.target.value})}),p.jsx("datalist",{id:"processor-list",children:Zj.map(C=>p.jsx("option",{value:C},C))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"RAM"}),p.jsx("input",{list:"ram-list",value:te.ram,onChange:C=>ae({...te,ram:C.target.value})}),p.jsx("datalist",{id:"ram-list",children:Jj.map(C=>p.jsx("option",{value:C},C))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Almacenamiento"}),p.jsx("input",{list:"storage-list",value:te.storage,onChange:C=>ae({...te,storage:C.target.value})}),p.jsx("datalist",{id:"storage-list",children:eI.map(C=>p.jsx("option",{value:C},C))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Sistema Operativo"}),p.jsx("input",{value:te.os,onChange:C=>ae({...te,os:C.target.value})})]})]}),p.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"Observaciones / Detalles Tcnicos Adicionales (IP, MAC, Puertos, etc.)"}),p.jsx("textarea",{rows:"2",value:te.details||"",onChange:C=>ae({...te,details:C.target.value}),placeholder:"Ej: Direccin IP fija, Direccin MAC, Nmero de Puertos..."})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Asignado A (Usuario/Area)"}),p.jsxs("select",{value:te.assignedTo,onChange:C=>{const E=C.target.value;ae({...te,assignedTo:E,status:E?"Active":"Stock"})},children:[p.jsx("option",{value:"",children:"-- Disponible / En Stock --"}),o&&o.map(C=>p.jsx("option",{value:C.username,children:C.name||C.username},C.id))]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Ubicacin"}),p.jsx("input",{value:te.location,onChange:C=>ae({...te,location:C.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Fecha Compra"}),p.jsx("input",{type:"date",value:te.purchaseDate,onChange:C=>ae({...te,purchaseDate:C.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Estado"}),p.jsxs("select",{value:te.status,onChange:C=>ae({...te,status:C.target.value}),children:[p.jsx("option",{value:"Active",children:"En Uso (Activo)"}),p.jsx("option",{value:"Stock",children:"Disponible (Stock)"}),p.jsx("option",{value:"Maintenance",children:"En Mantenimiento"}),p.jsx("option",{value:"Retired",children:"Retirado / De Baja"})]})]}),p.jsxs("div",{style:{gridColumn:"1 / -1",background:"rgba(255, 0, 0, 0.05)",padding:"15px",borderRadius:"10px",border:"1px solid rgba(255, 0, 0, 0.2)"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:te.hasFault?"15px":"0"},children:[p.jsx("input",{type:"checkbox",checked:te.hasFault,onChange:C=>ae({...te,hasFault:C.target.checked}),style:{width:"20px",height:"20px"}}),p.jsx("span",{style:{fontWeight:"bold",color:te.hasFault?"var(--danger)":"inherit"},children:"El equipo presenta fallas o averas?"})]}),te.hasFault&&p.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[p.jsx("label",{children:"Descripcin de la Falla / Avera"}),p.jsx("textarea",{required:te.hasFault,value:te.faultDescription,onChange:C=>ae({...te,faultDescription:C.target.value}),placeholder:"Describa el problema tcnico, dao fsico o mal funcionamiento...",rows:"3",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--danger)"}})]})]}),p.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"15px",marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[p.jsx("button",{type:"button",onClick:()=>_(null),style:{flex:1,background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancelar"}),p.jsxs("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",fontSize:"1.1rem"},children:[p.jsx(eC,{size:18})," Guardar Cambios"]})]})]})]})}),z&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{width:"400px",padding:"25px",border:"1px solid var(--primary)"},children:[p.jsx("h4",{style:{marginTop:0},children:"Registrar Mantenimiento"}),p.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Para: ",z.brand," ",z.model]}),p.jsxs("form",{onSubmit:O,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Actividad Realizada"}),p.jsx("textarea",{required:!0,rows:"4",value:B.activity,onChange:C=>V({...B,activity:C.target.value}),placeholder:"Ej: Limpieza fsica, Actualizacin de Drivers..."})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Tcnico Responsable"}),p.jsx("input",{value:B.technician,onChange:C=>V({...B,technician:C.target.value}),placeholder:"Nombre del tcnico"})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Registrar"}),p.jsx("button",{type:"button",onClick:()=>M(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white"},children:"Cancelar"})]})]})]})}),p.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[p.jsx("input",{type:"text",placeholder:"Buscar por serial, marca o usuario...",value:c,onChange:C=>h(C.target.value),style:{width:"100%",padding:"12px 15px 12px 45px",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),p.jsx(D0,{size:20,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),p.jsxs("div",{style:{display:"grid",gap:"15px"},children:[U.map(C=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsxs("h4",{style:{margin:0,fontSize:"1.1rem"},children:[C.brand," ",C.model]}),p.jsx("span",{style:{fontSize:"0.7rem",padding:"3px 8px",borderRadius:"10px",background:C.status==="Active"?"rgba(16, 185, 129, 0.2)":C.status==="Stock"?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:C.status==="Active"?"var(--success)":C.status==="Stock"?"var(--primary)":"var(--danger)"},children:C.status==="Active"?"En Uso":C.status==="Stock"?"Disponible":C.status})]}),p.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginTop:"5px"},children:[p.jsx(Op,{size:14,style:{display:"inline",marginRight:"5px"}})," ",C.assignedTo||"Sin Asignar"," | Serial: ",C.serial]}),C.hasFault&&p.jsxs("div",{style:{fontSize:"0.9rem",color:"#7f1d1d",background:"#fecaca",padding:"8px 12px",borderRadius:"8px",marginTop:"10px",display:"flex",alignItems:"start",gap:"8px",border:"1px solid #f87171"},children:[p.jsx(lh,{size:16,style:{marginTop:"2px",flexShrink:0}}),p.jsxs("div",{children:[p.jsx("strong",{children:"Falla Reportada:"}),p.jsx("div",{style:{marginTop:"2px"},children:C.faultDescription})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>w(C),title:"Descargar Hoja de Vida",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:p.jsx(ms,{size:18})}),p.jsx("button",{onClick:()=>M(C),title:"Registrar Mantenimiento",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:p.jsx(AT,{size:18})}),p.jsx("button",{onClick:()=>se(C),title:"Editar",style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:p.jsx($o,{size:18})}),p.jsx("button",{onClick:()=>K(C.id),title:"Eliminar",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:p.jsx(kl,{size:18})})]})]},C.id)),U.length===0&&p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"No se encontraron equipos registrados."})]})]})},nI=()=>{const{computers:n,addMaintenanceLog:e}=Pm(),[t,r]=Qe.useState(null),[s,o]=Qe.useState({activity:"",technician:""}),[c,h]=Qe.useState(""),f=async A=>{A.preventDefault(),t&&s.activity&&(await e(t.id,s),r(null),o({activity:"",technician:""}))},d=A=>{const I=new Date;let _,z;if(!A.maintenanceLog||A.maintenanceLog.length===0){const te=I.getFullYear(),ae=new Date(te,6,15),se=new Date(te,10,15);I<ae?_=ae:I<se?_=se:_=new Date(te+1,6,15),z=new Date(A.purchaseDate||A.createdAt)}else{const te=A.maintenanceLog[A.maintenanceLog.length-1],ae=te.createdAt||te.date;z=new Date(ae);const se=I.getFullYear();z.getFullYear()<se?(_=new Date(se,6,15),I>_&&(_=new Date(se,10,15)),I>_&&(_=new Date(se+1,6,15))):z.getMonth()<=6?(_=new Date(se,10,15),I>_&&(_=new Date(se+1,6,15))):_=new Date(se+1,6,15)}const M=_-I,B=Math.ceil(M/(1e3*60*60*24));let V="ok";return B<0?V="overdue":B<=30&&(V="warning"),{nextDate:_,diffDays:B,status:V,lastDate:z}},v=n.map(A=>({...A,...d(A)})).filter(A=>(A.brand?.toLowerCase()||"").includes(c.toLowerCase())||(A.model?.toLowerCase()||"").includes(c.toLowerCase())||(A.serial?.toLowerCase()||"").includes(c.toLowerCase())).sort((A,I)=>A.diffDays-I.diffDays);return p.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Sh,{color:"var(--primary)",size:24})," Cronograma de Mantenimiento Preventivo"]}),p.jsxs("div",{style:{position:"relative",width:"300px"},children:[p.jsx("input",{type:"text",placeholder:"Buscar equipo...",value:c,onChange:A=>h(A.target.value),style:{width:"100%",padding:"10px 15px 10px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),p.jsx(D0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]})]}),p.jsx("div",{style:{overflowX:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)"},children:[p.jsx("th",{style:{padding:"15px"},children:"Equipo / Serial"}),p.jsx("th",{style:{padding:"15px"},children:"ltimo Mantenimiento"}),p.jsx("th",{style:{padding:"15px"},children:"Prximo Mantenimiento"}),p.jsx("th",{style:{padding:"15px"},children:"Estado Actual"}),p.jsx("th",{style:{padding:"15px"},children:"Accin"})]})}),p.jsx("tbody",{children:v.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontraron equipos para el criterio de bsqueda."})}):v.map(A=>p.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[p.jsxs("td",{style:{padding:"15px"},children:[p.jsxs("div",{style:{fontWeight:"bold"},children:[A.brand," ",A.model]}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",gap:"5px",alignItems:"center"},children:p.jsx("span",{style:{color:"var(--primary)"},children:A.serial})})]}),p.jsx("td",{style:{padding:"15px",color:"var(--text-muted)"},children:A.lastDate.toLocaleDateString()}),p.jsx("td",{style:{padding:"15px",fontWeight:"bold"},children:A.nextDate.toLocaleDateString()}),p.jsxs("td",{style:{padding:"15px"},children:[A.status==="overdue"&&p.jsxs("span",{style:{color:"var(--danger)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(239, 68, 68, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[p.jsx(Om,{size:16})," Vencido (",Math.abs(A.diffDays)," das)"]}),A.status==="warning"&&p.jsxs("span",{style:{color:"var(--warning)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(245, 158, 11, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[p.jsx(Dl,{size:16})," Atencin (",A.diffDays," das)"]}),A.status==="ok"&&p.jsxs("span",{style:{color:"var(--success)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[p.jsx(Uo,{size:16})," OK (",A.diffDays," das)"]})]}),p.jsx("td",{style:{padding:"15px"},children:p.jsx("button",{onClick:()=>r(A),className:"btn-primary",style:{padding:"8px 15px",fontSize:"0.85rem"},children:"Registrar"})})]},A.id))})]})}),t&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"30px",border:"1px solid var(--primary)"},children:[p.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Uo,{size:24,color:"var(--success)"})," Registrar Mantenimiento"]}),p.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:["Equipo: ",p.jsxs("span",{style:{color:"white",fontWeight:"bold"},children:[t.brand," ",t.model]})," ",p.jsx("br",{}),"Serial: ",t.serial]}),p.jsxs("form",{onSubmit:f,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Actividad Realizada"}),p.jsx("textarea",{required:!0,rows:"4",value:s.activity,onChange:A=>o({...s,activity:A.target.value}),placeholder:"Detalle el trabajo realizado (Ej: Limpieza interna, Cambio de pasta trmica, Formateo...)"})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Tcnico Responsable"}),p.jsx("input",{required:!0,value:s.technician,onChange:A=>o({...s,technician:A.target.value}),placeholder:"Nombre del tcnico"})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"12px"},children:"Guardar Registro"}),p.jsx("button",{type:"button",onClick:()=>r(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},iI=({computers:n,currentUser:e})=>{const t=n.filter(s=>s.assignedTo===e.username),r=s=>{const o=new yt,c=[0,108,224];try{const v=new Image;v.src=Ah,o.addImage(v,"SVG",14,10,40,15)}catch{console.warn("Logo error")}o.setFontSize(18),o.setTextColor(0),o.setFont("helvetica","bold"),o.text("HOJA DE VIDA",150,18,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),o.setDrawColor(0,108,224),o.setLineWidth(1),o.line(14,30,196,30),o.setDrawColor(200),o.setFillColor(245,247,250),o.roundedRect(14,35,182,35,3,3,"FD"),o.setFontSize(10),o.setTextColor(100),o.text("TIPO DE EQUIPO",20,42),o.text("MARCA",80,42),o.text("MODELO",140,42),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text((s.type||"N/A").toUpperCase(),20,48),o.text((s.brand||"N/A").toUpperCase(),80,48),o.text((s.model||"N/A").toUpperCase(),140,48),o.setFontSize(10),o.setTextColor(100),o.setFont("helvetica","normal"),o.text("SERIAL",20,58),o.text("ESTADO ACTUAL",80,58),o.text("FECHA COMPRA",140,58),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text(s.serial||"N/A",20,64),o.text((s.status||"N/A").toUpperCase(),80,64),o.text(s.purchaseDate||"N/A",140,64),o.setFontSize(14),o.setTextColor(...c),o.text("Especificaciones Tcnicas",14,85);const h=[["Procesador",s.processor],["Memoria RAM",s.ram],["Almacenamiento",s.storage],["Sistema Operativo",s.os],["Ubicacin",s.location],["Asignado a",s.assignedTo]];let f=95;if(o.setFontSize(10),o.setTextColor(0),o.setFont("helvetica","normal"),h.forEach(([v,A])=>{o.setFillColor(250),o.rect(14,f-4,182,8,"F"),o.setFont("helvetica","bold"),o.text(v+":",20,f+1),o.setFont("helvetica","normal"),o.text(A||"N/A",80,f+1),f+=10}),f+=10,o.setFontSize(14),o.setTextColor(...c),o.text("Historial de Mantenimientos",14,f),f+=10,s.maintenanceLog&&s.maintenanceLog.length>0){const v=s.maintenanceLog.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.activity,A.technician||"N/A"]);o.autoTable({startY:f,head:[["Fecha","Actividad Realizada","Tcnico"]],body:v,theme:"grid",headStyles:{fillColor:c,textColor:255},styles:{fontSize:9}})}else o.setFontSize(10),o.setTextColor(100),o.text("No hay registros de mantenimiento.",14,f+5);const d=o.internal.getNumberOfPages();for(let v=1;v<=d;v++)o.setPage(v),o.setFontSize(8),o.setTextColor(150),o.text(`Generado el: ${new Date().toLocaleDateString()} - ELSPEC ANDINA S.A.S`,105,290,{align:"center"});o.save(`HojaDeVida_${s.brand}_${s.model}.pdf`)};return p.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[p.jsxs("h3",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Uf,{color:"var(--primary)",size:24})," Mis Equipos Asignados"]}),t.length===0?p.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"15px"},children:p.jsx("p",{style:{color:"var(--text-muted)"},children:"No tienes equipos de cmputo asignados actualmente."})}):p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.map(s=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-color)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s",cursor:"default"},onMouseEnter:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseLeave:o=>o.currentTarget.style.transform="translateY(0)",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[p.jsxs("div",{children:[p.jsxs("h4",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:[s.brand," ",s.model]}),p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--primary)",fontWeight:"bold"},children:s.type})]}),p.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",padding:"5px 10px",borderRadius:"8px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx(Uo,{size:14})," Asignado"]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Serial:"}),p.jsx("br",{}),s.serial]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Procesador:"}),p.jsx("br",{}),s.processor]}),p.jsxs("div",{children:[p.jsx("strong",{children:"RAM:"}),p.jsx("br",{}),s.ram]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Almacenamiento:"}),p.jsx("br",{}),s.storage]})]}),p.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px",marginTop:"auto"},children:p.jsxs("button",{onClick:()=>r(s),className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[p.jsx(ms,{size:18})," Descargar Hoja de Vida"]})})]},s.id))})]})},rI=()=>{const[n,e]=Qe.useState([]);return Qe.useEffect(()=>{const s=Bt.subscribeIndicators(o=>{e(o)});return()=>{typeof s=="function"&&s()}},[]),{indicators:n,addIndicator:s=>Bt.addIndicator(s),deleteIndicator:s=>Bt.deleteIndicator(s)}},aI=({tickets:n})=>{const{indicators:e,addIndicator:t,deleteIndicator:r}=rI(),[s,o]=Qe.useState("all"),[c,h]=Qe.useState([]),[f,d]=Qe.useState([]),[v,A]=Qe.useState(!1),[I,_]=Qe.useState({name:"",target:"",current:"",unit:"%"}),[z,M]=Qe.useState(null),[B,V]=Qe.useState(null),[te,ae]=Qe.useState([]),[se,Se]=Qe.useState(!1),je=E=>{E.preventDefault(),t({name:I.name,target:parseFloat(I.target),current:parseFloat(I.current),unit:I.unit}),_({name:"",target:"",current:"",unit:"%"}),A(!1)},K=E=>{window.confirm("Eliminar este indicador?")&&r(E)},O={high:24,medium:48,low:72};Qe.useEffect(()=>{w()},[n,s]),Qe.useEffect(()=>{const E=Bt.subscribeSGIProcesses(H=>{d(H)});return()=>E&&E()},[]);const w=()=>{if(!n)return;const E=new Date,H=n.filter(fe=>{if(s==="all")return!0;const ne=new Date(fe.createdAt),he=Math.abs(E-ne),J=Math.ceil(he/(1e3*60*60*24));return s==="week"?J<=7:s==="month"?J<=30:s==="year"?J<=365:!0});h(H)},N=(()=>{if(!c.length)return null;let E=0,H=0,fe=0,ne=0;const he=c.map(Ee=>{const X=new Date(Ee.createdAt),k=Ee.closedAt?new Date(Ee.closedAt):new Date,P=Ee.status==="closed",W=(k-X)/(1e3*60*60),re=O[Ee.priority]||48,pe=W<=re,_e=pe?"ontime":"overdue";return P&&(E++,fe+=W,ne++,pe&&H++),{...Ee,durationHours:W.toFixed(1),isCompliant:pe,slaStatus:_e,slaLimit:re}}),J=E>0?(H/E*100).toFixed(1):0,de=ne>0?(fe/ne).toFixed(1):0;return{total:c.length,closed:E,open:c.length-E,complianceRate:J,avgResolutionTime:de,ticketsWithMetrics:he}})(),C=()=>{const E=new yt,H=[0,108,224];try{const he=new Image;he.src=Ah,E.addImage(he,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("INFORME DE GESTIN (SGI)",105,20,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text(`Generado: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,105,26,{align:"center"}),E.text(`Filtro: ${s==="all"?"Todo el Histrico":s==="week"?"ltimos 7 das":s==="month"?"ltimo Mes":"ltimo Ao"}`,105,31,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(.5),E.line(14,35,196,35);let fe=40;if(e&&e.length>0){E.setFontSize(14),E.setTextColor(...H),E.text("Indicadores Personalizados / Metas",14,fe+10);const he=e.map(J=>[J.name,`${J.target} ${J.unit}`,`${J.current} ${J.unit}`,J.current>=J.target?"CUMPLE":"NO CUMPLE"]);Ll(E,{head:[["Indicador","Meta","Actual","Estado"]],body:he,startY:fe+15,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:10},didParseCell:J=>{J.section==="body"&&J.column.index===3&&(J.cell.styles.textColor=J.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],J.cell.styles.fontStyle="bold")}}),fe=E.lastAutoTable.finalY+10}if(f&&f.length>0&&(E.setFontSize(14),E.setTextColor(...H),E.text("Monitor de Procesos SGI",14,fe+10),fe+=15,f.forEach(he=>{if(he.indicators&&he.indicators.length>0){E.setFontSize(12),E.setTextColor(50,50,50),E.text(`Proceso: ${he.name}`,14,fe);const de=(new Date().getMonth()+1).toString().padStart(2,"0"),Ee=he.indicators.map(X=>{const k=X.monthlyData?.[de]||0,P=k>=X.target;return[X.name,`${X.target} ${X.unit}`,`${k} ${X.unit}`,P?"CUMPLE":"REVISAR"]});Ll(E,{head:[["Indicador","Meta","Mes Actual","Estado"]],body:Ee,startY:fe+5,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:9},didParseCell:X=>{X.section==="body"&&X.column.index===3&&(X.cell.styles.textColor=X.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],X.cell.styles.fontStyle="bold")}}),fe=E.lastAutoTable.finalY+10}})),N){E.setFontSize(14),E.setTextColor(...H),E.text("Resumen Ejecutivo (Tickets)",14,fe+10);const he=[[" % Cumplimiento SLA",`${N.complianceRate}%`],["Tiempo Promedio Resolucin",`${N.avgResolutionTime} Horas`],["Tickets Cerrados",`${N.closed}`],["Tickets Vencidos",`${N.ticketsWithMetrics.filter(de=>!de.isCompliant).length}`],["Total Solicitudes",`${N.total}`]];Ll(E,{body:he,startY:fe+15,theme:"grid",headStyles:{fillColor:H},styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",width:100},1:{halign:"right"}}}),E.setFontSize(14),E.setTextColor(...H),E.text("Detalle de Tickets y Cumplimiento",14,E.lastAutoTable.finalY+15);const J=N.ticketsWithMetrics.map(de=>[`#${de.id?de.id.slice(-6):"N/A"}`,new Date(de.createdAt).toLocaleDateString(),de.priority.toUpperCase(),de.status==="open"?"ABIERTO":"CERRADO",de.closedBy||"---",`${de.durationHours} hrs`,de.isCompliant?"CUMPLE":"VENCIDO"]);Ll(E,{head:[["ID","Fecha","Prioridad","Estado","Responsable","Tiempo","SLA"]],body:J,startY:E.lastAutoTable.finalY+20,theme:"striped",headStyles:{fillColor:H},styles:{fontSize:9},didParseCell:de=>{de.section==="body"&&de.column.index===6&&(de.cell.raw==="VENCIDO"?(de.cell.styles.textColor=[220,38,38],de.cell.styles.fontStyle="bold"):(de.cell.styles.textColor=[16,185,129],de.cell.styles.fontStyle="bold"))}})}else E.setFontSize(12),E.setTextColor(100),E.text("No hay actividad de tickets registrada en este periodo.",14,fe+20);const ne=E.internal.getNumberOfPages();for(let he=1;he<=ne;he++)E.setPage(he),E.setFontSize(8),E.setTextColor(150),E.text(`Pgina ${he} de ${ne} - Sistema ELSPEC ANDINA`,105,290,{align:"center"});E.save(`Informe_SGI_${new Date().toISOString().split("T")[0]}.pdf`)};return p.jsxs("div",{style:{padding:"0 0 40px 0"},children:[p.jsx("style",{children:`
                @media (max-width: 768px) {
                    .controls-header {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .controls-header-right {
                        flex-direction: column;
                        gap: 10px !important;
                    }
                    .kpi-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-card-header {
                        padding: 15px !important;
                    }
                    .evidence-modal-content {
                        width: 95% !important;
                        padding: 20px !important;
                    }
                }
                `}),p.jsxs("div",{className:"glass-card controls-header",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Dv,{color:"var(--primary)"})," Indicadores de Gestin (SGI)"]}),p.jsxs("div",{className:"controls-header-right",style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsxs("button",{onClick:()=>A(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",background:"var(--success)"},children:[p.jsx(Tu,{size:16})," Nuevo"]}),p.jsxs("button",{onClick:C,disabled:!N,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",opacity:N?1:.5,cursor:N?"pointer":"not-allowed"},children:[p.jsx(jf,{size:16})," PDF"]}),p.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)",margin:"0 5px"}}),p.jsx(c4,{size:16,color:"var(--text-muted)"}),p.jsxs("select",{value:s,onChange:E=>o(E.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",padding:"8px",borderRadius:"8px"},children:[p.jsx("option",{value:"all",children:"Todo"}),p.jsx("option",{value:"week",children:"Semana"}),p.jsx("option",{value:"month",children:"Mes"}),p.jsx("option",{value:"year",children:"Ao"})]})]})]}),e.length>0&&p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Indicadores Personalizados"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:e.map(E=>p.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative"},children:[p.jsx("button",{onClick:()=>K(E.id),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",padding:"5px"},children:p.jsx(kl,{size:14})}),p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:E.name}),p.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"10px"},children:p.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"},children:[E.current," ",p.jsx("span",{style:{fontSize:"1rem"},children:E.unit})]})}),p.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"5px"},children:["Meta: ",E.target," ",E.unit]}),p.jsx("div",{style:{marginTop:"10px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:p.jsx("div",{style:{height:"100%",width:`${Math.min(E.current/E.target*100,100)}%`,background:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"}})})]},E.id))})]}),f&&f.length>0&&p.jsxs("div",{style:{marginBottom:"40px"},children:[p.jsxs("h3",{style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"10px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Dl,{color:"var(--primary)"})," Monitor de Procesos Corporativos"]}),p.jsx("div",{className:"process-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px"},children:f.map(E=>p.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"process-card-header",style:{padding:"20px",background:"rgba(0, 108, 224, 0.1)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[p.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:E.name}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:["Lder: ",E.leader||"Sin asignar"]})]}),p.jsx("div",{style:{padding:"20px",flex:1},children:E.indicators&&E.indicators.length>0?p.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:p.jsx("tbody",{children:E.indicators.map(H=>{const ne=(new Date().getMonth()+1).toString().padStart(2,"0"),he=H.monthlyData?.[ne]||0,J=Math.min(he/(H.target||1)*100,100);return p.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{M(H),V(ne),Se(!0),Bt.subscribeSGIEvidence(E.id,de=>{const Ee=de.filter(X=>X.indicatorId===H.id&&X.month===ne);ae(Ee)})},className:"indicator-row",children:[p.jsxs("td",{style:{padding:"10px 0"},children:[p.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:H.name}),p.jsx("div",{style:{height:"6px",width:"100%",background:"rgba(255,255,255,0.1)",borderRadius:"3px"},children:p.jsx("div",{style:{height:"100%",width:`${J}%`,background:J>=90?"var(--success)":J>=70?"var(--warning)":"var(--danger)",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),p.jsx("td",{style:{padding:"10px 0 10px 15px",textAlign:"right",whiteSpace:"nowrap"},children:p.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[he," ",p.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["/ ",H.target," ",H.unit]})]})})]},H.id)})})}):p.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin indicadores configurados"})})]},E.id))})]}),N?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"kpi-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(52, 211, 153, 0.15)",padding:"15px",borderRadius:"50%"},children:p.jsx(Uo,{size:32,color:"var(--success)"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Cumplimiento SLA"}),p.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:N.complianceRate>=80?"var(--success)":N.complianceRate>=50?"var(--warning)":"var(--danger)"},children:[N.complianceRate,"%"]}),p.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Meta: > 80%"})]})]}),p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"15px",borderRadius:"50%"},children:p.jsx(Dl,{size:32,color:"var(--primary)"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tiempo Promedio Cierre"}),p.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[N.avgResolutionTime," ",p.jsx("span",{style:{fontSize:"1rem"},children:"hrs"})]})]})]}),p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(239, 68, 68, 0.15)",padding:"15px",borderRadius:"50%"},children:p.jsx(u4,{size:32,color:"var(--danger)"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tickets Vencidos"}),p.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--danger)"},children:N.ticketsWithMetrics.filter(E=>!E.isCompliant).length}),p.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[N.ticketsWithMetrics.length," Totales"]})]})]})]}),p.jsxs("div",{className:"glass-card",style:{padding:"25px",overflowX:"auto"},children:[p.jsx("h4",{style:{marginBottom:"20px"},children:"Detalle de Cumplimiento por Ticket"}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.85rem",textAlign:"left"},children:[p.jsx("th",{style:{padding:"10px"},children:"ID Ticket"}),p.jsx("th",{style:{padding:"10px"},children:"Fecha Ingreso"}),p.jsx("th",{style:{padding:"10px"},children:"Prioridad / SLA"}),p.jsx("th",{style:{padding:"10px"},children:"Responsable (Cierre)"}),p.jsx("th",{style:{padding:"10px"},children:"Tiempo Transcurrido"}),p.jsx("th",{style:{padding:"10px"},children:"Estado SLA"}),p.jsx("th",{style:{padding:"10px"},children:"Estado Ticket"})]})}),p.jsx("tbody",{children:N.ticketsWithMetrics.map(E=>p.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"0.9rem"},children:[p.jsxs("td",{style:{padding:"15px 10px",fontFamily:"monospace",color:"var(--primary)"},children:["#",E.id?E.id.slice(-6):"N/A"]}),p.jsx("td",{style:{padding:"15px 10px"},children:new Date(E.createdAt).toLocaleDateString()}),p.jsx("td",{style:{padding:"15px 10px"},children:p.jsxs("span",{style:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem",color:E.priority==="high"?"var(--danger)":E.priority==="medium"?"var(--warning)":"var(--success)"},children:[E.priority," (",E.slaLimit,"h)"]})}),p.jsx("td",{style:{padding:"15px 10px"},children:E.closedBy||(E.status==="closed"?"Admin":"---")}),p.jsxs("td",{style:{padding:"15px 10px"},children:[E.durationHours," hrs"]}),p.jsx("td",{style:{padding:"15px 10px"},children:E.isCompliant?p.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[p.jsx(Uo,{size:12})," A Tiempo"]}):p.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--danger)",background:"rgba(239, 68, 68, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[p.jsx(Mp,{size:12})," Vencido"]})}),p.jsx("td",{style:{padding:"15px 10px",opacity:.8},children:E.status==="open"?"Abierto":"Cerrado"})]},E.id))})]})]})]}):p.jsxs("div",{className:"glass-card",style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[p.jsx("div",{style:{marginBottom:"15px"},children:p.jsx(Dv,{size:48,style:{opacity:.2}})}),"No hay actividad de tickets para generar indicadores automticos en este periodo."]}),v&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[p.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"Nuevo Indicador / Meta"}),p.jsxs("form",{onSubmit:je,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Nombre del Indicador"}),p.jsx("input",{type:"text",placeholder:"Ej: Satisfaccin Cliente",required:!0,value:I.name,onChange:E=>_({...I,name:E.target.value})})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Meta"}),p.jsx("input",{type:"number",step:"0.01",required:!0,value:I.target,onChange:E=>_({...I,target:E.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Valor Actual"}),p.jsx("input",{type:"number",step:"0.01",required:!0,value:I.current,onChange:E=>_({...I,current:E.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Unidad"}),p.jsxs("select",{value:I.unit,onChange:E=>_({...I,unit:E.target.value}),children:[p.jsx("option",{value:"%",children:"%"}),p.jsx("option",{value:"#",children:"#"}),p.jsx("option",{value:"$",children:"$"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[p.jsx("button",{type:"button",onClick:()=>A(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Crear Indicador"})]})]})]})}),se&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card evidence-modal-content",style:{padding:"30px",width:"100%",maxWidth:"600px",maxHeight:"85vh",overflowY:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("div",{children:[p.jsx("h3",{style:{margin:0},children:"Detalle de Evidencia"}),p.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:[z?.name," - Mes ",B]})]}),p.jsx("button",{onClick:()=>Se(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:p.jsx(Mp,{})})]}),te.length===0?p.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontr evidencia para este periodo."}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:te.map(E=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[p.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:E.leaderName}),p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(E.timestamp).toLocaleDateString()})]}),p.jsxs("div",{style:{marginBottom:"15px"},children:[p.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Valor reportado:"}),p.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:E.value})]}),E.comment&&p.jsxs("div",{style:{marginBottom:"15px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"8px",borderLeft:"3px solid var(--primary)"},children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"5px",textTransform:"uppercase"},children:"Comentario / Feedback"}),p.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:E.comment})]}),E.attachments&&E.attachments.length>0&&p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:E.attachments.map((H,fe)=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[H.type?.includes("image")?p.jsx("img",{src:H.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(H.url,"_blank")}):p.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:p.jsx(ms,{size:32,color:"var(--primary)"})}),p.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.name}),p.jsx("a",{href:H.url,download:H.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none"},children:"Descargar"})]},fe))})]})]},E.id))})]})})]})},sI=()=>{const[n,e]=Qe.useState([]),[t,r]=Qe.useState([]),[s,o]=Qe.useState(null),[c,h]=Qe.useState(!1),[f,d]=Qe.useState(!1),[v,A]=Qe.useState(!0),[I,_]=Qe.useState({name:"",description:"",leaders:[]}),[z,M]=Qe.useState(null),[B,V]=Qe.useState({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),[te,ae]=Qe.useState([]),[se,Se]=Qe.useState(!1),[je,K]=Qe.useState(null),[O,w]=Qe.useState(null),[U,N]=Qe.useState([]),[C,E]=Qe.useState(!1),[H,fe]=Qe.useState("");Qe.useEffect(()=>{const W=Bt.subscribeSGIProcesses(_e=>{e(_e),A(!1)});(async()=>{const _e=await Bt.getUsers();r(_e)})();const pe=Bt.subscribeSGIIndicatorTypes(_e=>{N(_e)});return()=>{W(),pe()}},[]);const ne=async W=>{W.preventDefault();try{if(I.leaders.length===0){alert("Debe seleccionar al menos un lder para el proceso.");return}s&&!s.isNew?await Bt.updateSGIProcess(s.id,I):await Bt.addSGIProcess({...I,indicators:[]}),h(!1),_({name:"",description:"",leaders:[]}),o(null)}catch(re){console.error("Error saving process:",re)}},he=async W=>{window.confirm("Seguro que desea eliminar este proceso?")&&(await Bt.deleteSGIProcess(W),s?.id===W&&o(null))},J=async W=>{if(W.preventDefault(),!s)return;let re;if(z)re=s.indicators.map(pe=>pe.id===z.id?{...pe,...B}:pe);else{const pe={id:Date.now().toString(),...B,monthlyData:{}};re=[...s.indicators||[],pe]}try{await Bt.updateSGIProcess(s.id,{indicators:re}),o({...s,indicators:re}),d(!1),V({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),M(null)}catch(pe){console.error("Error saving indicator:",pe)}},de=async W=>{if(!window.confirm("Est seguro de eliminar este indicador?"))return;const re=s.indicators.filter(pe=>pe.id!==W);await Bt.updateSGIProcess(s.id,{indicators:re}),o({...s,indicators:re})},Ee=(W,re=null)=>(K(W),w(re),Se(!0),Bt.subscribeSGIEvidence(s.id,_e=>{let me=_e.filter(Oe=>Oe.indicatorId===W.id);re&&(me=me.filter(Oe=>Oe.month===re)),ae(me)})),X=async(W,re,pe)=>{if(!s)return;const _e=s.indicators.map(me=>me.id===W?{...me,monthlyData:{...me.monthlyData,[re]:parseFloat(pe)}}:me);try{await Bt.updateSGIProcess(s.id,{indicators:_e}),o({...s,indicators:_e})}catch(me){console.error("Error updating data:",me)}},k=()=>{let W="data:text/csv;charset=utf-8,";W+=`Proceso,Indicador,Tipo,Meta,Ene,Feb,Mar,Abr,May,Jun,Jul,Ago,Sep,Oct,Nov,Dic
`,n.forEach(_e=>{_e.indicators&&_e.indicators.forEach(me=>{const Oe=U.find(Xe=>Xe.id===me.typeId)?.name||"General",ge=[`"${_e.name}"`,`"${me.name}"`,`"${Oe}"`,`"${me.target} ${me.unit}"`,me.monthlyData?.["01"]||0,me.monthlyData?.["02"]||0,me.monthlyData?.["03"]||0,me.monthlyData?.["04"]||0,me.monthlyData?.["05"]||0,me.monthlyData?.["06"]||0,me.monthlyData?.["07"]||0,me.monthlyData?.["08"]||0,me.monthlyData?.["09"]||0,me.monthlyData?.["10"]||0,me.monthlyData?.["11"]||0,me.monthlyData?.["12"]||0].join(",");W+=ge+`
`})});const re=encodeURI(W),pe=document.createElement("a");pe.setAttribute("href",re),pe.setAttribute("download","reporte_sgi_acumulado.csv"),document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},P=(W,re)=>{if(!W||!re)return"rgba(255,255,255,0.05)";const pe=parseFloat(W)/parseFloat(re)*100;return pe>=90?"rgba(16, 185, 129, 0.2)":pe>=70?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)"},Y=(W,re)=>{if(!W||!re)return"rgba(255,255,255,0.1)";const pe=parseFloat(W)/parseFloat(re)*100;return pe>=90?"#10b981":pe>=70?"#f59e0b":"#ef4444"};return p.jsxs("div",{style:{padding:"20px",width:"100%",margin:"0 auto"},children:[p.jsx("style",{children:`
                @media (max-width: 1024px) {
                    .sgi-management-layout {
                        grid-template-columns: 1fr !important;
                    }
                    .sidebar-processes {
                        order: -1;
                    }
                }
                @media (max-width: 768px) {
                    .header-management {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .process-detail-header {
                        flex-direction: column;
                        gap: 15px;
                    }
                    .indicators-table-container {
                        margin: 0 -15px;
                        border-radius: 0 !important;
                    }
                }
                `}),p.jsxs("div",{className:"header-management",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[p.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(ms,{color:"var(--primary)"})," Gestin de Procesos SGI"]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsxs("button",{onClick:k,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--success)"},children:[p.jsx(jf,{size:18})," Reporte"]}),p.jsxs("button",{onClick:()=>E(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--secondary)"},children:[p.jsx($o,{size:18})," Tipos"]}),p.jsxs("button",{onClick:()=>{o({isNew:!0}),_({name:"",description:"",leaders:[]}),h(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Tu,{size:18})," Proceso"]})]})]}),p.jsxs("div",{className:"sgi-management-layout mobile-column",style:{display:"grid",gridTemplateColumns:"minmax(250px, 1fr) 4fr",gap:"30px"},children:[p.jsx("style",{children:`
                    @media (max-width: 1024px) {
                        .sgi-management-layout {
                            grid-template-columns: 1fr !important;
                            display: flex !important;
                            flex-direction: column !important;
                        }
                    }
                    `}),p.jsxs("div",{className:"glass-card sidebar-processes sidebar-responsive",style:{padding:"20px",height:"fit-content"},children:[p.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Procesos"}),p.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(W=>p.jsx("li",{style:{marginBottom:"10px"},children:p.jsxs("div",{onClick:()=>o(W),style:{padding:"12px",borderRadius:"8px",cursor:"pointer",background:s?.id===W.id?"rgba(0, 108, 224, 0.2)":"rgba(255,255,255,0.05)",border:s?.id===W.id?"1px solid var(--primary)":"1px solid transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{fontWeight:500},children:W.name}),p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("button",{onClick:re=>{re.stopPropagation(),o(W),_({name:W.name,description:W.description||"",leaders:W.leaders||(W.leader?[{id:W.leaderId||"",name:W.leader}]:[])}),h(!0)},style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer"},title:"Editar Proceso",children:p.jsx($o,{size:14})}),p.jsx("button",{onClick:re=>{re.stopPropagation(),he(W.id)},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},title:"Eliminar Proceso",children:p.jsx(kl,{size:14})})]})]})},W.id))})]}),p.jsx("div",{className:"glass-card main-process-content",style:{padding:"30px"},children:s&&!s.isNew?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"process-detail-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[p.jsxs("div",{children:[p.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"var(--primary)"},children:s.name}),p.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:s.description||"Sin descripcin"}),p.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:["Lderes:",s.leaders?.map(W=>p.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:W.name},W.id))||s.leader&&p.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:s.leader})||"N/A"]})]}),p.jsxs("button",{onClick:()=>{M(null),V({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1,folder:"",frequency:"Mensual"}),d(!0)},className:"btn-primary",style:{background:"var(--success)",fontSize:"0.9rem",padding:"8px 15px"},children:[p.jsx(Tu,{size:16,style:{marginRight:"5px"}})," Agregar Indicador"]})]}),p.jsx("div",{className:"glass-card indicators-table-container table-responsive",style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"12px"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",textAlign:"left"},children:[p.jsx("th",{style:{padding:"10px"},children:"Indicador"}),p.jsx("th",{style:{padding:"10px"},children:"Meta"}),p.jsx("th",{style:{padding:"10px"},children:"Ene"}),p.jsx("th",{style:{padding:"10px"},children:"Feb"}),p.jsx("th",{style:{padding:"10px"},children:"Mar"}),p.jsx("th",{style:{padding:"10px"},children:"Abr"}),p.jsx("th",{style:{padding:"10px"},children:"May"}),p.jsx("th",{style:{padding:"10px"},children:"Jun"}),p.jsx("th",{style:{padding:"10px"},children:"Jul"}),p.jsx("th",{style:{padding:"10px"},children:"Ago"}),p.jsx("th",{style:{padding:"10px"},children:"Sep"}),p.jsx("th",{style:{padding:"10px"},children:"Oct"}),p.jsx("th",{style:{padding:"10px"},children:"Nov"}),p.jsx("th",{style:{padding:"10px"},children:"Dic"}),p.jsx("th",{style:{padding:"10px"},children:"Acciones"})]})}),p.jsx("tbody",{children:(()=>{const W=(s.indicators||[]).reduce((pe,_e)=>{const me=_e.folder||"General";return pe[me]||(pe[me]=[]),pe[me].push(_e),pe},{});return(s.indicators||[]).length>0?Object.entries(W).map(([pe,_e])=>p.jsxs(sx.Fragment,{children:[p.jsx("tr",{style:{background:"rgba(255, 255, 255, 0.03)"},children:p.jsx("td",{colSpan:"15",style:{padding:"10px",color:"var(--primary)",fontWeight:"bold",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:pe})}),_e.map(me=>p.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[p.jsxs("td",{style:{padding:"15px 10px",paddingLeft:"20px"},children:[p.jsx("div",{style:{fontWeight:"bold"},children:me.name}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"5px",opacity:.6},children:[me.requiresPhoto&&p.jsx(l4,{size:14,title:"Requiere Foto"}),me.requiresFile&&p.jsx(L0,{size:14,title:"Requiere Archivo"}),me.requiresComment&&p.jsx(h4,{size:14,title:"Requiere Comentario"})]})]}),p.jsxs("td",{style:{padding:"15px 10px"},children:[p.jsxs("div",{children:[me.target||"-"," ",me.unit]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"4px"},children:me.frequency||"Mensual"})]}),["01","02","03","04","05","06","07","08","09","10","11","12"].map(Oe=>p.jsx("td",{style:{padding:"5px"},children:p.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[p.jsx("input",{type:"number",style:{width:"50px",background:P(me.monthlyData?.[Oe],me.target),border:`1px solid ${Y(me.monthlyData?.[Oe],me.target)}`,color:"white",padding:"4px",borderRadius:"4px",fontSize:"0.85rem",transition:"all 0.3s ease"},value:me.monthlyData?.[Oe]||"",onChange:ge=>X(me.id,Oe,ge.target.value)}),me.monthlyData?.[Oe]!==void 0&&p.jsx("button",{onClick:()=>Ee(me,Oe),style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer",padding:"2px",marginTop:"2px"},title:"Ver evidencia del mes",children:p.jsx(ms,{size:10})})]})},Oe)),p.jsxs("td",{style:{padding:"15px 10px",display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:()=>{M(me),V({name:me.name,target:me.target,unit:me.unit,requiresPhoto:me.requiresPhoto,requiresFile:me.requiresFile,requiresComment:me.requiresComment,folder:me.folder||"",frequency:me.frequency||"Mensual"}),d(!0)},title:"Editar Indicador",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:p.jsx($o,{size:16})}),p.jsx("button",{onClick:()=>Ee(me),title:"Ver Evidencia",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:p.jsx(ms,{size:16})}),p.jsx("button",{onClick:()=>de(me.id),style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:p.jsx(kl,{size:16})})]})]},me.id))]},pe)):p.jsx("tr",{children:p.jsx("td",{colSpan:"15",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No hay indicadores configurados para este proceso."})})})()})]})})]}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-muted)"},children:[p.jsx(ms,{size:48,style:{opacity:.2,marginBottom:"20px"}}),p.jsx("p",{children:"Seleccione un proceso para ver sus indicadores o cree uno nuevo."})]})})]}),c&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[p.jsx("h3",{children:s?.id?"Editar Proceso":"Nuevo Proceso"}),p.jsxs("form",{onSubmit:ne,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Nombre del Proceso"}),p.jsx("input",{type:"text",required:!0,value:I.name,onChange:W=>_({...I,name:W.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Descripcin"}),p.jsx("textarea",{value:I.description,onChange:W=>_({...I,description:W.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"}})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Seleccionar Lderes (Puede seleccionar varios)"}),p.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px"},children:t.map(W=>{const re=I.leaders?.some(pe=>pe.id===W.id);return p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[p.jsx("input",{type:"checkbox",checked:re,onChange:pe=>{let _e=[...I.leaders||[]];pe.target.checked?_e.push({id:W.id,name:W.name}):_e=_e.filter(me=>me.id!==W.id),_({...I,leaders:_e})}}),p.jsxs("span",{style:{fontSize:"0.9rem"},children:[W.name," ",p.jsxs("small",{style:{opacity:.5},children:["(",W.role,")"]})]})]},W.id)})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[p.jsx("button",{type:"button",onClick:()=>h(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),f&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"450px"},children:[p.jsx("h3",{children:z?"Editar Indicador":"Nuevo Indicador de Proceso"}),p.jsxs("form",{onSubmit:J,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Nombre del Indicador / Tarea"}),p.jsx("input",{type:"text",placeholder:"Ej: Entrega de Reportes",required:!0,value:B.name,onChange:W=>V({...B,name:W.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Carpeta / Grupo (Opcional)"}),p.jsx("input",{type:"text",placeholder:"Ej: Seguridad, Calidad, etc.",value:B.folder||"",onChange:W=>V({...B,folder:W.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Tipo de Indicador"}),p.jsxs("select",{value:B.typeId||"",onChange:W=>V({...B,typeId:W.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[p.jsx("option",{value:"",children:"-- Seleccionar Tipo --"}),U.map(W=>p.jsx("option",{value:W.id,children:W.name},W.id))]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Meta"}),p.jsx("input",{type:"number",required:!0,value:B.target,onChange:W=>V({...B,target:W.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Unidad"}),p.jsxs("select",{value:B.unit,onChange:W=>V({...B,unit:W.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[p.jsx("option",{value:"%",children:"% (Porcentaje)"}),p.jsx("option",{value:"#",children:"# (Cantidad)"}),p.jsx("option",{value:"$",children:"$ (Pesos)"})]})]})]}),p.jsxs("div",{style:{margin:"15px 0"},children:[p.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Requerimientos de Evidencia:"}),p.jsxs("div",{style:{display:"flex",gap:"20px"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[p.jsx("input",{type:"checkbox",checked:B.requiresPhoto,onChange:W=>V({...B,requiresPhoto:W.target.checked})}),p.jsx("span",{children:"Foto"})]}),p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[p.jsx("input",{type:"checkbox",checked:B.requiresFile,onChange:W=>V({...B,requiresFile:W.target.checked})}),p.jsx("span",{children:"Archivo"})]}),p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[p.jsx("input",{type:"checkbox",checked:B.requiresComment,onChange:W=>V({...B,requiresComment:W.target.checked})}),p.jsx("span",{children:"Comentario"})]})]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Frecuencia de Medicin"}),p.jsxs("select",{value:B.frequency||"Mensual",onChange:W=>V({...B,frequency:W.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[p.jsx("option",{value:"Mensual",children:"Mensual"}),p.jsx("option",{value:"Bimestral",children:"Bimestral"}),p.jsx("option",{value:"Trimestral",children:"Trimestral"}),p.jsx("option",{value:"Semestral",children:"Semestral"}),p.jsx("option",{value:"Anual",children:"Anual"})]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[p.jsx("button",{type:"button",onClick:()=>{d(!1),M(null)},style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),p.jsx("button",{type:"submit",className:"btn-primary",children:z?"Guardar Cambios":"Agregar"})]})]})]})}),se&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("div",{children:[p.jsxs("h3",{style:{margin:0},children:["Evidencia: ",je?.name]}),O&&p.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:["Filtrado por Mes: ",O]})]}),p.jsx("button",{onClick:()=>{Se(!1),w(null)},style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:p.jsx(Mp,{})})]}),te.length===0?p.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se ha cargado evidencia para este indicador an."}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:te.map(W=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"12px",borderLeft:"4px solid var(--primary)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[p.jsx("span",{style:{fontWeight:"bold"},children:W.leaderName}),p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(W.timestamp).toLocaleString()})]}),W.value&&p.jsxs("div",{style:{marginBottom:"10px"},children:["Valor reportado: ",p.jsx("b",{style:{color:"var(--primary)"},children:W.value})]}),W.comment&&p.jsxs("p",{style:{fontSize:"0.9rem",margin:"0 0 10px 0",fontStyle:"italic"},children:['"',W.comment,'"']}),W.attachments&&W.attachments.length>0&&p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:W.attachments.map((re,pe)=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[re.type?.includes("image")?p.jsx("img",{src:re.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(re.url,"_blank")}):p.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:p.jsx(ms,{size:32,color:"var(--primary)"})}),p.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.name}),p.jsx("a",{href:re.url,download:re.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none",display:"block",marginTop:"5px"},children:"Descargar"})]},pe))})]})]},W.id))})]})}),C&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1200,display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsx("h3",{style:{margin:0},children:"Tipos de Indicadores"}),p.jsx("button",{onClick:()=>E(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:p.jsx(Mp,{})})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[p.jsx("input",{type:"text",placeholder:"Nuevo Tipo (ej: Seguridad)",value:H,onChange:W=>fe(W.target.value),style:{flex:1,padding:"8px",borderRadius:"4px",border:"none"}}),p.jsx("button",{onClick:async()=>{H.trim()&&(await Bt.addSGIIndicatorType({name:H.trim()}),fe(""))},className:"btn-primary",style:{padding:"8px 15px"},children:p.jsx(Tu,{size:16})})]}),p.jsxs("ul",{style:{listStyle:"none",padding:0,maxHeight:"300px",overflowY:"auto"},children:[U.map(W=>p.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[p.jsx("span",{children:W.name}),p.jsx("button",{onClick:()=>{window.confirm("Eliminar este tipo?")&&Bt.deleteSGIIndicatorType(W.id)},style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:p.jsx(kl,{size:16})})]},W.id)),U.length===0&&p.jsx("li",{style:{textAlign:"center",color:"var(--text-muted)",padding:"10px"},children:"No hay tipos definidos."})]})]})})]})},oI=()=>{const[n,e]=Qe.useState([]),[t,r]=Qe.useState(null),[s,o]=Qe.useState(!0),[c,h]=Qe.useState(Bt.getSession()),[f,d]=Qe.useState({indicatorId:"",value:"",comment:"",files:[]}),[v,A]=Qe.useState(!1),[I,_]=Qe.useState([]),[z,M]=Qe.useState(!1),[B,V]=Qe.useState(null),[te,ae]=Qe.useState({indicatorId:"",value:"",comment:"",files:[]});Qe.useEffect(()=>{if(!c)return;const N=Bt.subscribeSGIProcesses(C=>{const E=C.filter(H=>H.leaders?.some(fe=>fe.id===c.id)||H.leaderId===c.id||H.leader===c.name);if(e(E),o(!1),t){const H=E.find(fe=>fe.id===t.id);r(H||null)}});return()=>N()},[c,t?.id]),Qe.useEffect(()=>{if(!t)return;const N=Bt.subscribeSGIEvidence(t.id,C=>{_(C)});return()=>N()},[t?.id]);const se=N=>{const C=Array.from(N.target.files);if(C.some(H=>H.size>1024*1024)){alert(` Uno o ms archivos exceden el lmite de 1MB.

Para esta versin gratuita (sin tarjeta vinculada), los archivos deben ser pequeos (<1MB). Por favor comprima el archivo e intente de nuevo.`),N.target.value="";return}d({...f,files:C})},Se=async(N,C=!1)=>{const E=C?te:f;if(!E.value&&!E.comment&&E.files.length===0){alert("Por favor ingrese algn dato o evidencia.");return}A(!0);try{const fe=(new Date().getMonth()+1).toString().padStart(2,"0"),ne=[];for(const he of E.files){if(he.size>1024*1024)throw new Error(`El archivo ${he.name} es demasiado grande. El lmite es 1MB.`);const J=await Bt.uploadFile(he);ne.push({name:he.name,url:J,type:he.type})}if(C&&B){const he=I.find(de=>de.id===B),J=[...he.attachments||[],...ne];if(await Bt.updateSGIEvidence(B,{value:E.value,comment:E.comment,attachments:J}),E.value){const de=parseFloat(he.value||0),Ee=parseFloat(E.value)-de;await je(N,fe,Ee)}alert("Evidencia actualizada."),O()}else await Bt.submitSGIEvidence({processId:t.id,indicatorId:N,leaderId:c.id,leaderName:c.name,month:fe,year:new Date().getFullYear(),value:E.value,comment:E.comment,attachments:ne}),E.value&&await je(N,fe,parseFloat(E.value)),d({indicatorId:"",value:"",comment:"",files:[]}),alert("Evidencia enviada correctamente.")}catch(H){console.error("Error submitting:",H),alert(H.message||"Error al procesar la solicitud.")}finally{A(!1)}},je=async(N,C,E)=>{const H=t.indicators.map(fe=>{if(fe.id===N){let he=parseFloat(fe.monthlyData?.[C]||0)+E;if(fe.target){const J=parseFloat(fe.target);he>J&&(he=J)}return he<0&&(he=0),{...fe,monthlyData:{...fe.monthlyData||{},[C]:he}}}return fe});await Bt.updateSGIProcess(t.id,{indicators:H})},K=(N,C)=>{alert("Abriendo editor..."),V(N.id),ae({indicatorId:C,value:N.value||"",comment:N.comment||"",files:[]}),M(!0)},O=()=>{M(!1),V(null),ae({indicatorId:"",value:"",comment:"",files:[]})},w=N=>{const C=Array.from(N.target.files);if(C.some(H=>H.size>1024*1024)){alert(" Archivo > 1MB. Comprima e intente de nuevo."),N.target.value="";return}ae({...te,files:C})},U=async(N,C)=>{if(window.confirm("Seguro que deseas eliminar esta entrega? El valor se restar del acumulado."))try{if(await Bt.deleteSGIEvidence(N.id),N.value){const E=N.month,H=parseFloat(N.value),fe=t.indicators.map(ne=>{if(ne.id===C.id){let J=parseFloat(ne.monthlyData?.[E]||0)-H;return J<0&&(J=0),{...ne,monthlyData:{...ne.monthlyData||{},[E]:J}}}return ne});await Bt.updateSGIProcess(t.id,{indicators:fe})}alert("Evidencia eliminada y valor ajustado.")}catch(E){console.error("Error deleting evidence:",E),alert("Error al eliminar la evidencia.")}};return s?p.jsx("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:"Cargando procesos..."}):p.jsxs("div",{className:"mobile-column",style:{padding:"20px",display:"flex",gap:"30px",minHeight:"80vh"},children:[p.jsxs("div",{className:"sidebar-responsive",style:{width:"300px",flexShrink:0},children:[p.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Dl,{color:"var(--primary)"})," Mis Procesos SGI"]}),n.length===0?p.jsx("div",{className:"glass-card",style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:"No tienes procesos asignados en este momento."}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(N=>p.jsxs("div",{onClick:()=>r(N),className:"glass-card",style:{padding:"15px",cursor:"pointer",border:t?.id===N.id?"1px solid var(--primary)":"1px solid transparent",background:t?.id===N.id?"rgba(0, 108, 224, 0.15)":"rgba(255,255,255,0.05)",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{fontWeight:"bold"},children:N.name}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:[N.indicators?.length||0," Indicadores definidos"]})]},N.id))})]}),p.jsx("div",{style:{flex:1},children:t?p.jsxs("div",{children:[p.jsxs("div",{className:"glass-card",style:{padding:"25px",marginBottom:"30px"},children:[p.jsx("h2",{style:{margin:0},children:t.name}),p.jsx("p",{style:{color:"var(--text-muted)",margin:"10px 0 0 0"},children:t.description})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:(()=>{const N=(t.indicators||[]).reduce((C,E)=>{const H=E.folder||"General";return C[H]||(C[H]=[]),C[H].push(E),C},{});return Object.entries(N).map(([C,E])=>p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsx("h3",{style:{color:"var(--primary)",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px",marginBottom:"20px",fontSize:"1.2rem",fontWeight:"500"},children:C}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:E.map(H=>p.jsxs("div",{className:"glass-card",style:{padding:"25px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("div",{children:[p.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:H.name}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[H.requiresPhoto&&p.jsxs("span",{className:"badge-blue",children:[p.jsx(l4,{size:12})," Foto"]}),H.requiresFile&&p.jsxs("span",{className:"badge-blue",children:[p.jsx(L0,{size:12})," Archivo"]}),H.requiresComment&&p.jsxs("span",{className:"badge-blue",children:[p.jsx(h4,{size:12})," Comentario"]})]})]}),p.jsxs("div",{style:{textAlign:"right"},children:[p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Meta ",H.frequency||"Mensual"]}),p.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[H.target," ",H.unit]})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"12px"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Valor Real (Mes Actual)"}),p.jsx("input",{type:"number",placeholder:`0.00 ${H.unit}`,onChange:fe=>d({...f,value:fe.target.value})})]}),H.requiresComment&&p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Comentarios / Observaciones"}),p.jsx("textarea",{placeholder:"Describa el progreso o hallazgos...",style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"},onChange:fe=>d({...f,comment:fe.target.value})})]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(H.requiresPhoto||H.requiresFile)&&p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Evidencia (Fotos/Archivos)"}),p.jsxs("div",{style:{border:"2px dashed var(--border-color)",padding:"20px",borderRadius:"12px",textAlign:"center",position:"relative",cursor:"pointer",background:f.files.length>0?"rgba(52, 211, 153, 0.05)":"transparent"},children:[p.jsx("input",{type:"file",multiple:!0,accept:H.requiresPhoto?"image/*,.pdf,.doc,.docx":"*",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:se}),p.jsx(dC,{size:24,color:"var(--primary)",style:{marginBottom:"10px"}}),p.jsx("div",{style:{fontSize:"0.9rem"},children:f.files.length>0?`${f.files.length} archivos seleccionados`:"Haga clic o arrastre para subir evidencia"})]})]}),p.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"auto"},children:p.jsx("button",{disabled:v,onClick:()=>Se(H.id),className:"btn-primary",style:{flex:1,display:"flex",justifyContent:"center",gap:"10px"},children:v?"Enviando...":p.jsxs(p.Fragment,{children:[p.jsx(iC,{size:18})," Enviar Cumplimiento"]})})})]})]}),p.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px"},children:[p.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Dl,{size:14})," Historial de Entregas"]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:I.filter(fe=>fe.indicatorId===H.id).length===0?p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:"Sin entregas previas este mes."}):I.filter(fe=>fe.indicatorId===H.id).sort((fe,ne)=>new Date(ne.timestamp)-new Date(fe.timestamp)).map(fe=>p.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"8px",fontSize:"0.85rem"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"5px"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[p.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:[fe.value," ",H.unit]}),p.jsx("span",{style:{fontSize:"0.75rem",opacity:.6},children:new Date(fe.timestamp).toLocaleString()})]}),p.jsxs("div",{style:{display:"flex",gap:"5px"},children:[p.jsx("button",{onClick:()=>K(fe,H.id),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Editar esta entrega",children:p.jsx(kv,{size:16})}),p.jsx("button",{onClick:()=>U(fe,H),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",cursor:"pointer",padding:"5px",borderRadius:"4px"},title:"Eliminar esta entrega",children:p.jsx(kl,{size:16})})]})]}),fe.comment&&p.jsx("p",{style:{margin:"0 0 5px 0",opacity:.8},children:fe.comment}),fe.attachments&&fe.attachments.length>0&&p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:fe.attachments.map((ne,he)=>p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(255,255,255,0.1)",padding:"4px 8px",borderRadius:"4px"},children:p.jsxs("a",{href:ne.url,download:ne.name,style:{color:"var(--primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem"},children:[p.jsx(L0,{size:12})," ",ne.name]})},he))})]},fe.id))})]})]},H.id))})]},C))})()})]}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[p.jsx(ms,{size:80,style:{marginBottom:"20px"}}),p.jsx("h2",{children:"Selecciona un proceso para comenzar"})]})}),z&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999},children:p.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"25px",position:"relative"},children:[p.jsx("button",{onClick:O,style:{position:"absolute",top:"15px",right:"15px",background:"transparent",border:"none",color:"white",cursor:"pointer"},children:p.jsx(Pp,{size:24})}),p.jsxs("h3",{style:{marginTop:0,marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(kv,{size:20,color:"var(--primary)"})," Editar Entrega"]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Valor Real (Correccin)"}),p.jsx("input",{type:"number",value:te.value,onChange:N=>ae({...te,value:N.target.value})})]}),p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Comentarios / Observaciones"}),p.jsx("textarea",{value:te.comment,onChange:N=>ae({...te,comment:N.target.value}),style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"}})]}),p.jsxs("div",{className:"input-group",style:{margin:0},children:[p.jsx("label",{children:"Agregar Evidencia Adicional"}),p.jsx("input",{type:"file",multiple:!0,onChange:w,style:{color:"white"}})]}),p.jsx("button",{disabled:v,onClick:()=>Se(te.indicatorId,!0),className:"btn-primary",style:{marginTop:"10px",display:"flex",justifyContent:"center",gap:"10px"},children:v?"Actualizando...":p.jsxs(p.Fragment,{children:[p.jsx(Uo,{size:18})," Guardar Cambios"]})})]})]})})]})},lI=()=>{const{user:n}=Ih(),[e,t]=Qe.useState([]),[r,s]=Qe.useState([]),[o,c]=Qe.useState(!0),[h,f]=Qe.useState(!1),[d,v]=Qe.useState(null),[A,I]=Qe.useState("calendar"),[_,z]=Qe.useState(new Date),[M,B]=Qe.useState({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"});Qe.useEffect(()=>{const H=Bt.getVisits(ne=>{t(ne),c(!1)}),fe=Bt.subscribeUsers(s);return()=>{H(),fe()}},[]);const te=n?.role==="admin"||n?.role==="operator"||n?.role==="technician"||n?.role==="operaciones",ae=r.filter(H=>["admin","engineer","technician","operaciones","logistica"].includes(H.role)),se=async H=>{H.preventDefault();try{d?await Bt.updateVisit(d.id,M):await Bt.addVisit({...M,createdBy:n.username}),f(!1),v(null),B({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"})}catch(fe){console.error("Error saving visit:",fe),alert("Error al guardar la visita.")}},Se=async H=>{window.confirm("Est seguro de eliminar esta visita?")&&await Bt.deleteVisit(H)},je=H=>{v(H),B({date:H.date,location:H.location,client:H.client||"",description:H.description,personnel:H.personnel,status:H.status}),f(!0)},K=H=>{te&&(B({date:H,location:"",client:"",description:"",personnel:"",status:"scheduled"}),v(null),f(!0))},O=(H,fe)=>new Date(H,fe+1,0).getDate(),w=(H,fe)=>new Date(H,fe,1).getDay(),U=()=>{const H=_.getFullYear(),fe=_.getMonth(),ne=O(H,fe),he=w(H,fe),J=_.toLocaleString("default",{month:"long",year:"numeric"}),de=[];for(let Ee=0;Ee<he;Ee++)de.push(p.jsx("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",minHeight:"100px"}},`empty-${Ee}`));for(let Ee=1;Ee<=ne;Ee++){const X=`${H}-${String(fe+1).padStart(2,"0")}-${String(Ee).padStart(2,"0")}`,k=e.filter(Y=>Y.date===X),P=new Date().toISOString().split("T")[0]===X;de.push(p.jsxs("div",{onClick:()=>K(X),style:{background:P?"rgba(37, 99, 235, 0.1)":"rgba(255,255,255,0.05)",border:P?"1px solid var(--primary)":"1px solid rgba(255,255,255,0.1)",minHeight:"100px",padding:"5px",cursor:te?"pointer":"default",position:"relative"},children:[p.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px",color:P?"var(--primary)":"white"},children:Ee}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:k.map(Y=>p.jsx("div",{onClick:W=>{W.stopPropagation(),je(Y)},style:{fontSize:"0.75rem",padding:"2px 4px",borderRadius:"4px",background:Y.status==="completed"?"var(--success)":Y.status==="cancelled"?"var(--danger)":"var(--primary)",color:"white",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:`${Y.location} - ${Y.personnel}`,children:Y.location},Y.id))})]},Ee))}return p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[p.jsx("button",{onClick:()=>z(new Date(H,fe-1,1)),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:" Anterior"}),p.jsx("h3",{style:{textTransform:"capitalize",margin:0},children:J}),p.jsx("button",{onClick:()=>z(new Date(H,fe+1,1)),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:"Siguiente "})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"5px"},children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"].map(Ee=>p.jsx("div",{style:{textAlign:"center",fontWeight:"bold",padding:"10px 0",color:"var(--text-muted)"},children:Ee},Ee)),de]})]})},N=H=>{switch(H){case"completed":return"var(--success)";case"cancelled":return"var(--danger)";default:return"var(--primary)"}},C=H=>{switch(H){case"completed":return"Completada";case"cancelled":return"Cancelada";default:return"Programada"}},E=(H,fe)=>{if(fe!=="scheduled")return null;const ne=new Date;ne.setHours(0,0,0,0);const he=new Date(H);he.setHours(0,0,0,0);const J=he-ne,de=Math.ceil(J/(1e3*60*60*24));return de<0?{color:"var(--danger)",text:"Vencida"}:de===0?{color:"var(--warning)",text:"Hoy"}:de<=3?{color:"var(--warning)",text:`En ${de} das`}:null};return p.jsxs("div",{style:{padding:"20px",color:"white",maxWidth:"1200px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("div",{children:[p.jsxs("h2",{style:{fontSize:"1.8rem",display:"flex",alignItems:"center",gap:"10px",margin:0},children:[p.jsx(Sh,{color:"var(--primary)",size:32})," Cronograma de Operaciones"]}),p.jsx("p",{style:{color:"var(--text-muted)",margin:"5px 0 0 0"},children:"Planificacin de visitas tcnicas y mantenimientos en terreno."})]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:()=>I(A==="list"?"calendar":"list"),className:"glass-card",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 15px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)"},children:A==="list"?"Ver Calendario":"Ver Lista"}),te&&p.jsxs("button",{onClick:()=>{v(null),B({date:"",location:"",client:"",description:"",personnel:"",status:"scheduled"}),f(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Mv,{size:18})," Agendar Visita"]})]})]}),A==="calendar"?U():p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:e.map(H=>{const fe=E(H.date,H.status);return p.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative",borderLeft:`4px solid ${N(H.status)}`},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",padding:"5px 10px",borderRadius:"15px"},children:[p.jsx(Dl,{size:14,color:N(H.status)}),p.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:new Date(H.date).toLocaleDateString()})]}),fe&&p.jsxs("span",{style:{color:fe.color,fontWeight:"bold",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx(Om,{size:14})," ",fe.text]})]}),p.jsx("h4",{style:{fontSize:"1.2rem",margin:"0 0 10px 0"},children:H.location}),H.client&&p.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:["Cliente: ",H.client]}),p.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.95rem",lineHeight:"1.5",marginBottom:"15px"},children:H.description}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[p.jsx(Op,{size:16}),p.jsxs("span",{children:["Personal: ",H.personnel]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[p.jsx("span",{style:{fontSize:"0.8rem",padding:"4px 10px",borderRadius:"10px",background:H.status==="completed"?"rgba(16, 185, 129, 0.2)":H.status==="cancelled"?"rgba(239, 68, 68, 0.2)":"rgba(37, 99, 235, 0.2)",color:N(H.status)},children:C(H.status)}),te&&p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>je(H),style:{background:"transparent",color:"var(--primary)",border:"none",cursor:"pointer",padding:"5px"},children:p.jsx($o,{size:18})}),p.jsx("button",{onClick:()=>Se(H.id),style:{background:"transparent",color:"var(--danger)",border:"none",cursor:"pointer",padding:"5px"},children:p.jsx(kl,{size:18})})]})]})]},H.id)})}),h&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[p.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[d?p.jsx($o,{size:24}):p.jsx(Mv,{size:24}),d?"Editar Visita":"Nueva Visita"]}),p.jsxs("form",{onSubmit:se,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Fecha de Visita"}),p.jsx("input",{type:"date",required:!0,value:M.date,onChange:H=>B({...M,date:H.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Ubicacin / Proyecto"}),p.jsx("input",{type:"text",required:!0,placeholder:"Ej: Planta Principal, Sala de Servidores...",value:M.location,onChange:H=>B({...M,location:H.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Cliente (Opcional)"}),p.jsx("input",{type:"text",placeholder:"Nombre del cliente",value:M.client,onChange:H=>B({...M,client:H.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Personal Asignado"}),p.jsxs("select",{value:M.personnel,onChange:H=>B({...M,personnel:H.target.value}),required:!0,style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.2)",color:"white"},children:[p.jsx("option",{value:"",children:"Seleccionar Personal..."}),ae.map(H=>p.jsxs("option",{value:H.name||H.username,children:[H.name||H.username," (",H.role,")"]},H.id))]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Descripcin de Actividades"}),p.jsx("textarea",{rows:"3",required:!0,placeholder:"Detalle de tareas a realizar...",value:M.description,onChange:H=>B({...M,description:H.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Estado"}),p.jsxs("select",{value:M.status,onChange:H=>B({...M,status:H.target.value}),children:[p.jsx("option",{value:"scheduled",children:"Programada"}),p.jsx("option",{value:"completed",children:"Completada"}),p.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Guardar"}),p.jsx("button",{type:"button",onClick:()=>f(!1),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",color:"white",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},uI=()=>{const{user:n,logout:e,users:t}=Ih(),{tickets:r,addTicket:s,updateTicketStatus:o,deleteTicket:c}=bC(),{computers:h}=Pm(),[f,d]=Qe.useState("home"),[v,A]=Qe.useState({title:"",description:"",priority:"medium"}),[I,_]=Qe.useState(!1),[z,M]=Qe.useState(!1),[B,V]=Qe.useState(!1),[te,ae]=Qe.useState(null),[se,Se]=Qe.useState(null),[je,K]=Qe.useState({solution:"",recommendation:""}),[O,w]=Qe.useState(null),[U,N]=Qe.useState({rating:5,comment:""}),[C,E]=Qe.useState(10),[H,fe]=Qe.useState(""),[ne,he]=Qe.useState(""),J=ge=>{ge.preventDefault(),O&&(o(O,"closed",{feedback:{rating:parseInt(U.rating),comment:U.comment,createdAt:new Date().toISOString()}}),w(null),N({rating:5,comment:""}))},[de,Ee]=Qe.useState(null);if(!n)return null;console.log("Dashboard loaded - Version: 2.2.0 (Home Dashboard + Ticket Modal)");const X=()=>{try{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))}catch(ge){console.error("Fullscreen error",ge)}},k=async ge=>{ge.preventDefault(),V(!0);try{let Xe="";te&&(Xe=await Bt.uploadFile(te)),await s({...v,author:n.username,imageUrl:Xe||null}),A({title:"",description:"",priority:"medium"}),ae(null),M(!1)}catch(Xe){console.error("Error creating ticket:",Xe),alert("Error al crear el ticket. Por favor intente nuevamente.")}finally{V(!1)}},P=ge=>{ge.preventDefault(),de&&(o(de.id,de.status,{title:de.title,description:de.description,priority:de.priority,...re&&{solution:de.solution,recommendation:de.recommendation}}),Ee(null))},Y=ge=>{window.confirm("Est seguro de que desea eliminar este ticket?")&&c(ge)},W=ge=>{ge.preventDefault(),o(se,"closed",{solution:je.solution,recommendation:je.recommendation,closedAt:new Date().toISOString(),closedBy:n.username});const Xe=(r||[]).find(et=>et.id===se);if(Xe){const et=(t||[]).find(lt=>lt.username===Xe.author);et&&et.email&&(console.log(`%c SISTEMA ENVIANDO CORREO A: ${et.email}`,"color: #10b981; font-weight: bold;"),console.log(`Asunto:  Ticket Resuelto: ${Xe.title}`),console.log(`Solucin: ${je.solution}`),console.log(`Recomendacin: ${je.recommendation}`))}Se(null),K({solution:"",recommendation:""})},re=n.role==="admin",pe=re||n.canManageAssets||n.role==="logistica",_e=r||[],me=_e.filter(ge=>ge.status==="open").length,Oe=_e.filter(ge=>ge.status==="closed").length;return p.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-color)",color:"white"},children:[z&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Tu,{color:"var(--primary)",size:32})," Nueva Solicitud"]}),p.jsx("button",{onClick:()=>M(!1),style:{background:"transparent",color:"var(--text-muted)"},children:p.jsx(Pp,{size:24})})]}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px"},children:"Complete los detalles para crear un nuevo ticket de soporte."}),p.jsxs("form",{onSubmit:k,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Asunto / Ttulo"}),p.jsx("input",{type:"text",required:!0,value:v.title,placeholder:"Ej: Falla en impresora, Error de software...",onChange:ge=>A({...v,title:ge.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Prioridad"}),p.jsxs("select",{value:v.priority,onChange:ge=>A({...v,priority:ge.target.value}),children:[p.jsx("option",{value:"low",children:"Baja"}),p.jsx("option",{value:"medium",children:"Media"}),p.jsx("option",{value:"high",children:"Alta"})]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Descripcin del Problema"}),p.jsx("textarea",{rows:"5",required:!0,value:v.description,onChange:ge=>A({...v,description:ge.target.value}),placeholder:"Describa detalladamente el problema..."})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Adjuntar Imagen (Opcional)"}),p.jsx("input",{type:"file",accept:"image/*",onChange:ge=>ae(ge.target.files[0]),style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",border:"1px solid var(--border-color)",width:"100%"}}),te&&p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--primary)",marginTop:"5px"},children:["Imagen seleccionada: ",te.name]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",disabled:B,style:{flex:1.5,padding:"15px"},children:B?"Subiendo...":"Crear Ticket"}),p.jsx("button",{type:"button",onClick:()=>M(!1),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),de&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx($o,{color:"var(--primary)",size:24})," Editar Ticket"]}),p.jsx("button",{onClick:()=>Ee(null),style:{background:"transparent",color:"var(--text-muted)"},children:p.jsx(Pp,{size:24})})]}),p.jsxs("form",{onSubmit:P,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Ttulo / Asunto"}),p.jsx("input",{type:"text",required:!0,value:de.title,onChange:ge=>Ee({...de,title:ge.target.value})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Prioridad"}),p.jsxs("select",{value:de.priority,onChange:ge=>Ee({...de,priority:ge.target.value}),children:[p.jsx("option",{value:"low",children:"Baja"}),p.jsx("option",{value:"medium",children:"Media"}),p.jsx("option",{value:"high",children:"Alta"})]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Descripcin del Problema"}),p.jsx("textarea",{rows:"5",required:!0,value:de.description,onChange:ge=>Ee({...de,description:ge.target.value})})]}),re&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Resolucin Tcnica (Admin)"}),p.jsx("textarea",{rows:"4",value:de.solution||"",onChange:ge=>Ee({...de,solution:ge.target.value}),placeholder:"Detalle tcnico de la solucin..."})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Recomendaciones (Admin)"}),p.jsx("textarea",{rows:"3",value:de.recommendation||"",onChange:ge=>Ee({...de,recommendation:ge.target.value}),placeholder:"Recomendaciones para el cliente..."})]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"15px"},children:"Guardar Cambios"}),p.jsx("button",{type:"button",onClick:()=>Ee(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),se&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[p.jsxs("h3",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Uo,{color:"var(--success)",size:24})," Finalizar Servicio Tcnico"]}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Complete los detalles de la solucin para cerrar el caso y notificar al usuario."}),p.jsxs("form",{onSubmit:W,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Descripcin de la Solucin"}),p.jsx("textarea",{rows:"4",required:!0,value:je.solution,onChange:ge=>K({...je,solution:ge.target.value}),placeholder:"Detalle los pasos tcnicos realizados..."})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Recomendaciones al Usuario"}),p.jsx("textarea",{rows:"3",required:!0,value:je.recommendation,onChange:ge=>K({...je,recommendation:ge.target.value}),placeholder:"Recomendaciones sugeridas para el futuro..."})]}),p.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--success)",padding:"15px"},children:"Confirmar y Enviar Notificacin"}),p.jsx("button",{type:"button",onClick:()=>Se(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),O&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:p.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"500px",border:"1px solid var(--warning)",maxHeight:"90vh",overflowY:"auto"},children:[p.jsxs("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px",color:"var(--warning)"},children:[p.jsx(Xd,{size:24,fill:"var(--warning)"})," Calificar Servicio"]}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Su opinin es importante para mejorar nuestro servicio de soporte."}),p.jsxs("form",{onSubmit:J,children:[p.jsxs("div",{className:"input-group",style:{textAlign:"center",marginBottom:"20px"},children:[p.jsx("label",{style:{marginBottom:"10px",display:"block"},children:"Calificacin General"}),p.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[1,2,3,4,5].map(ge=>p.jsx("button",{type:"button",onClick:()=>N({...U,rating:ge}),style:{background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:Xe=>Xe.currentTarget.style.transform="scale(1.2)",onMouseLeave:Xe=>Xe.currentTarget.style.transform="scale(1)",children:p.jsx(Xd,{size:32,color:ge<=U.rating?"var(--warning)":"gray",fill:ge<=U.rating?"var(--warning)":"transparent"})},ge))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:"Comentarios Adicionales (Opcional)"}),p.jsx("textarea",{rows:"3",value:U.comment,onChange:ge=>N({...U,comment:ge.target.value}),placeholder:"Qu le pareci la atencin?..."})]}),p.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[p.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--warning)",color:"black",fontWeight:"bold",padding:"15px"},children:"Enviar Calificacin"}),p.jsx("button",{type:"button",onClick:()=>w(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Omitir"})]})]})]})}),p.jsxs("nav",{style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",padding:"10px 15px",borderBottom:"1px solid var(--border-color)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,gap:"10px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("img",{src:Ah,alt:"ELSPEC Logo",style:{height:"40px"}}),p.jsxs("h1",{style:{fontSize:"clamp(1rem, 4vw, 1.4rem)",margin:0,fontWeight:800,letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:["ELSPEC ",p.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]})]}),p.jsxs("div",{className:"glass-card",style:{display:"flex",padding:"3px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",flexWrap:"wrap"},children:[p.jsxs("button",{onClick:()=>d("home"),style:{background:f==="home"?"var(--primary)":"transparent",border:"none",color:f==="home"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(DT,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Inicio"})]}),p.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)",margin:"0 5px"}}),p.jsxs("button",{onClick:()=>d("view_tickets"),style:{background:f==="view_tickets"?"var(--primary)":"transparent",border:"none",color:f==="view_tickets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(Qd,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:re?"Bandeja de Entrada":"Mis Tickets"})]}),re&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>d("users"),style:{background:f==="users"?"var(--primary)":"transparent",border:"none",color:f==="users"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(Pv,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Usuarios"})]}),p.jsxs("button",{onClick:()=>d("reports"),style:{background:f==="reports"?"var(--primary)":"transparent",border:"none",color:f==="reports"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(ms,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Reportes"})]})]}),(pe||n.role==="logistica"||n.role==="operaciones")&&p.jsxs("button",{onClick:()=>d("assets"),style:{background:f==="assets"?"var(--primary)":"transparent",border:"none",color:f==="assets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(Uf,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Activos"})]}),(pe||n.role==="logistica")&&p.jsxs("button",{onClick:()=>d("maintenance"),style:{background:f==="maintenance"?"var(--primary)":"transparent",border:"none",color:f==="maintenance"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(Sh,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mantenimiento"})]}),(re||n.role==="operator"||n.role==="technician"||n.role==="operaciones")&&p.jsxs("button",{onClick:()=>d("operations"),style:{background:f==="operations"?"var(--primary)":"transparent",border:"none",color:f==="operations"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(lh,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Operaciones"})]}),(re||n.role==="sgi")&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>d("sgi_indicators"),style:{background:f==="sgi_indicators"?"var(--primary)":"transparent",border:"none",color:f==="sgi_indicators"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(lh,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Indicadores SGI"})]}),p.jsxs("button",{onClick:()=>d("sgi_processes"),style:{background:f==="sgi_processes"?"var(--primary)":"transparent",border:"none",color:f==="sgi_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(ms,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Gestin Procesos"})]})]}),p.jsxs("button",{onClick:()=>d("my_processes"),style:{background:f==="my_processes"?"var(--primary)":"transparent",border:"none",color:f==="my_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[p.jsx(Dl,{size:16})," ",p.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mis Procesos"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[p.jsx("button",{onClick:X,title:"Pantalla Completa",style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:I?p.jsx(YT,{size:18}):p.jsx(qT,{size:18})}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",borderLeft:"1px solid var(--border-color)",paddingLeft:"20px"},children:[p.jsxs("div",{style:{textAlign:"right"},children:[p.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:n.username}),p.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:n.role})]}),p.jsx("button",{onClick:()=>{e(),window.location.reload()},style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:p.jsx(VT,{size:18})})]})]})]}),p.jsxs("div",{style:{padding:"clamp(15px, 4vw, 30px)"},children:[p.jsx("header",{style:{marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[p.jsxs("div",{children:[p.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"5px"},children:f==="view_tickets"?re?"Consola de Administracin IT":"Mis Solicitudes Tcnicas":f==="users"?"Control de Accesos":f==="assets"?"Gestin de Activos y Equipos":f==="maintenance"?"Cronograma de Mantenimiento":f==="sgi_indicators"?"Tablero de Control SGI":f==="sgi_processes"?"Gestin de Procesos SGI":f==="my_processes"?"Mis Procesos Asignados":"Centro de Generacin de Informes"}),p.jsx("p",{style:{color:"var(--text-muted)"},children:"Mesa de servicios corporativa - Soporte Interno ELSPEC ANDINA."})]}),re&&f==="view_tickets"&&p.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Estado Global: ",p.jsx("span",{style:{color:"var(--success)",fontWeight:"bold"},children:"Operativo"})]})]})}),re&&f==="view_tickets"&&p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},children:[p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"14px",borderRadius:"15px"},children:p.jsx(PT,{color:"var(--primary)",size:28})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Tickets"}),p.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:_e.length})]})]}),p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(245, 158, 11, 0.15)",padding:"14px",borderRadius:"15px"},children:p.jsx(u4,{color:"var(--warning)",size:28})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Pendientes"}),p.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:me})]})]}),p.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(16, 185, 129, 0.15)",padding:"14px",borderRadius:"15px"},children:p.jsx(Uo,{color:"var(--success)",size:28})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Finalizados"}),p.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:Oe})]})]})]}),f==="home"&&p.jsxs("div",{style:{width:"100%",padding:"20px"},children:[p.jsxs("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:["Bienvenido, ",n.username]}),p.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Seleccione una opcin para gestionar sus servicios."}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:[p.jsxs("div",{onClick:()=>M(!0),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(37, 99, 235, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--primary)"},children:p.jsx(Tu,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Nueva Solicitud"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Reportar un problema o solicitar servicio tcnico."})]}),p.jsxs("div",{onClick:()=>d("view_tickets"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--success)"},children:p.jsx(Qd,{size:40})}),p.jsx("h3",{style:{margin:0},children:re?"Gestin de Tickets":"Mis Tickets"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Ver estado de solicitudes y respuestas."})]}),re&&p.jsxs("div",{onClick:()=>d("users"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(245, 158, 11, 0.2)",padding:"20px",borderRadius:"50%",color:"var(--warning)"},children:p.jsx(Pv,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Usuarios"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Administrar accesos y permisos."})]}),(pe||n.role==="logistica"||n.role==="operaciones")&&p.jsxs("div",{onClick:()=>d("assets"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(139, 92, 246, 0.2)",padding:"20px",borderRadius:"50%",color:"#8b5cf6"},children:p.jsx(Uf,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Activos IT"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Inventario y asignacin de equipos."})]}),(pe||n.role==="logistica")&&p.jsxs("div",{onClick:()=>d("maintenance"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(236, 72, 153, 0.2)",padding:"20px",borderRadius:"50%",color:"#ec4899"},children:p.jsx(Sh,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Mantenimiento"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Cronograma de mantenimientos preventivos."})]}),(re||n.role==="operator"||n.role==="technician"||n.role==="operaciones")&&p.jsxs("div",{onClick:()=>d("operations"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(14, 165, 233, 0.2)",padding:"20px",borderRadius:"50%",color:"#0ea5e9"},children:p.jsx(lh,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Operaciones"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Calendario de visitas y salidas."})]}),(re||n.role==="sgi")&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{onClick:()=>d("sgi_indicators"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(244, 63, 94, 0.2)",padding:"20px",borderRadius:"50%",color:"#f43f5e"},children:p.jsx(lh,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Indicadores SGI"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Tablero de control de gestin."})]}),p.jsxs("div",{onClick:()=>d("sgi_processes"),className:"glass-card",style:{padding:"30px",cursor:"pointer",transition:"transform 0.2s",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"15px"},onMouseEnter:ge=>ge.currentTarget.style.transform="translateY(-5px)",onMouseLeave:ge=>ge.currentTarget.style.transform="translateY(0)",children:[p.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",padding:"20px",borderRadius:"50%",color:"#10b981"},children:p.jsx(ms,{size:40})}),p.jsx("h3",{style:{margin:0},children:"Gestin SGI"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Administracin de procesos y evidencias."})]})]})]})]}),f==="view_tickets"&&p.jsx("div",{style:{width:"100%"},children:p.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx(Qd,{size:24,color:"var(--primary)"}),re?"Registro General de Actividades IT":"Listado de mis Requerimientos",p.jsxs("span",{style:{fontSize:"1rem",color:"var(--text-muted)",fontWeight:"normal"},children:["(",me," pendientes)"]})]}),p.jsxs("button",{onClick:()=>M(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",fontSize:"0.95rem"},children:[p.jsx(Tu,{size:18})," Nueva Solicitud"]})]}),p.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",marginBottom:"20px",background:"rgba(255,255,255,0.02)",padding:"15px",borderRadius:"10px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Mostrar:"}),p.jsxs("select",{value:C,onChange:ge=>E(Number(ge.target.value)),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"5px 10px"},children:[p.jsx("option",{value:5,children:"5 ltimos"}),p.jsx("option",{value:10,children:"10 ltimos"}),p.jsx("option",{value:20,children:"20 ltimos"}),p.jsx("option",{value:50,children:"50 ltimos"}),p.jsx("option",{value:1e3,children:"Todos"})]})]}),p.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)"}}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Desde:"}),p.jsx("input",{type:"date",value:H,onChange:ge=>fe(ge.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Hasta:"}),p.jsx("input",{type:"date",value:ne,onChange:ge=>he(ge.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:_e.length===0?p.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"100px 0",opacity:.4},children:[p.jsx(Qd,{size:64,style:{marginBottom:"20px"}}),p.jsx("p",{style:{fontSize:"1.1rem"},children:"No existen tickets registrados en este momento."})]}):_e.filter(ge=>{if(re||ge.author===n.username){let Xe=!0;if(H&&(Xe=Xe&&new Date(ge.createdAt)>=new Date(H)),ne){const et=new Date(ne);et.setHours(23,59,59,999),Xe=Xe&&new Date(ge.createdAt)<=et}return Xe}return!1}).sort((ge,Xe)=>new Date(Xe.createdAt)-new Date(ge.createdAt)).slice(0,C).map(ge=>{const Xe=re||ge.author===n.username;return p.jsxs("div",{style:{padding:"clamp(15px, 4vw, 25px)",background:"rgba(255,255,255,0.01)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"var(--transition)"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"flex-start"),marginBottom:"20px",gap:"15px"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsx("h4",{style:{fontSize:"clamp(1.1rem, 3vw, 1.3rem)",margin:"0 0 10px 0",color:"white"},children:ge.title}),p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[p.jsx("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"20px",background:ge.priority==="high"?"rgba(239, 68, 68, 0.2)":ge.priority==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",color:ge.priority==="high"?"var(--danger)":ge.priority==="medium"?"var(--warning)":"var(--success)",textTransform:"uppercase",fontWeight:800,letterSpacing:"0.5px"},children:ge.priority}),p.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx(Dl,{size:14})," Creacin: ",ge.createdAt?new Date(ge.createdAt).toLocaleString():"Fecha N/A"]}),ge.closedAt&&p.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--success)",display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx(Uo,{size:14})," Cierre: ",new Date(ge.closedAt).toLocaleString()]}),p.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["ID: ",p.jsx("code",{style:{color:"var(--primary)"},children:ge.id?ge.id.slice(-6):"N/A"})]}),p.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",borderLeft:"1px solid rgba(255,255,255,0.1)",paddingLeft:"15px"},children:["Autor: ",p.jsx("b",{style:{color:"white"},children:ge.author})]}),ge.imageUrl&&p.jsxs("a",{href:ge.imageUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"0.85rem",color:"var(--primary)"},children:[p.jsx(MT,{size:14})," Ver Imagen Adjunta"]})]})]}),p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px"},children:[ge.status==="open"?p.jsxs("div",{style:{color:"var(--warning)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(245, 158, 11, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[p.jsx(Dl,{size:16})," Pendiente"]}):p.jsxs("div",{style:{color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(16, 185, 129, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[p.jsx(Uo,{size:16})," Resuelto"]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[Xe&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>Ee(ge),title:"Editar Ticket",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px"},children:p.jsx($o,{size:18})}),p.jsx("button",{onClick:()=>Y(ge.id),title:"Eliminar Ticket",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px"},children:p.jsx(kl,{size:18})})]}),re&&ge.status==="open"&&p.jsx("button",{onClick:()=>Se(ge.id),className:"btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem",background:"var(--success)",borderRadius:"10px"},children:"Finalizar"})]})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:ge.status==="closed"&&window.innerWidth>=768?"1fr 1fr":"1fr",gap:"20px"},children:[p.jsx("div",{style:{background:"rgba(0,0,0,0.15)",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Descripcin del Problema"}),p.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",margin:0,lineHeight:1.6},children:ge.description})]})}),ge.status==="closed"&&p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[p.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"20px",borderRadius:"12px",borderLeft:"4px solid var(--success)"},children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Resolucin Tcnica"}),p.jsx("p",{style:{color:"white",fontSize:"0.95rem",marginBottom:"15px",lineHeight:1.6},children:ge.solution}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Recomendaciones"}),p.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0,lineHeight:1.6},children:ge.recommendation})]}),ge.feedback?p.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"15px",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[p.jsx(Xd,{size:16,fill:"var(--warning)",color:"var(--warning)"}),p.jsxs("span",{style:{fontWeight:"bold",color:"var(--warning)",fontSize:"0.9rem"},children:["Calificacin del Usuario: ",ge.feedback.rating,"/5"]})]}),ge.feedback.comment&&p.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",margin:"5px 0 0 0",fontStyle:"italic"},children:['"',ge.feedback.comment,'"']})]}):ge.author===n.username&&p.jsxs("button",{onClick:()=>{w(ge.id),N({rating:5,comment:""})},style:{background:"rgba(245, 158, 11, 0.15)",color:"var(--warning)",border:"1px dashed var(--warning)",padding:"12px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:et=>et.currentTarget.style.background="rgba(245, 158, 11, 0.25)",onMouseLeave:et=>et.currentTarget.style.background="rgba(245, 158, 11, 0.15)",children:[p.jsx(Xd,{size:18})," Calificar Atencin"]})]})]})]},ge.id)})})]})}),(f==="users"||f==="reports"||f==="assets"||f==="maintenance"||f==="sgi_indicators"||f==="sgi_processes"||f==="my_processes"||f==="operations")&&p.jsxs("div",{style:{width:"100%"},children:[f==="users"&&p.jsx(xC,{}),f==="reports"&&p.jsx(Xj,{tickets:r,computers:h}),f==="assets"&&(pe?p.jsx(tI,{}):p.jsx(iI,{computers:h,currentUser:n})),f==="maintenance"&&p.jsx(nI,{}),f==="sgi_indicators"&&p.jsx(aI,{tickets:r}),f==="sgi_processes"&&p.jsx(sI,{}),f==="my_processes"&&p.jsx(oI,{}),f==="operations"&&p.jsx(lI,{})]})]})]})};class cI extends sx.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?p.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#0f172a",color:"white",padding:"20px",textAlign:"center"},children:p.jsxs("div",{className:"glass-card",style:{padding:"40px",maxWidth:"500px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.05)"},children:[p.jsx(Om,{size:64,style:{color:"#ef4444",marginBottom:"20px"}}),p.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"Algo sali mal"}),p.jsx("p",{style:{color:"#94a3b8",marginBottom:"30px"},children:"La aplicacin ha encontrado un error inesperado al intentar cargar esta vista."}),p.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"8px",marginBottom:"30px",fontSize:"0.8rem",color:"#ef4444",maxHeight:"200px",overflow:"auto"},children:this.state.error&&this.state.error.toString()}),p.jsxs("button",{onClick:this.handleReload,style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[p.jsx(ZT,{size:18})," Recargar Aplicacin"]})]})}):this.props.children}}function hI(){const{isAuthenticated:n}=Ih();return p.jsx("div",{className:"App",children:p.jsx(cI,{children:n?p.jsx(uI,{}):p.jsx(vC,{})})})}window.onerror=function(n,e,t,r,s){const o=`Error: ${n} at ${e}:${t}`;return console.error(o),!1};try{M3.createRoot(document.getElementById("root")).render(p.jsx(Qe.StrictMode,{children:p.jsx(hI,{})}))}catch(n){console.error("Render error:",n),document.body.innerHTML=`<div style="color: white; padding: 20px;">Error al cargar la aplicacin: ${n.message}</div>`}export{Zn as _,fI as c,E3 as g};
