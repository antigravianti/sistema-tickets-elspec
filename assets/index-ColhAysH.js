(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var iI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mg={exports:{}},cf={};var ey;function _3(){if(ey)return cf;ey=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:o}}return cf.Fragment=t,cf.jsx=e,cf.jsxs=e,cf}var ny;function w3(){return ny||(ny=1,mg.exports=_3()),mg.exports}var v=w3(),yg={exports:{}},tn={};var iy;function S3(){if(iy)return tn;iy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function _(X){return X===null||typeof X!="object"?null:(X=C&&X[C]||X["@@iterator"],typeof X=="function"?X:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,z={};function M(X,j,P){this.props=X,this.context=j,this.refs=z,this.updater=P||F}M.prototype.isReactComponent={},M.prototype.setState=function(X,j){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,j,"setState")},M.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function et(){}et.prototype=M.prototype;function nt(X,j,P){this.props=X,this.context=j,this.refs=z,this.updater=P||F}var it=nt.prototype=new et;it.constructor=nt,H(it,M.prototype),it.isPureReactComponent=!0;var _t=Array.isArray;function Dt(){}var $={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function w(X,j,P){var W=P.ref;return{$$typeof:n,type:X,key:j,ref:W!==void 0?W:null,props:P}}function q(X,j){return w(X.type,j,X.props)}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function R(X){var j={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(P){return j[P]})}var E=/\/+/g;function rt(X,j){return typeof X=="object"&&X!==null&&X.key!=null?R(""+X.key):j.toString(36)}function yt(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Dt,Dt):(X.status="pending",X.then(function(j){X.status==="pending"&&(X.status="fulfilled",X.value=j)},function(j){X.status==="pending"&&(X.status="rejected",X.reason=j)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function st(X,j,P,W,K){var ht=typeof X;(ht==="undefined"||ht==="boolean")&&(X=null);var gt=!1;if(X===null)gt=!0;else switch(ht){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(X.$$typeof){case n:case t:gt=!0;break;case y:return gt=X._init,st(gt(X._payload),j,P,W,K)}}if(gt)return K=K(X),gt=W===""?"."+rt(X,0):W,_t(K)?(P="",gt!=null&&(P=gt.replace(E,"$&/")+"/"),st(K,j,P,"",function(Ot){return Ot})):K!=null&&(I(K)&&(K=q(K,P+(K.key==null||X&&X.key===K.key?"":(""+K.key).replace(E,"$&/")+"/")+gt)),j.push(K)),1;gt=0;var Ct=W===""?".":W+":";if(_t(X))for(var Nt=0;Nt<X.length;Nt++)W=X[Nt],ht=Ct+rt(W,Nt),gt+=st(W,j,P,ht,K);else if(Nt=_(X),typeof Nt=="function")for(X=Nt.call(X),Nt=0;!(W=X.next()).done;)W=W.value,ht=Ct+rt(W,Nt++),gt+=st(W,j,P,ht,K);else if(ht==="object"){if(typeof X.then=="function")return st(yt(X),j,P,W,K);throw j=String(X),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return gt}function ft(X,j,P){if(X==null)return X;var W=[],K=0;return st(X,W,"","",function(ht){return j.call(P,ht,K++)}),W}function U(X){if(X._status===-1){var j=X._result;j=j(),j.then(function(P){(X._status===0||X._status===-1)&&(X._status=1,X._result=P)},function(P){(X._status===0||X._status===-1)&&(X._status=2,X._result=P)}),X._status===-1&&(X._status=0,X._result=j)}if(X._status===1)return X._result.default;throw X._result}var ct=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},bt={map:ft,forEach:function(X,j,P){ft(X,function(){j.apply(this,arguments)},P)},count:function(X){var j=0;return ft(X,function(){j++}),j},toArray:function(X){return ft(X,function(j){return j})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return tn.Activity=A,tn.Children=bt,tn.Component=M,tn.Fragment=e,tn.Profiler=s,tn.PureComponent=nt,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,tn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return $.H.useMemoCache(X)}},tn.cache=function(X){return function(){return X.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(X,j,P){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var W=H({},X.props),K=X.key;if(j!=null)for(ht in j.key!==void 0&&(K=""+j.key),j)!O.call(j,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&j.ref===void 0||(W[ht]=j[ht]);var ht=arguments.length-2;if(ht===1)W.children=P;else if(1<ht){for(var gt=Array(ht),Ct=0;Ct<ht;Ct++)gt[Ct]=arguments[Ct+2];W.children=gt}return w(X.type,K,W)},tn.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},tn.createElement=function(X,j,P){var W,K={},ht=null;if(j!=null)for(W in j.key!==void 0&&(ht=""+j.key),j)O.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=j[W]);var gt=arguments.length-2;if(gt===1)K.children=P;else if(1<gt){for(var Ct=Array(gt),Nt=0;Nt<gt;Nt++)Ct[Nt]=arguments[Nt+2];K.children=Ct}if(X&&X.defaultProps)for(W in gt=X.defaultProps,gt)K[W]===void 0&&(K[W]=gt[W]);return w(X,ht,K)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(X){return{$$typeof:h,render:X}},tn.isValidElement=I,tn.lazy=function(X){return{$$typeof:y,_payload:{_status:-1,_result:X},_init:U}},tn.memo=function(X,j){return{$$typeof:d,type:X,compare:j===void 0?null:j}},tn.startTransition=function(X){var j=$.T,P={};$.T=P;try{var W=X(),K=$.S;K!==null&&K(P,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Dt,ct)}catch(ht){ct(ht)}finally{j!==null&&P.types!==null&&(j.types=P.types),$.T=j}},tn.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},tn.use=function(X){return $.H.use(X)},tn.useActionState=function(X,j,P){return $.H.useActionState(X,j,P)},tn.useCallback=function(X,j){return $.H.useCallback(X,j)},tn.useContext=function(X){return $.H.useContext(X)},tn.useDebugValue=function(){},tn.useDeferredValue=function(X,j){return $.H.useDeferredValue(X,j)},tn.useEffect=function(X,j){return $.H.useEffect(X,j)},tn.useEffectEvent=function(X){return $.H.useEffectEvent(X)},tn.useId=function(){return $.H.useId()},tn.useImperativeHandle=function(X,j,P){return $.H.useImperativeHandle(X,j,P)},tn.useInsertionEffect=function(X,j){return $.H.useInsertionEffect(X,j)},tn.useLayoutEffect=function(X,j){return $.H.useLayoutEffect(X,j)},tn.useMemo=function(X,j){return $.H.useMemo(X,j)},tn.useOptimistic=function(X,j){return $.H.useOptimistic(X,j)},tn.useReducer=function(X,j,P){return $.H.useReducer(X,j,P)},tn.useRef=function(X){return $.H.useRef(X)},tn.useState=function(X){return $.H.useState(X)},tn.useSyncExternalStore=function(X,j,P){return $.H.useSyncExternalStore(X,j,P)},tn.useTransition=function(){return $.H.useTransition()},tn.version="19.2.4",tn}var ry;function G0(){return ry||(ry=1,yg.exports=S3()),yg.exports}var Zt=G0();const A3=x3(Zt);var vg={exports:{}},hf={},bg={exports:{}},xg={};var ay;function E3(){return ay||(ay=1,(function(n){function t(st,ft){var U=st.length;st.push(ft);t:for(;0<U;){var ct=U-1>>>1,bt=st[ct];if(0<s(bt,ft))st[ct]=ft,st[U]=bt,U=ct;else break t}}function e(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var ft=st[0],U=st.pop();if(U!==ft){st[0]=U;t:for(var ct=0,bt=st.length,X=bt>>>1;ct<X;){var j=2*(ct+1)-1,P=st[j],W=j+1,K=st[W];if(0>s(P,U))W<bt&&0>s(K,P)?(st[ct]=K,st[W]=U,ct=W):(st[ct]=P,st[j]=U,ct=j);else if(W<bt&&0>s(K,U))st[ct]=K,st[W]=U,ct=W;else break t}}return ft}function s(st,ft){var U=st.sortIndex-ft.sortIndex;return U!==0?U:st.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],y=1,A=null,C=3,_=!1,F=!1,H=!1,z=!1,M=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function it(st){for(var ft=e(d);ft!==null;){if(ft.callback===null)r(d);else if(ft.startTime<=st)r(d),ft.sortIndex=ft.expirationTime,t(f,ft);else break;ft=e(d)}}function _t(st){if(H=!1,it(st),!F)if(e(f)!==null)F=!0,Dt||(Dt=!0,R());else{var ft=e(d);ft!==null&&yt(_t,ft.startTime-st)}}var Dt=!1,$=-1,O=5,w=-1;function q(){return z?!0:!(n.unstable_now()-w<O)}function I(){if(z=!1,Dt){var st=n.unstable_now();w=st;var ft=!0;try{t:{F=!1,H&&(H=!1,et($),$=-1),_=!0;var U=C;try{e:{for(it(st),A=e(f);A!==null&&!(A.expirationTime>st&&q());){var ct=A.callback;if(typeof ct=="function"){A.callback=null,C=A.priorityLevel;var bt=ct(A.expirationTime<=st);if(st=n.unstable_now(),typeof bt=="function"){A.callback=bt,it(st),ft=!0;break e}A===e(f)&&r(f),it(st)}else r(f);A=e(f)}if(A!==null)ft=!0;else{var X=e(d);X!==null&&yt(_t,X.startTime-st),ft=!1}}break t}finally{A=null,C=U,_=!1}ft=void 0}}finally{ft?R():Dt=!1}}}var R;if(typeof nt=="function")R=function(){nt(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,rt=E.port2;E.port1.onmessage=I,R=function(){rt.postMessage(null)}}else R=function(){M(I,0)};function yt(st,ft){$=M(function(){st(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(st){switch(C){case 1:case 2:case 3:var ft=3;break;default:ft=C}var U=C;C=ft;try{return st()}finally{C=U}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(st,ft){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var U=C;C=st;try{return ft()}finally{C=U}},n.unstable_scheduleCallback=function(st,ft,U){var ct=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ct+U:ct):U=ct,st){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=U+bt,st={id:y++,callback:ft,priorityLevel:st,startTime:U,expirationTime:bt,sortIndex:-1},U>ct?(st.sortIndex=U,t(d,st),e(f)===null&&st===e(d)&&(H?(et($),$=-1):H=!0,yt(_t,U-ct))):(st.sortIndex=bt,t(f,st),F||_||(F=!0,Dt||(Dt=!0,R()))),st},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(st){var ft=C;return function(){var U=C;C=ft;try{return st.apply(this,arguments)}finally{C=U}}}})(xg)),xg}var sy;function T3(){return sy||(sy=1,bg.exports=E3()),bg.exports}var _g={exports:{}},ha={};var oy;function C3(){if(oy)return ha;oy=1;var n=G0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ha.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ha.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},ha.flushSync=function(f){var d=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=y,r.d.f()}},ha.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ha.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ha.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,A=h(y,d.crossOrigin),C=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:_}):y==="script"&&r.d.X(f,{crossOrigin:A,integrity:C,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ha.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ha.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,A=h(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ha.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ha.requestFormReset=function(f){r.d.r(f)},ha.unstable_batchedUpdates=function(f,d){return f(d)},ha.useFormState=function(f,d,y){return c.H.useFormState(f,d,y)},ha.useFormStatus=function(){return c.H.useHostTransitionStatus()},ha.version="19.2.4",ha}var ly;function N3(){if(ly)return _g.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_g.exports=C3(),_g.exports}var uy;function R3(){if(uy)return hf;uy=1;var n=T3(),t=G0(),e=N3();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return f(m),i;if(x===u)return f(m),a;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=x;else{for(var D=!1,Q=m.child;Q;){if(Q===l){D=!0,l=m,u=x;break}if(Q===u){D=!0,u=m,l=x;break}Q=Q.sibling}if(!D){for(Q=x.child;Q;){if(Q===l){D=!0,l=x,u=m;break}if(Q===u){D=!0,u=x,l=m;break}Q=Q.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function rt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case M:return"Profiler";case z:return"StrictMode";case _t:return"Suspense";case Dt:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case F:return"Portal";case nt:return i.displayName||"Context";case et:return(i._context.displayName||"Context")+".Consumer";case it:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:rt(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return rt(i(a))}catch{}}return null}var yt=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ct=[],bt=-1;function X(i){return{current:i}}function j(i){0>bt||(i.current=ct[bt],ct[bt]=null,bt--)}function P(i,a){bt++,ct[bt]=i.current,i.current=a}var W=X(null),K=X(null),ht=X(null),gt=X(null);function Ct(i,a){switch(P(ht,a),P(K,i),P(W,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?A5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=A5(a),i=E5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}j(W),P(W,i)}function Nt(){j(W),j(K),j(ht)}function Ot(i){i.memoizedState!==null&&P(gt,i);var a=W.current,l=E5(a,i.type);a!==l&&(P(K,i),P(W,l))}function $t(i){K.current===i&&(j(W),j(K)),gt.current===i&&(j(gt),sf._currentValue=U)}var ne,ee;function ce(i){if(ne===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ne=a&&a[1]||"",ee=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+i+ee}var at=!1;function te(i,a){if(!i||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Mt){var kt=Mt}Reflect.construct(i,[],Ht)}else{try{Ht.call()}catch(Mt){kt=Mt}i.call(Ht.prototype)}}else{try{throw Error()}catch(Mt){kt=Mt}(Ht=i())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Mt){if(Mt&&kt&&typeof Mt.stack=="string")return[Mt.stack,kt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),D=x[0],Q=x[1];if(D&&Q){var dt=D.split(`
`),Lt=Q.split(`
`);for(m=u=0;u<dt.length&&!dt[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Lt.length&&!Lt[m].includes("DetermineComponentFrameRoot");)m++;if(u===dt.length||m===Lt.length)for(u=dt.length-1,m=Lt.length-1;1<=u&&0<=m&&dt[u]!==Lt[m];)m--;for(;1<=u&&0<=m;u--,m--)if(dt[u]!==Lt[m]){if(u!==1||m!==1)do if(u--,m--,0>m||dt[u]!==Lt[m]){var Bt=`
`+dt[u].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=u&&0<=m);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ce(l):""}function Ye(i,a){switch(i.tag){case 26:case 27:case 5:return ce(i.type);case 16:return ce("Lazy");case 13:return i.child!==a&&a!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return te(i.type,!1);case 11:return te(i.type.render,!1);case 1:return te(i.type,!0);case 31:return ce("Activity");default:return""}}function Te(i){try{var a="",l=null;do a+=Ye(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,_e=n.unstable_requestPaint,We=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,me=n.unstable_LowPriority,qe=n.unstable_IdlePriority,ve=n.log,ci=n.unstable_setDisableYieldValue,Qe=null,Ce=null;function Pe(i){if(typeof ve=="function"&&ci(i),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Qe,i)}catch{}}var Ke=Math.clz32?Math.clz32:Me,Se=Math.log,In=Math.LN2;function Me(i){return i>>>=0,i===0?32:31-(Se(i)/In|0)|0}var Oe=256,jn=262144,we=4194304;function be(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function sn(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,x=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?m=be(u):(D&=Q,D!==0?m=be(D):l||(l=Q&~i,l!==0&&(m=be(l))))):(Q=u&~x,Q!==0?m=be(Q):D!==0?m=be(D):l||(l=u&~i,l!==0&&(m=be(l)))),m===0?0:a!==0&&a!==m&&(a&x)===0&&(x=m&-m,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:m}function fr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function tr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function Gi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ae(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ts(i,a,l,u,m,x){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Q=i.entanglements,dt=i.expirationTimes,Lt=i.hiddenUpdates;for(l=D&~l;0<l;){var Bt=31-Ke(l),Ht=1<<Bt;Q[Bt]=0,dt[Bt]=-1;var kt=Lt[Bt];if(kt!==null)for(Lt[Bt]=null,Bt=0;Bt<kt.length;Bt++){var Mt=kt[Bt];Mt!==null&&(Mt.lane&=-536870913)}l&=~Ht}u!==0&&Ur(i,u,0),x!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=x&~(D&~a))}function Ur(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Ke(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Tr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Ke(l),m=1<<u;m&a|i[u]&a&&(i[u]|=a),l&=~m}}function Cr(i,a){var l=a&-a;return l=(l&42)!==0?1:Vn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Vn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mi(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:K5(i.type))}function dr(i,a){var l=ft.p;try{return ft.p=i,a()}finally{ft.p=l}}var er=Math.random().toString(36).slice(2),kn="__reactFiber$"+er,Gn="__reactProps$"+er,Oi="__reactContainer$"+er,Nr="__reactEvents$"+er,ra="__reactListeners$"+er,ys="__reactHandles$"+er,xa="__reactResources$"+er,Rr="__reactMarker$"+er;function es(i){delete i[kn],delete i[Gn],delete i[Nr],delete i[ra],delete i[ys]}function Vr(i){var a=i[kn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oi]||l[kn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=D5(i);i!==null;){if(l=i[kn])return l;i=D5(i)}return a}i=l,l=i.parentNode}return null}function pr(i){if(i=i[kn]||i[Oi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function qr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function aa(i){var a=i[xa];return a||(a=i[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function fi(i){i[Rr]=!0}var mo=new Set,Ir={};function sa(i,a){_a(i,a),_a(i+"Capture",a)}function _a(i,a){for(Ir[i]=a,i=0;i<a.length;i++)mo.add(a[i])}var zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},vo={};function Xo(i){return Vt.call(vo,i)?!0:Vt.call(yo,i)?!1:zs.test(i)?vo[i]=!0:(yo[i]=!0,!1)}function Hr(i,a,l){if(Xo(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function nr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function _i(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ns(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function oa(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,x=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(D){l=""+D,x.call(this,D)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(D){l=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function vn(i){if(!i._valueTracker){var a=ns(i)?"checked":"value";i._valueTracker=oa(i,a,""+i[a])}}function vs(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=ns(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ai=/[\n"\\]/g;function wi(i){return i.replace(ai,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fs(i,a,l,u,m,x,D,Q){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+cn(a)):i.value!==""+cn(a)&&(i.value=""+cn(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?Zo(i,D,cn(a)):l!=null?Zo(i,D,cn(l)):u!=null&&i.removeAttribute("value"),m==null&&x!=null&&(i.defaultChecked=!!x),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+cn(Q):i.removeAttribute("name")}function kl(i,a,l,u,m,x,D,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){vn(i);return}l=l!=null?""+cn(l):"",a=a!=null?""+cn(a):l,Q||a===i.value||(i.value=a),i.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=Q?i.checked:!!u,i.defaultChecked=!!u,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),vn(i)}function Zo(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function gr(i,a,l,u){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Jo(i,a,l){if(a!=null&&(a=""+cn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+cn(l):""}function is(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(yt(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=cn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),vn(i)}function Yi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||bs.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function el(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&tl(i,m,u)}else for(var x in a)a.hasOwnProperty(x)&&tl(i,x,a[x])}function bo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(i){return rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wa(){}var as=null;function Dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,Re=null;function Bs(i){var a=pr(i);if(a&&(i=a.stateNode)){var l=i[Gn]||null;t:switch(i=a.stateNode,a.type){case"input":if(Fs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var m=u[Gn]||null;if(!m)throw Error(r(90));Fs(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&vs(u)}break t;case"textarea":Jo(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&gr(i,!!l.multiple,a,!1)}}}var _o=!1;function _s(i,a,l){if(_o)return i(a,l);_o=!0;try{var u=i(a);return u}finally{if(_o=!1,(xs!==null||Re!==null)&&(md(),xs&&(a=xs,i=Re,Re=xs=null,Bs(a),i)))for(a=0;a<i.length;a++)Bs(i[a])}}function Wi(i,a){var l=i.stateNode;if(l===null)return null;var u=l[Gn]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(Pi)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Us=!1}var Gr=null,Vs=null,Sa=null;function nl(){if(Sa)return Sa;var i,a=Vs,l=a.length,u,m="value"in Gr?Gr.value:Gr.textContent,x=m.length;for(i=0;i<l&&a[i]===m[i];i++);var D=l-i;for(u=1;u<=D&&a[l-u]===m[x-u];u++);return Sa=m.slice(i,1<u?1-u:void 0)}function Yr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function Wr(){return!1}function Ri(i){function a(l,u,m,x,D){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ss:Wr,this.isPropagationStopped=Wr,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Ri(La),Da=A({},La,{view:0,detail:0}),ws=Ri(Da),ja,ka,la,qs=A({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==la&&(la&&i.type==="mousemove"?(ja=i.screenX-la.screenX,ka=i.screenY-la.screenY):ka=ja=0,la=i),ja)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),wo=Ri(qs),Kr=A({},qs,{dataTransfer:0}),Ma=Ri(Kr),il=A({},Da,{relatedTarget:0}),Aa=Ri(il),So=A({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ri(So),B=A({},La,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lt=Ri(B),pt=A({},La,{data:0}),wt=Ri(pt),Ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=le[i])?!!a[i]:!1}function Le(){return de}var Ee=A({},Da,{key:function(i){if(i.key){var a=Ft[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Yr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(i){return i.type==="keypress"?Yr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ri(Ee),Zn=A({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Ri(Zn),g=A({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),N=Ri(g),k=A({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Ri(k),At=A({},qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=Ri(At),Xt=A({},La,{newState:0,oldState:0}),Ve=Ri(Xt),Jn=[9,13,27,32],ln=Pi&&"CompositionEvent"in window,On=null;Pi&&"documentMode"in document&&(On=document.documentMode);var rr=Pi&&"TextEvent"in window&&!On,mr=Pi&&(!ln||On&&8<On&&11>=On),Yn=" ",yr=!1;function Ea(i,a){switch(i){case"keyup":return Jn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ss(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var As=!1;function $r(i,a){switch(i){case"compositionend":return Ss(a);case"keypress":return a.which!==32?null:(yr=!0,Yn);case"textInput":return i=a.data,i===Yn&&yr?null:i;default:return null}}function Hs(i,a){if(As)return i==="compositionend"||!ln&&Ea(i,a)?(i=nl(),Sa=Vs=Gr=null,As=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mr&&a.locale!=="ko"?null:a.data;default:return null}}var Ml={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ml[i.type]:a==="textarea"}function Ta(i,a,l,u){xs?Re?Re.push(u):Re=[u]:xs=u,a=Sd(a,"onChange"),0<a.length&&(l=new ir("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var os=null,Gs=null;function Iu(i){v5(i,0)}function ls(i){var a=qr(i);if(vs(a))return i}function Ao(i,a){if(i==="change")return a}var ua=!1;if(Pi){var Qr;if(Pi){var Es="oninput"in document;if(!Es){var Ts=document.createElement("div");Ts.setAttribute("oninput","return;"),Es=typeof Ts.oninput=="function"}Qr=Es}else Qr=!1;ua=Qr&&(!document.documentMode||9<document.documentMode)}function Ys(){os&&(os.detachEvent("onpropertychange",Ol),Gs=os=null)}function Ol(i){if(i.propertyName==="value"&&ls(Gs)){var a=[];Ta(a,Gs,i,Dr(i)),_s(Iu,a)}}function Pl(i,a,l){i==="focusin"?(Ys(),os=a,Gs=l,os.attachEvent("onpropertychange",Ol)):i==="focusout"&&Ys()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ls(Gs)}function gc(i,a){if(i==="click")return ls(a)}function Cs(i,a){if(i==="input"||i==="change")return ls(a)}function Ns(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vr=typeof Object.is=="function"?Object.is:Ns;function Ws(i,a){if(vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Vt.call(a,m)||!vr(i[m],a[m]))return!1}return!0}function zl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fl(i,a){var l=zl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=zl(l)}}function Ks(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ks(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function $s(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function Rs(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var rl=Pi&&"documentMode"in document&&11>=document.documentMode,Ca=null,Qs=null,jr=null,Oa=!1;function Ln(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Oa||Ca==null||Ca!==Ni(u)||(u=Ca,"selectionStart"in u&&Rs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jr&&Ws(jr,u)||(jr=u,u=Sd(Qs,"onSelect"),0<u.length&&(a=new ir("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Ca)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ti={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Li={},Is={};Pi&&(Is=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function us(i){if(Li[i])return Li[i];if(!ti[i])return i;var a=ti[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Is)return Li[i]=a[l];return i}var al=us("animationend"),Lu=us("animationiteration"),Nh=us("animationstart"),Yf=us("transitionrun"),Wf=us("transitionstart"),Kf=us("transitioncancel"),Rh=us("transitionend"),Ih=new Map,sl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sl.push("scrollEnd");function Pa(i,a){Ih.set(i,a),sa(a,[i])}var Du=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Na=[],ol=0,mc=0;function ju(){for(var i=ol,a=mc=ol=0;a<i;){var l=Na[a];Na[a++]=null;var u=Na[a];Na[a++]=null;var m=Na[a];Na[a++]=null;var x=Na[a];if(Na[a++]=null,u!==null&&m!==null){var D=u.pending;D===null?m.next=m:(m.next=D.next,D.next=m),u.pending=m}x!==0&&Mu(l,m,x)}}function ku(i,a,l,u){Na[ol++]=i,Na[ol++]=a,Na[ol++]=l,Na[ol++]=u,mc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function yc(i,a,l,u){return ku(i,a,l,u),kr(i)}function Xs(i,a){return ku(i,null,null,a),kr(i)}function Mu(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,x=i.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(m=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,m&&a!==null&&(m=31-Ke(l),i=x.hiddenUpdates,u=i[m],u===null?i[m]=[a]:u.push(a),a.lane=l|536870912),x):null}function kr(i){if(50<Zh)throw Zh=0,B1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var br={};function vc(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,a,l,u){return new vc(i,a,l,u)}function bc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function za(i,a){var l=i.alternate;return l===null?(l=Mr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ou(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Bl(i,a,l,u,m,x){var D=0;if(u=i,typeof i=="function")bc(i)&&(D=1);else if(typeof i=="string")D=l3(i,l,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case w:return i=Mr(31,l,a,m),i.elementType=w,i.lanes=x,i;case H:return Eo(l.children,m,x,a);case z:D=8,m|=24;break;case M:return i=Mr(12,l,a,m|2),i.elementType=M,i.lanes=x,i;case _t:return i=Mr(13,l,a,m),i.elementType=_t,i.lanes=x,i;case Dt:return i=Mr(19,l,a,m),i.elementType=Dt,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case nt:D=10;break t;case et:D=9;break t;case it:D=11;break t;case $:D=14;break t;case O:D=16,u=null;break t}D=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Mr(D,l,a,m),a.elementType=i,a.type=u,a.lanes=x,a}function Eo(i,a,l,u){return i=Mr(7,i,u,a),i.lanes=l,i}function Pu(i,a,l){return i=Mr(6,i,null,a),i.lanes=l,i}function xc(i){var a=Mr(18,null,null,0);return a.stateNode=i,a}function Ul(i,a,l){return a=Mr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var _c=new WeakMap;function Fa(i,a){if(typeof i=="object"&&i!==null){var l=_c.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Te(a)},_c.set(i,a),a)}return{value:i,source:a,stack:Te(a)}}var Vl=[],ll=0,wc=null,zu=0,Ba=[],Ua=0,To=null,Va=1,qa="";function Ra(i,a){Vl[ll++]=zu,Vl[ll++]=wc,wc=i,zu=a}function $f(i,a,l){Ba[Ua++]=Va,Ba[Ua++]=qa,Ba[Ua++]=To,To=i;var u=Va;i=qa;var m=32-Ke(u)-1;u&=~(1<<m),l+=1;var x=32-Ke(a)+m;if(30<x){var D=m-m%5;x=(u&(1<<D)-1).toString(32),u>>=D,m-=D,Va=1<<32-Ke(a)+m|l<<m|u,qa=x+i}else Va=1<<x|l<<m|u,qa=i}function Lh(i){i.return!==null&&(Ra(i,1),$f(i,1,0))}function Sc(i){for(;i===wc;)wc=Vl[--ll],Vl[ll]=null,zu=Vl[--ll],Vl[ll]=null;for(;i===To;)To=Ba[--Ua],Ba[Ua]=null,qa=Ba[--Ua],Ba[Ua]=null,Va=Ba[--Ua],Ba[Ua]=null}function Qf(i,a){Ba[Ua++]=Va,Ba[Ua++]=qa,Ba[Ua++]=To,Va=a.id,qa=a.overflow,To=i}var xr=null,si=null,gn=!1,Xr=null,Si=!1,cs=Error(r(519));function Co(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Fa(a,i)),cs}function Dh(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[kn]=i,a[Gn]=u,l){case"dialog":yn("cancel",a),yn("close",a);break;case"iframe":case"object":case"embed":yn("load",a);break;case"video":case"audio":for(l=0;l<tf.length;l++)yn(tf[l],a);break;case"source":yn("error",a);break;case"img":case"image":case"link":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"input":yn("invalid",a),kl(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":yn("invalid",a);break;case"textarea":yn("invalid",a),is(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||w5(a.textContent,l)?(u.popover!=null&&(yn("beforetoggle",a),yn("toggle",a)),u.onScroll!=null&&yn("scroll",a),u.onScrollEnd!=null&&yn("scrollend",a),u.onClick!=null&&(a.onclick=wa),a=!0):a=!1,a||Co(i,!0)}function Zs(i){for(xr=i.return;xr;)switch(xr.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:xr=xr.return}}function _r(i){if(i!==xr)return!1;if(!gn)return Zs(i),gn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||eg(i.type,i.memoizedProps)),l=!l),l&&si&&Co(i),Zs(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=L5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=L5(i)}else a===27?(a=si,iu(i.type)?(i=sg,sg=null,si=i):si=a):si=xr?ks(i.stateNode.nextSibling):null;return!0}function ul(){si=xr=null,gn=!1}function jh(){var i=Xr;return i!==null&&($a===null?$a=i:$a.push.apply($a,i),Xr=null),i}function ql(i){Xr===null?Xr=[i]:Xr.push(i)}var Ac=X(null),No=null,Ls=null;function Ro(i,a,l){P(Ac,a._currentValue),a._currentValue=l}function Ha(i){i._currentValue=Ac.current,j(Ac)}function Hl(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function cl(i,a,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var x=m.dependencies;if(x!==null){var D=m.child;x=x.firstContext;t:for(;x!==null;){var Q=x;x=m;for(var dt=0;dt<a.length;dt++)if(Q.context===a[dt]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Hl(x.return,l,i),u||(D=null);break t}x=Q.next}}else if(m.tag===18){if(D=m.return,D===null)throw Error(r(341));D.lanes|=l,x=D.alternate,x!==null&&(x.lanes|=l),Hl(D,l,i),D=null}else D=m.child;if(D!==null)D.return=m;else for(D=m;D!==null;){if(D===i){D=null;break}if(m=D.sibling,m!==null){m.return=D.return,D=m;break}D=D.return}m=D}}function Io(i,a,l,u){i=null;for(var m=a,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var D=m.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var Q=m.type;vr(m.pendingProps.value,D.value)||(i!==null?i.push(Q):i=[Q])}}else if(m===gt.current){if(D=m.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(sf):i=[sf])}m=m.return}i!==null&&cl(a,i,l,u),a.flags|=262144}function Ec(i){for(i=i.firstContext;i!==null;){if(!vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lo(i){No=i,Ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wr(i){return Xf(No,i)}function Tc(i,a){return No===null&&Lo(i),Xf(i,a)}function Xf(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ls===null){if(i===null)throw Error(r(308));Ls=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ls=Ls.next=a;return l}var a1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},s1=n.unstable_scheduleCallback,o1=n.unstable_NormalPriority,Di={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gl(){return{controller:new a1,data:new Map,refCount:0}}function Fu(i){i.refCount--,i.refCount===0&&s1(o1,function(){i.controller.abort()})}var Bu=null,Cc=0,p=0,b=null;function T(i,a){if(Bu===null){var l=Bu=[];Cc=0,p=Y1(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Cc++,a.then(L,L),a}function L(){if(--Cc===0&&Bu!==null){b!==null&&(b.status="fulfilled");var i=Bu;Bu=null,p=0,b=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function V(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var G=st.S;st.S=function(i,a){Y2=We(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T(i,a),G!==null&&G(i,a)};var Y=X(null);function Z(){var i=Y.current;return i!==null?i:li.pooledCache}function tt(i,a){a===null?P(Y,Y.current):P(Y,a.pool)}function ut(){var i=Z();return i===null?null:{parent:Di._currentValue,pool:i}}var mt=Error(r(460)),Rt=Error(r(474)),ot=Error(r(542)),xt={then:function(){}};function Et(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zt(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(wa,wa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qt(i),i;default:if(typeof a.status=="string")a.then(wa,wa);else{if(i=li,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qt(i),i}throw Pt=a,mt}}function Tt(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,mt):l}}var Pt=null;function Ut(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Qt(i){if(i===mt||i===ot)throw Error(r(483))}var Yt=null,pe=0;function se(i){var a=pe;return pe+=1,Yt===null&&(Yt=[]),zt(Yt,i,a)}function He(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function he(i,a){throw a.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function dn(i){function a(St,vt){if(i){var It=St.deletions;It===null?(St.deletions=[vt],St.flags|=16):It.push(vt)}}function l(St,vt){if(!i)return null;for(;vt!==null;)a(St,vt),vt=vt.sibling;return null}function u(St){for(var vt=new Map;St!==null;)St.key!==null?vt.set(St.key,St):vt.set(St.index,St),St=St.sibling;return vt}function m(St,vt){return St=za(St,vt),St.index=0,St.sibling=null,St}function x(St,vt,It){return St.index=It,i?(It=St.alternate,It!==null?(It=It.index,It<vt?(St.flags|=67108866,vt):It):(St.flags|=67108866,vt)):(St.flags|=1048576,vt)}function D(St){return i&&St.alternate===null&&(St.flags|=67108866),St}function Q(St,vt,It,qt){return vt===null||vt.tag!==6?(vt=Pu(It,St.mode,qt),vt.return=St,vt):(vt=m(vt,It),vt.return=St,vt)}function dt(St,vt,It,qt){var je=It.type;return je===H?Bt(St,vt,It.props.children,qt,It.key):vt!==null&&(vt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Tt(je)===vt.type)?(vt=m(vt,It.props),He(vt,It),vt.return=St,vt):(vt=Bl(It.type,It.key,It.props,null,St.mode,qt),He(vt,It),vt.return=St,vt)}function Lt(St,vt,It,qt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==It.containerInfo||vt.stateNode.implementation!==It.implementation?(vt=Ul(It,St.mode,qt),vt.return=St,vt):(vt=m(vt,It.children||[]),vt.return=St,vt)}function Bt(St,vt,It,qt,je){return vt===null||vt.tag!==7?(vt=Eo(It,St.mode,qt,je),vt.return=St,vt):(vt=m(vt,It),vt.return=St,vt)}function Ht(St,vt,It){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Pu(""+vt,St.mode,It),vt.return=St,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case _:return It=Bl(vt.type,vt.key,vt.props,null,St.mode,It),He(It,vt),It.return=St,It;case F:return vt=Ul(vt,St.mode,It),vt.return=St,vt;case O:return vt=Tt(vt),Ht(St,vt,It)}if(yt(vt)||R(vt))return vt=Eo(vt,St.mode,It,null),vt.return=St,vt;if(typeof vt.then=="function")return Ht(St,se(vt),It);if(vt.$$typeof===nt)return Ht(St,Tc(St,vt),It);he(St,vt)}return null}function kt(St,vt,It,qt){var je=vt!==null?vt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return je!==null?null:Q(St,vt,""+It,qt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case _:return It.key===je?dt(St,vt,It,qt):null;case F:return It.key===je?Lt(St,vt,It,qt):null;case O:return It=Tt(It),kt(St,vt,It,qt)}if(yt(It)||R(It))return je!==null?null:Bt(St,vt,It,qt,null);if(typeof It.then=="function")return kt(St,vt,se(It),qt);if(It.$$typeof===nt)return kt(St,vt,Tc(St,It),qt);he(St,It)}return null}function Mt(St,vt,It,qt,je){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return St=St.get(It)||null,Q(vt,St,""+qt,je);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case _:return St=St.get(qt.key===null?It:qt.key)||null,dt(vt,St,qt,je);case F:return St=St.get(qt.key===null?It:qt.key)||null,Lt(vt,St,qt,je);case O:return qt=Tt(qt),Mt(St,vt,It,qt,je)}if(yt(qt)||R(qt))return St=St.get(It)||null,Bt(vt,St,qt,je,null);if(typeof qt.then=="function")return Mt(St,vt,It,se(qt),je);if(qt.$$typeof===nt)return Mt(St,vt,It,Tc(vt,qt),je);he(vt,qt)}return null}function fe(St,vt,It,qt){for(var je=null,Pn=null,xe=vt,on=vt=0,xn=null;xe!==null&&on<It.length;on++){xe.index>on?(xn=xe,xe=null):xn=xe.sibling;var zn=kt(St,xe,It[on],qt);if(zn===null){xe===null&&(xe=xn);break}i&&xe&&zn.alternate===null&&a(St,xe),vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn,xe=xn}if(on===It.length)return l(St,xe),gn&&Ra(St,on),je;if(xe===null){for(;on<It.length;on++)xe=Ht(St,It[on],qt),xe!==null&&(vt=x(xe,vt,on),Pn===null?je=xe:Pn.sibling=xe,Pn=xe);return gn&&Ra(St,on),je}for(xe=u(xe);on<It.length;on++)xn=Mt(xe,St,on,It[on],qt),xn!==null&&(i&&xn.alternate!==null&&xe.delete(xn.key===null?on:xn.key),vt=x(xn,vt,on),Pn===null?je=xn:Pn.sibling=xn,Pn=xn);return i&&xe.forEach(function(lu){return a(St,lu)}),gn&&Ra(St,on),je}function Fe(St,vt,It,qt){if(It==null)throw Error(r(151));for(var je=null,Pn=null,xe=vt,on=vt=0,xn=null,zn=It.next();xe!==null&&!zn.done;on++,zn=It.next()){xe.index>on?(xn=xe,xe=null):xn=xe.sibling;var lu=kt(St,xe,zn.value,qt);if(lu===null){xe===null&&(xe=xn);break}i&&xe&&lu.alternate===null&&a(St,xe),vt=x(lu,vt,on),Pn===null?je=lu:Pn.sibling=lu,Pn=lu,xe=xn}if(zn.done)return l(St,xe),gn&&Ra(St,on),je;if(xe===null){for(;!zn.done;on++,zn=It.next())zn=Ht(St,zn.value,qt),zn!==null&&(vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn);return gn&&Ra(St,on),je}for(xe=u(xe);!zn.done;on++,zn=It.next())zn=Mt(xe,St,on,zn.value,qt),zn!==null&&(i&&zn.alternate!==null&&xe.delete(zn.key===null?on:zn.key),vt=x(zn,vt,on),Pn===null?je=zn:Pn.sibling=zn,Pn=zn);return i&&xe.forEach(function(b3){return a(St,b3)}),gn&&Ra(St,on),je}function ri(St,vt,It,qt){if(typeof It=="object"&&It!==null&&It.type===H&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case _:t:{for(var je=It.key;vt!==null;){if(vt.key===je){if(je=It.type,je===H){if(vt.tag===7){l(St,vt.sibling),qt=m(vt,It.props.children),qt.return=St,St=qt;break t}}else if(vt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Tt(je)===vt.type){l(St,vt.sibling),qt=m(vt,It.props),He(qt,It),qt.return=St,St=qt;break t}l(St,vt);break}else a(St,vt);vt=vt.sibling}It.type===H?(qt=Eo(It.props.children,St.mode,qt,It.key),qt.return=St,St=qt):(qt=Bl(It.type,It.key,It.props,null,St.mode,qt),He(qt,It),qt.return=St,St=qt)}return D(St);case F:t:{for(je=It.key;vt!==null;){if(vt.key===je)if(vt.tag===4&&vt.stateNode.containerInfo===It.containerInfo&&vt.stateNode.implementation===It.implementation){l(St,vt.sibling),qt=m(vt,It.children||[]),qt.return=St,St=qt;break t}else{l(St,vt);break}else a(St,vt);vt=vt.sibling}qt=Ul(It,St.mode,qt),qt.return=St,St=qt}return D(St);case O:return It=Tt(It),ri(St,vt,It,qt)}if(yt(It))return fe(St,vt,It,qt);if(R(It)){if(je=R(It),typeof je!="function")throw Error(r(150));return It=je.call(It),Fe(St,vt,It,qt)}if(typeof It.then=="function")return ri(St,vt,se(It),qt);if(It.$$typeof===nt)return ri(St,vt,Tc(St,It),qt);he(St,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,vt!==null&&vt.tag===6?(l(St,vt.sibling),qt=m(vt,It),qt.return=St,St=qt):(l(St,vt),qt=Pu(It,St.mode,qt),qt.return=St,St=qt),D(St)):l(St,vt)}return function(St,vt,It,qt){try{pe=0;var je=ri(St,vt,It,qt);return Yt=null,je}catch(xe){if(xe===mt||xe===ot)throw xe;var Pn=Mr(29,xe,null,St.mode);return Pn.lanes=qt,Pn.return=St,Pn}}}var oi=dn(!0),Je=dn(!1),oe=!1;function Jt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ze(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Un&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=kr(i),Mu(i,null,l),a}return ku(i,u,a,l),kr(i)}function Fn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Tr(i,l)}}function Ki(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?m=x=D:x=x.next=D,l=l.next}while(l!==null);x===null?m=x=a:x=x.next=a}else m=x=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Sr=!1;function ei(){if(Sr){var i=b;if(i!==null)throw i}}function zi(i,a,l,u){Sr=!1;var m=i.updateQueue;oe=!1;var x=m.firstBaseUpdate,D=m.lastBaseUpdate,Q=m.shared.pending;if(Q!==null){m.shared.pending=null;var dt=Q,Lt=dt.next;dt.next=null,D===null?x=Lt:D.next=Lt,D=dt;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,Q=Bt.lastBaseUpdate,Q!==D&&(Q===null?Bt.firstBaseUpdate=Lt:Q.next=Lt,Bt.lastBaseUpdate=dt))}if(x!==null){var Ht=m.baseState;D=0,Bt=Lt=dt=null,Q=x;do{var kt=Q.lane&-536870913,Mt=kt!==Q.lane;if(Mt?(bn&kt)===kt:(u&kt)===kt){kt!==0&&kt===p&&(Sr=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var fe=i,Fe=Q;kt=a;var ri=l;switch(Fe.tag){case 1:if(fe=Fe.payload,typeof fe=="function"){Ht=fe.call(ri,Ht,kt);break t}Ht=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Fe.payload,kt=typeof fe=="function"?fe.call(ri,Ht,kt):fe,kt==null)break t;Ht=A({},Ht,kt);break t;case 2:oe=!0}}kt=Q.callback,kt!==null&&(i.flags|=64,Mt&&(i.flags|=8192),Mt=m.callbacks,Mt===null?m.callbacks=[kt]:Mt.push(kt))}else Mt={lane:kt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Bt===null?(Lt=Bt=Mt,dt=Ht):Bt=Bt.next=Mt,D|=kt;if(Q=Q.next,Q===null){if(Q=m.shared.pending,Q===null)break;Mt=Q,Q=Mt.next,Mt.next=null,m.lastBaseUpdate=Mt,m.shared.pending=null}}while(!0);Bt===null&&(dt=Ht),m.baseState=dt,m.firstBaseUpdate=Lt,m.lastBaseUpdate=Bt,x===null&&(m.shared.lanes=0),Zl|=D,i.lanes=D,i.memoizedState=Ht}}function Or(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Fi(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Or(l[i],a)}var un=X(null),En=X(0);function pi(i,a){i=xl,P(En,i),P(un,a),xl=i|a.baseLanes}function Dn(){P(En,xl),P(un,un.current)}function $i(){xl=En.current,j(un),j(En)}var gi=X(null),Tn=null;function ji(i){var a=i.alternate;P(An,An.current&1),P(gi,i),Tn===null&&(a===null||un.current!==null||a.memoizedState!==null)&&(Tn=i)}function Bn(i){P(An,An.current),P(gi,i),Tn===null&&(Tn=i)}function Bi(i){i.tag===22?(P(An,An.current),P(gi,i),Tn===null&&(Tn=i)):Ui()}function Ui(){P(An,An.current),P(gi,gi.current)}function Wn(i){j(gi),Tn===i&&(Tn=null),j(An)}var An=X(0);function Pr(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rg(l)||ag(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ai=0,Ie=null,De=null,Cn=null,ca=!1,Ga=!1,Zr=!1,Vi=0,Do=0,jo=null,Nc=0;function ni(){throw Error(r(321))}function kh(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!vr(i[l],a[l]))return!1;return!0}function Mh(i,a,l,u,m,x){return Ai=x,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,st.H=i===null||i.memoizedState===null?i2:g1,Zr=!1,x=l(u,m),Zr=!1,Ga&&(x=Js(a,l,u,m)),Rc(i),x}function Rc(i){st.H=qh;var a=De!==null&&De.next!==null;if(Ai=0,Cn=De=Ie=null,ca=!1,Do=0,jo=null,a)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Ec(i)&&(sr=!0))}function Js(i,a,l,u){Ie=i;var m=0;do{if(Ga&&(jo=null),Do=0,Ga=!1,25<=m)throw Error(r(301));if(m+=1,Cn=De=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}st.H=r2,x=a(l,u)}while(Ga);return x}function l1(){var i=st.H,a=i.useState()[0];return a=typeof a.then=="function"?ko(a):a,i=i.useState()[0],(De!==null?De.memoizedState:null)!==i&&(Ie.flags|=1024),a}function Oh(){var i=Vi!==0;return Vi=0,i}function Ph(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ic(i){if(ca){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ca=!1}Ai=0,Cn=De=Ie=null,Ga=!1,Do=Vi=0,jo=null}function ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Ie.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Ei(){if(De===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=De.next;var a=Cn===null?Ie.memoizedState:Cn.next;if(a!==null)Cn=a,De=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));De=i,i={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Cn===null?Ie.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(i){var a=Do;return Do+=1,jo===null&&(jo=[]),i=zt(jo,i,a),a=Ie,(Cn===null?a.memoizedState:Cn.next)===null&&(a=a.alternate,st.H=a===null||a.memoizedState===null?i2:g1),i}function Yl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ko(i);if(i.$$typeof===nt)return wr(i)}throw Error(r(438,String(i)))}function hl(i){var a=null,l=Ie.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Uu(),Ie.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=q;return a.index++,l}function Ds(i,a){return typeof a=="function"?a(i):a}function Lc(i){var a=Ei();return Wl(a,De,i)}function Wl(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,x=u.pending;if(x!==null){if(m!==null){var D=m.next;m.next=x.next,x.next=D}a.baseQueue=m=x,u.pending=null}if(x=i.baseState,m===null)i.memoizedState=x;else{a=m.next;var Q=D=null,dt=null,Lt=a,Bt=!1;do{var Ht=Lt.lane&-536870913;if(Ht!==Lt.lane?(bn&Ht)===Ht:(Ai&Ht)===Ht){var kt=Lt.revertLane;if(kt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),Ht===p&&(Bt=!0);else if((Ai&kt)===kt){Lt=Lt.next,kt===p&&(Bt=!0);continue}else Ht={lane:0,revertLane:Lt.revertLane,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},dt===null?(Q=dt=Ht,D=x):dt=dt.next=Ht,Ie.lanes|=kt,Zl|=kt;Ht=Lt.action,Zr&&l(x,Ht),x=Lt.hasEagerState?Lt.eagerState:l(x,Ht)}else kt={lane:Ht,revertLane:Lt.revertLane,gesture:Lt.gesture,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},dt===null?(Q=dt=kt,D=x):dt=dt.next=kt,Ie.lanes|=Ht,Zl|=Ht;Lt=Lt.next}while(Lt!==null&&Lt!==a);if(dt===null?D=x:dt.next=Q,!vr(x,i.memoizedState)&&(sr=!0,Bt&&(l=b,l!==null)))throw l;i.memoizedState=x,i.baseState=D,i.baseQueue=dt,u.lastRenderedState=x}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Dc(i){var a=Ei(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,x=a.memoizedState;if(m!==null){l.pending=null;var D=m=m.next;do x=i(x,D.action),D=D.next;while(D!==m);vr(x,a.memoizedState)||(sr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function jc(i,a,l){var u=Ie,m=Ei(),x=gn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var D=!vr((De||m).memoizedState,l);if(D&&(m.memoizedState=l,sr=!0),m=m.queue,u1(Fh.bind(null,u,m,i),[i]),m.getSnapshot!==a||D||Cn!==null&&Cn.memoizedState.tag&1){if(u.flags|=2048,dl(9,{destroy:void 0},zh.bind(null,u,m,l,a),null),li===null)throw Error(r(349));x||(Ai&127)!==0||to(u,a,l)}return l}function to(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ie.updateQueue,a===null?(a=Uu(),Ie.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function zh(i,a,l,u){a.value=l,a.getSnapshot=u,Zf(a)&&Bh(i)}function Fh(i,a,l){return l(function(){Zf(a)&&Bh(i)})}function Zf(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!vr(i,l)}catch{return!0}}function Bh(i){var a=Xs(i,2);a!==null&&Qa(a,i,2)}function Mo(i){var a=ar();if(typeof i=="function"){var l=i;if(i=l(),Zr){Pe(!0);try{l()}finally{Pe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},a}function Jf(i,a,l,u){return i.baseState=l,Wl(i,De,typeof u=="function"?u:Ds)}function td(i,a,l,u,m){if(rd(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};st.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,ed(a,x)):(x.next=l.next,a.pending=l.next=x)}}function ed(i,a){var l=a.action,u=a.payload,m=i.state;if(a.isTransition){var x=st.T,D={};st.T=D;try{var Q=l(m,u),dt=st.S;dt!==null&&dt(D,Q),Uh(i,a,Q)}catch(Lt){fl(i,a,Lt)}finally{x!==null&&D.types!==null&&(x.types=D.types),st.T=x}}else try{x=l(m,u),Uh(i,a,x)}catch(Lt){fl(i,a,Lt)}}function Uh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){nd(i,a,u)},function(u){return fl(i,a,u)}):nd(i,a,l)}function nd(i,a,l){a.status="fulfilled",a.value=l,kc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,ed(i,l)))}function fl(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,kc(a),a=a.next;while(a!==u)}i.action=null}function kc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Vu(i,a){return a}function js(i,a){if(gn){var l=li.formState;if(l!==null){t:{var u=Ie;if(gn){if(si){e:{for(var m=si,x=Si;m.nodeType!==8;){if(!x){m=null;break e}if(m=ks(m.nextSibling),m===null){m=null;break e}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){si=ks(m.nextSibling),u=m.data==="F!";break t}}Co(u)}u=!1}u&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:a},l.queue=u,l=t2.bind(null,Ie,u),u.dispatch=l,u=Mo(!1),x=p1.bind(null,Ie,!1,u.queue),u=ar(),m={state:a,dispatch:null,action:i,pending:null},u.queue=m,l=td.bind(null,Ie,m,x,l),m.dispatch=l,u.memoizedState=i,[a,l,!1]}function eo(i){var a=Ei();return no(a,De,i)}function no(i,a,l){if(a=Wl(i,a,Vu)[0],i=Lc(Ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ko(a)}catch(D){throw D===mt?ot:D}else u=a;a=Ei();var m=a.queue,x=m.dispatch;return l!==a.memoizedState&&(Ie.flags|=2048,dl(9,{destroy:void 0},Mc.bind(null,m,l),null)),[u,x,i]}function Mc(i,a){i.action=a}function Oc(i){var a=Ei(),l=De;if(l!==null)return no(a,l,i);Ei(),a=a.memoizedState,l=Ei();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function dl(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=Ie.updateQueue,a===null&&(a=Uu(),Ie.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function id(){return Ei().memoizedState}function Kl(i,a,l,u){var m=ar();Ie.flags|=i,m.memoizedState=dl(1|a,{destroy:void 0},l,u===void 0?null:u)}function $l(i,a,l,u){var m=Ei();u=u===void 0?null:u;var x=m.memoizedState.inst;De!==null&&u!==null&&kh(u,De.memoizedState.deps)?m.memoizedState=dl(a,x,l,u):(Ie.flags|=i,m.memoizedState=dl(1|a,x,l,u))}function Bm(i,a){Kl(8390656,8,i,a)}function u1(i,a){$l(2048,8,i,a)}function dw(i){Ie.flags|=4;var a=Ie.updateQueue;if(a===null)a=Uu(),Ie.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Um(i){var a=Ei().memoizedState;return dw({ref:a,nextImpl:i}),function(){if((Un&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Vm(i,a){return $l(4,2,i,a)}function qm(i,a){return $l(4,4,i,a)}function Hm(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Gm(i,a,l){l=l!=null?l.concat([i]):null,$l(4,4,Hm.bind(null,a,i),l)}function c1(){}function Ym(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&kh(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function Wm(i,a){var l=Ei();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&kh(a,u[1]))return u[0];if(u=i(),Zr){Pe(!0);try{i()}finally{Pe(!1)}}return l.memoizedState=[u,a],u}function h1(i,a,l){return l===void 0||(Ai&1073741824)!==0&&(bn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=K2(),Ie.lanes|=i,Zl|=i,l)}function Km(i,a,l,u){return vr(l,a)?l:un.current!==null?(i=h1(i,l,u),vr(i,a)||(sr=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(bn&261930)===0?(sr=!0,i.memoizedState=l):(i=K2(),Ie.lanes|=i,Zl|=i,a)}function $m(i,a,l,u,m){var x=ft.p;ft.p=x!==0&&8>x?x:8;var D=st.T,Q={};st.T=Q,p1(i,!1,a,l);try{var dt=m(),Lt=st.S;if(Lt!==null&&Lt(Q,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Bt=V(dt,u);Vh(i,a,Bt,ds(i))}else Vh(i,a,u,ds(i))}catch(Ht){Vh(i,a,{then:function(){},status:"rejected",reason:Ht},ds())}finally{ft.p=x,D!==null&&Q.types!==null&&(D.types=Q.types),st.T=D}}function pw(){}function f1(i,a,l,u){if(i.tag!==5)throw Error(r(476));var m=Qm(i).queue;$m(i,m,a,U,l===null?pw:function(){return Xm(i),l(u)})}function Qm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:U},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Xm(i){var a=Qm(i);a.next===null&&(a=i.alternate.memoizedState),Vh(i,a.next.queue,{},ds())}function d1(){return wr(sf)}function Zm(){return Ei().memoizedState}function Jm(){return Ei().memoizedState}function gw(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ds();i=ze(l);var u=rn(a,i,l);u!==null&&(Qa(u,a,l),Fn(u,a,l)),a={cache:Gl()},i.payload=a;return}a=a.return}}function mw(i,a,l){var u=ds();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rd(i)?e2(a,l):(l=yc(i,a,l,u),l!==null&&(Qa(l,i,u),n2(l,a,u)))}function t2(i,a,l){var u=ds();Vh(i,a,l,u)}function Vh(i,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(rd(i))e2(a,m);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var D=a.lastRenderedState,Q=x(D,l);if(m.hasEagerState=!0,m.eagerState=Q,vr(Q,D))return ku(i,a,m,0),li===null&&ju(),!1}catch{}if(l=yc(i,a,m,u),l!==null)return Qa(l,i,u),n2(l,a,u),!0}return!1}function p1(i,a,l,u){if(u={lane:2,revertLane:Y1(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rd(i)){if(a)throw Error(r(479))}else a=yc(i,l,u,2),a!==null&&Qa(a,i,2)}function rd(i){var a=i.alternate;return i===Ie||a!==null&&a===Ie}function e2(i,a){Ga=ca=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function n2(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Tr(i,l)}}var qh={readContext:wr,use:Yl,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni,useHostTransitionStatus:ni,useFormState:ni,useActionState:ni,useOptimistic:ni,useMemoCache:ni,useCacheRefresh:ni};qh.useEffectEvent=ni;var i2={readContext:wr,use:Yl,useCallback:function(i,a){return ar().memoizedState=[i,a===void 0?null:a],i},useContext:wr,useEffect:Bm,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Kl(4194308,4,Hm.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Kl(4194308,4,i,a)},useInsertionEffect:function(i,a){Kl(4,2,i,a)},useMemo:function(i,a){var l=ar();a=a===void 0?null:a;var u=i();if(Zr){Pe(!0);try{i()}finally{Pe(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=ar();if(l!==void 0){var m=l(a);if(Zr){Pe(!0);try{l(a)}finally{Pe(!1)}}}else m=a;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=mw.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var a=ar();return i={current:i},a.memoizedState=i},useState:function(i){i=Mo(i);var a=i.queue,l=t2.bind(null,Ie,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:c1,useDeferredValue:function(i,a){var l=ar();return h1(l,i,a)},useTransition:function(){var i=Mo(!1);return i=$m.bind(null,Ie,i.queue,!0,!1),ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=Ie,m=ar();if(gn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),li===null)throw Error(r(349));(bn&127)!==0||to(u,a,l)}m.memoizedState=l;var x={value:l,getSnapshot:a};return m.queue=x,Bm(Fh.bind(null,u,x,i),[i]),u.flags|=2048,dl(9,{destroy:void 0},zh.bind(null,u,x,l,a),null),l},useId:function(){var i=ar(),a=li.identifierPrefix;if(gn){var l=qa,u=Va;l=(u&~(1<<32-Ke(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Vi++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Nc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:d1,useFormState:js,useActionState:js,useOptimistic:function(i){var a=ar();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=p1.bind(null,Ie,!0,l),l.dispatch=a,[i,a]},useMemoCache:hl,useCacheRefresh:function(){return ar().memoizedState=gw.bind(null,Ie)},useEffectEvent:function(i){var a=ar(),l={impl:i};return a.memoizedState=l,function(){if((Un&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},g1={readContext:wr,use:Yl,useCallback:Ym,useContext:wr,useEffect:u1,useImperativeHandle:Gm,useInsertionEffect:Vm,useLayoutEffect:qm,useMemo:Wm,useReducer:Lc,useRef:id,useState:function(){return Lc(Ds)},useDebugValue:c1,useDeferredValue:function(i,a){var l=Ei();return Km(l,De.memoizedState,i,a)},useTransition:function(){var i=Lc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:ko(i),a]},useSyncExternalStore:jc,useId:Zm,useHostTransitionStatus:d1,useFormState:eo,useActionState:eo,useOptimistic:function(i,a){var l=Ei();return Jf(l,De,i,a)},useMemoCache:hl,useCacheRefresh:Jm};g1.useEffectEvent=Um;var r2={readContext:wr,use:Yl,useCallback:Ym,useContext:wr,useEffect:u1,useImperativeHandle:Gm,useInsertionEffect:Vm,useLayoutEffect:qm,useMemo:Wm,useReducer:Dc,useRef:id,useState:function(){return Dc(Ds)},useDebugValue:c1,useDeferredValue:function(i,a){var l=Ei();return De===null?h1(l,i,a):Km(l,De.memoizedState,i,a)},useTransition:function(){var i=Dc(Ds)[0],a=Ei().memoizedState;return[typeof i=="boolean"?i:ko(i),a]},useSyncExternalStore:jc,useId:Zm,useHostTransitionStatus:d1,useFormState:Oc,useActionState:Oc,useOptimistic:function(i,a){var l=Ei();return De!==null?Jf(l,De,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:hl,useCacheRefresh:Jm};r2.useEffectEvent=Um;function m1(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var y1={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=ds(),m=ze(u);m.payload=a,l!=null&&(m.callback=l),a=rn(i,m,u),a!==null&&(Qa(a,i,u),Fn(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=ds(),m=ze(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=rn(i,m,u),a!==null&&(Qa(a,i,u),Fn(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ds(),u=ze(l);u.tag=2,a!=null&&(u.callback=a),a=rn(i,u,l),a!==null&&(Qa(a,i,l),Fn(a,i,l))}};function a2(i,a,l,u,m,x,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,x,D):a.prototype&&a.prototype.isPureReactComponent?!Ws(l,u)||!Ws(m,x):!0}function s2(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&y1.enqueueReplaceState(a,a.state,null)}function qu(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function o2(i){Du(i)}function l2(i){console.error(i)}function u2(i){Du(i)}function ad(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function c2(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function v1(i,a,l){return l=ze(l),l.tag=3,l.payload={element:null},l.callback=function(){ad(i,a)},l}function h2(i){return i=ze(i),i.tag=3,i}function f2(i,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var x=u.value;i.payload=function(){return m(x)},i.callback=function(){c2(a,l,u)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){c2(a,l,u),typeof m!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function yw(i,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Io(a,l,m,!0),l=gi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?yd():l.alternate===null&&qi===0&&(qi=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===xt?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),q1(i,u,m)),!1;case 22:return l.flags|=65536,u===xt?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),q1(i,u,m)),!1}throw Error(r(435,l.tag))}return q1(i,u,m),yd(),!1}if(gn)return a=gi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==cs&&(i=Error(r(422),{cause:u}),ql(Fa(i,l)))):(u!==cs&&(a=Error(r(423),{cause:u}),ql(Fa(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Fa(u,l),m=v1(i.stateNode,u,m),Ki(i,m),qi!==4&&(qi=2)),!1;var x=Error(r(520),{cause:u});if(x=Fa(x,l),Xh===null?Xh=[x]:Xh.push(x),qi!==4&&(qi=2),a===null)return!0;u=Fa(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=v1(l.stateNode,u,i),Ki(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jl===null||!Jl.has(x))))return l.flags|=65536,m&=-m,l.lanes|=m,m=h2(m),f2(m,i,l,u),Ki(l,m),!1}l=l.return}while(l!==null);return!1}var b1=Error(r(461)),sr=!1;function Jr(i,a,l,u){a.child=i===null?Je(a,null,l,u):oi(a,i.child,l,u)}function d2(i,a,l,u,m){l=l.render;var x=a.ref;if("ref"in u){var D={};for(var Q in u)Q!=="ref"&&(D[Q]=u[Q])}else D=u;return Lo(a),u=Mh(i,a,l,D,x,m),Q=Oh(),i!==null&&!sr?(Ph(i,a,m),pl(i,a,m)):(gn&&Q&&Lh(a),a.flags|=1,Jr(i,a,u,m),a.child)}function p2(i,a,l,u,m){if(i===null){var x=l.type;return typeof x=="function"&&!bc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,g2(i,a,x,u,m)):(i=Bl(l.type,null,u,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!C1(i,m)){var D=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ws,l(D,u)&&i.ref===a.ref)return pl(i,a,m)}return a.flags|=1,i=za(x,u),i.ref=a.ref,i.return=a,a.child=i}function g2(i,a,l,u,m){if(i!==null){var x=i.memoizedProps;if(Ws(x,u)&&i.ref===a.ref)if(sr=!1,a.pendingProps=u=x,C1(i,m))(i.flags&131072)!==0&&(sr=!0);else return a.lanes=i.lanes,pl(i,a,m)}return x1(i,a,l,u,m)}function m2(i,a,l,u){var m=u.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(u=a.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~x}else u=0,a.child=null;return y2(i,a,x,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&tt(a,x!==null?x.cachePool:null),x!==null?pi(a,x):Dn(),Bi(a);else return u=a.lanes=536870912,y2(i,a,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(tt(a,x.cachePool),pi(a,x),Ui(),a.memoizedState=null):(i!==null&&tt(a,null),Dn(),Ui());return Jr(i,a,m,l),a.child}function Hh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function y2(i,a,l,u,m){var x=Z();return x=x===null?null:{parent:Di._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&tt(a,null),Dn(),Bi(a),i!==null&&Io(i,a,u,!0),a.childLanes=m,null}function sd(i,a){return a=ld({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function v2(i,a,l){return oi(a,i.child,null,l),i=sd(a,a.pendingProps),i.flags|=2,Wn(a),a.memoizedState=null,i}function vw(i,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(gn){if(u.mode==="hidden")return i=sd(a,u),a.lanes=536870912,Hh(null,i);if(Bn(a),(i=si)?(i=I5(i,Si),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:To!==null?{id:Va,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},l=xc(i),l.return=a,a.child=l,xr=a,si=null)):i=null,i===null)throw Co(a);return a.lanes=536870912,null}return sd(a,u)}var x=i.memoizedState;if(x!==null){var D=x.dehydrated;if(Bn(a),m)if(a.flags&256)a.flags&=-257,a=v2(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(sr||Io(i,a,l,!1),m=(l&i.childLanes)!==0,sr||m){if(u=li,u!==null&&(D=Cr(u,l),D!==0&&D!==x.retryLane))throw x.retryLane=D,Xs(i,D),Qa(u,i,D),b1;yd(),a=v2(i,a,l)}else i=x.treeContext,si=ks(D.nextSibling),xr=a,gn=!0,Xr=null,Si=!1,i!==null&&Qf(a,i),a=sd(a,u),a.flags|=4096;return a}return i=za(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function od(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function x1(i,a,l,u,m){return Lo(a),l=Mh(i,a,l,u,void 0,m),u=Oh(),i!==null&&!sr?(Ph(i,a,m),pl(i,a,m)):(gn&&u&&Lh(a),a.flags|=1,Jr(i,a,l,m),a.child)}function b2(i,a,l,u,m,x){return Lo(a),a.updateQueue=null,l=Js(a,u,l,m),Rc(i),u=Oh(),i!==null&&!sr?(Ph(i,a,x),pl(i,a,x)):(gn&&u&&Lh(a),a.flags|=1,Jr(i,a,l,x),a.child)}function x2(i,a,l,u,m){if(Lo(a),a.stateNode===null){var x=br,D=l.contextType;typeof D=="object"&&D!==null&&(x=wr(D)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=y1,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},Jt(a),D=l.contextType,x.context=typeof D=="object"&&D!==null?wr(D):br,x.state=a.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(m1(a,l,D,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&y1.enqueueReplaceState(x,x.state,null),zi(a,u,x,m),ei(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){x=a.stateNode;var Q=a.memoizedProps,dt=qu(l,Q);x.props=dt;var Lt=x.context,Bt=l.contextType;D=br,typeof Bt=="object"&&Bt!==null&&(D=wr(Bt));var Ht=l.getDerivedStateFromProps;Bt=typeof Ht=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,Bt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Lt!==D)&&s2(a,x,u,D),oe=!1;var kt=a.memoizedState;x.state=kt,zi(a,u,x,m),ei(),Lt=a.memoizedState,Q||kt!==Lt||oe?(typeof Ht=="function"&&(m1(a,l,Ht,u),Lt=a.memoizedState),(dt=oe||a2(a,l,dt,u,kt,Lt,D))?(Bt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Lt),x.props=u,x.state=Lt,x.context=D,u=dt):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,di(i,a),D=a.memoizedProps,Bt=qu(l,D),x.props=Bt,Ht=a.pendingProps,kt=x.context,Lt=l.contextType,dt=br,typeof Lt=="object"&&Lt!==null&&(dt=wr(Lt)),Q=l.getDerivedStateFromProps,(Lt=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ht||kt!==dt)&&s2(a,x,u,dt),oe=!1,kt=a.memoizedState,x.state=kt,zi(a,u,x,m),ei();var Mt=a.memoizedState;D!==Ht||kt!==Mt||oe||i!==null&&i.dependencies!==null&&Ec(i.dependencies)?(typeof Q=="function"&&(m1(a,l,Q,u),Mt=a.memoizedState),(Bt=oe||a2(a,l,Bt,u,kt,Mt,dt)||i!==null&&i.dependencies!==null&&Ec(i.dependencies))?(Lt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Mt,dt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Mt,dt)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Mt),x.props=u,x.state=Mt,x.context=dt,u=Bt):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&kt===i.memoizedState||(a.flags|=1024),u=!1)}return x=u,od(i,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&u?(a.child=oi(a,i.child,null,m),a.child=oi(a,null,l,m)):Jr(i,a,l,m),a.memoizedState=x.state,i=a.child):i=pl(i,a,m),i}function _2(i,a,l,u){return ul(),a.flags|=256,Jr(i,a,l,u),a.child}var _1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w1(i){return{baseLanes:i,cachePool:ut()}}function S1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=fs),i}function w2(i,a,l){var u=a.pendingProps,m=!1,x=(a.flags&128)!==0,D;if((D=x)||(D=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),D&&(m=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(gn){if(m?ji(a):Ui(),(i=si)?(i=I5(i,Si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:To!==null?{id:Va,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},l=xc(i),l.return=a,a.child=l,xr=a,si=null)):i=null,i===null)throw Co(a);return ag(i)?a.lanes=32:a.lanes=536870912,null}var Q=u.children;return u=u.fallback,m?(Ui(),m=a.mode,Q=ld({mode:"hidden",children:Q},m),u=Eo(u,m,l,null),Q.return=a,u.return=a,Q.sibling=u,a.child=Q,u=a.child,u.memoizedState=w1(l),u.childLanes=S1(i,D,l),a.memoizedState=_1,Hh(null,u)):(ji(a),A1(a,Q))}var dt=i.memoizedState;if(dt!==null&&(Q=dt.dehydrated,Q!==null)){if(x)a.flags&256?(ji(a),a.flags&=-257,a=E1(i,a,l)):a.memoizedState!==null?(Ui(),a.child=i.child,a.flags|=128,a=null):(Ui(),Q=u.fallback,m=a.mode,u=ld({mode:"visible",children:u.children},m),Q=Eo(Q,m,l,null),Q.flags|=2,u.return=a,Q.return=a,u.sibling=Q,a.child=u,oi(a,i.child,null,l),u=a.child,u.memoizedState=w1(l),u.childLanes=S1(i,D,l),a.memoizedState=_1,a=Hh(null,u));else if(ji(a),ag(Q)){if(D=Q.nextSibling&&Q.nextSibling.dataset,D)var Lt=D.dgst;D=Lt,u=Error(r(419)),u.stack="",u.digest=D,ql({value:u,source:null,stack:null}),a=E1(i,a,l)}else if(sr||Io(i,a,l,!1),D=(l&i.childLanes)!==0,sr||D){if(D=li,D!==null&&(u=Cr(D,l),u!==0&&u!==dt.retryLane))throw dt.retryLane=u,Xs(i,u),Qa(D,i,u),b1;rg(Q)||yd(),a=E1(i,a,l)}else rg(Q)?(a.flags|=192,a.child=i.child,a=null):(i=dt.treeContext,si=ks(Q.nextSibling),xr=a,gn=!0,Xr=null,Si=!1,i!==null&&Qf(a,i),a=A1(a,u.children),a.flags|=4096);return a}return m?(Ui(),Q=u.fallback,m=a.mode,dt=i.child,Lt=dt.sibling,u=za(dt,{mode:"hidden",children:u.children}),u.subtreeFlags=dt.subtreeFlags&65011712,Lt!==null?Q=za(Lt,Q):(Q=Eo(Q,m,l,null),Q.flags|=2),Q.return=a,u.return=a,u.sibling=Q,a.child=u,Hh(null,u),u=a.child,Q=i.child.memoizedState,Q===null?Q=w1(l):(m=Q.cachePool,m!==null?(dt=Di._currentValue,m=m.parent!==dt?{parent:dt,pool:dt}:m):m=ut(),Q={baseLanes:Q.baseLanes|l,cachePool:m}),u.memoizedState=Q,u.childLanes=S1(i,D,l),a.memoizedState=_1,Hh(i.child,u)):(ji(a),l=i.child,i=l.sibling,l=za(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=l,a.memoizedState=null,l)}function A1(i,a){return a=ld({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ld(i,a){return i=Mr(22,i,null,a),i.lanes=0,i}function E1(i,a,l){return oi(a,i.child,null,l),i=A1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function S2(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Hl(i.return,a,l)}function T1(i,a,l,u,m,x){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:x}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=u,D.tail=l,D.tailMode=m,D.treeForkCount=x)}function A2(i,a,l){var u=a.pendingProps,m=u.revealOrder,x=u.tail;u=u.children;var D=An.current,Q=(D&2)!==0;if(Q?(D=D&1|2,a.flags|=128):D&=1,P(An,D),Jr(i,a,u,l),u=gn?zu:0,!Q&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&S2(i,l,a);else if(i.tag===19)S2(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Pr(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),T1(a,!1,m,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Pr(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}T1(a,!0,l,null,x,u);break;case"together":T1(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function pl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Zl|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Io(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=za(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=za(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function C1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ec(i)))}function bw(i,a,l){switch(a.tag){case 3:Ct(a,a.stateNode.containerInfo),Ro(a,Di,i.memoizedState.cache),ul();break;case 27:case 5:Ot(a);break;case 4:Ct(a,a.stateNode.containerInfo);break;case 10:Ro(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bn(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(a),a.flags|=128,null):(l&a.child.childLanes)!==0?w2(i,a,l):(ji(a),i=pl(i,a,l),i!==null?i.sibling:null);ji(a);break;case 19:var m=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Io(i,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return A2(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),P(An,An.current),u)break;return null;case 22:return a.lanes=0,m2(i,a,l,a.pendingProps);case 24:Ro(a,Di,i.memoizedState.cache)}return pl(i,a,l)}function E2(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)sr=!0;else{if(!C1(i,l)&&(a.flags&128)===0)return sr=!1,bw(i,a,l);sr=(i.flags&131072)!==0}else sr=!1,gn&&(a.flags&1048576)!==0&&$f(a,zu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(i=Tt(a.elementType),a.type=i,typeof i=="function")bc(i)?(u=qu(i,u),a.tag=1,a=x2(null,a,i,u,l)):(a.tag=0,a=x1(null,a,i,u,l));else{if(i!=null){var m=i.$$typeof;if(m===it){a.tag=11,a=d2(null,a,i,u,l);break t}else if(m===$){a.tag=14,a=p2(null,a,i,u,l);break t}}throw a=rt(i)||i,Error(r(306,a,""))}}return a;case 0:return x1(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=qu(u,a.pendingProps),x2(i,a,u,m,l);case 3:t:{if(Ct(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var x=a.memoizedState;m=x.element,di(i,a),zi(a,u,null,l);var D=a.memoizedState;if(u=D.cache,Ro(a,Di,u),u!==x.cache&&cl(a,[Di],l,!0),ei(),u=D.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=_2(i,a,u,l);break t}else if(u!==m){m=Fa(Error(r(424)),a),ql(m),a=_2(i,a,u,l);break t}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,si=ks(i.firstChild),xr=a,gn=!0,Xr=null,Si=!0,l=Je(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ul(),u===m){a=pl(i,a,l);break t}Jr(i,a,u,l)}a=a.child}return a;case 26:return od(i,a),i===null?(l=O5(a.type,null,a.pendingProps,null))?a.memoizedState=l:gn||(l=a.type,i=a.pendingProps,u=Ad(ht.current).createElement(l),u[kn]=a,u[Gn]=i,ta(u,l,i),fi(u),a.stateNode=u):a.memoizedState=O5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ot(a),i===null&&gn&&(u=a.stateNode=j5(a.type,a.pendingProps,ht.current),xr=a,Si=!0,m=si,iu(a.type)?(sg=m,si=ks(u.firstChild)):si=m),Jr(i,a,a.pendingProps.children,l),od(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gn&&((m=u=si)&&(u=$w(u,a.type,a.pendingProps,Si),u!==null?(a.stateNode=u,xr=a,si=ks(u.firstChild),Si=!1,m=!0):m=!1),m||Co(a)),Ot(a),m=a.type,x=a.pendingProps,D=i!==null?i.memoizedProps:null,u=x.children,eg(m,x)?u=null:D!==null&&eg(m,D)&&(a.flags|=32),a.memoizedState!==null&&(m=Mh(i,a,l1,null,null,l),sf._currentValue=m),od(i,a),Jr(i,a,u,l),a.child;case 6:return i===null&&gn&&((i=l=si)&&(l=Qw(l,a.pendingProps,Si),l!==null?(a.stateNode=l,xr=a,si=null,i=!0):i=!1),i||Co(a)),null;case 13:return w2(i,a,l);case 4:return Ct(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=oi(a,null,u,l):Jr(i,a,u,l),a.child;case 11:return d2(i,a,a.type,a.pendingProps,l);case 7:return Jr(i,a,a.pendingProps,l),a.child;case 8:return Jr(i,a,a.pendingProps.children,l),a.child;case 12:return Jr(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ro(a,a.type,u.value),Jr(i,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Lo(a),m=wr(m),u=u(m),a.flags|=1,Jr(i,a,u,l),a.child;case 14:return p2(i,a,a.type,a.pendingProps,l);case 15:return g2(i,a,a.type,a.pendingProps,l);case 19:return A2(i,a,l);case 31:return vw(i,a,l);case 22:return m2(i,a,l,a.pendingProps);case 24:return Lo(a),u=wr(Di),i===null?(m=Z(),m===null&&(m=li,x=Gl(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=l),m=x),a.memoizedState={parent:u,cache:m},Jt(a),Ro(a,Di,m)):((i.lanes&l)!==0&&(di(i,a),zi(a,null,null,l),ei()),m=i.memoizedState,x=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ro(a,Di,u)):(u=x.cache,Ro(a,Di,u),u!==m.cache&&cl(a,[Di],l,!0))),Jr(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function gl(i){i.flags|=4}function N1(i,a,l,u,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Z2())i.flags|=8192;else throw Pt=xt,Rt}else i.flags&=-16777217}function T2(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U5(a))if(Z2())i.flags|=8192;else throw Pt=xt,Rt}function ud(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ia():536870912,i.lanes|=a,Bc|=a)}function Gh(i,a){if(!gn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function mi(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function xw(i,a,l){var u=a.pendingProps;switch(Sc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(a),null;case 1:return mi(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ha(Di),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(_r(a)?gl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jh())),mi(a),null;case 26:var m=a.type,x=a.memoizedState;return i===null?(gl(a),x!==null?(mi(a),T2(a,x)):(mi(a),N1(a,m,null,u,l))):x?x!==i.memoizedState?(gl(a),mi(a),T2(a,x)):(mi(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&gl(a),mi(a),N1(a,m,i,u,l)),null;case 27:if($t(a),l=ht.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&gl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return mi(a),null}i=W.current,_r(a)?Dh(a):(i=j5(m,u,l),a.stateNode=i,gl(a))}return mi(a),null;case 5:if($t(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&gl(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return mi(a),null}if(x=W.current,_r(a))Dh(a);else{var D=Ad(ht.current);switch(x){case 1:x=D.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=D.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=D.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=D.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?D.createElement("select",{is:u.is}):D.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?D.createElement(m,{is:u.is}):D.createElement(m)}}x[kn]=a,x[Gn]=u;t:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)x.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break t;for(;D.sibling===null;){if(D.return===null||D.return===a)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=x;t:switch(ta(x,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gl(a)}}return mi(a),N1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&gl(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=ht.current,_r(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,m=xr,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[kn]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||w5(i.nodeValue,l)),i||Co(a,!0)}else i=Ad(i).createTextNode(u),i[kn]=a,a.stateNode=i}return mi(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=_r(a),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kn]=a}else ul(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mi(a),i=!1}else l=jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Wn(a),a):(Wn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return mi(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=_r(a),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[kn]=a}else ul(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mi(a),m=!1}else m=jh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Wn(a),a):(Wn(a),null)}return Wn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),ud(a,a.updateQueue),mi(a),null);case 4:return Nt(),i===null&&Q1(a.stateNode.containerInfo),mi(a),null;case 10:return Ha(a.type),mi(a),null;case 19:if(j(An),u=a.memoizedState,u===null)return mi(a),null;if(m=(a.flags&128)!==0,x=u.rendering,x===null)if(m)Gh(u,!1);else{if(qi!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=Pr(i),x!==null){for(a.flags|=128,Gh(u,!1),i=x.updateQueue,a.updateQueue=i,ud(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Ou(l,i),l=l.sibling;return P(An,An.current&1|2),gn&&Ra(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&We()>pd&&(a.flags|=128,m=!0,Gh(u,!1),a.lanes=4194304)}else{if(!m)if(i=Pr(x),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,ud(a,i),Gh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!gn)return mi(a),null}else 2*We()-u.renderingStartTime>pd&&l!==536870912&&(a.flags|=128,m=!0,Gh(u,!1),a.lanes=4194304);u.isBackwards?(x.sibling=a.child,a.child=x):(i=u.last,i!==null?i.sibling=x:a.child=x,u.last=x)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=We(),i.sibling=null,l=An.current,P(An,m?l&1|2:l&1),gn&&Ra(a,u.treeForkCount),i):(mi(a),null);case 22:case 23:return Wn(a),$i(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(mi(a),a.subtreeFlags&6&&(a.flags|=8192)):mi(a),l=a.updateQueue,l!==null&&ud(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&j(Y),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ha(Di),mi(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function _w(i,a){switch(Sc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ha(Di),Nt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return $t(a),null;case 31:if(a.memoizedState!==null){if(Wn(a),a.alternate===null)throw Error(r(340));ul()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Wn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ul()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return j(An),null;case 4:return Nt(),null;case 10:return Ha(a.type),null;case 22:case 23:return Wn(a),$i(),i!==null&&j(Y),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ha(Di),null;case 25:return null;default:return null}}function C2(i,a){switch(Sc(a),a.tag){case 3:Ha(Di),Nt();break;case 26:case 27:case 5:$t(a);break;case 4:Nt();break;case 31:a.memoizedState!==null&&Wn(a);break;case 13:Wn(a);break;case 19:j(An);break;case 10:Ha(a.type);break;case 22:case 23:Wn(a),$i(),i!==null&&j(Y);break;case 24:Ha(Di)}}function Yh(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var x=l.create,D=l.inst;u=x(),D.destroy=u}l=l.next}while(l!==m)}}catch(Q){$n(a,a.return,Q)}}function Ql(i,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&i)===i){var D=u.inst,Q=D.destroy;if(Q!==void 0){D.destroy=void 0,m=a;var dt=l,Lt=Q;try{Lt()}catch(Bt){$n(m,dt,Bt)}}}u=u.next}while(u!==x)}}catch(Bt){$n(a,a.return,Bt)}}function N2(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Fi(a,l)}catch(u){$n(i,i.return,u)}}}function R2(i,a,l){l.props=qu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){$n(i,a,u)}}function Wh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){$n(i,a,m)}}function Oo(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){$n(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){$n(i,a,m)}else l.current=null}function I2(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){$n(i,i.return,m)}}function R1(i,a,l){try{var u=i.stateNode;qw(u,i.type,l,a),u[Gn]=a}catch(m){$n(i,i.return,m)}}function L2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&iu(i.type)||i.tag===4}function I1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||L2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&iu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function L1(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=wa));else if(u!==4&&(u===27&&iu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(L1(i,a,l),i=i.sibling;i!==null;)L1(i,a,l),i=i.sibling}function cd(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&iu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(cd(i,a,l),i=i.sibling;i!==null;)cd(i,a,l),i=i.sibling}function D2(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);ta(a,u,l),a[kn]=i,a[Gn]=l}catch(x){$n(i,i.return,x)}}var ml=!1,or=!1,D1=!1,j2=typeof WeakSet=="function"?WeakSet:Set,zr=null;function ww(i,a){if(i=i.containerInfo,J1=Ld,i=$s(i),Rs(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var D=0,Q=-1,dt=-1,Lt=0,Bt=0,Ht=i,kt=null;e:for(;;){for(var Mt;Ht!==l||m!==0&&Ht.nodeType!==3||(Q=D+m),Ht!==x||u!==0&&Ht.nodeType!==3||(dt=D+u),Ht.nodeType===3&&(D+=Ht.nodeValue.length),(Mt=Ht.firstChild)!==null;)kt=Ht,Ht=Mt;for(;;){if(Ht===i)break e;if(kt===l&&++Lt===m&&(Q=D),kt===x&&++Bt===u&&(dt=D),(Mt=Ht.nextSibling)!==null)break;Ht=kt,kt=Ht.parentNode}Ht=Mt}l=Q===-1||dt===-1?null:{start:Q,end:dt}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:i,selectionRange:l},Ld=!1,zr=a;zr!==null;)if(a=zr,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,zr=i;else for(;zr!==null;){switch(a=zr,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,m=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var fe=qu(l.type,m);i=u.getSnapshotBeforeUpdate(fe,x),u.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){$n(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)ig(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,zr=i;break}zr=a.return}}function k2(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:vl(i,l),u&4&&Yh(5,l);break;case 1:if(vl(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(D){$n(l,l.return,D)}else{var m=qu(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){$n(l,l.return,D)}}u&64&&N2(l),u&512&&Wh(l,l.return);break;case 3:if(vl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Fi(i,a)}catch(D){$n(l,l.return,D)}}break;case 27:a===null&&u&4&&D2(l);case 26:case 5:vl(i,l),a===null&&u&4&&I2(l),u&512&&Wh(l,l.return);break;case 12:vl(i,l);break;case 31:vl(i,l),u&4&&P2(i,l);break;case 13:vl(i,l),u&4&&z2(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Lw.bind(null,l),Xw(i,l))));break;case 22:if(u=l.memoizedState!==null||ml,!u){a=a!==null&&a.memoizedState!==null||or,m=ml;var x=or;ml=u,(or=a)&&!x?bl(i,l,(l.subtreeFlags&8772)!==0):vl(i,l),ml=m,or=x}break;case 30:break;default:vl(i,l)}}function M2(i){var a=i.alternate;a!==null&&(i.alternate=null,M2(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&es(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ti=null,Ya=!1;function yl(i,a,l){for(l=l.child;l!==null;)O2(i,a,l),l=l.sibling}function O2(i,a,l){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:or||Oo(l,a),yl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:or||Oo(l,a);var u=Ti,m=Ya;iu(l.type)&&(Ti=l.stateNode,Ya=!1),yl(i,a,l),nf(l.stateNode),Ti=u,Ya=m;break;case 5:or||Oo(l,a);case 6:if(u=Ti,m=Ya,Ti=null,yl(i,a,l),Ti=u,Ya=m,Ti!==null)if(Ya)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(l.stateNode)}catch(x){$n(l,a,x)}else try{Ti.removeChild(l.stateNode)}catch(x){$n(l,a,x)}break;case 18:Ti!==null&&(Ya?(i=Ti,N5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Kc(i)):N5(Ti,l.stateNode));break;case 4:u=Ti,m=Ya,Ti=l.stateNode.containerInfo,Ya=!0,yl(i,a,l),Ti=u,Ya=m;break;case 0:case 11:case 14:case 15:Ql(2,l,a),or||Ql(4,l,a),yl(i,a,l);break;case 1:or||(Oo(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&R2(l,a,u)),yl(i,a,l);break;case 21:yl(i,a,l);break;case 22:or=(u=or)||l.memoizedState!==null,yl(i,a,l),or=u;break;default:yl(i,a,l)}}function P2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Kc(i)}catch(l){$n(a,a.return,l)}}}function z2(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kc(i)}catch(l){$n(a,a.return,l)}}function Sw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new j2),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new j2),a;default:throw Error(r(435,i.tag))}}function hd(i,a){var l=Sw(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=Dw.bind(null,i,u);u.then(m,m)}})}function Wa(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],x=i,D=a,Q=D;t:for(;Q!==null;){switch(Q.tag){case 27:if(iu(Q.type)){Ti=Q.stateNode,Ya=!1;break t}break;case 5:Ti=Q.stateNode,Ya=!1;break t;case 3:case 4:Ti=Q.stateNode.containerInfo,Ya=!0;break t}Q=Q.return}if(Ti===null)throw Error(r(160));O2(x,D,m),Ti=null,Ya=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)F2(a,i),a=a.sibling}var io=null;function F2(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wa(a,i),Ka(i),u&4&&(Ql(3,i,i.return),Yh(3,i),Ql(5,i,i.return));break;case 1:Wa(a,i),Ka(i),u&512&&(or||l===null||Oo(l,l.return)),u&64&&ml&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=io;if(Wa(a,i),Ka(i),u&512&&(or||l===null||Oo(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Rr]||x[kn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(u),m.head.insertBefore(x,m.querySelector("head > title"))),ta(x,u,l),x[kn]=i,fi(x),u=x;break t;case"link":var D=F5("link","href",m).get(u+(l.href||""));if(D){for(var Q=0;Q<D.length;Q++)if(x=D[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Q,1);break e}}x=m.createElement(u),ta(x,u,l),m.head.appendChild(x);break;case"meta":if(D=F5("meta","content",m).get(u+(l.content||""))){for(Q=0;Q<D.length;Q++)if(x=D[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Q,1);break e}}x=m.createElement(u),ta(x,u,l),m.head.appendChild(x);break;default:throw Error(r(468,u))}x[kn]=i,fi(x),u=x}i.stateNode=u}else B5(m,i.type,i.stateNode);else i.stateNode=z5(m,u,i.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?B5(m,i.type,i.stateNode):z5(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&R1(i,i.memoizedProps,l.memoizedProps)}break;case 27:Wa(a,i),Ka(i),u&512&&(or||l===null||Oo(l,l.return)),l!==null&&u&4&&R1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Wa(a,i),Ka(i),u&512&&(or||l===null||Oo(l,l.return)),i.flags&32){m=i.stateNode;try{Yi(m,"")}catch(fe){$n(i,i.return,fe)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,R1(i,m,l!==null?l.memoizedProps:m)),u&1024&&(D1=!0);break;case 6:if(Wa(a,i),Ka(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(fe){$n(i,i.return,fe)}}break;case 3:if(Cd=null,m=io,io=Ed(a.containerInfo),Wa(a,i),io=m,Ka(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(fe){$n(i,i.return,fe)}D1&&(D1=!1,B2(i));break;case 4:u=io,io=Ed(i.stateNode.containerInfo),Wa(a,i),Ka(i),io=u;break;case 12:Wa(a,i),Ka(i);break;case 31:Wa(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hd(i,u)));break;case 13:Wa(a,i),Ka(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dd=We()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hd(i,u)));break;case 22:m=i.memoizedState!==null;var dt=l!==null&&l.memoizedState!==null,Lt=ml,Bt=or;if(ml=Lt||m,or=Bt||dt,Wa(a,i),or=Bt,ml=Lt,Ka(i),u&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||dt||ml||or||Hu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){dt=l=a;try{if(x=dt.stateNode,m)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Q=dt.stateNode;var Ht=dt.memoizedProps.style,kt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Q.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(fe){$n(dt,dt.return,fe)}}}else if(a.tag===6){if(l===null){dt=a;try{dt.stateNode.nodeValue=m?"":dt.memoizedProps}catch(fe){$n(dt,dt.return,fe)}}}else if(a.tag===18){if(l===null){dt=a;try{var Mt=dt.stateNode;m?R5(Mt,!0):R5(dt.stateNode,!1)}catch(fe){$n(dt,dt.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,hd(i,l))));break;case 19:Wa(a,i),Ka(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hd(i,u)));break;case 30:break;case 21:break;default:Wa(a,i),Ka(i)}}function Ka(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(L2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,x=I1(i);cd(i,x,m);break;case 5:var D=l.stateNode;l.flags&32&&(Yi(D,""),l.flags&=-33);var Q=I1(i);cd(i,Q,D);break;case 3:case 4:var dt=l.stateNode.containerInfo,Lt=I1(i);L1(i,Lt,dt);break;default:throw Error(r(161))}}catch(Bt){$n(i,i.return,Bt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function B2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;B2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function vl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)k2(i,a.alternate,a),a=a.sibling}function Hu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ql(4,a,a.return),Hu(a);break;case 1:Oo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&R2(a,a.return,l),Hu(a);break;case 27:nf(a.stateNode);case 26:case 5:Oo(a,a.return),Hu(a);break;case 22:a.memoizedState===null&&Hu(a);break;case 30:Hu(a);break;default:Hu(a)}i=i.sibling}}function bl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=i,x=a,D=x.flags;switch(x.tag){case 0:case 11:case 15:bl(m,x,l),Yh(4,x);break;case 1:if(bl(m,x,l),u=x,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Lt){$n(u,u.return,Lt)}if(u=x,m=u.updateQueue,m!==null){var Q=u.stateNode;try{var dt=m.shared.hiddenCallbacks;if(dt!==null)for(m.shared.hiddenCallbacks=null,m=0;m<dt.length;m++)Or(dt[m],Q)}catch(Lt){$n(u,u.return,Lt)}}l&&D&64&&N2(x),Wh(x,x.return);break;case 27:D2(x);case 26:case 5:bl(m,x,l),l&&u===null&&D&4&&I2(x),Wh(x,x.return);break;case 12:bl(m,x,l);break;case 31:bl(m,x,l),l&&D&4&&P2(m,x);break;case 13:bl(m,x,l),l&&D&4&&z2(m,x);break;case 22:x.memoizedState===null&&bl(m,x,l),Wh(x,x.return);break;case 30:break;default:bl(m,x,l)}a=a.sibling}}function j1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Fu(l))}function k1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Fu(i))}function ro(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)U2(i,a,l,u),a=a.sibling}function U2(i,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ro(i,a,l,u),m&2048&&Yh(9,a);break;case 1:ro(i,a,l,u);break;case 3:ro(i,a,l,u),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Fu(i)));break;case 12:if(m&2048){ro(i,a,l,u),i=a.stateNode;try{var x=a.memoizedProps,D=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(dt){$n(a,a.return,dt)}}else ro(i,a,l,u);break;case 31:ro(i,a,l,u);break;case 13:ro(i,a,l,u);break;case 23:break;case 22:x=a.stateNode,D=a.alternate,a.memoizedState!==null?x._visibility&2?ro(i,a,l,u):Kh(i,a):x._visibility&2?ro(i,a,l,u):(x._visibility|=2,Pc(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&j1(D,a);break;case 24:ro(i,a,l,u),m&2048&&k1(a.alternate,a);break;default:ro(i,a,l,u)}}function Pc(i,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,D=a,Q=l,dt=u,Lt=D.flags;switch(D.tag){case 0:case 11:case 15:Pc(x,D,Q,dt,m),Yh(8,D);break;case 23:break;case 22:var Bt=D.stateNode;D.memoizedState!==null?Bt._visibility&2?Pc(x,D,Q,dt,m):Kh(x,D):(Bt._visibility|=2,Pc(x,D,Q,dt,m)),m&&Lt&2048&&j1(D.alternate,D);break;case 24:Pc(x,D,Q,dt,m),m&&Lt&2048&&k1(D.alternate,D);break;default:Pc(x,D,Q,dt,m)}a=a.sibling}}function Kh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,m=u.flags;switch(u.tag){case 22:Kh(l,u),m&2048&&j1(u.alternate,u);break;case 24:Kh(l,u),m&2048&&k1(u.alternate,u);break;default:Kh(l,u)}a=a.sibling}}var $h=8192;function zc(i,a,l){if(i.subtreeFlags&$h)for(i=i.child;i!==null;)V2(i,a,l),i=i.sibling}function V2(i,a,l){switch(i.tag){case 26:zc(i,a,l),i.flags&$h&&i.memoizedState!==null&&u3(l,io,i.memoizedState,i.memoizedProps);break;case 5:zc(i,a,l);break;case 3:case 4:var u=io;io=Ed(i.stateNode.containerInfo),zc(i,a,l),io=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=$h,$h=16777216,zc(i,a,l),$h=u):zc(i,a,l));break;default:zc(i,a,l)}}function q2(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Qh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];zr=u,G2(u,i)}q2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H2(i),i=i.sibling}function H2(i){switch(i.tag){case 0:case 11:case 15:Qh(i),i.flags&2048&&Ql(9,i,i.return);break;case 3:Qh(i);break;case 12:Qh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,fd(i)):Qh(i);break;default:Qh(i)}}function fd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];zr=u,G2(u,i)}q2(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ql(8,a,a.return),fd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,fd(a));break;default:fd(a)}i=i.sibling}}function G2(i,a){for(;zr!==null;){var l=zr;switch(l.tag){case 0:case 11:case 15:Ql(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,zr=u;else t:for(l=i;zr!==null;){u=zr;var m=u.sibling,x=u.return;if(M2(u),u===l){zr=null;break t}if(m!==null){m.return=x,zr=m;break t}zr=x}}}var Aw={getCacheForType:function(i){var a=wr(Di),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return wr(Di).controller.signal}},Ew=typeof WeakMap=="function"?WeakMap:Map,Un=0,li=null,mn=null,bn=0,Kn=0,hs=null,Xl=!1,Fc=!1,M1=!1,xl=0,qi=0,Zl=0,Gu=0,O1=0,fs=0,Bc=0,Xh=null,$a=null,P1=!1,dd=0,Y2=0,pd=1/0,gd=null,Jl=null,Ar=0,tu=null,Uc=null,_l=0,z1=0,F1=null,W2=null,Zh=0,B1=null;function ds(){return(Un&2)!==0&&bn!==0?bn&-bn:st.T!==null?Y1():Mi()}function K2(){if(fs===0)if((bn&536870912)===0||gn){var i=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),fs=i}else fs=536870912;return i=gi.current,i!==null&&(i.flags|=32),fs}function Qa(i,a,l){(i===li&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(Vc(i,0),eu(i,bn,fs,!1)),Ae(i,l),((Un&2)===0||i!==li)&&(i===li&&((Un&2)===0&&(Gu|=l),qi===4&&eu(i,bn,fs,!1)),Po(i))}function $2(i,a,l){if((Un&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||fr(i,a),m=u?Nw(i,a):V1(i,a,!0),x=u;do{if(m===0){Fc&&!u&&eu(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!Tw(l)){m=V1(i,a,!1),x=!1;continue}if(m===2){if(x=a,i.errorRecoveryDisabledLanes&x)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;t:{var Q=i;m=Xh;var dt=Q.current.memoizedState.isDehydrated;if(dt&&(Vc(Q,D).flags|=256),D=V1(Q,D,!1),D!==2){if(M1&&!dt){Q.errorRecoveryDisabledLanes|=x,Gu|=x,m=4;break t}x=$a,$a=m,x!==null&&($a===null?$a=x:$a.push.apply($a,x))}m=D}if(x=!1,m!==2)continue}}if(m===1){Vc(i,0),eu(i,a,0,!0);break}t:{switch(u=i,x=m,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:eu(u,a,fs,!Xl);break t;case 2:$a=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=dd+300-We(),10<m)){if(eu(u,a,fs,!Xl),sn(u,0,!0)!==0)break t;_l=a,u.timeoutHandle=T5(Q2.bind(null,u,l,$a,gd,P1,a,fs,Gu,Bc,Xl,x,"Throttled",-0,0),m);break t}Q2(u,l,$a,gd,P1,a,fs,Gu,Bc,Xl,x,null,-0,0)}}break}while(!0);Po(i)}function Q2(i,a,l,u,m,x,D,Q,dt,Lt,Bt,Ht,kt,Mt){if(i.timeoutHandle=-1,Ht=a.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},V2(a,x,Ht);var fe=(x&62914560)===x?dd-We():(x&4194048)===x?Y2-We():0;if(fe=c3(Ht,fe),fe!==null){_l=x,i.cancelPendingCommit=fe(r5.bind(null,i,a,x,l,u,m,D,Q,dt,Bt,Ht,null,kt,Mt)),eu(i,x,D,!Lt);return}}r5(i,a,x,l,u,m,D,Q,dt)}function Tw(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],x=m.getSnapshot;m=m.value;try{if(!vr(x(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eu(i,a,l,u){a&=~O1,a&=~Gu,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var m=a;0<m;){var x=31-Ke(m),D=1<<x;u[x]=-1,m&=~D}l!==0&&Ur(i,l,a)}function md(){return(Un&6)===0?(Jh(0),!1):!0}function U1(){if(mn!==null){if(Kn===0)var i=mn.return;else i=mn,Ls=No=null,Ic(i),Yt=null,pe=0,i=mn;for(;i!==null;)C2(i.alternate,i),i=i.return;mn=null}}function Vc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Yw(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_l=0,U1(),li=i,mn=l=za(i.current,null),bn=a,Kn=0,hs=null,Xl=!1,Fc=fr(i,a),M1=!1,Bc=fs=O1=Gu=Zl=qi=0,$a=Xh=null,P1=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var m=31-Ke(u),x=1<<m;a|=i[m],u&=~x}return xl=a,ju(),l}function X2(i,a){Ie=null,st.H=qh,a===mt||a===ot?(a=Ut(),Kn=3):a===Rt?(a=Ut(),Kn=4):Kn=a===b1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hs=a,mn===null&&(qi=1,ad(i,Fa(a,i.current)))}function Z2(){var i=gi.current;return i===null?!0:(bn&4194048)===bn?Tn===null:(bn&62914560)===bn||(bn&536870912)!==0?i===Tn:!1}function J2(){var i=st.H;return st.H=qh,i===null?qh:i}function t5(){var i=st.A;return st.A=Aw,i}function yd(){qi=4,Xl||(bn&4194048)!==bn&&gi.current!==null||(Fc=!0),(Zl&134217727)===0&&(Gu&134217727)===0||li===null||eu(li,bn,fs,!1)}function V1(i,a,l){var u=Un;Un|=2;var m=J2(),x=t5();(li!==i||bn!==a)&&(gd=null,Vc(i,a)),a=!1;var D=qi;t:do try{if(Kn!==0&&mn!==null){var Q=mn,dt=hs;switch(Kn){case 8:U1(),D=6;break t;case 3:case 2:case 9:case 6:gi.current===null&&(a=!0);var Lt=Kn;if(Kn=0,hs=null,qc(i,Q,dt,Lt),l&&Fc){D=0;break t}break;default:Lt=Kn,Kn=0,hs=null,qc(i,Q,dt,Lt)}}Cw(),D=qi;break}catch(Bt){X2(i,Bt)}while(!0);return a&&i.shellSuspendCounter++,Ls=No=null,Un=u,st.H=m,st.A=x,mn===null&&(li=null,bn=0,ju()),D}function Cw(){for(;mn!==null;)e5(mn)}function Nw(i,a){var l=Un;Un|=2;var u=J2(),m=t5();li!==i||bn!==a?(gd=null,pd=We()+500,Vc(i,a)):Fc=fr(i,a);t:do try{if(Kn!==0&&mn!==null){a=mn;var x=hs;e:switch(Kn){case 1:Kn=0,hs=null,qc(i,a,x,1);break;case 2:case 9:if(Et(x)){Kn=0,hs=null,n5(a);break}a=function(){Kn!==2&&Kn!==9||li!==i||(Kn=7),Po(i)},x.then(a,a);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:Et(x)?(Kn=0,hs=null,n5(a)):(Kn=0,hs=null,qc(i,a,x,7));break;case 5:var D=null;switch(mn.tag){case 26:D=mn.memoizedState;case 5:case 27:var Q=mn;if(D?U5(D):Q.stateNode.complete){Kn=0,hs=null;var dt=Q.sibling;if(dt!==null)mn=dt;else{var Lt=Q.return;Lt!==null?(mn=Lt,vd(Lt)):mn=null}break e}}Kn=0,hs=null,qc(i,a,x,5);break;case 6:Kn=0,hs=null,qc(i,a,x,6);break;case 8:U1(),qi=6;break t;default:throw Error(r(462))}}Rw();break}catch(Bt){X2(i,Bt)}while(!0);return Ls=No=null,st.H=u,st.A=m,Un=l,mn!==null?0:(li=null,bn=0,ju(),qi)}function Rw(){for(;mn!==null&&!Ne();)e5(mn)}function e5(i){var a=E2(i.alternate,i,xl);i.memoizedProps=i.pendingProps,a===null?vd(i):mn=a}function n5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=b2(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=b2(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:Ic(a);default:C2(l,a),a=mn=Ou(a,xl),a=E2(l,a,xl)}i.memoizedProps=i.pendingProps,a===null?vd(i):mn=a}function qc(i,a,l,u){Ls=No=null,Ic(a),Yt=null,pe=0;var m=a.return;try{if(yw(i,m,a,l,bn)){qi=1,ad(i,Fa(l,i.current)),mn=null;return}}catch(x){if(m!==null)throw mn=m,x;qi=1,ad(i,Fa(l,i.current)),mn=null;return}a.flags&32768?(gn||u===1?i=!0:Fc||(bn&536870912)!==0?i=!1:(Xl=i=!0,(u===2||u===9||u===3||u===6)&&(u=gi.current,u!==null&&u.tag===13&&(u.flags|=16384))),i5(a,i)):vd(a)}function vd(i){var a=i;do{if((a.flags&32768)!==0){i5(a,Xl);return}i=a.return;var l=xw(a.alternate,a,xl);if(l!==null){mn=l;return}if(a=a.sibling,a!==null){mn=a;return}mn=a=i}while(a!==null);qi===0&&(qi=5)}function i5(i,a){do{var l=_w(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);qi=6,mn=null}function r5(i,a,l,u,m,x,D,Q,dt){i.cancelPendingCommit=null;do bd();while(Ar!==0);if((Un&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=mc,ts(i,l,x,D,Q,dt),i===li&&(mn=li=null,bn=0),Uc=a,tu=i,_l=l,z1=x,F1=m,W2=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jw($e,function(){return u5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=st.T,st.T=null,m=ft.p,ft.p=2,D=Un,Un|=4;try{ww(i,a,l)}finally{Un=D,ft.p=m,st.T=u}}Ar=1,a5(),s5(),o5()}}function a5(){if(Ar===1){Ar=0;var i=tu,a=Uc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var u=ft.p;ft.p=2;var m=Un;Un|=4;try{F2(a,i);var x=tg,D=$s(i.containerInfo),Q=x.focusedElem,dt=x.selectionRange;if(D!==Q&&Q&&Q.ownerDocument&&Ks(Q.ownerDocument.documentElement,Q)){if(dt!==null&&Rs(Q)){var Lt=dt.start,Bt=dt.end;if(Bt===void 0&&(Bt=Lt),"selectionStart"in Q)Q.selectionStart=Lt,Q.selectionEnd=Math.min(Bt,Q.value.length);else{var Ht=Q.ownerDocument||document,kt=Ht&&Ht.defaultView||window;if(kt.getSelection){var Mt=kt.getSelection(),fe=Q.textContent.length,Fe=Math.min(dt.start,fe),ri=dt.end===void 0?Fe:Math.min(dt.end,fe);!Mt.extend&&Fe>ri&&(D=ri,ri=Fe,Fe=D);var St=Fl(Q,Fe),vt=Fl(Q,ri);if(St&&vt&&(Mt.rangeCount!==1||Mt.anchorNode!==St.node||Mt.anchorOffset!==St.offset||Mt.focusNode!==vt.node||Mt.focusOffset!==vt.offset)){var It=Ht.createRange();It.setStart(St.node,St.offset),Mt.removeAllRanges(),Fe>ri?(Mt.addRange(It),Mt.extend(vt.node,vt.offset)):(It.setEnd(vt.node,vt.offset),Mt.addRange(It))}}}}for(Ht=[],Mt=Q;Mt=Mt.parentNode;)Mt.nodeType===1&&Ht.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ht.length;Q++){var qt=Ht[Q];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Ld=!!J1,tg=J1=null}finally{Un=m,ft.p=u,st.T=l}}i.current=a,Ar=2}}function s5(){if(Ar===2){Ar=0;var i=tu,a=Uc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var u=ft.p;ft.p=2;var m=Un;Un|=4;try{k2(i,a.alternate,a)}finally{Un=m,ft.p=u,st.T=l}}Ar=3}}function o5(){if(Ar===4||Ar===3){Ar=0,_e();var i=tu,a=Uc,l=_l,u=W2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ar=5:(Ar=0,Uc=tu=null,l5(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Jl=null),Xn(l),a=a.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Qe,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=st.T,m=ft.p,ft.p=2,st.T=null;try{for(var x=i.onRecoverableError,D=0;D<u.length;D++){var Q=u[D];x(Q.value,{componentStack:Q.stack})}}finally{st.T=a,ft.p=m}}(_l&3)!==0&&bd(),Po(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===B1?Zh++:(Zh=0,B1=i):Zh=0,Jh(0)}}function l5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Fu(a)))}function bd(){return a5(),s5(),o5(),u5()}function u5(){if(Ar!==5)return!1;var i=tu,a=z1;z1=0;var l=Xn(_l),u=st.T,m=ft.p;try{ft.p=32>l?32:l,st.T=null,l=F1,F1=null;var x=tu,D=_l;if(Ar=0,Uc=tu=null,_l=0,(Un&6)!==0)throw Error(r(331));var Q=Un;if(Un|=4,H2(x.current),U2(x,x.current,D,l),Un=Q,Jh(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Qe,x)}catch{}return!0}finally{ft.p=m,st.T=u,l5(i,a)}}function c5(i,a,l){a=Fa(l,a),a=v1(i.stateNode,a,2),i=rn(i,a,2),i!==null&&(Ae(i,2),Po(i))}function $n(i,a,l){if(i.tag===3)c5(i,i,l);else for(;a!==null;){if(a.tag===3){c5(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jl===null||!Jl.has(u))){i=Fa(l,i),l=h2(2),u=rn(a,l,2),u!==null&&(f2(l,u,a,i),Ae(u,2),Po(u));break}}a=a.return}}function q1(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new Ew;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(M1=!0,m.add(l),i=Iw.bind(null,i,a,l),a.then(i,i))}function Iw(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,li===i&&(bn&l)===l&&(qi===4||qi===3&&(bn&62914560)===bn&&300>We()-dd?(Un&2)===0&&Vc(i,0):O1|=l,Bc===bn&&(Bc=0)),Po(i)}function h5(i,a){a===0&&(a=Ia()),i=Xs(i,a),i!==null&&(Ae(i,a),Po(i))}function Lw(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),h5(i,l)}function Dw(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),h5(i,l)}function jw(i,a){return re(i,a)}var xd=null,Hc=null,H1=!1,_d=!1,G1=!1,nu=0;function Po(i){i!==Hc&&i.next===null&&(Hc===null?xd=Hc=i:Hc=Hc.next=i),_d=!0,H1||(H1=!0,Mw())}function Jh(i,a){if(!G1&&_d){G1=!0;do for(var l=!1,u=xd;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var x=0;else{var D=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-Ke(42|i)+1)-1,x&=m&~(D&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,g5(u,x))}else x=bn,x=sn(u,u===li?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||fr(u,x)||(l=!0,g5(u,x));u=u.next}while(l);G1=!1}}function kw(){f5()}function f5(){_d=H1=!1;var i=0;nu!==0&&Gw()&&(i=nu);for(var a=We(),l=null,u=xd;u!==null;){var m=u.next,x=d5(u,a);x===0?(u.next=null,l===null?xd=m:l.next=m,m===null&&(Hc=l)):(l=u,(i!==0||(x&3)!==0)&&(_d=!0)),u=m}Ar!==0&&Ar!==5||Jh(i),nu!==0&&(nu=0)}function d5(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var D=31-Ke(x),Q=1<<D,dt=m[D];dt===-1?((Q&l)===0||(Q&u)!==0)&&(m[D]=tr(Q,a)):dt<=a&&(i.expiredLanes|=Q),x&=~Q}if(a=li,l=bn,l=sn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ie(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&ie(u),Xn(l)){case 2:case 8:l=an;break;case 32:l=$e;break;case 268435456:l=qe;break;default:l=$e}return u=p5.bind(null,i),l=re(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&ie(u),i.callbackPriority=2,i.callbackNode=null,2}function p5(i,a){if(Ar!==0&&Ar!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(bd()&&i.callbackNode!==l)return null;var u=bn;return u=sn(i,i===li?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:($2(i,u,a),d5(i,We()),i.callbackNode!=null&&i.callbackNode===l?p5.bind(null,i):null)}function g5(i,a){if(bd())return null;$2(i,a,!0)}function Mw(){Ww(function(){(Un&6)!==0?re(Be,kw):f5()})}function Y1(){if(nu===0){var i=p;i===0&&(i=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),nu=i}return nu}function m5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lr(""+i)}function y5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Ow(i,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var x=m5((m[Gn]||null).action),D=u.submitter;D&&(a=(a=D[Gn]||null)?m5(a.formAction):D.getAttribute("formAction"),a!==null&&(x=a,D=null));var Q=new ir("action","action",null,u,m);i.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(nu!==0){var dt=D?y5(m,D):new FormData(m);f1(l,{pending:!0,data:dt,method:m.method,action:x},null,dt)}}else typeof x=="function"&&(Q.preventDefault(),dt=D?y5(m,D):new FormData(m),f1(l,{pending:!0,data:dt,method:m.method,action:x},x,dt))},currentTarget:m}]})}}for(var W1=0;W1<sl.length;W1++){var K1=sl[W1],Pw=K1.toLowerCase(),zw=K1[0].toUpperCase()+K1.slice(1);Pa(Pw,"on"+zw)}Pa(al,"onAnimationEnd"),Pa(Lu,"onAnimationIteration"),Pa(Nh,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Yf,"onTransitionRun"),Pa(Wf,"onTransitionStart"),Pa(Kf,"onTransitionCancel"),Pa(Rh,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tf));function v5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;t:{var x=void 0;if(a)for(var D=u.length-1;0<=D;D--){var Q=u[D],dt=Q.instance,Lt=Q.currentTarget;if(Q=Q.listener,dt!==x&&m.isPropagationStopped())break t;x=Q,m.currentTarget=Lt;try{x(m)}catch(Bt){Du(Bt)}m.currentTarget=null,x=dt}else for(D=0;D<u.length;D++){if(Q=u[D],dt=Q.instance,Lt=Q.currentTarget,Q=Q.listener,dt!==x&&m.isPropagationStopped())break t;x=Q,m.currentTarget=Lt;try{x(m)}catch(Bt){Du(Bt)}m.currentTarget=null,x=dt}}}}function yn(i,a){var l=a[Nr];l===void 0&&(l=a[Nr]=new Set);var u=i+"__bubble";l.has(u)||(b5(a,i,2,!1),l.add(u))}function $1(i,a,l){var u=0;a&&(u|=4),b5(l,i,u,a)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Q1(i){if(!i[wd]){i[wd]=!0,mo.forEach(function(l){l!=="selectionchange"&&(Fw.has(l)||$1(l,!1,i),$1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[wd]||(a[wd]=!0,$1("selectionchange",!1,a))}}function b5(i,a,l,u){switch(K5(a)){case 2:var m=d3;break;case 8:m=p3;break;default:m=hg}l=m.bind(null,a,l,i),m=void 0,!Us||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function X1(i,a,l,u,m){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var D=u.tag;if(D===3||D===4){var Q=u.stateNode.containerInfo;if(Q===m)break;if(D===4)for(D=u.return;D!==null;){var dt=D.tag;if((dt===3||dt===4)&&D.stateNode.containerInfo===m)return;D=D.return}for(;Q!==null;){if(D=Vr(Q),D===null)return;if(dt=D.tag,dt===5||dt===6||dt===26||dt===27){u=x=D;continue t}Q=Q.parentNode}}u=u.return}_s(function(){var Lt=x,Bt=Dr(l),Ht=[];t:{var kt=Ih.get(i);if(kt!==void 0){var Mt=ir,fe=i;switch(i){case"keypress":if(Yr(l)===0)break t;case"keydown":case"keyup":Mt=fn;break;case"focusin":fe="focus",Mt=Aa;break;case"focusout":fe="blur",Mt=Aa;break;case"beforeblur":case"afterblur":Mt=Aa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=N;break;case al:case Lu:case Nh:Mt=S;break;case Rh:Mt=J;break;case"scroll":case"scrollend":Mt=ws;break;case"wheel":Mt=jt;break;case"copy":case"cut":case"paste":Mt=lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=qn;break;case"toggle":case"beforetoggle":Mt=Ve}var Fe=(a&4)!==0,ri=!Fe&&(i==="scroll"||i==="scrollend"),St=Fe?kt!==null?kt+"Capture":null:kt;Fe=[];for(var vt=Lt,It;vt!==null;){var qt=vt;if(It=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||It===null||St===null||(qt=Wi(vt,St),qt!=null&&Fe.push(ef(vt,qt,It))),ri)break;vt=vt.return}0<Fe.length&&(kt=new Mt(kt,fe,null,l,Bt),Ht.push({event:kt,listeners:Fe}))}}if((a&7)===0){t:{if(kt=i==="mouseover"||i==="pointerover",Mt=i==="mouseout"||i==="pointerout",kt&&l!==as&&(fe=l.relatedTarget||l.fromElement)&&(Vr(fe)||fe[Oi]))break t;if((Mt||kt)&&(kt=Bt.window===Bt?Bt:(kt=Bt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Mt?(fe=l.relatedTarget||l.toElement,Mt=Lt,fe=fe?Vr(fe):null,fe!==null&&(ri=o(fe),Fe=fe.tag,fe!==ri||Fe!==5&&Fe!==27&&Fe!==6)&&(fe=null)):(Mt=null,fe=Lt),Mt!==fe)){if(Fe=wo,qt="onMouseLeave",St="onMouseEnter",vt="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=qn,qt="onPointerLeave",St="onPointerEnter",vt="pointer"),ri=Mt==null?kt:qr(Mt),It=fe==null?kt:qr(fe),kt=new Fe(qt,vt+"leave",Mt,l,Bt),kt.target=ri,kt.relatedTarget=It,qt=null,Vr(Bt)===Lt&&(Fe=new Fe(St,vt+"enter",fe,l,Bt),Fe.target=It,Fe.relatedTarget=ri,qt=Fe),ri=qt,Mt&&fe)e:{for(Fe=Bw,St=Mt,vt=fe,It=0,qt=St;qt;qt=Fe(qt))It++;qt=0;for(var je=vt;je;je=Fe(je))qt++;for(;0<It-qt;)St=Fe(St),It--;for(;0<qt-It;)vt=Fe(vt),qt--;for(;It--;){if(St===vt||vt!==null&&St===vt.alternate){Fe=St;break e}St=Fe(St),vt=Fe(vt)}Fe=null}else Fe=null;Mt!==null&&x5(Ht,kt,Mt,Fe,!1),fe!==null&&ri!==null&&x5(Ht,ri,fe,Fe,!0)}}t:{if(kt=Lt?qr(Lt):window,Mt=kt.nodeName&&kt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&kt.type==="file")var Pn=Ao;else if(Ru(kt))if(ua)Pn=Cs;else{Pn=Ii;var xe=Pl}else Mt=kt.nodeName,!Mt||Mt.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?Lt&&bo(Lt.elementType)&&(Pn=Ao):Pn=gc;if(Pn&&(Pn=Pn(i,Lt))){Ta(Ht,Pn,l,Bt);break t}xe&&xe(i,kt,Lt),i==="focusout"&&Lt&&kt.type==="number"&&Lt.memoizedProps.value!=null&&Zo(kt,"number",kt.value)}switch(xe=Lt?qr(Lt):window,i){case"focusin":(Ru(xe)||xe.contentEditable==="true")&&(Ca=xe,Qs=Lt,jr=null);break;case"focusout":jr=Qs=Ca=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Ln(Ht,l,Bt);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Ln(Ht,l,Bt)}var on;if(ln)t:{switch(i){case"compositionstart":var xn="onCompositionStart";break t;case"compositionend":xn="onCompositionEnd";break t;case"compositionupdate":xn="onCompositionUpdate";break t}xn=void 0}else As?Ea(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(mr&&l.locale!=="ko"&&(As||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&As&&(on=nl()):(Gr=Bt,Vs="value"in Gr?Gr.value:Gr.textContent,As=!0)),xe=Sd(Lt,xn),0<xe.length&&(xn=new wt(xn,i,null,l,Bt),Ht.push({event:xn,listeners:xe}),on?xn.data=on:(on=Ss(l),on!==null&&(xn.data=on)))),(on=rr?$r(i,l):Hs(i,l))&&(xn=Sd(Lt,"onBeforeInput"),0<xn.length&&(xe=new wt("onBeforeInput","beforeinput",null,l,Bt),Ht.push({event:xe,listeners:xn}),xe.data=on)),Ow(Ht,i,Lt,l,Bt)}v5(Ht,a)})}function ef(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Sd(i,a){for(var l=a+"Capture",u=[];i!==null;){var m=i,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Wi(i,l),m!=null&&u.unshift(ef(i,m,x)),m=Wi(i,a),m!=null&&u.push(ef(i,m,x))),i.tag===3)return u;i=i.return}return[]}function Bw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function x5(i,a,l,u,m){for(var x=a._reactName,D=[];l!==null&&l!==u;){var Q=l,dt=Q.alternate,Lt=Q.stateNode;if(Q=Q.tag,dt!==null&&dt===u)break;Q!==5&&Q!==26&&Q!==27||Lt===null||(dt=Lt,m?(Lt=Wi(l,x),Lt!=null&&D.unshift(ef(l,Lt,dt))):m||(Lt=Wi(l,x),Lt!=null&&D.push(ef(l,Lt,dt)))),l=l.return}D.length!==0&&i.push({event:a,listeners:D})}var Uw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function _5(i){return(typeof i=="string"?i:""+i).replace(Uw,`
`).replace(Vw,"")}function w5(i,a){return a=_5(a),_5(i)===a}function ii(i,a,l,u,m,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yi(i,""+u);break;case"className":nr(i,"class",u);break;case"tabIndex":nr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(i,l,u);break;case"style":el(i,u,x);break;case"data":if(a!=="object"){nr(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ii(i,a,"name",m.name,m,null),ii(i,a,"formEncType",m.formEncType,m,null),ii(i,a,"formMethod",m.formMethod,m,null),ii(i,a,"formTarget",m.formTarget,m,null)):(ii(i,a,"encType",m.encType,m,null),ii(i,a,"method",m.method,m,null),ii(i,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Lr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=wa);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Lr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":yn("beforetoggle",i),yn("toggle",i),Hr(i,"popover",u);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xo.get(l)||l,Hr(i,l,u))}}function Z1(i,a,l,u,m,x){switch(l){case"style":el(i,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Yi(i,u):(typeof u=="number"||typeof u=="bigint")&&Yi(i,""+u);break;case"onScroll":u!=null&&yn("scroll",i);break;case"onScrollEnd":u!=null&&yn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ir.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),x=i[Gn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,m),typeof u=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,m);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Hr(i,l,u)}}}function ta(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",i),yn("load",i);var u=!1,m=!1,x;for(x in l)if(l.hasOwnProperty(x)){var D=l[x];if(D!=null)switch(x){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ii(i,a,x,D,l,null)}}m&&ii(i,a,"srcSet",l.srcSet,l,null),u&&ii(i,a,"src",l.src,l,null);return;case"input":yn("invalid",i);var Q=x=D=m=null,dt=null,Lt=null;for(u in l)if(l.hasOwnProperty(u)){var Bt=l[u];if(Bt!=null)switch(u){case"name":m=Bt;break;case"type":D=Bt;break;case"checked":dt=Bt;break;case"defaultChecked":Lt=Bt;break;case"value":x=Bt;break;case"defaultValue":Q=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,a));break;default:ii(i,a,u,Bt,l,null)}}kl(i,x,Q,dt,Lt,D,m,!1);return;case"select":yn("invalid",i),u=D=x=null;for(m in l)if(l.hasOwnProperty(m)&&(Q=l[m],Q!=null))switch(m){case"value":x=Q;break;case"defaultValue":D=Q;break;case"multiple":u=Q;default:ii(i,a,m,Q,l,null)}a=x,l=D,i.multiple=!!u,a!=null?gr(i,!!u,a,!1):l!=null&&gr(i,!!u,l,!0);return;case"textarea":yn("invalid",i),x=m=u=null;for(D in l)if(l.hasOwnProperty(D)&&(Q=l[D],Q!=null))switch(D){case"value":u=Q;break;case"defaultValue":m=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:ii(i,a,D,Q,l,null)}is(i,u,m,x);return;case"option":for(dt in l)l.hasOwnProperty(dt)&&(u=l[dt],u!=null)&&(dt==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ii(i,a,dt,u,l,null));return;case"dialog":yn("beforetoggle",i),yn("toggle",i),yn("cancel",i),yn("close",i);break;case"iframe":case"object":yn("load",i);break;case"video":case"audio":for(u=0;u<tf.length;u++)yn(tf[u],i);break;case"image":yn("error",i),yn("load",i);break;case"details":yn("toggle",i);break;case"embed":case"source":case"link":yn("error",i),yn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Lt in l)if(l.hasOwnProperty(Lt)&&(u=l[Lt],u!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ii(i,a,Lt,u,l,null)}return;default:if(bo(a)){for(Bt in l)l.hasOwnProperty(Bt)&&(u=l[Bt],u!==void 0&&Z1(i,a,Bt,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&ii(i,a,Q,u,l,null))}function qw(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,D=null,Q=null,dt=null,Lt=null,Bt=null;for(Mt in l){var Ht=l[Mt];if(l.hasOwnProperty(Mt)&&Ht!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":dt=Ht;default:u.hasOwnProperty(Mt)||ii(i,a,Mt,null,u,Ht)}}for(var kt in u){var Mt=u[kt];if(Ht=l[kt],u.hasOwnProperty(kt)&&(Mt!=null||Ht!=null))switch(kt){case"type":x=Mt;break;case"name":m=Mt;break;case"checked":Lt=Mt;break;case"defaultChecked":Bt=Mt;break;case"value":D=Mt;break;case"defaultValue":Q=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(r(137,a));break;default:Mt!==Ht&&ii(i,a,kt,Mt,u,Ht)}}Fs(i,D,Q,dt,Lt,Bt,x,m);return;case"select":Mt=D=Q=kt=null;for(x in l)if(dt=l[x],l.hasOwnProperty(x)&&dt!=null)switch(x){case"value":break;case"multiple":Mt=dt;default:u.hasOwnProperty(x)||ii(i,a,x,null,u,dt)}for(m in u)if(x=u[m],dt=l[m],u.hasOwnProperty(m)&&(x!=null||dt!=null))switch(m){case"value":kt=x;break;case"defaultValue":Q=x;break;case"multiple":D=x;default:x!==dt&&ii(i,a,m,x,u,dt)}a=Q,l=D,u=Mt,kt!=null?gr(i,!!l,kt,!1):!!u!=!!l&&(a!=null?gr(i,!!l,a,!0):gr(i,!!l,l?[]:"",!1));return;case"textarea":Mt=kt=null;for(Q in l)if(m=l[Q],l.hasOwnProperty(Q)&&m!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ii(i,a,Q,null,u,m)}for(D in u)if(m=u[D],x=l[D],u.hasOwnProperty(D)&&(m!=null||x!=null))switch(D){case"value":kt=m;break;case"defaultValue":Mt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==x&&ii(i,a,D,m,u,x)}Jo(i,kt,Mt);return;case"option":for(var fe in l)kt=l[fe],l.hasOwnProperty(fe)&&kt!=null&&!u.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:ii(i,a,fe,null,u,kt));for(dt in u)kt=u[dt],Mt=l[dt],u.hasOwnProperty(dt)&&kt!==Mt&&(kt!=null||Mt!=null)&&(dt==="selected"?i.selected=kt&&typeof kt!="function"&&typeof kt!="symbol":ii(i,a,dt,kt,u,Mt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)kt=l[Fe],l.hasOwnProperty(Fe)&&kt!=null&&!u.hasOwnProperty(Fe)&&ii(i,a,Fe,null,u,kt);for(Lt in u)if(kt=u[Lt],Mt=l[Lt],u.hasOwnProperty(Lt)&&kt!==Mt&&(kt!=null||Mt!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(r(137,a));break;default:ii(i,a,Lt,kt,u,Mt)}return;default:if(bo(a)){for(var ri in l)kt=l[ri],l.hasOwnProperty(ri)&&kt!==void 0&&!u.hasOwnProperty(ri)&&Z1(i,a,ri,void 0,u,kt);for(Bt in u)kt=u[Bt],Mt=l[Bt],!u.hasOwnProperty(Bt)||kt===Mt||kt===void 0&&Mt===void 0||Z1(i,a,Bt,kt,u,Mt);return}}for(var St in l)kt=l[St],l.hasOwnProperty(St)&&kt!=null&&!u.hasOwnProperty(St)&&ii(i,a,St,null,u,kt);for(Ht in u)kt=u[Ht],Mt=l[Ht],!u.hasOwnProperty(Ht)||kt===Mt||kt==null&&Mt==null||ii(i,a,Ht,kt,u,Mt)}function S5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],x=m.transferSize,D=m.initiatorType,Q=m.duration;if(x&&Q&&S5(D)){for(D=0,Q=m.responseEnd,u+=1;u<l.length;u++){var dt=l[u],Lt=dt.startTime;if(Lt>Q)break;var Bt=dt.transferSize,Ht=dt.initiatorType;Bt&&S5(Ht)&&(dt=dt.responseEnd,D+=Bt*(dt<Q?1:(Q-Lt)/(dt-Lt)))}if(--u,a+=8*(x+D)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var J1=null,tg=null;function Ad(i){return i.nodeType===9?i:i.ownerDocument}function A5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function eg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ng=null;function Gw(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var T5=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,C5=typeof Promise=="function"?Promise:void 0,Ww=typeof queueMicrotask=="function"?queueMicrotask:typeof C5<"u"?function(i){return C5.resolve(null).then(i).catch(Kw)}:T5;function Kw(i){setTimeout(function(){throw i})}function iu(i){return i==="head"}function N5(i,a){var l=a,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(m),Kc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")nf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,nf(l);for(var x=l.firstChild;x;){var D=x.nextSibling,Q=x.nodeName;x[Rr]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=D}}else l==="body"&&nf(i.ownerDocument.body);l=m}while(l);Kc(a)}function R5(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function ig(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ig(l),es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $w(i,a,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Rr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=ks(i.nextSibling),i===null)break}return null}function Qw(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ks(i.nextSibling),i===null))return null;return i}function I5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ks(i.nextSibling),i===null))return null;return i}function rg(i){return i.data==="$?"||i.data==="$~"}function ag(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Xw(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ks(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var sg=null;function L5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return ks(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function D5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function j5(i,a,l){switch(a=Ad(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);es(i)}var Ms=new Map,k5=new Set;function Ed(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var wl=ft.d;ft.d={f:Zw,r:Jw,D:t3,C:e3,L:n3,m:i3,X:a3,S:r3,M:s3};function Zw(){var i=wl.f(),a=md();return i||a}function Jw(i){var a=pr(i);a!==null&&a.tag===5&&a.type==="form"?Xm(a):wl.r(i)}var Gc=typeof document>"u"?null:document;function M5(i,a,l){var u=Gc;if(u&&typeof a=="string"&&a){var m=wi(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),k5.has(m)||(k5.add(m),i={rel:i,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),ta(a,"link",i),fi(a),u.head.appendChild(a)))}}function t3(i){wl.D(i),M5("dns-prefetch",i,null)}function e3(i,a){wl.C(i,a),M5("preconnect",i,a)}function n3(i,a,l){wl.L(i,a,l);var u=Gc;if(u&&i&&a){var m='link[rel="preload"][as="'+wi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+wi(l.imageSizes)+'"]')):m+='[href="'+wi(i)+'"]';var x=m;switch(a){case"style":x=Yc(i);break;case"script":x=Wc(i)}Ms.has(x)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ms.set(x,i),u.querySelector(m)!==null||a==="style"&&u.querySelector(rf(x))||a==="script"&&u.querySelector(af(x))||(a=u.createElement("link"),ta(a,"link",i),fi(a),u.head.appendChild(a)))}}function i3(i,a){wl.m(i,a);var l=Gc;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',x=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Wc(i)}if(!Ms.has(x)&&(i=A({rel:"modulepreload",href:i},a),Ms.set(x,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(af(x)))return}u=l.createElement("link"),ta(u,"link",i),fi(u),l.head.appendChild(u)}}}function r3(i,a,l){wl.S(i,a,l);var u=Gc;if(u&&i){var m=aa(u).hoistableStyles,x=Yc(i);a=a||"default";var D=m.get(x);if(!D){var Q={loading:0,preload:null};if(D=u.querySelector(rf(x)))Q.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ms.get(x))&&og(i,l);var dt=D=u.createElement("link");fi(dt),ta(dt,"link",i),dt._p=new Promise(function(Lt,Bt){dt.onload=Lt,dt.onerror=Bt}),dt.addEventListener("load",function(){Q.loading|=1}),dt.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Td(D,a,u)}D={type:"stylesheet",instance:D,count:1,state:Q},m.set(x,D)}}}function a3(i,a){wl.X(i,a);var l=Gc;if(l&&i){var u=aa(l).hoistableScripts,m=Wc(i),x=u.get(m);x||(x=l.querySelector(af(m)),x||(i=A({src:i,async:!0},a),(a=Ms.get(m))&&lg(i,a),x=l.createElement("script"),fi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(m,x))}}function s3(i,a){wl.M(i,a);var l=Gc;if(l&&i){var u=aa(l).hoistableScripts,m=Wc(i),x=u.get(m);x||(x=l.querySelector(af(m)),x||(i=A({src:i,async:!0,type:"module"},a),(a=Ms.get(m))&&lg(i,a),x=l.createElement("script"),fi(x),ta(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(m,x))}}function O5(i,a,l,u){var m=(m=ht.current)?Ed(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Yc(l.href),l=aa(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Yc(l.href);var x=aa(m).hoistableStyles,D=x.get(i);if(D||(m=m.ownerDocument||m,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,D),(x=m.querySelector(rf(i)))&&!x._p&&(D.instance=x,D.state.loading=5),Ms.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ms.set(i,l),x||o3(m,i,l,D.state))),a&&u===null)throw Error(r(528,""));return D}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Wc(l),l=aa(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yc(i){return'href="'+wi(i)+'"'}function rf(i){return'link[rel="stylesheet"]['+i+"]"}function P5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function o3(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ta(a,"link",l),fi(a),i.head.appendChild(a))}function Wc(i){return'[src="'+wi(i)+'"]'}function af(i){return"script[async]"+i}function z5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+wi(l.href)+'"]');if(u)return a.instance=u,fi(u),u;var m=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),fi(u),ta(u,"style",m),Td(u,l.precedence,i),a.instance=u;case"stylesheet":m=Yc(l.href);var x=i.querySelector(rf(m));if(x)return a.state.loading|=4,a.instance=x,fi(x),x;u=P5(l),(m=Ms.get(m))&&og(u,m),x=(i.ownerDocument||i).createElement("link"),fi(x);var D=x;return D._p=new Promise(function(Q,dt){D.onload=Q,D.onerror=dt}),ta(x,"link",u),a.state.loading|=4,Td(x,l.precedence,i),a.instance=x;case"script":return x=Wc(l.src),(m=i.querySelector(af(x)))?(a.instance=m,fi(m),m):(u=l,(m=Ms.get(x))&&(u=A({},l),lg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),fi(m),ta(m,"link",u),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Td(u,l.precedence,i));return a.instance}function Td(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,x=m,D=0;D<u.length;D++){var Q=u[D];if(Q.dataset.precedence===a)x=Q;else if(x!==m)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function og(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function lg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Cd=null;function F5(i,a,l){if(Cd===null){var u=new Map,m=Cd=new Map;m.set(l,u)}else m=Cd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var x=l[m];if(!(x[Rr]||x[kn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(a)||"";D=i+D;var Q=u.get(D);Q?Q.push(x):u.set(D,[x])}}return u}function B5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function l3(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function U5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function u3(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Yc(u.href),x=a.querySelector(rf(m));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Nd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,fi(x);return}x=a.ownerDocument||a,u=P5(u),(m=Ms.get(m))&&og(u,m),x=x.createElement("link"),fi(x);var D=x;D._p=new Promise(function(Q,dt){D.onload=Q,D.onerror=dt}),ta(x,"link",u),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Nd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var ug=0;function c3(i,a){return i.stylesheets&&i.count===0&&Id(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Id(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&ug===0&&(ug=62500*Hw());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Id(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>ug?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rd=null;function Id(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rd=new Map,a.forEach(h3,i),Rd=null,Nd.call(i))}function h3(i,a){if(!(a.state.loading&4)){var l=Rd.get(i);if(l)var u=l.get(null);else{l=new Map,Rd.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var D=m[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),u=D)}u&&l.set(null,u)}m=a.instance,D=m.getAttribute("data-precedence"),x=l.get(D)||u,x===u&&l.set(null,m),l.set(D,m),this.count++,u=Nd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),x?x.parentNode.insertBefore(m,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var sf={$$typeof:nt,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function f3(i,a,l,u,m,x,D,Q,dt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=dt,this.incompleteTransitions=new Map}function V5(i,a,l,u,m,x,D,Q,dt,Lt,Bt,Ht){return i=new f3(i,a,l,D,dt,Lt,Bt,Ht,Q),a=1,x===!0&&(a|=24),x=Mr(3,null,null,a),i.current=x,x.stateNode=i,a=Gl(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},Jt(x),i}function q5(i){return i?(i=br,i):br}function H5(i,a,l,u,m,x){m=q5(m),u.context===null?u.context=m:u.pendingContext=m,u=ze(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=rn(i,u,a),l!==null&&(Qa(l,i,a),Fn(l,i,a))}function G5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function cg(i,a){G5(i,a),(i=i.alternate)&&G5(i,a)}function Y5(i){if(i.tag===13||i.tag===31){var a=Xs(i,67108864);a!==null&&Qa(a,i,67108864),cg(i,67108864)}}function W5(i){if(i.tag===13||i.tag===31){var a=ds();a=Vn(a);var l=Xs(i,a);l!==null&&Qa(l,i,a),cg(i,a)}}var Ld=!0;function d3(i,a,l,u){var m=st.T;st.T=null;var x=ft.p;try{ft.p=2,hg(i,a,l,u)}finally{ft.p=x,st.T=m}}function p3(i,a,l,u){var m=st.T;st.T=null;var x=ft.p;try{ft.p=8,hg(i,a,l,u)}finally{ft.p=x,st.T=m}}function hg(i,a,l,u){if(Ld){var m=fg(u);if(m===null)X1(i,a,u,Dd,l),$5(i,u);else if(m3(m,i,a,l,u))u.stopPropagation();else if($5(i,u),a&4&&-1<g3.indexOf(i)){for(;m!==null;){var x=pr(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=be(x.pendingLanes);if(D!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;D;){var dt=1<<31-Ke(D);Q.entanglements[1]|=dt,D&=~dt}Po(x),(Un&6)===0&&(pd=We()+500,Jh(0))}}break;case 31:case 13:Q=Xs(x,2),Q!==null&&Qa(Q,x,2),md(),cg(x,2)}if(x=fg(u),x===null&&X1(i,a,u,Dd,l),x===m)break;m=x}m!==null&&u.stopPropagation()}else X1(i,a,u,null,l)}}function fg(i){return i=Dr(i),dg(i)}var Dd=null;function dg(i){if(Dd=null,i=Vr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dd=i,null}function K5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Be:return 2;case an:return 8;case $e:case me:return 32;case qe:return 268435456;default:return 32}default:return 32}}var pg=!1,ru=null,au=null,su=null,of=new Map,lf=new Map,ou=[],g3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $5(i,a){switch(i){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":of.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(a.pointerId)}}function uf(i,a,l,u,m,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[m]},a!==null&&(a=pr(a),a!==null&&Y5(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function m3(i,a,l,u,m){switch(a){case"focusin":return ru=uf(ru,i,a,l,u,m),!0;case"dragenter":return au=uf(au,i,a,l,u,m),!0;case"mouseover":return su=uf(su,i,a,l,u,m),!0;case"pointerover":var x=m.pointerId;return of.set(x,uf(of.get(x)||null,i,a,l,u,m)),!0;case"gotpointercapture":return x=m.pointerId,lf.set(x,uf(lf.get(x)||null,i,a,l,u,m)),!0}return!1}function Q5(i){var a=Vr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,dr(i.priority,function(){W5(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,dr(i.priority,function(){W5(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=fg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);as=u,l.target.dispatchEvent(u),as=null}else return a=pr(l),a!==null&&Y5(a),i.blockedOn=l,!1;a.shift()}return!0}function X5(i,a,l){jd(i)&&l.delete(a)}function y3(){pg=!1,ru!==null&&jd(ru)&&(ru=null),au!==null&&jd(au)&&(au=null),su!==null&&jd(su)&&(su=null),of.forEach(X5),lf.forEach(X5)}function kd(i,a){i.blockedOn===a&&(i.blockedOn=null,pg||(pg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,y3)))}var Md=null;function Z5(i){Md!==i&&(Md=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Md===i&&(Md=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],m=i[a+2];if(typeof u!="function"){if(dg(u||l)===null)continue;break}var x=pr(l);x!==null&&(i.splice(a,3),a-=3,f1(x,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Kc(i){function a(dt){return kd(dt,i)}ru!==null&&kd(ru,i),au!==null&&kd(au,i),su!==null&&kd(su,i),of.forEach(a),lf.forEach(a);for(var l=0;l<ou.length;l++){var u=ou[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ou.length&&(l=ou[0],l.blockedOn===null);)Q5(l),l.blockedOn===null&&ou.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],x=l[u+1],D=m[Gn]||null;if(typeof x=="function")D||Z5(l);else if(D){var Q=null;if(x&&x.hasAttribute("formAction")){if(m=x,D=x[Gn]||null)Q=D.formAction;else if(dg(m)!==null)continue}else Q=D.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),Z5(l)}}}function J5(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(D){return m=D})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function gg(i){this._internalRoot=i}Od.prototype.render=gg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=ds();H5(l,u,i,a,null,null)},Od.prototype.unmount=gg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;H5(i.current,2,null,i,null,null),md(),a[Oi]=null}};function Od(i){this._internalRoot=i}Od.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ou.length&&a!==0&&a<ou[l].priority;l++);ou.splice(l,0,i),l===0&&Q5(i)}};var ty=t.version;if(ty!=="19.2.4")throw Error(r(527,ty,"19.2.4"));ft.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var v3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Qe=Pd.inject(v3),Ce=Pd}catch{}}return hf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",m=o2,x=l2,D=u2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=V5(i,1,!1,null,null,l,u,null,m,x,D,J5),i[Oi]=a.current,Q1(i),new gg(a)},hf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,m="",x=o2,D=l2,Q=u2,dt=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(dt=l.formState)),a=V5(i,1,!0,a,l??null,u,m,dt,x,D,Q,J5),a.context=q5(null),l=a.current,u=ds(),u=Vn(u),m=ze(u),m.callback=null,rn(l,m,u),l=u,a.current.lanes=l,Ae(a,l),Po(a),i[Oi]=a.current,Q1(i),new Od(a)},hf.version="19.2.4",hf}var cy;function I3(){if(cy)return vg.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vg.exports=R3(),vg.exports}var L3=I3();const D3=()=>{};var hy={};const tx=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},j3=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],c=n[e++],h=n[e++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return t.join("")},ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,h=c?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,y=o>>2,A=(o&3)<<4|h>>4;let C=(h&15)<<2|d>>6,_=d&63;f||(_=64,c||(C=64)),r.push(e[y],e[A],e[C],e[_])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tx(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):j3(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],h=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const A=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new k3;const C=o<<2|h>>4;if(r.push(C),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const F=d<<6&192|A;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class k3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M3=function(n){const t=tx(n);return ex.encodeByteArray(t,!0)},dp=function(n){return M3(n).replace(/\./g,"")},O3=function(n){try{return ex.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const z3=()=>P3().__FIREBASE_DEFAULTS__,F3=()=>{if(typeof process>"u"||typeof hy>"u")return;const n=hy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},B3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&O3(n[1]);return t&&JSON.parse(t)},Y0=()=>{try{return D3()||z3()||F3()||B3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},U3=n=>Y0()?.emulatorHosts?.[n],nx=n=>{const t=U3(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},ix=()=>Y0()?.config;class V3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Fp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(n){return(await fetch(n,{credentials:"include"})).ok}function ax(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[dp(JSON.stringify(e)),dp(JSON.stringify(c)),""].join(".")}const bf={};function q3(){const n={prod:[],emulator:[]};for(const t of Object.keys(bf))bf[t]?n.emulator.push(t):n.prod.push(t);return n}function H3(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let fy=!1;function sx(n,t){if(typeof window>"u"||typeof document>"u"||!Fp(window.location.host)||bf[n]===t||bf[n]||fy)return;bf[n]=t;function e(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=q3().prod.length>0;function c(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,_){C.setAttribute("width","24"),C.setAttribute("id",_),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function d(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{fy=!0,c()},C}function y(C,_){C.setAttribute("id",_),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=H3(r),_=e("text"),F=document.getElementById(_)||document.createElement("span"),H=e("learnmore"),z=document.getElementById(H)||document.createElement("a"),M=e("preprendIcon"),et=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const nt=C.element;h(nt),y(z,H);const it=d();f(et,M),nt.append(et,F,z,it),document.body.appendChild(nt)}o?(F.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function G3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y3(){const n=Y0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W3(){return!Y3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K3(){try{return typeof indexedDB=="object"}catch{return!1}}function $3(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}const Q3="FirebaseError";class cc extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Q3,Object.setPrototypeOf(this,cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ox.prototype.create)}}class ox{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],c=o?X3(o,r):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new cc(s,h,r)}}function X3(n,t){return n.replace(Z3,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Z3=/\{\$([^}]+)}/g;function pp(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const o=n[s],c=t[s];if(dy(o)&&dy(c)){if(!pp(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function dy(n){return n!==null&&typeof n=="object"}function co(n){return n&&n._delegate?n._delegate:n}class dh{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $u="[DEFAULT]";class J3{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new V3;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:$u})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=$u){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$u){return this.instances.has(t)}getOptions(t=$u){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(s)}return s}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$u){return this.component?this.component.multipleInstances?t:$u:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(n){return n===$u?void 0:n}function eS(n){return n.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new J3(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rn||(Rn={}));const iS={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},rS=Rn.INFO,aS={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},sS=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=aS[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lx{constructor(t){this.name=t,this._logLevel=rS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...t),this._logHandler(this,Rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...t),this._logHandler(this,Rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...t),this._logHandler(this,Rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...t),this._logHandler(this,Rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...t),this._logHandler(this,Rn.ERROR,...t)}}const oS=(n,t)=>t.some(e=>n instanceof e);let py,gy;function lS(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,s0=new WeakMap,cx=new WeakMap,wg=new WeakMap,W0=new WeakMap;function cS(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(du(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&ux.set(e,n)}).catch(()=>{}),W0.set(t,n),t}function hS(n){if(s0.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});s0.set(n,t)}let o0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return s0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return du(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fS(n){o0=n(o0)}function dS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Sg(this),t,...e);return cx.set(r,t.sort?t.sort():[t]),du(r)}:uS().includes(n)?function(...t){return n.apply(Sg(this),t),du(ux.get(this))}:function(...t){return du(n.apply(Sg(this),t))}}function pS(n){return typeof n=="function"?dS(n):(n instanceof IDBTransaction&&hS(n),oS(n,lS())?new Proxy(n,o0):n)}function du(n){if(n instanceof IDBRequest)return cS(n);if(wg.has(n))return wg.get(n);const t=pS(n);return t!==n&&(wg.set(n,t),W0.set(t,n)),t}const Sg=n=>W0.get(n);function gS(n,t,{blocked:e,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,t),h=du(c);return r&&c.addEventListener("upgradeneeded",f=>{r(du(c.result),f.oldVersion,f.newVersion,du(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const mS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Ag=new Map;function my(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ag.get(t))return Ag.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=yS.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mS.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),s&&f.done]))[0]};return Ag.set(t,o),o}fS(n=>({...n,get:(t,e,r)=>my(t,e)||n.get(t,e,r),has:(t,e)=>!!my(t,e)||n.has(t,e)}));class vS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(bS(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function bS(n){return n.getComponent()?.type==="VERSION"}const l0="@firebase/app",yy="0.14.8";const Rl=new lx("@firebase/app"),xS="@firebase/app-compat",_S="@firebase/analytics-compat",wS="@firebase/analytics",SS="@firebase/app-check-compat",AS="@firebase/app-check",ES="@firebase/auth",TS="@firebase/auth-compat",CS="@firebase/database",NS="@firebase/data-connect",RS="@firebase/database-compat",IS="@firebase/functions",LS="@firebase/functions-compat",DS="@firebase/installations",jS="@firebase/installations-compat",kS="@firebase/messaging",MS="@firebase/messaging-compat",OS="@firebase/performance",PS="@firebase/performance-compat",zS="@firebase/remote-config",FS="@firebase/remote-config-compat",BS="@firebase/storage",US="@firebase/storage-compat",VS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",GS="firebase",YS="12.9.0";const u0="[DEFAULT]",WS={[l0]:"fire-core",[xS]:"fire-core-compat",[wS]:"fire-analytics",[_S]:"fire-analytics-compat",[AS]:"fire-app-check",[SS]:"fire-app-check-compat",[ES]:"fire-auth",[TS]:"fire-auth-compat",[CS]:"fire-rtdb",[NS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[IS]:"fire-fn",[LS]:"fire-fn-compat",[DS]:"fire-iid",[jS]:"fire-iid-compat",[kS]:"fire-fcm",[MS]:"fire-fcm-compat",[OS]:"fire-perf",[PS]:"fire-perf-compat",[zS]:"fire-rc",[FS]:"fire-rc-compat",[BS]:"fire-gcs",[US]:"fire-gcs-compat",[VS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const gp=new Map,KS=new Map,c0=new Map;function vy(n,t){try{n.container.addComponent(t)}catch(e){Rl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Cf(n){const t=n.name;if(c0.has(t))return Rl.debug(`There were multiple attempts to register component ${t}.`),!1;c0.set(t,n);for(const e of gp.values())vy(e,n);for(const e of KS.values())vy(e,n);return!0}function hx(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function fx(n){return n==null?!1:n.settings!==void 0}const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new ox("app","Firebase",$S);class QS{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}const dx=YS;function px(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:u0,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw pu.create("bad-app-name",{appName:String(s)});if(e||(e=ix()),!e)throw pu.create("no-options");const o=gp.get(s);if(o){if(pp(e,o.options)&&pp(r,o.config))return o;throw pu.create("duplicate-app",{appName:s})}const c=new nS(s);for(const f of c0.values())c.addComponent(f);const h=new QS(e,r,c);return gp.set(s,h),h}function gx(n=u0){const t=gp.get(n);if(!t&&n===u0&&ix())return px();if(!t)throw pu.create("no-app",{appName:n});return t}function gu(n,t,e){let r=WS[n]??n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rl.warn(c.join(" "));return}Cf(new dh(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",ZS=1,Nf="firebase-heartbeat-store";let Eg=null;function mx(){return Eg||(Eg=gS(XS,ZS,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Nf)}catch(e){console.warn(e)}}}}).catch(n=>{throw pu.create("idb-open",{originalErrorMessage:n.message})})),Eg}async function JS(n){try{const e=(await mx()).transaction(Nf),r=await e.objectStore(Nf).get(yx(n));return await e.done,r}catch(t){if(t instanceof cc)Rl.warn(t.message);else{const e=pu.create("idb-get",{originalErrorMessage:t?.message});Rl.warn(e.message)}}}async function by(n,t){try{const r=(await mx()).transaction(Nf,"readwrite");await r.objectStore(Nf).put(t,yx(n)),await r.done}catch(e){if(e instanceof cc)Rl.warn(e.message);else{const r=pu.create("idb-set",{originalErrorMessage:e?.message});Rl.warn(r.message)}}}function yx(n){return`${n.name}!${n.options.appId}`}const tA=1024,eA=30;class nA{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rA(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>eA){const s=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Rl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xy(),{heartbeatsToSend:e,unsentEntries:r}=iA(this._heartbeatsCache.heartbeats),s=dp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Rl.warn(t),""}}}function xy(){return new Date().toISOString().substring(0,10)}function iA(n,t=tA){const e=[];let r=n.slice();for(const s of n){const o=e.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),_y(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),_y(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class rA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K3()?$3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JS(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _y(n){return dp(JSON.stringify({version:2,heartbeats:n})).length}function aA(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function sA(n){Cf(new dh("platform-logger",t=>new vS(t),"PRIVATE")),Cf(new dh("heartbeat",t=>new nA(t),"PRIVATE")),gu(l0,yy,n),gu(l0,yy,"esm2020"),gu("fire-js","")}sA("");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mu,vx;(function(){var n;function t($,O){function w(){}w.prototype=O.prototype,$.F=O.prototype,$.prototype=new w,$.prototype.constructor=$,$.D=function(q,I,R){for(var E=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)E[rt-2]=arguments[rt];return O.prototype[I].apply(q,E)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,O,w){w||(w=0);const q=Array(16);if(typeof O=="string")for(var I=0;I<16;++I)q[I]=O.charCodeAt(w++)|O.charCodeAt(w++)<<8|O.charCodeAt(w++)<<16|O.charCodeAt(w++)<<24;else for(I=0;I<16;++I)q[I]=O[w++]|O[w++]<<8|O[w++]<<16|O[w++]<<24;O=$.g[0],w=$.g[1],I=$.g[2];let R=$.g[3],E;E=O+(R^w&(I^R))+q[0]+3614090360&4294967295,O=w+(E<<7&4294967295|E>>>25),E=R+(I^O&(w^I))+q[1]+3905402710&4294967295,R=O+(E<<12&4294967295|E>>>20),E=I+(w^R&(O^w))+q[2]+606105819&4294967295,I=R+(E<<17&4294967295|E>>>15),E=w+(O^I&(R^O))+q[3]+3250441966&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(R^w&(I^R))+q[4]+4118548399&4294967295,O=w+(E<<7&4294967295|E>>>25),E=R+(I^O&(w^I))+q[5]+1200080426&4294967295,R=O+(E<<12&4294967295|E>>>20),E=I+(w^R&(O^w))+q[6]+2821735955&4294967295,I=R+(E<<17&4294967295|E>>>15),E=w+(O^I&(R^O))+q[7]+4249261313&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(R^w&(I^R))+q[8]+1770035416&4294967295,O=w+(E<<7&4294967295|E>>>25),E=R+(I^O&(w^I))+q[9]+2336552879&4294967295,R=O+(E<<12&4294967295|E>>>20),E=I+(w^R&(O^w))+q[10]+4294925233&4294967295,I=R+(E<<17&4294967295|E>>>15),E=w+(O^I&(R^O))+q[11]+2304563134&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(R^w&(I^R))+q[12]+1804603682&4294967295,O=w+(E<<7&4294967295|E>>>25),E=R+(I^O&(w^I))+q[13]+4254626195&4294967295,R=O+(E<<12&4294967295|E>>>20),E=I+(w^R&(O^w))+q[14]+2792965006&4294967295,I=R+(E<<17&4294967295|E>>>15),E=w+(O^I&(R^O))+q[15]+1236535329&4294967295,w=I+(E<<22&4294967295|E>>>10),E=O+(I^R&(w^I))+q[1]+4129170786&4294967295,O=w+(E<<5&4294967295|E>>>27),E=R+(w^I&(O^w))+q[6]+3225465664&4294967295,R=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(R^O))+q[11]+643717713&4294967295,I=R+(E<<14&4294967295|E>>>18),E=w+(R^O&(I^R))+q[0]+3921069994&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^R&(w^I))+q[5]+3593408605&4294967295,O=w+(E<<5&4294967295|E>>>27),E=R+(w^I&(O^w))+q[10]+38016083&4294967295,R=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(R^O))+q[15]+3634488961&4294967295,I=R+(E<<14&4294967295|E>>>18),E=w+(R^O&(I^R))+q[4]+3889429448&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^R&(w^I))+q[9]+568446438&4294967295,O=w+(E<<5&4294967295|E>>>27),E=R+(w^I&(O^w))+q[14]+3275163606&4294967295,R=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(R^O))+q[3]+4107603335&4294967295,I=R+(E<<14&4294967295|E>>>18),E=w+(R^O&(I^R))+q[8]+1163531501&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(I^R&(w^I))+q[13]+2850285829&4294967295,O=w+(E<<5&4294967295|E>>>27),E=R+(w^I&(O^w))+q[2]+4243563512&4294967295,R=O+(E<<9&4294967295|E>>>23),E=I+(O^w&(R^O))+q[7]+1735328473&4294967295,I=R+(E<<14&4294967295|E>>>18),E=w+(R^O&(I^R))+q[12]+2368359562&4294967295,w=I+(E<<20&4294967295|E>>>12),E=O+(w^I^R)+q[5]+4294588738&4294967295,O=w+(E<<4&4294967295|E>>>28),E=R+(O^w^I)+q[8]+2272392833&4294967295,R=O+(E<<11&4294967295|E>>>21),E=I+(R^O^w)+q[11]+1839030562&4294967295,I=R+(E<<16&4294967295|E>>>16),E=w+(I^R^O)+q[14]+4259657740&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^R)+q[1]+2763975236&4294967295,O=w+(E<<4&4294967295|E>>>28),E=R+(O^w^I)+q[4]+1272893353&4294967295,R=O+(E<<11&4294967295|E>>>21),E=I+(R^O^w)+q[7]+4139469664&4294967295,I=R+(E<<16&4294967295|E>>>16),E=w+(I^R^O)+q[10]+3200236656&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^R)+q[13]+681279174&4294967295,O=w+(E<<4&4294967295|E>>>28),E=R+(O^w^I)+q[0]+3936430074&4294967295,R=O+(E<<11&4294967295|E>>>21),E=I+(R^O^w)+q[3]+3572445317&4294967295,I=R+(E<<16&4294967295|E>>>16),E=w+(I^R^O)+q[6]+76029189&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(w^I^R)+q[9]+3654602809&4294967295,O=w+(E<<4&4294967295|E>>>28),E=R+(O^w^I)+q[12]+3873151461&4294967295,R=O+(E<<11&4294967295|E>>>21),E=I+(R^O^w)+q[15]+530742520&4294967295,I=R+(E<<16&4294967295|E>>>16),E=w+(I^R^O)+q[2]+3299628645&4294967295,w=I+(E<<23&4294967295|E>>>9),E=O+(I^(w|~R))+q[0]+4096336452&4294967295,O=w+(E<<6&4294967295|E>>>26),E=R+(w^(O|~I))+q[7]+1126891415&4294967295,R=O+(E<<10&4294967295|E>>>22),E=I+(O^(R|~w))+q[14]+2878612391&4294967295,I=R+(E<<15&4294967295|E>>>17),E=w+(R^(I|~O))+q[5]+4237533241&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~R))+q[12]+1700485571&4294967295,O=w+(E<<6&4294967295|E>>>26),E=R+(w^(O|~I))+q[3]+2399980690&4294967295,R=O+(E<<10&4294967295|E>>>22),E=I+(O^(R|~w))+q[10]+4293915773&4294967295,I=R+(E<<15&4294967295|E>>>17),E=w+(R^(I|~O))+q[1]+2240044497&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~R))+q[8]+1873313359&4294967295,O=w+(E<<6&4294967295|E>>>26),E=R+(w^(O|~I))+q[15]+4264355552&4294967295,R=O+(E<<10&4294967295|E>>>22),E=I+(O^(R|~w))+q[6]+2734768916&4294967295,I=R+(E<<15&4294967295|E>>>17),E=w+(R^(I|~O))+q[13]+1309151649&4294967295,w=I+(E<<21&4294967295|E>>>11),E=O+(I^(w|~R))+q[4]+4149444226&4294967295,O=w+(E<<6&4294967295|E>>>26),E=R+(w^(O|~I))+q[11]+3174756917&4294967295,R=O+(E<<10&4294967295|E>>>22),E=I+(O^(R|~w))+q[2]+718787259&4294967295,I=R+(E<<15&4294967295|E>>>17),E=w+(R^(I|~O))+q[9]+3951481745&4294967295,$.g[0]=$.g[0]+O&4294967295,$.g[1]=$.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,$.g[2]=$.g[2]+I&4294967295,$.g[3]=$.g[3]+R&4294967295}r.prototype.v=function($,O){O===void 0&&(O=$.length);const w=O-this.blockSize,q=this.C;let I=this.h,R=0;for(;R<O;){if(I==0)for(;R<=w;)s(this,$,R),R+=this.blockSize;if(typeof $=="string"){for(;R<O;)if(q[I++]=$.charCodeAt(R++),I==this.blockSize){s(this,q),I=0;break}}else for(;R<O;)if(q[I++]=$[R++],I==this.blockSize){s(this,q),I=0;break}}this.h=I,this.o+=O},r.prototype.A=function(){var $=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);$[0]=128;for(var O=1;O<$.length-8;++O)$[O]=0;O=this.o*8;for(var w=$.length-8;w<$.length;++w)$[w]=O&255,O/=256;for(this.v($),$=Array(16),O=0,w=0;w<4;++w)for(let q=0;q<32;q+=8)$[O++]=this.g[w]>>>q&255;return $};function o($,O){var w=h;return Object.prototype.hasOwnProperty.call(w,$)?w[$]:w[$]=O($)}function c($,O){this.h=O;const w=[];let q=!0;for(let I=$.length-1;I>=0;I--){const R=$[I]|0;q&&R==O||(w[I]=R,q=!1)}this.g=w}var h={};function f($){return-128<=$&&$<128?o($,function(O){return new c([O|0],O<0?-1:0)}):new c([$|0],$<0?-1:0)}function d($){if(isNaN($)||!isFinite($))return A;if($<0)return z(d(-$));const O=[];let w=1;for(let q=0;$>=w;q++)O[q]=$/w|0,w*=4294967296;return new c(O,0)}function y($,O){if($.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if($.charAt(0)=="-")return z(y($.substring(1),O));if($.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(O,8));let q=A;for(let R=0;R<$.length;R+=8){var I=Math.min(8,$.length-R);const E=parseInt($.substring(R,R+I),O);I<8?(I=d(Math.pow(O,I)),q=q.j(I).add(d(E))):(q=q.j(w),q=q.add(d(E)))}return q}var A=f(0),C=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(H(this))return-z(this).m();let $=0,O=1;for(let w=0;w<this.g.length;w++){const q=this.i(w);$+=(q>=0?q:4294967296+q)*O,O*=4294967296}return $},n.toString=function($){if($=$||10,$<2||36<$)throw Error("radix out of range: "+$);if(F(this))return"0";if(H(this))return"-"+z(this).toString($);const O=d(Math.pow($,6));var w=this;let q="";for(;;){const I=it(w,O).g;w=M(w,I.j(O));let R=((w.g.length>0?w.g[0]:w.h)>>>0).toString($);if(w=I,F(w))return R+q;for(;R.length<6;)R="0"+R;q=R+q}},n.i=function($){return $<0?0:$<this.g.length?this.g[$]:this.h};function F($){if($.h!=0)return!1;for(let O=0;O<$.g.length;O++)if($.g[O]!=0)return!1;return!0}function H($){return $.h==-1}n.l=function($){return $=M(this,$),H($)?-1:F($)?0:1};function z($){const O=$.g.length,w=[];for(let q=0;q<O;q++)w[q]=~$.g[q];return new c(w,~$.h).add(C)}n.abs=function(){return H(this)?z(this):this},n.add=function($){const O=Math.max(this.g.length,$.g.length),w=[];let q=0;for(let I=0;I<=O;I++){let R=q+(this.i(I)&65535)+($.i(I)&65535),E=(R>>>16)+(this.i(I)>>>16)+($.i(I)>>>16);q=E>>>16,R&=65535,E&=65535,w[I]=E<<16|R}return new c(w,w[w.length-1]&-2147483648?-1:0)};function M($,O){return $.add(z(O))}n.j=function($){if(F(this)||F($))return A;if(H(this))return H($)?z(this).j(z($)):z(z(this).j($));if(H($))return z(this.j(z($)));if(this.l(_)<0&&$.l(_)<0)return d(this.m()*$.m());const O=this.g.length+$.g.length,w=[];for(var q=0;q<2*O;q++)w[q]=0;for(q=0;q<this.g.length;q++)for(let I=0;I<$.g.length;I++){const R=this.i(q)>>>16,E=this.i(q)&65535,rt=$.i(I)>>>16,yt=$.i(I)&65535;w[2*q+2*I]+=E*yt,et(w,2*q+2*I),w[2*q+2*I+1]+=R*yt,et(w,2*q+2*I+1),w[2*q+2*I+1]+=E*rt,et(w,2*q+2*I+1),w[2*q+2*I+2]+=R*rt,et(w,2*q+2*I+2)}for($=0;$<O;$++)w[$]=w[2*$+1]<<16|w[2*$];for($=O;$<2*O;$++)w[$]=0;return new c(w,0)};function et($,O){for(;($[O]&65535)!=$[O];)$[O+1]+=$[O]>>>16,$[O]&=65535,O++}function nt($,O){this.g=$,this.h=O}function it($,O){if(F(O))throw Error("division by zero");if(F($))return new nt(A,A);if(H($))return O=it(z($),O),new nt(z(O.g),z(O.h));if(H(O))return O=it($,z(O)),new nt(z(O.g),O.h);if($.g.length>30){if(H($)||H(O))throw Error("slowDivide_ only works with positive integers.");for(var w=C,q=O;q.l($)<=0;)w=_t(w),q=_t(q);var I=Dt(w,1),R=Dt(q,1);for(q=Dt(q,2),w=Dt(w,2);!F(q);){var E=R.add(q);E.l($)<=0&&(I=I.add(w),R=E),q=Dt(q,1),w=Dt(w,1)}return O=M($,I.j(O)),new nt(I,O)}for(I=A;$.l(O)>=0;){for(w=Math.max(1,Math.floor($.m()/O.m())),q=Math.ceil(Math.log(w)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),R=d(w),E=R.j(O);H(E)||E.l($)>0;)w-=q,R=d(w),E=R.j(O);F(R)&&(R=C),I=I.add(R),$=M($,E)}return new nt(I,$)}n.B=function($){return it(this,$).h},n.and=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)&$.i(q);return new c(w,this.h&$.h)},n.or=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)|$.i(q);return new c(w,this.h|$.h)},n.xor=function($){const O=Math.max(this.g.length,$.g.length),w=[];for(let q=0;q<O;q++)w[q]=this.i(q)^$.i(q);return new c(w,this.h^$.h)};function _t($){const O=$.g.length+1,w=[];for(let q=0;q<O;q++)w[q]=$.i(q)<<1|$.i(q-1)>>>31;return new c(w,$.h)}function Dt($,O){const w=O>>5;O%=32;const q=$.g.length-w,I=[];for(let R=0;R<q;R++)I[R]=O>0?$.i(R+w)>>>O|$.i(R+w+1)<<32-O:$.i(R+w);return new c(I,$.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=y,mu=c}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bx,gf,xx,tp,h0,_x,wx,Sx;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var N=0;N<g.length;++N){var k=g[N];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=e(this);function s(g,N){if(N)t:{var k=r;g=g.split(".");for(var J=0;J<g.length-1;J++){var At=g[J];if(!(At in k))break t;k=k[At]}g=g[g.length-1],J=k[g],N=N(J),N!=J&&N!=null&&t(k,g,{configurable:!0,writable:!0,value:N})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(N){var k=[],J;for(J in N)Object.prototype.hasOwnProperty.call(N,J)&&k.push([J,N[J]]);return k}});var o=o||{},c=this||self;function h(g){var N=typeof g;return N=="object"&&g!=null||N=="function"}function f(g,N,k){return g.call.apply(g.bind,arguments)}function d(g,N,k){return d=f,d.apply(null,arguments)}function y(g,N){var k=Array.prototype.slice.call(arguments,1);return function(){var J=k.slice();return J.push.apply(J,arguments),g.apply(this,J)}}function A(g,N){function k(){}k.prototype=N.prototype,g.Z=N.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(J,At,jt){for(var Xt=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Xt[Ve-2]=arguments[Ve];return N.prototype[At].apply(J,Xt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const N=g.length;if(N>0){const k=Array(N);for(let J=0;J<N;J++)k[J]=g[J];return k}return[]}function F(g,N){for(let J=1;J<arguments.length;J++){const At=arguments[J];var k=typeof At;if(k=k!="object"?k:At?Array.isArray(At)?"array":k:"null",k=="array"||k=="object"&&typeof At.length=="number"){k=g.length||0;const jt=At.length||0;g.length=k+jt;for(let Xt=0;Xt<jt;Xt++)g[k+Xt]=At[Xt]}else g.push(At)}}class H{constructor(N,k){this.i=N,this.j=k,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function z(g){c.setTimeout(()=>{throw g},0)}function M(){var g=$;let N=null;return g.g&&(N=g.g,g.g=g.g.next,g.g||(g.h=null),N.next=null),N}class et{constructor(){this.h=this.g=null}add(N,k){const J=nt.get();J.set(N,k),this.h?this.h.next=J:this.g=J,this.h=J}}var nt=new H(()=>new it,g=>g.reset());class it{constructor(){this.next=this.g=this.h=null}set(N,k){this.h=N,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Dt=!1,$=new et,O=()=>{const g=Promise.resolve(void 0);_t=()=>{g.then(w)}};function w(){for(var g;g=M();){try{g.h.call(g.g)}catch(k){z(k)}var N=nt;N.j(g),N.h<100&&(N.h++,g.next=N.g,N.g=g)}Dt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(g,N){this.type=g,this.g=this.target=N,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,N=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};c.addEventListener("test",k,N),c.removeEventListener("test",k,N)}catch{}return g})();function E(g){return/^[\s\xa0]*$/.test(g)}function rt(g,N){I.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,N)}A(rt,I),rt.prototype.init=function(g,N){const k=this.type=g.type,J=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=N,N=g.relatedTarget,N||(k=="mouseover"?N=g.fromElement:k=="mouseout"&&(N=g.toElement)),this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),st=0;function ft(g,N,k,J,At){this.listener=g,this.proxy=null,this.src=N,this.type=k,this.capture=!!J,this.ha=At,this.key=++st,this.da=this.fa=!1}function U(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ct(g,N,k){for(const J in g)N.call(k,g[J],J,g)}function bt(g,N){for(const k in g)N.call(void 0,g[k],k,g)}function X(g){const N={};for(const k in g)N[k]=g[k];return N}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(g,N){let k,J;for(let At=1;At<arguments.length;At++){J=arguments[At];for(k in J)g[k]=J[k];for(let jt=0;jt<j.length;jt++)k=j[jt],Object.prototype.hasOwnProperty.call(J,k)&&(g[k]=J[k])}}function W(g){this.src=g,this.g={},this.h=0}W.prototype.add=function(g,N,k,J,At){const jt=g.toString();g=this.g[jt],g||(g=this.g[jt]=[],this.h++);const Xt=ht(g,N,J,At);return Xt>-1?(N=g[Xt],k||(N.fa=!1)):(N=new ft(N,this.src,jt,!!J,At),N.fa=k,g.push(N)),N};function K(g,N){const k=N.type;if(k in g.g){var J=g.g[k],At=Array.prototype.indexOf.call(J,N,void 0),jt;(jt=At>=0)&&Array.prototype.splice.call(J,At,1),jt&&(U(N),g.g[k].length==0&&(delete g.g[k],g.h--))}}function ht(g,N,k,J){for(let At=0;At<g.length;++At){const jt=g[At];if(!jt.da&&jt.listener==N&&jt.capture==!!k&&jt.ha==J)return At}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),Ct={};function Nt(g,N,k,J,At){if(Array.isArray(N)){for(let jt=0;jt<N.length;jt++)Nt(g,N[jt],k,J,At);return null}return k=Te(k),g&&g[yt]?g.J(N,k,h(J)?!!J.capture:!1,At):Ot(g,N,k,!1,J,At)}function Ot(g,N,k,J,At,jt){if(!N)throw Error("Invalid event type");const Xt=h(At)?!!At.capture:!!At;let Ve=te(g);if(Ve||(g[gt]=Ve=new W(g)),k=Ve.add(N,k,J,Xt,jt),k.proxy)return k;if(J=$t(),k.proxy=J,J.src=g,J.listener=k,g.addEventListener)R||(At=Xt),At===void 0&&(At=!1),g.addEventListener(N.toString(),J,At);else if(g.attachEvent)g.attachEvent(ce(N.toString()),J);else if(g.addListener&&g.removeListener)g.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return k}function $t(){function g(k){return N.call(g.src,g.listener,k)}const N=at;return g}function ne(g,N,k,J,At){if(Array.isArray(N))for(var jt=0;jt<N.length;jt++)ne(g,N[jt],k,J,At);else J=h(J)?!!J.capture:!!J,k=Te(k),g&&g[yt]?(g=g.i,jt=String(N).toString(),jt in g.g&&(N=g.g[jt],k=ht(N,k,J,At),k>-1&&(U(N[k]),Array.prototype.splice.call(N,k,1),N.length==0&&(delete g.g[jt],g.h--)))):g&&(g=te(g))&&(N=g.g[N.toString()],g=-1,N&&(g=ht(N,k,J,At)),(k=g>-1?N[g]:null)&&ee(k))}function ee(g){if(typeof g!="number"&&g&&!g.da){var N=g.src;if(N&&N[yt])K(N.i,g);else{var k=g.type,J=g.proxy;N.removeEventListener?N.removeEventListener(k,J,g.capture):N.detachEvent?N.detachEvent(ce(k),J):N.addListener&&N.removeListener&&N.removeListener(J),(k=te(N))?(K(k,g),k.h==0&&(k.src=null,N[gt]=null)):U(g)}}}function ce(g){return g in Ct?Ct[g]:Ct[g]="on"+g}function at(g,N){if(g.da)g=!0;else{N=new rt(N,this);const k=g.listener,J=g.ha||g.src;g.fa&&ee(g),g=k.call(J,N)}return g}function te(g){return g=g[gt],g instanceof W?g:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(g){return typeof g=="function"?g:(g[Ye]||(g[Ye]=function(N){return g.handleEvent(N)}),g[Ye])}function Vt(){q.call(this),this.i=new W(this),this.M=this,this.G=null}A(Vt,q),Vt.prototype[yt]=!0,Vt.prototype.removeEventListener=function(g,N,k,J){ne(this,g,N,k,J)};function re(g,N){var k,J=g.G;if(J)for(k=[];J;J=J.G)k.push(J);if(g=g.M,J=N.type||N,typeof N=="string")N=new I(N,g);else if(N instanceof I)N.target=N.target||g;else{var At=N;N=new I(J,g),P(N,At)}At=!0;let jt,Xt;if(k)for(Xt=k.length-1;Xt>=0;Xt--)jt=N.g=k[Xt],At=ie(jt,J,!0,N)&&At;if(jt=N.g=g,At=ie(jt,J,!0,N)&&At,At=ie(jt,J,!1,N)&&At,k)for(Xt=0;Xt<k.length;Xt++)jt=N.g=k[Xt],At=ie(jt,J,!1,N)&&At}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var g=this.i;for(const N in g.g){const k=g.g[N];for(let J=0;J<k.length;J++)U(k[J]);delete g.g[N],g.h--}}this.G=null},Vt.prototype.J=function(g,N,k,J){return this.i.add(String(g),N,!1,k,J)},Vt.prototype.K=function(g,N,k,J){return this.i.add(String(g),N,!0,k,J)};function ie(g,N,k,J){if(N=g.i.g[String(N)],!N)return!0;N=N.concat();let At=!0;for(let jt=0;jt<N.length;++jt){const Xt=N[jt];if(Xt&&!Xt.da&&Xt.capture==k){const Ve=Xt.listener,Jn=Xt.ha||Xt.src;Xt.fa&&K(g.i,Xt),At=Ve.call(Jn,J)!==!1&&At}}return At&&!J.defaultPrevented}function Ne(g,N){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(g,N||0)}function _e(g){g.g=Ne(()=>{g.g=null,g.i&&(g.i=!1,_e(g))},g.l);const N=g.h;g.h=null,g.m.apply(null,N)}class We extends q{constructor(N,k){super(),this.m=N,this.l=k,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(g){q.call(this),this.h=g,this.g={}}A(Ze,q);var Be=[];function an(g){ct(g.g,function(N,k){this.g.hasOwnProperty(k)&&ee(N)},g),g.g={}}Ze.prototype.N=function(){Ze.Z.N.call(this),an(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $e=c.JSON.stringify,me=c.JSON.parse,qe=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ve(){}function ci(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ce(){I.call(this,"d")}A(Ce,I);function Pe(){I.call(this,"c")}A(Pe,I);var Ke={},Se=null;function In(){return Se=Se||new Vt}Ke.Ia="serverreachability";function Me(g){I.call(this,Ke.Ia,g)}A(Me,I);function Oe(g){const N=In();re(N,new Me(N))}Ke.STAT_EVENT="statevent";function jn(g,N){I.call(this,Ke.STAT_EVENT,g),this.stat=N}A(jn,I);function we(g){const N=In();re(N,new jn(N,g))}Ke.Ja="timingevent";function be(g,N){I.call(this,Ke.Ja,g),this.size=N}A(be,I);function sn(g,N){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},N)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function tr(g,N,k,J,At,jt){g.info(function(){if(g.g)if(jt){var Xt="",Ve=jt.split("&");for(let ln=0;ln<Ve.length;ln++){var Jn=Ve[ln].split("=");if(Jn.length>1){const On=Jn[0];Jn=Jn[1];const rr=On.split("_");Xt=rr.length>=2&&rr[1]=="type"?Xt+(On+"="+Jn+"&"):Xt+(On+"=redacted&")}}}else Xt=null;else Xt=jt;return"XMLHTTP REQ ("+J+") [attempt "+At+"]: "+N+`
`+k+`
`+Xt})}function Ia(g,N,k,J,At,jt,Xt){g.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+At+"]: "+N+`
`+k+`
`+jt+" "+Xt})}function Gi(g,N,k,J){g.info(function(){return"XMLHTTP TEXT ("+N+"): "+ts(g,k)+(J?" "+J:"")})}function Ae(g,N){g.info(function(){return"TIMEOUT: "+N})}fr.prototype.info=function(){};function ts(g,N){if(!g.g)return N;if(!N)return null;try{const jt=JSON.parse(N);if(jt){for(g=0;g<jt.length;g++)if(Array.isArray(jt[g])){var k=jt[g];if(!(k.length<2)){var J=k[1];if(Array.isArray(J)&&!(J.length<1)){var At=J[0];if(At!="noop"&&At!="stop"&&At!="close")for(let Xt=1;Xt<J.length;Xt++)J[Xt]=""}}}}return $e(jt)}catch{return N}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function Vn(){}A(Vn,ve),Vn.prototype.g=function(){return new XMLHttpRequest},Cr=new Vn;function Xn(g){return encodeURIComponent(String(g))}function Mi(g){var N=1;g=g.split(":");const k=[];for(;N>0&&g.length;)k.push(g.shift()),N--;return g.length&&k.push(g.join(":")),k}function dr(g,N,k,J){this.j=g,this.i=N,this.l=k,this.S=J||1,this.V=new Ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var kn={},Gn={};function Oi(g,N,k){g.M=1,g.A=vs(_i(N)),g.u=k,g.R=!0,Nr(g,null)}function Nr(g,N){g.F=Date.now(),Rr(g),g.B=_i(g.A);var k=g.B,J=g.S;Array.isArray(J)||(J=[String(J)]),bo(k.i,"t",J),g.C=0,k=g.j.L,g.h=new er,g.g=le(g.j,k?N:null,!g.u),g.P>0&&(g.O=new We(d(g.Y,g,g.g),g.P)),N=g.V,k=g.g,J=g.ba;var At="readystatechange";Array.isArray(At)||(At&&(Be[0]=At.toString()),At=Be);for(let jt=0;jt<At.length;jt++){const Xt=Nt(k,At[jt],J||N.handleEvent,!1,N.h||N);if(!Xt)break;N.g[Xt.key]=Xt}N=g.J?X(g.J):{},g.u?(g.v||(g.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,N)):(g.v="GET",g.g.ea(g.B,g.v,null,N)),Oe(),tr(g.i,g.v,g.B,g.l,g.S,g.u)}dr.prototype.ba=function(g){g=g.target;const N=this.O;N&&Wr(g)==3?N.j():this.Y(g)},dr.prototype.Y=function(g){try{if(g==this.g)t:{const Ve=Wr(this.g),Jn=this.g.ya(),ln=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Ri(this.g)))){this.K||Ve!=4||Jn==7||(Jn==8||ln<=0?Oe(3):Oe(2)),Vr(this);var N=this.g.ca();this.X=N;var k=ra(this);if(this.o=N==200,Ia(this.i,this.v,this.B,this.l,this.S,Ve,N),this.o){if(this.U&&!this.L){e:{if(this.g){var J,At=this.g;if((J=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(J)){var jt=J;break e}}jt=null}if(g=jt)Gi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,aa(this,g);else{this.o=!1,this.m=3,we(12),qr(this),pr(this);break t}}if(this.R){g=!0;let On;for(;!this.K&&this.C<k.length;)if(On=xa(this,k),On==Gn){Ve==4&&(this.m=4,we(14),g=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==kn){this.m=4,we(15),Gi(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else Gi(this.i,this.l,On,null),aa(this,On);if(ys(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||k.length!=0||this.h.h||(this.m=1,we(16),g=!1),this.o=this.o&&g,!g)Gi(this.i,this.l,k,"[Invalid Chunked Response]"),qr(this),pr(this);else if(k.length>0&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.aa&&!Xt.P&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),So(Xt),Xt.P=!0,we(11))}}else Gi(this.i,this.l,k,null),aa(this,k);Ve==4&&qr(this),this.o&&!this.K&&(Ve==4?lt(this.j,this):(this.o=!1,Rr(this)))}else La(this.g),N==400&&k.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),qr(this),pr(this)}}}catch{}};function ra(g){if(!ys(g))return g.g.la();const N=Ri(g.g);if(N==="")return"";let k="";const J=N.length,At=Wr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return qr(g),pr(g),"";g.h.i=new c.TextDecoder}for(let jt=0;jt<J;jt++)g.h.h=!0,k+=g.h.i.decode(N[jt],{stream:!(At&&jt==J-1)});return N.length=0,g.h.g+=k,g.C=0,g.h.g}function ys(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function xa(g,N){var k=g.C,J=N.indexOf(`
`,k);return J==-1?Gn:(k=Number(N.substring(k,J)),isNaN(k)?kn:(J+=1,J+k>N.length?Gn:(N=N.slice(J,J+k),g.C=J+k,N)))}dr.prototype.cancel=function(){this.K=!0,qr(this)};function Rr(g){g.T=Date.now()+g.H,es(g,g.H)}function es(g,N){if(g.D!=null)throw Error("WatchDog timer not null");g.D=sn(d(g.aa,g),N)}function Vr(g){g.D&&(c.clearTimeout(g.D),g.D=null)}dr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ae(this.i,this.B),this.M!=2&&(Oe(),we(17)),qr(this),this.m=2,pr(this)):es(this,this.T-g)};function pr(g){g.j.I==0||g.K||lt(g.j,g)}function qr(g){Vr(g);var N=g.O;N&&typeof N.dispose=="function"&&N.dispose(),g.O=null,an(g.V),g.g&&(N=g.g,g.g=null,N.abort(),N.dispose())}function aa(g,N){try{var k=g.j;if(k.I!=0&&(k.g==g||_a(k.h,g))){if(!g.L&&_a(k.h,g)&&k.I==3){try{var J=k.Ba.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var At=J;if(At[0]==0){t:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)B(k),ja(k);else break t;Aa(k),we(18)}}else k.xa=At[1],0<k.xa-k.K&&At[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=sn(d(k.Va,k),6e3));sa(k.h)<=1&&k.ta&&(k.ta=void 0)}else wt(k,11)}else if((g.L||k.g==g)&&B(k),!E(N))for(At=k.Ba.g.parse(N),N=0;N<At.length;N++){let ln=At[N];const On=ln[0];if(!(On<=k.K))if(k.K=On,ln=ln[1],k.I==2)if(ln[0]=="c"){k.M=ln[1],k.ba=ln[2];const rr=ln[3];rr!=null&&(k.ka=rr,k.j.info("VER="+k.ka));const mr=ln[4];mr!=null&&(k.za=mr,k.j.info("SVER="+k.za));const Yn=ln[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(J=1.5*Yn,k.O=J,k.j.info("backChannelRequestTimeoutMs_="+J)),J=k;const yr=g.g;if(yr){const Ea=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var jt=J.h;jt.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(jt.j=jt.l,jt.g=new Set,jt.h&&(zs(jt,jt.h),jt.h=null))}if(J.G){const Ss=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(J.wa=Ss,vn(J.J,J.G,Ss))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),J=k;var Xt=g;if(J.na=Wt(J,J.L?J.ba:null,J.W),Xt.L){yo(J.h,Xt);var Ve=Xt,Jn=J.O;Jn&&(Ve.H=Jn),Ve.D&&(Vr(Ve),Rr(Ve)),J.g=Xt}else il(J);k.i.length>0&&la(k)}else ln[0]!="stop"&&ln[0]!="close"||wt(k,7);else k.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?wt(k,7):ws(k):ln[0]!="noop"&&k.l&&k.l.qa(ln),k.A=0)}}Oe(4)}catch{}}var fi=class{constructor(g,N){this.g=g,this.map=N}};function mo(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ir(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function sa(g){return g.h?1:g.g?g.g.size:0}function _a(g,N){return g.h?g.h==N:g.g?g.g.has(N):!1}function zs(g,N){g.g?g.g.add(N):g.h=N}function yo(g,N){g.h&&g.h==N?g.h=null:g.g&&g.g.has(N)&&g.g.delete(N)}mo.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function vo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let N=g.i;for(const k of g.g.values())N=N.concat(k.G);return N}return _(g.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(g,N){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const J=g[k].indexOf("=");let At,jt=null;J>=0?(At=g[k].substring(0,J),jt=g[k].substring(J+1)):At=g[k],N(At,jt?decodeURIComponent(jt.replace(/\+/g," ")):"")}}}function nr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;g instanceof nr?(this.l=g.l,cn(this,g.j),this.o=g.o,this.g=g.g,ns(this,g.u),this.h=g.h,oa(this,xo(g.i)),this.m=g.m):g&&(N=String(g).match(Xo))?(this.l=!1,cn(this,N[1]||"",!0),this.o=Ni(N[2]||""),this.g=Ni(N[3]||"",!0),ns(this,N[4]),this.h=Ni(N[5]||"",!0),oa(this,N[6]||"",!0),this.m=Ni(N[7]||"")):(this.l=!1,this.i=new is(null,this.l))}nr.prototype.toString=function(){const g=[];var N=this.j;N&&g.push(ai(N,Fs,!0),":");var k=this.g;return(k||N=="file")&&(g.push("//"),(N=this.o)&&g.push(ai(N,Fs,!0),"@"),g.push(Xn(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(ai(k,k.charAt(0)=="/"?Zo:kl,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",ai(k,Jo)),g.join("")},nr.prototype.resolve=function(g){const N=_i(this);let k=!!g.j;k?cn(N,g.j):k=!!g.o,k?N.o=g.o:k=!!g.g,k?N.g=g.g:k=g.u!=null;var J=g.h;if(k)ns(N,g.u);else if(k=!!g.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var At=N.h.lastIndexOf("/");At!=-1&&(J=N.h.slice(0,At+1)+J)}if(At=J,At==".."||At==".")J="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){J=At.lastIndexOf("/",0)==0,At=At.split("/");const jt=[];for(let Xt=0;Xt<At.length;){const Ve=At[Xt++];Ve=="."?J&&Xt==At.length&&jt.push(""):Ve==".."?((jt.length>1||jt.length==1&&jt[0]!="")&&jt.pop(),J&&Xt==At.length&&jt.push("")):(jt.push(Ve),J=!0)}J=jt.join("/")}else J=At}return k?N.h=J:k=g.i.toString()!=="",k?oa(N,xo(g.i)):k=!!g.m,k&&(N.m=g.m),N};function _i(g){return new nr(g)}function cn(g,N,k){g.j=k?Ni(N,!0):N,g.j&&(g.j=g.j.replace(/:$/,""))}function ns(g,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);g.u=N}else g.u=null}function oa(g,N,k){N instanceof is?(g.i=N,Lr(g.i,g.l)):(k||(N=ai(N,gr)),g.i=new is(N,g.l))}function vn(g,N,k){g.i.set(N,k)}function vs(g){return vn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ni(g,N){return g?N?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ai(g,N,k){return typeof g=="string"?(g=encodeURI(g).replace(N,wi),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function wi(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Fs=/[#\/\?@]/g,kl=/[#\?:]/g,Zo=/[#\?]/g,gr=/[#\?@]/g,Jo=/#/g;function is(g,N){this.h=this.g=null,this.i=g||null,this.j=!!N}function Yi(g){g.g||(g.g=new Map,g.h=0,g.i&&Hr(g.i,function(N,k){g.add(decodeURIComponent(N.replace(/\+/g," ")),k)}))}n=is.prototype,n.add=function(g,N){Yi(this),this.i=null,g=rs(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(N),this.h+=1,this};function bs(g,N){Yi(g),N=rs(g,N),g.g.has(N)&&(g.i=null,g.h-=g.g.get(N).length,g.g.delete(N))}function tl(g,N){return Yi(g),N=rs(g,N),g.g.has(N)}n.forEach=function(g,N){Yi(this),this.g.forEach(function(k,J){k.forEach(function(At){g.call(N,At,J,this)},this)},this)};function el(g,N){Yi(g);let k=[];if(typeof N=="string")tl(g,N)&&(k=k.concat(g.g.get(rs(g,N))));else for(g=Array.from(g.g.values()),N=0;N<g.length;N++)k=k.concat(g[N]);return k}n.set=function(g,N){return Yi(this),this.i=null,g=rs(this,g),tl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[N]),this.h+=1,this},n.get=function(g,N){return g?(g=el(this,g),g.length>0?String(g[0]):N):N};function bo(g,N,k){bs(g,N),k.length>0&&(g.i=null,g.g.set(rs(g,N),_(k)),g.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],N=Array.from(this.g.keys());for(let J=0;J<N.length;J++){var k=N[J];const At=Xn(k);k=el(this,k);for(let jt=0;jt<k.length;jt++){let Xt=At;k[jt]!==""&&(Xt+="="+Xn(k[jt])),g.push(Xt)}}return this.i=g.join("&")};function xo(g){const N=new is;return N.i=g.i,g.g&&(N.g=new Map(g.g),N.h=g.h),N}function rs(g,N){return N=String(N),g.j&&(N=N.toLowerCase()),N}function Lr(g,N){N&&!g.j&&(Yi(g),g.i=null,g.g.forEach(function(k,J){const At=J.toLowerCase();J!=At&&(bs(this,J),bo(this,At,k))},g)),g.j=N}function wa(g,N){const k=new fr;if(c.Image){const J=new Image;J.onload=y(Dr,k,"TestLoadImage: loaded",!0,N,J),J.onerror=y(Dr,k,"TestLoadImage: error",!1,N,J),J.onabort=y(Dr,k,"TestLoadImage: abort",!1,N,J),J.ontimeout=y(Dr,k,"TestLoadImage: timeout",!1,N,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=g}else N(!1)}function as(g,N){const k=new fr,J=new AbortController,At=setTimeout(()=>{J.abort(),Dr(k,"TestPingServer: timeout",!1,N)},1e4);fetch(g,{signal:J.signal}).then(jt=>{clearTimeout(At),jt.ok?Dr(k,"TestPingServer: ok",!0,N):Dr(k,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(At),Dr(k,"TestPingServer: error",!1,N)})}function Dr(g,N,k,J,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),J(k)}catch{}}function xs(){this.g=new qe}function Re(g){this.i=g.Sb||null,this.h=g.ab||!1}A(Re,ve),Re.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(g,N){Vt.call(this),this.H=g,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Bs,Vt),n=Bs.prototype,n.open=function(g,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=N,this.readyState=1,Wi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(N.body=g),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var N=g.value?g.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!g.done}))&&(this.response=this.responseText+=N)}g.done?_s(this):Wi(this),this.readyState==3&&_o(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,_s(this))},n.Na=function(g){this.g&&(this.response=g,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Wi(g)}n.setRequestHeader=function(g,N){this.A.append(g,N)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],N=this.h.entries();for(var k=N.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=N.next();return g.join(`\r
`)};function Wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pi(g){let N="";return ct(g,function(k,J){N+=J,N+=":",N+=k,N+=`\r
`}),N}function Us(g,N,k){t:{for(J in k){var J=!1;break t}J=!0}J||(k=Pi(k),typeof g=="string"?k!=null&&Xn(k):vn(g,N,k))}function Mn(g){Vt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Mn,Vt);var Gr=/^https?$/i,Vs=["POST","PUT"];n=Mn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,N,k,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);N=N?N.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=C(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(g),!0),this.B=!1}catch(jt){Sa(this,jt);return}if(g=k||"",k=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var At in J)k.set(At,J[At]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const jt of J.keys())k.set(jt,J.get(jt));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(k.keys()).find(jt=>jt.toLowerCase()=="content-type"),At=c.FormData&&g instanceof c.FormData,!(Array.prototype.indexOf.call(Vs,N,void 0)>=0)||J||At||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[jt,Xt]of k)this.g.setRequestHeader(jt,Xt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(jt){Sa(this,jt)}};function Sa(g,N){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=N,g.o=5,nl(g),ss(g)}function nl(g){g.A||(g.A=!0,re(g,"complete"),re(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,re(this,"complete"),re(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Mn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(g){if(g.h&&typeof o<"u"){if(g.v&&Wr(g)==4)setTimeout(g.Ca.bind(g),0);else if(re(g,"readystatechange"),Wr(g)==4){g.h=!1;try{const jt=g.ca();t:switch(jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break t;default:N=!1}var k;if(!(k=N)){var J;if(J=jt===0){let Xt=String(g.D).match(Xo)[1]||null;!Xt&&c.self&&c.self.location&&(Xt=c.self.location.protocol.slice(0,-1)),J=!Gr.test(Xt?Xt.toLowerCase():"")}k=J}if(k)re(g,"complete"),re(g,"success");else{g.o=6;try{var At=Wr(g)>2?g.g.statusText:""}catch{At=""}g.l=At+" ["+g.ca()+"]",nl(g)}}finally{ss(g)}}}}function ss(g,N){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,N||re(g,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wr(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var N=this.g.responseText;return g&&N.indexOf(g)==0&&(N=N.substring(g.length)),me(N)}};function Ri(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function La(g){const N={};g=(g.g&&Wr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<g.length;J++){if(E(g[J]))continue;var k=Mi(g[J]);const At=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const jt=N[At]||[];N[At]=jt,jt.push(k)}bt(N,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(g,N,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||N}function Da(g){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,g),this.Za=ir("retryDelaySeedMs",1e4,g),this.Ta=ir("forwardChannelMaxRetries",2,g),this.va=ir("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(g&&g.concurrentRequestLimit),this.Ba=new xs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Da.prototype,n.ka=8,n.I=1,n.connect=function(g,N,k,J){we(0),this.W=g,this.H=N||{},k&&J!==void 0&&(this.H.OSID=k,this.H.OAID=J),this.F=this.X,this.J=Wt(this,null,this.W),la(this)};function ws(g){if(ka(g),g.I==3){var N=g.V++,k=_i(g.J);if(vn(k,"SID",g.M),vn(k,"RID",N),vn(k,"TYPE","terminate"),Kr(g,k),N=new dr(g,g.j,N),N.M=2,N.A=vs(_i(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!k&&c.Image&&(new Image().src=N.A,k=!0),k||(N.g=le(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Rr(N)}Ft(g)}function ja(g){g.g&&(So(g),g.g.cancel(),g.g=null)}function ka(g){ja(g),g.v&&(c.clearTimeout(g.v),g.v=null),B(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&c.clearTimeout(g.m),g.m=null)}function la(g){if(!Ir(g.h)&&!g.m){g.m=!0;var N=g.Ea;_t||O(),Dt||(_t(),Dt=!0),$.add(N,g),g.D=0}}function qs(g,N){return sa(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=N.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=sn(d(g.Ea,g,N),pt(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const At=new dr(this,this.j,g);let jt=this.o;if(this.U&&(jt?(jt=X(jt),P(jt,this.U)):jt=this.U),this.u!==null||this.R||(At.J=jt,jt=null),this.S)t:{for(var N=0,k=0;k<this.i.length;k++){e:{var J=this.i[k];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break e}J=void 0}if(J===void 0)break;if(N+=J,N>4096){N=k;break t}if(N===4096||k===this.i.length-1){N=k+1;break t}}N=1e3}else N=1e3;N=Ma(this,At,N),k=_i(this.J),vn(k,"RID",g),vn(k,"CVER",22),this.G&&vn(k,"X-HTTP-Session-Id",this.G),Kr(this,k),jt&&(this.R?N="headers="+Xn(Pi(jt))+"&"+N:this.u&&Us(k,this.u,jt)),zs(this.h,At),this.Ra&&vn(k,"TYPE","init"),this.S?(vn(k,"$req",N),vn(k,"SID","null"),At.U=!0,Oi(At,k,null)):Oi(At,k,N),this.I=2}}else this.I==3&&(g?wo(this,g):this.i.length==0||Ir(this.h)||wo(this))};function wo(g,N){var k;N?k=N.l:k=g.V++;const J=_i(g.J);vn(J,"SID",g.M),vn(J,"RID",k),vn(J,"AID",g.K),Kr(g,J),g.u&&g.o&&Us(J,g.u,g.o),k=new dr(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),N&&(g.i=N.G.concat(g.i)),N=Ma(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),zs(g.h,k),Oi(k,J,N)}function Kr(g,N){g.H&&ct(g.H,function(k,J){vn(N,J,k)}),g.l&&ct({},function(k,J){vn(N,J,k)})}function Ma(g,N,k){k=Math.min(g.i.length,k);const J=g.l?d(g.l.Ka,g.l,g):null;t:{var At=g.i;let Ve=-1;for(;;){const Jn=["count="+k];Ve==-1?k>0?(Ve=At[0].g,Jn.push("ofs="+Ve)):Ve=0:Jn.push("ofs="+Ve);let ln=!0;for(let On=0;On<k;On++){var jt=At[On].g;const rr=At[On].map;if(jt-=Ve,jt<0)Ve=Math.max(0,At[On].g-100),ln=!1;else try{jt="req"+jt+"_"||"";try{var Xt=rr instanceof Map?rr:Object.entries(rr);for(const[mr,Yn]of Xt){let yr=Yn;h(Yn)&&(yr=$e(Yn)),Jn.push(jt+mr+"="+encodeURIComponent(yr))}}catch(mr){throw Jn.push(jt+"type="+encodeURIComponent("_badmap")),mr}}catch{J&&J(rr)}}if(ln){Xt=Jn.join("&");break t}}Xt=void 0}return g=g.i.splice(0,k),N.G=g,Xt}function il(g){if(!g.g&&!g.v){g.Y=1;var N=g.Da;_t||O(),Dt||(_t(),Dt=!0),$.add(N,g),g.A=0}}function Aa(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=sn(d(g.Da,g),pt(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=sn(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),ja(this),S(this))};function So(g){g.B!=null&&(c.clearTimeout(g.B),g.B=null)}function S(g){g.g=new dr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var N=_i(g.na);vn(N,"RID","rpc"),vn(N,"SID",g.M),vn(N,"AID",g.K),vn(N,"CI",g.F?"0":"1"),!g.F&&g.ia&&vn(N,"TO",g.ia),vn(N,"TYPE","xmlhttp"),Kr(g,N),g.u&&g.o&&Us(N,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=vs(_i(N)),k.u=null,k.R=!0,Nr(k,g)}n.Va=function(){this.C!=null&&(this.C=null,ja(this),Aa(this),we(19))};function B(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function lt(g,N){var k=null;if(g.g==N){B(g),So(g),g.g=null;var J=2}else if(_a(g.h,N))k=N.G,yo(g.h,N),J=1;else return;if(g.I!=0){if(N.o)if(J==1){k=N.u?N.u.length:0,N=Date.now()-N.F;var At=g.D;J=In(),re(J,new be(J,k)),la(g)}else il(g);else if(At=N.m,At==3||At==0&&N.X>0||!(J==1&&qs(g,N)||J==2&&Aa(g)))switch(k&&k.length>0&&(N=g.h,N.i=N.i.concat(k)),At){case 1:wt(g,5);break;case 4:wt(g,10);break;case 3:wt(g,6);break;default:wt(g,2)}}}function pt(g,N){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*N}function wt(g,N){if(g.j.info("Error code "+N),N==2){var k=d(g.bb,g),J=g.Ua;const At=!J;J=new nr(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(J,"https"),vs(J),At?wa(J.toString(),k):as(J.toString(),k)}else we(2);g.I=0,g.l&&g.l.pa(N),Ft(g),ka(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Ft(g){if(g.I=0,g.ja=[],g.l){const N=vo(g.h);(N.length!=0||g.i.length!=0)&&(F(g.ja,N),F(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Wt(g,N,k){var J=k instanceof nr?_i(k):new nr(k);if(J.g!="")N&&(J.g=N+"."+J.g),ns(J,J.u);else{var At=c.location;J=At.protocol,N=N?N+"."+At.hostname:At.hostname,At=+At.port;const jt=new nr(null);J&&cn(jt,J),N&&(jt.g=N),At&&ns(jt,At),k&&(jt.h=k),J=jt}return k=g.G,N=g.wa,k&&N&&vn(J,k,N),vn(J,"VER",g.ka),Kr(g,J),J}function le(g,N,k){if(N&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=g.Aa&&!g.ma?new Mn(new Re({ab:k})):new Mn(g.ma),N.Fa(g.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}n=de.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Le(){}Le.prototype.g=function(g,N){return new Ee(g,N)};function Ee(g,N){Vt.call(this),this.g=new Da(N),this.l=g,this.h=N&&N.messageUrlParams||null,g=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(g?g["X-WebChannel-Content-Type"]=N.messageContentType:g={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(g?g["X-WebChannel-Client-Profile"]=N.sa:g={"X-WebChannel-Client-Profile":N.sa}),this.g.U=g,(g=N&&N.Qb)&&!E(g)&&(this.g.u=g),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!E(N)&&(this.g.G=N,g=this.h,g!==null&&N in g&&(g=this.h,N in g&&delete g[N])),this.j=new qn(this)}A(Ee,Vt),Ee.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){ws(this.g)},Ee.prototype.o=function(g){var N=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=$e(g),g=k);N.i.push(new fi(N.Ya++,g)),N.I==3&&la(N)},Ee.prototype.N=function(){this.g.l=null,delete this.j,ws(this.g),delete this.g,Ee.Z.N.call(this)};function fn(g){Ce.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var N=g.__sm__;if(N){t:{for(const k in N){g=k;break t}g=void 0}(this.i=g)&&(g=this.i,N=N!==null&&g in N?N[g]:void 0),this.data=N}else this.data=g}A(fn,Ce);function Zn(){Pe.call(this),this.status=1}A(Zn,Pe);function qn(g){this.g=g}A(qn,de),qn.prototype.ra=function(){re(this.g,"a")},qn.prototype.qa=function(g){re(this.g,new fn(g))},qn.prototype.pa=function(g){re(this.g,new Zn)},qn.prototype.oa=function(){re(this.g,"b")},Le.prototype.createWebChannel=Le.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,Sx=function(){return new Le},wx=function(){return In()},_x=Ke,h0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,tp=Ur,Tr.COMPLETE="complete",xx=Tr,ci.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,gf=ci,Mn.prototype.listenOnce=Mn.prototype.K,Mn.prototype.getLastError=Mn.prototype.Ha,Mn.prototype.getLastErrorCode=Mn.prototype.ya,Mn.prototype.getStatus=Mn.prototype.ca,Mn.prototype.getResponseJson=Mn.prototype.La,Mn.prototype.getResponseText=Mn.prototype.la,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Fa,bx=Mn}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});let va=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");let wh="12.9.0";function oA(n){wh=n}const nc=new lx("@firebase/firestore");function Jc(){return nc.logLevel}function ue(n,...t){if(nc.logLevel<=Rn.DEBUG){const e=t.map(K0);nc.debug(`Firestore (${wh}): ${n}`,...e)}}function Il(n,...t){if(nc.logLevel<=Rn.ERROR){const e=t.map(K0);nc.error(`Firestore (${wh}): ${n}`,...e)}}function ic(n,...t){if(nc.logLevel<=Rn.WARN){const e=t.map(K0);nc.warn(`Firestore (${wh}): ${n}`,...e)}}function K0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Ue(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Ax(n,r,e)}function Ax(n,t,e){let r=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Il(r),new Error(r)}function Hn(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||Ax(t,s,r)}function nn(n,t){return n}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends cc{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yu{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Ex{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(va.UNAUTHENTICATED)))}shutdown(){}}class uA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class cA{constructor(t){this.t=t,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new yu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yu,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yu)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new Ex(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hn(t===null||typeof t=="string",2055,{h:t}),new va(t)}}class hA{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=va.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fA{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new hA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Hn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Sy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pA(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class $0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<e&&(r+=t.charAt(s[o]%62))}return r}}function _n(n,t){return n<t?-1:n>t?1:0}function f0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const s=n.charAt(r),o=t.charAt(r);if(s!==o)return Tg(s)===Tg(o)?_n(s,o):Tg(s)?1:-1}return _n(n.length,t.length)}const gA=55296,mA=57343;function Tg(n){const t=n.charCodeAt(0);return t>=gA&&t<=mA}function ph(n,t,e){return n.length===t.length&&n.every(((r,s)=>e(r,t[s])))}const Ay="__name__";class Uo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ue(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ue(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Uo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Uo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const o=Uo.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return _n(t.length,e.length)}static compareSegments(t,e){const r=Uo.isNumericId(t),s=Uo.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?Uo.extractNumericId(t).compare(Uo.extractNumericId(e)):f0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mu.fromString(t.substring(4,t.length-2))}}class hi extends Uo{construct(t,e,r){return new hi(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((s=>s.length>0)))}return new hi(e)}static emptyPath(){return new hi([])}}const yA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class na extends Uo{construct(t,e,r){return new na(t,e,r)}static isValidIdentifier(t){return yA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),na.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ay}static keyField(){return new na([Ay])}static fromServerFormat(t){const e=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;s<t.length;){const h=t[s];if(h==="\\"){if(s+1===t.length)throw new ae(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(r+=h,s++):(o(),s++)}if(o(),c)throw new ae(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new na(e)}static emptyPath(){return new na([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(hi.fromString(t))}static fromName(t){return new ke(hi.fromString(t).popFirst(5))}static empty(){return new ke(hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new hi(t.slice()))}}function Tx(n,t,e){if(!e)throw new ae(Gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vA(n,t,e,r){if(t===!0&&r===!0)throw new ae(Gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ey(n){if(!ke.isDocumentKey(n))throw new ae(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ty(n){if(ke.isDocumentKey(n))throw new ae(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function qo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ae(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Bp(n);throw new ae(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function cr(n,t){const e={typeString:n};return t&&(e.value=t),e}function zf(n,t){if(!Cx(n))throw new ae(Gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const s=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){e=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new ae(Gt.INVALID_ARGUMENT,e);return!0}const Cy=-62135596800,Ny=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Ny);return new bi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Cy)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ae(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zf(t,bi._jsonSchema))return new bi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bi._jsonSchemaVersion="firestore/timestamp/1.0",bi._jsonSchema={type:cr("string",bi._jsonSchemaVersion),seconds:cr("number"),nanoseconds:cr("number")};class Xe{static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new bi(0,0))}static max(){return new Xe(new bi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rf=-1;function bA(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(r===1e9?new bi(e+1,0):new bi(e,r));return new xu(s,ke.empty(),t)}function xA(n){return new xu(n.readTime,n.key,Rf)}class xu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new xu(Xe.min(),ke.empty(),Rf)}static max(){return new xu(Xe.max(),ke.empty(),Rf)}}function _A(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ke.comparator(n.documentKey,t.documentKey),e!==0?e:_n(n.largestBatchId,t.largestBatchId))}const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Sh(n){if(n.code!==Gt.FAILED_PRECONDITION||n.message!==wA)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class Kt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Kt(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Kt?e:Kt.resolve(e)}catch(e){return Kt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Kt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Kt.reject(e)}static resolve(t){return new Kt(((e,r)=>{e(t)}))}static reject(t){return new Kt(((e,r)=>{r(t)}))}static waitFor(t){return new Kt(((e,r)=>{let s=0,o=0,c=!1;t.forEach((h=>{++s,h.next((()=>{++o,c&&o===s&&e()}),(f=>r(f)))})),c=!0,o===s&&e()}))}static or(t){let e=Kt.resolve(!1);for(const r of t)e=e.next((s=>s?Kt.resolve(s):r()));return e}static forEach(t,e){const r=[];return t.forEach(((s,o)=>{r.push(e.call(this,s,o))})),this.waitFor(r)}static mapArray(t,e){return new Kt(((r,s)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{c[d]=y,++h,h===o&&r(c)}),(y=>s(y)))}}))}static doWhile(t,e){return new Kt(((r,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):r()};o()}))}}function AA(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ah(n){return n.name==="IndexedDbTransactionError"}class Up{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Up.ce=-1;const Q0=-1;function Vp(n){return n==null}function mp(n){return n===0&&1/n==-1/0}function EA(n){return typeof n=="number"&&Number.isInteger(n)&&!mp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Nx="";function TA(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Ry(t)),t=CA(n.get(e),t);return Ry(t)}function CA(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case Nx:e+="";break;default:e+=o}}return e}function Ry(n){return n+Nx+""}function Iy(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Rx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ki{constructor(t,e){this.comparator=t,this.root=e||ea.EMPTY}insert(t,e){return new ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ea.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fd(this.root,t,this.comparator,!0)}}class Fd{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ea{constructor(t,e,r,s,o){this.key=t,this.value=e,this.color=r??ea.RED,this.left=s??ea.EMPTY,this.right=o??ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,o){return new ea(t??this.key,e??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,r),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ea.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ue(27949);return t+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1;ea.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(t,e,r,s,o){return this}insert(t,e,r){return new ea(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(t){return new Ly(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Er)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Er(this.comparator);return e.data=t,e}}class Ly{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gs{constructor(t){this.fields=t,t.sort(na.comparator)}static empty(){return new gs([])}unionWith(t){let e=new Er(na.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new gs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ph(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ia{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ix("Invalid base64 string: "+o):o}})(t);return new ia(e)}static fromUint8Array(t){const e=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(t);return new ia(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ia.EMPTY_BYTE_STRING=new ia("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(n){if(Hn(!!n,39018),typeof n=="string"){let t=0;const e=NA.exec(n);if(Hn(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wu(n){return typeof n=="string"?ia.fromBase64String(n):ia.fromUint8Array(n)}const Lx="server_timestamp",Dx="__type__",jx="__previous_value__",kx="__local_write_time__";function X0(n){return(n?.mapValue?.fields||{})[Dx]?.stringValue===Lx}function qp(n){const t=n.mapValue.fields[jx];return X0(t)?qp(t):t}function If(n){const t=_u(n.mapValue.fields[kx].timestampValue);return new bi(t.seconds,t.nanos)}class RA{constructor(t,e,r,s,o,c,h,f,d,y,A){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=A}}const yp="(default)";class Lf{constructor(t,e){this.projectId=t,this.database=e||yp}static empty(){return new Lf("","")}get isDefaultDatabase(){return this.database===yp}isEqual(t){return t instanceof Lf&&t.projectId===this.projectId&&t.database===this.database}}function IA(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(n.options.projectId,t)}const Mx="__type__",LA="__max__",Bd={mapValue:{}},Ox="__vector__",vp="value";function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:jA(n)?9007199254740991:DA(n)?10:11:Ue(28295,{value:n})}function Wo(n,t){if(n===t)return!0;const e=Su(n);if(e!==Su(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return If(n).isEqual(If(t));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=_u(s.timestampValue),h=_u(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(s,o){return wu(s.bytesValue).isEqual(wu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(s,o){return Qi(s.geoPointValue.latitude)===Qi(o.geoPointValue.latitude)&&Qi(s.geoPointValue.longitude)===Qi(o.geoPointValue.longitude)})(n,t);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Qi(s.integerValue)===Qi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Qi(s.doubleValue),h=Qi(o.doubleValue);return c===h?mp(c)===mp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return ph(n.arrayValue.values||[],t.arrayValue.values||[],Wo);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Iy(c)!==Iy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Wo(c[f],h[f])))return!1;return!0})(n,t);default:return Ue(52216,{left:n})}}function Df(n,t){return(n.values||[]).find((e=>Wo(e,t)))!==void 0}function gh(n,t){if(n===t)return 0;const e=Su(n),r=Su(t);if(e!==r)return _n(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Qi(o.integerValue||o.doubleValue),f=Qi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Dy(n.timestampValue,t.timestampValue);case 4:return Dy(If(n),If(t));case 5:return f0(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=wu(o),f=wu(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=_n(h[d],f[d]);if(y!==0)return y}return _n(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=_n(Qi(o.latitude),Qi(c.latitude));return h!==0?h:_n(Qi(o.longitude),Qi(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return jy(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[vp]?.arrayValue,y=f[vp]?.arrayValue,A=_n(d?.values?.length||0,y?.values?.length||0);return A!==0?A:jy(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Bd.mapValue&&c===Bd.mapValue)return 0;if(o===Bd.mapValue)return 1;if(c===Bd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let A=0;A<f.length&&A<y.length;++A){const C=f0(f[A],y[A]);if(C!==0)return C;const _=gh(h[f[A]],d[y[A]]);if(_!==0)return _}return _n(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Ue(23264,{he:e})}}function Dy(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return _n(n,t);const e=_u(n),r=_u(t),s=_n(e.seconds,r.seconds);return s!==0?s:_n(e.nanos,r.nanos)}function jy(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const o=gh(e[s],r[s]);if(o)return o}return _n(e.length,r.length)}function mh(n){return d0(n)}function d0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=_u(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return wu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ke.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",s=!0;for(const o of e.values||[])s?s=!1:r+=",",r+=d0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${d0(e.fields[c])}`;return s+"}"})(n.mapValue):Ue(61005,{value:n})}function ep(n){switch(Su(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qp(n);return t?16+ep(t):16;case 5:return 2*n.stringValue.length;case 6:return wu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+ep(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Cu(r.fields,((o,c)=>{s+=o.length+ep(c)})),s})(n.mapValue);default:throw Ue(13486,{value:n})}}function ky(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function p0(n){return!!n&&"integerValue"in n}function Z0(n){return!!n&&"arrayValue"in n}function My(n){return!!n&&"nullValue"in n}function Oy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function np(n){return!!n&&"mapValue"in n}function DA(n){return(n?.mapValue?.fields||{})[Mx]?.stringValue===Ox}function xf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Cu(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=xf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=xf(n.arrayValue.values[e]);return t}return{...n}}function jA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LA}class Za{constructor(t){this.value=t}static empty(){return new Za({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!np(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xf(e)}setAll(t){let e=na.emptyPath(),r={},s=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,s),r={},s=[],e=h.popLast()}c?r[h.lastSegment()]=xf(c):s.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,s)}delete(t){const e=this.field(t.popLast());np(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Wo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];np(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){Cu(e,((s,o)=>t[s]=o));for(const s of r)delete t[s]}clone(){return new Za(xf(this.value))}}function Px(n){const t=[];return Cu(n.fields,((e,r)=>{const s=new na([e]);if(np(r)){const o=Px(r.mapValue).fields;if(o.length===0)t.push(s);else for(const c of o)t.push(s.child(c))}else t.push(s)})),new gs(t)}class ba{constructor(t,e,r,s,o,c,h){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ba(t,0,Xe.min(),Xe.min(),Xe.min(),Za.empty(),0)}static newFoundDocument(t,e,r,s){return new ba(t,1,e,Xe.min(),r,s,0)}static newNoDocument(t,e){return new ba(t,2,e,Xe.min(),Xe.min(),Za.empty(),0)}static newUnknownDocument(t,e){return new ba(t,3,e,Xe.min(),Xe.min(),Za.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ba&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ba(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bp{constructor(t,e){this.position=t,this.inclusive=e}}function Py(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const o=t[s],c=n.position[s];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),e.key):r=gh(c,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zy(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Wo(n.position[e],t.position[e]))return!1;return!0}class jf{constructor(t,e="asc"){this.field=t,this.dir=e}}function kA(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class zx{}class ur extends zx{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new OA(t,e,r):e==="array-contains"?new FA(t,r):e==="in"?new BA(t,r):e==="not-in"?new UA(t,r):e==="array-contains-any"?new VA(t,r):new ur(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new PA(t,r):new zA(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(gh(e,this.value)):e!==null&&Su(this.value)===Su(e)&&this.matchesComparison(gh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends zx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ho(t,e)}matches(t){return Fx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fx(n){return n.op==="and"}function Bx(n){return MA(n)&&Fx(n)}function MA(n){for(const t of n.filters)if(t instanceof ho)return!1;return!0}function g0(n){if(n instanceof ur)return n.field.canonicalString()+n.op.toString()+mh(n.value);if(Bx(n))return n.filters.map((t=>g0(t))).join(",");{const t=n.filters.map((e=>g0(e))).join(",");return`${n.op}(${t})`}}function Ux(n,t){return n instanceof ur?(function(r,s){return s instanceof ur&&r.op===s.op&&r.field.isEqual(s.field)&&Wo(r.value,s.value)})(n,t):n instanceof ho?(function(r,s){return s instanceof ho&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,h)=>o&&Ux(c,s.filters[h])),!0):!1})(n,t):void Ue(19439)}function Vx(n){return n instanceof ur?(function(e){return`${e.field.canonicalString()} ${e.op} ${mh(e.value)}`})(n):n instanceof ho?(function(e){return e.op.toString()+" {"+e.getFilters().map(Vx).join(" ,")+"}"})(n):"Filter"}class OA extends ur{constructor(t,e,r){super(t,e,r),this.key=ke.fromName(r.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class PA extends ur{constructor(t,e){super(t,"in",e),this.keys=qx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zA extends ur{constructor(t,e){super(t,"not-in",e),this.keys=qx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function qx(n,t){return(t.arrayValue?.values||[]).map((e=>ke.fromName(e.referenceValue)))}class FA extends ur{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Z0(e)&&Df(e.arrayValue,this.value)}}class BA extends ur{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Df(this.value.arrayValue,e)}}class UA extends ur{constructor(t,e){super(t,"not-in",e)}matches(t){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Df(this.value.arrayValue,e)}}class VA extends ur{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Z0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Df(this.value.arrayValue,r)))}}class qA{constructor(t,e=null,r=[],s=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Fy(n,t=null,e=[],r=[],s=null,o=null,c=null){return new qA(n,t,e,r,s,o,c)}function J0(n){const t=nn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>g0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Vp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>mh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>mh(r))).join(",")),t.Te=e}return t.Te}function tm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kA(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Ux(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!zy(n.startAt,t.startAt)&&zy(n.endAt,t.endAt)}function m0(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Eh{constructor(t,e=null,r=[],s=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HA(n,t,e,r,s,o,c,h){return new Eh(n,t,e,r,s,o,c,h)}function em(n){return new Eh(n)}function By(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GA(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Hx(n){return n.collectionGroup!==null}function _f(n){const t=nn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Er(na.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new jf(o,r))})),e.has(na.keyField().canonicalString())||t.Ie.push(new jf(na.keyField(),r))}return t.Ie}function Ho(n){const t=nn(n);return t.Ee||(t.Ee=YA(t,_f(n))),t.Ee}function YA(n,t){if(n.limitType==="F")return Fy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new jf(s.field,o)}));const e=n.endAt?new bp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bp(n.startAt.position,n.startAt.inclusive):null;return Fy(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function y0(n,t){const e=n.filters.concat([t]);return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function WA(n,t){const e=n.explicitOrderBy.concat([t]);return new Eh(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function xp(n,t,e){return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Hp(n,t){return tm(Ho(n),Ho(t))&&n.limitType===t.limitType}function Gx(n){return`${J0(Ho(n))}|lt:${n.limitType}`}function th(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((s=>Vx(s))).join(", ")}]`),Vp(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>mh(s))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>mh(s))).join(",")),`Target(${r})`})(Ho(n))}; limitType=${n.limitType})`}function Gp(n,t){return t.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,s){for(const o of _f(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,t)&&(function(r,s){return!(r.startAt&&!(function(c,h,f){const d=Py(c,h,f);return c.inclusive?d<=0:d<0})(r.startAt,_f(r),s)||r.endAt&&!(function(c,h,f){const d=Py(c,h,f);return c.inclusive?d>=0:d>0})(r.endAt,_f(r),s))})(n,t)}function KA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yx(n){return(t,e)=>{let r=!1;for(const s of _f(n)){const o=$A(s,t,e);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function $A(n,t,e){const r=n.field.isKeyField()?ke.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?gh(f,d):Ue(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class hc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Cu(this.inner,((e,r)=>{for(const[s,o]of r)t(s,o)}))}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}}const QA=new ki(ke.comparator);function Ll(){return QA}const Wx=new ki(ke.comparator);function mf(...n){let t=Wx;for(const e of n)t=t.insert(e.key,e);return t}function Kx(n){let t=Wx;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Zu(){return wf()}function $x(){return wf()}function wf(){return new hc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const XA=new ki(ke.comparator),ZA=new Er(ke.comparator);function wn(...n){let t=ZA;for(const e of n)t=t.add(e);return t}const JA=new Er(_n);function t6(){return JA}function nm(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(t)?"-0":t}}function Qx(n){return{integerValue:""+n}}function e6(n,t){return EA(t)?Qx(t):nm(n,t)}class Yp{constructor(){this._=void 0}}function n6(n,t,e){return n instanceof _p?(function(s,o){const c={fields:{[Dx]:{stringValue:Lx},[kx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&X0(o)&&(o=qp(o)),o&&(c.fields[jx]=o),{mapValue:c}})(e,t):n instanceof kf?Zx(n,t):n instanceof Mf?Jx(n,t):(function(s,o){const c=Xx(s,o),h=Uy(c)+Uy(s.Ae);return p0(c)&&p0(s.Ae)?Qx(h):nm(s.serializer,h)})(n,t)}function i6(n,t,e){return n instanceof kf?Zx(n,t):n instanceof Mf?Jx(n,t):e}function Xx(n,t){return n instanceof wp?(function(r){return p0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class _p extends Yp{}class kf extends Yp{constructor(t){super(),this.elements=t}}function Zx(n,t){const e=t_(t);for(const r of n.elements)e.some((s=>Wo(s,r)))||e.push(r);return{arrayValue:{values:e}}}class Mf extends Yp{constructor(t){super(),this.elements=t}}function Jx(n,t){let e=t_(t);for(const r of n.elements)e=e.filter((s=>!Wo(s,r)));return{arrayValue:{values:e}}}class wp extends Yp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Uy(n){return Qi(n.integerValue||n.doubleValue)}function t_(n){return Z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r6(n,t){return n.field.isEqual(t.field)&&(function(r,s){return r instanceof kf&&s instanceof kf||r instanceof Mf&&s instanceof Mf?ph(r.elements,s.elements,Wo):r instanceof wp&&s instanceof wp?Wo(r.Ae,s.Ae):r instanceof _p&&s instanceof _p})(n.transform,t.transform)}class a6{constructor(t,e){this.version=t,this.transformResults=e}}class lo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lo}static exists(t){return new lo(void 0,t)}static updateTime(t){return new lo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ip(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Wp{}function e_(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new im(n.key,lo.none()):new Ff(n.key,n.data,lo.none());{const e=n.data,r=Za.empty();let s=new Er(na.comparator);for(let o of t.fields)if(!s.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Nu(n.key,r,new gs(s.toArray()),lo.none())}}function s6(n,t,e){n instanceof Ff?(function(s,o,c){const h=s.value.clone(),f=qy(s.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Nu?(function(s,o,c){if(!ip(s.precondition,o))return void o.convertToUnknownDocument(c.version);const h=qy(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(n_(s)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Sf(n,t,e,r){return n instanceof Ff?(function(o,c,h,f){if(!ip(o.precondition,c))return h;const d=o.value.clone(),y=Hy(o.fieldTransforms,f,c);return d.setAll(y),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,r):n instanceof Nu?(function(o,c,h,f){if(!ip(o.precondition,c))return h;const d=Hy(o.fieldTransforms,f,c),y=c.data;return y.setAll(n_(o)),y.setAll(d),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,r):(function(o,c,h){return ip(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function o6(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),o=Xx(r.transform,s||null);o!=null&&(e===null&&(e=Za.empty()),e.set(r.field,o))}return e||null}function Vy(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ph(r,s,((o,c)=>r6(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ff extends Wp{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nu extends Wp{constructor(t,e,r,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function n_(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function qy(n,t,e){const r=new Map;Hn(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let s=0;s<e.length;s++){const o=n[s],c=o.transform,h=t.data.field(o.field);r.set(o.field,i6(c,h,e[s]))}return r}function Hy(n,t,e){const r=new Map;for(const s of n){const o=s.transform,c=e.data.field(s.field);r.set(s.field,n6(o,c,t))}return r}class im extends Wp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l6 extends Wp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u6{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&s6(o,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Sf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Sf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=$x();return this.mutations.forEach((s=>{const o=t.get(s.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(s.key)?null:h;const f=e_(c,h);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wn())}isEqual(t){return this.batchId===t.batchId&&ph(this.mutations,t.mutations,((e,r)=>Vy(e,r)))&&ph(this.baseMutations,t.baseMutations,((e,r)=>Vy(e,r)))}}class rm{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){Hn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return XA})();const o=t.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new rm(t,e,r,s)}}class c6{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class h6{constructor(t,e){this.count=t,this.unchangedNames=e}}var lr,Nn;function f6(n){switch(n){case Gt.OK:return Ue(64938);case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function i_(n){if(n===void 0)return Il("GRPC error has no .code"),Gt.UNKNOWN;switch(n){case lr.OK:return Gt.OK;case lr.CANCELLED:return Gt.CANCELLED;case lr.UNKNOWN:return Gt.UNKNOWN;case lr.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case lr.INTERNAL:return Gt.INTERNAL;case lr.UNAVAILABLE:return Gt.UNAVAILABLE;case lr.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case lr.NOT_FOUND:return Gt.NOT_FOUND;case lr.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case lr.ABORTED:return Gt.ABORTED;case lr.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case lr.DATA_LOSS:return Gt.DATA_LOSS;default:return Ue(39323,{code:n})}}(Nn=lr||(lr={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";function d6(){return new TextEncoder}const p6=new mu([4294967295,4294967295],0);function Gy(n){const t=d6().encode(n),e=new vx;return e.update(t),new Uint8Array(e.digest())}function Yy(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new mu([e,r],0),new mu([s,o],0)]}class am{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new yf(`Invalid padding: ${e}`);if(r<0)throw new yf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new yf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=mu.fromNumber(this.ge)}ye(t,e,r){let s=t.add(e.multiply(mu.fromNumber(r)));return s.compare(p6)===1&&(s=new mu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Gy(t),[r,s]=Yy(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new am(o,s,e);return r.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Gy(t),[r,s]=Yy(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kp{constructor(t,e,r,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,Bf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Kp(Xe.min(),s,new ki(_n),Ll(),wn())}}class Bf{constructor(t,e,r,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Bf(r,e,wn(),wn(),wn())}}class rp{constructor(t,e,r,s){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=s}}class r_{constructor(t,e){this.targetId=t,this.Ce=e}}class a_{constructor(t,e,r=ia.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class Wy{constructor(){this.ve=0,this.Fe=Ky(),this.Me=ia.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wn(),e=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:Ue(38017,{changeType:o})}})),new Bf(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=Ky()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class g6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ll(),this.He=Ud(),this.Je=Ud(),this.Ze=new ki(_n)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Ue(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,r=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(m0(o))if(r===0){const c=new ke(o.path);this.et(e,c,ba.newNoDocument(c,Xe.min()))}else Hn(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=e;let c,h;try{c=wu(r).toUint8Array()}catch(f){if(f instanceof Ix)return ic("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new am(c,s,o)}catch(f){return ic(f instanceof yf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&m0(h.target)){const f=new ke(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ba.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.Ke())}}));let r=wn();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const s=new Kp(t,e,this.Ze,this.je,r);return this.je=Ll(),this.He=Ud(),this.Je=Ud(),this.Ze=new ki(_n),s}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.qe(e,1):s.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new Wy,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Er(_n),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Er(_n),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Wy),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ud(){return new ki(ke.comparator)}function Ky(){return new ki(ke.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v6={and:"AND",or:"OR"};class b6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function v0(n,t){return n.useProto3Json||Vp(t)?t:{value:t}}function Sp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function s_(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function x6(n,t){return Sp(n,t.toTimestamp())}function Go(n){return Hn(!!n,49232),Xe.fromTimestamp((function(e){const r=_u(e);return new bi(r.seconds,r.nanos)})(n))}function sm(n,t){return b0(n,t).canonicalString()}function b0(n,t){const e=(function(s){return new hi(["projects",s.projectId,"databases",s.database])})(n).child("documents");return t===void 0?e:e.child(t)}function o_(n){const t=hi.fromString(n);return Hn(f_(t),10190,{key:t.toString()}),t}function x0(n,t){return sm(n.databaseId,t.path)}function Cg(n,t){const e=o_(t);if(e.get(1)!==n.databaseId.projectId)throw new ae(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ae(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(u_(e))}function l_(n,t){return sm(n.databaseId,t)}function _6(n){const t=o_(n);return t.length===4?hi.emptyPath():u_(t)}function _0(n){return new hi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u_(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $y(n,t,e){return{name:x0(n,t),fields:e.value.mapValue.fields}}function w6(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Hn(y===void 0||typeof y=="string",58123),ia.fromBase64String(y||"")):(Hn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ia.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const y=d.code===void 0?Gt.UNKNOWN:i_(d.code);return new ae(y,d.message||"")})(c);e=new a_(r,s,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cg(n,r.document.name),o=Go(r.document.updateTime),c=r.document.createTime?Go(r.document.createTime):Xe.min(),h=new Za({mapValue:{fields:r.document.fields}}),f=ba.newFoundDocument(s,o,c,h),d=r.targetIds||[],y=r.removedTargetIds||[];e=new rp(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Cg(n,r.document),o=r.readTime?Go(r.readTime):Xe.min(),c=ba.newNoDocument(s,o),h=r.removedTargetIds||[];e=new rp([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Cg(n,r.document),o=r.removedTargetIds||[];e=new rp([],o,s,null)}else{if(!("filter"in t))return Ue(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new h6(s,o),h=r.targetId;e=new r_(h,c)}}return e}function S6(n,t){let e;if(t instanceof Ff)e={update:$y(n,t.key,t.value)};else if(t instanceof im)e={delete:x0(n,t.key)};else if(t instanceof Nu)e={update:$y(n,t.key,t.data),updateMask:D6(t.fieldMask)};else{if(!(t instanceof l6))return Ue(16599,{dt:t.type});e={verify:x0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof _p)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Mf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ue(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:x6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)})(n,t.precondition)),e}function A6(n,t){return n&&n.length>0?(Hn(t!==void 0,14353),n.map((e=>(function(s,o){let c=s.updateTime?Go(s.updateTime):Go(o);return c.isEqual(Xe.min())&&(c=Go(o)),new a6(c,s.transformResults||[])})(e,t)))):[]}function E6(n,t){return{documents:[l_(n,t.path)]}}function T6(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=l_(n,s);const o=(function(d){if(d.length!==0)return h_(ho.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((y=>(function(C){return{field:eh(C.field),direction:R6(C.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=v0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function C6(n){let t=_6(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const y=e.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(A){const C=c_(A);return C instanceof ho&&Bx(C)?C.getFilters():[C]})(e.where));let c=[];e.orderBy&&(c=(function(A){return A.map((C=>(function(F){return new jf(nh(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let C;return C=typeof A=="object"?A.value:A,Vp(C)?null:C})(e.limit));let f=null;e.startAt&&(f=(function(A){const C=!!A.before,_=A.values||[];return new bp(_,C)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const C=!A.before,_=A.values||[];return new bp(_,C)})(e.endAt)),HA(t,s,c,o,h,"F",f,d)}function N6(n,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function c_(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=nh(e.unaryFilter.field);return ur.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=nh(e.unaryFilter.field);return ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nh(e.unaryFilter.field);return ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nh(e.unaryFilter.field);return ur.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ur.create(nh(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ho.create(e.compositeFilter.filters.map((r=>c_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(e.compositeFilter.op))})(n):Ue(30097,{filter:n})}function R6(n){return m6[n]}function I6(n){return y6[n]}function L6(n){return v6[n]}function eh(n){return{fieldPath:n.canonicalString()}}function nh(n){return na.fromServerFormat(n.fieldPath)}function h_(n){return n instanceof ur?(function(e){if(e.op==="=="){if(Oy(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NAN"}};if(My(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Oy(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NOT_NAN"}};if(My(e.value))return{unaryFilter:{field:eh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eh(e.field),op:I6(e.op),value:e.value}}})(n):n instanceof ho?(function(e){const r=e.getFilters().map((s=>h_(s)));return r.length===1?r[0]:{compositeFilter:{op:L6(e.op),filters:r}}})(n):Ue(54877,{filter:n})}function D6(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function f_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function d_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class hu{constructor(t,e,r,s,o=Xe.min(),c=Xe.min(),h=ia.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class j6{constructor(t){this.yt=t}}function k6(n){const t=C6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xp(t,t.limit,"L"):t}class M6{constructor(){this.Sn=new O6}addToCollectionParentIndex(t,e){return this.Sn.add(e),Kt.resolve()}getCollectionParents(t,e){return Kt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return Kt.resolve()}deleteFieldIndex(t,e){return Kt.resolve()}deleteAllFieldIndexes(t){return Kt.resolve()}createTargetIndexes(t,e){return Kt.resolve()}getDocumentsMatchingTarget(t,e){return Kt.resolve(null)}getIndexType(t,e){return Kt.resolve(0)}getFieldIndexes(t,e){return Kt.resolve([])}getNextCollectionGroupToUpdate(t){return Kt.resolve(null)}getMinOffset(t,e){return Kt.resolve(xu.min())}getMinOffsetFromCollectionGroup(t,e){return Kt.resolve(xu.min())}updateCollectionGroup(t,e,r){return Kt.resolve()}updateIndexEntries(t,e){return Kt.resolve()}}class O6{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new Er(hi.comparator),o=!s.has(r);return this.index[e]=s.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Er(hi.comparator)).toArray()}}const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p_=41943040;class Xa{static withCacheSize(t){return new Xa(t,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(p_,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class yh{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new yh(0)}static ar(){return new yh(-1)}}const Xy="LruGarbageCollector",P6=1048576;function Zy([n,t],[e,r]){const s=_n(n,e);return s===0?_n(t,r):s}class z6{constructor(t){this.Pr=t,this.buffer=new Er(Zy),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Zy(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class F6{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ue(Xy,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ah(e)?ue(Xy,"Ignoring IndexedDB error during garbage collection: ",e):await Sh(e)}await this.Ar(3e5)}))}}class B6{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Kt.resolve(Up.ce);const r=new z6(e);return this.Vr.forEachTarget(t,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Kt.resolve(Qy)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,s,o,c,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,c=Date.now(),this.nthSequenceNumber(t,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(t,r,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(d=Date.now(),Jc()<=Rn.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Kt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function U6(n,t){return new B6(n,t)}class V6{constructor(){this.changes=new hc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ba.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Kt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class q6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class H6{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(r!==null&&Sf(r.mutation,s,gs.empty(),bi.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,wn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=wn()){const s=Zu();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,r).next((o=>{let c=mf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Zu();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,wn())))}populateOverlays(t,e,r){const s=[];return r.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,r,s){let o=Ll();const c=wf(),h=(function(){return wf()})();return e.forEach(((f,d)=>{const y=r.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof Nu)?o=o.insert(d.key,d):y!==void 0?(c.set(d.key,y.mutation.getFieldMask()),Sf(y.mutation,d,y.mutation.getFieldMask(),bi.now())):c.set(d.key,gs.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>c.set(d,y))),e.forEach(((d,y)=>h.set(d,new q6(y,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=wf();let s=new ki(((c,h)=>c-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=r.get(f)||gs.empty();y=h.applyToLocalView(d,y),r.set(f,y);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,A=$x();y.forEach((C=>{if(!o.has(C)){const _=e_(e.get(C),r.get(C));_!==null&&A.set(C,_),o=o.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,A))}return Kt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,s){return GA(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Hx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-o.size):Kt.resolve(Zu());let h=Rf,f=o;return c.next((d=>Kt.forEach(d,((y,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(y)?Kt.resolve():this.remoteDocumentCache.getEntry(t,y).next((C=>{f=f.insert(y,C)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,wn()))).next((y=>({batchId:h,changes:Kx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next((r=>{let s=mf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const o=e.collectionGroup;let c=mf();return this.indexManager.getCollectionParents(t,o).next((h=>Kt.forEach(h,(f=>{const d=(function(A,C){return new Eh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,s).next((y=>{y.forEach(((A,C)=>{c=c.insert(A,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,s)))).next((c=>{o.forEach(((f,d)=>{const y=d.getKey();c.get(y)===null&&(c=c.insert(y,ba.newInvalidDocument(y)))}));let h=mf();return c.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&Sf(y.mutation,d,gs.empty(),bi.now()),Gp(e,d)&&(h=h.insert(f,d))})),h}))}}class G6{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return Kt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:Go(s.createTime)}})(e)),Kt.resolve()}getNamedQuery(t,e){return Kt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(s){return{name:s.name,query:k6(s.bundledQuery),readTime:Go(s.readTime)}})(e)),Kt.resolve()}}class Y6{constructor(){this.overlays=new ki(ke.comparator),this.Lr=new Map}getOverlay(t,e){return Kt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Zu();return Kt.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((s,o)=>{this.bt(t,e,o)})),Kt.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Kt.resolve()}getOverlaysForCollection(t,e,r){const s=Zu(),o=e.length+1,c=new ke(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Kt.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let o=new ki(((d,y)=>d-y));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=Zu(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=Zu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=s)););return Kt.resolve(h)}bt(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new c6(e,r));let o=this.Lr.get(e);o===void 0&&(o=wn(),this.Lr.set(e,o)),this.Lr.set(e,o.add(r.key))}}class W6{constructor(){this.sessionToken=ia.EMPTY_BYTE_STRING}getSessionToken(t){return Kt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Kt.resolve()}}class om{constructor(){this.kr=new Er(Fr.Kr),this.qr=new Er(Fr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new Fr(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new Fr(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new ke(new hi([])),r=new Fr(e,t),s=new Fr(e,t+1),o=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ke(new hi([])),r=new Fr(e,t),s=new Fr(e,t+1);let o=wn();return this.qr.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Fr(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fr{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ke.comparator(t.key,e.key)||_n(t.Hr,e.Hr)}static Ur(t,e){return _n(t.Hr,e.Hr)||ke.comparator(t.key,e.key)}}class K6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Er(Fr.Kr)}checkEmpty(t){return Kt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new u6(o,e,r,s);this.mutationQueue.push(c);for(const h of s)this.Jr=this.Jr.add(new Fr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Kt.resolve(c)}lookupMutationBatch(t,e){return Kt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.Xr(r),o=s<0?0:s;return Kt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Kt.resolve(this.mutationQueue.length===0?Q0:this.Yn-1)}getAllMutationBatches(t){return Kt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fr(e,0),s=new Fr(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(c=>{const h=this.Zr(c.Hr);o.push(h)})),Kt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Er(_n);return e.forEach((s=>{const o=new Fr(s,0),c=new Fr(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),Kt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const c=new Fr(new ke(o),0);let h=new Er(_n);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Hr)),!0)}),c),Kt.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((r=>{const s=this.Zr(r);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Hn(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Kt.forEach(e.mutations,(s=>{const o=new Fr(s.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new Fr(e,0),s=this.Jr.firstAfterOrEqual(r);return Kt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Kt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class $6{constructor(t){this.ti=t,this.docs=(function(){return new ki(ke.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),o=s?s.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Kt.resolve(r?r.document.mutableCopy():ba.newInvalidDocument(e))}getEntries(t,e){let r=Ll();return e.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ba.newInvalidDocument(s))})),Kt.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let o=Ll();const c=e.path,h=new ke(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||_A(xA(y),r)<=0||(s.has(y.key)||Gp(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Kt.resolve(o)}getAllFromCollectionGroup(t,e,r,s){Ue(9500)}ni(t,e){return Kt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new Q6(this)}getSize(t){return Kt.resolve(this.size)}}class Q6 extends V6{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?e.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)})),Kt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class X6{constructor(t){this.persistence=t,this.ri=new hc((e=>J0(e)),tm),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ii=0,this.si=new om,this.targetCount=0,this.oi=yh._r()}forEachTarget(t,e){return this.ri.forEach(((r,s)=>e(s))),Kt.resolve()}getLastRemoteSnapshotVersion(t){return Kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Kt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Kt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),Kt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new yh(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,Kt.resolve()}updateTargetData(t,e){return this.lr(e),Kt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,Kt.resolve()}removeTargets(t,e,r){let s=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),Kt.waitFor(o).next((()=>s))}getTargetCount(t){return Kt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return Kt.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),Kt.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((c=>{o.push(s.markPotentiallyOrphaned(t,c))})),Kt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),Kt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return Kt.resolve(r)}containsKey(t,e){return Kt.resolve(this.si.containsKey(e))}}class g_{constructor(t,e){this._i={},this.overlays={},this.ai=new Up(0),this.ui=!1,this.ui=!0,this.ci=new W6,this.referenceDelegate=t(this),this.li=new X6(this),this.indexManager=new M6,this.remoteDocumentCache=(function(s){return new $6(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new j6(e),this.Pi=new G6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Y6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new K6(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ue("MemoryPersistence","Starting transaction:",t);const s=new Z6(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(t,e){return Kt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class Z6 extends SA{constructor(t){super(),this.currentSequenceNumber=t}}class lm{constructor(t){this.persistence=t,this.Ri=new om,this.Ai=null}static Vi(t){return new lm(t)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),Kt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),Kt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),Kt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kt.forEach(this.di,(r=>{const s=ke.fromPath(r);return this.mi(t,s).next((o=>{o||e.removeEntry(s,Xe.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return Kt.or([()=>Kt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Ap{constructor(t,e){this.persistence=t,this.fi=new hc((r=>TA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=U6(this,e)}static Vi(t,e){return new Ap(t,e)}Ti(){}Ii(t){return Kt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((s=>r+s))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return Kt.forEach(this.fi,((r,s)=>this.wr(t,r,s).next((o=>o?Kt.resolve():e(s)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(r++,o.removeEntry(c,Xe.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),Kt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),Kt.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),Kt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),Kt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ep(t.data.value)),e}wr(t,e,r){return Kt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.fi.get(e);return Kt.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class um{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=s}static Es(t,e){let r=wn(),s=wn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new um(t,e.fromCache,r,s)}}class J6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return W3()?8:AA(G3())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,s){const o={result:null};return this.gs(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(t,e,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new J6;return this.ys(t,e,c).next((h=>{if(o.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>o.result))}ws(t,e,r,s){return r.documentReadCount<this.Vs?(Jc()<=Rn.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",th(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Kt.resolve()):(Jc()<=Rn.DEBUG&&ue("QueryEngine","Query:",th(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Jc()<=Rn.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",th(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ho(e))):Kt.resolve())}gs(t,e){if(By(e))return Kt.resolve(null);let r=Ho(e);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=xp(e,null,"F"),r=Ho(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const c=wn(...o);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const d=this.bs(e,h);return this.Ss(e,d,c,f.readTime)?this.gs(t,xp(e,null,"F")):this.Ds(t,d,e,f)}))))})))))}ps(t,e,r,s){return By(e)||s.isEqual(Xe.min())?Kt.resolve(null):this.fs.getDocuments(t,r).next((o=>{const c=this.bs(e,o);return this.Ss(e,c,r,s)?Kt.resolve(null):(Jc()<=Rn.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),th(e)),this.Ds(t,c,e,bA(s,Rf)).next((h=>h)))}))}bs(t,e){let r=new Er(Yx(t));return e.forEach(((s,o)=>{Gp(t,o)&&(r=r.add(o))})),r}Ss(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(t,e,r){return Jc()<=Rn.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",th(e)),this.fs.getDocumentsMatchingQuery(t,e,xu.min(),r)}Ds(t,e,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const cm="LocalStore",eE=3e8;class nE{constructor(t,e,r,s){this.persistence=t,this.Cs=e,this.serializer=s,this.vs=new ki(_n),this.Fs=new hc((o=>J0(o)),tm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new H6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function iE(n,t,e,r){return new nE(n,t,e,r)}async function m_(n,t){const e=nn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=wn();for(const d of s){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function rE(n,t){const e=nn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const A=d.batch,C=A.keys();let _=Kt.resolve();return C.forEach((F=>{_=_.next((()=>y.getEntry(f,F))).next((H=>{const z=d.docVersions.get(F);Hn(z!==null,48541),H.version.compareTo(z)<0&&(A.applyToRemoteDocument(H,d),H.isValidDocument()&&(H.setReadTime(d.commitVersion),y.addEntry(H)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,s)))}))}function y_(n){const t=nn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function aE(n,t){const e=nn(n),r=t.snapshotVersion;let s=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});s=e.vs;const h=[];t.targetChanges.forEach(((y,A)=>{const C=s.get(A);if(!C)return;h.push(e.li.removeMatchingKeys(o,y.removedDocuments,A).next((()=>e.li.addMatchingKeys(o,y.addedDocuments,A))));let _=C.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?_=_.withResumeToken(ia.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,r)),s=s.insert(A,_),(function(H,z,M){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=eE?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(C,_,y)&&h.push(e.li.updateTargetData(o,_))}));let f=Ll(),d=wn();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(sE(o,c,t.documentUpdates).next((y=>{f=y.Bs,d=y.Ls}))),!r.isEqual(Xe.min())){const y=e.li.getLastRemoteSnapshotVersion(o).next((A=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return Kt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.vs=s,o)))}function sE(n,t,e){let r=wn(),s=wn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let c=Ll();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ue(cm,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:s}}))}function oE(n,t){const e=nn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Q0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function lE(n,t){const e=nn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return e.li.getTargetData(r,t).next((o=>o?(s=o,Kt.resolve(s)):e.li.allocateTargetId(r).next((c=>(s=new hu(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=e.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function w0(n,t,e){const r=nn(n),s=r.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ah(c))throw c;ue(cm,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function Jy(n,t,e){const r=nn(n);let s=Xe.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,y){const A=nn(f),C=A.Fs.get(y);return C!==void 0?Kt.resolve(A.vs.get(C)):A.li.getTargetData(d,y)})(r,c,Ho(t)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?s:Xe.min(),e?o:wn()))).next((h=>(uE(r,KA(t),h),{documents:h,ks:o})))))}function uE(n,t,e){let r=n.Ms.get(t)||Xe.min();e.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(t,r)}class tv{constructor(){this.activeTargetIds=t6()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cE{constructor(){this.vo=new tv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new tv,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hE{Mo(t){}shutdown(){}}const ev="ConnectivityMonitor";class nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(ev,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ue(ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vd=null;function S0(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}const Ng="RestConnection",fE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dE{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===yp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,e,r,s,o){const c=S0(),h=this.Qo(t,e.toUriEncodedString());ue(Ng,`Sending RPC '${t}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(h),y=Fp(d);return this.zo(t,h,f,r,y).then((A=>(ue(Ng,`Received RPC '${t}' ${c}: `,A),A)),(A=>{throw ic(Ng,`RPC '${t}' ${c} failed with error: `,A,"url: ",h,"request:",r),A}))}jo(t,e,r,s,o,c){return this.Wo(t,e,r,s,o)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),r&&r.headers.forEach(((s,o)=>t[o]=s))}Qo(t,e){const r=fE[t];let s=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class pE{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fa="WebChannelConnection",ff=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class sh extends dE{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!sh.c_){const t=wx();ff(t,_x.STAT_EVENT,(e=>{e.stat===h0.PROXY?ue(fa,"STAT_EVENT: detected buffering proxy"):e.stat===h0.NOPROXY&&ue(fa,"STAT_EVENT: detected no buffering proxy")})),sh.c_=!0}}zo(t,e,r,s,o){const c=S0();return new Promise(((h,f)=>{const d=new bx;d.setWithCredentials(!0),d.listenOnce(xx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case tp.NO_ERROR:const A=d.getResponseJson();ue(fa,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),h(A);break;case tp.TIMEOUT:ue(fa,`RPC '${t}' ${c} timed out`),f(new ae(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const C=d.getStatus();if(ue(fa,`RPC '${t}' ${c} failed with status:`,C,"response text:",d.getResponseText()),C>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const F=_?.error;if(F&&F.status&&F.message){const H=(function(M){const et=M.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(et)>=0?et:Gt.UNKNOWN})(F.status);f(new ae(H,F.message))}else f(new ae(Gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ae(Gt.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ue(fa,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(s);ue(fa,`RPC '${t}' ${c} sending request:`,s),d.send(e,"POST",y,r,15)}))}T_(t,e,r){const s=S0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,r),h.encodeInitMessageHeaders=!0;const d=o.join("");ue(fa,`Creating RPC '${t}' stream ${s}: ${d}`,h);const y=c.createWebChannel(d,h);this.I_(y);let A=!1,C=!1;const _=new pE({Ho:F=>{C?ue(fa,`Not sending because RPC '${t}' stream ${s} is closed:`,F):(A||(ue(fa,`Opening RPC '${t}' stream ${s} transport.`),y.open(),A=!0),ue(fa,`RPC '${t}' stream ${s} sending:`,F),y.send(F))},Jo:()=>y.close()});return ff(y,gf.EventType.OPEN,(()=>{C||(ue(fa,`RPC '${t}' stream ${s} transport opened.`),_.i_())})),ff(y,gf.EventType.CLOSE,(()=>{C||(C=!0,ue(fa,`RPC '${t}' stream ${s} transport closed`),_.o_(),this.E_(y))})),ff(y,gf.EventType.ERROR,(F=>{C||(C=!0,ic(fa,`RPC '${t}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),_.o_(new ae(Gt.UNAVAILABLE,"The operation could not be completed")))})),ff(y,gf.EventType.MESSAGE,(F=>{if(!C){const H=F.data[0];Hn(!!H,16349);const z=H,M=z?.error||z[0]?.error;if(M){ue(fa,`RPC '${t}' stream ${s} received error:`,M);const et=M.status;let nt=(function(Dt){const $=lr[Dt];if($!==void 0)return i_($)})(et),it=M.message;et==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&ic(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),nt===void 0&&(nt=Gt.INTERNAL,it="Unknown error status: "+et+" with message "+M.message),C=!0,_.o_(new ae(nt,it)),y.close()}else ue(fa,`RPC '${t}' stream ${s} received:`,H),_.__(H)}})),sh.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Sx()}}function gE(n){return new sh(n)}function Rg(){return typeof document<"u"?document:null}function $p(n){return new b6(n,!0)}sh.c_=!1;class v_{constructor(t,e,r=1e3,s=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iv="PersistentStream";class b_{constructor(t,e,r,s,o,c,h,f){this.Ci=t,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v_(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Gt.RESOURCE_EXHAUSTED?(Il(e.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===e&&this.G_(r,s)}),(r=>{t((()=>{const s=new ae(Gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ue(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mE extends b_{constructor(t,e,r,s,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=w6(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Go(c.readTime):Xe.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=_0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=m0(f)?{documents:E6(o,f)}:{query:T6(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=s_(o,c.resumeToken);const d=v0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Sp(o,c.snapshotVersion.toTimestamp());const d=v0(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const r=N6(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=_0(this.serializer),e.removeTarget=t,this.K_(e)}}class yE extends b_{constructor(t,e,r,s,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Hn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Hn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Hn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=A6(t.writeResults,t.commitTime),r=Go(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=_0(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>S6(this.serializer,r)))};this.K_(e)}}class vE{}class bE extends vE{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ae(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(t,b0(e,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Gt.UNKNOWN,o.toString())}))}jo(t,e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,b0(e,r),s,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Gt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function xE(n,t,e,r){return new bE(n,t,e,r)}class _E{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Il(e),this.aa=!1):ue("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const rc="RemoteStore";class wE{constructor(t,e,r,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{fc(this)&&(ue(rc,"Restarting streams for network reachability change."),await(async function(f){const d=nn(f);d.Ea.add(4),await Uf(d),d.Va.set("Unknown"),d.Ea.delete(4),await Qp(d)})(this))}))})),this.Va=new _E(r,s)}}async function Qp(n){if(fc(n))for(const t of n.Ra)await t(!0)}async function Uf(n){for(const t of n.Ra)await t(!1)}function x_(n,t){const e=nn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),pm(e)?dm(e):Th(e).O_()&&fm(e,t))}function hm(n,t){const e=nn(n),r=Th(e);e.Ia.delete(t),r.O_()&&__(e,t),e.Ia.size===0&&(r.O_()?r.L_():fc(e)&&e.Va.set("Unknown"))}function fm(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Th(n).Z_(t)}function __(n,t){n.da.$e(t),Th(n).X_(t)}function dm(n){n.da=new g6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Th(n).start(),n.Va.ua()}function pm(n){return fc(n)&&!Th(n).x_()&&n.Ia.size>0}function fc(n){return nn(n).Ea.size===0}function w_(n){n.da=void 0}async function SE(n){n.Va.set("Online")}async function AE(n){n.Ia.forEach(((t,e)=>{fm(n,t)}))}async function EE(n,t){w_(n),pm(n)?(n.Va.ha(t),dm(n)):n.Va.set("Unknown")}async function TE(n,t,e){if(n.Va.set("Online"),t instanceof a_&&t.state===2&&t.cause)try{await(async function(s,o){const c=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.da.removeTarget(h))})(n,t)}catch(r){ue(rc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ep(n,r)}else if(t instanceof rp?n.da.Xe(t):t instanceof r_?n.da.st(t):n.da.tt(t),!e.isEqual(Xe.min()))try{const r=await y_(n.localStore);e.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(ia.EMPTY_BYTE_STRING,y.snapshotVersion)),__(o,f);const A=new hu(y.target,f,d,y.sequenceNumber);fm(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){ue(rc,"Failed to raise snapshot:",r),await Ep(n,r)}}async function Ep(n,t,e){if(!Ah(t))throw t;n.Ea.add(1),await Uf(n),n.Va.set("Offline"),e||(e=()=>y_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(rc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Qp(n)}))}function S_(n,t){return t().catch((e=>Ep(n,e,t)))}async function Xp(n){const t=nn(n),e=Au(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Q0;for(;CE(t);)try{const s=await oE(t.localStore,r);if(s===null){t.Ta.length===0&&e.L_();break}r=s.batchId,NE(t,s)}catch(s){await Ep(t,s)}A_(t)&&E_(t)}function CE(n){return fc(n)&&n.Ta.length<10}function NE(n,t){n.Ta.push(t);const e=Au(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function A_(n){return fc(n)&&!Au(n).x_()&&n.Ta.length>0}function E_(n){Au(n).start()}async function RE(n){Au(n).ra()}async function IE(n){const t=Au(n);for(const e of n.Ta)t.ea(e.mutations)}async function LE(n,t,e){const r=n.Ta.shift(),s=rm.from(r,t,e);await S_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Xp(n)}async function DE(n,t){t&&Au(n).Y_&&await(async function(r,s){if((function(c){return f6(c)&&c!==Gt.ABORTED})(s.code)){const o=r.Ta.shift();Au(r).B_(),await S_(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Xp(r)}})(n,t),A_(n)&&E_(n)}async function rv(n,t){const e=nn(n);e.asyncQueue.verifyOperationInProgress(),ue(rc,"RemoteStore received new credentials");const r=fc(e);e.Ea.add(3),await Uf(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Qp(e)}async function jE(n,t){const e=nn(n);t?(e.Ea.delete(2),await Qp(e)):t||(e.Ea.add(2),await Uf(e),e.Va.set("Unknown"))}function Th(n){return n.ma||(n.ma=(function(e,r,s){const o=nn(e);return o.sa(),new mE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:SE.bind(null,n),Yo:AE.bind(null,n),t_:EE.bind(null,n),J_:TE.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),pm(n)?dm(n):n.Va.set("Unknown")):(await n.ma.stop(),w_(n))}))),n.ma}function Au(n){return n.fa||(n.fa=(function(e,r,s){const o=nn(e);return o.sa(),new yE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RE.bind(null,n),t_:DE.bind(null,n),ta:IE.bind(null,n),na:LE.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Xp(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(rc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class gm{constructor(t,e,r,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,o){const c=Date.now()+r,h=new gm(t,e,c,s,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,t){if(Il("AsyncQueue",`${t}: ${n}`),Ah(n))return new ae(Gt.UNAVAILABLE,`${t}: ${n}`);throw n}class oh{static emptySet(t){return new oh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||ke.comparator(e.key,r.key):(e,r)=>ke.comparator(e.key,r.key),this.keyedMap=mf(),this.sortedSet=new ki(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof oh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new oh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class av{constructor(){this.ga=new ki(ke.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ue(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class vh{constructor(t,e,r,s,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,s,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new vh(t,e,oh.emptySet(e),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}class kE{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class ME{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=nn(e),o=s.queries;s.queries=sv(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new ae(Gt.ABORTED,"Firestore shutting down"))}}function sv(){return new hc((n=>Gx(n)),Hp)}async function T_(n,t){const e=nn(n);let r=3;const s=t.query;let o=e.queries.get(s);o?!o.Sa()&&t.Da()&&(r=2):(o=new kE,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(c){const h=mm(c,`Initialization of query '${th(t.query)}' failed`);return void t.onError(h)}e.queries.set(s,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&ym(e)}async function C_(n,t){const e=nn(n),r=t.query;let s=3;const o=e.queries.get(r);if(o){const c=o.ba.indexOf(t);c>=0&&(o.ba.splice(c,1),o.ba.length===0?s=t.Da()?0:1:!o.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function OE(n,t){const e=nn(n);let r=!1;for(const s of t){const o=s.query,c=e.queries.get(o);if(c){for(const h of c.ba)h.Fa(s)&&(r=!0);c.wa=s}}r&&ym(e)}function PE(n,t,e){const r=nn(n),s=r.queries.get(t);if(s)for(const o of s.ba)o.onError(e);r.queries.delete(t)}function ym(n){n.Ca.forEach((t=>{t.next()}))}var A0,ov;(ov=A0||(A0={})).Ma="default",ov.Cache="cache";class N_{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new vh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==A0.Cache}}class R_{constructor(t){this.key=t}}class I_{constructor(t){this.key=t}}class zE{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.eu=Yx(t),this.tu=new oh(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new av,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,A)=>{const C=s.get(y),_=Gp(this.query,A)?A:null,F=!!C&&this.mutatedKeys.has(C.key),H=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let z=!1;C&&_?C.data.isEqual(_.data)?F!==H&&(r.track({type:3,doc:_}),z=!0):this.su(C,_)||(r.track({type:2,doc:_}),z=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!C&&_?(r.track({type:0,doc:_}),z=!0):C&&!_&&(r.track({type:1,doc:C}),z=!0,(f||d)&&(h=!0)),z&&(_?(c=c.add(_),o=H?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,A)=>(function(_,F){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:z})}};return H(_)-H(F)})(y.type,A.type)||this.eu(y.doc,A.doc))),this.ou(r),s=s??!1;const h=e&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new vh(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new I_(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new R_(r))})),e}cu(t){this.Za=t.ks,this.Ya=wn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return vh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vm="SyncEngine";class FE{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class BE{constructor(t){this.key=t,this.hu=!1}}class UE{constructor(t,e,r,s,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new hc((h=>Gx(h)),Hp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ki(ke.comparator),this.Au=new Map,this.Vu=new om,this.du={},this.mu=new Map,this.fu=yh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VE(n,t,e=!0){const r=O_(n);let s;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await L_(r,t,e,!0),s}async function qE(n,t){const e=O_(n);await L_(e,t,!0,!1)}async function L_(n,t,e,r){const s=await lE(n.localStore,Ho(t)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await HE(n,t,o,c==="current",s.resumeToken)),n.isPrimaryClient&&e&&x_(n.remoteStore,s),h}async function HE(n,t,e,r,s){n.pu=(A,C,_)=>(async function(H,z,M,et){let nt=z.view.ru(M);nt.Ss&&(nt=await Jy(H.localStore,z.query,!1).then((({documents:$})=>z.view.ru($,nt))));const it=et&&et.targetChanges.get(z.targetId),_t=et&&et.targetMismatches.get(z.targetId)!=null,Dt=z.view.applyChanges(nt,H.isPrimaryClient,it,_t);return uv(H,z.targetId,Dt.au),Dt.snapshot})(n,A,C,_);const o=await Jy(n.localStore,t,!0),c=new zE(t,o.ks),h=c.ru(o.documents),f=Bf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),d=c.applyChanges(h,n.isPrimaryClient,f);uv(n,e,d.au);const y=new FE(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function GE(n,t,e){const r=nn(n),s=r.Tu.get(t),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!Hp(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await w0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),e&&hm(r.remoteStore,s.targetId),E0(r,s.targetId)})).catch(Sh)):(E0(r,s.targetId),await w0(r.localStore,s.targetId,!0))}async function YE(n,t){const e=nn(n),r=e.Tu.get(t),s=e.Iu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),hm(e.remoteStore,r.targetId))}async function WE(n,t,e){const r=t8(n);try{const s=await(function(c,h){const f=nn(c),d=bi.now(),y=h.reduce(((_,F)=>_.add(F.key)),wn());let A,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let F=Ll(),H=wn();return f.xs.getEntries(_,y).next((z=>{F=z,F.forEach(((M,et)=>{et.isValidDocument()||(H=H.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,F))).next((z=>{A=z;const M=[];for(const et of h){const nt=o6(et,A.get(et.key).overlayedDocument);nt!=null&&M.push(new Nu(et.key,nt,Px(nt.value.mapValue),lo.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,M,h)})).next((z=>{C=z;const M=z.applyToLocalDocumentSet(A,H);return f.documentOverlayCache.saveOverlays(_,z.batchId,M)}))})).then((()=>({batchId:C.batchId,changes:Kx(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(c,h,f){let d=c.du[c.currentUser.toKey()];d||(d=new ki(_n)),d=d.insert(h,f),c.du[c.currentUser.toKey()]=d})(r,s.batchId,e),await Vf(r,s.changes),await Xp(r.remoteStore)}catch(s){const o=mm(s,"Failed to persist write");e.reject(o)}}async function D_(n,t){const e=nn(n);try{const r=await aE(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const c=e.Au.get(o);c&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Hn(c.hu,14607):s.removedDocuments.size>0&&(Hn(c.hu,42227),c.hu=!1))})),await Vf(e,r,t)}catch(r){await Sh(r)}}function lv(n,t,e){const r=nn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const f=nn(c);f.onlineState=h;let d=!1;f.queries.forEach(((y,A)=>{for(const C of A.ba)C.va(h)&&(d=!0)})),d&&ym(f)})(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function KE(n,t,e){const r=nn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Au.get(t),o=s&&s.key;if(o){let c=new ki(ke.comparator);c=c.insert(o,ba.newNoDocument(o,Xe.min()));const h=wn().add(o),f=new Kp(Xe.min(),new Map,new ki(_n),c,h);await D_(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(t),bm(r)}else await w0(r.localStore,t,!1).then((()=>E0(r,t,e))).catch(Sh)}async function $E(n,t){const e=nn(n),r=t.batch.batchId;try{const s=await rE(e.localStore,t);k_(e,r,null),j_(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Vf(e,s)}catch(s){await Sh(s)}}async function QE(n,t,e){const r=nn(n);try{const s=await(function(c,h){const f=nn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Hn(A!==null,37113),y=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,t);k_(r,t,e),j_(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Vf(r,s)}catch(s){await Sh(s)}}function j_(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function k_(n,t,e){const r=nn(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function E0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||M_(n,r)}))}function M_(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(hm(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),bm(n))}function uv(n,t,e){for(const r of e)r instanceof R_?(n.Vu.addReference(r.key,t),XE(n,r)):r instanceof I_?(ue(vm,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||M_(n,r.key)):Ue(19791,{wu:r})}function XE(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ue(vm,"New document in limbo: "+e),n.Eu.add(r),bm(n))}function bm(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ke(hi.fromString(t)),r=n.fu.next();n.Au.set(r,new BE(e)),n.Ru=n.Ru.insert(e,r),x_(n.remoteStore,new hu(Ho(em(e.path)),r,"TargetPurposeLimboResolution",Up.ce))}}async function Vf(n,t,e){const r=nn(n),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,t,e).then((d=>{if((d||e)&&r.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=um.Es(f.targetId,d);o.push(y)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(f,d){const y=nn(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Kt.forEach(d,(C=>Kt.forEach(C.Ts,(_=>y.persistence.referenceDelegate.addReference(A,C.targetId,_))).next((()=>Kt.forEach(C.Is,(_=>y.persistence.referenceDelegate.removeReference(A,C.targetId,_)))))))))}catch(A){if(!Ah(A))throw A;ue(cm,"Failed to update sequence numbers: "+A)}for(const A of d){const C=A.targetId;if(!A.fromCache){const _=y.vs.get(C),F=_.snapshotVersion,H=_.withLastLimboFreeSnapshotVersion(F);y.vs=y.vs.insert(C,H)}}})(r.localStore,o))}async function ZE(n,t){const e=nn(n);if(!e.currentUser.isEqual(t)){ue(vm,"User change. New user:",t.toKey());const r=await m_(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ae(Gt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Vf(e,r.Ns)}}function JE(n,t){const e=nn(n),r=e.Au.get(t);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=e.Iu.get(t);if(!o)return s;for(const c of o){const h=e.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function O_(n){const t=nn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KE.bind(null,t),t.Pu.J_=OE.bind(null,t.eventManager),t.Pu.yu=PE.bind(null,t.eventManager),t}function t8(n){const t=nn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$E.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QE.bind(null,t),t}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$p(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return iE(this.persistence,new tE,t.initialUser,this.serializer)}Cu(t){return new g_(lm.Vi,this.serializer)}Du(t){return new cE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class e8 extends Tp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Hn(this.persistence.referenceDelegate instanceof Ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F6(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new g_((r=>Ap.Vi(r,e)),this.serializer)}}class T0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZE.bind(null,this.syncEngine),await jE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ME})()}createDatastore(t){const e=$p(t.databaseInfo.databaseId),r=gE(t.databaseInfo);return xE(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,s,o,c,h){return new wE(r,s,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>lv(this.syncEngine,e,0)),(function(){return nv.v()?new nv:new hE})())}createSyncEngine(t,e){return(function(s,o,c,h,f,d,y){const A=new UE(s,o,c,h,f,d);return y&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=nn(e);ue(rc,"RemoteStore shutting down."),r.Ea.add(5),await Uf(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}T0.provider={build:()=>new T0};class P_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Il("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Eu="FirestoreClient";class n8{constructor(t,e,r,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=s,this.user=va.UNAUTHENTICATED,this.clientId=$0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(Eu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(Eu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=mm(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ig(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Eu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await m_(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function cv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await i8(n);ue(Eu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>rv(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>rv(t.remoteStore,s))),n._onlineComponents=t}async function i8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Eu,"Using user provided OfflineComponentProvider");try{await Ig(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Gt.FAILED_PRECONDITION||s.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;ic("Error using user provided cache. Falling back to memory cache: "+e),await Ig(n,new Tp)}}else ue(Eu,"Using default OfflineComponentProvider"),await Ig(n,new e8(void 0));return n._offlineComponents}async function z_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Eu,"Using user provided OnlineComponentProvider"),await cv(n,n._uninitializedComponentsProvider._online)):(ue(Eu,"Using default OnlineComponentProvider"),await cv(n,new T0))),n._onlineComponents}function r8(n){return z_(n).then((t=>t.syncEngine))}async function C0(n){const t=await z_(n),e=t.eventManager;return e.onListen=VE.bind(null,t.syncEngine),e.onUnlisten=GE.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=qE.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=YE.bind(null,t.syncEngine),e}function a8(n,t,e,r){const s=new P_(r),o=new N_(t,s,e);return n.asyncQueue.enqueueAndForget((async()=>T_(await C0(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>C_(await C0(n),o)))}}function s8(n,t,e={}){const r=new yu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const y=new P_({next:C=>{y.Nu(),c.enqueueAndForget((()=>C_(o,A))),C.fromCache&&f.source==="server"?d.reject(new ae(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(C)},error:C=>d.reject(C)}),A=new N_(h,y,{includeMetadataChanges:!0,Ka:!0});return T_(o,A)})(await C0(n),n.asyncQueue,t,e,r))),r.promise}function o8(n,t){const e=new yu;return n.asyncQueue.enqueueAndForget((async()=>WE(await r8(n),t,e))),e.promise}function F_(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const l8="ComponentProvider",hv=new Map;function u8(n,t,e,r,s){return new RA(n,t,e,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,F_(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const B_="firestore.googleapis.com",fv=!0;class dv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ae(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B_,this.ssl=fv}else this.host=t.host,this.ssl=t.ssl??fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<P6)throw new ae(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zp{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ae(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lA;switch(r.type){case"firstParty":return new fA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=hv.get(e);r&&(ue(l8,"Removing Datastore"),hv.delete(e),r.terminate())})(this),Promise.resolve()}}function c8(n,t,e,r={}){n=qo(n,Zp);const s=Fp(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;s&&(rx(`https://${h}`),sx("Firestore",!0)),o.host!==B_&&o.host!==h&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!pp(f,c)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=va.MOCK_USER;else{d=ax(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ae(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new va(A)}n._authCredentials=new uA(new Ex(d,y))}}class jl{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new jl(this.firestore,t,this._query)}}class hr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hr(this.firestore,t,this._key)}toJSON(){return{type:hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(zf(e,hr._jsonSchema))return new hr(t,r||null,new ke(hi.fromString(e.referencePath)))}}hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:cr("string",hr._jsonSchemaVersion),referencePath:cr("string")};class vu extends jl{constructor(t,e,r){super(t,e,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hr(this.firestore,null,new ke(t))}withConverter(t){return new vu(this.firestore,t,this._path)}}function da(n,t,...e){if(n=co(n),Tx("collection","path",t),n instanceof Zp){const r=hi.fromString(t,...e);return Ty(r),new vu(n,null,r)}{if(!(n instanceof hr||n instanceof vu))throw new ae(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return Ty(r),new vu(n.firestore,null,r)}}function Fo(n,t,...e){if(n=co(n),arguments.length===1&&(t=$0.newId()),Tx("doc","path",t),n instanceof Zp){const r=hi.fromString(t,...e);return Ey(r),new hr(n,null,new ke(r))}{if(!(n instanceof hr||n instanceof vu))throw new ae(Gt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hi.fromString(t,...e));return Ey(r),new hr(n.firestore,n instanceof vu?n.converter:null,new ke(r))}}const pv="AsyncQueue";class gv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v_(this,"async_queue_retry"),this._c=()=>{const r=Rg();r&&ue(pv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Rg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Rg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new yu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ah(t))throw t;ue(pv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Il("INTERNAL UNHANDLED ERROR: ",mv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=gm.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ue(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function mv(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ac extends Zp{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new gv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gv(t),this._firestoreClient=void 0,await t}}}function h8(n,t){const e=typeof n=="object"?n:gx(),r=typeof n=="string"?n:yp,s=hx(e,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=nx("firestore");o&&c8(s,...o)}return s}function xm(n){if(n._terminated)throw new ae(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f8(n),n._firestoreClient}function f8(n){const t=n._freezeSettings(),e=u8(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new n8(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Os{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Os(ia.fromBase64String(t))}catch(e){throw new ae(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Os(ia.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zf(t,Os._jsonSchema))return Os.fromBase64String(t.bytes)}}Os._jsonSchemaVersion="firestore/bytes/1.0",Os._jsonSchema={type:cr("string",Os._jsonSchemaVersion),bytes:cr("string")};class _m{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ae(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new na(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wm{constructor(t){this._methodName=t}}class Yo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ae(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ae(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yo._jsonSchemaVersion}}static fromJSON(t){if(zf(t,Yo._jsonSchema))return new Yo(t.latitude,t.longitude)}}Yo._jsonSchemaVersion="firestore/geoPoint/1.0",Yo._jsonSchema={type:cr("string",Yo._jsonSchemaVersion),latitude:cr("number"),longitude:cr("number")};class uo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zf(t,uo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new uo(t.vectorValues);throw new ae(Gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uo._jsonSchemaVersion="firestore/vectorValue/1.0",uo._jsonSchema={type:cr("string",uo._jsonSchemaVersion),vectorValues:cr("object")};const d8=/^__.*__$/;class p8{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Nu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ff(t,this.data,e,this.fieldTransforms)}}class U_{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Nu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function V_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:n})}}class Sm{constructor(t,e,r,s,o,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Sm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Cp(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(V_(this.dataSource)&&d8.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class g8{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||$p(t)}createContext(t,e,r,s=!1){return new Sm({dataSource:t,methodName:e,targetDoc:r,path:na.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(n){const t=n._freezeSettings(),e=$p(n._databaseId);return new g8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function m8(n,t,e,r,s,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,t,e,s);Em("Data must be an object, but it was:",c,r);const h=q_(r,c);let f,d;if(o.merge)f=new gs(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const A of o.mergeFields){const C=sc(t,A,e);if(!c.contains(C))throw new ae(Gt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Y_(y,C)||y.push(C)}f=new gs(y),d=c.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=c.fieldTransforms;return new p8(new Za(h),f,d)}class Jp extends wm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jp}}function y8(n,t,e,r){const s=n.createContext(1,t,e);Em("Data must be an object, but it was:",s,r);const o=[],c=Za.empty();Cu(r,((f,d)=>{const y=G_(t,f,e);d=co(d);const A=s.childContextForFieldPath(y);if(d instanceof Jp)o.push(y);else{const C=qf(d,A);C!=null&&(o.push(y),c.set(y,C))}}));const h=new gs(o);return new U_(c,h,s.fieldTransforms)}function v8(n,t,e,r,s,o){const c=n.createContext(1,t,e),h=[sc(t,r,e)],f=[s];if(o.length%2!=0)throw new ae(Gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)h.push(sc(t,o[C])),f.push(o[C+1]);const d=[],y=Za.empty();for(let C=h.length-1;C>=0;--C)if(!Y_(d,h[C])){const _=h[C];let F=f[C];F=co(F);const H=c.childContextForFieldPath(_);if(F instanceof Jp)d.push(_);else{const z=qf(F,H);z!=null&&(d.push(_),y.set(_,z))}}const A=new gs(d);return new U_(y,A,c.fieldTransforms)}function b8(n,t,e,r=!1){return qf(e,n.createContext(r?4:3,t))}function qf(n,t){if(H_(n=co(n)))return Em("Unsupported field value:",t,n),q_(n,t);if(n instanceof wm)return(function(r,s){if(!V_(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const h of r){let f=qf(h,s.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(r,s){if((r=co(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bi.fromDate(r);return{timestampValue:Sp(s.serializer,o)}}if(r instanceof bi){const o=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(s.serializer,o)}}if(r instanceof Yo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Os)return{bytesValue:s_(s.serializer,r._byteString)};if(r instanceof hr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uo)return(function(c,h){const f=c instanceof uo?c.toArray():c;return{mapValue:{fields:{[Mx]:{stringValue:Ox},[vp]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return nm(h.serializer,y)}))}}}}}})(r,s);if(d_(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Bp(r)}`)})(n,t)}function q_(n,t){const e={};return Rx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cu(n,((r,s)=>{const o=qf(s,t.childContextForField(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function H_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Yo||n instanceof Os||n instanceof hr||n instanceof wm||n instanceof uo||d_(n))}function Em(n,t,e){if(!H_(e)||!Cx(e)){const r=Bp(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function sc(n,t,e){if((t=co(t))instanceof _m)return t._internalPath;if(typeof t=="string")return G_(n,t);throw Cp("Field path arguments must be of type string or ",n,!1,void 0,e)}const x8=new RegExp("[~\\*/\\[\\]]");function G_(n,t,e){if(t.search(x8)>=0)throw Cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _m(...t.split("."))._internalPath}catch{throw Cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Cp(n,t,e,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new ae(Gt.INVALID_ARGUMENT,h+n+f)}function Y_(n,t){return n.some((e=>e.isEqual(t)))}class _8{convertValue(t,e="none"){switch(Su(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ue(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Cu(t,((s,o)=>{r[s]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[vp].arrayValue?.values?.map((r=>Qi(r.doubleValue)));return new uo(e)}convertGeoPoint(t){return new Yo(Qi(t.latitude),Qi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=qp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(If(t));default:return null}}convertTimestamp(t){const e=_u(t);return new bi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=hi.fromString(t);Hn(f_(r),9688,{name:t});const s=new Lf(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return s.isEqual(e)||Il(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class Tm extends _8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Os(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hr(this.firestore,null,e)}}const yv="@firebase/firestore",vv="4.11.0";function bv(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class W_{constructor(t,e,r,s,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new w8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(sc("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class w8 extends W_{data(){return super.data()}}function K_(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class Nm extends Cm{}function Yu(n,t,...e){let r=[];t instanceof Cm&&r.push(t),r=r.concat(e),(function(o){const c=o.filter((f=>f instanceof Rm)).length,h=o.filter((f=>f instanceof t1)).length;if(c>1||c>0&&h>0)throw new ae(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class t1 extends Nm{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new t1(t,e,r)}_apply(t){const e=this._parse(t);return $_(t._query,e),new jl(t.firestore,t.converter,y0(t._query,e))}_parse(t){const e=Am(t.firestore);return(function(o,c,h,f,d,y,A){let C;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ae(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Sv(A,y);const F=[];for(const H of A)F.push(wv(f,o,H));C={arrayValue:{values:F}}}else C=wv(f,o,A)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Sv(A,y),C=b8(h,c,A,y==="in"||y==="not-in");return ur.create(d,y,C)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function xv(n,t,e){const r=t,s=sc("where",n);return t1._create(s,r,e)}class Rm extends Cm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Rm(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:ho.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,o){let c=s;const h=o.getFlattenedFilters();for(const f of h)$_(c,f),c=y0(c,f)})(t._query,e),new jl(t.firestore,t.converter,y0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Im extends Nm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Im(t,e)}_apply(t){const e=(function(s,o,c){if(s.startAt!==null)throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jf(o,c)})(t._query,this._field,this._direction);return new jl(t.firestore,t.converter,WA(t._query,e))}}function qd(n,t="asc"){const e=t,r=sc("orderBy",n);return Im._create(r,e)}class Lm extends Nm{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Lm(t,e,r)}_apply(t){return new jl(t.firestore,t.converter,xp(t._query,this._limit,this._limitType))}}function _v(n){return Lm._create("limit",n,"F")}function wv(n,t,e){if(typeof(e=co(e))=="string"){if(e==="")throw new ae(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hx(t)&&e.indexOf("/")!==-1)throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(hi.fromString(e));if(!ke.isDocumentKey(r))throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ky(n,new ke(r))}if(e instanceof hr)return ky(n,e._key);throw new ae(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(e)}.`)}function Sv(n,t){if(!Array.isArray(n)||n.length===0)throw new ae(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $_(n,t){const e=(function(s,o){for(const c of s)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ae(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ae(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function S8(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class vf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ju extends W_{constructor(t,e,r,s,o,c){super(t,e,r,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(sc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ju._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ju._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ju._jsonSchema={type:cr("string",Ju._jsonSchemaVersion),bundleSource:cr("string","DocumentSnapshot"),bundleName:cr("string"),bundle:cr("string")};class ap extends Ju{data(t={}){return super.data(t)}}class tc{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new vf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new ap(this._firestore,this._userDataWriter,r.key,r,new vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ae(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const f=new ap(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new ap(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:A8(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function A8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}tc._jsonSchemaVersion="firestore/querySnapshot/1.0",tc._jsonSchema={type:cr("string",tc._jsonSchemaVersion),bundleSource:cr("string","QuerySnapshot"),bundleName:cr("string"),bundle:cr("string")};function Lg(n){n=qo(n,jl);const t=qo(n.firestore,ac),e=xm(t),r=new Tm(t);return K_(n._query),s8(e,n._query).then((s=>new tc(t,r,n,s)))}function Wu(n,t,e,...r){n=qo(n,hr);const s=qo(n.firestore,ac),o=Am(s);let c;return c=typeof(t=co(t))=="string"||t instanceof _m?v8(o,"updateDoc",n._key,t,e,r):y8(o,"updateDoc",n._key,t),Dm(s,[c.toMutation(n._key,lo.exists(!0))])}function Av(n){return Dm(qo(n.firestore,ac),[new im(n._key,lo.none())])}function Ku(n,t){const e=qo(n.firestore,ac),r=Fo(n),s=S8(n.converter,t),o=Am(n.firestore);return Dm(e,[m8(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,lo.exists(!1))]).then((()=>r))}function $c(n,...t){n=co(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||bv(t[r])||(e=t[r++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(bv(t[r])){const d=t[r];t[r]=d.next?.bind(d),t[r+1]=d.error?.bind(d),t[r+2]=d.complete?.bind(d)}let o,c,h;if(n instanceof hr)c=qo(n.firestore,ac),h=em(n._key.path),o={next:d=>{t[r]&&t[r](E8(c,n,d))},error:t[r+1],complete:t[r+2]};else{const d=qo(n,jl);c=qo(d.firestore,ac),h=d._query;const y=new Tm(c);o={next:A=>{t[r]&&t[r](new tc(c,y,d,A))},error:t[r+1],complete:t[r+2]},K_(n._query)}const f=xm(c);return a8(f,h,s,o)}function Dm(n,t){const e=xm(n);return o8(e,t)}function E8(n,t,e){const r=e.docs.get(t._key),s=new Tm(n);return new Ju(n,s,t._key,r,new vf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){oA(dx),Cf(new dh("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new ac(new cA(r.getProvider("auth-internal")),new dA(c,r.getProvider("app-check-internal")),IA(c,s),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),gu(yv,vv,t),gu(yv,vv,"esm2020")})();const Q_="firebasestorage.googleapis.com",T8="storageBucket",C8=120*1e3,N8=600*1e3;class $o extends cc{constructor(t,e,r=0){super(Dg(t),`Firebase Storage: ${e} (${Dg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$o.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Dg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ko;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ko||(Ko={}));function Dg(n){return"storage/"+n}function R8(){const n="An unknown error occurred, please check the error payload for server response.";return new $o(Ko.UNKNOWN,n)}function I8(){return new $o(Ko.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L8(){return new $o(Ko.CANCELED,"User canceled the upload/download.")}function D8(n){return new $o(Ko.INVALID_URL,"Invalid URL '"+n+"'.")}function j8(n){return new $o(Ko.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ev(n){return new $o(Ko.INVALID_ARGUMENT,n)}function X_(){return new $o(Ko.APP_DELETED,"The Firebase app was deleted.")}function k8(n){return new $o(Ko.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class so{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=so.makeFromUrl(t,e)}catch{return new so(t,"")}if(r.path==="")return r;throw j8(t)}static makeFromUrl(t,e){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function d(it){it.path_=decodeURIComponent(it.path)}const y="v[A-Za-z0-9_]+",A=e.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${y}/b/${s}/o${C}`,"i"),F={bucket:1,path:3},H=e===Q_?"(?:storage.googleapis.com|storage.cloud.google.com)":e,z="([^?#]*)",M=new RegExp(`^https?://${H}/${s}/${z}`,"i"),nt=[{regex:h,indices:f,postModify:o},{regex:_,indices:F,postModify:d},{regex:M,indices:{bucket:1,path:2},postModify:d}];for(let it=0;it<nt.length;it++){const _t=nt[it],Dt=_t.regex.exec(t);if(Dt){const $=Dt[_t.indices.bucket];let O=Dt[_t.indices.path];O||(O=""),r=new so($,O),_t.postModify(r);break}}if(r==null)throw D8(t);return r}}class M8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function O8(n,t,e){let r=1,s=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function y(...z){d||(d=!0,t.apply(null,z))}function A(z){s=setTimeout(()=>{s=null,n(_,f())},z)}function C(){o&&clearTimeout(o)}function _(z,...M){if(d){C();return}if(z){C(),y.call(null,z,...M);return}if(f()||c){C(),y.call(null,z,...M);return}r<64&&(r*=2);let nt;h===1?(h=2,nt=0):nt=(r+Math.random())*1e3,A(nt)}let F=!1;function H(z){F||(F=!0,C(),!d&&(s!==null?(z||(h=2),clearTimeout(s),A(0)):z||(h=1)))}return A(0),o=setTimeout(()=>{c=!0,H(!0)},e),H}function P8(n){n(!1)}function z8(n){return n!==void 0}function Tv(n,t,e,r){if(r<t)throw Ev(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ev(`Invalid value for '${n}'. Expected ${e} or less.`)}function F8(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const s=t(r)+"="+t(n[r]);e=e+s+"&"}return e=e.slice(0,-1),e}var Np;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Np||(Np={}));function B8(n,t){const e=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||s||o}class U8{constructor(t,e,r,s,o,c,h,f,d,y,A,C=!0,_=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=A,this.retry=C,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,H)=>{this.resolve_=F,this.reject_=H,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Hd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Np.NO_ERROR,f=o.getStatus();if(!h||B8(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Np.ABORT;r(!1,new Hd(!1,null,y));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Hd(d,o))})},e=(r,s)=>{const o=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());z8(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=R8();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(s.canceled){const f=this.appDelete_?X_():L8();c(f)}else{const f=I8();c(f)}};this.canceled_?e(!1,new Hd(!1,null,!0)):this.backoffId_=O8(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&P8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function V8(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function q8(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function H8(n,t){t&&(n["X-Firebase-GMPID"]=t)}function G8(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function Y8(n,t,e,r,s,o,c=!0,h=!1){const f=F8(n.urlParams),d=n.url+f,y=Object.assign({},n.headers);return H8(y,t),V8(y,e),q8(y,o),G8(y,r),new U8(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,h)}function W8(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function K8(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}class Rp{constructor(t,e){this._service=t,e instanceof so?this._location=e:this._location=so.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Rp(t,e)}get root(){const t=new so(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K8(this._location.path)}get storage(){return this._service}get parent(){const t=W8(this._location.path);if(t===null)return null;const e=new so(this._location.bucket,t);return new Rp(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw k8(t)}}function Cv(n,t){const e=t?.[T8];return e==null?null:so.makeFromBucketSpec(e,n)}function $8(n,t,e,r={}){n.host=`${t}:${e}`;const s=Fp(t);s&&(rx(`https://${n.host}/b`),sx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:ax(o,n.app.options.projectId))}class Q8{constructor(t,e,r,s,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=Q_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C8,this._maxUploadRetryTime=N8,this._requests=new Set,s!=null?this._bucket=so.makeFromBucketSpec(s,this._host):this._bucket=Cv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=so.makeFromBucketSpec(this._url,t):this._bucket=Cv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Tv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Tv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(fx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rp(this,t)}_makeRequest(t,e,r,s,o=!0){if(this._deleted)return new M8(X_());{const c=Y8(t,this._appId,r,s,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,s).getPromise()}}const Nv="@firebase/storage",Rv="0.14.0";const Z_="storage";function X8(n=gx(),t){n=co(n);const r=hx(n,Z_).getImmediate({identifier:t}),s=nx("storage");return s&&Z8(r,...s),r}function Z8(n,t,e,r={}){$8(n,t,e,r)}function J8(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Q8(e,r,s,t,dx)}function tT(){Cf(new dh(Z_,J8,"PUBLIC").setMultipleInstances(!0)),gu(Nv,Rv,""),gu(Nv,Rv,"esm2020")}tT();var eT="firebase",nT="12.9.0";gu(eT,nT,"app");const iT={apiKey:"AIzaSyAqBIlDzqQdz-GxVGpsL1maWnnTwusleww",authDomain:"sistema-tickets-766f4.firebaseapp.com",projectId:"sistema-tickets-766f4",storageBucket:"sistema-tickets-766f4.firebasestorage.app",messagingSenderId:"1008656923219",appId:"1:1008656923219:web:66eccb70aedd284f3aa4a6"},J_=px(iT),yi=h8(J_);X8(J_);const vi={USERS:"users",TICKETS:"tickets",COMPUTERS:"computers",INDICATORS:"indicators",SGI_PROCESSES:"sgi_processes",SGI_EVIDENCE:"sgi_evidence"},pn={uploadFile:async n=>new Promise((t,e)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>t(r.result),r.onerror=s=>e(s)}),initializeDefaults:async()=>{try{console.log("Firebase: Verificando datos iniciales...");const n=Yu(da(yi,vi.USERS),_v(1));if((await Lg(n)).empty){console.log("Firebase: Base de datos vaca. Creando usuarios por defecto...");const e=[{username:"alejandro",password:"lucy931205",role:"admin",name:"Alejandro",email:"admin@elspecandina.com"},{username:"user",password:"user",role:"engineer",name:"Usuario Soporte",email:"soporte@elspecandina.com"}];for(const r of e)await Ku(da(yi,vi.USERS),{...r,createdAt:new Date().toISOString()});return console.log("Firebase: Usuarios iniciales creados."),!0}return!1}catch(n){return console.error("Firebase Initialization Error:",n),!1}},loginUser:async(n,t)=>{try{const e=(n||"").toLowerCase().trim(),r=Yu(da(yi,vi.USERS),xv("username","==",e),_v(1)),s=await Lg(r);if(!s.empty){const o=s.docs[0],c=o.data();if(c.password===t)return{id:o.id,...c}}return null}catch(e){return console.error("Login Error:",e),null}},getUsers:async()=>(await Lg(da(yi,vi.USERS))).docs.map(t=>({id:t.id,...t.data()})),subscribeUsers:n=>{try{return console.log("Firebase: Iniciando suscripcin de usuarios..."),$c(da(yi,vi.USERS),t=>{console.log("Firebase: Usuarios actualizados");const e=t.docs.map(r=>({id:r.id,...r.data()}));n(e)},t=>{console.error("Firebase Error (Usuarios):",t),alert("Error de conexin con la base de datos (Usuarios). Verifique su conexin.")})}catch(t){return console.error("Critical Firebase Error:",t),()=>{}}},addUser:async n=>({id:(await Ku(da(yi,vi.USERS),{...n,createdAt:new Date().toISOString()})).id,...n}),updateUser:async(n,t)=>{const e=Fo(yi,vi.USERS,n);await Wu(e,t)},deleteUser:async n=>{const t=Fo(yi,vi.USERS,n);await Av(t)},subscribeTickets:n=>{try{console.log("Firebase: Iniciando suscripcin de tickets...");const t=Yu(da(yi,vi.TICKETS),qd("createdAt","desc"));return $c(t,e=>{console.log("Firebase: Tickets actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Tickets):",e)})}catch(t){return console.error("Critical Firebase Error (Tickets):",t),()=>{}}},addTicket:async n=>({id:(await Ku(da(yi,vi.TICKETS),{...n,status:"open",deleted:!1,createdAt:new Date().toISOString()})).id,...n}),updateTicket:async(n,t)=>{const e=Fo(yi,vi.TICKETS,n);await Wu(e,t)},deleteTicket:async n=>{const t=Fo(yi,vi.TICKETS,n);await Wu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeComputers:n=>{try{console.log("Firebase: Iniciando suscripcin de computadores...");const t=Yu(da(yi,vi.COMPUTERS),qd("createdAt","desc"));return $c(t,e=>{console.log("Firebase: Computadores actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Computers):",e)})}catch(t){return console.error("Critical Firebase Error (Computers):",t),()=>{}}},addComputer:async n=>({id:(await Ku(da(yi,vi.COMPUTERS),{...n,deleted:!1,createdAt:new Date().toISOString(),maintenanceLog:[]})).id,...n}),updateComputer:async(n,t)=>{const e=Fo(yi,vi.COMPUTERS,n);await Wu(e,t)},deleteComputer:async n=>{const t=Fo(yi,vi.COMPUTERS,n);await Wu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeIndicators:n=>{try{console.log("Firebase: Iniciando suscripcin de indicadores...");const t=Yu(da(yi,vi.INDICATORS),qd("createdAt","desc"));return $c(t,e=>{console.log("Firebase: Indicadores actualizados");const r=e.docs.map(s=>({id:s.id,...s.data()})).filter(s=>!s.deleted);n(r)},e=>{console.error("Firebase Error (Indicators):",e)})}catch(t){return console.error("Critical Firebase Error (Indicators):",t),()=>{}}},addIndicator:async n=>({id:(await Ku(da(yi,vi.INDICATORS),{...n,deleted:!1,createdAt:new Date().toISOString()})).id,...n}),deleteIndicator:async n=>{const t=Fo(yi,vi.INDICATORS,n);await Wu(t,{deleted:!0,deletedAt:new Date().toISOString()})},subscribeSGIProcesses:n=>{try{console.log("Firebase: Suscribiendo a procesos SGI...");const t=Yu(da(yi,vi.SGI_PROCESSES),qd("name"));return $c(t,e=>{const r=e.docs.map(s=>({id:s.id,...s.data()}));n(r)},e=>console.error("Firebase Error (SGI Processes):",e))}catch(t){return console.error("Critical Firebase Error (SGI Processes):",t),()=>{}}},addSGIProcess:async n=>({id:(await Ku(da(yi,vi.SGI_PROCESSES),{...n,createdAt:new Date().toISOString()})).id,...n}),updateSGIProcess:async(n,t)=>{const e=Fo(yi,vi.SGI_PROCESSES,n);await Wu(e,t)},deleteSGIProcess:async n=>{const t=Fo(yi,vi.SGI_PROCESSES,n);await Av(t)},submitSGIEvidence:async n=>({id:(await Ku(da(yi,vi.SGI_EVIDENCE),{...n,timestamp:new Date().toISOString()})).id,...n}),subscribeSGIEvidence:(n,t)=>{const e=Yu(da(yi,vi.SGI_EVIDENCE),xv("processId","==",n));return $c(e,r=>{const o=r.docs.map(c=>({id:c.id,...c.data()})).sort((c,h)=>new Date(h.timestamp)-new Date(c.timestamp));t(o)})},getSession:()=>{try{const n=localStorage.getItem("app_logged_user");return n?JSON.parse(n):null}catch{return localStorage.removeItem("app_logged_user"),null}},setSession:n=>{localStorage.setItem("app_logged_user",JSON.stringify(n))},clearSession:()=>{localStorage.removeItem("app_logged_user")}},Hf=()=>{const[n,t]=Zt.useState(()=>pn.getSession()),[e,r]=Zt.useState([]);return Zt.useEffect(()=>{const d=pn.subscribeUsers(y=>{r(y)});return()=>{typeof d=="function"&&d()}},[]),{user:n,users:e,login:async(d,y)=>{const A=await pn.loginUser(d,y);return A?(t(A),pn.setSession(A),!0):!1},logout:()=>{t(null),pn.clearSession()},addUser:d=>pn.addUser(d),deleteUser:d=>pn.deleteUser(d),updateUser:(d,y)=>pn.updateUser(d,y),isAuthenticated:!!n}};const t4=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim();const rT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase());const Iv=n=>{const t=aT(n);return t.charAt(0).toUpperCase()+t.slice(1)};var sT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oT=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const lT=Zt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...h},f)=>Zt.createElement("svg",{ref:f,...sT,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:t4("lucide",s),...!o&&!oT(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,y])=>Zt.createElement(d,y)),...Array.isArray(o)?o:[o]]));const hn=(n,t)=>{const e=Zt.forwardRef(({className:r,...s},o)=>Zt.createElement(lT,{ref:o,iconNode:t,className:t4(`lucide-${rT(Iv(n))}`,`lucide-${n}`,r),...s}));return e.displayName=Iv(n),e};const uT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jm=hn("activity",uT);const cT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ip=hn("calendar",cT);const hT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],N0=hn("camera",hT);const fT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Lv=hn("chart-pie",fT);const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e4=hn("circle-alert",dT);const pT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tl=hn("circle-check-big",pT);const gT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bh=hn("circle-plus",gT);const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],R0=hn("circle-x",mT);const yT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jg=hn("clipboard-list",yT);const vT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bu=hn("clock",vT);const bT=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],xT=hn("cpu",bT);const _T=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sp=hn("download",_T);const wT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ST=hn("eye-off",wT);const AT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ET=hn("eye",AT);const TT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oo=hn("file-text",TT);const CT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],n4=hn("funnel",CT);const NT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RT=hn("layout-dashboard",NT);const IT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LT=hn("log-in",IT);const DT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jT=hn("log-out",DT);const kT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],MT=hn("maximize",kT);const OT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],i4=hn("message-square",OT);const PT=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],zT=hn("minimize",PT);const FT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],e1=hn("monitor",FT);const BT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Lp=hn("paperclip",BT);const UT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VT=hn("refresh-cw",UT);const qT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],HT=hn("save",qT);const GT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I0=hn("search",GT);const YT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WT=hn("send",YT);const KT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$T=hn("shield-check",KT);const QT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],XT=hn("shield",QT);const ZT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oc=hn("square-pen",ZT);const JT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gd=hn("star",JT);const tC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xh=hn("trash-2",tC);const eC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],r4=hn("triangle-alert",eC);const nC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iC=hn("upload",nC);const rC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],aC=hn("user-plus",rC);const sC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a4=hn("user",sC);const oC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lC=hn("users",oC);const uC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s4=hn("x",uC),cC=()=>{const[n,t]=Zt.useState(""),[e,r]=Zt.useState(""),[s,o]=Zt.useState(!1),[c,h]=Zt.useState(""),{login:f}=Hf();Zt.useEffect(()=>{pn.initializeDefaults()},[]);const d=async y=>{y.preventDefault(),h("");try{await f(n,e)?window.location.reload():h("Usuario o contrasea incorrectos.")}catch(A){console.error(A),h("Error al iniciar sesin.")}};return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"radial-gradient(circle at top right, rgba(0, 108, 224, 0.15), transparent 40%), radial-gradient(circle at bottom left, rgba(0, 108, 224, 0.1), transparent 40%)",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"50px 40px",width:"100%",maxWidth:"450px",border:"1px solid rgba(255,255,255,0.1)"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[v.jsx("div",{style:{background:"linear-gradient(135deg, var(--primary), #004da1)",width:"70px",height:"70px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",boxShadow:"0 10px 25px rgba(0, 108, 224, 0.3)"},children:v.jsx($T,{color:"white",size:36})}),v.jsxs("h1",{style:{fontSize:"2rem",color:"white",fontWeight:800,letterSpacing:"-0.5px",marginBottom:"8px"},children:["ELSPEC ",v.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]}),v.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Mesa de Soporte Tcnico Especializado"})]}),v.jsxs("form",{onSubmit:d,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Usuario"}),v.jsx("input",{type:"text",value:n,onChange:y=>t(y.target.value),placeholder:"Ingrese su usuario",style:{padding:"14px 18px",fontSize:"1rem"},required:!0})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:"30px"},children:[v.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)"},children:"Contrasea"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx("input",{type:s?"text":"password",value:e,onChange:y=>r(y.target.value),placeholder:"Ingrese su contrasea",style:{padding:"14px 18px",fontSize:"1rem",paddingRight:"50px"},required:!0}),v.jsx("button",{type:"button",onClick:()=>o(!s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",padding:"5px",color:"var(--text-muted)"},children:s?v.jsx(ST,{size:20}):v.jsx(ET,{size:20})})]})]}),c&&v.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"var(--danger)",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"20px",textAlign:"center"},children:c}),v.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:"1.1rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:["Acceder al Sistema ",v.jsx(LT,{size:20})]})]}),v.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"El sistema ahora sincroniza datos en tiempo real entre todos sus dispositivos."}),v.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:"Para restablecer su contrasea, contacte al administrador del sistema."})]})})},hC=()=>{const[n,t]=Zt.useState([]);return Zt.useEffect(()=>{const o=pn.subscribeTickets(c=>{t(c)});return()=>{typeof o=="function"&&o()}},[]),{tickets:n,addTicket:o=>pn.addTicket(o),updateTicketStatus:(o,c,h={})=>pn.updateTicket(o,{status:c,...h}),deleteTicket:o=>pn.deleteTicket(o)}},km=()=>{const[n,t]=Zt.useState([]),[e,r]=Zt.useState(!0);Zt.useEffect(()=>{const f=pn.subscribeComputers(d=>{t(d),r(!1)});return()=>{typeof f=="function"&&f()}},[]);const s=f=>pn.addComputer(f),o=(f,d)=>pn.updateComputer(f,d);return{computers:n,loading:e,addComputer:s,updateComputer:o,deleteComputer:f=>pn.deleteComputer(f),addMaintenanceLog:(f,d)=>{const y=n.find(A=>A.id===f);if(y){const A=[...y.maintenanceLog||[],{...d,createdAt:new Date().toISOString()}];return o(f,{maintenanceLog:A})}}}},fC=()=>{const{addUser:n,deleteUser:t,updateUser:e}=Hf(),[r,s]=Zt.useState([]);Zt.useEffect(()=>{const C=pn.subscribeUsers(s);return()=>C()},[]);const[o,c]=Zt.useState(null),[h,f]=Zt.useState({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1}),d=C=>{if(C.preventDefault(),o)e(o.id,h),c(null);else{if(r.some(_=>_.username===h.username)){alert("El nombre de usuario ya existe");return}n(h)}f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})},y=C=>{c(C),f({username:C.username,password:C.password,role:C.role,name:C.name,email:C.email,canManageAssets:C.canManageAssets||!1})},A=()=>{c(null),f({username:"",password:"",role:"engineer",name:"",email:"",canManageAssets:!1})};return v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("h3",{style:{marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:[o?v.jsx(oc,{size:22,color:"var(--warning)"}):v.jsx(aC,{size:22,color:"var(--primary)"}),o?`Editando Usuario: ${o.username}`:"Registro de Nuevo Usuario"]}),v.jsx("form",{onSubmit:d,style:{marginBottom:"40px",paddingBottom:"30px",borderBottom:"1px solid var(--border-color)"},children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Nombre Completo"}),v.jsx("input",{type:"text",value:h.name,placeholder:"Juan Prez",onChange:C=>f({...h,name:C.target.value}),required:!0})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Correo Electrnico"}),v.jsx("input",{type:"email",value:h.email,placeholder:"juan@empresa.com",onChange:C=>f({...h,email:C.target.value}),required:!0})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Usuario"}),v.jsx("input",{type:"text",value:h.username,placeholder:"juanp",onChange:C=>f({...h,username:C.target.value}),required:!0,disabled:!!o})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Contrasea"}),v.jsx("input",{type:"text",value:h.password,onChange:C=>f({...h,password:C.target.value}),required:!0})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Rol"}),v.jsxs("select",{value:h.role,onChange:C=>f({...h,role:C.target.value}),children:[v.jsx("option",{value:"engineer",children:"Ingeniero / Soporte"}),v.jsx("option",{value:"admin",children:"Administrador / Gerencia"}),v.jsx("option",{value:"ventas",children:"Ventas"}),v.jsx("option",{value:"sgi",children:"SGI (Gestin)"}),v.jsx("option",{value:"logistica",children:"Logstica"}),v.jsx("option",{value:"operaciones",children:"Operaciones"})]})]}),v.jsx("div",{className:"input-group",style:{marginBottom:0,display:"flex",alignItems:"center",height:"48px"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:0},children:[v.jsx("input",{type:"checkbox",checked:h.canManageAssets,onChange:C=>f({...h,canManageAssets:C.target.checked}),style:{width:"20px",height:"20px"}}),"Gestor de Activos"]})}),v.jsxs("div",{style:{display:"flex",gap:"5px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{height:"48px",padding:"0 20px",background:o?"var(--warning)":"var(--primary)",flex:1},children:o?"Actualizar":"Registrar"}),o&&v.jsx("button",{type:"button",onClick:A,style:{height:"48px",padding:"0 15px",background:"rgba(255,255,255,0.05)"},children:v.jsx(s4,{size:20})})]})]})}),v.jsx("h3",{style:{marginBottom:"20px",fontSize:"1.1rem"},children:"Cuentas Existentes"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(C=>v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid var(--border-color)",opacity:o&&o.id===C.id?.6:1},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[v.jsx("div",{style:{background:C.role==="admin"?"rgba(245, 158, 11, 0.1)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px"},children:C.role==="admin"?v.jsx(XT,{size:20,color:"var(--warning)"}):v.jsx(a4,{size:20,color:"var(--text-muted)"})}),v.jsxs("div",{children:[v.jsxs("div",{style:{fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},children:[C.name||C.username,C.canManageAssets&&C.role!=="admin"&&v.jsx("span",{style:{fontSize:"0.7rem",background:"rgba(0, 108, 224, 0.2)",color:"var(--primary)",padding:"2px 6px",borderRadius:"4px"},children:"Gestor Activos"})]}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["@",C.username,"  ",C.email,"  ",v.jsx("span",{style:{textTransform:"capitalize"},children:C.role})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{onClick:()=>y(C),style:{background:"rgba(52, 211, 153, 0.1)",color:"var(--success)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Editar Usuario",children:v.jsx(oc,{size:18})}),C.username!=="admin"&&v.jsx("button",{onClick:()=>{confirm(`Eliminar al usuario ${C.username}?`)&&t(C.id)},style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},title:"Eliminar Usuario",children:v.jsx(xh,{size:18})})]})]},C.id))})]})},dC="modulepreload",pC=function(n){return"/"+n},Dv={},kg=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=f(e.map(d=>{if(d=pC(d),d in Dv)return;Dv[d]=!0;const y=d.endsWith(".css"),A=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":dC,y||(C.as="script"),C.crossOrigin="",C.href=d,h&&C.setAttribute("nonce",h),document.head.appendChild(C),y)return new Promise((_,F)=>{C.addEventListener("load",_),C.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(n)}var fo=Uint8Array,ms=Uint16Array,Mm=Int32Array,Om=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pm=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jv=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o4=function(n,t){for(var e=new ms(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var s=new Mm(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)s[o]=o-e[r]<<5|r;return{b:e,r:s}},l4=o4(Om,2),gC=l4.b,L0=l4.r;gC[28]=258,L0[258]=28;var mC=o4(Pm,0),kv=mC.r,D0=new ms(32768);for(var xi=0;xi<32768;++xi){var uu=(xi&43690)>>1|(xi&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,D0[xi]=((uu&65280)>>8|(uu&255)<<8)>>1}var Af=(function(n,t,e){for(var r=n.length,s=0,o=new ms(t);s<r;++s)n[s]&&++o[n[s]-1];var c=new ms(t);for(s=1;s<t;++s)c[s]=c[s-1]+o[s-1]<<1;var h;if(e){h=new ms(1<<t);var f=15-t;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],y=t-n[s],A=c[n[s]-1]++<<y,C=A|(1<<y)-1;A<=C;++A)h[D0[A]>>f]=d}else for(h=new ms(r),s=0;s<r;++s)n[s]&&(h[s]=D0[c[n[s]-1]++]>>15-n[s]);return h}),lc=new fo(288);for(var xi=0;xi<144;++xi)lc[xi]=8;for(var xi=144;xi<256;++xi)lc[xi]=9;for(var xi=256;xi<280;++xi)lc[xi]=7;for(var xi=280;xi<288;++xi)lc[xi]=8;var Dp=new fo(32);for(var xi=0;xi<32;++xi)Dp[xi]=5;var yC=Af(lc,9,0),vC=Af(Dp,5,0),u4=function(n){return(n+7)/8|0},bC=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new fo(n.subarray(t,e))},Sl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},df=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Mg=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var s=e.length,o=e.slice();if(!s)return{t:h4,l:0};if(s==1){var c=new fo(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(_t,Dt){return _t.f-Dt.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,y=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};y!=s-1;)h=e[e[d].f<e[A].f?d++:A++],f=e[d!=y&&e[d].f<e[A].f?d++:A++],e[y++]={s:-1,f:h.f+f.f,l:h,r:f};for(var C=o[0].s,r=1;r<s;++r)o[r].s>C&&(C=o[r].s);var _=new ms(C+1),F=j0(e[y-1],_,0);if(F>t){var r=0,H=0,z=F-t,M=1<<z;for(o.sort(function(Dt,$){return _[$.s]-_[Dt.s]||Dt.f-$.f});r<s;++r){var et=o[r].s;if(_[et]>t)H+=M-(1<<F-_[et]),_[et]=t;else break}for(H>>=z;H>0;){var nt=o[r].s;_[nt]<t?H-=1<<t-_[nt]++-1:++r}for(;r>=0&&H;--r){var it=o[r].s;_[it]==t&&(--_[it],++H)}F=t}return{t:new fo(_),l:F}},j0=function(n,t,e){return n.s==-1?Math.max(j0(n.l,t,e+1),j0(n.r,t,e+1)):t[n.s]=e},Mv=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ms(++t),r=0,s=n[0],o=1,c=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==s&&h!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[h]}return{c:e.subarray(0,r),n:t}},pf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},c4=function(n,t,e){var r=e.length,s=u4(t+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=e[o];return(s+4+r)*8},Ov=function(n,t,e,r,s,o,c,h,f,d,y){Sl(t,y++,e),++s[256];for(var A=Mg(s,15),C=A.t,_=A.l,F=Mg(o,15),H=F.t,z=F.l,M=Mv(C),et=M.c,nt=M.n,it=Mv(H),_t=it.c,Dt=it.n,$=new ms(19),O=0;O<et.length;++O)++$[et[O]&31];for(var O=0;O<_t.length;++O)++$[_t[O]&31];for(var w=Mg($,7),q=w.t,I=w.l,R=19;R>4&&!q[jv[R-1]];--R);var E=d+5<<3,rt=pf(s,lc)+pf(o,Dp)+c,yt=pf(s,C)+pf(o,H)+c+14+3*R+pf($,q)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&E<=rt&&E<=yt)return c4(t,y,n.subarray(f,f+d));var st,ft,U,ct;if(Sl(t,y,1+(yt<rt)),y+=2,yt<rt){st=Af(C,_,0),ft=C,U=Af(H,z,0),ct=H;var bt=Af(q,I,0);Sl(t,y,nt-257),Sl(t,y+5,Dt-1),Sl(t,y+10,R-4),y+=14;for(var O=0;O<R;++O)Sl(t,y+3*O,q[jv[O]]);y+=3*R;for(var X=[et,_t],j=0;j<2;++j)for(var P=X[j],O=0;O<P.length;++O){var W=P[O]&31;Sl(t,y,bt[W]),y+=q[W],W>15&&(Sl(t,y,P[O]>>5&127),y+=P[O]>>12)}}else st=yC,ft=lc,U=vC,ct=Dp;for(var O=0;O<h;++O){var K=r[O];if(K>255){var W=K>>18&31;df(t,y,st[W+257]),y+=ft[W+257],W>7&&(Sl(t,y,K>>23&31),y+=Om[W]);var ht=K&31;df(t,y,U[ht]),y+=ct[ht],ht>3&&(df(t,y,K>>5&8191),y+=Pm[ht])}else df(t,y,st[K]),y+=ft[K]}return df(t,y,st[256]),y+ft[256]},xC=new Mm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),h4=new fo(0),_C=function(n,t,e,r,s,o){var c=o.z||n.length,h=new fo(r+c+5*(1+Math.ceil(c/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,y=(o.r||0)&7;if(t){y&&(f[0]=o.r>>3);for(var A=xC[t-1],C=A>>13,_=A&8191,F=(1<<e)-1,H=o.p||new ms(32768),z=o.h||new ms(F+1),M=Math.ceil(e/3),et=2*M,nt=function(ce){return(n[ce]^n[ce+1]<<M^n[ce+2]<<et)&F},it=new Mm(25e3),_t=new ms(288),Dt=new ms(32),$=0,O=0,w=o.i||0,q=0,I=o.w||0,R=0;w+2<c;++w){var E=nt(w),rt=w&32767,yt=z[E];if(H[rt]=yt,z[E]=rt,I<=w){var st=c-w;if(($>7e3||q>24576)&&(st>423||!d)){y=Ov(n,f,0,it,_t,Dt,O,q,R,w-R,y),q=$=O=0,R=w;for(var ft=0;ft<286;++ft)_t[ft]=0;for(var ft=0;ft<30;++ft)Dt[ft]=0}var U=2,ct=0,bt=_,X=rt-yt&32767;if(st>2&&E==nt(w-X))for(var j=Math.min(C,st)-1,P=Math.min(32767,w),W=Math.min(258,st);X<=P&&--bt&&rt!=yt;){if(n[w+U]==n[w+U-X]){for(var K=0;K<W&&n[w+K]==n[w+K-X];++K);if(K>U){if(U=K,ct=X,K>j)break;for(var ht=Math.min(X,K-2),gt=0,ft=0;ft<ht;++ft){var Ct=w-X+ft&32767,Nt=H[Ct],Ot=Ct-Nt&32767;Ot>gt&&(gt=Ot,yt=Ct)}}}rt=yt,yt=H[rt],X+=rt-yt&32767}if(ct){it[q++]=268435456|L0[U]<<18|kv[ct];var $t=L0[U]&31,ne=kv[ct]&31;O+=Om[$t]+Pm[ne],++_t[257+$t],++Dt[ne],I=w+U,++$}else it[q++]=n[w],++_t[n[w]]}}for(w=Math.max(w,I);w<c;++w)it[q++]=n[w],++_t[n[w]];y=Ov(n,f,d,it,_t,Dt,O,q,R,w-R,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=z,o.p=H,o.i=w,o.w=I)}else{for(var w=o.w||0;w<c+d;w+=65535){var ee=w+65535;ee>=c&&(f[y/8|0]=d,ee=c),y=c4(f,y+1,n.subarray(w,ee))}o.i=c}return bC(h,0,r+u4(y)+s)},f4=function(){var n=1,t=0;return{p:function(e){for(var r=n,s=t,o=e.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)s+=r+=e[c];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,t=s},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},wC=function(n,t,e,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new fo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return _C(n,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,s)},d4=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},SC=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var s=f4();s.p(t.dictionary),d4(n,2,s.d())}};function k0(n,t){t||(t={});var e=f4();e.p(n);var r=wC(n,t,t.dictionary?6:2,4);return SC(r,t),d4(r,r.length-4,e.d()),r}var AC=typeof TextDecoder<"u"&&new TextDecoder,EC=0;try{AC.decode(h4,{stream:!0}),EC=1}catch{}function TC(n){if(Array.isArray(n))return n}function CC(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,s,o,c,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(y){d=!0,s=y}finally{try{if(!f&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function Pv(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function NC(n,t){if(n){if(typeof n=="string")return Pv(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Pv(n,t):void 0}}function RC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zv(n,t){return TC(n)||CC(n,t)||NC(n,t)||RC()}function Fv(n,t="utf8"){return new TextDecoder(t).decode(n)}const IC=new TextEncoder;function LC(n){return IC.encode(n)}const DC=1024*8,jC=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Og={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class zm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=DC,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let c=s;(ArrayBuffer.isView(t)||t instanceof zm)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+s),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=Og[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===jC&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new Og[e](h.buffer);return this.offset+=r,f.reverse(),f}const c=new Og[e](o);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return Fv(this.readBytes(t))}decodeText(t=1,e="utf8"){return Fv(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(LC(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ch(n){let t=n.length;for(;--t>=0;)n[t]=0}const kC=3,MC=258,p4=29,OC=256,PC=OC+1+p4,g4=30,zC=512,FC=new Array((PC+2)*2);Ch(FC);const BC=new Array(g4*2);Ch(BC);const UC=new Array(zC);Ch(UC);const VC=new Array(MC-kC+1);Ch(VC);const qC=new Array(p4);Ch(qC);const HC=new Array(g4);Ch(HC);const GC=(n,t,e,r)=>{let s=n&65535|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do s=s+t[r++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var M0=GC;const YC=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},WC=new Uint32Array(YC()),KC=(n,t,e,r)=>{const s=WC,o=r+e;n^=-1;for(let c=r;c<o;c++)n=n>>>8^s[(n^t[c])&255];return n^-1};var zo=KC,O0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},m4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $C=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var QC=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)$C(e,r)&&(n[r]=e[r])}}return n},XC=n=>{let t=0;for(let r=0,s=n.length;r<s;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,s=0,o=n.length;r<o;r++){let c=n[r];e.set(c,s),s+=c.length}return e},y4={assign:QC,flattenChunks:XC};let v4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v4=!1}const Of=new Uint8Array(256);for(let n=0;n<256;n++)Of[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Of[254]=Of[254]=1;var ZC=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,s,o,c=n.length,h=0;for(s=0;s<c;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,s=0;o<h;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<c&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const JC=(n,t)=>{if(t<65534&&n.subarray&&v4)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var tN=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,s;const o=new Array(e*2);for(s=0,r=0;r<e;){let c=n[r++];if(c<128){o[s++]=c;continue}let h=Of[c];if(h>4){o[s++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<e;)c=c<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return JC(o,s)},eN=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Of[n[e]]>t?e:t},P0={string2buf:ZC,buf2string:tN,utf8border:eN};function nN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var iN=nN;const Yd=16209,rN=16191;var aN=function(t,e){let r,s,o,c,h,f,d,y,A,C,_,F,H,z,M,et,nt,it,_t,Dt,$,O,w,q;const I=t.state;r=t.next_in,w=t.input,s=r+(t.avail_in-5),o=t.next_out,q=t.output,c=o-(e-t.avail_out),h=o+(t.avail_out-257),f=I.dmax,d=I.wsize,y=I.whave,A=I.wnext,C=I.window,_=I.hold,F=I.bits,H=I.lencode,z=I.distcode,M=(1<<I.lenbits)-1,et=(1<<I.distbits)-1;t:do{F<15&&(_+=w[r++]<<F,F+=8,_+=w[r++]<<F,F+=8),nt=H[_&M];e:for(;;){if(it=nt>>>24,_>>>=it,F-=it,it=nt>>>16&255,it===0)q[o++]=nt&65535;else if(it&16){_t=nt&65535,it&=15,it&&(F<it&&(_+=w[r++]<<F,F+=8),_t+=_&(1<<it)-1,_>>>=it,F-=it),F<15&&(_+=w[r++]<<F,F+=8,_+=w[r++]<<F,F+=8),nt=z[_&et];n:for(;;){if(it=nt>>>24,_>>>=it,F-=it,it=nt>>>16&255,it&16){if(Dt=nt&65535,it&=15,F<it&&(_+=w[r++]<<F,F+=8,F<it&&(_+=w[r++]<<F,F+=8)),Dt+=_&(1<<it)-1,Dt>f){t.msg="invalid distance too far back",I.mode=Yd;break t}if(_>>>=it,F-=it,it=o-c,Dt>it){if(it=Dt-it,it>y&&I.sane){t.msg="invalid distance too far back",I.mode=Yd;break t}if($=0,O=C,A===0){if($+=d-it,it<_t){_t-=it;do q[o++]=C[$++];while(--it);$=o-Dt,O=q}}else if(A<it){if($+=d+A-it,it-=A,it<_t){_t-=it;do q[o++]=C[$++];while(--it);if($=0,A<_t){it=A,_t-=it;do q[o++]=C[$++];while(--it);$=o-Dt,O=q}}}else if($+=A-it,it<_t){_t-=it;do q[o++]=C[$++];while(--it);$=o-Dt,O=q}for(;_t>2;)q[o++]=O[$++],q[o++]=O[$++],q[o++]=O[$++],_t-=3;_t&&(q[o++]=O[$++],_t>1&&(q[o++]=O[$++]))}else{$=o-Dt;do q[o++]=q[$++],q[o++]=q[$++],q[o++]=q[$++],_t-=3;while(_t>2);_t&&(q[o++]=q[$++],_t>1&&(q[o++]=q[$++]))}}else if((it&64)===0){nt=z[(nt&65535)+(_&(1<<it)-1)];continue n}else{t.msg="invalid distance code",I.mode=Yd;break t}break}}else if((it&64)===0){nt=H[(nt&65535)+(_&(1<<it)-1)];continue e}else if(it&32){I.mode=rN;break t}else{t.msg="invalid literal/length code",I.mode=Yd;break t}break}}while(r<s&&o<h);_t=F>>3,r-=_t,F-=_t<<3,_&=(1<<F)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<h?257+(h-o):257-(o-h),I.hold=_,I.bits=F};const Qc=15,Bv=852,Uv=592,Vv=0,Pg=1,qv=2,sN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cN=(n,t,e,r,s,o,c,h)=>{const f=h.bits;let d=0,y=0,A=0,C=0,_=0,F=0,H=0,z=0,M=0,et=0,nt,it,_t,Dt,$,O=null,w;const q=new Uint16Array(Qc+1),I=new Uint16Array(Qc+1);let R=null,E,rt,yt;for(d=0;d<=Qc;d++)q[d]=0;for(y=0;y<r;y++)q[t[e+y]]++;for(_=f,C=Qc;C>=1&&q[C]===0;C--);if(_>C&&(_=C),C===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<C&&q[A]===0;A++);for(_<A&&(_=A),z=1,d=1;d<=Qc;d++)if(z<<=1,z-=q[d],z<0)return-1;if(z>0&&(n===Vv||C!==1))return-1;for(I[1]=0,d=1;d<Qc;d++)I[d+1]=I[d]+q[d];for(y=0;y<r;y++)t[e+y]!==0&&(c[I[t[e+y]]++]=y);if(n===Vv?(O=R=c,w=20):n===Pg?(O=sN,R=oN,w=257):(O=lN,R=uN,w=0),et=0,y=0,d=A,$=o,F=_,H=0,_t=-1,M=1<<_,Dt=M-1,n===Pg&&M>Bv||n===qv&&M>Uv)return 1;for(;;){E=d-H,c[y]+1<w?(rt=0,yt=c[y]):c[y]>=w?(rt=R[c[y]-w],yt=O[c[y]-w]):(rt=96,yt=0),nt=1<<d-H,it=1<<F,A=it;do it-=nt,s[$+(et>>H)+it]=E<<24|rt<<16|yt|0;while(it!==0);for(nt=1<<d-1;et&nt;)nt>>=1;if(nt!==0?(et&=nt-1,et+=nt):et=0,y++,--q[d]===0){if(d===C)break;d=t[e+c[y]]}if(d>_&&(et&Dt)!==_t){for(H===0&&(H=_),$+=A,F=d-H,z=1<<F;F+H<C&&(z-=q[F+H],!(z<=0));)F++,z<<=1;if(M+=1<<F,n===Pg&&M>Bv||n===qv&&M>Uv)return 1;_t=et&Dt,s[_t]=_<<24|F<<16|$-o|0}}return et!==0&&(s[$+et]=d-H<<24|64<<16|0),h.bits=_,0};var Ef=cN;const hN=0,b4=1,x4=2,{Z_FINISH:Hv,Z_BLOCK:fN,Z_TREES:Wd,Z_OK:uc,Z_STREAM_END:dN,Z_NEED_DICT:pN,Z_STREAM_ERROR:Ps,Z_DATA_ERROR:_4,Z_MEM_ERROR:w4,Z_BUF_ERROR:gN,Z_DEFLATED:Gv}=m4,n1=16180,Yv=16181,Wv=16182,Kv=16183,$v=16184,Qv=16185,Xv=16186,Zv=16187,Jv=16188,tb=16189,jp=16190,Al=16191,zg=16192,eb=16193,Fg=16194,nb=16195,ib=16196,rb=16197,ab=16198,Kd=16199,$d=16200,sb=16201,ob=16202,lb=16203,ub=16204,cb=16205,Bg=16206,hb=16207,fb=16208,Ci=16209,S4=16210,A4=16211,mN=852,yN=592,vN=15,bN=vN,db=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function xN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<n1||t.mode>A4?1:0},E4=n=>{if(dc(n))return Ps;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=n1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(mN),t.distcode=t.distdyn=new Int32Array(yN),t.sane=1,t.back=-1,uc},T4=n=>{if(dc(n))return Ps;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,E4(n)},C4=(n,t)=>{let e;if(dc(n))return Ps;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ps:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,T4(n))},N4=(n,t)=>{if(!n)return Ps;const e=new xN;n.state=e,e.strm=n,e.window=null,e.mode=n1;const r=C4(n,t);return r!==uc&&(n.state=null),r},_N=n=>N4(n,bN);let pb=!0,Ug,Vg;const wN=n=>{if(pb){Ug=new Int32Array(512),Vg=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Ef(b4,n.lens,0,288,Ug,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Ef(x4,n.lens,0,32,Vg,0,n.work,{bits:5}),pb=!1}n.lencode=Ug,n.lenbits=9,n.distcode=Vg,n.distbits=5},R4=(n,t,e,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(t.subarray(e-r,e-r+s),o.wnext),r-=s,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},SN=(n,t)=>{let e,r,s,o,c,h,f,d,y,A,C,_,F,H,z=0,M,et,nt,it,_t,Dt,$,O;const w=new Uint8Array(4);let q,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dc(n)||!n.output||!n.input&&n.avail_in!==0)return Ps;e=n.state,e.mode===Al&&(e.mode=zg),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,y=e.bits,A=h,C=f,O=uc;t:for(;;)switch(e.mode){case n1:if(e.wrap===0){e.mode=zg;break}for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,w[0]=d&255,w[1]=d>>>8&255,e.check=zo(e.check,w,2,0),d=0,y=0,e.mode=Yv;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Ci;break}if((d&15)!==Gv){n.msg="unknown compression method",e.mode=Ci;break}if(d>>>=4,y-=4,$=(d&15)+8,e.wbits===0&&(e.wbits=$),$>15||$>e.wbits){n.msg="invalid window size",e.mode=Ci;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?tb:Al,d=0,y=0;break;case Yv:for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.flags=d,(e.flags&255)!==Gv){n.msg="unknown compression method",e.mode=Ci;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Ci;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=zo(e.check,w,2,0)),d=0,y=0,e.mode=Wv;case Wv:for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,w[2]=d>>>16&255,w[3]=d>>>24&255,e.check=zo(e.check,w,4,0)),d=0,y=0,e.mode=Kv;case Kv:for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=zo(e.check,w,2,0)),d=0,y=0,e.mode=$v;case $v:if(e.flags&1024){for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(w[0]=d&255,w[1]=d>>>8&255,e.check=zo(e.check,w,2,0)),d=0,y=0}else e.head&&(e.head.extra=null);e.mode=Qv;case Qv:if(e.flags&1024&&(_=e.length,_>h&&(_=h),_&&(e.head&&($=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+_),$)),e.flags&512&&e.wrap&4&&(e.check=zo(e.check,r,_,o)),h-=_,o+=_,e.length-=_),e.length))break t;e.length=0,e.mode=Xv;case Xv:if(e.flags&2048){if(h===0)break t;_=0;do $=r[o+_++],e.head&&$&&e.length<65536&&(e.head.name+=String.fromCharCode($));while($&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=zo(e.check,r,_,o)),h-=_,o+=_,$)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Zv;case Zv:if(e.flags&4096){if(h===0)break t;_=0;do $=r[o+_++],e.head&&$&&e.length<65536&&(e.head.comment+=String.fromCharCode($));while($&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=zo(e.check,r,_,o)),h-=_,o+=_,$)break t}else e.head&&(e.head.comment=null);e.mode=Jv;case Jv:if(e.flags&512){for(;y<16;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Ci;break}d=0,y=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Al;break;case tb:for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}n.adler=e.check=db(d),d=0,y=0,e.mode=jp;case jp:if(e.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,pN;n.adler=e.check=1,e.mode=Al;case Al:if(t===fN||t===Wd)break t;case zg:if(e.last){d>>>=y&7,y-=y&7,e.mode=Bg;break}for(;y<3;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}switch(e.last=d&1,d>>>=1,y-=1,d&3){case 0:e.mode=eb;break;case 1:if(wN(e),e.mode=Kd,t===Wd){d>>>=2,y-=2;break t}break;case 2:e.mode=ib;break;case 3:n.msg="invalid block type",e.mode=Ci}d>>>=2,y-=2;break;case eb:for(d>>>=y&7,y-=y&7;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Ci;break}if(e.length=d&65535,d=0,y=0,e.mode=Fg,t===Wd)break t;case Fg:e.mode=nb;case nb:if(_=e.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break t;s.set(r.subarray(o,o+_),c),h-=_,o+=_,f-=_,c+=_,e.length-=_;break}e.mode=Al;break;case ib:for(;y<14;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.nlen=(d&31)+257,d>>>=5,y-=5,e.ndist=(d&31)+1,d>>>=5,y-=5,e.ncode=(d&15)+4,d>>>=4,y-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Ci;break}e.have=0,e.mode=rb;case rb:for(;e.have<e.ncode;){for(;y<3;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.lens[R[e.have++]]=d&7,d>>>=3,y-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},O=Ef(hN,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,O){n.msg="invalid code lengths set",e.mode=Ci;break}e.have=0,e.mode=ab;case ab:for(;e.have<e.nlen+e.ndist;){for(;z=e.lencode[d&(1<<e.lenbits)-1],M=z>>>24,et=z>>>16&255,nt=z&65535,!(M<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(nt<16)d>>>=M,y-=M,e.lens[e.have++]=nt;else{if(nt===16){for(I=M+2;y<I;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(d>>>=M,y-=M,e.have===0){n.msg="invalid bit length repeat",e.mode=Ci;break}$=e.lens[e.have-1],_=3+(d&3),d>>>=2,y-=2}else if(nt===17){for(I=M+3;y<I;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=M,y-=M,$=0,_=3+(d&7),d>>>=3,y-=3}else{for(I=M+7;y<I;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=M,y-=M,$=0,_=11+(d&127),d>>>=7,y-=7}if(e.have+_>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Ci;break}for(;_--;)e.lens[e.have++]=$}}if(e.mode===Ci)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Ci;break}if(e.lenbits=9,q={bits:e.lenbits},O=Ef(b4,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,O){n.msg="invalid literal/lengths set",e.mode=Ci;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},O=Ef(x4,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,O){n.msg="invalid distances set",e.mode=Ci;break}if(e.mode=Kd,t===Wd)break t;case Kd:e.mode=$d;case $d:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,aN(n,C),c=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,y=e.bits,e.mode===Al&&(e.back=-1);break}for(e.back=0;z=e.lencode[d&(1<<e.lenbits)-1],M=z>>>24,et=z>>>16&255,nt=z&65535,!(M<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(et&&(et&240)===0){for(it=M,_t=et,Dt=nt;z=e.lencode[Dt+((d&(1<<it+_t)-1)>>it)],M=z>>>24,et=z>>>16&255,nt=z&65535,!(it+M<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=it,y-=it,e.back+=it}if(d>>>=M,y-=M,e.back+=M,e.length=nt,et===0){e.mode=cb;break}if(et&32){e.back=-1,e.mode=Al;break}if(et&64){n.msg="invalid literal/length code",e.mode=Ci;break}e.extra=et&15,e.mode=sb;case sb:if(e.extra){for(I=e.extra;y<I;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=ob;case ob:for(;z=e.distcode[d&(1<<e.distbits)-1],M=z>>>24,et=z>>>16&255,nt=z&65535,!(M<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if((et&240)===0){for(it=M,_t=et,Dt=nt;z=e.distcode[Dt+((d&(1<<it+_t)-1)>>it)],M=z>>>24,et=z>>>16&255,nt=z&65535,!(it+M<=y);){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}d>>>=it,y-=it,e.back+=it}if(d>>>=M,y-=M,e.back+=M,et&64){n.msg="invalid distance code",e.mode=Ci;break}e.offset=nt,e.extra=et&15,e.mode=lb;case lb:if(e.extra){for(I=e.extra;y<I;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Ci;break}e.mode=ub;case ub:if(f===0)break t;if(_=C-f,e.offset>_){if(_=e.offset-_,_>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Ci;break}_>e.wnext?(_-=e.wnext,F=e.wsize-_):F=e.wnext-_,_>e.length&&(_=e.length),H=e.window}else H=s,F=c-e.offset,_=e.length;_>f&&(_=f),f-=_,e.length-=_;do s[c++]=H[F++];while(--_);e.length===0&&(e.mode=$d);break;case cb:if(f===0)break t;s[c++]=e.length,f--,e.mode=$d;break;case Bg:if(e.wrap){for(;y<32;){if(h===0)break t;h--,d|=r[o++]<<y,y+=8}if(C-=f,n.total_out+=C,e.total+=C,e.wrap&4&&C&&(n.adler=e.check=e.flags?zo(e.check,s,C,c-C):M0(e.check,s,C,c-C)),C=f,e.wrap&4&&(e.flags?d:db(d))!==e.check){n.msg="incorrect data check",e.mode=Ci;break}d=0,y=0}e.mode=hb;case hb:if(e.wrap&&e.flags){for(;y<32;){if(h===0)break t;h--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Ci;break}d=0,y=0}e.mode=fb;case fb:O=dN;break t;case Ci:O=_4;break t;case S4:return w4;case A4:default:return Ps}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=y,(e.wsize||C!==n.avail_out&&e.mode<Ci&&(e.mode<Bg||t!==Hv))&&R4(n,n.output,n.next_out,C-n.avail_out),A-=n.avail_in,C-=n.avail_out,n.total_in+=A,n.total_out+=C,e.total+=C,e.wrap&4&&C&&(n.adler=e.check=e.flags?zo(e.check,s,C,n.next_out-C):M0(e.check,s,C,n.next_out-C)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Al?128:0)+(e.mode===Kd||e.mode===Fg?256:0),(A===0&&C===0||t===Hv)&&O===uc&&(O=gN),O},AN=n=>{if(dc(n))return Ps;let t=n.state;return t.window&&(t.window=null),n.state=null,uc},EN=(n,t)=>{if(dc(n))return Ps;const e=n.state;return(e.wrap&2)===0?Ps:(e.head=t,t.done=!1,uc)},TN=(n,t)=>{const e=t.length;let r,s,o;return dc(n)||(r=n.state,r.wrap!==0&&r.mode!==jp)?Ps:r.mode===jp&&(s=1,s=M0(s,t,e,0),s!==r.check)?_4:(o=R4(n,t,e,e),o?(r.mode=S4,w4):(r.havedict=1,uc))};var CN=T4,NN=C4,RN=E4,IN=_N,LN=N4,DN=SN,jN=AN,kN=EN,MN=TN,ON="pako inflate (from Nodeca project)",El={inflateReset:CN,inflateReset2:NN,inflateResetKeep:RN,inflateInit:IN,inflateInit2:LN,inflate:DN,inflateEnd:jN,inflateGetHeader:kN,inflateSetDictionary:MN,inflateInfo:ON};function PN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zN=PN;const I4=Object.prototype.toString,{Z_NO_FLUSH:FN,Z_FINISH:BN,Z_OK:Pf,Z_STREAM_END:qg,Z_NEED_DICT:Hg,Z_STREAM_ERROR:UN,Z_DATA_ERROR:gb,Z_MEM_ERROR:VN}=m4;function Gf(n){this.options=y4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new iN,this.strm.avail_out=0;let e=El.inflateInit2(this.strm,t.windowBits);if(e!==Pf)throw new Error(O0[e]);if(this.header=new zN,El.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=P0.string2buf(t.dictionary):I4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=El.inflateSetDictionary(this.strm,t.dictionary),e!==Pf)))throw new Error(O0[e])}Gf.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?BN:FN,I4.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=El.inflate(e,c),o===Hg&&s&&(o=El.inflateSetDictionary(e,s),o===Pf?o=El.inflate(e,c):o===gb&&(o=Hg));e.avail_in>0&&o===qg&&e.state.wrap>0&&n[e.next_in]!==0;)El.inflateReset(e),o=El.inflate(e,c);switch(o){case UN:case gb:case Hg:case VN:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===qg))if(this.options.to==="string"){let f=P0.utf8border(e.output,e.next_out),d=e.next_out-f,y=P0.buf2string(e.output,f);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(y)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Pf&&h===0)){if(o===qg)return o=El.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Gf.prototype.onData=function(n){this.chunks.push(n)};Gf.prototype.onEnd=function(n){n===Pf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function qN(n,t){const e=new Gf(t);if(e.push(n),e.err)throw e.msg||O0[e.err];return e.result}var HN=Gf,GN=qN,YN={Inflate:HN,inflate:GN};const{Inflate:WN,inflate:KN}=YN;var mb=WN,$N=KN;const L4=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;L4[n]=t}const yb=4294967295;function QN(n,t,e){let r=n;for(let s=0;s<e;s++)r=L4[(r^t[s])&255]^r>>>8;return r}function XN(n,t){return(QN(yb,n,t)^yb)>>>0}function vb(n,t,e){const r=n.readUint32(),s=XN(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(s!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${s}`)}function D4(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function j4(n,t,e,r){let s=0;for(;s<r;s++)t[s]=n[s];for(;s<e;s++)t[s]=n[s]+t[s-r]&255}function k4(n,t,e,r){let s=0;if(e.length===0)for(;s<r;s++)t[s]=n[s];else for(;s<r;s++)t[s]=n[s]+e[s]&255}function M4(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-s]+e[o]>>1)&255}}function O4(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+ZN(t[o-s],e[o],e[o-s])&255}}function ZN(n,t,e){const r=n+t-e,s=Math.abs(r-n),o=Math.abs(r-t),c=Math.abs(r-e);return s<=o&&s<=c?n:o<=c?t:e}function JN(n,t,e,r,s,o){switch(n){case 0:D4(t,e,s);break;case 1:j4(t,e,s,o);break;case 2:k4(t,e,r,s);break;case 3:M4(t,e,r,s,o);break;case 4:O4(t,e,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const t7=new Uint16Array([255]),e7=new Uint8Array(t7.buffer),n7=e7[0]===255;function i7(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*e*h);let d=0;for(let y=0;y<7;y++){const A=c[y],C=Math.ceil((e-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(C<=0||_<=0)continue;const F=C*h,H=new Uint8Array(F);for(let z=0;z<_;z++){const M=t[d++],et=t.subarray(d,d+F);d+=F;const nt=new Uint8Array(F);JN(M,et,nt,H,F,h),H.set(nt);for(let it=0;it<C;it++){const _t=A.x+it*A.xStep,Dt=A.y+z*A.yStep;if(!(_t>=e||Dt>=r))for(let $=0;$<h;$++)f[(Dt*e+_t)*h+$]=nt[it*h+$]}}}if(o===16){const y=new Uint16Array(f.buffer);if(n7)for(let A=0;A<y.length;A++)y[A]=r7(y[A]);return y}else return f}function r7(n){return(n&255)<<8|n>>8&255}const a7=new Uint16Array([255]),s7=new Uint8Array(a7.buffer),o7=s7[0]===255,l7=new Uint8Array(0);function bb(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,c=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*e),f=new Uint8Array(r*h);let d=l7,y=0,A,C;for(let _=0;_<r;_++){switch(A=t.subarray(y+1,y+1+h),C=f.subarray(_*h,(_+1)*h),t[y]){case 0:D4(A,C,h);break;case 1:j4(A,C,h,c);break;case 2:k4(A,C,d,h);break;case 3:M4(A,C,d,h,c);break;case 4:O4(A,C,d,h,c);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}d=C,y+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(o7)for(let F=0;F<_.length;F++)_[F]=u7(_[F]);return _}else return f}function u7(n){return(n&255)<<8|n>>8&255}const op=Uint8Array.of(137,80,78,71,13,10,26,10);function xb(n){if(!c7(n.readBytes(op.length)))throw new Error("wrong PNG signature")}function c7(n){if(n.length<op.length)return!1;for(let t=0;t<op.length;t++)if(n[t]!==op[t])return!1;return!0}const h7="tEXt",f7=0,P4=new TextDecoder("latin1");function d7(n){if(g7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const p7=/^[\u0000-\u00FF]*$/;function g7(n){if(!p7.test(n))throw new Error("invalid latin1 text")}function m7(n,t,e){const r=z4(t);n[r]=y7(t,e-r.length-1)}function z4(n){for(n.mark();n.readByte()!==f7;);const t=n.offset;n.reset();const e=P4.decode(n.readBytes(t-n.offset-1));return n.skip(1),d7(e),e}function y7(n,t){return P4.decode(n.readBytes(t))}const ps={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Gg={UNKNOWN:-1,DEFLATE:0},_b={UNKNOWN:-1,ADAPTIVE:0},Yg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qd={NONE:0,BACKGROUND:1,PREVIOUS:2},Wg={SOURCE:0,OVER:1};class v7 extends zm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new mb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Gg.UNKNOWN,this._filterMethod=_b.UNKNOWN,this._interlaceMethod=Yg.UNKNOWN,this._colorType=ps.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(xb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case h7:m7(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?vb(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?vb(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=b7(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case ps.GREYSCALE:r=1;break;case ps.TRUECOLOUR:r=3;break;case ps.INDEXED_COLOUR:r=1;break;case ps.GREYSCALE_ALPHA:r=2;break;case ps.TRUECOLOUR_ALPHA:r=4;break;case ps.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Gg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<e;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ps.GREYSCALE:case ps.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case ps.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case ps.UNKNOWN:case ps.GREYSCALE_ALPHA:case ps.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=z4(this),r=this.readUint8();if(r!==Gg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:$N(s)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=bb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(r,s,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case Qd.NONE:break;case Qd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case Qd.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,s=(o,c)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+c)*this._png.channels,f=(o*e.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case Wg.SOURCE:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++)t.data[h+d]=e.data[f+d]}break;case Wg.OVER:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:f}=s(o,c);for(let d=0;d<this._png.channels;d++){const y=e.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:e.data[f+d],C=Math.floor(y*A+(1-y)*t.data[h+d]);t.data[h+d]+=C}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_b.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Yg.NO_INTERLACE)this._png.data=bb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Yg.ADAM7)this._png.data=i7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qd.NONE,blendOp:Wg.SOURCE,data:t}),this._inflator=new mb,this._writingDataChunks=!1}}function b7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var wb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(wb||(wb={}));function x7(n,t){return new v7(n,t).decode()}var Ge=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Kg(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var ui={log:Kg,warn:function(n){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):Kg.call(null,arguments))},error:function(n){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):Kg(n))}};function $g(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Qu(r.response,t,e)},r.onerror=function(){ui.error("could not download file")},r.send()}function Sb(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Xd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Qu=Ge.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ge.URL||Ge.webkitURL,s=document.createElement("a");t=t||n.name||"download",s.download=t,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Sb(s.href)?$g(n,t,e):Xd(s,s.target="_blank"):Xd(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Xd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Sb(n))$g(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Xd(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return $g(n,t,e);var s=n.type==="application/octet-stream",o=/constructor/i.test(Ge.HTMLElement)||Ge.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var y=h.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},h.readAsDataURL(n)}else{var f=Ge.URL||Ge.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function F4(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var s=e[r].re,o=e[r].process,c=s.exec(n);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var lp=Ge.atob.bind(Ge),Ab=Ge.btoa.bind(Ge);function Qg(n,t){var e=n[0],r=n[1],s=n[2],o=n[3];e=pa(e,r,s,o,t[0],7,-680876936),o=pa(o,e,r,s,t[1],12,-389564586),s=pa(s,o,e,r,t[2],17,606105819),r=pa(r,s,o,e,t[3],22,-1044525330),e=pa(e,r,s,o,t[4],7,-176418897),o=pa(o,e,r,s,t[5],12,1200080426),s=pa(s,o,e,r,t[6],17,-1473231341),r=pa(r,s,o,e,t[7],22,-45705983),e=pa(e,r,s,o,t[8],7,1770035416),o=pa(o,e,r,s,t[9],12,-1958414417),s=pa(s,o,e,r,t[10],17,-42063),r=pa(r,s,o,e,t[11],22,-1990404162),e=pa(e,r,s,o,t[12],7,1804603682),o=pa(o,e,r,s,t[13],12,-40341101),s=pa(s,o,e,r,t[14],17,-1502002290),e=ga(e,r=pa(r,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=ga(o,e,r,s,t[6],9,-1069501632),s=ga(s,o,e,r,t[11],14,643717713),r=ga(r,s,o,e,t[0],20,-373897302),e=ga(e,r,s,o,t[5],5,-701558691),o=ga(o,e,r,s,t[10],9,38016083),s=ga(s,o,e,r,t[15],14,-660478335),r=ga(r,s,o,e,t[4],20,-405537848),e=ga(e,r,s,o,t[9],5,568446438),o=ga(o,e,r,s,t[14],9,-1019803690),s=ga(s,o,e,r,t[3],14,-187363961),r=ga(r,s,o,e,t[8],20,1163531501),e=ga(e,r,s,o,t[13],5,-1444681467),o=ga(o,e,r,s,t[2],9,-51403784),s=ga(s,o,e,r,t[7],14,1735328473),e=ma(e,r=ga(r,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=ma(o,e,r,s,t[8],11,-2022574463),s=ma(s,o,e,r,t[11],16,1839030562),r=ma(r,s,o,e,t[14],23,-35309556),e=ma(e,r,s,o,t[1],4,-1530992060),o=ma(o,e,r,s,t[4],11,1272893353),s=ma(s,o,e,r,t[7],16,-155497632),r=ma(r,s,o,e,t[10],23,-1094730640),e=ma(e,r,s,o,t[13],4,681279174),o=ma(o,e,r,s,t[0],11,-358537222),s=ma(s,o,e,r,t[3],16,-722521979),r=ma(r,s,o,e,t[6],23,76029189),e=ma(e,r,s,o,t[9],4,-640364487),o=ma(o,e,r,s,t[12],11,-421815835),s=ma(s,o,e,r,t[15],16,530742520),e=ya(e,r=ma(r,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=ya(o,e,r,s,t[7],10,1126891415),s=ya(s,o,e,r,t[14],15,-1416354905),r=ya(r,s,o,e,t[5],21,-57434055),e=ya(e,r,s,o,t[12],6,1700485571),o=ya(o,e,r,s,t[3],10,-1894986606),s=ya(s,o,e,r,t[10],15,-1051523),r=ya(r,s,o,e,t[1],21,-2054922799),e=ya(e,r,s,o,t[8],6,1873313359),o=ya(o,e,r,s,t[15],10,-30611744),s=ya(s,o,e,r,t[6],15,-1560198380),r=ya(r,s,o,e,t[13],21,1309151649),e=ya(e,r,s,o,t[4],6,-145523070),o=ya(o,e,r,s,t[11],10,-1120210379),s=ya(s,o,e,r,t[2],15,718787259),r=ya(r,s,o,e,t[9],21,-343485551),n[0]=fu(e,n[0]),n[1]=fu(r,n[1]),n[2]=fu(s,n[2]),n[3]=fu(o,n[3])}function i1(n,t,e,r,s,o){return t=fu(fu(t,n),fu(r,o)),fu(t<<s|t>>>32-s,e)}function pa(n,t,e,r,s,o,c){return i1(t&e|~t&r,n,t,s,o,c)}function ga(n,t,e,r,s,o,c){return i1(t&r|e&~r,n,t,s,o,c)}function ma(n,t,e,r,s,o,c){return i1(t^e^r,n,t,s,o,c)}function ya(n,t,e,r,s,o,c){return i1(e^(t|~r),n,t,s,o,c)}function B4(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Qg(r,_7(n.substring(t-64,t)));n=n.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Qg(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,Qg(r,s),r}function _7(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Eb="0123456789abcdef".split("");function w7(n){for(var t="",e=0;e<4;e++)t+=Eb[n>>8*e+4&15]+Eb[n>>8*e&15];return t}function S7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function z0(n){return B4(n).map(S7).join("")}var A7=(function(n){for(var t=0;t<n.length;t++)n[t]=w7(n[t]);return n.join("")})(B4("hello"))!="5d41402abc4b2a76b9719d911017c592";function fu(n,t){if(A7){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function F0(n,t){var e,r,s,o;if(n!==e){for(var c=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var y=h[f];d=(d+y+c.charCodeAt(f))%256,h[f]=h[d],h[d]=y}e=n,r=h}else h=r;var A=t.length,C=0,_=0,F="";for(f=0;f<A;f++)_=(_+(y=h[C=(C+1)%256]))%256,h[C]=h[_],h[_]=y,c=h[(h[C]+h[_])%256],F+=String.fromCharCode(t.charCodeAt(f)^c);return F}var Tb={print:4,modify:8,copy:16,"annot-forms":32};function ih(n,t,e,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(Tb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=Tb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=z0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=F0(this.encryptionKey,this.padding)}function rh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var s=n.charCodeAt(r);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return t}function Cb(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,s){if(s=s||!1,typeof e!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!s],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(n,r)}catch(h){Ge.console&&ui.error("jsPDF PubSub Error",h.message,h)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function kp(n){if(!(this instanceof kp))return new kp(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function U4(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Xu(n,t,e,r,s){if(!(this instanceof Xu))return new Xu(n,t,e,r,s);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,U4.call(this,r,s)}function ah(n,t,e,r,s){if(!(this instanceof ah))return new ah(n,t,e,r,s);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,U4.call(this,r,s)}function ye(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",y=null;Qn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,C={},_={internal:{},__private__:{}};_.__private__.PubSub=Cb;var F="1.3",H=_.__private__.getPdfVersion=function(){return F};_.__private__.setPdfVersion=function(S){F=S};var z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return z};var M=_.__private__.getPageFormat=function(S){return z[S]};s=s||"a4";var et="compat",nt="advanced",it=et;function _t(){this.saveGraphicsState(),at(new Ae(qe,0,0,-qe,0,Aa()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),d="n",it=nt}function Dt(){this.restoreGraphicsState(),d="S",it=et}var $=_.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};_.advancedAPI=function(S){var B=it===et;return B&&_t.call(this),typeof S!="function"||(S(this),B&&Dt.call(this)),this},_.compatAPI=function(S){var B=it===nt;return B&&Dt.call(this),typeof S!="function"||(S(this),B&&_t.call(this)),this},_.isAdvancedAPI=function(){return it===nt};var O,w=function(S){if(it!==nt)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=_.roundToPrecision=_.__private__.roundToPrecision=function(S,B){var lt=t||B;if(isNaN(S)||isNaN(lt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(lt).replace(/0+$/,"")};O=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return q(S,16)};var I=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return q(S,2)},R=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return q(S,3)},E=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return it===et?S*qe:it===nt?S:void 0},rt=function(S){return E((function(B){return it===et?Aa()-B:it===nt?B:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var yt,st="00000000000000000000000000000000",ft=_.__private__.getFileId=function(){return st},U=_.__private__.setFileId=function(S){return st=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():st.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(ai=new ih(y.userPermissions,y.userPassword,y.ownerPassword,st)),st};_.setFileId=function(S){return U(S),this},_.getFileId=function(){return ft()};var ct=_.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),lt=B<0?"+":"-",pt=Math.floor(Math.abs(B/60)),wt=Math.abs(B%60),Ft=[lt,W(pt),"'",W(wt),"'"].join("");return["D:",S.getFullYear(),W(S.getMonth()+1),W(S.getDate()),W(S.getHours()),W(S.getMinutes()),W(S.getSeconds()),Ft].join("")},bt=_.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),lt=parseInt(S.substr(6,2),10)-1,pt=parseInt(S.substr(8,2),10),wt=parseInt(S.substr(10,2),10),Ft=parseInt(S.substr(12,2),10),Wt=parseInt(S.substr(14,2),10);return new Date(B,lt,pt,wt,Ft,Wt,0)},X=_.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=ct(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return yt=B},j=_.__private__.getCreationDate=function(S){var B=yt;return S==="jsDate"&&(B=bt(yt)),B};_.setCreationDate=function(S){return X(S),this},_.getCreationDate=function(S){return j(S)};var P,W=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},K=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ht=0,gt=[],Ct=[],Nt=0,Ot=[],$t=[],ne=!1,ee=Ct;_.__private__.setCustomOutputDestination=function(S){ne=!0,ee=S};var ce=function(S){ne||(ee=S)};_.__private__.resetCustomOutputDestination=function(){ne=!1,ee=Ct};var at=_.__private__.out=function(S){return S=S.toString(),Nt+=S.length+1,ee.push(S),ee},te=_.__private__.write=function(S){return at(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ye=_.__private__.getArrayBuffer=function(S){for(var B=S.length,lt=new ArrayBuffer(B),pt=new Uint8Array(lt);B--;)pt[B]=S.charCodeAt(B);return lt},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Te};var Vt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return Vt=it===nt?S/qe:S,this};var re,ie=_.__private__.getFontSize=_.getFontSize=function(){return it===et?Vt:Vt*qe},Ne=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Ne=S,this},_.__private__.getR2L=_.getR2L=function(){return Ne};var _e,We=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))re=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');re=S}else re=parseInt(S,10)};_.__private__.getZoomMode=function(){return re};var Ze,Be=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_e=S};_.__private__.getPageMode=function(){return _e};var an=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ze=S};_.__private__.getLayoutMode=function(){return Ze},_.__private__.setDisplayMode=_.setDisplayMode=function(S,B,lt){return We(S),an(B),Be(lt),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys($e).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[S]},_.__private__.getDocumentProperties=function(){return $e},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var B in $e)$e.hasOwnProperty(B)&&S[B]&&($e[B]=S[B]);return this},_.__private__.setDocumentProperty=function(S,B){if(Object.keys($e).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[S]=B};var me,qe,ve,ci,Qe,Ce={},Pe={},Ke=[],Se={},In={},Me={},Oe={},jn=null,we=0,be=[],sn=new Cb(_),fr=n.hotfixes||[],tr={},Ia={},Gi=[],Ae=function S(B,lt,pt,wt,Ft,Wt){if(!(this instanceof S))return new S(B,lt,pt,wt,Ft,Wt);isNaN(B)&&(B=1),isNaN(lt)&&(lt=0),isNaN(pt)&&(pt=0),isNaN(wt)&&(wt=1),isNaN(Ft)&&(Ft=0),isNaN(Wt)&&(Wt=0),this._matrix=[B,lt,pt,wt,Ft,Wt]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},Ae.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,lt=S.sx*this.shy+S.shy*this.sy,pt=S.shx*this.sx+S.sy*this.shx,wt=S.shx*this.shy+S.sy*this.sy,Ft=S.tx*this.sx+S.ty*this.shx+this.tx,Wt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ae(B,lt,pt,wt,Ft,Wt)},Ae.prototype.decompose=function(){var S=this.sx,B=this.shy,lt=this.shx,pt=this.sy,wt=this.tx,Ft=this.ty,Wt=Math.sqrt(S*S+B*B),le=(S/=Wt)*lt+(B/=Wt)*pt;lt-=S*le,pt-=B*le;var de=Math.sqrt(lt*lt+pt*pt);return le/=de,S*(pt/=de)<B*(lt/=de)&&(S=-S,B=-B,le=-le,Wt=-Wt),{scale:new Ae(Wt,0,0,de,0,0),translate:new Ae(1,0,0,1,wt,Ft),rotate:new Ae(S,B,-B,S,0,0),skew:new Ae(1,0,le,1,0,0)}},Ae.prototype.toString=function(S){return this.join(" ")},Ae.prototype.inversed=function(){var S=this.sx,B=this.shy,lt=this.shx,pt=this.sy,wt=this.tx,Ft=this.ty,Wt=1/(S*pt-B*lt),le=pt*Wt,de=-B*Wt,Le=-lt*Wt,Ee=S*Wt;return new Ae(le,de,Le,Ee,-le*wt-Le*Ft,-de*wt-Ee*Ft)},Ae.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,lt=S.x*this.shy+S.y*this.sy+this.ty;return new ir(B,lt)},Ae.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),lt=this.applyToPoint(new ir(S.x+S.w,S.y+S.h));return new Da(B.x,B.y,lt.x-B.x,lt.y-B.y)},Ae.prototype.clone=function(){var S=this.sx,B=this.shy,lt=this.shx,pt=this.sy,wt=this.tx,Ft=this.ty;return new Ae(S,B,lt,pt,wt,Ft)},_.Matrix=Ae;var ts=_.matrixMult=function(S,B){return B.multiply(S)},Ur=new Ae(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ur;var Tr=function(S,B){if(!In[S]){var lt=(B instanceof Xu?"Sh":"P")+(Object.keys(Se).length+1).toString(10);B.id=lt,In[S]=lt,Se[lt]=B,sn.publish("addPattern",B)}};_.ShadingPattern=Xu,_.TilingPattern=ah,_.addShadingPattern=function(S,B){return w("addShadingPattern()"),Tr(S,B),this},_.beginTilingPattern=function(S){w("beginTilingPattern()"),ja(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,B){w("endTilingPattern()"),B.stream=$t[P].join(`
`),Tr(S,B),sn.publish("endTilingPattern",B),Gi.pop().restore()};var Cr,Vn=_.__private__.newObject=function(){var S=Xn();return Mi(S,!0),S},Xn=_.__private__.newObjectDeferred=function(){return ht++,gt[ht]=function(){return Nt},ht},Mi=function(S,B){return B=typeof B=="boolean"&&B,gt[S]=Nt,B&&at(S+" 0 obj"),S},dr=_.__private__.newAdditionalObject=function(){var S={objId:Xn(),content:""};return Ot.push(S),S},er=Xn(),kn=Xn(),Gn=_.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var lt=parseFloat(B[0]);B=[lt,lt,lt,"r"]}for(var pt="#",wt=0;wt<3;wt++)pt+=("0"+Math.floor(255*parseFloat(B[wt])).toString(16)).slice(-2);return pt},Oi=_.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var lt=S.ch1,pt=S.ch2,wt=S.ch3,Ft=S.ch4,Wt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof lt=="string"&&lt.charAt(0)!=="#"){var le=new F4(lt);if(le.ok)lt=le.toHex();else if(!/^\d*\.?\d*$/.test(lt))throw new Error('Invalid color "'+lt+'" passed to jsPDF.encodeColorString.')}if(typeof lt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(lt)&&(lt="#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]),typeof lt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(lt)){var de=parseInt(lt.substr(1),16);lt=de>>16&255,pt=de>>8&255,wt=255&de}if(pt===void 0||Ft===void 0&&lt===pt&&pt===wt)B=typeof lt=="string"?lt+" "+Wt[0]:S.precision===2?I(lt/255)+" "+Wt[0]:R(lt/255)+" "+Wt[0];else if(Ft===void 0||Qn(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Wt[1]].join(" ");B=typeof lt=="string"?[lt,pt,wt,Wt[1]].join(" "):S.precision===2?[I(lt/255),I(pt/255),I(wt/255),Wt[1]].join(" "):[R(lt/255),R(pt/255),R(wt/255),Wt[1]].join(" ")}else B=typeof lt=="string"?[lt,pt,wt,Ft,Wt[2]].join(" "):S.precision===2?[I(lt),I(pt),I(wt),I(Ft),Wt[2]].join(" "):[R(lt),R(pt),R(wt),R(Ft),Wt[2]].join(" ");return B},Nr=_.__private__.getFilters=function(){return c},ra=_.__private__.putStream=function(S){var B=(S=S||{}).data||"",lt=S.filters||Nr(),pt=S.alreadyAppliedFilters||[],wt=S.addLength1||!1,Ft=B.length,Wt=S.objectId,le=function(N){return N};if(y!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(le=ai.encryptor(Wt,0));var de={};lt===!0&&(lt=["FlateEncode"]);var Le=S.additionalKeyValues||[],Ee=(de=ye.API.processDataByFilters!==void 0?ye.API.processDataByFilters(B,lt):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(de.data.length!==0&&(Le.push({key:"Length",value:de.data.length}),wt===!0&&Le.push({key:"Length1",value:Ft})),Ee.length!=0)if(Ee.split("/").length-1==1)Le.push({key:"Filter",value:Ee});else{Le.push({key:"Filter",value:"["+Ee+"]"});for(var fn=0;fn<Le.length;fn+=1)if(Le[fn].key==="DecodeParms"){for(var Zn=[],qn=0;qn<de.reverseChain.split("/").length-1;qn+=1)Zn.push("null");Zn.push(Le[fn].value),Le[fn].value="["+Zn.join(" ")+"]"}}at("<<");for(var g=0;g<Le.length;g++)at("/"+Le[g].key+" "+Le[g].value);at(">>"),de.data.length!==0&&(at("stream"),at(le(de.data)),at("endstream"))},ys=_.__private__.putPage=function(S){var B=S.number,lt=S.data,pt=S.objId,wt=S.contentsObjId;Mi(pt,!0),at("<</Type /Page"),at("/Parent "+S.rootDictionaryObjId+" 0 R"),at("/Resources "+S.resourceDictionaryObjId+" 0 R"),at("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&at("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&at("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&at("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&at("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&at("/UserUnit "+S.userUnit),sn.publish("putPage",{objId:pt,pageContext:be[B],pageNumber:B,page:lt}),at("/Contents "+wt+" 0 R"),at(">>"),at("endobj");var Ft=lt.join(`
`);return it===nt&&(Ft+=`
Q`),Mi(wt,!0),ra({data:Ft,filters:Nr(),objectId:wt}),at("endobj"),pt},xa=_.__private__.putPages=function(){var S,B,lt=[];for(S=1;S<=we;S++)be[S].objId=Xn(),be[S].contentsObjId=Xn();for(S=1;S<=we;S++)lt.push(ys({number:S,data:$t[S],objId:be[S].objId,contentsObjId:be[S].contentsObjId,mediaBox:be[S].mediaBox,cropBox:be[S].cropBox,bleedBox:be[S].bleedBox,trimBox:be[S].trimBox,artBox:be[S].artBox,userUnit:be[S].userUnit,rootDictionaryObjId:er,resourceDictionaryObjId:kn}));Mi(er,!0),at("<</Type /Pages");var pt="/Kids [";for(B=0;B<we;B++)pt+=lt[B]+" 0 R ";at(pt+"]"),at("/Count "+we),at(">>"),at("endobj"),sn.publish("postPutPages")},Rr=function(S){sn.publish("putFont",{font:S,out:at,newObject:Vn,putStream:ra}),S.isAlreadyPutted!==!0&&(S.objectNumber=Vn(),at("<<"),at("/Type /Font"),at("/BaseFont /"+rh(S.postScriptName)),at("/Subtype /Type1"),typeof S.encoding=="string"&&at("/Encoding /"+S.encoding),at("/FirstChar 32"),at("/LastChar 255"),at(">>"),at("endobj"))},es=function(S){S.objectNumber=Vn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var lt=S.pages[1].join(`
`);ra({data:lt,additionalKeyValues:B,objectId:S.objectNumber}),at("endobj")},Vr=function(S,B){B||(B=21);var lt=Vn(),pt=(function(Wt,le){var de,Le=[],Ee=1/(le-1);for(de=0;de<1;de+=Ee)Le.push(de);if(Le.push(1),Wt[0].offset!=0){var fn={offset:0,color:Wt[0].color};Wt.unshift(fn)}if(Wt[Wt.length-1].offset!=1){var Zn={offset:1,color:Wt[Wt.length-1].color};Wt.push(Zn)}for(var qn="",g=0,N=0;N<Le.length;N++){for(de=Le[N];de>Wt[g+1].offset;)g++;var k=Wt[g].offset,J=(de-k)/(Wt[g+1].offset-k),At=Wt[g].color,jt=Wt[g+1].color;qn+=K(Math.round((1-J)*At[0]+J*jt[0]).toString(16))+K(Math.round((1-J)*At[1]+J*jt[1]).toString(16))+K(Math.round((1-J)*At[2]+J*jt[2]).toString(16))}return qn.trim()})(S.colors,B),wt=[];wt.push({key:"FunctionType",value:"0"}),wt.push({key:"Domain",value:"[0.0 1.0]"}),wt.push({key:"Size",value:"["+B+"]"}),wt.push({key:"BitsPerSample",value:"8"}),wt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ra({data:pt,additionalKeyValues:wt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:lt}),at("endobj"),S.objectNumber=Vn(),at("<< /ShadingType "+S.type),at("/ColorSpace /DeviceRGB");var Ft="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?Ft+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):Ft+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),at(Ft+="]"),S.matrix&&at("/Matrix ["+S.matrix.toString()+"]"),at("/Function "+lt+" 0 R"),at("/Extend [true true]"),at(">>"),at("endobj")},pr=function(S,B){var lt=Xn(),pt=Vn();B.push({resourcesOid:lt,objectOid:pt}),S.objectNumber=pt;var wt=[];wt.push({key:"Type",value:"/Pattern"}),wt.push({key:"PatternType",value:"1"}),wt.push({key:"PaintType",value:"1"}),wt.push({key:"TilingType",value:"1"}),wt.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),wt.push({key:"XStep",value:O(S.xStep)}),wt.push({key:"YStep",value:O(S.yStep)}),wt.push({key:"Resources",value:lt+" 0 R"}),S.matrix&&wt.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),ra({data:S.stream,additionalKeyValues:wt,objectId:S.objectNumber}),at("endobj")},qr=function(S){for(var B in S.objectNumber=Vn(),at("<<"),S)switch(B){case"opacity":at("/ca "+I(S[B]));break;case"stroke-opacity":at("/CA "+I(S[B]))}at(">>"),at("endobj")},aa=function(S){Mi(S.resourcesOid,!0),at("<<"),at("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in at("/Font <<"),Ce)Ce.hasOwnProperty(B)&&(A===!1||A===!0&&C.hasOwnProperty(B))&&at("/"+B+" "+Ce[B].objectNumber+" 0 R");at(">>")})(),(function(){if(Object.keys(Se).length>0){for(var B in at("/Shading <<"),Se)Se.hasOwnProperty(B)&&Se[B]instanceof Xu&&Se[B].objectNumber>=0&&at("/"+B+" "+Se[B].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),at(">>")}})(),(function(B){if(Object.keys(Se).length>0){for(var lt in at("/Pattern <<"),Se)Se.hasOwnProperty(lt)&&Se[lt]instanceof _.TilingPattern&&Se[lt].objectNumber>=0&&Se[lt].objectNumber<B&&at("/"+lt+" "+Se[lt].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),at(">>")}})(S.objectOid),(function(){if(Object.keys(Me).length>0){var B;for(B in at("/ExtGState <<"),Me)Me.hasOwnProperty(B)&&Me[B].objectNumber>=0&&at("/"+B+" "+Me[B].objectNumber+" 0 R");sn.publish("putGStateDict"),at(">>")}})(),(function(){for(var B in at("/XObject <<"),tr)tr.hasOwnProperty(B)&&tr[B].objectNumber>=0&&at("/"+B+" "+tr[B].objectNumber+" 0 R");sn.publish("putXobjectDict"),at(">>")})(),at(">>"),at("endobj")},fi=function(S){Pe[S.fontName]=Pe[S.fontName]||{},Pe[S.fontName][S.fontStyle]=S.id},mo=function(S,B,lt,pt,wt){var Ft={id:"F"+(Object.keys(Ce).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:lt,encoding:pt,isStandardFont:wt||!1,metadata:{}};return sn.publish("addFont",{font:Ft,instance:this}),Ce[Ft.id]=Ft,fi(Ft),Ft.id},Ir=_.__private__.pdfEscape=_.pdfEscape=function(S,B){return(function(lt,pt){var wt,Ft,Wt,le,de,Le,Ee,fn,Zn;if(Wt=(pt=pt||{}).sourceEncoding||"Unicode",de=pt.outputEncoding,(pt.autoencode||de)&&Ce[me].metadata&&Ce[me].metadata[Wt]&&Ce[me].metadata[Wt].encoding&&(le=Ce[me].metadata[Wt].encoding,!de&&Ce[me].encoding&&(de=Ce[me].encoding),!de&&le.codePages&&(de=le.codePages[0]),typeof de=="string"&&(de=le[de]),de)){for(Ee=!1,Le=[],wt=0,Ft=lt.length;wt<Ft;wt++)(fn=de[lt.charCodeAt(wt)])?Le.push(String.fromCharCode(fn)):Le.push(lt[wt]),Le[wt].charCodeAt(0)>>8&&(Ee=!0);lt=Le.join("")}for(wt=lt.length;Ee===void 0&&wt!==0;)lt.charCodeAt(wt-1)>>8&&(Ee=!0),wt--;if(!Ee)return lt;for(Le=pt.noBOM?[]:[254,255],wt=0,Ft=lt.length;wt<Ft;wt++){if((Zn=(fn=lt.charCodeAt(wt))>>8)>>8)throw new Error("Character at position "+wt+" of string '"+lt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Le.push(Zn),Le.push(fn-(Zn<<8))}return String.fromCharCode.apply(void 0,Le)})(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sa=_.__private__.beginPage=function(S){$t[++we]=[],be[we]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},yo(we),ce($t[P])},_a=function(S,B){var lt,pt,wt;switch(e=B||e,typeof S=="string"&&(lt=M(S.toLowerCase()),Array.isArray(lt)&&(pt=lt[0],wt=lt[1])),Array.isArray(S)&&(pt=S[0]*qe,wt=S[1]*qe),isNaN(pt)&&(pt=s[0],wt=s[1]),(pt>14400||wt>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),wt=Math.min(14400,wt)),s=[pt,wt],e.substr(0,1)){case"l":wt>pt&&(s=[wt,pt]);break;case"p":pt>wt&&(s=[wt,pt])}sa(s),Re(Dr),at(Gr),Wr!==0&&at(Wr+" J"),Ri!==0&&at(Ri+" j"),sn.publish("addPage",{pageNumber:we})},zs=function(S){S>0&&S<=we&&($t.splice(S,1),be.splice(S,1),we--,P>we&&(P=we),this.setPage(P))},yo=function(S){S>0&&S<=we&&(P=S)},vo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return $t.length-1},Xo=function(S,B,lt){var pt,wt=void 0;return lt=lt||{},S=S!==void 0?S:Ce[me].fontName,B=B!==void 0?B:Ce[me].fontStyle,pt=S.toLowerCase(),Pe[pt]!==void 0&&Pe[pt][B]!==void 0?wt=Pe[pt][B]:Pe[S]!==void 0&&Pe[S][B]!==void 0?wt=Pe[S][B]:lt.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),wt||lt.noFallback||(wt=Pe.times[B])==null&&(wt=Pe.times.normal),wt},Hr=_.__private__.putInfo=function(){var S=Vn(),B=function(pt){return pt};for(var lt in y!==null&&(B=ai.encryptor(S,0)),at("<<"),at("/Producer ("+Ir(B("jsPDF "+ye.version))+")"),$e)$e.hasOwnProperty(lt)&&$e[lt]&&at("/"+lt.substr(0,1).toUpperCase()+lt.substr(1)+" ("+Ir(B($e[lt]))+")");at("/CreationDate ("+Ir(B(yt))+")"),at(">>"),at("endobj")},nr=_.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||er;switch(Vn(),at("<<"),at("/Type /Catalog"),at("/Pages "+B+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":at("/OpenAction [3 0 R /FitH null]");break;case"fullheight":at("/OpenAction [3 0 R /FitV null]");break;case"fullpage":at("/OpenAction [3 0 R /Fit]");break;case"original":at("/OpenAction [3 0 R /XYZ null null 1]");break;default:var lt=""+re;lt.substr(lt.length-1)==="%"&&(re=parseInt(re)/100),typeof re=="number"&&at("/OpenAction [3 0 R /XYZ null null "+I(re)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":at("/PageLayout /OneColumn");break;case"single":at("/PageLayout /SinglePage");break;case"two":case"twoleft":at("/PageLayout /TwoColumnLeft");break;case"tworight":at("/PageLayout /TwoColumnRight")}_e&&at("/PageMode /"+_e),sn.publish("putCatalog"),at(">>"),at("endobj")},_i=_.__private__.putTrailer=function(){at("trailer"),at("<<"),at("/Size "+(ht+1)),at("/Root "+ht+" 0 R"),at("/Info "+(ht-1)+" 0 R"),y!==null&&at("/Encrypt "+ai.oid+" 0 R"),at("/ID [ <"+st+"> <"+st+"> ]"),at(">>")},cn=_.__private__.putHeader=function(){at("%PDF-"+F),at("%")},ns=_.__private__.putXRef=function(){var S="0000000000";at("xref"),at("0 "+(ht+1)),at("0000000000 65535 f ");for(var B=1;B<=ht;B++)typeof gt[B]=="function"?at((S+gt[B]()).slice(-10)+" 00000 n "):gt[B]!==void 0?at((S+gt[B]).slice(-10)+" 00000 n "):at("0000000000 00000 n ")},oa=_.__private__.buildDocument=function(){var S;ht=0,Nt=0,Ct=[],gt=[],Ot=[],er=Xn(),kn=Xn(),ce(Ct),sn.publish("buildDocument"),cn(),xa(),(function(){sn.publish("putAdditionalObjects");for(var lt=0;lt<Ot.length;lt++){var pt=Ot[lt];Mi(pt.objId,!0),at(pt.content),at("endobj")}sn.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var lt in Ce)Ce.hasOwnProperty(lt)&&(A===!1||A===!0&&C.hasOwnProperty(lt))&&Rr(Ce[lt])})(),(function(){var lt;for(lt in Me)Me.hasOwnProperty(lt)&&qr(Me[lt])})(),(function(){for(var lt in tr)tr.hasOwnProperty(lt)&&es(tr[lt])})(),(function(lt){var pt;for(pt in Se)Se.hasOwnProperty(pt)&&(Se[pt]instanceof Xu?Vr(Se[pt]):Se[pt]instanceof ah&&pr(Se[pt],lt))})(S),sn.publish("putResources"),S.forEach(aa),aa({resourcesOid:kn,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),y!==null&&(ai.oid=Vn(),at("<<"),at("/Filter /Standard"),at("/V "+ai.v),at("/R "+ai.r),at("/U <"+ai.toHexString(ai.U)+">"),at("/O <"+ai.toHexString(ai.O)+">"),at("/P "+ai.P),at(">>"),at("endobj")),Hr(),nr();var B=Nt;return ns(),_i(),at("startxref"),at(""+B),at("%%EOF"),ce($t[P]),Ct.join(`
`)},vn=_.__private__.getBlob=function(S){return new Blob([Ye(S)],{type:"application/pdf"})},vs=_.output=_.__private__.output=(Cr=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return oa();case"save":_.save(B.filename);break;case"arraybuffer":return Ye(oa());case"blob":return vn(oa());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(vn(oa()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var lt="",pt=oa();try{lt=Ab(pt)}catch{lt=Ab(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+B.filename+";base64,"+lt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var wt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(wt=B.pdfObjectUrl,Ft="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+wt+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",le=Ge.open();return le!==null&&le.document.write(Wt),le}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Le=Ge.open();if(Le!==null){Le.document.write(de);var Ee=this;Le.document.documentElement.querySelector("#pdfViewer").onload=function(){Le.document.title=B.filename,Le.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ee.output("bloburl"))}}return Le}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',Zn=Ge.open();if(Zn!==null&&(Zn.document.write(fn),Zn.document.title=B.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",B);default:return null}},Cr.foo=function(){try{return Cr.apply(this,arguments)}catch(lt){var S=lt.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+lt.message;if(!Ge.console)throw new Error(B);Ge.console.error(B,lt),Ge.alert&&alert(B)}},Cr.foo.bar=Cr,Cr.foo),Ni=function(S){return Array.isArray(fr)===!0&&fr.indexOf(S)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var ai=null;X(),U();var wi=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:be[S].objId,pageNumber:S,pageContext:be[S]}},Fs=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in be)if(be[B].objId===S)break;return wi(B)},kl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:be[P].objId,pageNumber:P,pageContext:be[P]}};_.addPage=function(){return _a.apply(this,arguments),this},_.setPage=function(){return yo.apply(this,arguments),ce.call(this,$t[P]),this},_.insertPage=function(S){return this.addPage(),this.movePage(P,S),this},_.movePage=function(S,B){var lt,pt;if(S>B){lt=$t[S],pt=be[S];for(var wt=S;wt>B;wt--)$t[wt]=$t[wt-1],be[wt]=be[wt-1];$t[B]=lt,be[B]=pt,this.setPage(B)}else if(S<B){lt=$t[S],pt=be[S];for(var Ft=S;Ft<B;Ft++)$t[Ft]=$t[Ft+1],be[Ft]=be[Ft+1];$t[B]=lt,be[B]=pt,this.setPage(B)}return this},_.deletePage=function(){return zs.apply(this,arguments),this},_.__private__.text=_.text=function(S,B,lt,pt,wt){var Ft,Wt,le,de,Le,Ee,fn,Zn,qn,g=(pt=pt||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof lt=="string"||Array.isArray(lt))){var N=lt;lt=B,B=S,S=N}if(arguments[3]instanceof Ae==0?(le=arguments[4],de=arguments[5],Qn(fn=arguments[3])==="object"&&fn!==null||(typeof le=="string"&&(de=le,le=null),typeof fn=="string"&&(de=fn,fn=null),typeof fn=="number"&&(le=fn,fn=null),pt={flags:fn,angle:le,align:de})):(w("The transform parameter of text() with a Matrix value"),qn=wt),isNaN(B)||isNaN(lt)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var k,J="",At=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:as,jt=g.internal.scaleFactor;function Xt(Ln){return Ln=Ln.split("	").join(Array(pt.TabLen||9).join(" ")),Ir(Ln,fn)}function Ve(Ln){for(var Sn,ti=Ln.concat(),Li=[],Is=ti.length;Is--;)typeof(Sn=ti.shift())=="string"?Li.push(Sn):Array.isArray(Ln)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Li.push(Sn[0]):Li.push([Sn[0],Sn[1],Sn[2]]);return Li}function Jn(Ln,Sn){var ti;if(typeof Ln=="string")ti=Sn(Ln)[0];else if(Array.isArray(Ln)){for(var Li,Is,us=Ln.concat(),al=[],Lu=us.length;Lu--;)typeof(Li=us.shift())=="string"?al.push(Sn(Li)[0]):Array.isArray(Li)&&typeof Li[0]=="string"&&(Is=Sn(Li[0],Li[1],Li[2]),al.push([Is[0],Is[1],Is[2]]));ti=al}return ti}var ln=!1,On=!0;if(typeof S=="string")ln=!0;else if(Array.isArray(S)){var rr=S.concat();Wt=[];for(var mr,Yn=rr.length;Yn--;)(typeof(mr=rr.shift())!="string"||Array.isArray(mr)&&typeof mr[0]!="string")&&(On=!1);ln=On}if(ln===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var yr=Vt/g.internal.scaleFactor,Ea=yr*(At-1);switch(pt.baseline){case"bottom":lt-=Ea;break;case"top":lt+=yr-Ea;break;case"hanging":lt+=yr-2*Ea;break;case"middle":lt+=yr/2-Ea}if((Ee=pt.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,Ee):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Ln,Sn){return Ln.concat(g.splitTextToSize(Sn,Ee))},[]))),Ft={text:S,x:B,y:lt,options:pt,mutex:{pdfEscape:Ir,activeFontKey:me,fonts:Ce,activeFontSize:Vt}},sn.publish("preProcessText",Ft),S=Ft.text,le=(pt=Ft.options).angle,qn instanceof Ae==0&&le&&typeof le=="number"){le*=Math.PI/180,pt.rotationDirection===0&&(le=-le),it===nt&&(le=-le);var Ss=Math.cos(le),As=Math.sin(le);qn=new Ae(Ss,As,-As,Ss,0,0)}else le&&le instanceof Ae&&(qn=le);it!==nt||qn||(qn=Ur),(Le=pt.charSpace||Yr)!==void 0&&(J+=O(E(Le))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=pt.horizontalScale)!==void 0&&(J+=O(100*Zn)+` Tz
`),pt.lang;var $r=-1,Hs=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,Ml=g.internal.getCurrentPageInfo().pageContext;switch(Hs){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Ru=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;$r!==-1?J+=$r+` Tr
`:Ru!==-1&&(J+=`0 Tr
`),$r!==-1&&(Ml.usedRenderingMode=$r),de=pt.align||"left";var Ta,os=Vt*At,Gs=g.internal.pageSize.getWidth(),Iu=Ce[me];Le=pt.charSpace||Yr,Ee=pt.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var ls=[],Ao=function(Ln){return g.getStringUnitWidth(Ln,{font:Iu,charSpace:Le,fontSize:Vt,doKerning:!1})*Vt/jt};if(Object.prototype.toString.call(S)==="[object Array]"){var ua;Wt=Ve(S),de!=="left"&&(Ta=Wt.map(Ao));var Qr,Es=0;if(de==="right"){B-=Ta[0],S=[],Yn=Wt.length;for(var Ts=0;Ts<Yn;Ts++)Ts===0?(Qr=Wi(B),ua=Pi(lt)):(Qr=E(Es-Ta[Ts]),ua=-os),S.push([Wt[Ts],Qr,ua]),Es=Ta[Ts]}else if(de==="center"){B-=Ta[0]/2,S=[],Yn=Wt.length;for(var Ys=0;Ys<Yn;Ys++)Ys===0?(Qr=Wi(B),ua=Pi(lt)):(Qr=E((Es-Ta[Ys])/2),ua=-os),S.push([Wt[Ys],Qr,ua]),Es=Ta[Ys]}else if(de==="left"){S=[],Yn=Wt.length;for(var Ol=0;Ol<Yn;Ol++)S.push(Wt[Ol])}else if(de==="justify"&&Iu.encoding==="Identity-H"){S=[],Yn=Wt.length,Ee=Ee!==0?Ee:Gs;for(var Pl=0,Ii=0;Ii<Yn;Ii++)if(ua=Ii===0?Pi(lt):-os,Qr=Ii===0?Wi(B):Pl,Ii<Yn-1){var gc=E((Ee-Ta[Ii])/(Wt[Ii].split(" ").length-1)),Cs=Wt[Ii].split(" ");S.push([Cs[0]+" ",Qr,ua]),Pl=0;for(var Ns=1;Ns<Cs.length;Ns++){var vr=(Ao(Cs[Ns-1]+" "+Cs[Ns])-Ao(Cs[Ns]))*jt+gc;Ns==Cs.length-1?S.push([Cs[Ns],vr,0]):S.push([Cs[Ns]+" ",vr,0]),Pl-=vr}}else S.push([Wt[Ii],Qr,ua]);S.push(["",Pl,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Yn=Wt.length,Ee=Ee!==0?Ee:Gs,Ii=0;Ii<Yn;Ii++){ua=Ii===0?Pi(lt):-os,Qr=Ii===0?Wi(B):0;var Ws=Wt[Ii].split(" ").length-1,zl=Ws>0?(Ee-Ta[Ii])/Ws:0;Ii<Yn-1?ls.push(O(E(zl))):ls.push(0),S.push([Wt[Ii],Qr,ua])}}}(typeof pt.R2L=="boolean"?pt.R2L:Ne)===!0&&(S=Jn(S,function(Ln,Sn,ti){return[Ln.split("").reverse().join(""),Sn,ti]})),Ft={text:S,x:B,y:lt,options:pt,mutex:{pdfEscape:Ir,activeFontKey:me,fonts:Ce,activeFontSize:Vt}},sn.publish("postProcessText",Ft),S=Ft.text,k=Ft.mutex.isHex||!1;var Fl=Ce[me].encoding;Fl!=="WinAnsiEncoding"&&Fl!=="StandardEncoding"||(S=Jn(S,function(Ln,Sn,ti){return[Xt(Ln),Sn,ti]})),Wt=Ve(S),S=[];for(var Ks,$s,Rs,rl=Array.isArray(Wt[0])?1:0,Ca="",Qs=function(Ln,Sn,ti){var Li="";return ti instanceof Ae?(ti=typeof pt.angle=="number"?ts(ti,new Ae(1,0,0,1,Ln,Sn)):ts(new Ae(1,0,0,1,Ln,Sn),ti),it===nt&&(ti=ts(new Ae(1,0,0,-1,0,0),ti)),Li=ti.join(" ")+` Tm
`):Li=O(Ln)+" "+O(Sn)+` Td
`,Li},jr=0;jr<Wt.length;jr++){switch(Ca="",rl){case 1:Rs=(k?"<":"(")+Wt[jr][0]+(k?">":")"),Ks=parseFloat(Wt[jr][1]),$s=parseFloat(Wt[jr][2]);break;case 0:Rs=(k?"<":"(")+Wt[jr]+(k?">":")"),Ks=Wi(B),$s=Pi(lt)}ls!==void 0&&ls[jr]!==void 0&&(Ca=ls[jr]+` Tw
`),jr===0?S.push(Ca+Qs(Ks,$s,qn)+Rs):rl===0?S.push(Ca+Rs):rl===1&&S.push(Ca+Qs(Ks,$s,qn)+Rs)}S=rl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Oa=`BT
/`;return Oa+=me+" "+Vt+` Tf
`,Oa+=O(Vt*At)+` TL
`,Oa+=Sa+`
`,Oa+=J,Oa+=S,at(Oa+="ET"),C[me]=!0,g};var Zo=_.__private__.clip=_.clip=function(S){return at(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Zo("evenodd")},_.__private__.discardPath=_.discardPath=function(){return at("n"),this};var gr=_.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return gr(S)&&(d=S),this};var Jo=_.__private__.getStyle=_.getStyle=function(S){var B=d;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},is=_.close=function(){return at("h"),this};_.stroke=function(){return at("S"),this},_.fill=function(S){return Yi("f",S),this},_.fillEvenOdd=function(S){return Yi("f*",S),this},_.fillStroke=function(S){return Yi("B",S),this},_.fillStrokeEvenOdd=function(S){return Yi("B*",S),this};var Yi=function(S,B){Qn(B)==="object"?el(B,S):at(S)},bs=function(S){S===null||it===nt&&S===void 0||(S=Jo(S),at(S))};function tl(S,B,lt,pt,wt){var Ft=new ah(B||this.boundingBox,lt||this.xStep,pt||this.yStep,this.gState,wt||this.matrix);Ft.stream=this.stream;var Wt=S+"$$"+this.cloneIndex+++"$$";return Tr(Wt,Ft),Ft}var el=function(S,B){var lt=In[S.key],pt=Se[lt];if(pt instanceof Xu)at("q"),at(bo(B)),pt.gState&&_.setGState(pt.gState),at(S.matrix.toString()+" cm"),at("/"+lt+" sh"),at("Q");else if(pt instanceof ah){var wt=new Ae(1,0,0,-1,0,Aa());S.matrix&&(wt=wt.multiply(S.matrix||Ur),lt=tl.call(pt,S.key,S.boundingBox,S.xStep,S.yStep,wt).id),at("q"),at("/Pattern cs"),at("/"+lt+" scn"),pt.gState&&_.setGState(pt.gState),at(B),at("Q")}},bo=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xo=_.moveTo=function(S,B){return at(O(E(S))+" "+O(rt(B))+" m"),this},rs=_.lineTo=function(S,B){return at(O(E(S))+" "+O(rt(B))+" l"),this},Lr=_.curveTo=function(S,B,lt,pt,wt,Ft){return at([O(E(S)),O(rt(B)),O(E(lt)),O(rt(pt)),O(E(wt)),O(rt(Ft)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,B,lt,pt,wt){if(isNaN(S)||isNaN(B)||isNaN(lt)||isNaN(pt)||!gr(wt))throw new Error("Invalid arguments passed to jsPDF.line");return it===et?this.lines([[lt-S,pt-B]],S,B,[1,1],wt||"S"):this.lines([[lt-S,pt-B]],S,B,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,B,lt,pt,wt,Ft){var Wt,le,de,Le,Ee,fn,Zn,qn,g,N,k,J;if(typeof S=="number"&&(J=lt,lt=B,B=S,S=J),pt=pt||[1,1],Ft=Ft||!1,isNaN(B)||isNaN(lt)||!Array.isArray(S)||!Array.isArray(pt)||!gr(wt)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xo(B,lt),Wt=pt[0],le=pt[1],Le=S.length,N=B,k=lt,de=0;de<Le;de++)(Ee=S[de]).length===2?(N=Ee[0]*Wt+N,k=Ee[1]*le+k,rs(N,k)):(fn=Ee[0]*Wt+N,Zn=Ee[1]*le+k,qn=Ee[2]*Wt+N,g=Ee[3]*le+k,N=Ee[4]*Wt+N,k=Ee[5]*le+k,Lr(fn,Zn,qn,g,N,k));return Ft&&is(),bs(wt),this},_.path=function(S){for(var B=0;B<S.length;B++){var lt=S[B],pt=lt.c;switch(lt.op){case"m":xo(pt[0],pt[1]);break;case"l":rs(pt[0],pt[1]);break;case"c":Lr.apply(this,pt);break;case"h":is()}}return this},_.__private__.rect=_.rect=function(S,B,lt,pt,wt){if(isNaN(S)||isNaN(B)||isNaN(lt)||isNaN(pt)||!gr(wt))throw new Error("Invalid arguments passed to jsPDF.rect");return it===et&&(pt=-pt),at([O(E(S)),O(rt(B)),O(E(lt)),O(E(pt)),"re"].join(" ")),bs(wt),this},_.__private__.triangle=_.triangle=function(S,B,lt,pt,wt,Ft,Wt){if(isNaN(S)||isNaN(B)||isNaN(lt)||isNaN(pt)||isNaN(wt)||isNaN(Ft)||!gr(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[lt-S,pt-B],[wt-lt,Ft-pt],[S-wt,B-Ft]],S,B,[1,1],Wt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,B,lt,pt,wt,Ft,Wt){if(isNaN(S)||isNaN(B)||isNaN(lt)||isNaN(pt)||isNaN(wt)||isNaN(Ft)||!gr(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var le=4/3*(Math.SQRT2-1);return wt=Math.min(wt,.5*lt),Ft=Math.min(Ft,.5*pt),this.lines([[lt-2*wt,0],[wt*le,0,wt,Ft-Ft*le,wt,Ft],[0,pt-2*Ft],[0,Ft*le,-wt*le,Ft,-wt,Ft],[2*wt-lt,0],[-wt*le,0,-wt,-Ft*le,-wt,-Ft],[0,2*Ft-pt],[0,-Ft*le,wt*le,-Ft,wt,-Ft]],S+wt,B,[1,1],Wt,!0),this},_.__private__.ellipse=_.ellipse=function(S,B,lt,pt,wt){if(isNaN(S)||isNaN(B)||isNaN(lt)||isNaN(pt)||!gr(wt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*lt,Wt=4/3*(Math.SQRT2-1)*pt;return xo(S+lt,B),Lr(S+lt,B-Wt,S+Ft,B-pt,S,B-pt),Lr(S-Ft,B-pt,S-lt,B-Wt,S-lt,B),Lr(S-lt,B+Wt,S-Ft,B+pt,S,B+pt),Lr(S+Ft,B+pt,S+lt,B+Wt,S+lt,B),bs(wt),this},_.__private__.circle=_.circle=function(S,B,lt,pt){if(isNaN(S)||isNaN(B)||isNaN(lt)||!gr(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,lt,lt,pt)},_.setFont=function(S,B,lt){return lt&&(B=$(B,lt)),me=Xo(S,B,{disableWarning:!1}),this};var wa=_.__private__.getFont=_.getFont=function(){return Ce[Xo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,B,lt={};for(S in Pe)if(Pe.hasOwnProperty(S))for(B in lt[S]=[],Pe[S])Pe[S].hasOwnProperty(B)&&lt[S].push(B);return lt},_.addFont=function(S,B,lt,pt,wt){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?wt=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(lt=$(lt,pt)),mo.call(this,S,B,lt,wt=wt||"Identity-H")};var as,Dr=n.lineWidth||.200025,xs=_.__private__.getLineWidth=_.getLineWidth=function(){return Dr},Re=_.__private__.setLineWidth=_.setLineWidth=function(S){return Dr=S,at(O(E(S))+" w"),this};_.__private__.setLineDash=ye.API.setLineDash=ye.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(lt){return O(E(lt))}).join(" "),B=O(E(B)),at("["+S+"] "+B+" d"),this};var Bs=_.__private__.getLineHeight=_.getLineHeight=function(){return Vt*as};_.__private__.getLineHeight=_.getLineHeight=function(){return Vt*as};var _o=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(as=S),this},_s=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return as};_o(n.lineHeight);var Wi=_.__private__.getHorizontalCoordinate=function(S){return E(S)},Pi=_.__private__.getVerticalCoordinate=function(S){return it===nt?S:be[P].mediaBox.topRightY-be[P].mediaBox.bottomLeftY-E(S)},Us=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return O(Wi(S))},Mn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return O(Pi(S))},Gr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Gn(Gr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,B,lt,pt){return Gr=Oi({ch1:S,ch2:B,ch3:lt,ch4:pt,pdfColorType:"draw",precision:2}),at(Gr),this};var Vs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Gn(Vs)},_.__private__.setFillColor=_.setFillColor=function(S,B,lt,pt){return Vs=Oi({ch1:S,ch2:B,ch3:lt,ch4:pt,pdfColorType:"fill",precision:2}),at(Vs),this};var Sa=n.textColor||"0 g",nl=_.__private__.getTextColor=_.getTextColor=function(){return Gn(Sa)};_.__private__.setTextColor=_.setTextColor=function(S,B,lt,pt){return Sa=Oi({ch1:S,ch2:B,ch3:lt,ch4:pt,pdfColorType:"text",precision:3}),this};var Yr=n.charSpace,ss=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Yr||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yr=S,this};var Wr=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wr=B,at(B+" J"),this};var Ri=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=B,at(B+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return at(O(E(S))+" M"),this},_.GState=kp,_.setGState=function(S){(S=typeof S=="string"?Me[Oe[S]]:La(null,S)).equals(jn)||(at("/"+S.id+" gs"),jn=S)};var La=function(S,B){if(!S||!Oe[S]){var lt=!1;for(var pt in Me)if(Me.hasOwnProperty(pt)&&Me[pt].equals(B)){lt=!0;break}if(lt)B=Me[pt];else{var wt="GS"+(Object.keys(Me).length+1).toString(10);Me[wt]=B,B.id=wt}return S&&(Oe[S]=B.id),sn.publish("addGState",B),B}};_.addGState=function(S,B){return La(S,B),this},_.saveGraphicsState=function(){return at("q"),Ke.push({key:me,size:Vt,color:Sa}),this},_.restoreGraphicsState=function(){at("Q");var S=Ke.pop();return me=S.key,Vt=S.size,Sa=S.color,jn=null,this},_.setCurrentTransformationMatrix=function(S){return at(S.toString()+" cm"),this},_.comment=function(S){return at("#"+S),this};var ir=function(S,B){var lt=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return lt},set:function(Ft){isNaN(Ft)||(lt=parseFloat(Ft))}});var pt=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ft){isNaN(Ft)||(pt=parseFloat(Ft))}});var wt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return wt},set:function(Ft){wt=Ft.toString()}}),this},Da=function(S,B,lt,pt){ir.call(this,S,B),this.type="rect";var wt=lt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return wt},set:function(Wt){isNaN(Wt)||(wt=parseFloat(Wt))}});var Ft=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Wt){isNaN(Wt)||(Ft=parseFloat(Wt))}}),this},ws=function(){this.page=we,this.currentPage=P,this.pages=$t.slice(0),this.pagesContext=be.slice(0),this.x=ve,this.y=ci,this.matrix=Qe,this.width=la(P),this.height=wo(P),this.outputDestination=ee,this.id="",this.objectNumber=-1};ws.prototype.restore=function(){we=this.page,P=this.currentPage,be=this.pagesContext,$t=this.pages,ve=this.x,ci=this.y,Qe=this.matrix,qs(P,this.width),Kr(P,this.height),ee=this.outputDestination};var ja=function(S,B,lt,pt,wt){Gi.push(new ws),we=P=0,$t=[],ve=S,ci=B,Qe=wt,sa([lt,pt])};for(var ka in _.beginFormObject=function(S,B,lt,pt,wt){return ja(S,B,lt,pt,wt),this},_.endFormObject=function(S){return(function(B){if(Ia[B])Gi.pop().restore();else{var lt=new ws,pt="Xo"+(Object.keys(tr).length+1).toString(10);lt.id=pt,Ia[B]=pt,tr[pt]=lt,sn.publish("addFormObject",lt),Gi.pop().restore()}})(S),this},_.doFormObject=function(S,B){var lt=tr[Ia[S]];return at("q"),at(B.toString()+" cm"),at("/"+lt.id+" Do"),at("Q"),this},_.getFormObject=function(S){var B=tr[Ia[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},_.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Qu(vn(oa()),S),typeof Qu.unload=="function"&&Ge.setTimeout&&setTimeout(Qu.unload,911),this):new Promise(function(lt,pt){try{var wt=Qu(vn(oa()),S);typeof Qu.unload=="function"&&Ge.setTimeout&&setTimeout(Qu.unload,911),lt(wt)}catch(Ft){pt(Ft.message)}})},ye.API)ye.API.hasOwnProperty(ka)&&(ka==="events"&&ye.API.events.length?(function(S,B){var lt,pt,wt;for(wt=B.length-1;wt!==-1;wt--)lt=B[wt][0],pt=B[wt][1],S.subscribe.apply(S,[lt].concat(typeof pt=="function"?[pt]:pt))})(sn,ye.API.events):_[ka]=ye.API[ka]);function la(S){return be[S].mediaBox.topRightX-be[S].mediaBox.bottomLeftX}function qs(S,B){be[S].mediaBox.topRightX=B+be[S].mediaBox.bottomLeftX}function wo(S){return be[S].mediaBox.topRightY-be[S].mediaBox.bottomLeftY}function Kr(S,B){be[S].mediaBox.topRightY=B+be[S].mediaBox.bottomLeftY}var Ma=_.getPageWidth=function(S){return la(S=S||P)/qe},il=_.setPageWidth=function(S,B){qs(S,B*qe)},Aa=_.getPageHeight=function(S){return wo(S=S||P)/qe},So=_.setPageHeight=function(S,B){Kr(S,B*qe)};return _.internal={pdfEscape:Ir,getStyle:Jo,getFont:wa,getFontSize:ie,getCharSpace:ss,getTextColor:nl,getLineHeight:Bs,getLineHeightFactor:_s,getLineWidth:xs,write:te,getHorizontalCoordinate:Wi,getVerticalCoordinate:Pi,getCoordinateString:Us,getVerticalCoordinateString:Mn,collections:{},newObject:Vn,newAdditionalObject:dr,newObjectDeferred:Xn,newObjectDeferredBegin:Mi,getFilters:Nr,putStream:ra,events:sn,scaleFactor:qe,pageSize:{getWidth:function(){return Ma(P)},setWidth:function(S){il(P,S)},getHeight:function(){return Aa(P)},setHeight:function(S){So(P,S)}},encryptionOptions:y,encryption:ai,getEncryptor:function(S){return y!==null?ai.encryptor(S,0):function(B){return B}},output:vs,getNumberOfPages:vo,get pages(){return $t},out:at,f2:I,f3:R,getPageInfo:wi,getPageInfoByObjId:Fs,getCurrentPageInfo:kl,getPDFVersion:H,Point:ir,Rectangle:Da,Matrix:Ae,hasHotfix:Ni},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ma(P)},set:function(S){il(P,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Aa(P)},set:function(S){So(P,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,lt=Te.length;B<lt;B++){var pt=mo.call(this,S[B][0],S[B][1],S[B][2],Te[B][3],!0);A===!1&&(C[pt]=!0);var wt=S[B][0].split("-");fi({id:pt,fontName:wt[0],fontStyle:wt[1]||""})}sn.publish("addFonts",{fonts:Ce,dictionary:Pe})}).call(_,Te),me="F1",_a(s,e),sn.publish("initialized"),_}ih.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ih.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ih.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},ih.prototype.processOwnerPassword=function(n,t){return F0(z0(t).substr(0,5),n)},ih.prototype.encryptor=function(n,t){var e=z0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return F0(e,r)}},kp.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},ye.API={events:[]},ye.version="4.1.0";var Hi=ye.API,Fm=1,pc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mp=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(e.length===1?"0"+e:e)})},en=function(n){return n.toFixed(2)},cu=function(n){return n.toFixed(5)};Hi.__acroform__={};var Ja=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Nb=function(n){return n*Fm},Bo=function(n){var t=new q4,e=ge.internal.getHeight(n)||0,r=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(en(r)),Number(en(e))],t},E7=Hi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},T7=Hi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},C7=Hi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Xi=Hi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return C7(n,t-1)},Zi=Hi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return E7(n,t-1)},Ji=Hi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return T7(n,t-1)},N7=Hi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=e(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(s+c)||0,f.upperRight_Y=r(o)||0,[Number(en(f.lowerLeft_X)),Number(en(f.lowerLeft_Y)),Number(en(f.upperRight_X)),Number(en(f.upperRight_Y))]},R7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=B0(n,e),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+s+" "+en(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},B0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=e,c=ge.internal.getHeight(n)||0;c=c<0?-c:c;var h=ge.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(I,R,E){if(I+1<s.length){var rt=R+" "+s[I+1][0];return Zd(rt,n,E).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,y,A=Zd("3",n,o).height,C=n.multiline?c-o:(c-A)/2,_=C+=2,F=0,H=0,z=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Zd(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var M="",et=0,nt=0;nt<s.length;nt++)if(s.hasOwnProperty(nt)){var it=!1;if(s[nt].length!==1&&z!==s[nt].length-1){if((A+2)*(et+2)+2>c)continue t;M+=s[nt][z],it=!0,H=nt,nt--}else{M=(M+=s[nt][z]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var _t=parseInt(nt),Dt=f(_t,M,o),$=nt>=s.length-1;if(Dt&&!$){M+=" ",z=0;continue}if(Dt||$){if($)H=_t;else if(n.multiline&&(A+2)*(et+2)+2>c)continue t}else{if(!n.multiline||(A+2)*(et+2)+2>c)continue t;H=_t}}for(var O="",w=F;w<=H;w++){var q=s[w];if(n.multiline){if(w===H){O+=q[z]+" ",z=(z+1)%q.length;continue}if(w===F){O+=q[q.length-1]+" ";continue}}O+=q[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,y=Zd(O,n,o).width,n.textAlign){case"right":d=h-y-2;break;case"center":d=(h-y)/2;break;default:d=2}t+=en(d)+" "+en(_)+` Td
`,t+="("+pc(O)+`) Tj
`,t+=-en(d)+` 0 Td
`,_=-(o+2),y=0,F=it?H:H+1,et++,M=""}break}return r.text=t,r.fontSize=o,r},Zd=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},I7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},L7=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},D7=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(po.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(I7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Fm=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new H4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&L7(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,s){var o=!r;for(var c in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=N7(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ge.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var y=R7(h);f.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(h.appearanceStreamContent){var A="";for(var C in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(C)){var _=h.appearanceStreamContent[C];if(A+="/"+C+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var F=_[c];typeof F=="function"&&(F=F.call(s,h)),A+="/"+c+" "+F+" ",s.internal.acroformPlugin.xForms.indexOf(F)>=0||s.internal.acroformPlugin.xForms.push(F)}}else typeof(F=_)=="function"&&(F=F.call(s,h)),A+="/"+c+" "+F,s.internal.acroformPlugin.xForms.indexOf(F)>=0||s.internal.acroformPlugin.xForms.push(F);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(H,z){for(var M in H)if(H.hasOwnProperty(M)){var et=M,nt=H[M];z.internal.newObjectDeferredBegin(nt.objId,!0),Qn(nt)==="object"&&typeof nt.putStream=="function"&&nt.putStream(),delete H[et]}})(s.internal.acroformPlugin.xForms,s)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},V4=Hi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Qn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Mp(n[o].substr(1)):(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),s+="("+pc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xg=function(n,t,e){var r=function(s){return s};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+pc(r(n))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:V4(s,this.objId,this.scope)}):s instanceof Vo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var q4=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ja(q4,Vo);var H4=function(){Vo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+pc(e(n))+")"}},set:function(e){n=e}})};Ja(H4,Vo);var po=function n(){Vo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');t=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(t,3)},set:function(M){M?this.F=Zi(t,3):this.F=Ji(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');e=M}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(M){r=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(M){r[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(M){r[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(M){r[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(M){r[3]=M}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Op)return;o="FieldObject"+n.FieldNum++}var M=function(et){return et};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+pc(M(o))+")"},set:function(M){o=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(M){o=M}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(M){c=M}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(M){h=M}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(M){f=M}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Fm:d},set:function(M){d=M}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(M){y=M}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Op||this instanceof ec))return Xg(A,this.objId,this.scope)},set:function(M){M=M.toString(),A=M}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Br==0?Xg(C,this.objId,this.scope):C},set:function(M){M=M.toString(),C=this instanceof Br==0?M.substr(0,1)==="("?Xc(M.substr(1,M.length-2)):Xc(M):M}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Xc(C.substr(1,C.length-1)):C},set:function(M){M=M.toString(),C=this instanceof Br==1?"/"+Mp(M):M}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Br==0?Xg(_,this.objId,this.scope):_},set:function(M){M=M.toString(),_=this instanceof Br==0?M.substr(0,1)==="("?Xc(M.substr(1,M.length-2)):Xc(M):M}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Xc(_.substr(1,_.length-1)):_},set:function(M){M=M.toString(),_=this instanceof Br==1?"/"+Mp(M):M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(M){M=!!M,H=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(M){F=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(M){M?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(M){M?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(M){M?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(z!==null)return z},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');z=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(z){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:z=2;break;case"center":case 1:z=1;break;default:z=0}}})};Ja(po,Vo);var lh=function(){po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return V4(t,this.objId,this.scope)},set:function(e){var r,s;s=[],typeof(r=e)=="string"&&(s=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(e){e?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(e){e?(this.Ff=Zi(this.Ff,20),t.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(e){e?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(e){e?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};Ja(lh,po);var uh=function(){lh.call(this),this.fontName="helvetica",this.combo=!1};Ja(uh,lh);var ch=function(){uh.call(this),this.combo=!0};Ja(ch,uh);var up=function(){ch.call(this),this.edit=!0};Ja(up,ch);var Br=function(){po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(e){e?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(e){e?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(e){e?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+pc(e(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+Mp(e)}})};Ja(Br,po);var cp=function(){Br.call(this),this.pushButton=!0};Ja(cp,Br);var hh=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ja(hh,Br);var Op=function(){var n,t;po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+pc(s(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Qn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ja(Op,po),hh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},hh.prototype.createOption=function(n){var t=new Op;return t.Parent=this,t.optionName=n,this.Kids.push(t),j7.call(this.scope,t),t};var hp=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};Ja(hp,Br);var ec=function(){po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(t){t?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(t){t?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(t){t?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(t){t?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ja(ec,po);var fp=function(){ec.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){n?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};Ja(fp,ec);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=B0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+en(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Bo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=ge.internal.getHeight(n),c=ge.internal.getWidth(n),h=B0(n,n.caption);return s.push("1 g"),s.push("0 0 "+en(c)+" "+en(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+en(c-1)+" "+en(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+en(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Bo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=ge.internal.Bezier_C,o=Number((r*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+cu(ge.internal.getWidth(n)/2)+" "+cu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*ge.internal.Bezier_C).toFixed(5)),c=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(ge.internal.getWidth(n)/2)+" "+cu(ge.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+cu(ge.internal.getWidth(n)/2)+" "+cu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(ge.internal.getWidth(n)/2)+" "+cu(ge.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Bo(n);t.scope=n.scope;var e=[],r=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+en(ge.internal.getWidth(n)-2)+" "+en(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),e.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),e.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),e.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(ge.internal.getWidth(n)-2)+" "+en(ge.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(e.x1.x)+" "+en(e.x1.y)+" m"),r.push(en(e.x2.x)+" "+en(e.x2.y)+" l"),r.push(en(e.x4.x)+" "+en(e.x4.y)+" m"),r.push(en(e.x3.x)+" "+en(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Bo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+en(ge.internal.getWidth(n))+" "+en(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ge.internal.getWidth=function(n){var t=0;return Qn(n)==="object"&&(t=Nb(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return Qn(n)==="object"&&(t=Nb(n.Rect[3])),t};var j7=Hi.addField=function(n){if(D7(this,n),!(n instanceof po))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=lh,Hi.AcroFormListBox=uh,Hi.AcroFormComboBox=ch,Hi.AcroFormEditBox=up,Hi.AcroFormButton=Br,Hi.AcroFormPushButton=cp,Hi.AcroFormRadioButton=hh,Hi.AcroFormCheckBox=hp,Hi.AcroFormTextField=ec,Hi.AcroFormPasswordField=fp,Hi.AcroFormAppearance=ge,Hi.AcroForm={ChoiceField:lh,ListBox:uh,ComboBox:ch,EditBox:up,Button:Br,PushButton:cp,RadioButton:hh,CheckBox:hp,TextField:ec,PasswordField:fp,Appearance:ge},ye.AcroForm={ChoiceField:lh,ListBox:uh,ComboBox:ch,EditBox:up,Button:Br,PushButton:cp,RadioButton:hh,CheckBox:hp,TextField:ec,PasswordField:fp,Appearance:ge};ye.AcroForm;function G4(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,R){var E,rt,yt,st,ft,U=e;if((R=R||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Dt(I))for(ft in r)for(yt=r[ft],E=0;E<yt.length;E+=1){for(st=!0,rt=0;rt<yt[E].length;rt+=1)if(yt[E][rt]!==void 0&&yt[E][rt]!==I[rt]){st=!1;break}if(st===!0){U=ft;break}}else for(ft in r)for(yt=r[ft],E=0;E<yt.length;E+=1){for(st=!0,rt=0;rt<yt[E].length;rt+=1)if(yt[E][rt]!==void 0&&yt[E][rt]!==I.charCodeAt(rt)){st=!1;break}if(st===!0){U=ft;break}}return U===e&&R!==e&&(U=R),U},o=function I(R){for(var E=this.internal.write,rt=this.internal.putStream,yt=(0,this.internal.getFilters)();yt.indexOf("FlateEncode")!==-1;)yt.splice(yt.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var st=[];if(st.push({key:"Type",value:"/XObject"}),st.push({key:"Subtype",value:"/Image"}),st.push({key:"Width",value:R.width}),st.push({key:"Height",value:R.height}),R.colorSpace===M.INDEXED?st.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(st.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===M.DEVICE_CMYK&&st.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),st.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&st.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var ft="",U=0,ct=R.transparency.length;U<ct;U++)ft+=R.transparency[U]+" "+R.transparency[U]+" ";st.push({key:"Mask",value:"["+ft+"]"})}R.sMask!==void 0&&st.push({key:"SMask",value:R.objectId+1+" 0 R"});var bt=R.filter!==void 0?["/"+R.filter]:void 0;if(rt({data:R.data,additionalKeyValues:st,alreadyAppliedFilters:bt,objectId:R.objectId}),E("endobj"),"sMask"in R&&R.sMask!==void 0){var X,j=(X=R.sMaskBitsPerComponent)!==null&&X!==void 0?X:R.bitsPerComponent,P={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:R.sMask};"filter"in R&&(P.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(R.width),P.filter=R.filter),I.call(this,P)}if(R.colorSpace===M.INDEXED){var W=this.internal.newObject();rt({data:O(new Uint8Array(R.palette)),objectId:W}),E("endobj")}},c=function(){var I=this.internal.collections[t+"images"];for(var R in I)o.call(this,I[R])},h=function(){var I,R=this.internal.collections[t+"images"],E=this.internal.write;for(var rt in R)E("/I"+(I=R[rt]).index,I.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var I=this.internal.collections[t+"images"];return f.call(this),I},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(I){return typeof n["process"+I.toUpperCase()]=="function"},C=function(I){return Qn(I)==="object"&&I.nodeType===1},_=function(I,R){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var E=""+I.getAttribute("src");if(E.indexOf("data:image/")===0)return lp(unescape(E).split("base64,").pop());var rt=n.loadFile(E,!0);if(rt!==void 0)return rt}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var yt;switch(R){case"PNG":yt="image/png";break;case"WEBP":yt="image/webp";break;default:yt="image/jpeg"}return lp(I.toDataURL(yt,1).split("base64,").pop())}},F=function(I){var R=this.internal.collections[t+"images"];if(R){for(var E in R)if(I===R[E].alias)return R[E]}},H=function(I,R,E){return I||R||(I=-96,R=-96),I<0&&(I=-1*E.width*72/I/this.internal.scaleFactor),R<0&&(R=-1*E.height*72/R/this.internal.scaleFactor),I===0&&(I=R*E.width/E.height),R===0&&(R=I*E.height/E.width),[I,R]},z=function(I,R,E,rt,yt,st){var ft=H.call(this,E,rt,yt),U=this.internal.getCoordinateString,ct=this.internal.getVerticalCoordinateString,bt=d.call(this);if(E=ft[0],rt=ft[1],bt[yt.index]=yt,st){st*=Math.PI/180;var X=Math.cos(st),j=Math.sin(st),P=function(K){return K.toFixed(4)},W=[P(X),P(j),P(-1*j),P(X),0,0,"cm"]}this.internal.write("q"),st?(this.internal.write([1,"0","0",1,U(I),ct(R+rt),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([U(E),"0","0",U(rt),"0","0","cm"].join(" "))):this.internal.write([U(E),"0","0",U(rt),U(I),ct(R+rt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+yt.index+" Do"),this.internal.write("Q")},M=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var et=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},nt=n.__addimage__.sHashCode=function(I){var R,E,rt=0;if(typeof I=="string")for(E=I.length,R=0;R<E;R++)rt=(rt<<5)-rt+I.charCodeAt(R),rt|=0;else if(Dt(I))for(E=I.byteLength/2,R=0;R<E;R++)rt=(rt<<5)-rt+I[R],rt|=0;return rt},it=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var R=!0;return I.length===0&&(R=!1),I.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(R=!1),R},_t=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var R=I.indexOf(",");return R<0?null:I.substring(0,R).trim().endsWith("base64")?I.substring(R+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Dt=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(I){for(var R=I.length,E=new Uint8Array(R),rt=0;rt<R;rt++)E[rt]=I.charCodeAt(rt);return E},O=n.__addimage__.arrayBufferToBinaryString=function(I){for(var R="",E=Dt(I)?I:new Uint8Array(I),rt=0;rt<E.length;rt+=8192)R+=String.fromCharCode.apply(null,E.subarray(rt,rt+8192));return R};n.addImage=function(){var I,R,E,rt,yt,st,ft,U,ct;if(typeof arguments[1]=="number"?(R=e,E=arguments[1],rt=arguments[2],yt=arguments[3],st=arguments[4],ft=arguments[5],U=arguments[6],ct=arguments[7]):(R=arguments[1],E=arguments[2],rt=arguments[3],yt=arguments[4],st=arguments[5],ft=arguments[6],U=arguments[7],ct=arguments[8]),Qn(I=arguments[0])==="object"&&!C(I)&&"imageData"in I){var bt=I;I=bt.imageData,R=bt.format||R||e,E=bt.x||E||0,rt=bt.y||rt||0,yt=bt.w||bt.width||yt,st=bt.h||bt.height||st,ft=bt.alias||ft,U=bt.compression||U,ct=bt.rotation||bt.angle||ct}var X=this.internal.getFilters();if(U===void 0&&X.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(E)||isNaN(rt))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=w.call(this,I,R,ft,U);return z.call(this,E,rt,yt,st,j,ct),this};var w=function(I,R,E,rt){var yt,st,ft;if(typeof I=="string"&&s(I)===e){I=unescape(I);var U=q(I,!1);(U!==""||(U=n.loadFile(I,!0))!==void 0)&&(I=U)}if(C(I)&&(I=_(I,R)),R=s(I,R),!A(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ft=E)==null||ft.length===0)&&(E=(function(ct){return typeof ct=="string"||Dt(ct)?nt(ct):Dt(ct.data)?nt(ct.data):null})(I)),(yt=F.call(this,E))||(I instanceof Uint8Array||R==="RGBA"||(st=I,I=$(I)),yt=this["process"+R.toUpperCase()](I,y.call(this),E,(function(ct){return ct&&typeof ct=="string"&&(ct=ct.toUpperCase()),ct in n.image_compression?ct:et.NONE})(rt),st)),!yt)throw new Error("An unknown error occurred whilst processing the image.");return yt},q=n.__addimage__.convertBase64ToBinaryString=function(I,R){R=typeof R!="boolean"||R;var E,rt="";if(typeof I=="string"){var yt;E=(yt=_t(I))!==null&&yt!==void 0?yt:I;try{rt=lp(E)}catch(st){if(R)throw it(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+st.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return rt};n.getImageProperties=function(I){var R,E,rt="";if(C(I)&&(I=_(I)),typeof I=="string"&&s(I)===e&&((rt=q(I,!1))===""&&(rt=n.loadFile(I)||""),I=rt),E=s(I),!A(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(I instanceof Uint8Array||(I=$(I)),!(R=this["process"+E.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=E,R}})(ye.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ye.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,s,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,y=!1,A=0;A<d.length&&!y;A++)switch((r=d[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var C=0;C<d.length;C++){r=d[C];var _=this.internal.pdfEscape,F=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),z=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(H.objId),et=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(M(r.contents))+")",o+=" /Popup "+z.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(M(et))+") >>",H.content=o;var nt=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+nt,r.open&&(o+=" /Open true"),o+=" >>",z.content=o,this.internal.write(H.objId,"0 R",z.objId,"0 R");break;case"freetext":s="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var it=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(F(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+it+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var _t=this.annotations._nameMap[r.options.name];r.options.pageNumber=_t.page,r.options.top=_t.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(F(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Dt=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Dt+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,s,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(r),w:f(e+s),h:d(r+o)},options:c,type:"link"})},n.textWithLink=function(e,r,s,o){var c,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var y=this.splitTextToSize(e,h).length;c=Math.ceil(d*y)}else h=f,c=d;return this.text(e,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,c,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(ye.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return t[H.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},h=n.__arabicParser__.isArabicEndLetter=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(H){return c(H)&&s.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return c(H)&&o(H)&&t[H.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(H){var z=0,M=e,et="",nt=0;for(z=0;z<H.length;z+=1)M[H.charCodeAt(z)]!==void 0?(nt++,typeof(M=M[H.charCodeAt(z)])=="number"&&(et+=String.fromCharCode(M),M=e,nt=0),z===H.length-1&&(M=e,et+=H.charAt(z-(nt-1)),z-=nt-1,nt=0)):(M=e,et+=H.charAt(z-nt),z-=nt,nt=0);return et};n.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&r[H.charCodeAt(0)]!==void 0};var C=n.__arabicParser__.getCorrectForm=function(H,z,M){return c(H)?o(H)===!1?-1:!d(H)||!c(z)&&!c(M)||!c(M)&&h(z)||h(H)&&!c(z)||h(H)&&f(z)||h(H)&&h(z)?0:y(H)&&c(z)&&!h(z)&&c(M)&&d(M)?3:h(H)||!c(M)?1:2:-1},_=function(H){var z=0,M=0,et=0,nt="",it="",_t="",Dt=(H=H||"").split("\\s+"),$=[];for(z=0;z<Dt.length;z+=1){for($.push(""),M=0;M<Dt[z].length;M+=1)nt=Dt[z][M],it=Dt[z][M-1],_t=Dt[z][M+1],c(nt)?(et=C(nt,it,_t),$[z]+=et!==-1?String.fromCharCode(t[nt.charCodeAt(0)][et]):nt):$[z]+=nt;$[z]=A($[z])}return $.join(" ")},F=n.__arabicParser__.processArabic=n.processArabic=function(){var H,z=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(z)){var et=0;for(M=[],et=0;et<z.length;et+=1)Array.isArray(z[et])?M.push([_(z[et][0]),z[et][1],z[et][2]]):M.push([_(z[et])]);H=M}else H=_(z);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",F])})(ye.API),ye.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var s;if((e=e||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ye.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(H){d=H}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(H){y=H}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(H){A=H}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(H){C=H}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(H){_=H}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(H){F=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),C=d.scaleFactor||this.internal.scaleFactor,_=0,F=0,H=0,z=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var M=d.maxWidth;M>0?typeof f=="string"?f=this.splitTextToSize(f,M):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(nt,it){return nt.concat(z.splitTextToSize(it,M))},[])):f=Array.isArray(f)?f:[f];for(var et=0;et<f.length;et++)_<(H=this.getStringUnitWidth(f[et],{font:A})*y)&&(_=H);return _!==0&&(F=f.length),{w:_/=C,h:Math.max((F*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/C,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,C=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,A,C){if(r.call(this),!y)throw new Error("No data for PDF table.");var _,F,H,z,M=[],et=[],nt=[],it={},_t={},Dt=[],$=[],O=(C=C||{}).autoSize||!1,w=C.printHeaders!==!1,q=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,I=C.margins||Object.assign({width:this.getPageWidth()},t),R=typeof C.padding=="number"?C.padding:3,E=C.headerBackgroundColor||"#c8c8c8",rt=C.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=rt,this.setFontSize(q),A==null)et=M=Object.keys(y[0]),nt=M.map(function(){return"left"});else if(Array.isArray(A)&&Qn(A[0])==="object")for(M=A.map(function(bt){return bt.name}),et=A.map(function(bt){return bt.prompt||bt.name||""}),nt=A.map(function(bt){return bt.align||"left"}),_=0;_<A.length;_+=1)_t[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(et=M=A,nt=M.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<M.length;_+=1){for(it[z=M[_]]=y.map(function(bt){return bt[z]}),this.setFont(void 0,"bold"),Dt.push(this.getTextDimensions(et[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=it[z],this.setFont(void 0,"normal"),H=0;H<F.length;H+=1)Dt.push(this.getTextDimensions(F[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_t[z]=Math.max.apply(null,Dt)+R+R,Dt=[]}if(w){var yt={};for(_=0;_<M.length;_+=1)yt[M[_]]={},yt[M[_]].text=et[_],yt[M[_]].align=nt[_];var st=h.call(this,yt,_t);$=M.map(function(bt){return new o(f,d,_t[bt],st,yt[bt].text,void 0,yt[bt].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var ft=A.reduce(function(bt,X){return bt[X.name]=X.align,bt},{});for(_=0;_<y.length;_+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:_,data:y[_]},this);var U=h.call(this,y[_],_t);for(H=0;H<M.length;H+=1){var ct=y[_][M[H]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:_,col:H,data:ct},this),c.call(this,new o(f,d,_t[M[H]],U,ct,_+2,ft[M[H]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var y=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(_){var F=f[_];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,d[_]-y-y)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/C+y+y},this).reduce(function(_,F){return Math.max(_,F)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){y=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,C.push(y)),y.lineNumber=f;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(F)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),e=!1}})(ye.API);var Y4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},W4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U0=G4(W4),K4=[100,200,300,400,500,600,700,800,900],k7=G4(K4);function Zg(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return Y4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof U0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:t,style:[s,e,r].join(" ")}}}function Rb(n,t,e,r){var s;for(s=e;s>=0&&s<t.length;s+=r)if(n[t[s]])return n[t[s]];for(s=e;s>=0&&s<t.length;s-=r)if(n[t[s]])return n[t[s]]}var M7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ib={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Db(n){return n.trimLeft()}function O7(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function P7(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Zc,Jd,jb,kb,Mb,Jg=["times"];function Ob(n,t,e,r,s){var o=4,c=zb;switch(s){case ye.API.image_compression.FAST:o=1,c=Pb;break;case ye.API.image_compression.MEDIUM:o=6,c=Fb;break;case ye.API.image_compression.SLOW:o=9,c=Bb}n=(function(f,d,y,A){for(var C,_=f.length/d,F=new Uint8Array(f.length+_),H=[z7,Pb,zb,Fb,Bb],z=0;z<_;z+=1){var M=z*d,et=f.subarray(M,M+d);if(A)F.set(A(et,y,C),M+z);else{for(var nt=H.length,it=[],_t=0;_t<nt;_t+=1)it[_t]=H[_t](et,y,C);var Dt=B7(it.concat());F.set(it[Dt],M+z)}C=et}return F})(n,t,Math.ceil(e*r/8),c);var h=k0(n,{level:o});return ye.API.__addimage__.arrayBufferToBinaryString(h)}function z7(n){var t=Array.apply([],n);return t.unshift(0),t}function Pb(n,t){var e=n.length,r=[];r[0]=1;for(var s=0;s<e;s+=1){var o=n[s-t]||0;r[s+1]=n[s]-o+256&255}return r}function zb(n,t,e){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var c=e&&e[o]||0;s[o+1]=n[o]-c+256&255}return s}function Fb(n,t,e){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var c=n[o-t]||0,h=e&&e[o]||0;s[o+1]=n[o]+256-(c+h>>>1)&255}return s}function Bb(n,t,e){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var c=F7(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=n[o]-c+256&255}return s}function F7(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),s=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=s&&r<=o?n:s<=o?t:e}function B7(n){var t=n.map(function(e){return e.reduce(function(r,s){return r+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function t0(n,t,e){var r=t*e,s=Math.floor(r/8),o=16-(r-8*s+e),c=(1<<e)-1;return $4(n,s)>>o&c}function Ub(n,t,e,r){var s=e*r,o=Math.floor(s/8),c=16-(s-8*o+r),h=(1<<r)-1,f=(t&h)<<c;(function(d,y,A){if(y+1<d.byteLength)d.setUint16(y,A,!1);else{var C=A>>8&255;d.setUint8(y,C)}})(n,o,$4(n,o)&~(h<<c)&65535|f)}function $4(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function U7(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,s=n[t++],o=s>>7,c=1<<1+(7&s);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=c,t+=3*c);var d=!0,y=[],A=0,C=null,_=0,F=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,F=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((I=n[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var H=n[t++];A=n[t++]|n[t++]<<8,C=n[t++],1&H||(C=null),_=H>>2&7,t++;break;case 254:for(;;){if(!((I=n[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var z=n[t++]|n[t++]<<8,M=n[t++]|n[t++]<<8,et=n[t++]|n[t++]<<8,nt=n[t++]|n[t++]<<8,it=n[t++],_t=it>>6&1,Dt=1<<1+(7&it),$=h,O=f,w=!1;it>>7&&(w=!0,$=t,O=Dt,t+=3*Dt);var q=t;for(t++;;){var I;if(!((I=n[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}y.push({x:z,y:M,width:et,height:nt,has_local_palette:w,palette_offset:$,palette_size:O,data_offset:q,data_length:t-q,transparent_index:C,interlaced:!!_t,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return F},this.frameInfo=function(R){if(R<0||R>=y.length)throw new Error("Frame index out of range.");return y[R]},this.decodeAndBlitFrameBGRA=function(R,E){var rt=this.frameInfo(R),yt=rt.width*rt.height,st=new Uint8Array(yt);Vb(n,rt.data_offset,st,yt);var ft=rt.palette_offset,U=rt.transparent_index;U===null&&(U=256);var ct=rt.width,bt=e-ct,X=ct,j=4*(rt.y*e+rt.x),P=4*((rt.y+rt.height)*e+rt.x),W=j,K=4*bt;rt.interlaced===!0&&(K+=4*e*7);for(var ht=8,gt=0,Ct=st.length;gt<Ct;++gt){var Nt=st[gt];if(X===0&&(X=ct,(W+=K)>=P&&(K=4*bt+4*e*(ht-1),W=j+(ct+bt)*(ht<<1),ht>>=1)),Nt===U)W+=4;else{var Ot=n[ft+3*Nt],$t=n[ft+3*Nt+1],ne=n[ft+3*Nt+2];E[W++]=ne,E[W++]=$t,E[W++]=Ot,E[W++]=255}--X}},this.decodeAndBlitFrameRGBA=function(R,E){var rt=this.frameInfo(R),yt=rt.width*rt.height,st=new Uint8Array(yt);Vb(n,rt.data_offset,st,yt);var ft=rt.palette_offset,U=rt.transparent_index;U===null&&(U=256);var ct=rt.width,bt=e-ct,X=ct,j=4*(rt.y*e+rt.x),P=4*((rt.y+rt.height)*e+rt.x),W=j,K=4*bt;rt.interlaced===!0&&(K+=4*e*7);for(var ht=8,gt=0,Ct=st.length;gt<Ct;++gt){var Nt=st[gt];if(X===0&&(X=ct,(W+=K)>=P&&(K=4*bt+4*e*(ht-1),W=j+(ct+bt)*(ht<<1),ht>>=1)),Nt===U)W+=4;else{var Ot=n[ft+3*Nt],$t=n[ft+3*Nt+1],ne=n[ft+3*Nt+2];E[W++]=Ot,E[W++]=$t,E[W++]=ne,E[W++]=255}--X}}}function Vb(n,t,e,r){for(var s=n[t++],o=1<<s,c=o+1,h=c+1,f=s+1,d=(1<<f)-1,y=0,A=0,C=0,_=n[t++],F=new Int32Array(4096),H=null;;){for(;y<16&&_!==0;)A|=n[t++]<<y,y+=8,_===1?_=n[t++]:--_;if(y<f)break;var z=A&d;if(A>>=f,y-=f,z!==o){if(z===c)break;for(var M=z<h?z:H,et=0,nt=M;nt>o;)nt=F[nt]>>8,++et;var it=nt;if(C+et+(M!==z?1:0)>r)return void ui.log("Warning, gif stream longer than expected.");e[C++]=it;var _t=C+=et;for(M!==z&&(e[C++]=it),nt=M;et--;)nt=F[nt],e[--_t]=255&nt,nt>>=8;H!==null&&h<4096&&(F[h++]=H<<8|it,h>=d+1&&f<12&&(++f,d=d<<1|1)),H=z}else h=c+1,d=(1<<(f=s+1))-1,H=null}return C!==r&&ui.log("Warning, gif stream shorter than expected."),e}function e0(n){var t,e,r,s,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),A=new Array(65535),C=new Array(65535),_=new Array(64),F=new Array(64),H=[],z=0,M=7,et=new Array(64),nt=new Array(64),it=new Array(64),_t=new Array(256),Dt=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],yt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function st(j,P){for(var W=0,K=0,ht=new Array,gt=1;gt<=16;gt++){for(var Ct=1;Ct<=j[gt];Ct++)ht[P[K]]=[],ht[P[K]][0]=W,ht[P[K]][1]=gt,K++,W++;W*=2}return ht}function ft(j){for(var P=j[0],W=j[1]-1;W>=0;)P&1<<W&&(z|=1<<M),W--,--M<0&&(z==255?(U(255),U(0)):U(z),M=7,z=0)}function U(j){H.push(j)}function ct(j){U(j>>8&255),U(255&j)}function bt(j,P,W,K,ht){for(var gt,Ct=ht[0],Nt=ht[240],Ot=(function(Vt,re){var ie,Ne,_e,We,Ze,Be,an,$e,me,qe,ve=0;for(me=0;me<8;++me){ie=Vt[ve],Ne=Vt[ve+1],_e=Vt[ve+2],We=Vt[ve+3],Ze=Vt[ve+4],Be=Vt[ve+5],an=Vt[ve+6];var ci=ie+($e=Vt[ve+7]),Qe=ie-$e,Ce=Ne+an,Pe=Ne-an,Ke=_e+Be,Se=_e-Be,In=We+Ze,Me=We-Ze,Oe=ci+In,jn=ci-In,we=Ce+Ke,be=Ce-Ke;Vt[ve]=Oe+we,Vt[ve+4]=Oe-we;var sn=.707106781*(be+jn);Vt[ve+2]=jn+sn,Vt[ve+6]=jn-sn;var fr=.382683433*((Oe=Me+Se)-(be=Pe+Qe)),tr=.5411961*Oe+fr,Ia=1.306562965*be+fr,Gi=.707106781*(we=Se+Pe),Ae=Qe+Gi,ts=Qe-Gi;Vt[ve+5]=ts+tr,Vt[ve+3]=ts-tr,Vt[ve+1]=Ae+Ia,Vt[ve+7]=Ae-Ia,ve+=8}for(ve=0,me=0;me<8;++me){ie=Vt[ve],Ne=Vt[ve+8],_e=Vt[ve+16],We=Vt[ve+24],Ze=Vt[ve+32],Be=Vt[ve+40],an=Vt[ve+48];var Ur=ie+($e=Vt[ve+56]),Tr=ie-$e,Cr=Ne+an,Vn=Ne-an,Xn=_e+Be,Mi=_e-Be,dr=We+Ze,er=We-Ze,kn=Ur+dr,Gn=Ur-dr,Oi=Cr+Xn,Nr=Cr-Xn;Vt[ve]=kn+Oi,Vt[ve+32]=kn-Oi;var ra=.707106781*(Nr+Gn);Vt[ve+16]=Gn+ra,Vt[ve+48]=Gn-ra;var ys=.382683433*((kn=er+Mi)-(Nr=Vn+Tr)),xa=.5411961*kn+ys,Rr=1.306562965*Nr+ys,es=.707106781*(Oi=Mi+Vn),Vr=Tr+es,pr=Tr-es;Vt[ve+40]=pr+xa,Vt[ve+24]=pr-xa,Vt[ve+8]=Vr+Rr,Vt[ve+56]=Vr-Rr,ve++}for(me=0;me<64;++me)qe=Vt[me]*re[me],_[me]=qe>0?qe+.5|0:qe-.5|0;return _})(j,P),$t=0;$t<64;++$t)F[$[$t]]=Ot[$t];var ne=F[0]-W;W=F[0],ne==0?ft(K[0]):(ft(K[C[gt=32767+ne]]),ft(A[gt]));for(var ee=63;ee>0&&F[ee]==0;)ee--;if(ee==0)return ft(Ct),W;for(var ce,at=1;at<=ee;){for(var te=at;F[at]==0&&at<=ee;)++at;var Ye=at-te;if(Ye>=16){ce=Ye>>4;for(var Te=1;Te<=ce;++Te)ft(Nt);Ye&=15}gt=32767+F[at],ft(ht[(Ye<<4)+C[gt]]),ft(A[gt]),at++}return ee!=63&&ft(Ct),W}function X(j){j=Math.min(Math.max(j,1),100),o!=j&&((function(P){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ht=c((W[K]*P+50)/100);ht=Math.min(Math.max(ht,1),255),h[$[K]]=ht}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ct=0;Ct<64;Ct++){var Nt=c((gt[Ct]*P+50)/100);Nt=Math.min(Math.max(Nt,1),255),f[$[Ct]]=Nt}for(var Ot=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$t=0,ne=0;ne<8;ne++)for(var ee=0;ee<8;ee++)d[$t]=1/(h[$[$t]]*Ot[ne]*Ot[ee]*8),y[$t]=1/(f[$[$t]]*Ot[ne]*Ot[ee]*8),$t++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,P){P&&X(P),H=new Array,z=0,M=7,ct(65496),ct(65504),ct(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),ct(1),ct(1),U(0),U(0),(function(){ct(65499),ct(132),U(0);for(var Ne=0;Ne<64;Ne++)U(h[Ne]);U(1);for(var _e=0;_e<64;_e++)U(f[_e])})(),(function(Ne,_e){ct(65472),ct(17),U(8),ct(_e),ct(Ne),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)})(j.width,j.height),(function(){ct(65476),ct(418),U(0);for(var Ne=0;Ne<16;Ne++)U(O[Ne+1]);for(var _e=0;_e<=11;_e++)U(w[_e]);U(16);for(var We=0;We<16;We++)U(q[We+1]);for(var Ze=0;Ze<=161;Ze++)U(I[Ze]);U(1);for(var Be=0;Be<16;Be++)U(R[Be+1]);for(var an=0;an<=11;an++)U(E[an]);U(17);for(var $e=0;$e<16;$e++)U(rt[$e+1]);for(var me=0;me<=161;me++)U(yt[me])})(),ct(65498),ct(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var W=0,K=0,ht=0;z=0,M=7,this.encode.displayName="_encode_";for(var gt,Ct,Nt,Ot,$t,ne,ee,ce,at,te=j.data,Ye=j.width,Te=j.height,Vt=4*Ye,re=0;re<Te;){for(gt=0;gt<Vt;){for($t=Vt*re+gt,ee=-1,ce=0,at=0;at<64;at++)ne=$t+(ce=at>>3)*Vt+(ee=4*(7&at)),re+ce>=Te&&(ne-=Vt*(re+1+ce-Te)),gt+ee>=Vt&&(ne-=gt+ee-Vt+4),Ct=te[ne++],Nt=te[ne++],Ot=te[ne++],et[at]=(Dt[Ct]+Dt[Nt+256|0]+Dt[Ot+512|0]>>16)-128,nt[at]=(Dt[Ct+768|0]+Dt[Nt+1024|0]+Dt[Ot+1280|0]>>16)-128,it[at]=(Dt[Ct+1280|0]+Dt[Nt+1536|0]+Dt[Ot+1792|0]>>16)-128;W=bt(et,d,W,t,r),K=bt(nt,y,K,e,s),ht=bt(it,y,ht,e,s),gt+=32}re+=8}if(M>=0){var ie=[];ie[1]=M+1,ie[0]=(1<<M+1)-1,ft(ie)}return ct(65497),new Uint8Array(H)},n=n||50,(function(){for(var j=String.fromCharCode,P=0;P<256;P++)_t[P]=j(P)})(),t=st(O,w),e=st(R,E),r=st(q,I),s=st(rt,yt),(function(){for(var j=1,P=2,W=1;W<=15;W++){for(var K=j;K<P;K++)C[32767+K]=W,A[32767+K]=[],A[32767+K][1]=W,A[32767+K][0]=K;for(var ht=-(P-1);ht<=-j;ht++)C[32767+ht]=W,A[32767+ht]=[],A[32767+ht][1]=W,A[32767+ht][0]=P-1+ht;j<<=1,P<<=1}})(),(function(){for(var j=0;j<256;j++)Dt[j]=19595*j,Dt[j+256|0]=38470*j,Dt[j+512|0]=7471*j+32768,Dt[j+768|0]=-11059*j,Dt[j+1024|0]=-21709*j,Dt[j+1280|0]=32768*j+8421375,Dt[j+1536|0]=-27439*j,Dt[j+1792|0]=-5329*j})(),X(n)}function ao(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qb(n){function t(w){if(!w)throw Error("assert :P")}function e(w,q,I){for(var R=0;4>R;R++)if(w[q+R]!=I.charCodeAt(R))return!0;return!1}function r(w,q,I,R,E){for(var rt=0;rt<E;rt++)w[q+rt]=I[R+rt]}function s(w,q,I,R){for(var E=0;E<R;E++)w[q+E]=I}function o(w){return new Int32Array(w)}function c(w,q){for(var I=[],R=0;R<w;R++)I.push(new q);return I}function h(w,q){var I=[];return(function R(E,rt,yt){for(var st=yt[rt],ft=0;ft<st&&(E.push(yt.length>rt+1?[]:new q),!(yt.length<rt+1));ft++)R(E[ft],rt+1,yt)})(I,0,w),I}var f=function(){var w=this;function q(p,b){for(var T=1<<b-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function I(p,b,T,L,V){t(!(L%T));do p[b+(L-=T)]=V;while(0<L)}function R(p,b,T,L,V){if(t(2328>=V),512>=V)var G=o(512);else if((G=o(V))==null)return 0;return(function(Y,Z,tt,ut,mt,Rt){var ot,xt,Et=Z,zt=1<<tt,Tt=o(16),Pt=o(16);for(t(mt!=0),t(ut!=null),t(Y!=null),t(0<tt),xt=0;xt<mt;++xt){if(15<ut[xt])return 0;++Tt[ut[xt]]}if(Tt[0]==mt)return 0;for(Pt[1]=0,ot=1;15>ot;++ot){if(Tt[ot]>1<<ot)return 0;Pt[ot+1]=Pt[ot]+Tt[ot]}for(xt=0;xt<mt;++xt)ot=ut[xt],0<ut[xt]&&(Rt[Pt[ot]++]=xt);if(Pt[15]==1)return(ut=new E).g=0,ut.value=Rt[0],I(Y,Et,1,zt,ut),zt;var Ut,Qt=-1,Yt=zt-1,pe=0,se=1,He=1,he=1<<tt;for(xt=0,ot=1,mt=2;ot<=tt;++ot,mt<<=1){if(se+=He<<=1,0>(He-=Tt[ot]))return 0;for(;0<Tt[ot];--Tt[ot])(ut=new E).g=ot,ut.value=Rt[xt++],I(Y,Et+pe,mt,he,ut),pe=q(pe,ot)}for(ot=tt+1,mt=2;15>=ot;++ot,mt<<=1){if(se+=He<<=1,0>(He-=Tt[ot]))return 0;for(;0<Tt[ot];--Tt[ot]){if(ut=new E,(pe&Yt)!=Qt){for(Et+=he,Ut=1<<(Qt=ot)-tt;15>Qt&&!(0>=(Ut-=Tt[Qt]));)++Qt,Ut<<=1;zt+=he=1<<(Ut=Qt-tt),Y[Z+(Qt=pe&Yt)].g=Ut+tt,Y[Z+Qt].value=Et-Z-Qt}ut.g=ot-tt,ut.value=Rt[xt++],I(Y,Et+(pe>>tt),mt,he,ut),pe=q(pe,ot)}}return se!=2*Pt[15]-1?0:zt})(p,b,T,L,V,G)}function E(){this.value=this.g=0}function rt(){this.value=this.g=0}function yt(){this.G=c(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ao,rt)}function st(p,b,T,L){t(p!=null),t(b!=null),t(2147483648>L),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=T,p.Jd=b,p.Yc=T+L,p.Zc=4<=L?T+L-4+1:T,Ct(p)}function ft(p,b){for(var T=0;0<b--;)T|=Ot(p,128)<<b;return T}function U(p,b){var T=ft(p,b);return Nt(p)?-T:T}function ct(p,b,T,L){var V,G=0;for(t(p!=null),t(b!=null),t(4294967288>L),p.Sb=L,p.Ra=0,p.u=0,p.h=0,4<L&&(L=4),V=0;V<L;++V)G+=b[T+V]<<8*V;p.Ra=G,p.bb=L,p.oa=b,p.pa=T}function bt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Es-8>>>0,++p.bb,p.u-=8;K(p)&&(p.h=1,p.u=0)}function X(p,b){if(t(0<=b),!p.h&&b<=Qr){var T=W(p)&ua[b];return p.u+=b,bt(p),T}return p.h=1,p.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(p){return p.Ra>>>(p.u&Es-1)>>>0}function K(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Es}function ht(p,b){p.u=b,p.h=K(p)}function gt(p){p.u>=Ts&&(t(p.u>=Ts),bt(p))}function Ct(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Nt(p){return ft(p,1)}function Ot(p,b){var T=p.Ca;0>p.b&&Ct(p);var L=p.b,V=T*b>>>8,G=(p.I>>>L>V)+0;for(G?(T-=V,p.I-=V+1<<L>>>0):T=V+1,L=T,V=0;256<=L;)V+=8,L>>=8;return L=7^V+Ys[L],p.b-=L,p.Ca=(T<<L)-1,G}function $t(p,b,T){p[b+0]=T>>24&255,p[b+1]=T>>16&255,p[b+2]=T>>8&255,p[b+3]=255&T}function ne(p,b){return p[b+0]|p[b+1]<<8}function ee(p,b){return ne(p,b)|p[b+2]<<16}function ce(p,b){return ne(p,b)|ne(p,b+2)<<16}function at(p,b){var T=1<<b;return t(p!=null),t(0<b),p.X=o(T),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function te(p,b){t(p!=null),t(b!=null),t(p.Xa==b.Xa),r(b.X,0,p.X,0,1<<b.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Te(p,b,T,L){t(T!=null),t(L!=null);var V=T[0],G=L[0];return V==0&&(V=(p*G+b/2)/b),G==0&&(G=(b*V+p/2)/p),0>=V||0>=G?0:(T[0]=V,L[0]=G,1)}function Vt(p,b){return p+(1<<b)-1>>>b}function re(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function ie(p,b){w[b]=function(T,L,V,G,Y,Z,tt){var ut;for(ut=0;ut<Y;++ut){var mt=w[p](Z[tt+ut-1],V,G+ut);Z[tt+ut]=re(T[L+ut],mt)}}}function Ne(){this.ud=this.hd=this.jd=0}function _e(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function We(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ze(p,b){return We(p+(p-b+.5>>1))}function Be(p,b,T){return Math.abs(b-T)-Math.abs(p-T)}function an(p,b,T,L,V,G,Y){for(L=G[Y-1],T=0;T<V;++T)G[Y+T]=L=re(p[b+T],L)}function $e(p,b,T,L,V){var G;for(G=0;G<T;++G){var Y=p[b+G],Z=Y>>8&255,tt=16711935&(tt=(tt=16711935&Y)+((Z<<16)+Z));L[V+G]=(4278255360&Y)+tt>>>0}}function me(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function qe(p,b,T,L,V,G){var Y;for(Y=0;Y<L;++Y){var Z=b[T+Y],tt=Z>>>8,ut=Z,mt=255&(mt=(mt=Z>>>16)+((p.jd<<24>>24)*(tt<<24>>24)>>>5));ut=255&(ut=(ut+=(p.hd<<24>>24)*(tt<<24>>24)>>>5)+((p.ud<<24>>24)*(mt<<24>>24)>>>5)),V[G+Y]=(4278255360&Z)+(mt<<16)+ut}}function ve(p,b,T,L,V){w[b]=function(G,Y,Z,tt,ut,mt,Rt,ot,xt){for(tt=Rt;tt<ot;++tt)for(Rt=0;Rt<xt;++Rt)ut[mt++]=V(Z[L(G[Y++])])},w[p]=function(G,Y,Z,tt,ut,mt,Rt){var ot=8>>G.b,xt=G.Ea,Et=G.K[0],zt=G.w;if(8>ot)for(G=(1<<G.b)-1,zt=(1<<ot)-1;Y<Z;++Y){var Tt,Pt=0;for(Tt=0;Tt<xt;++Tt)Tt&G||(Pt=L(tt[ut++])),mt[Rt++]=V(Et[Pt&zt]),Pt>>=ot}else w["VP8LMapColor"+T](tt,ut,Et,zt,mt,Rt,Y,Z,xt)}}function ci(p,b,T,L,V){for(T=b+T;b<T;){var G=p[b++];L[V++]=G>>16&255,L[V++]=G>>8&255,L[V++]=255&G}}function Qe(p,b,T,L,V){for(T=b+T;b<T;){var G=p[b++];L[V++]=G>>16&255,L[V++]=G>>8&255,L[V++]=255&G,L[V++]=G>>24&255}}function Ce(p,b,T,L,V){for(T=b+T;b<T;){var G=(Y=p[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[V++]=G,L[V++]=Y}}function Pe(p,b,T,L,V){for(T=b+T;b<T;){var G=(Y=p[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[V++]=G,L[V++]=Y}}function Ke(p,b,T,L,V){for(T=b+T;b<T;){var G=p[b++];L[V++]=255&G,L[V++]=G>>8&255,L[V++]=G>>16&255}}function Se(p,b,T,L,V,G){if(G==0)for(T=b+T;b<T;)$t(L,((G=p[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else r(L,V,p,b,T)}function In(p,b){w[b][0]=w[p+"0"],w[b][1]=w[p+"1"],w[b][2]=w[p+"2"],w[b][3]=w[p+"3"],w[b][4]=w[p+"4"],w[b][5]=w[p+"5"],w[b][6]=w[p+"6"],w[b][7]=w[p+"7"],w[b][8]=w[p+"8"],w[b][9]=w[p+"9"],w[b][10]=w[p+"10"],w[b][11]=w[p+"11"],w[b][12]=w[p+"12"],w[b][13]=w[p+"13"],w[b][14]=w[p+"0"],w[b][15]=w[p+"0"]}function Me(p){return p==Pu||p==xc||p==Ul||p==_c}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function we(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new jn,this.sd=null}function be(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function tr(p,b){var T=p.T,L=b.ba.f.RGBA,V=L.eb,G=L.fb+p.ka*L.A,Y=_r[b.ba.S],Z=p.y,tt=p.O,ut=p.f,mt=p.N,Rt=p.ea,ot=p.W,xt=b.cc,Et=b.dc,zt=b.Mc,Tt=b.Nc,Pt=p.ka,Ut=p.ka+p.T,Qt=p.U,Yt=Qt+1>>1;for(Pt==0?Y(Z,tt,null,null,ut,mt,Rt,ot,ut,mt,Rt,ot,V,G,null,null,Qt):(Y(b.ec,b.fc,Z,tt,xt,Et,zt,Tt,ut,mt,Rt,ot,V,G-L.A,V,G,Qt),++T);Pt+2<Ut;Pt+=2)xt=ut,Et=mt,zt=Rt,Tt=ot,mt+=p.Rc,ot+=p.Rc,G+=2*L.A,Y(Z,(tt+=2*p.fa)-p.fa,Z,tt,xt,Et,zt,Tt,ut,mt,Rt,ot,V,G-L.A,V,G,Qt);return tt+=p.fa,p.j+Ut<p.o?(r(b.ec,b.fc,Z,tt,Qt),r(b.cc,b.dc,ut,mt,Yt),r(b.Mc,b.Nc,Rt,ot,Yt),T--):1&Ut||Y(Z,tt,null,null,ut,mt,Rt,ot,ut,mt,Rt,ot,V,G+L.A,null,null,Qt),T}function Ia(p,b,T){var L=p.F,V=[p.J];if(L!=null){var G=p.U,Y=b.ba.S,Z=Y==Ou||Y==Ul;b=b.ba.f.RGBA;var tt=[0],ut=p.ka;tt[0]=p.T,p.Kb&&(ut==0?--tt[0]:(--ut,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(tt[0]=p.o-p.j-ut));var mt=b.eb;ut=b.fb+ut*b.A,p=Du(L,V[0],p.width,G,tt,mt,ut+(Z?0:3),b.A),t(T==tt),p&&Me(Y)&&sl(mt,ut,Z,G,tt,b.A)}return 0}function Gi(p){var b=p.ma,T=b.ba.S,L=11>T,V=T==Mr||T==za||T==Ou||T==Bl||T==12||Me(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Gs(b.Oa,p,V?11:12))return 0;if(V&&Me(T)&&Ve(),p.da)alert("todo:use_scaling");else{if(L){if(b.Ib=fr,p.Kb){if(T=p.U+1>>1,b.memory=o(p.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=tr,Ve()}}else alert("todo:EmitYUV");V&&(b.Jb=Ia,L&&jt())}if(L&&!Lo){for(p=0;256>p;++p)wr[p]=89858*(p-128)+Hl>>Ha,a1[p]=-22014*(p-128)+Hl,Xf[p]=-45773*(p-128),Tc[p]=113618*(p-128)+Hl>>Ha;for(p=cl;p<Io;++p)b=76283*(p-16)+Hl>>Ha,s1[p-cl]=Hr(b,255),o1[p-cl]=Hr(b+8>>4,15);Lo=1}return 1}function Ae(p){var b=p.ma,T=p.U,L=p.T;return t(!(1&p.ka)),0>=T||0>=L?0:(T=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,T),b.Dc+=T,1)}function ts(p){p.ma.memory=null}function Ur(p,b,T,L){return X(p,8)!=47?0:(b[0]=X(p,14)+1,T[0]=X(p,14)+1,L[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Tr(p,b){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+X(b,T)+1}function Cr(p,b){return 120<b?b-120:1<=(T=((T=Ba[b-1])>>4)*p+(8-(15&T)))?T:1;var T}function Vn(p,b,T){var L=W(T),V=p[b+=255&L].g-8;return 0<V&&(ht(T,T.u+8),L=W(T),b+=p[b].value,b+=L&(1<<V)-1),ht(T,T.u+p[b].g),p[b].value}function Xn(p,b,T){return T.g+=p.g,T.value+=p.value<<b>>>0,t(8>=T.g),p.g}function Mi(p,b,T){var L=p.xc;return t((b=L==0?0:p.vc[p.md*(T>>L)+(b>>L)])<p.Wb),p.Ya[b]}function dr(p,b,T,L){var V=p.ab,G=p.c*b,Y=p.C;b=Y+b;var Z=T,tt=L;for(L=p.Ta,T=p.Ua;0<V--;){var ut=p.gc[V],mt=Y,Rt=b,ot=Z,xt=tt,Et=(tt=L,Z=T,ut.Ea);switch(t(mt<Rt),t(Rt<=ut.nc),ut.hc){case 2:Ii(ot,xt,(Rt-mt)*Et,tt,Z);break;case 0:var zt=mt,Tt=Rt,Pt=tt,Ut=Z,Qt=(he=ut).Ea;zt==0&&(Ol(ot,xt,null,null,1,Pt,Ut),an(ot,xt+1,0,0,Qt-1,Pt,Ut+1),xt+=Qt,Ut+=Qt,++zt);for(var Yt=1<<he.b,pe=Yt-1,se=Vt(Qt,he.b),He=he.K,he=he.w+(zt>>he.b)*se;zt<Tt;){var dn=He,oi=he,Je=1;for(Pl(ot,xt,Pt,Ut-Qt,1,Pt,Ut);Je<Qt;){var oe=(Je&~pe)+Yt;oe>Qt&&(oe=Qt),(0,Ws[dn[oi++]>>8&15])(ot,xt+ +Je,Pt,Ut+Je-Qt,oe-Je,Pt,Ut+Je),Je=oe}xt+=Qt,Ut+=Qt,++zt&pe||(he+=se)}Rt!=ut.nc&&r(tt,Z-Et,tt,Z+(Rt-mt-1)*Et,Et);break;case 1:for(Et=ot,Tt=xt,Qt=(ot=ut.Ea)-(Ut=ot&~(Pt=(xt=1<<ut.b)-1)),zt=Vt(ot,ut.b),Yt=ut.K,ut=ut.w+(mt>>ut.b)*zt;mt<Rt;){for(pe=Yt,se=ut,He=new Ne,he=Tt+Ut,dn=Tt+ot;Tt<he;)me(pe[se++],He),zl(He,Et,Tt,xt,tt,Z),Tt+=xt,Z+=xt;Tt<dn&&(me(pe[se++],He),zl(He,Et,Tt,Qt,tt,Z),Tt+=Qt,Z+=Qt),++mt&Pt||(ut+=zt)}break;case 3:if(ot==tt&&xt==Z&&0<ut.b){for(Tt=tt,ot=Et=Z+(Rt-mt)*Et-(Ut=(Rt-mt)*Vt(ut.Ea,ut.b)),xt=tt,Pt=Z,zt=[],Ut=(Qt=Ut)-1;0<=Ut;--Ut)zt[Ut]=xt[Pt+Ut];for(Ut=Qt-1;0<=Ut;--Ut)Tt[ot+Ut]=zt[Ut];gc(ut,mt,Rt,tt,Et,tt,Z)}else gc(ut,mt,Rt,ot,xt,tt,Z)}Z=L,tt=T}tt!=T&&r(L,T,Z,tt,G)}function er(p,b){var T=p.V,L=p.Ba+p.c*p.C,V=b-p.C;if(t(b<=p.l.o),t(16>=V),0<V){var G=p.l,Y=p.Ta,Z=p.Ua,tt=G.width;if(dr(p,V,T,L),V=Z=[Z],t((T=p.C)<(L=b)),t(G.v<G.va),L>G.o&&(L=G.o),T<G.j){var ut=G.j-T;T=G.j,V[0]+=ut*tt}if(T>=L?T=0:(V[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=L-T,T=1),T){if(Z=Z[0],11>(T=p.ca).S){var mt=T.f.RGBA,Rt=(L=T.S,V=G.U,G=G.T,ut=mt.eb,mt.A),ot=G;for(mt=mt.fb+p.Ma*mt.A;0<ot--;){var xt=Y,Et=Z,zt=V,Tt=ut,Pt=mt;switch(L){case vc:Fl(xt,Et,zt,Tt,Pt);break;case Mr:Ks(xt,Et,zt,Tt,Pt);break;case Pu:Ks(xt,Et,zt,Tt,Pt),sl(Tt,Pt,0,zt,1,0);break;case bc:rl(xt,Et,zt,Tt,Pt);break;case za:Se(xt,Et,zt,Tt,Pt,1);break;case xc:Se(xt,Et,zt,Tt,Pt,1),sl(Tt,Pt,0,zt,1,0);break;case Ou:Se(xt,Et,zt,Tt,Pt,0);break;case Ul:Se(xt,Et,zt,Tt,Pt,0),sl(Tt,Pt,1,zt,1,0);break;case Bl:$s(xt,Et,zt,Tt,Pt);break;case _c:$s(xt,Et,zt,Tt,Pt),Pa(Tt,Pt,zt,1,0);break;case Eo:Rs(xt,Et,zt,Tt,Pt);break;default:t(0)}Z+=tt,mt+=Rt}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=T.height)}}p.C=b,t(p.C<=p.i)}function kn(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var T=p.Ya[b].G,L=p.Ya[b].H;if(0<T[1][L[1]+0].g||0<T[2][L[2]+0].g||0<T[3][L[3]+0].g)return 0}return 1}function Gn(p,b,T,L,V,G){if(p.Z!=0){var Y=p.qd,Z=p.rd;for(t(Zs[p.Z]!=null);b<T;++b)Zs[p.Z](Y,Z,L,V,L,V,G),Y=L,Z=V,V+=G;p.qd=Y,p.rd=Z}}function Oi(p,b){var T=p.l.ma,L=T.Z==0||T.Z==1?p.l.j:p.C;if(L=p.C<L?L:p.C,t(b<=p.l.o),b>L){var V=p.l.width,G=T.ca,Y=T.tb+V*L,Z=p.V,tt=p.Ba+p.c*L,ut=p.gc;t(p.ab==1),t(ut[0].hc==3),Ns(ut[0],L,b,Z,tt,G,Y),Gn(T,L,b,G,Y,V)}p.C=p.Ma=b}function Nr(p,b,T,L,V,G,Y){var Z=p.$/L,tt=p.$%L,ut=p.m,mt=p.s,Rt=T+p.$,ot=Rt;V=T+L*V;var xt=T+L*G,Et=280+mt.ua,zt=p.Pb?Z:16777216,Tt=0<mt.ua?mt.Wa:null,Pt=mt.wc,Ut=Rt<xt?Mi(mt,tt,Z):null;t(p.C<G),t(xt<=V);var Qt=!1;t:for(;;){for(;Qt||Rt<xt;){var Yt=0;if(Z>=zt){var pe=Rt-T;t((zt=p).Pb),zt.wd=zt.m,zt.xd=pe,0<zt.s.ua&&te(zt.s.Wa,zt.s.vb),zt=Z+To}if(tt&Pt||(Ut=Mi(mt,tt,Z)),t(Ut!=null),Ut.Qb&&(b[Rt]=Ut.qb,Qt=!0),!Qt)if(gt(ut),Ut.jc){Yt=ut,pe=b;var se=Rt,He=Ut.pd[W(Yt)&Ao-1];t(Ut.jc),256>He.g?(ht(Yt,Yt.u+He.g),pe[se]=He.value,Yt=0):(ht(Yt,Yt.u+He.g-256),t(256<=He.value),Yt=He.value),Yt==0&&(Qt=!0)}else Yt=Vn(Ut.G[0],Ut.H[0],ut);if(ut.h)break;if(Qt||256>Yt){if(!Qt)if(Ut.nd)b[Rt]=(Ut.qb|Yt<<8)>>>0;else{if(gt(ut),Qt=Vn(Ut.G[1],Ut.H[1],ut),gt(ut),pe=Vn(Ut.G[2],Ut.H[2],ut),se=Vn(Ut.G[3],Ut.H[3],ut),ut.h)break;b[Rt]=(se<<24|Qt<<16|Yt<<8|pe)>>>0}if(Qt=!1,++Rt,++tt>=L&&(tt=0,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(p,Z),Tt!=null))for(;ot<Rt;)Yt=b[ot++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else if(280>Yt){if(Yt=Tr(Yt-256,ut),pe=Vn(Ut.G[4],Ut.H[4],ut),gt(ut),pe=Cr(L,pe=Tr(pe,ut)),ut.h)break;if(Rt-T<pe||V-Rt<Yt)break t;for(se=0;se<Yt;++se)b[Rt+se]=b[Rt+se-pe];for(Rt+=Yt,tt+=Yt;tt>=L;)tt-=L,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(p,Z);if(t(Rt<=V),tt&Pt&&(Ut=Mi(mt,tt,Z)),Tt!=null)for(;ot<Rt;)Yt=b[ot++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else{if(!(Yt<Et))break t;for(Qt=Yt-280,t(Tt!=null);ot<Rt;)Yt=b[ot++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt;Yt=Rt,t(!(Qt>>>(pe=Tt).Xa)),b[Yt]=pe.X[Qt],Qt=!0}Qt||t(ut.h==K(ut))}if(p.Pb&&ut.h&&Rt<V)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&te(p.s.vb,p.s.Wa);else{if(ut.h)break t;Y?.(p,Z>G?G:Z),p.a=0,p.$=Rt-T}return 1}return p.a=3,0}function ra(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,t(p!=null)}function ys(){var p=new Le;return p==null?null:(p.a=0,p.xb=Dh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ii=$e,zl=qe,Fl=ci,Ks=Qe,$s=Ce,Rs=Pe,rl=Ke,w.VP8LMapColor32b=Cs,w.VP8LMapColor8b=vr,p)}function xa(p,b,T,L,V){var G=1,Y=[p],Z=[b],tt=L.m,ut=L.s,mt=null,Rt=0;t:for(;;){if(T)for(;G&&X(tt,1);){var ot=Y,xt=Z,Et=L,zt=1,Tt=Et.m,Pt=Et.gc[Et.ab],Ut=X(Tt,2);if(Et.Oc&1<<Ut)G=0;else{switch(Et.Oc|=1<<Ut,Pt.hc=Ut,Pt.Ea=ot[0],Pt.nc=xt[0],Pt.K=[null],++Et.ab,t(4>=Et.ab),Ut){case 0:case 1:Pt.b=X(Tt,3)+2,zt=xa(Vt(Pt.Ea,Pt.b),Vt(Pt.nc,Pt.b),0,Et,Pt.K),Pt.K=Pt.K[0];break;case 3:var Qt,Yt=X(Tt,8)+1,pe=16<Yt?0:4<Yt?1:2<Yt?2:3;if(ot[0]=Vt(Pt.Ea,pe),Pt.b=pe,Qt=zt=xa(Yt,1,0,Et,Pt.K)){var se,He=Yt,he=Pt,dn=1<<(8>>he.b),oi=o(dn);if(oi==null)Qt=0;else{var Je=he.K[0],oe=he.w;for(oi[0]=he.K[0][0],se=1;se<1*He;++se)oi[se]=re(Je[oe+se],oi[se-1]);for(;se<4*dn;++se)oi[se]=0;he.K[0]=null,he.K[0]=oi,Qt=1}}zt=Qt;break;case 2:break;default:t(0)}G=zt}}if(Y=Y[0],Z=Z[0],G&&X(tt,1)&&!(G=1<=(Rt=X(tt,4))&&11>=Rt)){L.a=3;break t}var Jt;if(Jt=G)e:{var di,ze,rn,Fn=L,Ki=Y,Sr=Z,ei=Rt,zi=T,Or=Fn.m,Fi=Fn.s,un=[null],En=1,pi=0,Dn=Ua[ei];n:for(;;){if(zi&&X(Or,1)){var $i=X(Or,3)+2,gi=Vt(Ki,$i),Tn=Vt(Sr,$i),ji=gi*Tn;if(!xa(gi,Tn,0,Fn,un))break n;for(un=un[0],Fi.xc=$i,di=0;di<ji;++di){var Bn=un[di]>>8&65535;un[di]=Bn,Bn>=En&&(En=Bn+1)}}if(Or.h)break n;for(ze=0;5>ze;++ze){var Bi=ll[ze];!ze&&0<ei&&(Bi+=1<<ei),pi<Bi&&(pi=Bi)}var Ui=c(En*Dn,E),Wn=En,An=c(Wn,yt);if(An==null)var Pr=null;else t(65536>=Wn),Pr=An;var Ai=o(pi);if(Pr==null||Ai==null||Ui==null){Fn.a=1;break n}var Ie=Ui;for(di=rn=0;di<En;++di){var De=Pr[di],Cn=De.G,ca=De.H,Ga=0,Zr=1,Vi=0;for(ze=0;5>ze;++ze){Bi=ll[ze],Cn[ze]=Ie,ca[ze]=rn,!ze&&0<ei&&(Bi+=1<<ei);r:{var Do,jo=Bi,Nc=Fn,ni=Ai,kh=Ie,Mh=rn,Rc=0,Js=Nc.m,l1=X(Js,1);if(s(ni,0,0,jo),l1){var Oh=X(Js,1)+1,Ph=X(Js,1),Ic=X(Js,Ph==0?1:8);ni[Ic]=1,Oh==2&&(ni[Ic=X(Js,8)]=1);var ar=1}else{var Ei=o(19),Uu=X(Js,4)+4;if(19<Uu){Nc.a=3;var ko=0;break r}for(Do=0;Do<Uu;++Do)Ei[zu[Do]]=X(Js,3);var Yl=void 0,hl=void 0,Ds=Nc,Lc=Ei,Wl=jo,Dc=ni,jc=0,to=Ds.m,zh=8,Fh=c(128,E);i:for(;R(Fh,0,7,Lc,19);){if(X(to,1)){var Zf=2+2*X(to,3);if((Yl=2+X(to,Zf))>Wl)break i}else Yl=Wl;for(hl=0;hl<Wl&&Yl--;){gt(to);var Bh=Fh[0+(127&W(to))];ht(to,to.u+Bh.g);var Mo=Bh.value;if(16>Mo)Dc[hl++]=Mo,Mo!=0&&(zh=Mo);else{var Jf=Mo==16,td=Mo-16,ed=Vl[td],Uh=X(to,Fa[td])+ed;if(hl+Uh>Wl)break i;for(var nd=Jf?zh:0;0<Uh--;)Dc[hl++]=nd}}jc=1;break i}jc||(Ds.a=3),ar=jc}(ar=ar&&!Js.h)&&(Rc=R(kh,Mh,8,ni,jo)),ar&&Rc!=0?ko=Rc:(Nc.a=3,ko=0)}if(ko==0)break n;if(Zr&&wc[ze]==1&&(Zr=Ie[rn].g==0),Ga+=Ie[rn].g,rn+=ko,3>=ze){var fl,kc=Ai[0];for(fl=1;fl<Bi;++fl)Ai[fl]>kc&&(kc=Ai[fl]);Vi+=kc}}if(De.nd=Zr,De.Qb=0,Zr&&(De.qb=(Cn[3][ca[3]+0].value<<24|Cn[1][ca[1]+0].value<<16|Cn[2][ca[2]+0].value)>>>0,Ga==0&&256>Cn[0][ca[0]+0].value&&(De.Qb=1,De.qb+=Cn[0][ca[0]+0].value<<8)),De.jc=!De.Qb&&6>Vi,De.jc){var Vu,js=De;for(Vu=0;Vu<Ao;++Vu){var eo=Vu,no=js.pd[eo],Mc=js.G[0][js.H[0]+eo];256<=Mc.value?(no.g=Mc.g+256,no.value=Mc.value):(no.g=0,no.value=0,eo>>=Xn(Mc,8,no),eo>>=Xn(js.G[1][js.H[1]+eo],16,no),eo>>=Xn(js.G[2][js.H[2]+eo],0,no),Xn(js.G[3][js.H[3]+eo],24,no))}}}Fi.vc=un,Fi.Wb=En,Fi.Ya=Pr,Fi.yc=Ui,Jt=1;break e}Jt=0}if(!(G=Jt)){L.a=3;break t}if(0<Rt){if(ut.ua=1<<Rt,!at(ut.Wa,Rt)){L.a=1,G=0;break t}}else ut.ua=0;var Oc=L,dl=Y,id=Z,Kl=Oc.s,$l=Kl.xc;if(Oc.c=dl,Oc.i=id,Kl.md=Vt(dl,$l),Kl.wc=$l==0?-1:(1<<$l)-1,T){L.xb=Co;break t}if((mt=o(Y*Z))==null){L.a=1,G=0;break t}G=(G=Nr(L,mt,0,Y,Z,Z,null))&&!tt.h;break t}return G?(V!=null?V[0]=mt:(t(mt==null),t(T)),L.$=0,T||ra(ut)):ra(ut),G}function Rr(p,b){var T=p.c*p.i,L=T+b+16*b;return t(p.c<=b),p.V=o(L),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+b,1)}function es(p,b){var T=p.C,L=b-T,V=p.V,G=p.Ba+p.c*T;for(t(b<=p.l.o);0<L;){var Y=16<L?16:L,Z=p.l.ma,tt=p.l.width,ut=tt*Y,mt=Z.ca,Rt=Z.tb+tt*T,ot=p.Ta,xt=p.Ua;dr(p,Y,V,G),Na(ot,xt,mt,Rt,ut),Gn(Z,T,T+Y,mt,Rt,tt),L-=Y,V+=Y*p.c,T+=Y}t(T==b),p.C=p.Ma=b}function Vr(){this.ub=this.yd=this.td=this.Rb=0}function pr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function aa(){this.Yb=(function(){var p=[];return(function b(T,L,V){for(var G=V[L],Y=0;Y<G&&(T.push(V.length>L+1?[]:0),!(V.length<L+1));Y++)b(T[Y],L+1,V)})(p,0,[3,11]),p})()}function fi(){this.jb=o(3),this.Wc=h([4,8],aa),this.Xc=h([4,17],aa)}function mo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function sa(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new zs),this.aa=0,this.l=new nr}function vo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Vr,this.Kc=new pr,this.ed=new mo,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new yo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,j),this.ia=0,this.pb=c(4,_a),this.Pa=new fi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vo),this.Hd=0,this.rb=Array(new sa),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zs),this.L=this.aa=0,this.gd=h([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hr(p,b){return 0>p?0:p>b?b:p}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _i(){var p=new Xo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ra||(Ra=vn)),p}function cn(p,b,T){return p.a==0&&(p.a=b,p.sc=T,p.cb=0),0}function ns(p,b,T){return 3<=T&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function oa(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return cn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,L=b.w,V=b.ha;if(4>V)return cn(p,7,"Truncated header.");var G=T[L+0]|T[L+1]<<8|T[L+2]<<16,Y=p.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return cn(p,3,"Incorrect keyframe parameters.");if(!Y.yd)return cn(p,4,"Frame not displayable.");L+=3,V-=3;var Z=p.Kc;if(Y.Rb){if(7>V)return cn(p,7,"cannot parse picture header");if(!ns(T,L,V))return cn(p,3,"Bad code word");Z.c=16383&(T[L+4]<<8|T[L+3]),Z.Td=T[L+4]>>6,Z.i=16383&(T[L+6]<<8|T[L+5]),Z.Ud=T[L+6]>>6,L+=7,V-=7,p.za=Z.c+15>>4,p.Ub=Z.i+15>>4,b.width=Z.c,b.height=Z.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((G=p.Pa).jb,0,255,G.jb.length),t((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(Y.ub>V)return cn(p,7,"bad partition length");st(G=p.m,T,L,Y.ub),L+=Y.ub,V-=Y.ub,Y.Rb&&(Z.Ld=Nt(G),Z.Kd=Nt(G)),Z=p.Qa;var tt,ut=p.Pa;if(t(G!=null),t(Z!=null),Z.Cb=Nt(G),Z.Cb){if(Z.Bb=Nt(G),Nt(G)){for(Z.Fb=Nt(G),tt=0;4>tt;++tt)Z.Zb[tt]=Nt(G)?U(G,7):0;for(tt=0;4>tt;++tt)Z.Lb[tt]=Nt(G)?U(G,6):0}if(Z.Bb)for(tt=0;3>tt;++tt)ut.jb[tt]=Nt(G)?ft(G,8):255}else Z.Bb=0;if(G.Ka)return cn(p,3,"cannot parse segment header");if((Z=p.ed).zd=Nt(G),Z.Tb=ft(G,6),Z.wb=ft(G,3),Z.Pc=Nt(G),Z.Pc&&Nt(G)){for(ut=0;4>ut;++ut)Nt(G)&&(Z.vd[ut]=U(G,6));for(ut=0;4>ut;++ut)Nt(G)&&(Z.od[ut]=U(G,6))}if(p.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return cn(p,3,"cannot parse filter header");var mt=V;if(V=tt=L,L=tt+mt,Z=mt,p.Xb=(1<<ft(p.m,2))-1,mt<3*(ut=p.Xb))T=7;else{for(tt+=3*ut,Z-=3*ut,mt=0;mt<ut;++mt){var Rt=T[V+0]|T[V+1]<<8|T[V+2]<<16;Rt>Z&&(Rt=Z),st(p.Jc[+mt],T,tt,Rt),tt+=Rt,Z-=Rt,V+=3}st(p.Jc[+ut],T,tt,Z),T=tt<L?0:5}if(T!=0)return cn(p,T,"cannot parse partitions");for(T=ft(tt=p.m,7),V=Nt(tt)?U(tt,4):0,L=Nt(tt)?U(tt,4):0,Z=Nt(tt)?U(tt,4):0,ut=Nt(tt)?U(tt,4):0,tt=Nt(tt)?U(tt,4):0,mt=p.Qa,Rt=0;4>Rt;++Rt){if(mt.Cb){var ot=mt.Zb[Rt];mt.Fb||(ot+=T)}else{if(0<Rt){p.pb[Rt]=p.pb[0];continue}ot=T}var xt=p.pb[Rt];xt.Sc[0]=Va[Hr(ot+V,127)],xt.Sc[1]=qa[Hr(ot+0,127)],xt.Eb[0]=2*Va[Hr(ot+L,127)],xt.Eb[1]=101581*qa[Hr(ot+Z,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Va[Hr(ot+ut,117)],xt.Qc[1]=qa[Hr(ot+tt,127)],xt.lc=ot+tt}if(!Y.Rb)return cn(p,4,"Not a key frame.");for(Nt(G),Y=p.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(L=0;3>L;++L)for(Z=0;11>Z;++Z)ut=Ot(G,si[T][V][L][Z])?ft(G,8):Qf[T][V][L][Z],Y.Wc[T][V].Yb[L][Z]=ut;for(V=0;17>V;++V)Y.Xc[T][V]=Y.Wc[T][gn[V]]}return p.kc=Nt(G),p.kc&&(p.Bd=ft(G,8)),p.cb=1}function vn(p,b,T,L,V,G,Y){var Z=b[V].Yb[T];for(T=0;16>V;++V){if(!Ot(p,Z[T+0]))return V;for(;!Ot(p,Z[T+1]);)if(Z=b[++V].Yb[0],T=0,V==16)return 16;var tt=b[V+1].Yb;if(Ot(p,Z[T+2])){var ut=p,mt=0;if(Ot(ut,(ot=Z)[(Rt=T)+3]))if(Ot(ut,ot[Rt+6])){for(Z=0,Rt=2*(mt=Ot(ut,ot[Rt+8]))+(ot=Ot(ut,ot[Rt+9+mt])),mt=0,ot=$f[Rt];ot[Z];++Z)mt+=mt+Ot(ut,ot[Z]);mt+=3+(8<<Rt)}else Ot(ut,ot[Rt+7])?(mt=7+2*Ot(ut,165),mt+=Ot(ut,145)):mt=5+Ot(ut,159);else mt=Ot(ut,ot[Rt+4])?3+Ot(ut,ot[Rt+5]):2;Z=tt[2]}else mt=1,Z=tt[1];tt=Y+Lh[V],0>(ut=p).b&&Ct(ut);var Rt,ot=ut.b,xt=(Rt=ut.Ca>>1)-(ut.I>>ot)>>31;--ut.b,ut.Ca+=xt,ut.Ca|=1,ut.I-=(Rt+1&xt)<<ot,G[tt]=((mt^xt)-xt)*L[(0<V)+0]}return 16}function vs(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,b,T,L,V){V=p[b+T+32*L]+(V>>3),p[b+T+32*L]=-256&V?0>V?0:255:V}function ai(p,b,T,L,V,G){Ni(p,b,0,T,L+V),Ni(p,b,1,T,L+G),Ni(p,b,2,T,L-G),Ni(p,b,3,T,L-V)}function wi(p){return(20091*p>>16)+p}function Fs(p,b,T,L){var V,G=0,Y=o(16);for(V=0;4>V;++V){var Z=p[b+0]+p[b+8],tt=p[b+0]-p[b+8],ut=(35468*p[b+4]>>16)-wi(p[b+12]),mt=wi(p[b+4])+(35468*p[b+12]>>16);Y[G+0]=Z+mt,Y[G+1]=tt+ut,Y[G+2]=tt-ut,Y[G+3]=Z-mt,G+=4,b++}for(V=G=0;4>V;++V)Z=(p=Y[G+0]+4)+Y[G+8],tt=p-Y[G+8],ut=(35468*Y[G+4]>>16)-wi(Y[G+12]),Ni(T,L,0,0,Z+(mt=wi(Y[G+4])+(35468*Y[G+12]>>16))),Ni(T,L,1,0,tt+ut),Ni(T,L,2,0,tt-ut),Ni(T,L,3,0,Z-mt),G++,L+=32}function kl(p,b,T,L){var V=p[b+0]+4,G=35468*p[b+4]>>16,Y=wi(p[b+4]),Z=35468*p[b+1]>>16;ai(T,L,0,V+Y,p=wi(p[b+1]),Z),ai(T,L,1,V+G,p,Z),ai(T,L,2,V-G,p,Z),ai(T,L,3,V-Y,p,Z)}function Zo(p,b,T,L,V){Fs(p,b,T,L),V&&Fs(p,b+16,T,L+4)}function gr(p,b,T,L){Qs(p,b+0,T,L,1),Qs(p,b+32,T,L+128,1)}function Jo(p,b,T,L){var V;for(p=p[b+0]+4,V=0;4>V;++V)for(b=0;4>b;++b)Ni(T,L,b,V,p)}function is(p,b,T,L){p[b+0]&&Ln(p,b+0,T,L),p[b+16]&&Ln(p,b+16,T,L+4),p[b+32]&&Ln(p,b+32,T,L+128),p[b+48]&&Ln(p,b+48,T,L+128+4)}function Yi(p,b,T,L){var V,G=o(16);for(V=0;4>V;++V){var Y=p[b+0+V]+p[b+12+V],Z=p[b+4+V]+p[b+8+V],tt=p[b+4+V]-p[b+8+V],ut=p[b+0+V]-p[b+12+V];G[0+V]=Y+Z,G[8+V]=Y-Z,G[4+V]=ut+tt,G[12+V]=ut-tt}for(V=0;4>V;++V)Y=(p=G[0+4*V]+3)+G[3+4*V],Z=G[1+4*V]+G[2+4*V],tt=G[1+4*V]-G[2+4*V],ut=p-G[3+4*V],T[L+0]=Y+Z>>3,T[L+16]=ut+tt>>3,T[L+32]=Y-Z>>3,T[L+48]=ut-tt>>3,L+=64}function bs(p,b,T){var L,V=b-32,G=kr,Y=255-p[V-1];for(L=0;L<T;++L){var Z,tt=G,ut=Y+p[b-1];for(Z=0;Z<T;++Z)p[b+Z]=tt[ut+p[V+Z]];b+=32}}function tl(p,b){bs(p,b,4)}function el(p,b){bs(p,b,8)}function bo(p,b){bs(p,b,16)}function xo(p,b){var T;for(T=0;16>T;++T)r(p,b+32*T,p,b-32,16)}function rs(p,b){var T;for(T=16;0<T;--T)s(p,b,p[b-1],16),b+=32}function Lr(p,b,T){var L;for(L=0;16>L;++L)s(b,T+32*L,p,16)}function wa(p,b){var T,L=16;for(T=0;16>T;++T)L+=p[b-1+32*T]+p[b+T-32];Lr(L>>5,p,b)}function as(p,b){var T,L=8;for(T=0;16>T;++T)L+=p[b-1+32*T];Lr(L>>4,p,b)}function Dr(p,b){var T,L=8;for(T=0;16>T;++T)L+=p[b+T-32];Lr(L>>4,p,b)}function xs(p,b){Lr(128,p,b)}function Re(p,b,T){return p+2*b+T+2>>2}function Bs(p,b){var T,L=b-32;for(L=new Uint8Array([Re(p[L-1],p[L+0],p[L+1]),Re(p[L+0],p[L+1],p[L+2]),Re(p[L+1],p[L+2],p[L+3]),Re(p[L+2],p[L+3],p[L+4])]),T=0;4>T;++T)r(p,b+32*T,L,0,L.length)}function _o(p,b){var T=p[b-1],L=p[b-1+32],V=p[b-1+64],G=p[b-1+96];$t(p,b+0,16843009*Re(p[b-1-32],T,L)),$t(p,b+32,16843009*Re(T,L,V)),$t(p,b+64,16843009*Re(L,V,G)),$t(p,b+96,16843009*Re(V,G,G))}function _s(p,b){var T,L=4;for(T=0;4>T;++T)L+=p[b+T-32]+p[b-1+32*T];for(L>>=3,T=0;4>T;++T)s(p,b+32*T,L,4)}function Wi(p,b){var T=p[b-1+0],L=p[b-1+32],V=p[b-1+64],G=p[b-1-32],Y=p[b+0-32],Z=p[b+1-32],tt=p[b+2-32],ut=p[b+3-32];p[b+0+96]=Re(L,V,p[b-1+96]),p[b+1+96]=p[b+0+64]=Re(T,L,V),p[b+2+96]=p[b+1+64]=p[b+0+32]=Re(G,T,L),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Re(Y,G,T),p[b+3+64]=p[b+2+32]=p[b+1+0]=Re(Z,Y,G),p[b+3+32]=p[b+2+0]=Re(tt,Z,Y),p[b+3+0]=Re(ut,tt,Z)}function Pi(p,b){var T=p[b+1-32],L=p[b+2-32],V=p[b+3-32],G=p[b+4-32],Y=p[b+5-32],Z=p[b+6-32],tt=p[b+7-32];p[b+0+0]=Re(p[b+0-32],T,L),p[b+1+0]=p[b+0+32]=Re(T,L,V),p[b+2+0]=p[b+1+32]=p[b+0+64]=Re(L,V,G),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Re(V,G,Y),p[b+3+32]=p[b+2+64]=p[b+1+96]=Re(G,Y,Z),p[b+3+64]=p[b+2+96]=Re(Y,Z,tt),p[b+3+96]=Re(Z,tt,tt)}function Us(p,b){var T=p[b-1+0],L=p[b-1+32],V=p[b-1+64],G=p[b-1-32],Y=p[b+0-32],Z=p[b+1-32],tt=p[b+2-32],ut=p[b+3-32];p[b+0+0]=p[b+1+64]=G+Y+1>>1,p[b+1+0]=p[b+2+64]=Y+Z+1>>1,p[b+2+0]=p[b+3+64]=Z+tt+1>>1,p[b+3+0]=tt+ut+1>>1,p[b+0+96]=Re(V,L,T),p[b+0+64]=Re(L,T,G),p[b+0+32]=p[b+1+96]=Re(T,G,Y),p[b+1+32]=p[b+2+96]=Re(G,Y,Z),p[b+2+32]=p[b+3+96]=Re(Y,Z,tt),p[b+3+32]=Re(Z,tt,ut)}function Mn(p,b){var T=p[b+0-32],L=p[b+1-32],V=p[b+2-32],G=p[b+3-32],Y=p[b+4-32],Z=p[b+5-32],tt=p[b+6-32],ut=p[b+7-32];p[b+0+0]=T+L+1>>1,p[b+1+0]=p[b+0+64]=L+V+1>>1,p[b+2+0]=p[b+1+64]=V+G+1>>1,p[b+3+0]=p[b+2+64]=G+Y+1>>1,p[b+0+32]=Re(T,L,V),p[b+1+32]=p[b+0+96]=Re(L,V,G),p[b+2+32]=p[b+1+96]=Re(V,G,Y),p[b+3+32]=p[b+2+96]=Re(G,Y,Z),p[b+3+64]=Re(Y,Z,tt),p[b+3+96]=Re(Z,tt,ut)}function Gr(p,b){var T=p[b-1+0],L=p[b-1+32],V=p[b-1+64],G=p[b-1+96];p[b+0+0]=T+L+1>>1,p[b+2+0]=p[b+0+32]=L+V+1>>1,p[b+2+32]=p[b+0+64]=V+G+1>>1,p[b+1+0]=Re(T,L,V),p[b+3+0]=p[b+1+32]=Re(L,V,G),p[b+3+32]=p[b+1+64]=Re(V,G,G),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=G}function Vs(p,b){var T=p[b-1+0],L=p[b-1+32],V=p[b-1+64],G=p[b-1+96],Y=p[b-1-32],Z=p[b+0-32],tt=p[b+1-32],ut=p[b+2-32];p[b+0+0]=p[b+2+32]=T+Y+1>>1,p[b+0+32]=p[b+2+64]=L+T+1>>1,p[b+0+64]=p[b+2+96]=V+L+1>>1,p[b+0+96]=G+V+1>>1,p[b+3+0]=Re(Z,tt,ut),p[b+2+0]=Re(Y,Z,tt),p[b+1+0]=p[b+3+32]=Re(T,Y,Z),p[b+1+32]=p[b+3+64]=Re(L,T,Y),p[b+1+64]=p[b+3+96]=Re(V,L,T),p[b+1+96]=Re(G,V,L)}function Sa(p,b){var T;for(T=0;8>T;++T)r(p,b+32*T,p,b-32,8)}function nl(p,b){var T;for(T=0;8>T;++T)s(p,b,p[b-1],8),b+=32}function Yr(p,b,T){var L;for(L=0;8>L;++L)s(b,T+32*L,p,8)}function ss(p,b){var T,L=8;for(T=0;8>T;++T)L+=p[b+T-32]+p[b-1+32*T];Yr(L>>4,p,b)}function Wr(p,b){var T,L=4;for(T=0;8>T;++T)L+=p[b+T-32];Yr(L>>3,p,b)}function Ri(p,b){var T,L=4;for(T=0;8>T;++T)L+=p[b-1+32*T];Yr(L>>3,p,b)}function La(p,b){Yr(128,p,b)}function ir(p,b,T){var L=p[b-T],V=p[b+0],G=3*(V-L)+Xs[1020+p[b-2*T]-p[b+T]],Y=Mu[112+(G+4>>3)];p[b-T]=kr[255+L+Mu[112+(G+3>>3)]],p[b+0]=kr[255+V-Y]}function Da(p,b,T,L){var V=p[b+0],G=p[b+T];return br[255+p[b-2*T]-p[b-T]]>L||br[255+G-V]>L}function ws(p,b,T,L){return 4*br[255+p[b-T]-p[b+0]]+br[255+p[b-2*T]-p[b+T]]<=L}function ja(p,b,T,L,V){var G=p[b-3*T],Y=p[b-2*T],Z=p[b-T],tt=p[b+0],ut=p[b+T],mt=p[b+2*T],Rt=p[b+3*T];return 4*br[255+Z-tt]+br[255+Y-ut]>L?0:br[255+p[b-4*T]-G]<=V&&br[255+G-Y]<=V&&br[255+Y-Z]<=V&&br[255+Rt-mt]<=V&&br[255+mt-ut]<=V&&br[255+ut-tt]<=V}function ka(p,b,T,L){var V=2*L+1;for(L=0;16>L;++L)ws(p,b+L,T,V)&&ir(p,b+L,T)}function la(p,b,T,L){var V=2*L+1;for(L=0;16>L;++L)ws(p,b+L*T,1,V)&&ir(p,b+L*T,1)}function qs(p,b,T,L){var V;for(V=3;0<V;--V)ka(p,b+=4*T,T,L)}function wo(p,b,T,L){var V;for(V=3;0<V;--V)la(p,b+=4,T,L)}function Kr(p,b,T,L,V,G,Y,Z){for(G=2*G+1;0<V--;){if(ja(p,b,T,G,Y))if(Da(p,b,T,Z))ir(p,b,T);else{var tt=p,ut=b,mt=T,Rt=tt[ut-2*mt],ot=tt[ut-mt],xt=tt[ut+0],Et=tt[ut+mt],zt=tt[ut+2*mt],Tt=27*(Ut=Xs[1020+3*(xt-ot)+Xs[1020+Rt-Et]])+63>>7,Pt=18*Ut+63>>7,Ut=9*Ut+63>>7;tt[ut-3*mt]=kr[255+tt[ut-3*mt]+Ut],tt[ut-2*mt]=kr[255+Rt+Pt],tt[ut-mt]=kr[255+ot+Tt],tt[ut+0]=kr[255+xt-Tt],tt[ut+mt]=kr[255+Et-Pt],tt[ut+2*mt]=kr[255+zt-Ut]}b+=L}}function Ma(p,b,T,L,V,G,Y,Z){for(G=2*G+1;0<V--;){if(ja(p,b,T,G,Y))if(Da(p,b,T,Z))ir(p,b,T);else{var tt=p,ut=b,mt=T,Rt=tt[ut-mt],ot=tt[ut+0],xt=tt[ut+mt],Et=Mu[112+(4+(zt=3*(ot-Rt))>>3)],zt=Mu[112+(zt+3>>3)],Tt=Et+1>>1;tt[ut-2*mt]=kr[255+tt[ut-2*mt]+Tt],tt[ut-mt]=kr[255+Rt+zt],tt[ut+0]=kr[255+ot-Et],tt[ut+mt]=kr[255+xt-Tt]}b+=L}}function il(p,b,T,L,V,G){Kr(p,b,T,1,16,L,V,G)}function Aa(p,b,T,L,V,G){Kr(p,b,1,T,16,L,V,G)}function So(p,b,T,L,V,G){var Y;for(Y=3;0<Y;--Y)Ma(p,b+=4*T,T,1,16,L,V,G)}function S(p,b,T,L,V,G){var Y;for(Y=3;0<Y;--Y)Ma(p,b+=4,1,T,16,L,V,G)}function B(p,b,T,L,V,G,Y,Z){Kr(p,b,V,1,8,G,Y,Z),Kr(T,L,V,1,8,G,Y,Z)}function lt(p,b,T,L,V,G,Y,Z){Kr(p,b,1,V,8,G,Y,Z),Kr(T,L,1,V,8,G,Y,Z)}function pt(p,b,T,L,V,G,Y,Z){Ma(p,b+4*V,V,1,8,G,Y,Z),Ma(T,L+4*V,V,1,8,G,Y,Z)}function wt(p,b,T,L,V,G,Y,Z){Ma(p,b+4,1,V,8,G,Y,Z),Ma(T,L+4,1,V,8,G,Y,Z)}function Ft(){this.ba=new we,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function de(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new yt,this.yc=new E}function Le(){this.xb=this.a=0,this.l=new nr,this.ca=new we,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new de,this.ab=0,this.gc=c(4,le),this.Oc=0}function Ee(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(p,b,T,L,V,G,Y){for(p=p==null?0:p[b+0],b=0;b<Y;++b)V[G+b]=p+T[L+b]&255,p=V[G+b]}function Zn(p,b,T,L,V,G,Y){var Z;if(p==null)fn(null,null,T,L,V,G,Y);else for(Z=0;Z<Y;++Z)V[G+Z]=p[b+Z]+T[L+Z]&255}function qn(p,b,T,L,V,G,Y){if(p==null)fn(null,null,T,L,V,G,Y);else{var Z,tt=p[b+0],ut=tt,mt=tt;for(Z=0;Z<Y;++Z)ut=mt+(tt=p[b+Z])-ut,mt=T[L+Z]+(-256&ut?0>ut?0:255:ut)&255,ut=tt,V[G+Z]=mt}}function g(p,b,T,L){var V=b.width,G=b.o;if(t(p!=null&&b!=null),0>T||0>=L||T+L>G)return null;if(!p.Cc){if(p.ga==null){var Y;if(p.ga=new Ee,(Y=p.ga==null)||(Y=b.width*b.o,t(p.Gb.length==0),p.Gb=o(Y),p.Uc=0,p.Gb==null?Y=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Y=1),Y=!Y),!Y){Y=p.ga;var Z=p.Fa,tt=p.P,ut=p.qc,mt=p.mb,Rt=p.nb,ot=tt+1,xt=ut-1,Et=Y.l;if(t(Z!=null&&mt!=null&&b!=null),Zs[0]=null,Zs[1]=fn,Zs[2]=Zn,Zs[3]=qn,Y.ca=mt,Y.tb=Rt,Y.c=b.width,Y.i=b.height,t(0<Y.c&&0<Y.i),1>=ut)b=0;else if(Y.$a=3&Z[tt+0],Y.Z=Z[tt+0]>>2&3,Y.Lc=Z[tt+0]>>4&3,tt=Z[tt+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||tt)b=0;else if(Et.put=Ae,Et.ac=Gi,Et.bc=ts,Et.ma=Y,Et.width=b.width,Et.height=b.height,Et.Da=b.Da,Et.v=b.v,Et.va=b.va,Et.j=b.j,Et.o=b.o,Y.$a)t:{t(Y.$a==1),b=ys();e:for(;;){if(b==null){b=0;break t}if(t(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,ct(b.m,Z,ot,xt),!xa(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&kn(b.s)?(Y.ic=1,Z=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(Z),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=Rr(b,Y.c)),!b))break e;b=1;break t}Y.mc=null,b=0}else b=xt>=Y.c*Y.i;Y=!b}if(Y)return null;p.ga.Lc!=1?p.Ga=0:L=G-T}t(p.ga!=null),t(T+L<=G);t:{if(b=(Z=p.ga).c,G=Z.l.o,Z.$a==0){if(ot=p.rc,xt=p.Vc,Et=p.Fa,tt=p.P+1+T*b,ut=p.mb,mt=p.nb+T*b,t(tt<=p.P+p.qc),Z.Z!=0)for(t(Zs[Z.Z]!=null),Y=0;Y<L;++Y)Zs[Z.Z](ot,xt,Et,tt,ut,mt,b),ot=ut,xt=mt,mt+=b,tt+=b;else for(Y=0;Y<L;++Y)r(ut,mt,Et,tt,b),ot=ut,xt=mt,mt+=b,tt+=b;p.rc=ot,p.Vc=xt}else{if(t(Z.mc!=null),b=T+L,t((Y=Z.mc)!=null),t(b<=Y.i),Y.C>=b)b=1;else if(Z.ic||jt(),Z.ic){Z=Y.V,ot=Y.Ba,xt=Y.c;var zt=Y.i,Tt=(Et=1,tt=Y.$/xt,ut=Y.$%xt,mt=Y.m,Rt=Y.s,Y.$),Pt=xt*zt,Ut=xt*b,Qt=Rt.wc,Yt=Tt<Ut?Mi(Rt,ut,tt):null;t(Tt<=Pt),t(b<=zt),t(kn(Rt));e:for(;;){for(;!mt.h&&Tt<Ut;){if(ut&Qt||(Yt=Mi(Rt,ut,tt)),t(Yt!=null),gt(mt),256>(zt=Vn(Yt.G[0],Yt.H[0],mt)))Z[ot+Tt]=zt,++Tt,++ut>=xt&&(ut=0,++tt<=b&&!(tt%16)&&Oi(Y,tt));else{if(!(280>zt)){Et=0;break e}zt=Tr(zt-256,mt);var pe,se=Vn(Yt.G[4],Yt.H[4],mt);if(gt(mt),!(Tt>=(se=Cr(xt,se=Tr(se,mt)))&&Pt-Tt>=zt)){Et=0;break e}for(pe=0;pe<zt;++pe)Z[ot+Tt+pe]=Z[ot+Tt+pe-se];for(Tt+=zt,ut+=zt;ut>=xt;)ut-=xt,++tt<=b&&!(tt%16)&&Oi(Y,tt);Tt<Ut&&ut&Qt&&(Yt=Mi(Rt,ut,tt))}t(mt.h==K(mt))}Oi(Y,tt>b?b:tt);break e}!Et||mt.h&&Tt<Pt?(Et=0,Y.a=mt.h?5:3):Y.$=Tt,b=Et}else b=Nr(Y,Y.V,Y.Ba,Y.c,Y.i,b,es);if(!b){L=0;break t}}T+L>=G&&(p.Cc=1),L=1}if(!L)return null;if(p.Cc&&((L=p.ga)!=null&&(L.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*V}function N(p,b,T,L,V,G){for(;0<V--;){var Y,Z=p,tt=b+(T?1:0),ut=p,mt=b+(T?0:3);for(Y=0;Y<L;++Y){var Rt=ut[mt+4*Y];Rt!=255&&(Rt*=32897,Z[tt+4*Y+0]=Z[tt+4*Y+0]*Rt>>23,Z[tt+4*Y+1]=Z[tt+4*Y+1]*Rt>>23,Z[tt+4*Y+2]=Z[tt+4*Y+2]*Rt>>23)}b+=G}}function k(p,b,T,L,V){for(;0<L--;){var G;for(G=0;G<T;++G){var Y=p[b+2*G+0],Z=15&(ut=p[b+2*G+1]),tt=4369*Z,ut=(240&ut|ut>>4)*tt>>16;p[b+2*G+0]=(240&Y|Y>>4)*tt>>16&240|(15&Y|Y<<4)*tt>>16>>4&15,p[b+2*G+1]=240&ut|Z}b+=V}}function J(p,b,T,L,V,G,Y,Z){var tt,ut,mt=255;for(ut=0;ut<V;++ut){for(tt=0;tt<L;++tt){var Rt=p[b+tt];G[Y+4*tt]=Rt,mt&=Rt}b+=T,Y+=Z}return mt!=255}function At(p,b,T,L,V){var G;for(G=0;G<V;++G)T[L+G]=p[b+G]>>8}function jt(){sl=N,Pa=k,Du=J,Na=At}function Xt(p,b,T){w[p]=function(L,V,G,Y,Z,tt,ut,mt,Rt,ot,xt,Et,zt,Tt,Pt,Ut,Qt){var Yt,pe=Qt-1>>1,se=Z[tt+0]|ut[mt+0]<<16,He=Rt[ot+0]|xt[Et+0]<<16;t(L!=null);var he=3*se+He+131074>>2;for(b(L[V+0],255&he,he>>16,zt,Tt),G!=null&&(he=3*He+se+131074>>2,b(G[Y+0],255&he,he>>16,Pt,Ut)),Yt=1;Yt<=pe;++Yt){var dn=Z[tt+Yt]|ut[mt+Yt]<<16,oi=Rt[ot+Yt]|xt[Et+Yt]<<16,Je=se+dn+He+oi+524296,oe=Je+2*(dn+He)>>3;he=oe+se>>1,se=(Je=Je+2*(se+oi)>>3)+dn>>1,b(L[V+2*Yt-1],255&he,he>>16,zt,Tt+(2*Yt-1)*T),b(L[V+2*Yt-0],255&se,se>>16,zt,Tt+(2*Yt-0)*T),G!=null&&(he=Je+He>>1,se=oe+oi>>1,b(G[Y+2*Yt-1],255&he,he>>16,Pt,Ut+(2*Yt-1)*T),b(G[Y+2*Yt+0],255&se,se>>16,Pt,Ut+(2*Yt+0)*T)),se=dn,He=oi}1&Qt||(he=3*se+He+131074>>2,b(L[V+Qt-1],255&he,he>>16,zt,Tt+(Qt-1)*T),G!=null&&(he=3*He+se+131074>>2,b(G[Y+Qt-1],255&he,he>>16,Pt,Ut+(Qt-1)*T)))}}function Ve(){_r[vc]=ul,_r[Mr]=ql,_r[bc]=jh,_r[za]=Ac,_r[Ou]=No,_r[Bl]=Ls,_r[Eo]=Ro,_r[Pu]=ql,_r[xc]=Ac,_r[Ul]=No,_r[_c]=Ls}function Jn(p){return p&-16384?0>p?0:255:p>>Ec}function ln(p,b){return Jn((19077*p>>8)+(26149*b>>8)-14234)}function On(p,b,T){return Jn((19077*p>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function rr(p,b){return Jn((19077*p>>8)+(33050*b>>8)-17685)}function mr(p,b,T,L,V){L[V+0]=ln(p,T),L[V+1]=On(p,b,T),L[V+2]=rr(p,b)}function Yn(p,b,T,L,V){L[V+0]=rr(p,b),L[V+1]=On(p,b,T),L[V+2]=ln(p,T)}function yr(p,b,T,L,V){var G=On(p,b,T);b=G<<3&224|rr(p,b)>>3,L[V+0]=248&ln(p,T)|G>>5,L[V+1]=b}function Ea(p,b,T,L,V){var G=240&rr(p,b)|15;L[V+0]=240&ln(p,T)|On(p,b,T)>>4,L[V+1]=G}function Ss(p,b,T,L,V){L[V+0]=255,mr(p,b,T,L,V+1)}function As(p,b,T,L,V){Yn(p,b,T,L,V),L[V+3]=255}function $r(p,b,T,L,V){mr(p,b,T,L,V),L[V+3]=255}function Hs(p,b,T){w[p]=function(L,V,G,Y,Z,tt,ut,mt,Rt){for(var ot=mt+(-2&Rt)*T;mt!=ot;)b(L[V+0],G[Y+0],Z[tt+0],ut,mt),b(L[V+1],G[Y+0],Z[tt+0],ut,mt+T),V+=2,++Y,++tt,mt+=2*T;1&Rt&&b(L[V+0],G[Y+0],Z[tt+0],ut,mt)}}function Ml(p,b,T){return T==0?p==0?b==0?6:5:b==0?4:0:T}function Ru(p,b,T,L,V){switch(p>>>30){case 3:Qs(b,T,L,V,0);break;case 2:jr(b,T,L,V);break;case 1:Ln(b,T,L,V)}}function Ta(p,b){var T,L,V=b.M,G=b.Nb,Y=p.oc,Z=p.pc+40,tt=p.oc,ut=p.pc+584,mt=p.oc,Rt=p.pc+600;for(T=0;16>T;++T)Y[Z+32*T-1]=129;for(T=0;8>T;++T)tt[ut+32*T-1]=129,mt[Rt+32*T-1]=129;for(0<V?Y[Z-1-32]=tt[ut-1-32]=mt[Rt-1-32]=129:(s(Y,Z-32-1,127,21),s(tt,ut-32-1,127,9),s(mt,Rt-32-1,127,9)),L=0;L<p.za;++L){var ot=b.ya[b.aa+L];if(0<L){for(T=-1;16>T;++T)r(Y,Z+32*T-4,Y,Z+32*T+12,4);for(T=-1;8>T;++T)r(tt,ut+32*T-4,tt,ut+32*T+4,4),r(mt,Rt+32*T-4,mt,Rt+32*T+4,4)}var xt=p.Gd,Et=p.Hd+L,zt=ot.ad,Tt=ot.Hc;if(0<V&&(r(Y,Z-32,xt[Et].y,0,16),r(tt,ut-32,xt[Et].f,0,8),r(mt,Rt-32,xt[Et].ea,0,8)),ot.Za){var Pt=Y,Ut=Z-32+16;for(0<V&&(L>=p.za-1?s(Pt,Ut,xt[Et].y[15],4):r(Pt,Ut,xt[Et+1].y,0,4)),T=0;4>T;T++)Pt[Ut+128+T]=Pt[Ut+256+T]=Pt[Ut+384+T]=Pt[Ut+0+T];for(T=0;16>T;++T,Tt<<=2)Pt=Y,Ut=Z+Di[T],Si[ot.Ob[T]](Pt,Ut),Ru(Tt,zt,16*+T,Pt,Ut)}else if(Pt=Ml(L,V,ot.Ob[0]),Xr[Pt](Y,Z),Tt!=0)for(T=0;16>T;++T,Tt<<=2)Ru(Tt,zt,16*+T,Y,Z+Di[T]);for(T=ot.Gc,Pt=Ml(L,V,ot.Dd),cs[Pt](tt,ut),cs[Pt](mt,Rt),Tt=zt,Pt=tt,Ut=ut,255&(ot=0|T)&&(170&ot?Oa(Tt,256,Pt,Ut):Sn(Tt,256,Pt,Ut)),ot=mt,Tt=Rt,255&(T>>=8)&&(170&T?Oa(zt,320,ot,Tt):Sn(zt,320,ot,Tt)),V<p.Ub-1&&(r(xt[Et].y,0,Y,Z+480,16),r(xt[Et].f,0,tt,ut+224,8),r(xt[Et].ea,0,mt,Rt+224,8)),T=8*G*p.B,xt=p.sa,Et=p.ta+16*L+16*G*p.R,zt=p.qa,ot=p.ra+8*L+T,Tt=p.Ha,Pt=p.Ia+8*L+T,T=0;16>T;++T)r(xt,Et+T*p.R,Y,Z+32*T,16);for(T=0;8>T;++T)r(zt,ot+T*p.B,tt,ut+32*T,8),r(Tt,Pt+T*p.B,mt,Rt+32*T,8)}}function os(p,b,T,L,V,G,Y,Z,tt){var ut=[0],mt=[0],Rt=0,ot=tt!=null?tt.kd:0,xt=tt??new Wt;if(p==null||12>T)return 7;xt.data=p,xt.w=b,xt.ha=T,b=[b],T=[T],xt.gb=[xt.gb];t:{var Et=b,zt=T,Tt=xt.gb;if(t(p!=null),t(zt!=null),t(Tt!=null),Tt[0]=0,12<=zt[0]&&!e(p,Et[0],"RIFF")){if(e(p,Et[0]+8,"WEBP")){Tt=3;break t}var Pt=ce(p,Et[0]+4);if(12>Pt||4294967286<Pt){Tt=3;break t}if(ot&&Pt>zt[0]-8){Tt=7;break t}Tt[0]=Pt,Et[0]+=12,zt[0]-=12}Tt=0}if(Tt!=0)return Tt;for(Pt=0<xt.gb[0],T=T[0];;){t:{var Ut=p;zt=b,Tt=T;var Qt=ut,Yt=mt,pe=Et=[0];if((he=Rt=[Rt])[0]=0,8>Tt[0])Tt=7;else{if(!e(Ut,zt[0],"VP8X")){if(ce(Ut,zt[0]+4)!=10){Tt=3;break t}if(18>Tt[0]){Tt=7;break t}var se=ce(Ut,zt[0]+8),He=1+ee(Ut,zt[0]+12);if(2147483648<=He*(Ut=1+ee(Ut,zt[0]+15))){Tt=3;break t}pe!=null&&(pe[0]=se),Qt!=null&&(Qt[0]=He),Yt!=null&&(Yt[0]=Ut),zt[0]+=18,Tt[0]-=18,he[0]=1}Tt=0}}if(Rt=Rt[0],Et=Et[0],Tt!=0)return Tt;if(zt=!!(2&Et),!Pt&&Rt)return 3;if(G!=null&&(G[0]=!!(16&Et)),Y!=null&&(Y[0]=zt),Z!=null&&(Z[0]=0),Y=ut[0],Et=mt[0],Rt&&zt&&tt==null){Tt=0;break}if(4>T){Tt=7;break}if(Pt&&Rt||!Pt&&!Rt&&!e(p,b[0],"ALPH")){T=[T],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{se=p,Tt=b,Pt=T;var he=xt.gb;Qt=xt.na,Yt=xt.P,pe=xt.Sa,He=22,t(se!=null),t(Pt!=null),Ut=Tt[0];var dn=Pt[0];for(t(Qt!=null),t(pe!=null),Qt[0]=null,Yt[0]=null,pe[0]=0;;){if(Tt[0]=Ut,Pt[0]=dn,8>dn){Tt=7;break t}var oi=ce(se,Ut+4);if(4294967286<oi){Tt=3;break t}var Je=8+oi+1&-2;if(He+=Je,0<he&&He>he){Tt=3;break t}if(!e(se,Ut,"VP8 ")||!e(se,Ut,"VP8L")){Tt=0;break t}if(dn[0]<Je){Tt=7;break t}e(se,Ut,"ALPH")||(Qt[0]=se,Yt[0]=Ut+8,pe[0]=oi),Ut+=Je,dn-=Je}}if(T=T[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],Tt!=0)break}T=[T],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(he=p,Tt=b,Pt=T,Qt=xt.gb[0],Yt=xt.Ja,pe=xt.xa,se=Tt[0],Ut=!e(he,se,"VP8 "),He=!e(he,se,"VP8L"),t(he!=null),t(Pt!=null),t(Yt!=null),t(pe!=null),8>Pt[0])Tt=7;else{if(Ut||He){if(he=ce(he,se+4),12<=Qt&&he>Qt-12){Tt=3;break t}if(ot&&he>Pt[0]-8){Tt=7;break t}Yt[0]=he,Tt[0]+=8,Pt[0]-=8,pe[0]=He}else pe[0]=5<=Pt[0]&&he[se+0]==47&&!(he[se+4]>>5),Yt[0]=Pt[0];Tt=0}if(T=T[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],b=b[0],Tt!=0)break;if(4294967286<xt.Ja)return 3;if(Z==null||zt||(Z[0]=xt.xa?2:1),Y=[Y],Et=[Et],xt.xa){if(5>T){Tt=7;break}Z=Y,ot=Et,zt=G,p==null||5>T?p=0:5<=T&&p[b+0]==47&&!(p[b+4]>>5)?(Pt=[0],he=[0],Qt=[0],ct(Yt=new P,p,b,T),Ur(Yt,Pt,he,Qt)?(Z!=null&&(Z[0]=Pt[0]),ot!=null&&(ot[0]=he[0]),zt!=null&&(zt[0]=Qt[0]),p=1):p=0):p=0}else{if(10>T){Tt=7;break}Z=Et,p==null||10>T||!ns(p,b+3,T-3)?p=0:(ot=p[b+0]|p[b+1]<<8|p[b+2]<<16,zt=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&ot||3<(ot>>1&7)||!(ot>>4&1)||ot>>5>=xt.Ja||!zt||!p?p=0:(Y&&(Y[0]=zt),Z&&(Z[0]=p),p=1))}if(!p||(Y=Y[0],Et=Et[0],Rt&&(ut[0]!=Y||mt[0]!=Et)))return 3;tt!=null&&(tt[0]=xt,tt.offset=b-tt.w,t(4294967286>b-tt.w),t(tt.offset==tt.ha-T));break}return Tt==0||Tt==7&&Rt&&tt==null?(G!=null&&(G[0]|=xt.na!=null&&0<xt.na.length),L!=null&&(L[0]=Y),V!=null&&(V[0]=Et),0):Tt}function Gs(p,b,T){var L=b.width,V=b.height,G=0,Y=0,Z=L,tt=V;if(b.Da=p!=null&&0<p.Da,b.Da&&(Z=p.cd,tt=p.bd,G=p.v,Y=p.j,11>T||(G&=-2,Y&=-2),0>G||0>Y||0>=Z||0>=tt||G+Z>L||Y+tt>V))return 0;if(b.v=G,b.j=Y,b.va=G+Z,b.o=Y+tt,b.U=Z,b.T=tt,b.da=p!=null&&0<p.da,b.da){if(!Te(Z,tt,T=[p.ib],G=[p.hb]))return 0;b.ib=T[0],b.hb=G[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*L/4&&b.hb<3*V/4,b.Kb=0),1}function Iu(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function ls(p,b,T,L){if(L==null||0>=p||0>=b)return 2;if(T!=null){if(T.Da){var V=T.cd,G=T.bd,Y=-2&T.v,Z=-2&T.j;if(0>Y||0>Z||0>=V||0>=G||Y+V>p||Z+G>b)return 2;p=V,b=G}if(T.da){if(!Te(p,b,V=[T.ib],G=[T.hb]))return 2;p=V[0],b=G[0]}}L.width=p,L.height=b;t:{var tt=L.width,ut=L.height;if(p=L.S,0>=tt||0>=ut||!(p>=vc&&13>p))p=2;else{if(0>=L.Rd&&L.sd==null){Y=G=V=b=0;var mt=(Z=tt*Cc[p])*ut;if(11>p||(G=(ut+1)/2*(b=(tt+1)/2),p==12&&(Y=(V=tt)*ut)),(ut=o(mt+2*G+Y))==null){p=1;break t}L.sd=ut,11>p?((tt=L.f.RGBA).eb=ut,tt.fb=0,tt.A=Z,tt.size=mt):((tt=L.f.kb).y=ut,tt.O=0,tt.fa=Z,tt.Fd=mt,tt.f=ut,tt.N=0+mt,tt.Ab=b,tt.Cd=G,tt.ea=ut,tt.W=0+mt+G,tt.Db=b,tt.Ed=G,p==12&&(tt.F=ut,tt.J=0+mt+2*G),tt.Tc=Y,tt.lb=V)}if(b=1,V=L.S,G=L.width,Y=L.height,V>=vc&&13>V)if(11>V)p=L.f.RGBA,b&=(Z=Math.abs(p.A))*(Y-1)+G<=p.size,b&=Z>=G*Cc[V],b&=p.eb!=null;else{p=L.f.kb,Z=(G+1)/2,mt=(Y+1)/2,tt=Math.abs(p.fa),ut=Math.abs(p.Ab);var Rt=Math.abs(p.Db),ot=Math.abs(p.lb),xt=ot*(Y-1)+G;b&=tt*(Y-1)+G<=p.Fd,b&=ut*(mt-1)+Z<=p.Cd,b=(b&=Rt*(mt-1)+Z<=p.Ed)&tt>=G&ut>=Z&Rt>=Z,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,V==12&&(b&=ot>=G,b&=xt<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||T!=null&&T.fd&&(p=Iu(L)),p}var Ao=64,ua=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qr=24,Es=32,Ts=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(p){return p},w.Predictor2=function(p,b,T){return b[T+0]},w.Predictor3=function(p,b,T){return b[T+1]},w.Predictor4=function(p,b,T){return b[T-1]},w.Predictor5=function(p,b,T){return _e(_e(p,b[T+1]),b[T+0])},w.Predictor6=function(p,b,T){return _e(p,b[T-1])},w.Predictor7=function(p,b,T){return _e(p,b[T+0])},w.Predictor8=function(p,b,T){return _e(b[T-1],b[T+0])},w.Predictor9=function(p,b,T){return _e(b[T+0],b[T+1])},w.Predictor10=function(p,b,T){return _e(_e(p,b[T-1]),_e(b[T+0],b[T+1]))},w.Predictor11=function(p,b,T){var L=b[T+0];return 0>=Be(L>>24&255,p>>24&255,(b=b[T-1])>>24&255)+Be(L>>16&255,p>>16&255,b>>16&255)+Be(L>>8&255,p>>8&255,b>>8&255)+Be(255&L,255&p,255&b)?L:p},w.Predictor12=function(p,b,T){var L=b[T+0];return(We((p>>24&255)+(L>>24&255)-((b=b[T-1])>>24&255))<<24|We((p>>16&255)+(L>>16&255)-(b>>16&255))<<16|We((p>>8&255)+(L>>8&255)-(b>>8&255))<<8|We((255&p)+(255&L)-(255&b)))>>>0},w.Predictor13=function(p,b,T){var L=b[T-1];return(Ze((p=_e(p,b[T+0]))>>24&255,L>>24&255)<<24|Ze(p>>16&255,L>>16&255)<<16|Ze(p>>8&255,L>>8&255)<<8|Ze(255&p,255&L))>>>0};var Ol=w.PredictorAdd0;w.PredictorAdd1=an,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var Pl=w.PredictorAdd2;ve("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ii,gc=w.ColorIndexInverseTransform,Cs=w.MapARGB,Ns=w.VP8LColorIndexInverseTransformAlpha,vr=w.MapAlpha,Ws=w.VP8LPredictorsAdd=[];Ws.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var zl,Fl,Ks,$s,Rs,rl,Ca,Qs,jr,Oa,Ln,Sn,ti,Li,Is,us,al,Lu,Nh,Yf,Wf,Kf,Rh,Ih,sl,Pa,Du,Na,ol=o(511),mc=o(2041),ju=o(225),ku=o(767),yc=0,Xs=mc,Mu=ju,kr=ku,br=ol,vc=0,Mr=1,bc=2,za=3,Ou=4,Bl=5,Eo=6,Pu=7,xc=8,Ul=9,_c=10,Fa=[2,3,7],Vl=[3,3,11],ll=[280,256,256,256,40],wc=[0,1,1,1,0],zu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ba=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ua=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],To=8,Va=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ra=null,$f=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xr=[],Si=[],cs=[],Co=1,Dh=2,Zs=[],_r=[];Xt("UpsampleRgbLinePair",mr,3),Xt("UpsampleBgrLinePair",Yn,3),Xt("UpsampleRgbaLinePair",$r,4),Xt("UpsampleBgraLinePair",As,4),Xt("UpsampleArgbLinePair",Ss,4),Xt("UpsampleRgba4444LinePair",Ea,2),Xt("UpsampleRgb565LinePair",yr,2);var ul=w.UpsampleRgbLinePair,jh=w.UpsampleBgrLinePair,ql=w.UpsampleRgbaLinePair,Ac=w.UpsampleBgraLinePair,No=w.UpsampleArgbLinePair,Ls=w.UpsampleRgba4444LinePair,Ro=w.UpsampleRgb565LinePair,Ha=16,Hl=1<<Ha-1,cl=-227,Io=482,Ec=6,Lo=0,wr=o(256),Tc=o(256),Xf=o(256),a1=o(256),s1=o(Io-cl),o1=o(Io-cl);Hs("YuvToRgbRow",mr,3),Hs("YuvToBgrRow",Yn,3),Hs("YuvToRgbaRow",$r,4),Hs("YuvToBgraRow",As,4),Hs("YuvToArgbRow",Ss,4),Hs("YuvToRgba4444Row",Ea,2),Hs("YuvToRgb565Row",yr,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gl=[0,2,8],Fu=[8,7,6,4,4,2,2,2,1,1,1,1],Bu=1;this.WebPDecodeRGBA=function(p,b,T,L,V){var G=Mr,Y=new Ft,Z=new we;Y.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var tt=Z.width,ut=Z.height,mt=new be;if(mt==null||p==null)var Rt=2;else t(mt!=null),Rt=os(p,b,T,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(Rt!=0?tt=0:(tt!=null&&(tt[0]=mt.width[0]),ut!=null&&(ut[0]=mt.height[0]),tt=1),tt){Z.width=Z.width[0],Z.height=Z.height[0],L!=null&&(L[0]=Z.width),V!=null&&(V[0]=Z.height);t:{if(L=new nr,(V=new Wt).data=p,V.w=b,V.ha=T,V.kd=1,b=[0],t(V!=null),((p=os(V.data,V.w,V.ha,null,null,null,b,null,V))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(t(Y!=null),L.data=V.data,L.w=V.w+V.offset,L.ha=V.ha-V.offset,L.put=Ae,L.ac=Gi,L.bc=ts,L.ma=Y,V.xa){if((p=ys())==null){Y=1;break t}if((function(ot,xt){var Et=[0],zt=[0],Tt=[0];e:for(;;){if(ot==null)return 0;if(xt==null)return ot.a=2,0;if(ot.l=xt,ot.a=0,ct(ot.m,xt.data,xt.w,xt.ha),!Ur(ot.m,Et,zt,Tt)){ot.a=3;break e}if(ot.xb=Dh,xt.width=Et[0],xt.height=zt[0],!xa(Et[0],zt[0],1,ot,null))break e;return 1}return t(ot.a!=0),0})(p,L)){if(L=(b=ls(L.width,L.height,Y.Oa,Y.ba))==0){e:{L=p;n:for(;;){if(L==null){L=0;break e}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((T=L.l)!=null),t((V=T.ma)!=null),L.xb!=0){if(L.ca=V.ba,L.tb=V.tb,t(L.ca!=null),!Gs(V.Oa,T,za)){L.a=2;break n}if(!Rr(L,T.width)||T.da)break n;if((T.da||Me(L.ca.S))&&jt(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&jt()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!at(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Nr(L,L.V,L.Ba,L.c,L.i,T.o,er))break n;V.Dc=L.Ma,L=1;break e}t(L.a!=0),L=0}L=!L}L&&(b=p.a)}else b=p.a}else{if((p=new _i)==null){Y=1;break t}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,oa(p,L)){if((b=ls(L.width,L.height,Y.Oa,Y.ba))==0){if(p.Aa=0,T=Y.Oa,t((V=p)!=null),T!=null){if(0<(tt=0>(tt=T.Md)?0:100<tt?255:255*tt/100)){for(ut=mt=0;4>ut;++ut)12>(Rt=V.pb[ut]).lc&&(Rt.ia=tt*Fu[0>Rt.lc?0:Rt.lc]>>3),mt|=Rt.ia;mt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ot,xt){if(ot==null)return 0;if(xt==null)return cn(ot,2,"NULL VP8Io parameter in VP8Decode().");if(!ot.cb&&!oa(ot,xt))return 0;if(t(ot.cb),xt.ac==null||xt.ac(xt)){xt.ob&&(ot.L=0);var Et=Gl[ot.L];if(ot.L==2?(ot.yb=0,ot.zb=0):(ot.yb=xt.v-Et>>4,ot.zb=xt.j-Et>>4,0>ot.yb&&(ot.yb=0),0>ot.zb&&(ot.zb=0)),ot.Va=xt.o+15+Et>>4,ot.Hb=xt.va+15+Et>>4,ot.Hb>ot.za&&(ot.Hb=ot.za),ot.Va>ot.Ub&&(ot.Va=ot.Ub),0<ot.L){var zt=ot.ed;for(Et=0;4>Et;++Et){var Tt;if(ot.Qa.Cb){var Pt=ot.Qa.Lb[Et];ot.Qa.Fb||(Pt+=zt.Tb)}else Pt=zt.Tb;for(Tt=0;1>=Tt;++Tt){var Ut=ot.gd[Et][Tt],Qt=Pt;if(zt.Pc&&(Qt+=zt.vd[0],Tt&&(Qt+=zt.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Yt=Qt;0<zt.wb&&(Yt=4<zt.wb?Yt>>2:Yt>>1)>9-zt.wb&&(Yt=9-zt.wb),1>Yt&&(Yt=1),Ut.dd=Yt,Ut.tc=2*Qt+Yt,Ut.ld=40<=Qt?2:15<=Qt?1:0}else Ut.tc=0;Ut.La=Tt}}}Et=0}else cn(ot,6,"Frame setup failed"),Et=ot.a;if(Et=Et==0){if(Et){ot.$c=0,0<ot.Aa||(ot.Ic=Bu);e:{Et=ot.Ic,zt=4*(Yt=ot.za);var pe=32*Yt,se=Yt+1,He=0<ot.L?Yt*(0<ot.Aa?2:1):0,he=(ot.Aa==2?2:1)*Yt;if((Ut=zt+832+(Tt=3*(16*Et+Gl[ot.L])/2*pe)+(Pt=ot.Fa!=null&&0<ot.Fa.length?ot.Kc.c*ot.Kc.i:0))!=Ut)Et=0;else{if(Ut>ot.Vb){if(ot.Vb=0,ot.Ec=o(Ut),ot.Fc=0,ot.Ec==null){Et=cn(ot,1,"no memory during frame initialization.");break e}ot.Vb=Ut}Ut=ot.Ec,Qt=ot.Fc,ot.Ac=Ut,ot.Bc=Qt,Qt+=zt,ot.Gd=c(pe,vo),ot.Hd=0,ot.rb=c(se+1,sa),ot.sb=1,ot.wa=He?c(He,Ir):null,ot.Y=0,ot.D.Nb=0,ot.D.wa=ot.wa,ot.D.Y=ot.Y,0<ot.Aa&&(ot.D.Y+=Yt),t(!0),ot.oc=Ut,ot.pc=Qt,Qt+=832,ot.ya=c(he,zs),ot.aa=0,ot.D.ya=ot.ya,ot.D.aa=ot.aa,ot.Aa==2&&(ot.D.aa+=Yt),ot.R=16*Yt,ot.B=8*Yt,Yt=(pe=Gl[ot.L])*ot.R,pe=pe/2*ot.B,ot.sa=Ut,ot.ta=Qt+Yt,ot.qa=ot.sa,ot.ra=ot.ta+16*Et*ot.R+pe,ot.Ha=ot.qa,ot.Ia=ot.ra+8*Et*ot.B+pe,ot.$c=0,Qt+=Tt,ot.mb=Pt?Ut:null,ot.nb=Pt?Qt:null,t(Qt+Pt<=ot.Fc+ot.Vb),vs(ot),s(ot.Ac,ot.Bc,0,zt),Et=1}}if(Et){if(xt.ka=0,xt.y=ot.sa,xt.O=ot.ta,xt.f=ot.qa,xt.N=ot.ra,xt.ea=ot.Ha,xt.Vd=ot.Ia,xt.fa=ot.R,xt.Rc=ot.B,xt.F=null,xt.J=0,!yc){for(Et=-255;255>=Et;++Et)ol[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)mc[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)ju[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)ku[255+Et]=0>Et?0:255<Et?255:Et;yc=1}Ca=Yi,Qs=Zo,Oa=gr,Ln=Jo,Sn=is,jr=kl,ti=il,Li=Aa,Is=B,us=lt,al=So,Lu=S,Nh=pt,Yf=wt,Wf=ka,Kf=la,Rh=qs,Ih=wo,Si[0]=_s,Si[1]=tl,Si[2]=Bs,Si[3]=_o,Si[4]=Wi,Si[5]=Us,Si[6]=Pi,Si[7]=Mn,Si[8]=Vs,Si[9]=Gr,Xr[0]=wa,Xr[1]=bo,Xr[2]=xo,Xr[3]=rs,Xr[4]=as,Xr[5]=Dr,Xr[6]=xs,cs[0]=ss,cs[1]=el,cs[2]=Sa,cs[3]=nl,cs[4]=Ri,cs[5]=Wr,cs[6]=La,Et=1}else Et=0}Et&&(Et=(function(dn,oi){for(dn.M=0;dn.M<dn.Va;++dn.M){var Je,oe=dn.Jc[dn.M&dn.Xb],Jt=dn.m,di=dn;for(Je=0;Je<di.za;++Je){var ze=Jt,rn=di,Fn=rn.Ac,Ki=rn.Bc+4*Je,Sr=rn.zc,ei=rn.ya[rn.aa+Je];if(rn.Qa.Bb?ei.$b=Ot(ze,rn.Pa.jb[0])?2+Ot(ze,rn.Pa.jb[2]):Ot(ze,rn.Pa.jb[1]):ei.$b=0,rn.kc&&(ei.Ad=Ot(ze,rn.Bd)),ei.Za=!Ot(ze,145)+0,ei.Za){var zi=ei.Ob,Or=0;for(rn=0;4>rn;++rn){var Fi,un=Sr[0+rn];for(Fi=0;4>Fi;++Fi){un=xr[Fn[Ki+Fi]][un];for(var En=Sc[Ot(ze,un[0])];0<En;)En=Sc[2*En+Ot(ze,un[En])];un=-En,Fn[Ki+Fi]=un}r(zi,Or,Fn,Ki,4),Or+=4,Sr[0+rn]=un}}else un=Ot(ze,156)?Ot(ze,128)?1:3:Ot(ze,163)?2:0,ei.Ob[0]=un,s(Fn,Ki,un,4),s(Sr,0,un,4);ei.Dd=Ot(ze,142)?Ot(ze,114)?Ot(ze,183)?1:3:2:0}if(di.m.Ka)return cn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(di=oe,ze=(Jt=dn).rb[Jt.sb-1],Fn=Jt.rb[Jt.sb+Jt.ja],Je=Jt.ya[Jt.aa+Jt.ja],Ki=Jt.kc?Je.Ad:0)ze.la=Fn.la=0,Je.Za||(ze.Na=Fn.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var pi,Dn;if(ze=Fn,Fn=di,Ki=Jt.Pa.Xc,Sr=Jt.ya[Jt.aa+Jt.ja],ei=Jt.pb[Sr.$b],rn=Sr.ad,zi=0,Or=Jt.rb[Jt.sb-1],un=Fi=0,s(rn,zi,0,384),Sr.Za)var $i=0,gi=Ki[3];else{En=o(16);var Tn=ze.Na+Or.Na;if(Tn=Ra(Fn,Ki[1],Tn,ei.Eb,0,En,0),ze.Na=Or.Na=(0<Tn)+0,1<Tn)Ca(En,0,rn,zi);else{var ji=En[0]+3>>3;for(En=0;256>En;En+=16)rn[zi+En]=ji}$i=1,gi=Ki[0]}var Bn=15&ze.la,Bi=15&Or.la;for(En=0;4>En;++En){var Ui=1&Bi;for(ji=Dn=0;4>ji;++ji)Bn=Bn>>1|(Ui=(Tn=Ra(Fn,gi,Tn=Ui+(1&Bn),ei.Sc,$i,rn,zi))>$i)<<7,Dn=Dn<<2|(3<Tn?3:1<Tn?2:rn[zi+0]!=0),zi+=16;Bn>>=4,Bi=Bi>>1|Ui<<7,Fi=(Fi<<8|Dn)>>>0}for(gi=Bn,$i=Bi>>4,pi=0;4>pi;pi+=2){for(Dn=0,Bn=ze.la>>4+pi,Bi=Or.la>>4+pi,En=0;2>En;++En){for(Ui=1&Bi,ji=0;2>ji;++ji)Tn=Ui+(1&Bn),Bn=Bn>>1|(Ui=0<(Tn=Ra(Fn,Ki[2],Tn,ei.Qc,0,rn,zi)))<<3,Dn=Dn<<2|(3<Tn?3:1<Tn?2:rn[zi+0]!=0),zi+=16;Bn>>=2,Bi=Bi>>1|Ui<<5}un|=Dn<<4*pi,gi|=Bn<<4<<pi,$i|=(240&Bi)<<pi}ze.la=gi,Or.la=$i,Sr.Hc=Fi,Sr.Gc=un,Sr.ia=43690&un?0:ei.ia,Ki=!(Fi|un)}if(0<Jt.L&&(Jt.wa[Jt.Y+Jt.ja]=Jt.gd[Je.$b][Je.Za],Jt.wa[Jt.Y+Jt.ja].La|=!Ki),di.Ka)return cn(dn,7,"Premature end-of-file encountered.")}if(vs(dn),Jt=oi,di=1,Je=(oe=dn).D,ze=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Je.M=oe.M,Je.uc=ze,Ta(oe,Je),di=1,Je=(Dn=oe.D).Nb,ze=(un=Gl[oe.L])*oe.R,Fn=un/2*oe.B,En=16*Je*oe.R,ji=8*Je*oe.B,Ki=oe.sa,Sr=oe.ta-ze+En,ei=oe.qa,rn=oe.ra-Fn+ji,zi=oe.Ha,Or=oe.Ia-Fn+ji,Bi=(Bn=Dn.M)==0,Fi=Bn>=oe.Va-1,oe.Aa==2&&Ta(oe,Dn),Dn.uc)for(Ui=(Tn=oe).D.M,t(Tn.D.uc),Dn=Tn.yb;Dn<Tn.Hb;++Dn){$i=Dn,gi=Ui;var Wn=(An=(Vi=Tn).D).Nb;pi=Vi.R;var An=An.wa[An.Y+$i],Pr=Vi.sa,Ai=Vi.ta+16*Wn*pi+16*$i,Ie=An.dd,De=An.tc;if(De!=0)if(t(3<=De),Vi.L==1)0<$i&&Kf(Pr,Ai,pi,De+4),An.La&&Ih(Pr,Ai,pi,De),0<gi&&Wf(Pr,Ai,pi,De+4),An.La&&Rh(Pr,Ai,pi,De);else{var Cn=Vi.B,ca=Vi.qa,Ga=Vi.ra+8*Wn*Cn+8*$i,Zr=Vi.Ha,Vi=Vi.Ia+8*Wn*Cn+8*$i;Wn=An.ld,0<$i&&(Li(Pr,Ai,pi,De+4,Ie,Wn),us(ca,Ga,Zr,Vi,Cn,De+4,Ie,Wn)),An.La&&(Lu(Pr,Ai,pi,De,Ie,Wn),Yf(ca,Ga,Zr,Vi,Cn,De,Ie,Wn)),0<gi&&(ti(Pr,Ai,pi,De+4,Ie,Wn),Is(ca,Ga,Zr,Vi,Cn,De+4,Ie,Wn)),An.La&&(al(Pr,Ai,pi,De,Ie,Wn),Nh(ca,Ga,Zr,Vi,Cn,De,Ie,Wn))}}if(oe.ia&&alert("todo:DitherRow"),Jt.put!=null){if(Dn=16*Bn,Bn=16*(Bn+1),Bi?(Jt.y=oe.sa,Jt.O=oe.ta+En,Jt.f=oe.qa,Jt.N=oe.ra+ji,Jt.ea=oe.Ha,Jt.W=oe.Ia+ji):(Dn-=un,Jt.y=Ki,Jt.O=Sr,Jt.f=ei,Jt.N=rn,Jt.ea=zi,Jt.W=Or),Fi||(Bn-=un),Bn>Jt.o&&(Bn=Jt.o),Jt.F=null,Jt.J=null,oe.Fa!=null&&0<oe.Fa.length&&Dn<Bn&&(Jt.J=g(oe,Jt,Dn,Bn-Dn),Jt.F=oe.mb,Jt.F==null&&Jt.F.length==0)){di=cn(oe,3,"Could not decode alpha data.");break e}Dn<Jt.j&&(un=Jt.j-Dn,Dn=Jt.j,t(!(1&un)),Jt.O+=oe.R*un,Jt.N+=oe.B*(un>>1),Jt.W+=oe.B*(un>>1),Jt.F!=null&&(Jt.J+=Jt.width*un)),Dn<Bn&&(Jt.O+=Jt.v,Jt.N+=Jt.v>>1,Jt.W+=Jt.v>>1,Jt.F!=null&&(Jt.J+=Jt.v),Jt.ka=Dn-Jt.j,Jt.U=Jt.va-Jt.v,Jt.T=Bn-Dn,di=Jt.put(Jt))}Je+1!=oe.Ic||Fi||(r(oe.sa,oe.ta-ze,Ki,Sr+16*oe.R,ze),r(oe.qa,oe.ra-Fn,ei,rn+8*oe.B,Fn),r(oe.Ha,oe.Ia-Fn,zi,Or+8*oe.B,Fn))}if(!di)return cn(dn,6,"Output aborted.")}return 1})(ot,xt)),xt.bc!=null&&xt.bc(xt),Et&=1}return Et?(ot.cb=0,Et):0})(p,L)||(b=p.a)}}else b=p.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=Iu(Y.ba))}Y=b}G=Y!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var Cc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,q){for(var I="",R=0;R<4;R++)I+=String.fromCharCode(w[q++]);return I}function y(w,q){return w[q+0]|w[q+1]<<8}function A(w,q){return(w[q+0]|w[q+1]<<8|w[q+2]<<16)>>>0}function C(w,q){return(w[q+0]|w[q+1]<<8|w[q+2]<<16|w[q+3]<<24)>>>0}new f;var _=[0],F=[0],H=[],z=new f,M=n,et=(function(w,q){var I={},R=0,E=!1,rt=0,yt=0;if(I.frames=[],!(function(j,P){for(var W=0;W<4;W++)if(j[P+W]!="RIFF".charCodeAt(W))return!0;return!1})(w,q)){for(C(w,q+=4),q+=8;q<w.length;){var st=d(w,q),ft=C(w,q+=4);q+=4;var U=ft+(1&ft);switch(st){case"VP8 ":case"VP8L":I.frames[R]===void 0&&(I.frames[R]={}),(X=I.frames[R]).src_off=E?yt:q-8,X.src_size=rt+ft+8,R++,E&&(E=!1,rt=0,yt=0);break;case"VP8X":(X=I.header={}).feature_flags=w[q];var ct=q+4;X.canvas_width=1+A(w,ct),ct+=3,X.canvas_height=1+A(w,ct),ct+=3;break;case"ALPH":E=!0,rt=U+8,yt=q-8;break;case"ANIM":(X=I.header).bgcolor=C(w,q),ct=q+4,X.loop_count=y(w,ct),ct+=2;break;case"ANMF":var bt,X;(X=I.frames[R]={}).offset_x=2*A(w,q),q+=3,X.offset_y=2*A(w,q),q+=3,X.width=1+A(w,q),q+=3,X.height=1+A(w,q),q+=3,X.duration=A(w,q),q+=3,bt=w[q++],X.dispose=1&bt,X.blend=bt>>1&1}st!="ANMF"&&(q+=U)}return I}})(M,0);et.response=M,et.rgbaoutput=!0,et.dataurl=!1;var nt=et.header?et.header:null,it=et.frames?et.frames:null;if(nt){nt.loop_counter=nt.loop_count,_=[nt.canvas_height],F=[nt.canvas_width];for(var _t=0;_t<it.length&&it[_t].blend!=0;_t++);}var Dt=it[0],$=z.WebPDecodeRGBA(M,Dt.src_off,Dt.src_size,F,_);Dt.rgba=$,Dt.imgwidth=F[0],Dt.imgheight=_[0];for(var O=0;O<F[0]*_[0]*4;O++)H[O]=$[O];return this.width=F,this.height=_,this.data=H,this}function V7(){var n,t=this.internal.__metadata__.metadata,e=unescape(encodeURIComponent(t));n=this.internal.__metadata__.rawXml?e:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function q7(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var t,e,r,s,o,c,h,f,d,y=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new c,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new c,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var A=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=j;Object.defineProperty(this,"pdf",{get:function(){return P}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(at){W=!!at}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(at){K=!!at}});var ht=0;Object.defineProperty(this,"posX",{get:function(){return ht},set:function(at){isNaN(at)||(ht=at)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(at){isNaN(at)||(gt=at)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(at){var te;typeof at=="number"?te=[at,at,at,at]:((te=new Array(4))[0]=at[0],te[1]=at.length>=2?at[1]:te[0],te[2]=at.length>=3?at[2]:te[0],te[3]=at.length>=4?at[3]:te[1]),d.margin=te}});var Ct=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ct},set:function(at){Ct=at}});var Nt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Nt},set:function(at){Nt=at}});var Ot=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ot},set:function(at){Ot=at}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(at){at instanceof y&&(d=at)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(at){d.path=at}});var $t=[];Object.defineProperty(this,"ctxStack",{get:function(){return $t},set:function(at){$t=at}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(at){var te;te=C(at),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(at){var te=C(at);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(at){["butt","round","square"].indexOf(at)!==-1&&(this.ctx.lineCap=at,this.pdf.setLineCap(at))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(at){isNaN(at)||(this.ctx.lineWidth=at,this.pdf.setLineWidth(at))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(at){["bevel","round","miter"].indexOf(at)!==-1&&(this.ctx.lineJoin=at,this.pdf.setLineJoin(at))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(at){isNaN(at)||(this.ctx.miterLimit=at,this.pdf.setMiterLimit(at))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(at){this.ctx.textBaseline=at}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(at){["right","end","center","left","start"].indexOf(at)!==-1&&(this.ctx.textAlign=at)}});var ne=null,ee=null,ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(at){ne=null,ee=null,ce=at}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(at){var te;if(this.ctx.font=at,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(at))!==null){var Ye=te[1];te[2];var Te=te[3],Vt=te[4];te[5];var re=te[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vt)[2];Vt=Math.floor(ie==="px"?parseFloat(Vt)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Vt)*this.pdf.getFontSize():parseFloat(Vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vt);var Ne=(function(ve){var ci,Qe,Ce=[],Pe=ve.trim();if(Pe==="")return Jg;if(Pe in Ib)return[Ib[Pe]];for(;Pe!=="";){switch(Qe=null,ci=(Pe=Db(Pe)).charAt(0)){case'"':case"'":Qe=O7(Pe.substring(1),ci);break;default:Qe=P7(Pe)}if(Qe===null||(Ce.push(Qe[0]),(Pe=Db(Qe[1]))!==""&&Pe.charAt(0)!==","))return Jg;Pe=Pe.replace(/^,/,"")}return Ce})(re);if(this.fontFaces){var _e=(function(ve,ci){var Qe=ve.getFontList(),Ce=JSON.stringify(Qe);if(ne===null||ee!==Ce){var Pe=(function(Ke){var Se=[];return Object.keys(Ke).forEach(function(In){Ke[In].forEach(function(Me){var Oe=null;switch(Me){case"bold":Oe={family:In,weight:"bold"};break;case"italic":Oe={family:In,style:"italic"};break;case"bolditalic":Oe={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:In}}Oe!==null&&(Oe.ref={name:In,style:Me},Se.push(Oe))})}),Se})(Qe);ne=(function(Ke){for(var Se={},In=0;In<Ke.length;++In){var Me=Zg(Ke[In]),Oe=Me.family,jn=Me.stretch,we=Me.style,be=Me.weight;Se[Oe]=Se[Oe]||{},Se[Oe][jn]=Se[Oe][jn]||{},Se[Oe][jn][we]=Se[Oe][jn][we]||{},Se[Oe][jn][we][be]=Me}return Se})(Pe.concat(ci)),ee=Ce}return ne})(this.pdf,this.fontFaces),We=Ne.map(function(ve){return{family:ve,stretch:"normal",weight:Te,style:Ye}}),Ze=(function(ve,ci,Qe){for(var Ce=(Qe=Qe||{}).defaultFontFamily||"times",Pe=Object.assign({},M7,Qe.genericFontFamilies||{}),Ke=null,Se=null,In=0;In<ci.length;++In)if(Pe[(Ke=Zg(ci[In])).family]&&(Ke.family=Pe[Ke.family]),ve.hasOwnProperty(Ke.family)){Se=ve[Ke.family];break}if(!(Se=Se||ve[Ce]))throw new Error("Could not find a font-family for the rule '"+Lb(Ke)+"' and default family '"+Ce+"'.");if(Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];var jn=U0[Me],we=jn<=U0.normal?-1:1,be=Rb(Oe,W4,jn,we);if(!be)throw new Error("Could not find a matching font-stretch value for "+Me);return be})(Ke.stretch,Se),Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];for(var jn=Y4[Me],we=0;we<jn.length;++we)if(Oe[jn[we]])return Oe[jn[we]];throw new Error("Could not find a matching font-style for "+Me)})(Ke.style,Se),!(Se=(function(Me,Oe){if(Oe[Me])return Oe[Me];if(Me===400&&Oe[500])return Oe[500];if(Me===500&&Oe[400])return Oe[400];var jn=k7[Me],we=Rb(Oe,K4,jn,Me<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+Me);return we})(Ke.weight,Se)))throw new Error("Failed to resolve a font for the rule '"+Lb(Ke)+"'.");return Se})(_e,We);this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var Be="";(Te==="bold"||parseInt(Te,10)>=700||Ye==="bold")&&(Be="bold"),Ye==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var an="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<Ne.length;me++){if(this.pdf.internal.getFont(Ne[me],Be,{noFallback:!0,disableWarning:!0})!==void 0){an=Ne[me];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Ne[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=Ne[me],Be="bold";else if(this.pdf.internal.getFont(Ne[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=Ne[me],Be="normal";break}}if(an===""){for(var qe=0;qe<Ne.length;qe++)if($e[Ne[qe]]){an=$e[Ne[qe]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(at){this.ctx.globalCompositeOperation=at}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(at){this.ctx.globalAlpha=at}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(at){this.ctx.lineDashOffset=at,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(at){this.ctx.lineDash=at,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(at){this.ctx.ignoreClearRect=!!at}})};A.prototype.setLineDash=function(j){this.lineDash=j},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){it.call(this,"fill",!1)},A.prototype.stroke=function(){it.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(j,P){if(isNaN(j)||isNaN(P))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new c(j,P));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(j,P)},A.prototype.closePath=function(){var j=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Qn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){j=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(j.x,j.y)},A.prototype.lineTo=function(j,P){if(isNaN(j)||isNaN(P))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new c(j,P));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(W.x,W.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),it.call(this,null,!0)},A.prototype.quadraticCurveTo=function(j,P,W,K){if(isNaN(W)||isNaN(K)||isNaN(j)||isNaN(P))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ht=this.ctx.transform.applyToPoint(new c(W,K)),gt=this.ctx.transform.applyToPoint(new c(j,P));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new c(ht.x,ht.y)},A.prototype.bezierCurveTo=function(j,P,W,K,ht,gt){if(isNaN(ht)||isNaN(gt)||isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ct=this.ctx.transform.applyToPoint(new c(ht,gt)),Nt=this.ctx.transform.applyToPoint(new c(j,P)),Ot=this.ctx.transform.applyToPoint(new c(W,K));this.path.push({type:"bct",x1:Nt.x,y1:Nt.y,x2:Ot.x,y2:Ot.y,x:Ct.x,y:Ct.y}),this.ctx.lastPoint=new c(Ct.x,Ct.y)},A.prototype.arc=function(j,P,W,K,ht,gt){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K)||isNaN(ht))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var Ct=this.ctx.transform.applyToPoint(new c(j,P));j=Ct.x,P=Ct.y;var Nt=this.ctx.transform.applyToPoint(new c(0,W)),Ot=this.ctx.transform.applyToPoint(new c(0,0));W=Math.sqrt(Math.pow(Nt.x-Ot.x,2)+Math.pow(Nt.y-Ot.y,2))}Math.abs(ht-K)>=2*Math.PI&&(K=0,ht=2*Math.PI),this.path.push({type:"arc",x:j,y:P,radius:W,startAngle:K,endAngle:ht,counterclockwise:gt})},A.prototype.arcTo=function(j,P,W,K,ht){throw new Error("arcTo not implemented.")},A.prototype.rect=function(j,P,W,K){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,P),this.lineTo(j+W,P),this.lineTo(j+W,P+K),this.lineTo(j,P+K),this.lineTo(j,P),this.lineTo(j+W,P),this.lineTo(j,P)},A.prototype.fillRect=function(j,P,W,K){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ht={};this.lineCap!=="butt"&&(ht.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ht.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,P,W,K),this.fill(),ht.hasOwnProperty("lineCap")&&(this.lineCap=ht.lineCap),ht.hasOwnProperty("lineJoin")&&(this.lineJoin=ht.lineJoin)}},A.prototype.strokeRect=function(j,P,W,K){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(j,P,W,K),this.stroke())},A.prototype.clearRect=function(j,P,W,K){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,P,W,K))},A.prototype.save=function(j){j=typeof j!="boolean"||j;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},A.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(P),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(j){var P,W,K,ht;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))P=0,W=0,K=0,ht=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(gt!==null)P=parseInt(gt[1]),W=parseInt(gt[2]),K=parseInt(gt[3]),ht=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)P=parseInt(gt[1]),W=parseInt(gt[2]),K=parseInt(gt[3]),ht=parseFloat(gt[4]);else{if(ht=1,typeof j=="string"&&j.charAt(0)!=="#"){var Ct=new F4(j);j=Ct.ok?Ct.toHex():"#000000"}j.length===4?(P=j.substring(1,2),P+=P,W=j.substring(2,3),W+=W,K=j.substring(3,4),K+=K):(P=j.substring(1,3),W=j.substring(3,5),K=j.substring(5,7)),P=parseInt(P,16),W=parseInt(W,16),K=parseInt(K,16)}}return{r:P,g:W,b:K,a:ht,style:j}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},F=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(j,P,W,K){if(isNaN(P)||isNaN(W)||typeof j!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!_.call(this)){var ht=U(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;R.call(this,{text:j,x:P,y:W,scale:gt,angle:ht,align:this.textAlign,maxWidth:K})}},A.prototype.strokeText=function(j,P,W,K){if(isNaN(P)||isNaN(W)||typeof j!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){K=isNaN(K)?void 0:K;var ht=U(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;R.call(this,{text:j,x:P,y:W,scale:gt,renderingMode:"stroke",angle:ht,align:this.textAlign,maxWidth:K})}},A.prototype.measureText=function(j){if(typeof j!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,W=this.pdf.internal.scaleFactor,K=P.internal.getFontSize(),ht=P.getStringUnitWidth(j)*K/P.internal.scaleFactor;return new function(gt){var Ct=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ct}}),this}({width:ht*=Math.round(96*W/72*1e4)/1e4})},A.prototype.scale=function(j,P){if(isNaN(j)||isNaN(P))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new f(j,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.rotate=function(j){if(isNaN(j))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},A.prototype.translate=function(j,P){if(isNaN(j)||isNaN(P))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new f(1,0,0,1,j,P);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.transform=function(j,P,W,K,ht,gt){if(isNaN(j)||isNaN(P)||isNaN(W)||isNaN(K)||isNaN(ht)||isNaN(gt))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ct=new f(j,P,W,K,ht,gt);this.ctx.transform=this.ctx.transform.multiply(Ct)},A.prototype.setTransform=function(j,P,W,K,ht,gt){j=isNaN(j)?1:j,P=isNaN(P)?0:P,W=isNaN(W)?0:W,K=isNaN(K)?1:K,ht=isNaN(ht)?0:ht,gt=isNaN(gt)?0:gt,this.ctx.transform=new f(j,P,W,K,ht,gt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(j,P,W,K,ht,gt,Ct,Nt,Ot){var $t=this.pdf.getImageProperties(j),ne=1,ee=1,ce=1,at=1;K!==void 0&&Nt!==void 0&&(ce=Nt/K,at=Ot/ht,ne=$t.width/K*Nt/K,ee=$t.height/ht*Ot/ht),gt===void 0&&(gt=P,Ct=W,P=0,W=0),K!==void 0&&Nt===void 0&&(Nt=K,Ot=ht),K===void 0&&Nt===void 0&&(Nt=$t.width,Ot=$t.height);var te=this.ctx.transform.decompose(),Ye=U(te.rotate.shx),Te=new f,Vt=(Te=(Te=(Te=Te.multiply(te.translate)).multiply(te.skew)).multiply(te.scale)).applyToRectangle(new h(gt-P*ce,Ct-W*at,K*ne,ht*ee));if(this.autoPaging){for(var re,ie=z.call(this,Vt),Ne=[],_e=0;_e<ie.length;_e+=1)Ne.indexOf(ie[_e])===-1&&Ne.push(ie[_e]);nt(Ne);for(var We=Ne[0],Ze=Ne[Ne.length-1],Be=We;Be<Ze+1;Be++){this.pdf.setPage(Be);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Be===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=Be===1?0:me+(Be-2)*qe;if(this.ctx.clip_path.length!==0){var ci=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(re,this.posX+this.margin[3],-ve+$e+this.ctx.prevPageLastElemOffset),_t.call(this,"fill",!0),this.path=ci}var Qe=JSON.parse(JSON.stringify(Vt));Qe=et([Qe],this.posX+this.margin[3],-ve+$e+this.ctx.prevPageLastElemOffset)[0];var Ce=(Be>We||Be<Ze)&&H.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,qe,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ye),Ce&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Ye)};var z=function(j,P,W){var K=[];P=P||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ht=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":K.push(Math.floor((j.y+ht)/W)+1);break;case"arc":K.push(Math.floor((j.y+ht-j.radius)/W)+1),K.push(Math.floor((j.y+ht+j.radius)/W)+1);break;case"qct":var gt=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);K.push(Math.floor((gt.y+ht)/W)+1),K.push(Math.floor((gt.y+gt.h+ht)/W)+1);break;case"bct":var Ct=bt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);K.push(Math.floor((Ct.y+ht)/W)+1),K.push(Math.floor((Ct.y+Ct.h+ht)/W)+1);break;case"rect":K.push(Math.floor((j.y+ht)/W)+1),K.push(Math.floor((j.y+j.h+ht)/W)+1)}for(var Nt=0;Nt<K.length;Nt+=1)for(;this.pdf.internal.getNumberOfPages()<K[Nt];)M.call(this);return K},M=function(){var j=this.fillStyle,P=this.strokeStyle,W=this.font,K=this.lineCap,ht=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=P,this.font=W,this.lineCap=K,this.lineWidth=ht,this.lineJoin=gt},et=function(j,P,W){for(var K=0;K<j.length;K++)switch(j[K].type){case"bct":j[K].x2+=P,j[K].y2+=W;case"qct":j[K].x1+=P,j[K].y1+=W;default:j[K].x+=P,j[K].y+=W}return j},nt=function(j){return j.sort(function(P,W){return P-W})},it=function(j,P){var W=this.fillStyle,K=this.strokeStyle,ht=this.lineCap,gt=this.lineWidth,Ct=Math.abs(gt*this.ctx.transform.scaleX),Nt=this.lineJoin;if(this.autoPaging){for(var Ot,$t,ne=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),ce=[],at=0;at<ee.length;at++)if(ee[at].x!==void 0)for(var te=z.call(this,ee[at]),Ye=0;Ye<te.length;Ye+=1)ce.indexOf(te[Ye])===-1&&ce.push(te[Ye]);for(var Te=0;Te<ce.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ce[Te];)M.call(this);nt(ce);for(var Vt=ce[0],re=ce[ce.length-1],ie=Vt;ie<re+1;ie++){this.pdf.setPage(ie),this.fillStyle=W,this.strokeStyle=K,this.lineCap=ht,this.lineWidth=Ct,this.lineJoin=Nt;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ie===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ie===1?0:We+(ie-2)*Ze;if(this.ctx.clip_path.length!==0){var an=this.path;Ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(Ot,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),_t.call(this,j,!0),this.path=an}if($t=JSON.parse(JSON.stringify(ne)),this.path=et($t,this.posX+this.margin[3],-Be+_e+this.ctx.prevPageLastElemOffset),P===!1||ie===0){var $e=(ie>Vt||ie<re)&&H.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ze,null).clip().discardPath()),_t.call(this,j,P),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}this.path=ne}else this.lineWidth=Ct,_t.call(this,j,P),this.lineWidth=gt},_t=function(j,P){if((j!=="stroke"||P||!F.call(this))&&(j==="stroke"||P||!_.call(this))){for(var W,K,ht=[],gt=this.path,Ct=0;Ct<gt.length;Ct++){var Nt=gt[Ct];switch(Nt.type){case"begin":ht.push({begin:!0});break;case"close":ht.push({close:!0});break;case"mt":ht.push({start:Nt,deltas:[],abs:[]});break;case"lt":var Ot=ht.length;if(gt[Ct-1]&&!isNaN(gt[Ct-1].x)&&(W=[Nt.x-gt[Ct-1].x,Nt.y-gt[Ct-1].y],Ot>0)){for(;Ot>=0;Ot--)if(ht[Ot-1].close!==!0&&ht[Ot-1].begin!==!0){ht[Ot-1].deltas.push(W),ht[Ot-1].abs.push(Nt);break}}break;case"bct":W=[Nt.x1-gt[Ct-1].x,Nt.y1-gt[Ct-1].y,Nt.x2-gt[Ct-1].x,Nt.y2-gt[Ct-1].y,Nt.x-gt[Ct-1].x,Nt.y-gt[Ct-1].y],ht[ht.length-1].deltas.push(W);break;case"qct":var $t=gt[Ct-1].x+2/3*(Nt.x1-gt[Ct-1].x),ne=gt[Ct-1].y+2/3*(Nt.y1-gt[Ct-1].y),ee=Nt.x+2/3*(Nt.x1-Nt.x),ce=Nt.y+2/3*(Nt.y1-Nt.y),at=Nt.x,te=Nt.y;W=[$t-gt[Ct-1].x,ne-gt[Ct-1].y,ee-gt[Ct-1].x,ce-gt[Ct-1].y,at-gt[Ct-1].x,te-gt[Ct-1].y],ht[ht.length-1].deltas.push(W);break;case"arc":ht.push({deltas:[],abs:[],arc:!0}),Array.isArray(ht[ht.length-1].abs)&&ht[ht.length-1].abs.push(Nt)}}K=P?null:j==="stroke"?"stroke":"fill";for(var Ye=!1,Te=0;Te<ht.length;Te++)if(ht[Te].arc)for(var Vt=ht[Te].abs,re=0;re<Vt.length;re++){var ie=Vt[re];ie.type==="arc"?O.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,P,!Ye):E.call(this,ie.x,ie.y),Ye=!0}else if(ht[Te].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ht[Te].begin!==!0){var Ne=ht[Te].start.x,_e=ht[Te].start.y;rt.call(this,ht[Te].deltas,Ne,_e),Ye=!0}K&&w.call(this,K),P&&q.call(this)}},Dt=function(j){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-W;case"top":return j+P-W;case"hanging":return j+P-2*W;case"middle":return j+P/2-W;default:return j}},$=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(P,W){this.colorStops.push([P,W])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(j,P,W,K,ht,gt,Ct,Nt,Ot){for(var $t=st.call(this,W,K,ht,gt),ne=0;ne<$t.length;ne++){var ee=$t[ne];ne===0&&(Ot?I.call(this,ee.x1+j,ee.y1+P):E.call(this,ee.x1+j,ee.y1+P)),yt.call(this,j,P,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}Nt?q.call(this):w.call(this,Ct)},w=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,P){this.pdf.internal.out(e(j)+" "+r(P)+" m")},R=function(j){var P;switch(j.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var W,K,ht,gt=this.pdf.getTextDimensions(j.text),Ct=Dt.call(this,j.y),Nt=$.call(this,Ct)-gt.h,Ot=this.ctx.transform.applyToPoint(new c(j.x,Ct));if(this.autoPaging){var $t=this.ctx.transform.decompose(),ne=new f;ne=(ne=(ne=ne.multiply($t.translate)).multiply($t.skew)).multiply($t.scale);for(var ee=this.ctx.transform.applyToRectangle(new h(j.x,Ct,gt.w,gt.h)),ce=ne.applyToRectangle(new h(j.x,Nt,gt.w,gt.h)),at=z.call(this,ce),te=[],Ye=0;Ye<at.length;Ye+=1)te.indexOf(at[Ye])===-1&&te.push(at[Ye]);nt(te);for(var Te=te[0],Vt=te[te.length-1],re=Te;re<Vt+1;re++){this.pdf.setPage(re);var ie=re===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],We=_e-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],Be=Ze-this.margin[3],an=re===1?0:Ne+(re-2)*We;if(this.ctx.clip_path.length!==0){var $e=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(W,this.posX+this.margin[3],-1*an+ie),_t.call(this,"fill",!0),this.path=$e}var me=et([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-an+ie+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*j.scale),ht=this.lineWidth,this.lineWidth=ht*j.scale);var qe=this.autoPaging!=="text";if(qe||me.y+me.h<=_e){if(qe||me.y>=ie&&me.x<=Ze){var ve=qe?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ze-me.x)[0],ci=et([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-an+ie+this.ctx.prevPageLastElemOffset)[0],Qe=qe&&(re>Te||re<Vt)&&H.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,We,null).clip().discardPath()),this.pdf.text(ve,ci.x,ci.y,{angle:j.angle,align:P,renderingMode:j.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else me.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-me.y);j.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ht)}}else j.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*j.scale),ht=this.lineWidth,this.lineWidth=ht*j.scale),this.pdf.text(j.text,Ot.x+this.posX,Ot.y+this.posY,{angle:j.angle,align:P,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ht)},E=function(j,P,W,K){W=W||0,K=K||0,this.pdf.internal.out(e(j+W)+" "+r(P+K)+" l")},rt=function(j,P,W){return this.pdf.lines(j,P,W,null,null)},yt=function(j,P,W,K,ht,gt,Ct,Nt){this.pdf.internal.out([t(s(W+j)),t(o(K+P)),t(s(ht+j)),t(o(gt+P)),t(s(Ct+j)),t(o(Nt+P)),"c"].join(" "))},st=function(j,P,W,K){for(var ht=2*Math.PI,gt=Math.PI/2;P>W;)P-=ht;var Ct=Math.abs(W-P);Ct<ht&&K&&(Ct=ht-Ct);for(var Nt=[],Ot=K?-1:1,$t=P;Ct>1e-5;){var ne=$t+Ot*Math.min(Ct,gt);Nt.push(ft.call(this,j,$t,ne)),Ct-=Math.abs(ne-$t),$t=ne}return Nt},ft=function(j,P,W){var K=(W-P)/2,ht=j*Math.cos(K),gt=j*Math.sin(K),Ct=ht,Nt=-gt,Ot=Ct*Ct+Nt*Nt,$t=Ot+Ct*ht+Nt*gt,ne=4/3*(Math.sqrt(2*Ot*$t)-$t)/(Ct*gt-Nt*ht),ee=Ct-ne*Nt,ce=Nt+ne*Ct,at=ee,te=-ce,Ye=K+P,Te=Math.cos(Ye),Vt=Math.sin(Ye);return{x1:j*Math.cos(P),y1:j*Math.sin(P),x2:ee*Te-ce*Vt,y2:ee*Vt+ce*Te,x3:at*Te-te*Vt,y3:at*Vt+te*Te,x4:j*Math.cos(W),y4:j*Math.sin(W)}},U=function(j){return 180*j/Math.PI},ct=function(j,P,W,K,ht,gt){var Ct=j+.5*(W-j),Nt=P+.5*(K-P),Ot=ht+.5*(W-ht),$t=gt+.5*(K-gt),ne=Math.min(j,ht,Ct,Ot),ee=Math.max(j,ht,Ct,Ot),ce=Math.min(P,gt,Nt,$t),at=Math.max(P,gt,Nt,$t);return new h(ne,ce,ee-ne,at-ce)},bt=function(j,P,W,K,ht,gt,Ct,Nt){var Ot,$t,ne,ee,ce,at,te,Ye,Te,Vt,re,ie,Ne,_e,We=W-j,Ze=K-P,Be=ht-W,an=gt-K,$e=Ct-ht,me=Nt-gt;for($t=0;$t<41;$t++)Te=(te=(ne=j+(Ot=$t/40)*We)+Ot*((ce=W+Ot*Be)-ne))+Ot*(ce+Ot*(ht+Ot*$e-ce)-te),Vt=(Ye=(ee=P+Ot*Ze)+Ot*((at=K+Ot*an)-ee))+Ot*(at+Ot*(gt+Ot*me-at)-Ye),$t==0?(re=Te,ie=Vt,Ne=Te,_e=Vt):(re=Math.min(re,Te),ie=Math.min(ie,Vt),Ne=Math.max(Ne,Te),_e=Math.max(_e,Vt));return new h(Math.round(re),Math.round(ie),Math.round(Ne-re),Math.round(_e-ie))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,P,W=(j=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:P}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ye.API),(function(n){var t=function(c){var h,f,d,y,A,C,_,F,H,z;for(f=[],d=0,y=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;y>d;d+=4)(A=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(C=(A=((A=((A=((A=(A-(z=A%85))/85)-(H=A%85))/85)-(F=A%85))/85)-(_=A%85))/85)%85,f.push(C+33,_+33,F+33,H+33,z+33)):f.push(122);return(function(M,et){for(var nt=et;nt>0;nt--)M.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(c){var h,f,d,y,A,C=String,_="length",F=255,H="charCodeAt",z="slice",M="replace";for(c[z](-2),c=c[z](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),d=[],y=0,A=(c+=h="uuuuu"[z](c[_]%5||5))[_];A>y;y+=5)f=52200625*(c[H](y)-33)+614125*(c[H](y+1)-33)+7225*(c[H](y+2)-33)+85*(c[H](y+3)-33)+(c[H](y+4)-33),d.push(F&f>>24,F&f>>16,F&f>>8,F&f);return(function(et,nt){for(var it=nt;it>0;it--)et.pop()})(d,h[_]),C.fromCharCode.apply(C,d)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=k0(h)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(c,h){var f=0,d=c||"",y=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(ye.API),(function(n){n.loadFile=function(t,e,r){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,y){var A=new XMLHttpRequest,C=0,_=function(F){var H=F.length,z=[],M=String.fromCharCode;for(C=0;C<H;C+=1)z.push(M(255&F.charCodeAt(C)));return z.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?y(_(this.responseText)):y(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,c)}catch{}return h})(t,e,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(ye.API),(function(n){function t(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):kg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):kg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function h(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),y=h.convert(Promise.resolve(),d);return(y=y.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var _=0;_<y.length;++_){var F=y[_],H=F.src.find(function(z){return z.format==="truetype"});H&&d.addFont(H.url,F.ref.name,F.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=C.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,d.context2d.save(!0),f(this.prop.container,C)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(h=h||ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,y){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,y){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(y,A){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(C){return d.updateProgress(null,y),C}).then(y,A).then(function(C){return d.updateProgress(1),C})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var y=this;h&&(h=h.bind(y)),f&&(f=f.bind(y));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:c.convert(Object.assign({},y),Promise.prototype),C=d.call(A,h,f);return c.convert(C,y.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,ye.getPageSize=function(h,f,d){if(Qn(h)==="object"){var y=h;h=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,C=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var F,H=0,z=0;if(_.hasOwnProperty(C))H=_[C][1]/A,z=_[C][0]/A;else try{H=d[1],z=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",z>H&&(F=z,z=H,H=F);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",H>z&&(F=z,z=H,H=F)}return{width:z,height:H,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Zg):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(ye.API),ye.API.addJS=function(n){var t,e,r=n;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&e!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],h=r.exec(c);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var A=e.internal.newObject();y.push(A);var C=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<y.length;o++)e.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,s,o){var c={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(ye.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,s,o,c,h){var f,d=this.decode.DCT_DECODE,y=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var C,_=256*A.charCodeAt(4)+A.charCodeAt(5),F=A.length,H={width:0,height:0,numcomponents:1},z=4;z<F;z+=2){if(z+=_,t.indexOf(A.charCodeAt(z+1))!==-1){C=256*A.charCodeAt(z+5)+A.charCodeAt(z+6),H={width:256*A.charCodeAt(z+7)+A.charCodeAt(z+8),height:C,numcomponents:A.charCodeAt(z+9)};break}_=256*A.charCodeAt(z+2)+A.charCodeAt(z+3)}return H})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}y={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return y}})(ye.API),ye.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=x7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,y=o.depth;s=d&&f===1?(function(O){for(var w=O.width,q=O.height,I=O.data,R=O.palette,E=O.depth,rt=!1,yt=[],st=[],ft=void 0,U=!1,ct=0,bt=0;bt<R.length;bt++){var X=zv(R[bt],4),j=X[0],P=X[1],W=X[2],K=X[3];yt.push(j,P,W),K!=null&&(K===0?(ct++,st.length<1&&st.push(bt)):K<255&&(U=!0))}if(U||ct>1){rt=!0,st=void 0;var ht=w*q;ft=new Uint8Array(ht);for(var gt=new DataView(I.buffer),Ct=0;Ct<ht;Ct++){var Nt=t0(gt,Ct,E),Ot=zv(R[Nt],4)[3];ft[Ct]=Ot}}else ct===0&&(st=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:rt?8:void 0,colorBytes:I,alphaBytes:ft,needSMask:rt,palette:yt,mask:st}})(o):f===2||f===4?(function(O){for(var w=O.data,q=O.width,I=O.height,R=O.channels,E=O.depth,rt=R===2?"DeviceGray":"DeviceRGB",yt=R-1,st=q*I,ft=yt,U=st*ft,ct=1*st,bt=Math.ceil(U*E/8),X=Math.ceil(ct*E/8),j=new Uint8Array(bt),P=new Uint8Array(X),W=new DataView(w.buffer),K=new DataView(j.buffer),ht=new DataView(P.buffer),gt=!1,Ct=0;Ct<st;Ct++){for(var Nt=Ct*R,Ot=0;Ot<ft;Ot++)Ub(K,t0(W,Nt+Ot,E),Ct*ft+Ot,E);var $t=t0(W,Nt+ft,E);$t<(1<<E)-1&&(gt=!0),Ub(ht,$t,1*Ct,E)}return{colorSpace:rt,colorsPerPixel:yt,sMaskBitsPerComponent:gt?E:void 0,colorBytes:j,alphaBytes:P,needSMask:gt}})(o):(function(O){var w=O.data,q=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(I){for(var R=I.length,E=new Uint8Array(2*R),rt=new DataView(E.buffer,E.byteOffset,E.byteLength),yt=0;yt<R;yt++)rt.setUint16(2*yt,I[yt],!1);return E})(w):w,needSMask:!1}})(o);var A,C,_,F=s,H=F.colorSpace,z=F.colorsPerPixel,M=F.sMaskBitsPerComponent,et=F.colorBytes,nt=F.alphaBytes,it=F.needSMask,_t=F.palette,Dt=F.mask,$=null;return r!==ye.API.image_compression.NONE&&typeof k0=="function"?($=(function(O){var w;switch(O){case ye.API.image_compression.FAST:w=11;break;case ye.API.image_compression.MEDIUM:w=13;break;case ye.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),A=this.decode.FLATE_DECODE,C="/Predictor ".concat($," /Colors ").concat(z," /BitsPerComponent ").concat(y," /Columns ").concat(c),n=Ob(et,Math.ceil(c*z*y/8),z,y,r),it&&(_=Ob(nt,Math.ceil(c*M/8),1,M,r))):(A=void 0,C=void 0,n=et,it&&(_=nt)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:e,data:n,index:t,filter:A,decodeParameters:C,transparency:Dt,palette:_t,sMask:_,predictor:$,width:c,height:h,bitsPerComponent:y,sMaskBitsPerComponent:M,colorSpace:H}}},(function(n){n.processGIF89A=function(t,e,r,s){var o=new U7(t),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},y=new e0(100).encode(d,100);return n.processJPEG.call(this,y,e,r,s)},n.processGIF87A=n.processGIF89A})(ye.API),ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ao.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[n]()}catch(e){ui.log("bit decode error:"+e)}},ao.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}e!==0&&(this.pos+=4-e)}},ao.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},ao.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ao.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=f,this.data[y+1]=h,this.data[y+2]=c,this.data[y+3]=d}this.pos+=n}},ao.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,d=(c>>11)/t*255|0,y=s*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=h,this.data[y+3]=255}this.pos+=n}},ao.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},ao.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=c}},ao.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,s){var o=new ao(t,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new e0(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(ye.API),qb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,s){var o=new qb(t),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new e0(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(ye.API),ye.API.processRGBA=function(n,t,e){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var y=r[d],A=r[d+1],C=r[d+2],_=r[d+3];o[h++]=y,o[h++]=A,o[h++]=C,c[f++]=_}var F=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:F,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ye.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zc=ye.API,Jd=Zc.getCharWidthsArray=function(n,t){var e,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,y=d.fof?d.fof:1,A=t.doKerning!==!1,C=0,_=n.length,F=0,H=h[0]||f,z=[];for(e=0;e<_;e++)r=n.charCodeAt(e),typeof s.metadata.widthOfString=="function"?z.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(C=A&&Qn(d[r])==="object"&&!isNaN(parseInt(d[r][F],10))?d[r][F]/y:0,z.push((h[r]||H)/f+C)),F=r;return z},jb=Zc.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Zc.processArabic&&(n=Zc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,s)/e:Jd.apply(this,arguments).reduce(function(o,c){return o+c},0)},kb=function(n,t,e,r){for(var s=[],o=0,c=n.length,h=0;o!==c&&h+t[o]<e;)h+=t[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+t[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Mb=function(n,t,e){e||(e={});var r,s,o,c,h,f,d,y=[],A=[y],C=e.textIndent||0,_=0,F=0,H=n.split(" "),z=Jd.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?H[0].length+2:e.lineIndent||0){var M=Array(f).join(" "),et=[];H.map(function(it){(it=it.split(/\s*\n/)).length>1?et=et.concat(it.map(function(_t,Dt){return(Dt&&_t.length?`
`:"")+_t})):et.push(it[0])}),H=et,f=jb.apply(this,[M,e])}for(o=0,c=H.length;o<c;o++){var nt=0;if(r=H[o],f&&r[0]==`
`&&(r=r.substr(1),nt=1),C+_+(F=(s=Jd.apply(this,[r,e])).reduce(function(it,_t){return it+_t},0))>t||nt){if(F>t){for(h=kb.apply(this,[r,s,t-(C+_),t]),y.push(h.shift()),y=[h.pop()];h.length;)A.push([h.shift()]);F=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(it,_t){return it+_t},0)}else y=[r];A.push(y),C=F+f,_=z}else y.push(r),C+=_+F,_=z}return d=f?function(it,_t){return(_t?M:"")+it.join(" ")}:function(it){return it.join(" ")},A.map(d)},Zc.splitTextToSize=function(n,t,e){var r,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var A=this.internal.getFont(y.fontName,y.fontStyle),C="Unicode";return A.metadata[C]?{widths:A.metadata[C].widths||{0:1},kerning:A.metadata[C].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(Mb.apply(this,[r[h],c,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[e[o]]=t[o],s[t[o]]=e[o];var c=function(C){return"0x"+parseInt(C,10).toString(16)},h=n.__fontmetrics__.compress=function(C){var _,F,H,z,M=["{"];for(var et in C){if(_=C[et],isNaN(parseInt(et,10))?F="'"+et+"'":(et=parseInt(et,10),F=(F=c(et).slice(2)).slice(0,-1)+s[F.slice(-1)]),typeof _=="number")_<0?(H=c(_).slice(3),z="-"):(H=c(_).slice(2),z=""),H=z+H.slice(0,-1)+s[H.slice(-1)];else{if(Qn(_)!=="object")throw new Error("Don't know what to do with value type "+Qn(_)+".");H=h(_)}M.push(F+H)}return M.push("}"),M.join("")},f=n.__fontmetrics__.uncompress=function(C){if(typeof C!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,F,H,z,M={},et=1,nt=M,it=[],_t="",Dt="",$=C.length-1,O=1;O<$;O+=1)(z=C[O])=="'"?_?(H=_.join(""),_=void 0):_=[]:_?_.push(z):z=="{"?(it.push([nt,H]),nt={},H=void 0):z=="}"?((F=it.pop())[0][F[1]]=nt,H=void 0,nt=F[0]):z=="-"?et=-1:H===void 0?r.hasOwnProperty(z)?(_t+=r[z],H=parseInt(_t,16)*et,et=1,_t=""):_t+=z:r.hasOwnProperty(z)?(Dt+=r[z],nt[H]=parseInt(Dt,16)*et,et=1,H=void 0,Dt=""):Dt+=z;return M},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(C){var _=C.font,F=A.Unicode[_.postScriptName];F&&(_.metadata.Unicode={},_.metadata.Unicode.widths=F.widths,_.metadata.Unicode.kerning=F.kerning);var H=y.Unicode[_.postScriptName];H&&(_.metadata.Unicode.encoding=H,_.encoding=H.codePages[0])}])})(ye.API),(function(n){var t=function(e){for(var r=e.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=e.charCodeAt(o);return s};n.API.events.push(["addFont",function(e){var r=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(lp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,r)}}])})(ye),ye.API.addSvgAsImage=function(n,t,e,r,s,o,c,h){if(isNaN(t)||isNaN(e))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Ge.canvg?Promise.resolve(Ge.canvg):kg(()=>import("./index.es-CXU6p2JR.js"),[])).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C}).then(function(C){return C.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(y)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,r,s,c,h)})},ye.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,e);return this},ye.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,y=0,A=0;function C(F,H){var z,M=!1;for(z=0;z<F.length;z+=1)F[z]===H&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=h.length;for(A=0;A<_;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Qn(n)==="object"){for(s in n)if(o=n[s],C(h,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&C(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[s].value="["+f.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var F,H=[];for(F in e)e[F].explicitSet===!0&&(e[F].type==="name"?H.push("/"+F+" /"+e[F].value):H.push("/"+F+" "+e[F].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},ye.API.addMetadata=function(n,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",q7),this.internal.events.subscribe("postPutResources",V7)),this},(function(n){var t=n.API,e=t.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],A=0,C=o.length;A<C;++A){if(h=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return y.join("");h=h.toString(16),y.push(d[4-h.length],h)}return y.join("")},r=function(o){var c,h,f,d,y,A,C;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,C=(h=Object.keys(o).sort(function(_,F){return _-F})).length;A<C;A++)c=h[A],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,y=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,C=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",F=0;F<C.length;F++)_+=String.fromCharCode(C[F]);var H=d();y({data:_,addLength1:!0,objectId:H}),f("endobj");var z=d();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:z}),f("endobj");var M=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+rh(h.fontName)),f("/FontFile2 "+H+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var et=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+rh(h.fontName)),f("/FontDescriptor "+M+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+z+" 0 R"),f("/BaseFont /"+rh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+et+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,y=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,C="",_=0;_<A.length;_++)C+=String.fromCharCode(A[_]);var F=d();y({data:C,addLength1:!0,objectId:F}),f("endobj");var H=d();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:H}),f("endobj");var z=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+F+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+rh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var M=0;M<h.metadata.hmtx.widths.length;M++)h.metadata.hmtx.widths[M]=parseInt(h.metadata.hmtx.widths[M]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+rh(h.fontName)+"/FontDescriptor "+z+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,h=o.text||"",f=o.x,d=o.y,y=o.options||{},A=o.mutex||{},C=A.pdfEscape,_=A.activeFontKey,F=A.fonts,H=_,z="",M=0,et="",nt=F[H].encoding;if(F[H].encoding!=="Identity-H")return{text:h,x:f,y:d,options:y,mutex:A};for(et=h,H=_,Array.isArray(h)&&(et=h[0]),M=0;M<et.length;M+=1)F[H].metadata.hasOwnProperty("cmap")&&(c=F[H].metadata.cmap.unicode.codeMap[et[M].charCodeAt(0)]),c||et[M].charCodeAt(0)<256&&F[H].metadata.hasOwnProperty("Unicode")?z+=et[M]:z+="";var it="";return parseInt(H.slice(1))<14||nt==="WinAnsiEncoding"?it=C(z,H).split("").map(function(_t){return _t.charCodeAt(0).toString(16)}).join(""):nt==="Identity-H"&&(it=e(z,F[H])),A.isHex=!0,{text:it,x:f,y:d,options:y,mutex:A}};t.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(s(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:c})).text}])})(ye),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(ye.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,c,h,f,d,y,A=t,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},z=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),et=!1,nt=0;this.__bidiEngine__={};var it=function(I){var R=I.charCodeAt(),E=R>>8,rt=H[E];return rt!==void 0?A[256*rt+(255&R)]:E===252||E===253?"AL":M.test(E)?"L":E===8?"R":"N"},_t=function(I){for(var R,E=0;E<I.length;E++){if((R=it(I.charAt(E)))==="L")return!1;if(R==="R")return!0}return!1},Dt=function(I,R,E,rt){var yt,st,ft,U,ct=R[rt];switch(ct){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":et=!1;break;case"N":case"AN":break;case"EN":et&&(ct="AN");break;case"AL":et=!0,ct="R";break;case"WS":case"BN":ct="N";break;case"CS":rt<1||rt+1>=R.length||(yt=E[rt-1])!=="EN"&&yt!=="AN"||(st=R[rt+1])!=="EN"&&st!=="AN"?ct="N":et&&(st="AN"),ct=st===yt?st:"N";break;case"ES":ct=(yt=rt>0?E[rt-1]:"B")==="EN"&&rt+1<R.length&&R[rt+1]==="EN"?"EN":"N";break;case"ET":if(rt>0&&E[rt-1]==="EN"){ct="EN";break}if(et){ct="N";break}for(ft=rt+1,U=R.length;ft<U&&R[ft]==="ET";)ft++;ct=ft<U&&R[ft]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(U=R.length,ft=rt+1;ft<U&&R[ft]==="NSM";)ft++;if(ft<U){var bt=I[rt],X=bt>=1425&&bt<=2303||bt===64286;if(yt=R[ft],X&&(yt==="R"||yt==="AL")){ct="R";break}}}ct=rt<1||(yt=R[rt-1])==="B"?"N":E[rt-1];break;case"B":et=!1,s=!0,ct=nt;break;case"S":o=!0,ct="N"}return ct},$=function(I,R,E){var rt=I.split("");return E&&O(rt,E,{hiLevel:nt}),rt.reverse(),R&&R.reverse(),rt.join("")},O=function(I,R,E){var rt,yt,st,ft,U,ct=-1,bt=I.length,X=0,j=[],P=nt?_:C,W=[];for(et=!1,s=!1,o=!1,yt=0;yt<bt;yt++)W[yt]=it(I[yt]);for(st=0;st<bt;st++){if(U=X,j[st]=Dt(I,W,j,st),rt=240&(X=P[U][F[j[st]]]),X&=15,R[st]=ft=P[X][5],rt>0)if(rt===16){for(yt=ct;yt<st;yt++)R[yt]=1;ct=-1}else ct=-1;if(P[X][6])ct===-1&&(ct=st);else if(ct>-1){for(yt=ct;yt<st;yt++)R[yt]=ft;ct=-1}W[st]==="B"&&(R[st]=0),E.hiLevel|=ft}o&&(function(K,ht,gt){for(var Ct=0;Ct<gt;Ct++)if(K[Ct]==="S"){ht[Ct]=nt;for(var Nt=Ct-1;Nt>=0&&K[Nt]==="WS";Nt--)ht[Nt]=nt}})(W,R,bt)},w=function(I,R,E,rt,yt){if(!(yt.hiLevel<I)){if(I===1&&nt===1&&!s)return R.reverse(),void(E&&E.reverse());for(var st,ft,U,ct,bt=R.length,X=0;X<bt;){if(rt[X]>=I){for(U=X+1;U<bt&&rt[U]>=I;)U++;for(ct=X,ft=U-1;ct<ft;ct++,ft--)st=R[ct],R[ct]=R[ft],R[ft]=st,E&&(st=E[ct],E[ct]=E[ft],E[ft]=st);X=U}X++}}},q=function(I,R,E){var rt=I.split(""),yt={hiLevel:nt};return E||(E=[]),O(rt,E,yt),(function(st,ft,U){if(U.hiLevel!==0&&y)for(var ct,bt=0;bt<st.length;bt++)ft[bt]===1&&(ct=z.indexOf(st[bt]))>=0&&(st[bt]=z[ct+1])})(rt,E,yt),w(2,rt,R,E,yt),w(1,rt,R,E,yt),rt.join("")};return this.__bidiEngine__.doBidiReorder=function(I,R,E){if((function(yt,st){if(st)for(var ft=0;ft<yt.length;ft++)st[ft]=ft;h===void 0&&(h=_t(yt)),d===void 0&&(d=_t(yt))})(I,R),c||!f||d)if(c&&f&&h^d)nt=h?1:0,I=$(I,R,E);else if(!c&&f&&d)nt=h?1:0,I=q(I,R,E),I=$(I,R);else if(!c||h||f||d){if(c&&!f&&h^d)I=$(I,R),h?(nt=0,I=q(I,R,E)):(nt=1,I=q(I,R,E),I=$(I,R));else if(c&&h&&!f&&d)nt=1,I=q(I,R,E),I=$(I,R);else if(!c&&!f&&h^d){var rt=y;h?(nt=1,I=q(I,R,E),nt=0,y=!1,I=q(I,R,E),y=rt):(nt=0,I=q(I,R,E),I=$(I,R),nt=1,y=!1,I=q(I,R,E),y=rt,I=$(I,R))}}else nt=0,I=q(I,R,E);else nt=h?1:0,I=q(I,R,E);return I},this.__bidiEngine__.setOptions=function(I){I&&(c=I.isInputVisual,f=I.isOutputVisual,h=I.isInputRtl,d=I.isOutputRtl,y=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(c=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?c.push([e.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):c.push([e.doBidiReorder(s[h])]);r.text=c}else r.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(ye),ye.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Tu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new rR(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new H7(this.contents),this.head=new Y7(this),this.name=new X7(this),this.cmap=new Q4(this),this.toUnicode={},this.hhea=new W7(this),this.maxp=new Z7(this),this.hmtx=new J7(this),this.post=new $7(this),this.os2=new K7(this),this.loca=new iR(this),this.glyf=new tR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)t=f[c],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var s,o,c,h;for(c=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var go,Tu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,s;for(s=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,s,o,c,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*s+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),H7=(function(){var n;function t(e){var r,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,s,o,c,h,f,d,y,A,C,_,F,H;for(H in _=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),c=Math.floor(A/f),y=16*_-A,(s=new Tu).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(c),s.writeShort(y),o=16*_,d=s.pos+o,h=null,F=[],e)for(C=e[H],s.writeString(H),s.writeInt(n(C)),s.writeInt(d),s.writeInt(C.length),F=F.concat(C),H==="head"&&(h=d),d+=C.length;d%4;)F.push(0),d++;return s.write(F),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(e){var r,s,o,c;for(e=X4.call(e);e.length%4;)e.push(0);for(o=new Tu(e),s=0,r=0,c=e.length;r<c;r=r+=4)s+=o.readUInt32();return 4294967295&s},t})(),G7={}.hasOwnProperty,Qo=function(n,t){for(var e in t)G7.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};go=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Y7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Tu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),Hb=(function(){function n(t,e){var r,s,o,c,h,f,d,y,A,C,_,F,H,z,M,et,nt;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(_=t.readUInt16(),C=_/2,t.pos+=6,o=(function(){var it,_t;for(_t=[],f=it=0;0<=C?it<C:it>C;f=0<=C?++it:--it)_t.push(t.readUInt16());return _t})(),t.pos+=2,H=(function(){var it,_t;for(_t=[],f=it=0;0<=C?it<C:it>C;f=0<=C?++it:--it)_t.push(t.readUInt16());return _t})(),d=(function(){var it,_t;for(_t=[],f=it=0;0<=C?it<C:it>C;f=0<=C?++it:--it)_t.push(t.readUInt16());return _t})(),y=(function(){var it,_t;for(_t=[],f=it=0;0<=C?it<C:it>C;f=0<=C?++it:--it)_t.push(t.readUInt16());return _t})(),s=(this.length-t.pos+this.offset)/2,h=(function(){var it,_t;for(_t=[],f=it=0;0<=s?it<s:it>s;f=0<=s?++it:--it)_t.push(t.readUInt16());return _t})(),f=M=0,nt=o.length;M<nt;f=++M)for(z=o[f],r=et=F=H[f];F<=z?et<=z:et>=z;r=F<=z?++et:--et)y[f]===0?c=r+d[f]:(c=h[y[f]/2+(r-F)-(C-f)]||0)!==0&&(c+=d[f]),this.codeMap[r]=65535&c}t.pos=A}return n.encode=function(t,e){var r,s,o,c,h,f,d,y,A,C,_,F,H,z,M,et,nt,it,_t,Dt,$,O,w,q,I,R,E,rt,yt,st,ft,U,ct,bt,X,j,P,W,K,ht,gt,Ct,Nt,Ot,$t,ne;switch(rt=new Tu,c=Object.keys(t).sort(function(ee,ce){return ee-ce}),e){case"macroman":for(H=0,z=(function(){var ee=[];for(F=0;F<256;++F)ee.push(0);return ee})(),et={0:0},o={},yt=0,ct=c.length;yt<ct;yt++)et[Nt=t[s=c[yt]]]==null&&(et[Nt]=++H),o[s]={old:t[s],new:et[t[s]]},z[s]=et[t[s]];return rt.writeUInt16(1),rt.writeUInt16(0),rt.writeUInt32(12),rt.writeUInt16(0),rt.writeUInt16(262),rt.writeUInt16(0),rt.write(z),{charMap:o,subtable:rt.data,maxGlyphID:H+1};case"unicode":for(R=[],A=[],nt=0,et={},r={},M=d=null,st=0,bt=c.length;st<bt;st++)et[_t=t[s=c[st]]]==null&&(et[_t]=++nt),r[s]={old:_t,new:et[_t]},h=et[_t]-s,M!=null&&h===d||(M&&A.push(M),R.push(s),d=h),M=s;for(M&&A.push(M),A.push(65535),R.push(65535),q=2*(w=R.length),O=2*Math.pow(Math.log(w)/Math.LN2,2),C=Math.log(O/2)/Math.LN2,$=2*w-O,f=[],Dt=[],_=[],F=ft=0,X=R.length;ft<X;F=++ft){if(I=R[F],y=A[F],I===65535){f.push(0),Dt.push(0);break}if(I-(E=r[I].new)>=32768)for(f.push(0),Dt.push(2*(_.length+w-F)),s=U=I;I<=y?U<=y:U>=y;s=I<=y?++U:--U)_.push(r[s].new);else f.push(E-I),Dt.push(0)}for(rt.writeUInt16(3),rt.writeUInt16(1),rt.writeUInt32(12),rt.writeUInt16(4),rt.writeUInt16(16+8*w+2*_.length),rt.writeUInt16(0),rt.writeUInt16(q),rt.writeUInt16(O),rt.writeUInt16(C),rt.writeUInt16($),gt=0,j=A.length;gt<j;gt++)s=A[gt],rt.writeUInt16(s);for(rt.writeUInt16(0),Ct=0,P=R.length;Ct<P;Ct++)s=R[Ct],rt.writeUInt16(s);for(Ot=0,W=f.length;Ot<W;Ot++)h=f[Ot],rt.writeUInt16(h);for($t=0,K=Dt.length;$t<K;$t++)it=Dt[$t],rt.writeUInt16(it);for(ne=0,ht=_.length;ne<ht;ne++)H=_[ne],rt.writeUInt16(H);return{charMap:r,subtable:rt.data,maxGlyphID:nt+1}}},n})(),Q4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)e=new Hb(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,s;return e==null&&(e="macroman"),r=Hb.encode(t,e),(s=new Tu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),W7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),K7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),$7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(t.readUInt32());return f}).call(this)}},n})(),Q7=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},X7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,s,o,c,h,f,d,y,A,C;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=y=0,A=r.length;y<A;o=++y)s=r[o],t.pos=s.offset,d=t.readString(s.length),c=new Q7(d,s),f[C=s.nameID]==null&&(f[C]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),Z7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),J7=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,s,o,c,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)y.push(t.readInt16());return y})(),this.widths=(function(){var d,y,A,C;for(C=[],d=0,y=(A=this.metrics).length;d<y;d++)o=A[d],C.push(o.advance);return C}).call(this),r=this.widths[this.widths.length-1],f=[],e=c=0;0<=s?c<s:c>s;e=0<=s?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),X4=[].slice,tR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,s,o,c,h,f,d,y,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,c=(h=new Tu(e.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),y=h.readShort(),this.cache[t]=c===-1?new nR(h,d,A,f,y):new eR(h,c,d,A,f,y),this.cache[t]))},n.prototype.encode=function(t,e,r){var s,o,c,h,f;for(c=[],o=[],h=0,f=e.length;h<f;h++)s=t[e[h]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),eR=(function(){function n(t,e,r,s,o,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),nR=(function(){function n(t,e,r,s,o){var c,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Tu(X4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),iR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Qo(n,go),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<e.length&&e[o]==c){++o,r[c]=s;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),rR=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=s[r];return t},n.prototype.glyphsFor=function(t){var e,r,s,o,c,h,f;for(s={},c=0,h=t.length;c<h;c++)s[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(r=s[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],s[o]=r;return s},n.prototype.encode=function(t,e){var r,s,o,c,h,f,d,y,A,C,_,F,H,z,M;for(s in r=Q4.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),_={0:0},M=r.charMap)_[(f=M[s]).old]=f.new;for(F in C=r.maxGlyphID,c)F in _||(_[F]=C++);return y=(function(et){var nt,it;for(nt in it={},et)it[et[nt]]=nt;return it})(_),A=Object.keys(y).sort(function(et,nt){return et-nt}),H=(function(){var et,nt,it;for(it=[],et=0,nt=A.length;et<nt;et++)h=A[et],it.push(y[h]);return it})(),o=this.font.glyf.encode(c,H,_),d=this.font.loca.encode(o.offsets,H),z={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(z)},n})();ye.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,s,o,c;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)r=e[h],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)c=e[s],o.push("/"+s+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();function Z4(n,t,e,r,s){r=r||{};var o=1.15,c=s.internal.scaleFactor,h=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,y=/\r\n|\r|\n/g,A="",C=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(y):n,C=A.length||1),e+=h*(2-o),r.valign==="middle"?e-=C/2*d:r.valign==="bottom"&&(e-=C*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),A&&C>=1){for(var F=0;F<A.length;F++)s.text(A[F],t-s.getStringUnitWidth(A[F])*_,e),e+=d;return s}t-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,t,e),s}var Gb={},fh=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Gb=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var r,s,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(t.font&&(f=t.font),t.fontStyle){h=t.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var y=n.unifyColor(t.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(t.textColor),y&&(s=this.jsPDFDocument).setTextColor.apply(s,y),y=n.unifyColor(t.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},n.prototype.rect=function(t,e,r,s,o){return this.jsPDFDocument.rect(t,e,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Gb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),V0=function(n,t){return V0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},V0(n,t)};function J4(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");V0(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var tw=(function(n){J4(t,n);function t(e){var r=n.call(this)||this;return r._element=e,r}return t})(Array);function aR(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function sR(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function Pp(n,t,e){e.applyStyles(t,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return e.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function ew(n,t,e,r){var s=t.settings.tableLineWidth,o=t.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var c=nw(s,!1);c&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),r.y-e.y,c)}function nw(n,t){var e=n>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function r1(n,t){var e,r,s,o;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(r=n.top)!==null&&r!==void 0?r:t,right:(s=n.right)!==null&&s!==void 0?s:t,bottom:(o=n.bottom)!==null&&o!==void 0?o:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function iw(n,t){var e=r1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function oR(n,t,e,r,s){var o={},c=1.3333333333333333,h=n0(t,function(nt){return s.getComputedStyle(nt).backgroundColor});h!=null&&(o.fillColor=h);var f=n0(t,function(nt){return s.getComputedStyle(nt).color});f!=null&&(o.textColor=f);var d=uR(r,e);d&&(o.cellPadding=d);var y="borderTopColor",A=c*e,C=r.borderTopWidth;if(r.borderBottomWidth===C&&r.borderRightWidth===C&&r.borderLeftWidth===C){var _=(parseFloat(C)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var F=n0(t,function(nt){return s.getComputedStyle(nt)[y]});F!=null&&(o.lineColor=F);var H=["left","right","center","justify"];H.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),H=["middle","bottom","top"],H.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var z=parseInt(r.fontSize||"");isNaN(z)||(o.fontSize=z/c);var M=lR(r);M&&(o.fontStyle=M);var et=(r.fontFamily||"").toLowerCase();return n.indexOf(et)!==-1&&(o.font=et),o}function lR(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function n0(n,t){var e=rw(n,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function rw(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:rw(n.parentElement,t):e}function uR(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/t),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,o=e.map(function(h){return parseInt(h||"0")/r}),c=r1(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function aw(n,t,e,r,s){var o,c;r===void 0&&(r=!1),s===void 0&&(s=!1);var h;typeof t=="string"?h=e.document.querySelector(t):h=t;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],A=[],C=[];if(!h)return console.error("Html table could not be found with input: ",t),{head:y,body:A,foot:C};for(var _=0;_<h.rows.length;_++){var F=h.rows[_],H=(c=(o=F?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),z=cR(f,d,e,F,r,s);z&&(H==="thead"?y.push(z):H==="tfoot"?C.push(z):A.push(z))}return{head:y,body:A,foot:C}}function cR(n,t,e,r,s,o){for(var c=new tw(r),h=0;h<r.cells.length;h++){var f=r.cells[h],d=e.getComputedStyle(f);if(s||d.display!=="none"){var y=void 0;o&&(y=oR(n,f,t,d,e)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:hR(f)})}}var A=e.getComputedStyle(r);if(c.length>0&&(s||A.display!=="none"))return c}function hR(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function fR(n,t,e){for(var r=0,s=[n,t,e];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Cl(n,t,e,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function sw(n,t){var e=new fh(n),r=e.getDocumentOptions(),s=e.getGlobalOptions();fR(s,r,t);var o=Cl({},s,r,t),c;typeof window<"u"&&(c=window);var h=dR(s,r,t),f=pR(s,r,t),d=gR(e,o),y=yR(e,o,c);return{id:t.tableId,content:y,hooks:f,styles:h,settings:d}}function dR(n,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],y=t[f],A=e[f];r.columnStyles=Cl({},d,y,A)}else{var C=[n,t,e],_=C.map(function(F){return F[f]||{}});r[f]=Cl({},_[0],_[1],_[2])}},o=0,c=Object.keys(r);o<c.length;o++){var h=c[o];s(h)}return r}function pR(n,t,e){for(var r=[n,t,e],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=r;o<c.length;o++){var h=c[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function gR(n,t){var e,r,s,o,c,h,f,d,y,A,C,_,F=r1(t.margin,40/n.scaleFactor()),H=(e=mR(n,t.startY))!==null&&e!==void 0?e:F.top,z;t.showFoot===!0?z="everyPage":t.showFoot===!1?z="never":z=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var M;t.showHead===!0?M="everyPage":t.showHead===!1?M="never":M=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var et=(o=t.useCss)!==null&&o!==void 0?o:!1,nt=t.theme||(et?"plain":"striped"),it=!!t.horizontalPageBreak,_t=(c=t.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=t.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:et,theme:nt,startY:H,margin:F,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=t.tableWidth)!==null&&y!==void 0?y:"auto",showHead:M,showFoot:z,tableLineWidth:(A=t.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(C=t.tableLineColor)!==null&&C!==void 0?C:200,horizontalPageBreak:it,horizontalPageBreakRepeat:_t,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function mR(n,t){var e=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(e&&e.startPageNumber){var c=e.startPageNumber+e.pageNumber-1;o=c===s}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/r:null}function yR(n,t,e){var r=t.head||[],s=t.body||[],o=t.foot||[];if(t.html){var c=t.includeHiddenHtml;if(e){var h=aw(n,t.html,e,c,t.useCss)||{};r=h.head||r,s=h.body||r,o=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=t.columns||vR(r,s,o);return{columns:f,head:r,body:s,foot:o}}function vR(n,t,e){var r=n[0]||t[0]||e[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,h;Array.isArray(r)?h=r[parseInt(o)]:h=r[o],typeof h=="object"&&!Array.isArray(h)&&(c=h?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};s.push(y)}}),s}var q0=(function(){function n(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return n})(),bR=(function(n){J4(t,n);function t(e,r,s,o,c,h){var f=n.call(this,e,r,h)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return t})(q0),xR=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,r,s,o,c){for(var h=0,f=e;h<f.length;h++){var d=f[h],y=new bR(t,this,r,s,o,c),A=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new q0(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new q0(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},n})(),ow=(function(){function n(t,e,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof tw&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,s){var o;return Math.max(r,((o=e.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var s=e.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(s,o){var c=r.cells[o.index];if(!c)return 0;var h=e.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),lw=(function(){function n(t,e,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*e,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=r1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),_R=(function(){function n(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,s=t.allRows();r<s.length;r++){var o=s[r],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(e=Math.max(e,c.styles.cellWidth))}return e},n})();function wR(n,t){SR(n,t);var e=[],r=0;t.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(t);c?o.width=c:(o.width=o.wrappedWidth,e.push(o)),r+=o.width});var s=t.getWidth(n.pageSize().width)-r;s&&(s=H0(e,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=H0(e,s,function(o){return o.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),ER(t),TR(t,n),AR(t)}function SR(n,t){var e=n.scaleFactor(),r=t.settings.horizontalPageBreak,s=iw(n,t);t.allRows().forEach(function(o){for(var c=0,h=t.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){var y=t.hooks.didParseCell;t.callCellHooks(n,y,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=Pp(d.text,d.styles,n)+A;var C=Pp(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=C+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/e;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(o){for(var c=0,h=t.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},A=y.cellWidth||y.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function H0(n,t,e){for(var r=t,s=n.reduce(function(_,F){return _+F.wrappedWidth},0),o=0;o<n.length;o++){var c=n[o],h=c.wrappedWidth/s,f=r*h,d=c.width+f,y=e(c),A=d<y?y:d;t-=A-c.width,c.width=A}if(t=Math.round(t*1e10)/1e10,t){var C=n.filter(function(_){return t<0?_.width>e(_):!0});C.length&&(t=H0(C,t,e))}return t}function AR(n){for(var t={},e=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=t[f.index];if(e>1)e--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,e=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete t[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var A=r.length-s,C=y.rowSpan>A?A:y.rowSpan;t[f.index]={cell:y,left:C,row:o}}}}}function ER(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var r=t[e],s=null,o=0,c=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(c-=1,c>1&&n.columns[h+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function TR(n,t){for(var e={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],c=0,h=n.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){t.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,y+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Yb(d.text,y,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=Yb(d.text,y,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,y);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var C=d.contentHeight/d.rowSpan;d.rowSpan>1&&e.count*e.height<C*d.rowSpan?e={height:C,count:d.rowSpan}:e&&e.count>0&&e.height>C&&(C=e.height),C>o.height&&(o.height=C)}}e.count--}}function Yb(n,t,e,r,s){return n.map(function(o){return CR(o,t,e,r,s)})}function CR(n,t,e,r,s){var o=1e4*r.scaleFactor();if(t=Math.ceil(t*o)/o,t>=Pp(n,e,r))return n;for(;t<Pp(n+s,e,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function uw(n,t){var e=new fh(n),r=NR(t,e.scaleFactor()),s=new xR(t,r);return wR(e,s),e.applyStyles(e.userStyles),s}function NR(n,t){var e=n.content,r=IR(e.columns);if(e.head.length===0){var s=Wb(r,"head");s&&e.head.push(s)}if(e.foot.length===0){var s=Wb(r,"foot");s&&e.foot.push(s)}var o=n.settings.theme,c=n.styles;return{columns:r,head:i0("head",e.head,r,c,o,t),body:i0("body",e.body,r,c,o,t),foot:i0("foot",e.foot,r,c,o,t)}}function i0(n,t,e,r,s,o){var c={},h=t.map(function(f,d){for(var y=0,A={},C=0,_=0,F=0,H=e;F<H.length;F++){var z=H[F];if(c[z.index]==null||c[z.index].left===0)if(_===0){var M=void 0;Array.isArray(f)?M=f[z.index-C-y]:M=f[z.dataKey];var et={};typeof M=="object"&&!Array.isArray(M)&&(et=M?.styles||{});var nt=LR(n,z,d,s,r,o,et),it=new lw(M,nt,n);A[z.dataKey]=it,A[z.index]=it,_=it.colSpan-1,c[z.index]={left:it.rowSpan-1,times:_}}else _--,C++;else c[z.index].left--,_=c[z.index].times,y++}return new ow(f,d,n,A)});return h}function Wb(n,t){var e={};return n.forEach(function(r){if(r.raw!=null){var s=RR(t,r.raw);s!=null&&(e[r.dataKey]=s)}}),Object.keys(e).length>0?e:null}function RR(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function IR(n){return n.map(function(t,e){var r,s;return typeof t=="object"?s=(r=t.dataKey)!==null&&r!==void 0?r:e:s=e,new _R(s,t,e)})}function LR(n,t,e,r,s,o,c){var h=sR(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Cl({},h.table,h[n],s.styles,f),y=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},A=n==="body"?y:{},C=n==="body"&&e%2===0?Cl({},h.alternateRow,s.alternateRowStyles):{},_=aR(o),F=Cl({},_,d,C,A);return Cl(F,c)}function DR(n,t,e){var r;e===void 0&&(e={});var s=iw(n,t),o=new Map,c=[],h=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(C){var _=t.columns.find(function(F){return F.dataKey===C||F.index===C});_&&!o.has(_.index)&&(o.set(_.index,!0),c.push(_.index),h.push(t.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,y=(r=e?.start)!==null&&r!==void 0?r:0;y<t.columns.length;){if(o.has(y)){y++;continue}var A=t.columns[y].wrappedWidth;if(d||s>=A)d=!1,c.push(y),h.push(t.columns[y]),s-=A;else break;y++}return{colIndexes:c,columns:h,lastIndex:y-1}}function jR(n,t){for(var e=[],r=0;r<t.columns.length;r++){var s=DR(n,t,{start:r});s.columns.length&&(e.push(s),r=s.lastIndex)}return e}function cw(n,t){var e=t.settings,r=e.startY,s=e.margin,o={x:s.left,y:r},c=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),h=r+s.bottom+c;if(e.pageBreak==="avoid"){var f=t.body,d=f.reduce(function(C,_){return C+_.height},0);h+=d}var y=new fh(n);(e.pageBreak==="always"||e.startY!=null&&h>y.pageSize().height)&&(fw(y),o.y=s.top),t.callWillDrawPageHooks(y,o);var A=Cl({},o);t.startPageNumber=y.pageNumber(),e.horizontalPageBreak?kR(y,t,A,o):(y.applyStyles(y.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(C){return Dl(y,t,C,o,t.columns)}),y.applyStyles(y.userStyles),t.body.forEach(function(C,_){var F=_===t.body.length-1;zp(y,t,C,F,A,o,t.columns)}),y.applyStyles(y.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(C){return Dl(y,t,C,o,t.columns)})),ew(y,t,A,o),t.callEndPageHooks(y,o),t.finalY=o.y,n.lastAutoTable=t,y.applyStyles(y.userStyles)}function kR(n,t,e,r){var s=jR(n,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?Tf(n,t,e,r,d.columns,!0):Kb(n,t,r,d.columns),MR(n,t,e,r,d.columns),r0(n,t,r,d.columns)});else for(var c=-1,h=s[0],f=function(){var d=c;if(h){n.applyStyles(n.userStyles);var y=h.columns;c>=0?Tf(n,t,e,r,y,!0):Kb(n,t,r,y),d=$b(n,t,c+1,r,y),r0(n,t,r,y)}var A=d-c;s.slice(1).forEach(function(C){n.applyStyles(n.userStyles),Tf(n,t,e,r,C.columns,!0),$b(n,t,c+1,r,C.columns,A),r0(n,t,r,C.columns)}),c=d};c<t.body.length-1;)f()}function Kb(n,t,e,r){var s=t.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(o){return Dl(n,t,o,e,r)})}function MR(n,t,e,r,s){n.applyStyles(n.userStyles),t.body.forEach(function(o,c){var h=c===t.body.length-1;zp(n,t,o,h,e,r,s)})}function $b(n,t,e,r,s,o){n.applyStyles(n.userStyles),o=o??t.body.length;var c=Math.min(e+o,t.body.length),h=-1;return t.body.slice(e,c).forEach(function(f,d){var y=e+d===t.body.length-1,A=hw(n,t,y,r);f.canEntireRowFit(A,s)&&(Dl(n,t,f,r,s),h=e+d)}),h}function r0(n,t,e,r){var s=t.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(o){return Dl(n,t,o,e,r)})}function OR(n,t,e){var r=e.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((t-s)/r);return Math.max(0,o)}function PR(n,t,e,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,c=0,h=e.columns;c<h.length;c++){var f=h[c],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new lw(d.raw,d.styles,d.section);y=Cl(y,d),y.text=[];var A=OR(d,t,r);d.text.length>A&&(y.text=d.text.splice(A,d.text.length));var C=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(C,_),d.contentHeight>=t&&(d.contentHeight=t,y.styles.minCellHeight-=t),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(C,_),y.contentHeight>o&&(o=y.contentHeight),s[f.index]=y}}var F=new ow(n.raw,-1,n.section,s,!0);F.height=o;for(var H=0,z=e.columns;H<z.length;H++){var f=z[H],y=F.cells[f.index];y&&(y.height=F.height);var d=n.cells[f.index];d&&(d.height=n.height)}return F}function zR(n,t,e,r){var s=n.pageSize().height,o=r.settings.margin,c=o.top+o.bottom,h=s-c;t.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=t.getMinimumRowHeight(r.columns,n),d=f<e;if(f>h)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=t.hasRowSpan(r.columns),A=t.getMaxCellHeight(r.columns)>h;return A?(y&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function zp(n,t,e,r,s,o,c){var h=hw(n,t,r,o);if(e.canEntireRowFit(h,c))Dl(n,t,e,o,c);else if(zR(n,e,h,t)){var f=PR(e,h,t,n);Dl(n,t,e,o,c),Tf(n,t,s,o,c),zp(n,t,f,r,s,o,c)}else Tf(n,t,s,o,c),zp(n,t,e,r,s,o,c)}function Dl(n,t,e,r,s){r.x=t.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var h=c[o],f=e.cells[h.index];if(!f){r.x+=h.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=t.callCellHooks(n,t.hooks.willDrawCell,f,e,h,r);if(d===!1){r.x+=h.width;continue}FR(n,f,r);var y=f.getTextPos();Z4(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,f,e,h,r),r.x+=h.width}r.y+=e.height}function FR(n,t,e){var r=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=nw(r.lineWidth,r.fillColor);s&&n.rect(t.x,e.y,t.width,t.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),BR(n,t,e,r.lineWidth))}function BR(n,t,e,r){var s,o,c,h;r.top&&(s=e.x,o=e.y,c=e.x+t.width,h=e.y,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,c,h)),r.bottom&&(s=e.x,o=e.y+t.height,c=e.x+t.width,h=e.y+t.height,r.right&&(c+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,c,h)),r.left&&(s=e.x,o=e.y,c=e.x,h=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,s,o,c,h)),r.right&&(s=e.x+t.width,o=e.y,c=e.x+t.width,h=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,s,o,c,h));function f(d,y,A,C,_){n.getDocument().setLineWidth(d),n.getDocument().line(y,A,C,_,"S")}}function hw(n,t,e,r){var s=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(s+=t.getFootHeight(t.columns)),n.pageSize().height-r.y-s}function Tf(n,t,e,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(h){return Dl(n,t,h,r,s)}),t.callEndPageHooks(n,r);var c=t.settings.margin;ew(n,t,e,r),fw(n),t.pageNumber++,r.x=c.left,r.y=c.top,e.y=c.top,t.callWillDrawPageHooks(n,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(h){return Dl(n,t,h,r,s)}),n.applyStyles(n.userStyles))}function fw(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function UR(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],s=sw(this,r),o=uw(this,s);return cw(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,r,s){Z4(t,e,r,s,this)},n.API.autoTableSetDefaults=function(t){return fh.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){fh.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new fh(this),o=aw(s,t,window,e,!1),c=o.head,h=o.body,f=((r=c[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var a0;function Nl(n,t){var e=sw(n,t),r=uw(n,e);cw(n,r)}try{if(typeof window<"u"&&window){var Qb=window,Xb=Qb.jsPDF||((a0=Qb.jspdf)===null||a0===void 0?void 0:a0.jsPDF);Xb&&UR(Xb)}}catch(n){console.error("Could not apply autoTable plugin",n)}const _h="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3cdefs%3e%3clinearGradient%20id='grad1'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23006CE0;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23004BA0;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3ccircle%20cx='50'%20cy='50'%20r='45'%20fill='url(%23grad1)'%20/%3e%3cpath%20d='M55%2020%20L35%2050%20L50%2050%20L45%2080%20L65%2050%20L50%2050%20Z'%20fill='white'%20stroke='white'%20stroke-width='2'%20stroke-linejoin='round'/%3e%3c/svg%3e",VR=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],qR=({tickets:n,computers:t})=>{const[e,r]=Zt.useState("tickets"),[s,o]=Zt.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,h]=Zt.useState([]),[f,d]=Zt.useState(!1),y=w=>{h(q=>q.includes(w)?q.filter(I=>I!==w):[...q,w])},A=()=>c.length===0?t||[]:(t||[]).filter(w=>c.includes(w.type)),_=(n||[]).filter(w=>w.status==="closed").filter(w=>{if(!w.closedAt)return!1;try{const q=new Date(w.closedAt).toISOString().split("T")[0];return q>=s.start&&q<=s.end}catch{return!1}}),F=[0,108,224],H=[100,100,100],z=[245,247,250],M=(w,q,I)=>{const R=w.internal.pageSize.width;try{const E=new Image;E.src=_h,w.addImage(E,"PNG",14,10,30,10)}catch{console.warn("Logo not loaded")}w.setFillColor(...F),w.rect(0,0,R,5,"F"),w.setTextColor(0),w.setFontSize(22),w.setFont("helvetica","bold"),w.text("ELSPEC ANDINA",50,20),w.setFontSize(10),w.setTextColor(100),w.setFont("helvetica","normal"),w.text("Soluciones en Calidad de Energa",50,25),w.setDrawColor(200),w.line(14,30,R-14,30),q&&(w.setFontSize(18),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(q,14,42)),I&&(w.setFontSize(11),w.setTextColor(...H),w.setFont("helvetica","normal"),w.text(I,14,49))},et=(w,q)=>{const I=w.internal.pageSize.width,R=w.internal.pageSize.height,E=w.internal.getNumberOfPages();w.setTextColor(150),w.setFontSize(8),w.text(`Pgina ${q} de ${E}`,I-14,R-10,{align:"right"}),w.text(`Confidencial - Uso Interno - Generado el ${new Date().toLocaleDateString()}`,14,R-10)},nt=(w,q,I,R,E,rt,yt,st)=>{w.setFillColor(...z),w.setDrawColor(220),w.roundedRect(q,I,R,E,3,3,"FD"),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(rt.toUpperCase(),q+5,I+8),w.setFontSize(16),w.setTextColor(...st),w.setFont("helvetica","bold"),w.text(String(yt),q+5,I+20)},it=()=>{const w=new ye,q=w.internal.pageSize.width,I=_.length,R=_.reduce((P,W)=>(P[W.priority]=(P[W.priority]||0)+1,P),{high:0,medium:0,low:0}),E=_.reduce((P,W)=>(W.feedback&&W.feedback.rating&&(P.sum+=W.feedback.rating,P.count+=1),P),{sum:0,count:0}),rt=E.count>0?(E.sum/E.count).toFixed(1):"N/A";M(w,"Resumen Ejecutivo de Servicios",`Periodo: ${s.start} al ${s.end}`);const yt=55,st=25,ft=(q-34)/3;nt(w,14,yt,ft,st,"Tickets Resueltos",I,F),nt(w,14+ft+3,yt,ft,st,"Calificacin Prom.",`${rt} / 5.0`,[245,158,11]),nt(w,14+ft*2+6,yt,ft,st,"Alta Prioridad",R.high,[220,38,38]);let U=yt+st+15;w.setFontSize(12),w.setTextColor(...F),w.setFont("helvetica","bold"),w.text("Detalle de Servicios Prestados:",14,U),U+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("A continuacin se presenta el detalle de las solicitudes de soporte tcnico atendidas y cerradas durante el periodo seleccionado. Este informe consolida la gestin de incidentes y requerimientos para garantizar la continuidad operativa.",q-28),14,U),U+=20;const bt=["ID","Ttulo","Solicitante","Prioridad","Fecha Cierre","Calif."],X=_.map(P=>[P.id?P.id.slice(-6):"",P.title||"",P.author||"",(P.priority||"").toUpperCase(),P.closedAt?new Date(P.closedAt).toLocaleDateString():"",P.feedback?`${P.feedback.rating}/5`:"-"]);Nl(w,{head:[bt],body:X,startY:U,theme:"grid",headStyles:{fillColor:F,textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:z},margin:{top:35}});const j=w.internal.getNumberOfPages();for(let P=1;P<=j;P++)w.setPage(P),P>1&&M(w),et(w,P);w.addPage(),M(w),U=40,w.setFontSize(16),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Detalladas de Servicio Tcnico",14,U),U+=15,_.forEach(P=>{const W=w.splitTextToSize(P.description||"",q-40).length,K=P.solution?w.splitTextToSize(P.solution,q-40).length:0,ht=60+W*5+K*5+(P.feedback?30:0);U+ht>280&&(w.addPage(),M(w),U=40),w.setFillColor(...z),w.setDrawColor(200),w.roundedRect(14,U,q-28,12,2,2,"F"),w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(0),w.text(`TICKET #${P.id?P.id.slice(-6):"N/A"}`,20,U+8),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Fecha: ${new Date(P.createdAt).toLocaleDateString()}`,60,U+8);const gt=P.priority==="high"?[220,38,38]:P.priority==="medium"?[217,119,6]:[22,163,74];w.setFont("helvetica","bold"),w.setTextColor(...gt),w.text(`Prioridad: ${P.priority.toUpperCase()}`,110,U+8),w.setTextColor(0),w.text(`Solicitante: ${P.author}`,160,U+8),U+=18,w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(...F);const Ct=w.splitTextToSize(P.title,q-28);w.text(Ct,14,U),U+=Ct.length*6+4,w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(50),w.text("DESCRIPCIN DEL PROBLEMA:",14,U),U+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Nt=w.splitTextToSize(P.description||"Sin detalles.",q-34);if(w.setFillColor(250),w.rect(14,U-4,q-28,Nt.length*5+6,"F"),w.text(Nt,17,U),U+=Nt.length*5+12,P.solution){w.setFontSize(9),w.setFont("helvetica","bold"),w.setTextColor(22,163,74),w.text("SOLUCIN TCNICA APLICADA:",14,U),U+=5,w.setFont("helvetica","normal"),w.setTextColor(60);const Ot=w.splitTextToSize(P.solution,q-34);if(w.setFillColor(240,253,244),w.rect(14,U-4,q-28,Ot.length*5+6,"F"),w.text(Ot,17,U),U+=Ot.length*5+4,P.recommendation){U+=4,w.setFont("helvetica","bold"),w.setTextColor(60),w.text("Recomendacin:",17,U),w.setFont("helvetica","normal");const $t=w.splitTextToSize(P.recommendation,q-60);w.text($t,45,U),U+=$t.length*5+6}else U+=8}else U+=5;if(P.feedback){w.setDrawColor(245,158,11),w.setLineWidth(.5),w.line(14,U,q-14,U),U+=6,w.setFontSize(10),w.setFont("helvetica","bold"),w.setTextColor(180,83,9),w.text("EVALUACIN DEL SERVICIO",14,U+4),w.setFontSize(12);const Ot="".repeat(P.feedback.rating)+"".repeat(5-P.feedback.rating);if(w.text(Ot,70,U+4),w.setFontSize(9),P.feedback.comment){w.setFont("helvetica","italic"),w.setTextColor(80);const $t=w.splitTextToSize(`"${P.feedback.comment}"`,q-110);w.text($t,100,U+4),U+=Math.max(10,$t.length*4+10)}else U+=12}else U+=10;w.setDrawColor(200),w.setLineWidth(.5),w.line(14,U-2,q-14,U-2),U+=10}),w.save(`Informe_Soporte_${s.end}.pdf`)},_t=()=>{const w=new ye,q=w.internal.pageSize.width,I=A(),R=I.length,E=I.filter(P=>P.status==="Active").length,rt=I.filter(P=>P.status==="Stock").length,yt=I.filter(P=>P.status==="Maintenance").length;M(w,"Inventario General de Activos IT",`Fecha de Corte: ${new Date().toLocaleDateString()}`);const st=55,ft=25,U=(q-34)/4;nt(w,14,st,U,ft,"Total Equipos",R,F),nt(w,14+U+2,st,U,ft,"En Uso (Asignados)",E,[22,163,74]),nt(w,14+U*2+4,st,U,ft,"En Stock",rt,[245,158,11]),nt(w,14+U*3+6,st,U,ft,"Mantenimiento",yt,[220,38,38]);let ct=st+ft+15;w.setFontSize(12),w.setTextColor(...F),w.setFont("helvetica","bold"),w.text("Estado del Parque Informtico:",14,ct),ct+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Informe detallado de los activos tecnolgicos registrados en el sistema. Incluye equipos de cmputo asignados a usuarios, equipos disponibles en inventario y aquellos que se encuentran en procesos de reparacin o baja.",q-28),14,ct),ct+=20;const X=I.map(P=>[P.name||`${P.brand} ${P.model}`,P.type||"N/A",P.serial||"N/A",P.assignedTo||"---",P.location||"N/A",P.status==="Active"?"EN USO":P.status==="Stock"?"DISPONIBLE":P.status.toUpperCase()]);Nl(w,{head:[["Equipo / Modelo","Tipo","Serial","Asignado A","Ubicacin","Estado","Fallas"]],body:X.map(P=>{const K=I.find(ht=>ht.serial===P[2]||ht.name===P[0])?.hasFault?"S":"NO";return[...P,K]}),startY:ct,theme:"striped",headStyles:{fillColor:F,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:z},margin:{top:35}}),w.addPage(),M(w),ct=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Fichas Tcnicas Resumidas",14,ct),ct+=10,I.forEach((P,W)=>{ct+40>280&&(w.addPage(),M(w),ct=40),w.setFillColor(250,250,250),w.setDrawColor(220),w.roundedRect(14,ct,q-28,35,2,2,"FD"),w.setFontSize(12),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${P.brand} ${P.model}`.toUpperCase(),25,ct+10),w.setFontSize(9),w.setTextColor(100),w.setFont("helvetica","normal"),w.text(`Serial: ${P.serial}`,25,ct+16),w.text(`Tipo: ${P.type}`,25,ct+22),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Especificaciones:",90,ct+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`CPU: ${P.processor||"N/A"}`,90,ct+16),w.text(`RAM: ${P.ram||"N/A"} | HDD: ${P.storage||"N/A"}`,90,ct+22),w.text(`OS: ${P.os||"N/A"}`,90,ct+28),w.setFontSize(9),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Asignacin:",150,ct+10),w.setFont("helvetica","normal"),w.setTextColor(80),w.text(`Usuario: ${P.assignedTo||"---"}`,150,ct+16),w.text(`Ubicacin: ${P.location||"N/A"}`,150,ct+22);const K=P.status==="Active"?[22,163,74]:P.status==="Stock"?[245,158,11]:[220,38,38];w.setTextColor(...K),w.setFont("helvetica","bold"),w.text(P.status.toUpperCase(),150,ct+28),P.hasFault&&(w.setFillColor(254,242,242),w.setDrawColor(220,38,38),w.roundedRect(25,ct+32,q-50,12,1,1,"FD"),w.setFontSize(8),w.setTextColor(185,28,28),w.setFont("helvetica","bold"),w.text("REPORTE DE FALLA ACTIV0:",28,ct+37),w.setFont("helvetica","normal"),w.text(P.faultDescription||"Sin detalles",28,ct+41),ct+=15),ct+=40});const j=w.internal.getNumberOfPages();for(let P=1;P<=j;P++)w.setPage(P),P>1&&M(w),et(w,P);w.save(`Inventario_IT_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},Dt=()=>{const w=new ye,q=w.internal.pageSize.width,I=A(),R=W=>{if(!W.maintenanceLog||W.maintenanceLog.length===0)return{status:"Pendiente",color:[100,100,100]};const K=new Date(W.maintenanceLog[W.maintenanceLog.length-1].createdAt||W.maintenanceLog[W.maintenanceLog.length-1].date),ht=new Date().getFullYear();let gt;K.getFullYear()<ht?gt=new Date(ht,6,15):K.getMonth()<=6?gt=new Date(ht,10,15):gt=new Date(ht+1,6,15);const Nt=Math.ceil((gt-new Date)/(1e3*60*60*24));return Nt<0?{status:"Vencido",color:[220,38,38]}:Nt<=30?{status:"Prximo",color:[234,179,8]}:{status:"Al Da",color:[22,163,74]}},E=I.length,rt=I.filter(W=>R(W).status==="Vencido").length,yt=I.filter(W=>R(W).status==="Prximo").length,st=I.filter(W=>R(W).status==="Al Da").length;M(w,"Informe de Mantenimiento Preventivo",`Fecha de Generacin: ${new Date().toLocaleDateString()}`);const ft=55,U=25,ct=(q-34)/4;nt(w,14,ft,ct,U,"Total Equipos",E,F),nt(w,14+ct+2,ft,ct,U,"Al Da (OK)",st,[22,163,74]),nt(w,14+ct*2+4,ft,ct,U,"Atencin Req.",yt,[234,179,8]),nt(w,14+ct*3+6,ft,ct,U,"Vencidos / Crtico",rt,[220,38,38]);let bt=ft+U+15;w.setFontSize(12),w.setTextColor(...F),w.setFont("helvetica","bold"),w.text("Anlisis de Salud del Parque Informtico:",14,bt),bt+=6,w.setFontSize(10),w.setTextColor(60),w.setFont("helvetica","normal"),w.text(w.splitTextToSize("Este informe presenta el estado actual del cronograma de mantenimiento preventivo. Se identifican los equipos que requieren atencin inmediata (Vencidos) y aquellos prximos a su fecha de servicio, permitiendo una planificacin eficiente de los recursos tcnicos.",q-28),14,bt),bt+=20;const j=I.map(W=>{const K=R(W),ht=W.maintenanceLog?.length>0?new Date(W.maintenanceLog[W.maintenanceLog.length-1].createdAt||W.maintenanceLog[W.maintenanceLog.length-1].date).toLocaleDateString():"Sin Registros";return[W.name||`${W.brand} ${W.model}`,W.serial||"N/A",W.assignedTo||"Stock",ht,K.status.toUpperCase()]});Nl(w,{head:[["Equipo","Serial","Usuario / Ubicacin","ltimo Mant.","Estado Actual"]],body:j,startY:bt,theme:"grid",headStyles:{fillColor:F,textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},alternateRowStyles:{fillColor:z},margin:{top:35},didParseCell:W=>{if(W.section==="body"&&W.column.index===4){const K=W.cell.raw;K==="VENCIDO"&&(W.cell.styles.textColor=[220,38,38]),K==="PRXIMO"&&(W.cell.styles.textColor=[217,119,6]),K==="AL DA"&&(W.cell.styles.textColor=[22,163,74])}}}),w.addPage(),M(w),bt=40,w.setFontSize(14),w.setTextColor(0),w.setFont("helvetica","bold"),w.text("Historial de Mantenimientos por Equipo",14,bt),bt+=15,I.forEach((W,K)=>{const ht=W.maintenanceLog?.length||0,gt=35+ht*10;bt+gt>280&&(w.addPage(),M(w),bt=40),w.setFillColor(245,245,245),w.rect(14,bt,q-28,8,"F"),w.setFontSize(10),w.setTextColor(0),w.setFont("helvetica","bold"),w.text(`${W.brand} ${W.model} (${W.serial})`,16,bt+5.5);const Ct=R(W);w.setTextColor(...Ct.color),w.text(Ct.status.toUpperCase(),q-30,bt+5.5,{align:"right"}),bt+=12,ht>0?W.maintenanceLog.slice(-3).forEach(Ot=>{w.setFontSize(9),w.setTextColor(80),w.setFont("helvetica","normal");const $t=new Date(Ot.createdAt||Ot.date).toLocaleDateString();w.text(` ${$t}`,20,bt),w.text(`${Ot.activity} (Tc: ${Ot.technician||"Admin"})`,50,bt),bt+=6}):(w.setFontSize(9),w.setTextColor(150),w.setFont("helvetica","italic"),w.text("   Sin registros de mantenimiento.",20,bt),bt+=6),bt+=8});const P=w.internal.getNumberOfPages();for(let W=1;W<=P;W++)w.setPage(W),W>1&&M(w),et(w,W);w.save(`Plan_Mantenimiento_Completo_${new Date().toISOString().split("T")[0]}.pdf`)},$=_.reduce((w,q)=>(q.feedback&&q.feedback.rating&&(w.sum+=q.feedback.rating,w.count+=1),w),{sum:0,count:0}),O=$.count>0?($.sum/$.count).toFixed(1):"N/A";return v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px",flexWrap:"wrap",gap:"20px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[v.jsx("img",{src:_h,alt:"ELSPEC Logo",style:{height:"50px"}}),v.jsxs("div",{children:[v.jsx("h2",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ELSPEC ANDINA"}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[v.jsx(oo,{size:16,color:"var(--primary)"})," Centro de Inteligencia y Reportes IT"]})]})]}),v.jsx("div",{style:{position:"relative",minWidth:"280px"},children:v.jsxs("select",{value:e,onChange:w=>r(w.target.value),style:{width:"100%",padding:"12px 20px",background:"rgba(0,0,0,0.3)",border:"1px solid var(--primary)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",outline:"none",fontWeight:"bold"},children:[v.jsx("option",{value:"tickets",style:{background:"#1e293b"},children:" Informe de Asistencia Tcnica"}),v.jsx("option",{value:"assets",style:{background:"#1e293b"},children:" Inventario General de Activos"}),v.jsx("option",{value:"maintenance",style:{background:"#1e293b"},children:" Estado de Mantenimiento"})]})})]}),e==="tickets"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[v.jsxs("div",{style:{background:"rgba(0, 108, 224, 0.1)",border:"1px solid rgba(0, 108, 224, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--primary)"},children:_.length}),v.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tickets en Rango"})]}),v.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--success)"},children:_.filter(w=>w.status==="closed").length}),v.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Resueltos"})]}),v.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--warning)"},children:O}),v.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Satisfaccin (1-5)"})]})]}),v.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)"},children:[v.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"end",flexWrap:"wrap"},children:[v.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(Ip,{size:14})," Fecha Inicio"]}),v.jsx("input",{type:"date",value:s.start,onChange:w=>o({...s,start:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),v.jsxs("div",{className:"input-group",style:{marginBottom:0,flex:1,minWidth:"200px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(Ip,{size:14})," Fecha Fin"]}),v.jsx("input",{type:"date",value:s.end,onChange:w=>o({...s,end:w.target.value}),style:{background:"rgba(0,0,0,0.3)"}})]}),v.jsxs("button",{onClick:it,disabled:_.length===0,className:"btn-primary",style:{height:"48px",padding:"0 30px",display:"flex",alignItems:"center",gap:"10px",background:_.length===0?"rgba(255,255,255,0.05)":"var(--primary)",cursor:_.length===0?"not-allowed":"pointer"},children:[v.jsx(sp,{size:20})," Generar Informe (PDF)"]})]}),_.length===0&&v.jsx("p",{style:{marginTop:"20px",color:"var(--warning)",fontSize:"0.9rem",textAlign:"center"},children:"* No se encontraron tickets cerrados en el rango de fechas seleccionado."})]})]}),e==="assets"&&v.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[v.jsx(e1,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),v.jsx("h3",{style:{marginBottom:"10px"},children:"Inventario Completo de Activos IT"}),v.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Genera un reporte detallado de todo el hardware registrado en el sistema."}),v.jsxs("div",{style:{marginBottom:"25px",maxWidth:"400px",margin:"0 auto 25px auto",position:"relative"},children:[v.jsxs("button",{onClick:()=>d(!f),className:"btn-secondary",style:{width:"100%",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"10px",cursor:"pointer"},children:[v.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(n4,{size:16}),c.length===0?"Incluir: Todos los Tipos":`Incluir: ${c.length} seleccionados`]}),v.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:""})]}),f&&v.jsxs("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"10px",padding:"15px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",textAlign:"left",maxHeight:"300px",overflowY:"auto"},children:[v.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[v.jsx("span",{children:"Seleccione Tipos:"}),v.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>h([]),children:"Limpiar Filtros"})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:VR.map(w=>v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px",cursor:"pointer",fontSize:"0.9rem",borderRadius:"5px",background:c.includes(w)?"rgba(0, 108, 224, 0.1)":"transparent"},children:[v.jsx("input",{type:"checkbox",checked:c.includes(w),onChange:()=>y(w)}),w]},w))})]})]}),v.jsxs("button",{onClick:_t,className:"btn-primary",style:{padding:"15px 30px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[v.jsx(sp,{size:20})," Descargar Reporte de Inventario"]}),c.length>0&&v.jsxs("p",{style:{marginTop:"10px",fontSize:"0.85rem",color:"var(--primary)"},children:["* Filtrado por: ",c.join(", ")]})]}),e==="maintenance"&&v.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"25px",borderRadius:"15px",border:"1px solid var(--border-color)",textAlign:"center"},children:[v.jsx(jm,{size:48,color:"var(--warning)",style:{marginBottom:"20px"}}),v.jsx("h3",{style:{marginBottom:"10px"},children:"Estado de Mantenimiento Preventivo"}),v.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Informe de salud del parque informtico, identificando equipos crticos, vencidos y prximos a mantenimiento."}),v.jsxs("button",{onClick:Dt,className:"btn-primary",style:{background:"var(--warning)",color:"black",padding:"15px 30px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[v.jsx(sp,{size:20})," Descargar Informe de Salud (PDF)"]})]})]})},HR=["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M1 Pro","Apple M1 Max","Apple M2","Apple M2 Pro","Apple M2 Max","Apple M3","Apple M3 Pro","Apple M3 Max","Intel Xeon","AMD Threadripper","Otro"],GR=["4GB","8GB","12GB","16GB","24GB","32GB","64GB","128GB"],YR=["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD","500GB HDD","1TB HDD","2TB HDD","4TB HDD"],Zb=["Laptop","Desktop","Servidor","Impresora","Router","Switch","Modem","Tablet","Smartphone","Scanner","Otro"],Jb=["Laptop","Desktop","Servidor","Tablet","Smartphone","Otro"],WR=()=>{const{computers:n,addComputer:t,updateComputer:e,deleteComputer:r,addMaintenanceLog:s}=km(),{users:o}=Hf(),[c,h]=Zt.useState(""),[f,d]=Zt.useState([]),[y,A]=Zt.useState(!1),[C,_]=Zt.useState(null),[F,H]=Zt.useState(null),[z,M]=Zt.useState({activity:"",technician:""}),[et,nt]=Zt.useState({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),it=R=>{nt(R),_(R)},_t=()=>{nt({type:"Laptop",brand:"",model:"",serial:"",processor:"",ram:"",storage:"",os:"",assignedTo:"",location:"",status:"Active",purchaseDate:"",hasFault:!1,faultDescription:"",details:""}),_({id:"new"})},Dt=async R=>{R.preventDefault(),C.id==="new"?await t({...et,createdAt:new Date().toISOString()}):await e(C.id,et),_(null)},$=R=>{window.confirm("Est seguro de eliminar este equipo?")&&r(R)},O=async R=>{R.preventDefault(),F&&z.activity&&(await s(F.id,z),H(null),M({activity:"",technician:""}))},w=R=>{const E=new ye,rt=[0,108,224];try{const U=new Image;U.src=_h,E.addImage(U,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("HOJA DE VIDA",150,18,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(1),E.line(14,30,196,30),E.setDrawColor(200),E.setFillColor(245,247,250),E.roundedRect(14,35,182,35,3,3,"FD"),E.setFontSize(10),E.setTextColor(100),E.text("TIPO DE EQUIPO",20,42),E.text("MARCA",80,42),E.text("MODELO",140,42),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(R.type.toUpperCase(),20,48),E.text(R.brand.toUpperCase(),80,48),E.text(R.model.toUpperCase(),140,48),E.setFontSize(10),E.setTextColor(100),E.setFont("helvetica","normal"),E.text("SERIAL",20,58),E.text("ESTADO ACTUAL",80,58),E.text("FECHA COMPRA",140,58),E.setFontSize(12),E.setTextColor(0),E.setFont("helvetica","bold"),E.text(R.serial||"N/A",20,64),E.text(R.status.toUpperCase(),80,64),E.text(R.purchaseDate||"N/A",140,64),E.setFontSize(14),E.setTextColor(...rt),E.text("Especificaciones Tcnicas",14,85);const yt=[["Tipo de Equipo",R.type],["Marca",R.brand],["Modelo",R.model],["Serial",R.serial]];Jb.includes(R.type)&&yt.push(["Procesador",R.processor],["Memoria RAM",R.ram],["Almacenamiento",R.storage],["Sistema Operativo",R.os]),yt.push(["Ubicacin",R.location],["Asignado a",R.assignedTo],["Estado Funcional",R.hasFault?"CON FALLAS / AVERAS":"Operativo Correctamente"]),R.hasFault&&yt.push(["Descripcin de Falla",R.faultDescription||"Sin detalles registrados"]),R.details&&yt.push(["Detalles Adicionales",R.details]),Nl(E,{body:yt,startY:90,theme:"grid",styles:{fontSize:10,cellPadding:5},columnStyles:{0:{fontStyle:"bold",width:60,fillColor:[240,240,240]},1:{textColor:U=>U.raw[0]==="Estado Funcional"&&R.hasFault?[220,38,38]:[0,0,0]}},didParseCell:U=>{U.section==="body"&&U.row.raw[0]==="Estado Funcional"&&R.hasFault&&(U.cell.styles.textColor=[220,38,38],U.cell.styles.fontStyle="bold")}});const st=E.lastAutoTable.finalY+15;E.setFontSize(14),E.setTextColor(...rt),E.text("Historial de Mantenimientos",14,st);const ft=(R.maintenanceLog||[]).map(U=>[new Date(U.createdAt).toLocaleDateString(),U.activity,U.technician||"Admin"]);ft.length>0?Nl(E,{head:[["Fecha","Actividad Realizada","Tcnico"]],body:ft,startY:st+5,theme:"striped",headStyles:{fillColor:rt}}):(E.setFontSize(10),E.setTextColor(100),E.text("No hay registros de mantenimiento.",14,st+10)),E.setFontSize(8),E.setTextColor(150),E.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Gestin ELSPEC ANDINA`,105,290,{align:"center"}),E.save(`HojaVida_${R.serial||"Equipo"}.pdf`)},q=n.filter(R=>{const E=(R.assignedTo?.toLowerCase()||"").includes(c.toLowerCase())||(R.serial?.toLowerCase()||"").includes(c.toLowerCase())||(R.brand?.toLowerCase()||"").includes(c.toLowerCase()),rt=f.length===0||f.includes(R.type);return E&&rt}),I=R=>{d(E=>E.includes(R)?E.filter(rt=>rt!==R):[...E,R])};return v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[v.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(e1,{color:"var(--primary)",size:24})," Inventario General de Activos"]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsxs("div",{style:{position:"relative"},children:[v.jsxs("button",{onClick:()=>A(!y),className:"btn-secondary",style:{padding:"10px 15px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",borderRadius:"8px",cursor:"pointer"},children:[v.jsx(I0,{size:16}),f.length===0?"Todos los Tipos":`${f.length} Filtros`]}),y&&v.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"5px",background:"#1e293b",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",width:"200px",zIndex:50,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},children:[v.jsxs("div",{style:{marginBottom:"10px",fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",justifyContent:"space-between"},children:[v.jsx("span",{children:"Filtrar por Tipo:"}),v.jsx("span",{style:{cursor:"pointer",color:"var(--primary)"},onClick:()=>d([]),children:"Limpiar"})]}),Zb.map(R=>v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 0",cursor:"pointer",fontSize:"0.9rem"},children:[v.jsx("input",{type:"checkbox",checked:f.includes(R),onChange:()=>I(R)}),R]},R))]})]}),v.jsxs("button",{onClick:_t,className:"btn-primary",style:{padding:"10px 20px",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(bh,{size:18})," Nuevo Equipo"]})]})]}),C&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",padding:"30px",border:"1px solid var(--primary)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:[v.jsx("h4",{style:{marginTop:0,marginBottom:"25px",fontSize:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"15px"},children:C.id==="new"?"Registrar Nuevo Equipo":"Editar Informacin del Equipo"}),v.jsxs("form",{onSubmit:Dt,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Tipo"}),v.jsx("select",{value:et.type,onChange:R=>nt({...et,type:R.target.value}),children:Zb.map(R=>v.jsx("option",{value:R,children:R},R))})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Marca"}),v.jsx("input",{required:!0,value:et.brand,onChange:R=>nt({...et,brand:R.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Modelo"}),v.jsx("input",{required:!0,value:et.model,onChange:R=>nt({...et,model:R.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Serial / Service Tag"}),v.jsx("input",{required:!0,value:et.serial,onChange:R=>nt({...et,serial:R.target.value})})]}),Jb.includes(et.type)&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Procesador"}),v.jsx("input",{list:"processor-list",value:et.processor,onChange:R=>nt({...et,processor:R.target.value})}),v.jsx("datalist",{id:"processor-list",children:HR.map(R=>v.jsx("option",{value:R},R))})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"RAM"}),v.jsx("input",{list:"ram-list",value:et.ram,onChange:R=>nt({...et,ram:R.target.value})}),v.jsx("datalist",{id:"ram-list",children:GR.map(R=>v.jsx("option",{value:R},R))})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Almacenamiento"}),v.jsx("input",{list:"storage-list",value:et.storage,onChange:R=>nt({...et,storage:R.target.value})}),v.jsx("datalist",{id:"storage-list",children:YR.map(R=>v.jsx("option",{value:R},R))})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Sistema Operativo"}),v.jsx("input",{value:et.os,onChange:R=>nt({...et,os:R.target.value})})]})]}),v.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[v.jsx("label",{children:"Observaciones / Detalles Tcnicos Adicionales (IP, MAC, Puertos, etc.)"}),v.jsx("textarea",{rows:"2",value:et.details||"",onChange:R=>nt({...et,details:R.target.value}),placeholder:"Ej: Direccin IP fija, Direccin MAC, Nmero de Puertos..."})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Asignado A (Usuario/Area)"}),v.jsxs("select",{value:et.assignedTo,onChange:R=>{const E=R.target.value;nt({...et,assignedTo:E,status:E?"Active":"Stock"})},children:[v.jsx("option",{value:"",children:"-- Disponible / En Stock --"}),o&&o.map(R=>v.jsx("option",{value:R.username,children:R.name||R.username},R.id))]})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Ubicacin"}),v.jsx("input",{value:et.location,onChange:R=>nt({...et,location:R.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Fecha Compra"}),v.jsx("input",{type:"date",value:et.purchaseDate,onChange:R=>nt({...et,purchaseDate:R.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Estado"}),v.jsxs("select",{value:et.status,onChange:R=>nt({...et,status:R.target.value}),children:[v.jsx("option",{value:"Active",children:"En Uso (Activo)"}),v.jsx("option",{value:"Stock",children:"Disponible (Stock)"}),v.jsx("option",{value:"Maintenance",children:"En Mantenimiento"}),v.jsx("option",{value:"Retired",children:"Retirado / De Baja"})]})]}),v.jsxs("div",{style:{gridColumn:"1 / -1",background:"rgba(255, 0, 0, 0.05)",padding:"15px",borderRadius:"10px",border:"1px solid rgba(255, 0, 0, 0.2)"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",marginBottom:et.hasFault?"15px":"0"},children:[v.jsx("input",{type:"checkbox",checked:et.hasFault,onChange:R=>nt({...et,hasFault:R.target.checked}),style:{width:"20px",height:"20px"}}),v.jsx("span",{style:{fontWeight:"bold",color:et.hasFault?"var(--danger)":"inherit"},children:"El equipo presenta fallas o averas?"})]}),et.hasFault&&v.jsxs("div",{className:"input-group",style:{marginBottom:0},children:[v.jsx("label",{children:"Descripcin de la Falla / Avera"}),v.jsx("textarea",{required:et.hasFault,value:et.faultDescription,onChange:R=>nt({...et,faultDescription:R.target.value}),placeholder:"Describa el problema tcnico, dao fsico o mal funcionamiento...",rows:"3",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--danger)"}})]})]}),v.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"15px",marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[v.jsx("button",{type:"button",onClick:()=>_(null),style:{flex:1,background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancelar"}),v.jsxs("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",fontSize:"1.1rem"},children:[v.jsx(HT,{size:18})," Guardar Cambios"]})]})]})]})}),F&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{className:"glass-card",style:{width:"400px",padding:"25px",border:"1px solid var(--primary)"},children:[v.jsx("h4",{style:{marginTop:0},children:"Registrar Mantenimiento"}),v.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Para: ",F.brand," ",F.model]}),v.jsxs("form",{onSubmit:O,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Actividad Realizada"}),v.jsx("textarea",{required:!0,rows:"4",value:z.activity,onChange:R=>M({...z,activity:R.target.value}),placeholder:"Ej: Limpieza fsica, Actualizacin de Drivers..."})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Tcnico Responsable"}),v.jsx("input",{value:z.technician,onChange:R=>M({...z,technician:R.target.value}),placeholder:"Nombre del tcnico"})]}),v.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Registrar"}),v.jsx("button",{type:"button",onClick:()=>H(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white"},children:"Cancelar"})]})]})]})}),v.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[v.jsx("input",{type:"text",placeholder:"Buscar por serial, marca o usuario...",value:c,onChange:R=>h(R.target.value),style:{width:"100%",padding:"12px 15px 12px 45px",background:"rgba(0,0,0,0.2)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),v.jsx(I0,{size:20,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),v.jsxs("div",{style:{display:"grid",gap:"15px"},children:[q.map(R=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[v.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsxs("h4",{style:{margin:0,fontSize:"1.1rem"},children:[R.brand," ",R.model]}),v.jsx("span",{style:{fontSize:"0.7rem",padding:"3px 8px",borderRadius:"10px",background:R.status==="Active"?"rgba(16, 185, 129, 0.2)":R.status==="Stock"?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:R.status==="Active"?"var(--success)":R.status==="Stock"?"var(--primary)":"var(--danger)"},children:R.status==="Active"?"En Uso":R.status==="Stock"?"Disponible":R.status})]}),v.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginTop:"5px"},children:[v.jsx(a4,{size:14,style:{display:"inline",marginRight:"5px"}})," ",R.assignedTo||"Sin Asignar"," | Serial: ",R.serial]}),R.hasFault&&v.jsxs("div",{style:{fontSize:"0.9rem",color:"#7f1d1d",background:"#fecaca",padding:"8px 12px",borderRadius:"8px",marginTop:"10px",display:"flex",alignItems:"start",gap:"8px",border:"1px solid #f87171"},children:[v.jsx(jm,{size:16,style:{marginTop:"2px",flexShrink:0}}),v.jsxs("div",{children:[v.jsx("strong",{children:"Falla Reportada:"}),v.jsx("div",{style:{marginTop:"2px"},children:R.faultDescription})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsx("button",{onClick:()=>w(R),title:"Descargar Hoja de Vida",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:v.jsx(oo,{size:18})}),v.jsx("button",{onClick:()=>H(R),title:"Registrar Mantenimiento",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:v.jsx(xT,{size:18})}),v.jsx("button",{onClick:()=>it(R),title:"Editar",style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:v.jsx(oc,{size:18})}),v.jsx("button",{onClick:()=>$(R.id),title:"Eliminar",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:v.jsx(xh,{size:18})})]})]},R.id)),q.length===0&&v.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"No se encontraron equipos registrados."})]})]})},KR=()=>{const{computers:n,addMaintenanceLog:t}=km(),[e,r]=Zt.useState(null),[s,o]=Zt.useState({activity:"",technician:""}),[c,h]=Zt.useState(""),f=async A=>{A.preventDefault(),e&&s.activity&&(await t(e.id,s),r(null),o({activity:"",technician:""}))},d=A=>{const C=new Date;let _,F;if(!A.maintenanceLog||A.maintenanceLog.length===0){const et=C.getFullYear(),nt=new Date(et,6,15),it=new Date(et,10,15);C<nt?_=nt:C<it?_=it:_=new Date(et+1,6,15),F=new Date(A.purchaseDate||A.createdAt)}else{const et=A.maintenanceLog[A.maintenanceLog.length-1],nt=et.createdAt||et.date;F=new Date(nt);const it=C.getFullYear();F.getFullYear()<it?(_=new Date(it,6,15),C>_&&(_=new Date(it,10,15)),C>_&&(_=new Date(it+1,6,15))):F.getMonth()<=6?(_=new Date(it,10,15),C>_&&(_=new Date(it+1,6,15))):_=new Date(it+1,6,15)}const H=_-C,z=Math.ceil(H/(1e3*60*60*24));let M="ok";return z<0?M="overdue":z<=30&&(M="warning"),{nextDate:_,diffDays:z,status:M,lastDate:F}},y=n.map(A=>({...A,...d(A)})).filter(A=>(A.brand?.toLowerCase()||"").includes(c.toLowerCase())||(A.model?.toLowerCase()||"").includes(c.toLowerCase())||(A.serial?.toLowerCase()||"").includes(c.toLowerCase())).sort((A,C)=>A.diffDays-C.diffDays);return v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[v.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Ip,{color:"var(--primary)",size:24})," Cronograma de Mantenimiento Preventivo"]}),v.jsxs("div",{style:{position:"relative",width:"300px"},children:[v.jsx("input",{type:"text",placeholder:"Buscar equipo...",value:c,onChange:A=>h(A.target.value),style:{width:"100%",padding:"10px 15px 10px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white"}}),v.jsx(I0,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]})]}),v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)"},children:[v.jsx("th",{style:{padding:"15px"},children:"Equipo / Serial"}),v.jsx("th",{style:{padding:"15px"},children:"ltimo Mantenimiento"}),v.jsx("th",{style:{padding:"15px"},children:"Prximo Mantenimiento"}),v.jsx("th",{style:{padding:"15px"},children:"Estado Actual"}),v.jsx("th",{style:{padding:"15px"},children:"Accin"})]})}),v.jsx("tbody",{children:y.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"5",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontraron equipos para el criterio de bsqueda."})}):y.map(A=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsxs("td",{style:{padding:"15px"},children:[v.jsxs("div",{style:{fontWeight:"bold"},children:[A.brand," ",A.model]}),v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",gap:"5px",alignItems:"center"},children:v.jsx("span",{style:{color:"var(--primary)"},children:A.serial})})]}),v.jsx("td",{style:{padding:"15px",color:"var(--text-muted)"},children:A.lastDate.toLocaleDateString()}),v.jsx("td",{style:{padding:"15px",fontWeight:"bold"},children:A.nextDate.toLocaleDateString()}),v.jsxs("td",{style:{padding:"15px"},children:[A.status==="overdue"&&v.jsxs("span",{style:{color:"var(--danger)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(239, 68, 68, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[v.jsx(r4,{size:16})," Vencido (",Math.abs(A.diffDays)," das)"]}),A.status==="warning"&&v.jsxs("span",{style:{color:"var(--warning)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(245, 158, 11, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[v.jsx(bu,{size:16})," Atencin (",A.diffDays," das)"]}),A.status==="ok"&&v.jsxs("span",{style:{color:"var(--success)",display:"flex",alignItems:"center",gap:"5px",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"15px",width:"fit-content"},children:[v.jsx(Tl,{size:16})," OK (",A.diffDays," das)"]})]}),v.jsx("td",{style:{padding:"15px"},children:v.jsx("button",{onClick:()=>r(A),className:"btn-primary",style:{padding:"8px 15px",fontSize:"0.85rem"},children:"Registrar"})})]},A.id))})]})}),e&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"30px",border:"1px solid var(--primary)"},children:[v.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Tl,{size:24,color:"var(--success)"})," Registrar Mantenimiento"]}),v.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:["Equipo: ",v.jsxs("span",{style:{color:"white",fontWeight:"bold"},children:[e.brand," ",e.model]})," ",v.jsx("br",{}),"Serial: ",e.serial]}),v.jsxs("form",{onSubmit:f,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Actividad Realizada"}),v.jsx("textarea",{required:!0,rows:"4",value:s.activity,onChange:A=>o({...s,activity:A.target.value}),placeholder:"Detalle el trabajo realizado (Ej: Limpieza interna, Cambio de pasta trmica, Formateo...)"})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Tcnico Responsable"}),v.jsx("input",{required:!0,value:s.technician,onChange:A=>o({...s,technician:A.target.value}),placeholder:"Nombre del tcnico"})]}),v.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"25px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"12px"},children:"Guardar Registro"}),v.jsx("button",{type:"button",onClick:()=>r(null),style:{flex:1,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer"},children:"Cancelar"})]})]})]})})]})},$R=({computers:n,currentUser:t})=>{const e=n.filter(s=>s.assignedTo===t.username),r=s=>{const o=new ye,c=[0,108,224];try{const y=new Image;y.src=_h,o.addImage(y,"SVG",14,10,40,15)}catch{console.warn("Logo error")}o.setFontSize(18),o.setTextColor(0),o.setFont("helvetica","bold"),o.text("HOJA DE VIDA",150,18,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("EQUIPO DE CMPUTO",150,23,{align:"center"}),o.setDrawColor(0,108,224),o.setLineWidth(1),o.line(14,30,196,30),o.setDrawColor(200),o.setFillColor(245,247,250),o.roundedRect(14,35,182,35,3,3,"FD"),o.setFontSize(10),o.setTextColor(100),o.text("TIPO DE EQUIPO",20,42),o.text("MARCA",80,42),o.text("MODELO",140,42),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text((s.type||"N/A").toUpperCase(),20,48),o.text((s.brand||"N/A").toUpperCase(),80,48),o.text((s.model||"N/A").toUpperCase(),140,48),o.setFontSize(10),o.setTextColor(100),o.setFont("helvetica","normal"),o.text("SERIAL",20,58),o.text("ESTADO ACTUAL",80,58),o.text("FECHA COMPRA",140,58),o.setFontSize(12),o.setTextColor(0),o.setFont("helvetica","bold"),o.text(s.serial||"N/A",20,64),o.text((s.status||"N/A").toUpperCase(),80,64),o.text(s.purchaseDate||"N/A",140,64),o.setFontSize(14),o.setTextColor(...c),o.text("Especificaciones Tcnicas",14,85);const h=[["Procesador",s.processor],["Memoria RAM",s.ram],["Almacenamiento",s.storage],["Sistema Operativo",s.os],["Ubicacin",s.location],["Asignado a",s.assignedTo]];let f=95;if(o.setFontSize(10),o.setTextColor(0),o.setFont("helvetica","normal"),h.forEach(([y,A])=>{o.setFillColor(250),o.rect(14,f-4,182,8,"F"),o.setFont("helvetica","bold"),o.text(y+":",20,f+1),o.setFont("helvetica","normal"),o.text(A||"N/A",80,f+1),f+=10}),f+=10,o.setFontSize(14),o.setTextColor(...c),o.text("Historial de Mantenimientos",14,f),f+=10,s.maintenanceLog&&s.maintenanceLog.length>0){const y=s.maintenanceLog.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.activity,A.technician||"N/A"]);o.autoTable({startY:f,head:[["Fecha","Actividad Realizada","Tcnico"]],body:y,theme:"grid",headStyles:{fillColor:c,textColor:255},styles:{fontSize:9}})}else o.setFontSize(10),o.setTextColor(100),o.text("No hay registros de mantenimiento.",14,f+5);const d=o.internal.getNumberOfPages();for(let y=1;y<=d;y++)o.setPage(y),o.setFontSize(8),o.setTextColor(150),o.text(`Generado el: ${new Date().toLocaleDateString()} - ELSPEC ANDINA S.A.S`,105,290,{align:"center"});o.save(`HojaDeVida_${s.brand}_${s.model}.pdf`)};return v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("h3",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(e1,{color:"var(--primary)",size:24})," Mis Equipos Asignados"]}),e.length===0?v.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"15px"},children:v.jsx("p",{style:{color:"var(--text-muted)"},children:"No tienes equipos de cmputo asignados actualmente."})}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:e.map(s=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-color)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s",cursor:"default"},onMouseEnter:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseLeave:o=>o.currentTarget.style.transform="translateY(0)",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[v.jsxs("div",{children:[v.jsxs("h4",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:[s.brand," ",s.model]}),v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--primary)",fontWeight:"bold"},children:s.type})]}),v.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",padding:"5px 10px",borderRadius:"8px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(Tl,{size:14})," Asignado"]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Serial:"}),v.jsx("br",{}),s.serial]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Procesador:"}),v.jsx("br",{}),s.processor]}),v.jsxs("div",{children:[v.jsx("strong",{children:"RAM:"}),v.jsx("br",{}),s.ram]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Almacenamiento:"}),v.jsx("br",{}),s.storage]})]}),v.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px",marginTop:"auto"},children:v.jsxs("button",{onClick:()=>r(s),className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[v.jsx(oo,{size:18})," Descargar Hoja de Vida"]})})]},s.id))})]})},QR=()=>{const[n,t]=Zt.useState([]);return Zt.useEffect(()=>{const s=pn.subscribeIndicators(o=>{t(o)});return()=>{typeof s=="function"&&s()}},[]),{indicators:n,addIndicator:s=>pn.addIndicator(s),deleteIndicator:s=>pn.deleteIndicator(s)}},XR=({tickets:n})=>{const{indicators:t,addIndicator:e,deleteIndicator:r}=QR(),[s,o]=Zt.useState("all"),[c,h]=Zt.useState([]),[f,d]=Zt.useState([]),[y,A]=Zt.useState(!1),[C,_]=Zt.useState({name:"",target:"",current:"",unit:"%"}),[F,H]=Zt.useState(null),[z,M]=Zt.useState(null),[et,nt]=Zt.useState([]),[it,_t]=Zt.useState(!1),Dt=E=>{E.preventDefault(),e({name:C.name,target:parseFloat(C.target),current:parseFloat(C.current),unit:C.unit}),_({name:"",target:"",current:"",unit:"%"}),A(!1)},$=E=>{window.confirm("Eliminar este indicador?")&&r(E)},O={high:24,medium:48,low:72};Zt.useEffect(()=>{w()},[n,s]),Zt.useEffect(()=>{const E=pn.subscribeSGIProcesses(rt=>{d(rt)});return()=>E&&E()},[]);const w=()=>{if(!n)return;const E=new Date,rt=n.filter(yt=>{if(s==="all")return!0;const st=new Date(yt.createdAt),ft=Math.abs(E-st),U=Math.ceil(ft/(1e3*60*60*24));return s==="week"?U<=7:s==="month"?U<=30:s==="year"?U<=365:!0});h(rt)},I=(()=>{if(!c.length)return null;let E=0,rt=0,yt=0,st=0;const ft=c.map(bt=>{const X=new Date(bt.createdAt),j=bt.closedAt?new Date(bt.closedAt):new Date,P=bt.status==="closed",K=(j-X)/(1e3*60*60),ht=O[bt.priority]||48,gt=K<=ht,Ct=gt?"ontime":"overdue";return P&&(E++,yt+=K,st++,gt&&rt++),{...bt,durationHours:K.toFixed(1),isCompliant:gt,slaStatus:Ct,slaLimit:ht}}),U=E>0?(rt/E*100).toFixed(1):0,ct=st>0?(yt/st).toFixed(1):0;return{total:c.length,closed:E,open:c.length-E,complianceRate:U,avgResolutionTime:ct,ticketsWithMetrics:ft}})(),R=()=>{const E=new ye,rt=[0,108,224];try{const ft=new Image;ft.src=_h,E.addImage(ft,"PNG",14,10,40,15)}catch{console.warn("Logo error")}E.setFontSize(18),E.setTextColor(0),E.setFont("helvetica","bold"),E.text("INFORME DE GESTIN (SGI)",105,20,{align:"center"}),E.setFontSize(10),E.setTextColor(100),E.text(`Generado: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,105,26,{align:"center"}),E.text(`Filtro: ${s==="all"?"Todo el Histrico":s==="week"?"ltimos 7 das":s==="month"?"ltimo Mes":"ltimo Ao"}`,105,31,{align:"center"}),E.setDrawColor(0,108,224),E.setLineWidth(.5),E.line(14,35,196,35);let yt=40;if(t&&t.length>0){E.setFontSize(14),E.setTextColor(...rt),E.text("Indicadores Personalizados / Metas",14,yt+10);const ft=t.map(U=>[U.name,`${U.target} ${U.unit}`,`${U.current} ${U.unit}`,U.current>=U.target?"CUMPLE":"NO CUMPLE"]);Nl(E,{head:[["Indicador","Meta","Actual","Estado"]],body:ft,startY:yt+15,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:10},didParseCell:U=>{U.section==="body"&&U.column.index===3&&(U.cell.styles.textColor=U.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],U.cell.styles.fontStyle="bold")}}),yt=E.lastAutoTable.finalY+10}if(f&&f.length>0&&(E.setFontSize(14),E.setTextColor(...rt),E.text("Monitor de Procesos SGI",14,yt+10),yt+=15,f.forEach(ft=>{if(ft.indicators&&ft.indicators.length>0){E.setFontSize(12),E.setTextColor(50,50,50),E.text(`Proceso: ${ft.name}`,14,yt);const ct=(new Date().getMonth()+1).toString().padStart(2,"0"),bt=ft.indicators.map(X=>{const j=X.monthlyData?.[ct]||0,P=j>=X.target;return[X.name,`${X.target} ${X.unit}`,`${j} ${X.unit}`,P?"CUMPLE":"REVISAR"]});Nl(E,{head:[["Indicador","Meta","Mes Actual","Estado"]],body:bt,startY:yt+5,theme:"grid",headStyles:{fillColor:[100,100,100]},styles:{fontSize:9},didParseCell:X=>{X.section==="body"&&X.column.index===3&&(X.cell.styles.textColor=X.cell.raw==="CUMPLE"?[16,185,129]:[220,38,38],X.cell.styles.fontStyle="bold")}}),yt=E.lastAutoTable.finalY+10}})),I){E.setFontSize(14),E.setTextColor(...rt),E.text("Resumen Ejecutivo (Tickets)",14,yt+10);const ft=[[" % Cumplimiento SLA",`${I.complianceRate}%`],["Tiempo Promedio Resolucin",`${I.avgResolutionTime} Horas`],["Tickets Cerrados",`${I.closed}`],["Tickets Vencidos",`${I.ticketsWithMetrics.filter(ct=>!ct.isCompliant).length}`],["Total Solicitudes",`${I.total}`]];Nl(E,{body:ft,startY:yt+15,theme:"grid",headStyles:{fillColor:rt},styles:{fontSize:11,cellPadding:4},columnStyles:{0:{fontStyle:"bold",width:100},1:{halign:"right"}}}),E.setFontSize(14),E.setTextColor(...rt),E.text("Detalle de Tickets y Cumplimiento",14,E.lastAutoTable.finalY+15);const U=I.ticketsWithMetrics.map(ct=>[`#${ct.id?ct.id.slice(-6):"N/A"}`,new Date(ct.createdAt).toLocaleDateString(),ct.priority.toUpperCase(),ct.status==="open"?"ABIERTO":"CERRADO",ct.closedBy||"---",`${ct.durationHours} hrs`,ct.isCompliant?"CUMPLE":"VENCIDO"]);Nl(E,{head:[["ID","Fecha","Prioridad","Estado","Responsable","Tiempo","SLA"]],body:U,startY:E.lastAutoTable.finalY+20,theme:"striped",headStyles:{fillColor:rt},styles:{fontSize:9},didParseCell:ct=>{ct.section==="body"&&ct.column.index===6&&(ct.cell.raw==="VENCIDO"?(ct.cell.styles.textColor=[220,38,38],ct.cell.styles.fontStyle="bold"):(ct.cell.styles.textColor=[16,185,129],ct.cell.styles.fontStyle="bold"))}})}else E.setFontSize(12),E.setTextColor(100),E.text("No hay actividad de tickets registrada en este periodo.",14,yt+20);const st=E.internal.getNumberOfPages();for(let ft=1;ft<=st;ft++)E.setPage(ft),E.setFontSize(8),E.setTextColor(150),E.text(`Pgina ${ft} de ${st} - Sistema ELSPEC ANDINA`,105,290,{align:"center"});E.save(`Informe_SGI_${new Date().toISOString().split("T")[0]}.pdf`)};return v.jsxs("div",{style:{padding:"0 0 40px 0"},children:[v.jsx("style",{children:`
                @media (max-width: 768px) {
                    .controls-header {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .controls-header-right {
                        flex-direction: column;
                        gap: 10px !important;
                    }
                    .kpi-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-grid {
                        grid-template-columns: 1fr !important;
                    }
                    .process-card-header {
                        padding: 15px !important;
                    }
                    .evidence-modal-content {
                        width: 95% !important;
                        padding: 20px !important;
                    }
                }
                `}),v.jsxs("div",{className:"glass-card controls-header",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[v.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Lv,{color:"var(--primary)"})," Indicadores de Gestin (SGI)"]}),v.jsxs("div",{className:"controls-header-right",style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsxs("button",{onClick:()=>A(!0),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",background:"var(--success)"},children:[v.jsx(bh,{size:16})," Nuevo"]}),v.jsxs("button",{onClick:R,disabled:!I,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 15px",fontSize:"0.9rem",opacity:I?1:.5,cursor:I?"pointer":"not-allowed"},children:[v.jsx(sp,{size:16})," PDF"]}),v.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)",margin:"0 5px"}}),v.jsx(n4,{size:16,color:"var(--text-muted)"}),v.jsxs("select",{value:s,onChange:E=>o(E.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",padding:"8px",borderRadius:"8px"},children:[v.jsx("option",{value:"all",children:"Todo"}),v.jsx("option",{value:"week",children:"Semana"}),v.jsx("option",{value:"month",children:"Mes"}),v.jsx("option",{value:"year",children:"Ao"})]})]})]}),t.length>0&&v.jsxs("div",{style:{marginBottom:"30px"},children:[v.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Indicadores Personalizados"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:t.map(E=>v.jsxs("div",{className:"glass-card",style:{padding:"20px",position:"relative"},children:[v.jsx("button",{onClick:()=>$(E.id),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",padding:"5px"},children:v.jsx(xh,{size:14})}),v.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"5px"},children:E.name}),v.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"10px"},children:v.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"},children:[E.current," ",v.jsx("span",{style:{fontSize:"1rem"},children:E.unit})]})}),v.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"5px"},children:["Meta: ",E.target," ",E.unit]}),v.jsx("div",{style:{marginTop:"10px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:v.jsx("div",{style:{height:"100%",width:`${Math.min(E.current/E.target*100,100)}%`,background:E.current/E.target*100>=90?"var(--success)":E.current/E.target*100>=70?"var(--warning)":"var(--danger)"}})})]},E.id))})]}),f&&f.length>0&&v.jsxs("div",{style:{marginBottom:"40px"},children:[v.jsxs("h3",{style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"10px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(bu,{color:"var(--primary)"})," Monitor de Procesos Corporativos"]}),v.jsx("div",{className:"process-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"25px"},children:f.map(E=>v.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{className:"process-card-header",style:{padding:"20px",background:"rgba(0, 108, 224, 0.1)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:E.name}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:["Lder: ",E.leader||"Sin asignar"]})]}),v.jsx("div",{style:{padding:"20px",flex:1},children:E.indicators&&E.indicators.length>0?v.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:v.jsx("tbody",{children:E.indicators.map(rt=>{const st=(new Date().getMonth()+1).toString().padStart(2,"0"),ft=rt.monthlyData?.[st]||0,U=Math.min(ft/(rt.target||1)*100,100);return v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{H(rt),M(st),_t(!0),pn.subscribeSGIEvidence(E.id,ct=>{const bt=ct.filter(X=>X.indicatorId===rt.id&&X.month===st);nt(bt)})},className:"indicator-row",children:[v.jsxs("td",{style:{padding:"10px 0"},children:[v.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:rt.name}),v.jsx("div",{style:{height:"6px",width:"100%",background:"rgba(255,255,255,0.1)",borderRadius:"3px"},children:v.jsx("div",{style:{height:"100%",width:`${U}%`,background:U>=90?"var(--success)":U>=70?"var(--warning)":"var(--danger)",borderRadius:"3px",transition:"width 0.5s ease"}})})]}),v.jsx("td",{style:{padding:"10px 0 10px 15px",textAlign:"right",whiteSpace:"nowrap"},children:v.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[ft," ",v.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["/ ",rt.target," ",rt.unit]})]})})]},rt.id)})})}):v.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin indicadores configurados"})})]},E.id))})]}),I?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"kpi-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(52, 211, 153, 0.15)",padding:"15px",borderRadius:"50%"},children:v.jsx(Tl,{size:32,color:"var(--success)"})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Cumplimiento SLA"}),v.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:I.complianceRate>=80?"var(--success)":I.complianceRate>=50?"var(--warning)":"var(--danger)"},children:[I.complianceRate,"%"]}),v.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Meta: > 80%"})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"15px",borderRadius:"50%"},children:v.jsx(bu,{size:32,color:"var(--primary)"})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tiempo Promedio Cierre"}),v.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[I.avgResolutionTime," ",v.jsx("span",{style:{fontSize:"1rem"},children:"hrs"})]})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(239, 68, 68, 0.15)",padding:"15px",borderRadius:"50%"},children:v.jsx(e4,{size:32,color:"var(--danger)"})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Tickets Vencidos"}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--danger)"},children:I.ticketsWithMetrics.filter(E=>!E.isCompliant).length}),v.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[I.ticketsWithMetrics.length," Totales"]})]})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"25px",overflowX:"auto"},children:[v.jsx("h4",{style:{marginBottom:"20px"},children:"Detalle de Cumplimiento por Ticket"}),v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",fontSize:"0.85rem",textAlign:"left"},children:[v.jsx("th",{style:{padding:"10px"},children:"ID Ticket"}),v.jsx("th",{style:{padding:"10px"},children:"Fecha Ingreso"}),v.jsx("th",{style:{padding:"10px"},children:"Prioridad / SLA"}),v.jsx("th",{style:{padding:"10px"},children:"Responsable (Cierre)"}),v.jsx("th",{style:{padding:"10px"},children:"Tiempo Transcurrido"}),v.jsx("th",{style:{padding:"10px"},children:"Estado SLA"}),v.jsx("th",{style:{padding:"10px"},children:"Estado Ticket"})]})}),v.jsx("tbody",{children:I.ticketsWithMetrics.map(E=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"0.9rem"},children:[v.jsxs("td",{style:{padding:"15px 10px",fontFamily:"monospace",color:"var(--primary)"},children:["#",E.id?E.id.slice(-6):"N/A"]}),v.jsx("td",{style:{padding:"15px 10px"},children:new Date(E.createdAt).toLocaleDateString()}),v.jsx("td",{style:{padding:"15px 10px"},children:v.jsxs("span",{style:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem",color:E.priority==="high"?"var(--danger)":E.priority==="medium"?"var(--warning)":"var(--success)"},children:[E.priority," (",E.slaLimit,"h)"]})}),v.jsx("td",{style:{padding:"15px 10px"},children:E.closedBy||(E.status==="closed"?"Admin":"---")}),v.jsxs("td",{style:{padding:"15px 10px"},children:[E.durationHours," hrs"]}),v.jsx("td",{style:{padding:"15px 10px"},children:E.isCompliant?v.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--success)",background:"rgba(16, 185, 129, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[v.jsx(Tl,{size:12})," A Tiempo"]}):v.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",color:"var(--danger)",background:"rgba(239, 68, 68, 0.1)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem"},children:[v.jsx(R0,{size:12})," Vencido"]})}),v.jsx("td",{style:{padding:"15px 10px",opacity:.8},children:E.status==="open"?"Abierto":"Cerrado"})]},E.id))})]})]})]}):v.jsxs("div",{className:"glass-card",style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[v.jsx("div",{style:{marginBottom:"15px"},children:v.jsx(Lv,{size:48,style:{opacity:.2}})}),"No hay actividad de tickets para generar indicadores automticos en este periodo."]}),y&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"500px",border:"1px solid var(--primary)"},children:[v.jsx("h3",{style:{marginTop:0,marginBottom:"20px"},children:"Nuevo Indicador / Meta"}),v.jsxs("form",{onSubmit:Dt,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Nombre del Indicador"}),v.jsx("input",{type:"text",placeholder:"Ej: Satisfaccin Cliente",required:!0,value:C.name,onChange:E=>_({...C,name:E.target.value})})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Meta"}),v.jsx("input",{type:"number",step:"0.01",required:!0,value:C.target,onChange:E=>_({...C,target:E.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Valor Actual"}),v.jsx("input",{type:"number",step:"0.01",required:!0,value:C.current,onChange:E=>_({...C,current:E.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Unidad"}),v.jsxs("select",{value:C.unit,onChange:E=>_({...C,unit:E.target.value}),children:[v.jsx("option",{value:"%",children:"%"}),v.jsx("option",{value:"#",children:"#"}),v.jsx("option",{value:"$",children:"$"})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[v.jsx("button",{type:"button",onClick:()=>A(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),v.jsx("button",{type:"submit",className:"btn-primary",children:"Crear Indicador"})]})]})]})}),it&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card evidence-modal-content",style:{padding:"30px",width:"100%",maxWidth:"600px",maxHeight:"85vh",overflowY:"auto"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[v.jsxs("div",{children:[v.jsx("h3",{style:{margin:0},children:"Detalle de Evidencia"}),v.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:[F?.name," - Mes ",z]})]}),v.jsx("button",{onClick:()=>_t(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:v.jsx(R0,{})})]}),et.length===0?v.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se encontr evidencia para este periodo."}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:et.map(E=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[v.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:E.leaderName}),v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(E.timestamp).toLocaleDateString()})]}),v.jsxs("div",{style:{marginBottom:"15px"},children:[v.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Valor reportado:"}),v.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:E.value})]}),E.comment&&v.jsxs("div",{style:{marginBottom:"15px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"8px",borderLeft:"3px solid var(--primary)"},children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"5px",textTransform:"uppercase"},children:"Comentario / Feedback"}),v.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:E.comment})]}),E.attachments&&E.attachments.length>0&&v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"8px",textTransform:"uppercase"},children:"Archivos adjuntos"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px"},children:E.attachments.map((rt,yt)=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",textAlign:"center"},children:[rt.type?.includes("image")?v.jsx("img",{src:rt.url,alt:"Evidencia",style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"5px",cursor:"pointer"},onClick:()=>window.open(rt.url,"_blank")}):v.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:v.jsx(oo,{size:32,color:"var(--primary)"})}),v.jsx("div",{style:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:rt.name}),v.jsx("a",{href:rt.url,download:rt.name,style:{fontSize:"0.7rem",color:"var(--primary)",textDecoration:"none"},children:"Descargar"})]},yt))})]})]},E.id))})]})})]})},ZR=()=>{const[n,t]=Zt.useState([]),[e,r]=Zt.useState([]),[s,o]=Zt.useState(null),[c,h]=Zt.useState(!1),[f,d]=Zt.useState(!1),[y,A]=Zt.useState(!0),[C,_]=Zt.useState({name:"",description:"",leaders:[]}),[F,H]=Zt.useState(null),[z,M]=Zt.useState({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),[et,nt]=Zt.useState([]),[it,_t]=Zt.useState(!1),[Dt,$]=Zt.useState(null),[O,w]=Zt.useState(null);Zt.useEffect(()=>{const U=pn.subscribeSGIProcesses(bt=>{t(bt),A(!1)});return(async()=>{const bt=await pn.getUsers();r(bt)})(),()=>U()},[]);const q=async U=>{U.preventDefault();try{if(C.leaders.length===0){alert("Debe seleccionar al menos un lder para el proceso.");return}s&&!s.isNew?await pn.updateSGIProcess(s.id,C):await pn.addSGIProcess({...C,indicators:[]}),h(!1),_({name:"",description:"",leaders:[]}),o(null)}catch(ct){console.error("Error saving process:",ct)}},I=async U=>{window.confirm("Seguro que desea eliminar este proceso?")&&(await pn.deleteSGIProcess(U),s?.id===U&&o(null))},R=async U=>{if(U.preventDefault(),!s)return;let ct;if(F)ct=s.indicators.map(bt=>bt.id===F.id?{...bt,...z}:bt);else{const bt={id:Date.now().toString(),...z,monthlyData:{}};ct=[...s.indicators||[],bt]}try{await pn.updateSGIProcess(s.id,{indicators:ct}),o({...s,indicators:ct}),d(!1),M({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),H(null)}catch(bt){console.error("Error saving indicator:",bt)}},E=async U=>{if(!window.confirm("Est seguro de eliminar este indicador?"))return;const ct=s.indicators.filter(bt=>bt.id!==U);await pn.updateSGIProcess(s.id,{indicators:ct}),o({...s,indicators:ct})},rt=(U,ct=null)=>($(U),w(ct),_t(!0),pn.subscribeSGIEvidence(s.id,X=>{let j=X.filter(P=>P.indicatorId===U.id);ct&&(j=j.filter(P=>P.month===ct)),nt(j)})),yt=async(U,ct,bt)=>{if(!s)return;const X=s.indicators.map(j=>j.id===U?{...j,monthlyData:{...j.monthlyData,[ct]:parseFloat(bt)}}:j);try{await pn.updateSGIProcess(s.id,{indicators:X}),o({...s,indicators:X})}catch(j){console.error("Error updating data:",j)}},st=(U,ct)=>{if(!U||!ct)return"rgba(255,255,255,0.05)";const bt=parseFloat(U)/parseFloat(ct)*100;return bt>=90?"rgba(16, 185, 129, 0.2)":bt>=70?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)"},ft=(U,ct)=>{if(!U||!ct)return"rgba(255,255,255,0.1)";const bt=parseFloat(U)/parseFloat(ct)*100;return bt>=90?"#10b981":bt>=70?"#f59e0b":"#ef4444"};return v.jsxs("div",{style:{padding:"20px",width:"100%",margin:"0 auto"},children:[v.jsx("style",{children:`
                @media (max-width: 1024px) {
                    .sgi-management-layout {
                        grid-template-columns: 1fr !important;
                    }
                    .sidebar-processes {
                        order: -1;
                    }
                }
                @media (max-width: 768px) {
                    .header-management {
                        flex-direction: column;
                        align-items: stretch !important;
                        gap: 15px;
                    }
                    .process-detail-header {
                        flex-direction: column;
                        gap: 15px;
                    }
                    .indicators-table-container {
                        margin: 0 -15px;
                        border-radius: 0 !important;
                    }
                }
                `}),v.jsxs("div",{className:"header-management",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[v.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(oo,{color:"var(--primary)"})," Gestin de Procesos SGI"]}),v.jsxs("button",{onClick:()=>{o({isNew:!0}),_({name:"",description:"",leaders:[]}),h(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(bh,{size:18})," Nuevo Proceso"]})]}),v.jsxs("div",{className:"sgi-management-layout",style:{display:"grid",gridTemplateColumns:"minmax(250px, 1fr) 4fr",gap:"30px"},children:[v.jsxs("div",{className:"glass-card sidebar-processes",style:{padding:"20px",height:"fit-content"},children:[v.jsx("h4",{style:{color:"var(--text-muted)",marginBottom:"15px"},children:"Procesos"}),v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(U=>v.jsx("li",{style:{marginBottom:"10px"},children:v.jsxs("div",{onClick:()=>o(U),style:{padding:"12px",borderRadius:"8px",cursor:"pointer",background:s?.id===U.id?"rgba(0, 108, 224, 0.2)":"rgba(255,255,255,0.05)",border:s?.id===U.id?"1px solid var(--primary)":"1px solid transparent",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{style:{fontWeight:500},children:U.name}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("button",{onClick:ct=>{ct.stopPropagation(),o(U),_({name:U.name,description:U.description||"",leaders:U.leaders||(U.leader?[{id:U.leaderId||"",name:U.leader}]:[])}),h(!0)},style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer"},title:"Editar Proceso",children:v.jsx(oc,{size:14})}),v.jsx("button",{onClick:ct=>{ct.stopPropagation(),I(U.id)},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},title:"Eliminar Proceso",children:v.jsx(xh,{size:14})})]})]})},U.id))})]}),v.jsx("div",{className:"glass-card main-process-content",style:{padding:"30px"},children:s&&!s.isNew?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"process-detail-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[v.jsxs("div",{children:[v.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"var(--primary)"},children:s.name}),v.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:s.description||"Sin descripcin"}),v.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:["Lderes:",s.leaders?.map(U=>v.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:U.name},U.id))||s.leader&&v.jsx("span",{className:"badge-blue",style:{fontSize:"0.7rem"},children:s.leader})||"N/A"]})]}),v.jsxs("button",{onClick:()=>{H(null),M({name:"",target:"",unit:"%",requiresPhoto:!1,requiresFile:!1,requiresComment:!1}),d(!0)},className:"btn-primary",style:{background:"var(--success)",fontSize:"0.9rem",padding:"8px 15px"},children:[v.jsx(bh,{size:16,style:{marginRight:"5px"}})," Agregar Indicador"]})]}),v.jsx("div",{className:"glass-card indicators-table-container",style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"12px"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",color:"var(--text-muted)",textAlign:"left"},children:[v.jsx("th",{style:{padding:"10px"},children:"Indicador"}),v.jsx("th",{style:{padding:"10px"},children:"Meta"}),v.jsx("th",{style:{padding:"10px"},children:"Ene"}),v.jsx("th",{style:{padding:"10px"},children:"Feb"}),v.jsx("th",{style:{padding:"10px"},children:"Mar"}),v.jsx("th",{style:{padding:"10px"},children:"Abr"}),v.jsx("th",{style:{padding:"10px"},children:"May"}),v.jsx("th",{style:{padding:"10px"},children:"Jun"}),v.jsx("th",{style:{padding:"10px"},children:"Jul"}),v.jsx("th",{style:{padding:"10px"},children:"Ago"}),v.jsx("th",{style:{padding:"10px"},children:"Sep"}),v.jsx("th",{style:{padding:"10px"},children:"Oct"}),v.jsx("th",{style:{padding:"10px"},children:"Nov"}),v.jsx("th",{style:{padding:"10px"},children:"Dic"}),v.jsx("th",{style:{padding:"10px"},children:"Acciones"})]})}),v.jsxs("tbody",{children:[s.indicators&&s.indicators.map(U=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsxs("td",{style:{padding:"15px 10px"},children:[v.jsx("div",{style:{fontWeight:"bold"},children:U.name}),v.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"5px",opacity:.6},children:[U.requiresPhoto&&v.jsx(N0,{size:14,title:"Requiere Foto"}),U.requiresFile&&v.jsx(Lp,{size:14,title:"Requiere Archivo"}),U.requiresComment&&v.jsx(i4,{size:14,title:"Requiere Comentario"})]})]}),v.jsxs("td",{style:{padding:"15px 10px"},children:[U.target||"-"," ",U.unit]}),["01","02","03","04","05","06","07","08","09","10","11","12"].map(ct=>v.jsx("td",{style:{padding:"5px"},children:v.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[v.jsx("input",{type:"number",style:{width:"50px",background:st(U.monthlyData?.[ct],U.target),border:`1px solid ${ft(U.monthlyData?.[ct],U.target)}`,color:"white",padding:"4px",borderRadius:"4px",fontSize:"0.85rem",transition:"all 0.3s ease"},value:U.monthlyData?.[ct]||"",onChange:bt=>yt(U.id,ct,bt.target.value)}),U.monthlyData?.[ct]!==void 0&&v.jsx("button",{onClick:()=>rt(U,ct),style:{background:"transparent",border:"none",color:"var(--primary)",cursor:"pointer",padding:"2px",marginTop:"2px"},title:"Ver evidencia del mes",children:v.jsx(oo,{size:10})})]})},ct)),v.jsxs("td",{style:{padding:"15px 10px",display:"flex",gap:"10px"},children:[v.jsx("button",{onClick:()=>{H(U),M({name:U.name,target:U.target,unit:U.unit,requiresPhoto:U.requiresPhoto,requiresFile:U.requiresFile,requiresComment:U.requiresComment}),d(!0)},title:"Editar Indicador",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:v.jsx(oc,{size:16})}),v.jsx("button",{onClick:()=>rt(U),title:"Ver Evidencia",style:{background:"rgba(0, 108, 224, 0.1)",border:"none",color:"var(--primary)",cursor:"pointer",padding:"5px",borderRadius:"4px"},children:v.jsx(oo,{size:16})}),v.jsx("button",{onClick:()=>E(U.id),style:{background:"transparent",border:"none",color:"var(--danger)",cursor:"pointer"},children:v.jsx(xh,{size:16})})]})]},U.id)),(!s.indicators||s.indicators.length===0)&&v.jsx("tr",{children:v.jsx("td",{colSpan:"15",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:"No hay indicadores configurados para este proceso."})})]})]})})]}):v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-muted)"},children:[v.jsx(oo,{size:48,style:{opacity:.2,marginBottom:"20px"}}),v.jsx("p",{children:"Seleccione un proceso para ver sus indicadores o cree uno nuevo."})]})})]}),c&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"400px"},children:[v.jsx("h3",{children:s?.id?"Editar Proceso":"Nuevo Proceso"}),v.jsxs("form",{onSubmit:q,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Nombre del Proceso"}),v.jsx("input",{type:"text",required:!0,value:C.name,onChange:U=>_({...C,name:U.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Descripcin"}),v.jsx("textarea",{value:C.description,onChange:U=>_({...C,description:U.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"}})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Seleccionar Lderes (Puede seleccionar varios)"}),v.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px"},children:e.map(U=>{const ct=C.leaders?.some(bt=>bt.id===U.id);return v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("input",{type:"checkbox",checked:ct,onChange:bt=>{let X=[...C.leaders||[]];bt.target.checked?X.push({id:U.id,name:U.name}):X=X.filter(j=>j.id!==U.id),_({...C,leaders:X})}}),v.jsxs("span",{style:{fontSize:"0.9rem"},children:[U.name," ",v.jsxs("small",{style:{opacity:.5},children:["(",U.role,")"]})]})]},U.id)})})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[v.jsx("button",{type:"button",onClick:()=>h(!1),style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),f&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"450px"},children:[v.jsx("h3",{children:F?"Editar Indicador":"Nuevo Indicador de Proceso"}),v.jsxs("form",{onSubmit:R,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Nombre del Indicador / Tarea"}),v.jsx("input",{type:"text",placeholder:"Ej: Entrega de Reportes",required:!0,value:z.name,onChange:U=>M({...z,name:U.target.value})})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Meta"}),v.jsx("input",{type:"number",required:!0,value:z.target,onChange:U=>M({...z,target:U.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Unidad"}),v.jsxs("select",{value:z.unit,onChange:U=>M({...z,unit:U.target.value}),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",width:"100%",padding:"10px",color:"white",borderRadius:"8px"},children:[v.jsx("option",{value:"%",children:"% (Porcentaje)"}),v.jsx("option",{value:"#",children:"# (Cantidad)"}),v.jsx("option",{value:"$",children:"$ (Pesos)"})]})]})]}),v.jsxs("div",{style:{margin:"15px 0"},children:[v.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Requerimientos de Evidencia:"}),v.jsxs("div",{style:{display:"flex",gap:"20px"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:z.requiresPhoto,onChange:U=>M({...z,requiresPhoto:U.target.checked})}),v.jsx("span",{children:"Foto"})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:z.requiresFile,onChange:U=>M({...z,requiresFile:U.target.checked})}),v.jsx("span",{children:"Archivo"})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:z.requiresComment,onChange:U=>M({...z,requiresComment:U.target.checked})}),v.jsx("span",{children:"Comentario"})]})]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[v.jsx("button",{type:"button",onClick:()=>{d(!1),H(null)},style:{background:"transparent",border:"1px solid var(--border-color)",color:"white",padding:"8px 15px",borderRadius:"8px",cursor:"pointer"},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"btn-primary",children:F?"Guardar Cambios":"Agregar"})]})]})]})}),it&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[v.jsxs("div",{children:[v.jsxs("h3",{style:{margin:0},children:["Evidencia: ",Dt?.name]}),O&&v.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--primary)",marginTop:"4px"},children:["Filtrado por Mes: ",O]})]}),v.jsx("button",{onClick:()=>{_t(!1),w(null)},style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:v.jsx(R0,{})})]}),et.length===0?v.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No se ha cargado evidencia para este indicador an."}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:et.map(U=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"15px",borderRadius:"12px",borderLeft:"4px solid var(--primary)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[v.jsx("span",{style:{fontWeight:"bold"},children:U.leaderName}),v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(U.timestamp).toLocaleString()})]}),U.value&&v.jsxs("div",{style:{marginBottom:"10px"},children:["Valor reportado: ",v.jsx("b",{style:{color:"var(--primary)"},children:U.value})]}),U.comment&&v.jsxs("p",{style:{fontSize:"0.9rem",margin:"0 0 10px 0",fontStyle:"italic"},children:['"',U.comment,'"']}),U.attachments&&U.attachments.length>0&&v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:U.attachments.map((ct,bt)=>v.jsxs("a",{href:ct.url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"5px 10px",borderRadius:"6px",fontSize:"0.8rem",textDecoration:"none"},children:[ct.type?.includes("image")?v.jsx(N0,{size:14}):v.jsx(Lp,{size:14}),ct.name]},bt))})]},U.id))})]})})]})},JR=()=>{const[n,t]=Zt.useState([]),[e,r]=Zt.useState(null),[s,o]=Zt.useState(!0),[c,h]=Zt.useState(pn.getSession()),[f,d]=Zt.useState({indicatorId:"",value:"",comment:"",files:[]}),[y,A]=Zt.useState(!1),[C,_]=Zt.useState([]);Zt.useEffect(()=>{if(!c)return;const z=pn.subscribeSGIProcesses(M=>{const et=M.filter(nt=>nt.leaders?.some(it=>it.id===c.id)||nt.leaderId===c.id||nt.leader===c.name);if(t(et),o(!1),e){const nt=et.find(it=>it.id===e.id);r(nt||null)}});return()=>z()},[c,e?.id]),Zt.useEffect(()=>{if(!e)return;const z=pn.subscribeSGIEvidence(e.id,M=>{_(M)});return()=>z()},[e?.id]);const F=z=>{const M=Array.from(z.target.files);if(M.some(nt=>nt.size>1024*1024)){alert(` Uno o ms archivos exceden el lmite de 1MB.

Para esta versin gratuita (sin tarjeta vinculada), los archivos deben ser pequeos (<1MB). Por favor comprima el archivo e intente de nuevo.`),z.target.value="";return}d({...f,files:M})},H=async z=>{if(!f.value&&!f.comment&&f.files.length===0){alert("Por favor ingrese algn dato o evidencia.");return}A(!0);try{const et=(new Date().getMonth()+1).toString().padStart(2,"0"),nt=[];for(const it of f.files){if(it.size>1024*1024)throw new Error(`El archivo ${it.name} es demasiado grande. El lmite es 1MB.`);const _t=await pn.uploadFile(it);nt.push({name:it.name,url:_t,type:it.type})}if(await pn.submitSGIEvidence({processId:e.id,indicatorId:z,leaderId:c.id,leaderName:c.name,month:et,year:new Date().getFullYear(),value:f.value,comment:f.comment,attachments:nt}),f.value){const it=e.indicators.map(_t=>_t.id===z?{..._t,monthlyData:{..._t.monthlyData||{},[et]:parseFloat(f.value)}}:_t);await pn.updateSGIProcess(e.id,{indicators:it})}d({indicatorId:"",value:"",comment:"",files:[]}),alert("Evidencia enviada correctamente.")}catch(M){console.error("Error submitting fulfillment:",M),alert(M.message||"Error al enviar la evidencia.")}finally{A(!1)}};return s?v.jsx("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:"Cargando procesos..."}):v.jsxs("div",{style:{padding:"20px",display:"flex",gap:"30px",minHeight:"80vh"},children:[v.jsxs("div",{style:{width:"300px",flexShrink:0},children:[v.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(bu,{color:"var(--primary)"})," Mis Procesos SGI"]}),n.length===0?v.jsx("div",{className:"glass-card",style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:"No tienes procesos asignados en este momento."}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(z=>v.jsxs("div",{onClick:()=>r(z),className:"glass-card",style:{padding:"15px",cursor:"pointer",border:e?.id===z.id?"1px solid var(--primary)":"1px solid transparent",background:e?.id===z.id?"rgba(0, 108, 224, 0.15)":"rgba(255,255,255,0.05)",transition:"all 0.2s ease"},children:[v.jsx("div",{style:{fontWeight:"bold"},children:z.name}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"5px"},children:[z.indicators?.length||0," Indicadores definidos"]})]},z.id))})]}),v.jsx("div",{style:{flex:1},children:e?v.jsxs("div",{children:[v.jsxs("div",{className:"glass-card",style:{padding:"25px",marginBottom:"30px"},children:[v.jsx("h2",{style:{margin:0},children:e.name}),v.jsx("p",{style:{color:"var(--text-muted)",margin:"10px 0 0 0"},children:e.description})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:e.indicators?.map(z=>v.jsxs("div",{className:"glass-card",style:{padding:"25px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[v.jsxs("div",{children:[v.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:z.name}),v.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[z.requiresPhoto&&v.jsxs("span",{className:"badge-blue",children:[v.jsx(N0,{size:12})," Foto"]}),z.requiresFile&&v.jsxs("span",{className:"badge-blue",children:[v.jsx(Lp,{size:12})," Archivo"]}),z.requiresComment&&v.jsxs("span",{className:"badge-blue",children:[v.jsx(i4,{size:12})," Comentario"]})]})]}),v.jsxs("div",{style:{textAlign:"right"},children:[v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Meta Mensual"}),v.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[z.target," ",z.unit]})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",background:"rgba(0,0,0,0.2)",padding:"20px",borderRadius:"12px"},children:[v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[v.jsxs("div",{className:"input-group",style:{margin:0},children:[v.jsx("label",{children:"Valor Real (Mes Actual)"}),v.jsx("input",{type:"number",placeholder:`0.00 ${z.unit}`,onChange:M=>d({...f,value:M.target.value})})]}),z.requiresComment&&v.jsxs("div",{className:"input-group",style:{margin:0},children:[v.jsx("label",{children:"Comentarios / Observaciones"}),v.jsx("textarea",{placeholder:"Describa el progreso o hallazgos...",style:{minHeight:"80px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",color:"white",padding:"10px",borderRadius:"8px"},onChange:M=>d({...f,comment:M.target.value})})]})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(z.requiresPhoto||z.requiresFile)&&v.jsxs("div",{className:"input-group",style:{margin:0},children:[v.jsx("label",{children:"Evidencia (Fotos/Archivos)"}),v.jsxs("div",{style:{border:"2px dashed var(--border-color)",padding:"20px",borderRadius:"12px",textAlign:"center",position:"relative",cursor:"pointer",background:f.files.length>0?"rgba(52, 211, 153, 0.05)":"transparent"},children:[v.jsx("input",{type:"file",multiple:!0,accept:z.requiresPhoto?"image/*,.pdf,.doc,.docx":"*",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:F}),v.jsx(iC,{size:24,color:"var(--primary)",style:{marginBottom:"10px"}}),v.jsx("div",{style:{fontSize:"0.9rem"},children:f.files.length>0?`${f.files.length} archivos seleccionados`:"Haga clic o arrastre para subir evidencia"})]})]}),v.jsx("button",{disabled:y,onClick:()=>H(z.id),className:"btn-primary",style:{marginTop:"auto",display:"flex",justifyContent:"center",gap:"10px"},children:y?"Enviando...":v.jsxs(v.Fragment,{children:[v.jsx(WT,{size:18})," Enviar Cumplimiento"]})})]})]}),v.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"15px"},children:[v.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(bu,{size:14})," Historial de Entregas"]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:C.filter(M=>M.indicatorId===z.id).length===0?v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:"Sin entregas previas este mes."}):C.filter(M=>M.indicatorId===z.id).map(M=>v.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"8px",fontSize:"0.85rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[v.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:[M.value," ",z.unit]}),v.jsx("span",{style:{fontSize:"0.75rem",opacity:.6},children:new Date(M.timestamp).toLocaleString()})]}),M.comment&&v.jsx("p",{style:{margin:"0 0 5px 0",opacity:.8},children:M.comment}),M.attachments&&M.attachments.length>0&&v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:M.attachments.map((et,nt)=>v.jsxs("a",{href:et.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(Lp,{size:12})," ",v.jsx("span",{style:{textDecoration:"underline"},children:et.name})]},nt))})]},M.id))})]})]},z.id))})]}):v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[v.jsx(oo,{size:80,style:{marginBottom:"20px"}}),v.jsx("h2",{children:"Selecciona un proceso para comenzar"})]})})]})},tI=()=>{const{user:n,logout:t,users:e}=Hf(),{tickets:r,addTicket:s,updateTicketStatus:o,deleteTicket:c}=hC(),{computers:h}=km(),[f,d]=Zt.useState("view_tickets"),[y,A]=Zt.useState({title:"",description:"",priority:"medium"}),[C,_]=Zt.useState(!1),[F,H]=Zt.useState(null),[z,M]=Zt.useState({solution:"",recommendation:""}),[et,nt]=Zt.useState(null),[it,_t]=Zt.useState({rating:5,comment:""}),[Dt,$]=Zt.useState(10),[O,w]=Zt.useState(""),[q,I]=Zt.useState(""),R=K=>{K.preventDefault(),et&&(o(et,"closed",{feedback:{rating:parseInt(it.rating),comment:it.comment,createdAt:new Date().toISOString()}}),nt(null),_t({rating:5,comment:""}))},[E,rt]=Zt.useState(null);if(!n)return null;console.log("Dashboard loaded - Version: 2.1.1 (Activity Fixed)");const yt=()=>{try{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),_(!1)):(document.documentElement.requestFullscreen(),_(!0))}catch(K){console.error("Fullscreen error",K)}},st=K=>{K.preventDefault(),s({...y,author:n.username}),A({title:"",description:"",priority:"medium"}),d("view_tickets")},ft=K=>{K.preventDefault(),E&&(o(E.id,E.status,{title:E.title,description:E.description,priority:E.priority,...bt&&{solution:E.solution,recommendation:E.recommendation}}),rt(null))},U=K=>{window.confirm("Est seguro de que desea eliminar este ticket?")&&c(K)},ct=K=>{K.preventDefault(),o(F,"closed",{solution:z.solution,recommendation:z.recommendation,closedAt:new Date().toISOString(),closedBy:n.username});const ht=(r||[]).find(gt=>gt.id===F);if(ht){const gt=(e||[]).find(Ct=>Ct.username===ht.author);gt&&gt.email&&(console.log(`%c SISTEMA ENVIANDO CORREO A: ${gt.email}`,"color: #10b981; font-weight: bold;"),console.log(`Asunto:  Ticket Resuelto: ${ht.title}`),console.log(`Solucin: ${z.solution}`),console.log(`Recomendacin: ${z.recommendation}`))}H(null),M({solution:"",recommendation:""})},bt=n.role==="admin",X=bt||n.canManageAssets,j=r||[],P=j.filter(K=>K.status==="open").length,W=j.filter(K=>K.status==="closed").length;return v.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-color)",color:"white"},children:[E&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[v.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(oc,{color:"var(--primary)",size:24})," Editar Ticket"]}),v.jsx("button",{onClick:()=>rt(null),style:{background:"transparent",color:"var(--text-muted)"},children:v.jsx(s4,{size:24})})]}),v.jsxs("form",{onSubmit:ft,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Ttulo / Asunto"}),v.jsx("input",{type:"text",required:!0,value:E.title,onChange:K=>rt({...E,title:K.target.value})})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Prioridad"}),v.jsxs("select",{value:E.priority,onChange:K=>rt({...E,priority:K.target.value}),children:[v.jsx("option",{value:"low",children:"Baja"}),v.jsx("option",{value:"medium",children:"Media"}),v.jsx("option",{value:"high",children:"Alta"})]})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Descripcin del Problema"}),v.jsx("textarea",{rows:"5",required:!0,value:E.description,onChange:K=>rt({...E,description:K.target.value})})]}),bt&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Resolucin Tcnica (Admin)"}),v.jsx("textarea",{rows:"4",value:E.solution||"",onChange:K=>rt({...E,solution:K.target.value}),placeholder:"Detalle tcnico de la solucin..."})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Recomendaciones (Admin)"}),v.jsx("textarea",{rows:"3",value:E.recommendation||"",onChange:K=>rt({...E,recommendation:K.target.value}),placeholder:"Recomendaciones para el cliente..."})]})]}),v.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,padding:"15px"},children:"Guardar Cambios"}),v.jsx("button",{type:"button",onClick:()=>rt(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),F&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"600px",border:"1px solid var(--primary)",maxHeight:"90vh",overflowY:"auto"},children:[v.jsxs("h3",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(Tl,{color:"var(--success)",size:24})," Finalizar Servicio Tcnico"]}),v.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Complete los detalles de la solucin para cerrar el caso y notificar al usuario."}),v.jsxs("form",{onSubmit:ct,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Descripcin de la Solucin"}),v.jsx("textarea",{rows:"4",required:!0,value:z.solution,onChange:K=>M({...z,solution:K.target.value}),placeholder:"Detalle los pasos tcnicos realizados..."})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Recomendaciones al Usuario"}),v.jsx("textarea",{rows:"3",required:!0,value:z.recommendation,onChange:K=>M({...z,recommendation:K.target.value}),placeholder:"Recomendaciones sugeridas para el futuro..."})]}),v.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--success)",padding:"15px"},children:"Confirmar y Enviar Notificacin"}),v.jsx("button",{type:"button",onClick:()=>H(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Cancelar"})]})]})]})}),et&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"clamp(20px, 5vw, 40px)",width:"100%",maxWidth:"500px",border:"1px solid var(--warning)",maxHeight:"90vh",overflowY:"auto"},children:[v.jsxs("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px",color:"var(--warning)"},children:[v.jsx(Gd,{size:24,fill:"var(--warning)"})," Calificar Servicio"]}),v.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"25px",fontSize:"0.9rem"},children:"Su opinin es importante para mejorar nuestro servicio de soporte."}),v.jsxs("form",{onSubmit:R,children:[v.jsxs("div",{className:"input-group",style:{textAlign:"center",marginBottom:"20px"},children:[v.jsx("label",{style:{marginBottom:"10px",display:"block"},children:"Calificacin General"}),v.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[1,2,3,4,5].map(K=>v.jsx("button",{type:"button",onClick:()=>_t({...it,rating:K}),style:{background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:ht=>ht.currentTarget.style.transform="scale(1.2)",onMouseLeave:ht=>ht.currentTarget.style.transform="scale(1)",children:v.jsx(Gd,{size:32,color:K<=it.rating?"var(--warning)":"gray",fill:K<=it.rating?"var(--warning)":"transparent"})},K))})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Comentarios Adicionales (Opcional)"}),v.jsx("textarea",{rows:"3",value:it.comment,onChange:K=>_t({...it,comment:K.target.value}),placeholder:"Qu le pareci la atencin?..."})]}),v.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<600?"column":"row",gap:"15px",marginTop:"30px"},children:[v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1.5,background:"var(--warning)",color:"black",fontWeight:"bold",padding:"15px"},children:"Enviar Calificacin"}),v.jsx("button",{type:"button",onClick:()=>nt(null),style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"Omitir"})]})]})]})}),v.jsxs("nav",{style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",padding:"10px 15px",borderBottom:"1px solid var(--border-color)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100,gap:"10px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",flex:1},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx("img",{src:_h,alt:"ELSPEC Logo",style:{height:"40px"}}),v.jsxs("h1",{style:{fontSize:"clamp(1rem, 4vw, 1.4rem)",margin:0,fontWeight:800,letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:["ELSPEC ",v.jsx("span",{style:{color:"var(--primary)"},children:"ANDINA"})]})]}),v.jsxs("div",{className:"glass-card",style:{display:"flex",padding:"3px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",flexWrap:"wrap"},children:[v.jsxs("button",{onClick:()=>d("create_ticket"),style:{background:f==="create_ticket"?"var(--primary)":"transparent",border:"none",color:f==="create_ticket"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(bh,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Nueva Solicitud"})]}),v.jsxs("button",{onClick:()=>d("view_tickets"),style:{background:f==="view_tickets"?"var(--primary)":"transparent",border:"none",color:f==="view_tickets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(jg,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:bt?"Bandeja de Entrada":"Mis Tickets"})]}),bt&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>d("users"),style:{background:f==="users"?"var(--primary)":"transparent",border:"none",color:f==="users"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(lC,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Usuarios"})]}),v.jsxs("button",{onClick:()=>d("reports"),style:{background:f==="reports"?"var(--primary)":"transparent",border:"none",color:f==="reports"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(oo,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Reportes"})]})]}),v.jsxs("button",{onClick:()=>d("assets"),style:{background:f==="assets"?"var(--primary)":"transparent",border:"none",color:f==="assets"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(e1,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Activos"})]}),X&&v.jsxs("button",{onClick:()=>d("maintenance"),style:{background:f==="maintenance"?"var(--primary)":"transparent",border:"none",color:f==="maintenance"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(Ip,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mantenimiento"})]}),(bt||n.role==="sgi")&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>d("sgi_indicators"),style:{background:f==="sgi_indicators"?"var(--primary)":"transparent",border:"none",color:f==="sgi_indicators"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(jm,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Indicadores SGI"})]}),v.jsxs("button",{onClick:()=>d("sgi_processes"),style:{background:f==="sgi_processes"?"var(--primary)":"transparent",border:"none",color:f==="sgi_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(oo,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Gestin Procesos"})]})]}),v.jsxs("button",{onClick:()=>d("my_processes"),style:{background:f==="my_processes"?"var(--primary)":"transparent",border:"none",color:f==="my_processes"?"white":"var(--text-muted)",padding:"6px 10px",borderRadius:"7px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"clamp(0.75rem, 2vw, 0.85rem)"},children:[v.jsx(bu,{size:16})," ",v.jsx("span",{style:{display:window.innerWidth<480?"none":"inline"},children:"Mis Procesos"})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[v.jsx("button",{onClick:yt,title:"Pantalla Completa",style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:C?v.jsx(zT,{size:18}):v.jsx(MT,{size:18})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",borderLeft:"1px solid var(--border-color)",paddingLeft:"20px"},children:[v.jsxs("div",{style:{textAlign:"right"},children:[v.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:n.username}),v.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:n.role})]}),v.jsx("button",{onClick:()=>{t(),window.location.reload()},style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"var(--danger)",padding:"8px",borderRadius:"8px",cursor:"pointer"},children:v.jsx(jT,{size:18})})]})]})]}),v.jsxs("div",{style:{padding:"clamp(15px, 4vw, 30px)"},children:[v.jsx("header",{style:{marginBottom:"30px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[v.jsxs("div",{children:[v.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"5px"},children:f==="create_ticket"?"Nueva Solicitud de Soporte":f==="view_tickets"?bt?"Consola de Administracin IT":"Mis Solicitudes Tcnicas":f==="users"?"Control de Accesos":f==="assets"?"Gestin de Activos y Equipos":f==="maintenance"?"Cronograma de Mantenimiento":f==="sgi_indicators"?"Tablero de Control SGI":f==="sgi_processes"?"Gestin de Procesos SGI":f==="my_processes"?"Mis Procesos Asignados":"Centro de Generacin de Informes"}),v.jsx("p",{style:{color:"var(--text-muted)"},children:"Mesa de servicios corporativa - Soporte Interno ELSPEC ANDINA."})]}),bt&&f==="view_tickets"&&v.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Estado Global: ",v.jsx("span",{style:{color:"var(--success)",fontWeight:"bold"},children:"Operativo"})]})]})}),bt&&f==="view_tickets"&&v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},children:[v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(0, 108, 224, 0.15)",padding:"14px",borderRadius:"15px"},children:v.jsx(RT,{color:"var(--primary)",size:28})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Tickets"}),v.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:j.length})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(245, 158, 11, 0.15)",padding:"14px",borderRadius:"15px"},children:v.jsx(e4,{color:"var(--warning)",size:28})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Pendientes"}),v.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:P})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(16, 185, 129, 0.15)",padding:"14px",borderRadius:"15px"},children:v.jsx(Tl,{color:"var(--success)",size:28})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px"},children:"Finalizados"}),v.jsx("div",{style:{fontSize:"1.8rem",fontWeight:800},children:W})]})]})]}),f==="create_ticket"&&v.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:v.jsxs("div",{className:"glass-card",style:{padding:"40px"},children:[v.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px",fontSize:"1.5rem"},children:[v.jsx(bh,{size:32,color:"var(--primary)"})," Nueva Solicitud de Soporte"]}),v.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"30px"},children:"Por favor complete el siguiente formulario con el mayor detalle posible para que nuestro equipo pueda asistirle eficientemente."}),v.jsxs("form",{onSubmit:st,children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Tipo de Servicio / Asunto"}),v.jsx("input",{type:"text",value:y.title,placeholder:"Ej: Falla en servidor de archivos, Error de software...",onChange:K=>A({...y,title:K.target.value}),required:!0,style:{fontSize:"1.1rem",padding:"15px"}})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Nivel de Prioridad"}),v.jsxs("select",{value:y.priority,onChange:K=>A({...y,priority:K.target.value}),style:{fontSize:"1rem",padding:"15px"},children:[v.jsx("option",{value:"low",children:"Baja - Consulta General"}),v.jsx("option",{value:"medium",children:"Media - Incidencia Relevante"}),v.jsx("option",{value:"high",children:"Alta - Urgencia Tcnica"})]})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Descripcin Detallada"}),v.jsx("textarea",{rows:"8",value:y.description,placeholder:"Describa el problema aqu. Incluya mensajes de error, pasos para reproducir, etc.",onChange:K=>A({...y,description:K.target.value}),required:!0,style:{fontSize:"1rem",padding:"15px"}})]}),v.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"20px",fontSize:"1.1rem",fontWeight:"bold"},children:"Enviar Solicitud"})]})]})}),f==="view_tickets"&&v.jsx("div",{style:{width:"100%"},children:v.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[v.jsxs("h3",{style:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(jg,{size:24,color:"var(--primary)"}),bt?"Registro General de Actividades IT":"Listado de mis Requerimientos"]}),v.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",marginBottom:"20px",background:"rgba(255,255,255,0.02)",padding:"15px",borderRadius:"10px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Mostrar:"}),v.jsxs("select",{value:Dt,onChange:K=>$(Number(K.target.value)),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"5px 10px"},children:[v.jsx("option",{value:5,children:"5 ltimos"}),v.jsx("option",{value:10,children:"10 ltimos"}),v.jsx("option",{value:20,children:"20 ltimos"}),v.jsx("option",{value:50,children:"50 ltimos"}),v.jsx("option",{value:1e3,children:"Todos"})]})]}),v.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-color)"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Desde:"}),v.jsx("input",{type:"date",value:O,onChange:K=>w(K.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Hasta:"}),v.jsx("input",{type:"date",value:q,onChange:K=>I(K.target.value),style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-color)",color:"white",borderRadius:"5px",padding:"4px 10px",colorScheme:"dark"}})]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:j.length===0?v.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"100px 0",opacity:.4},children:[v.jsx(jg,{size:64,style:{marginBottom:"20px"}}),v.jsx("p",{style:{fontSize:"1.1rem"},children:"No existen tickets registrados en este momento."})]}):j.filter(K=>{if(bt||K.author===n.username){let ht=!0;if(O&&(ht=ht&&new Date(K.createdAt)>=new Date(O)),q){const gt=new Date(q);gt.setHours(23,59,59,999),ht=ht&&new Date(K.createdAt)<=gt}return ht}return!1}).sort((K,ht)=>new Date(ht.createdAt)-new Date(K.createdAt)).slice(0,Dt).map(K=>{const ht=bt||K.author===n.username;return v.jsxs("div",{style:{padding:"clamp(15px, 4vw, 25px)",background:"rgba(255,255,255,0.01)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"var(--transition)"},children:[v.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"flex-start"),marginBottom:"20px",gap:"15px"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsx("h4",{style:{fontSize:"clamp(1.1rem, 3vw, 1.3rem)",margin:"0 0 10px 0",color:"white"},children:K.title}),v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[v.jsx("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"20px",background:K.priority==="high"?"rgba(239, 68, 68, 0.2)":K.priority==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",color:K.priority==="high"?"var(--danger)":K.priority==="medium"?"var(--warning)":"var(--success)",textTransform:"uppercase",fontWeight:800,letterSpacing:"0.5px"},children:K.priority}),v.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(bu,{size:14})," Creacin: ",K.createdAt?new Date(K.createdAt).toLocaleString():"Fecha N/A"]}),K.closedAt&&v.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--success)",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(Tl,{size:14})," Cierre: ",new Date(K.closedAt).toLocaleString()]}),v.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["ID: ",v.jsx("code",{style:{color:"var(--primary)"},children:K.id?K.id.slice(-6):"N/A"})]}),v.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",borderLeft:"1px solid rgba(255,255,255,0.1)",paddingLeft:"15px"},children:["Autor: ",v.jsx("b",{style:{color:"white"},children:K.author})]})]})]}),v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px"},children:[K.status==="open"?v.jsxs("div",{style:{color:"var(--warning)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(245, 158, 11, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[v.jsx(bu,{size:16})," Pendiente"]}):v.jsxs("div",{style:{color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",background:"rgba(16, 185, 129, 0.08)",padding:"6px 14px",borderRadius:"30px"},children:[v.jsx(Tl,{size:16})," Resuelto"]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[ht&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>rt(K),title:"Editar Ticket",style:{background:"rgba(0, 108, 224, 0.1)",color:"var(--primary)",padding:"8px",borderRadius:"8px"},children:v.jsx(oc,{size:18})}),v.jsx("button",{onClick:()=>U(K.id),title:"Eliminar Ticket",style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"8px",borderRadius:"8px"},children:v.jsx(xh,{size:18})})]}),bt&&K.status==="open"&&v.jsx("button",{onClick:()=>H(K.id),className:"btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem",background:"var(--success)",borderRadius:"10px"},children:"Finalizar"})]})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:K.status==="closed"&&window.innerWidth>=768?"1fr 1fr":"1fr",gap:"20px"},children:[v.jsx("div",{style:{background:"rgba(0,0,0,0.15)",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Descripcin del Problema"}),v.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",margin:0,lineHeight:1.6},children:K.description})]})}),K.status==="closed"&&v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[v.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"20px",borderRadius:"12px",borderLeft:"4px solid var(--success)"},children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Resolucin Tcnica"}),v.jsx("p",{style:{color:"white",fontSize:"0.95rem",marginBottom:"15px",lineHeight:1.6},children:K.solution}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:"bold",marginBottom:"8px",textTransform:"uppercase"},children:"Recomendaciones"}),v.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0,lineHeight:1.6},children:K.recommendation})]}),K.feedback?v.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"15px",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[v.jsx(Gd,{size:16,fill:"var(--warning)",color:"var(--warning)"}),v.jsxs("span",{style:{fontWeight:"bold",color:"var(--warning)",fontSize:"0.9rem"},children:["Calificacin del Usuario: ",K.feedback.rating,"/5"]})]}),K.feedback.comment&&v.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",margin:"5px 0 0 0",fontStyle:"italic"},children:['"',K.feedback.comment,'"']})]}):K.author===n.username&&v.jsxs("button",{onClick:()=>{nt(K.id),_t({rating:5,comment:""})},style:{background:"rgba(245, 158, 11, 0.15)",color:"var(--warning)",border:"1px dashed var(--warning)",padding:"12px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:gt=>gt.currentTarget.style.background="rgba(245, 158, 11, 0.25)",onMouseLeave:gt=>gt.currentTarget.style.background="rgba(245, 158, 11, 0.15)",children:[v.jsx(Gd,{size:18})," Calificar Atencin"]})]})]})]},K.id)})})]})}),(f==="users"||f==="reports"||f==="assets"||f==="maintenance"||f==="sgi_indicators"||f==="sgi_processes"||f==="my_processes")&&v.jsxs("div",{style:{width:"100%"},children:[f==="users"&&v.jsx(fC,{}),f==="reports"&&v.jsx(qR,{tickets:r,computers:h}),f==="assets"&&(X?v.jsx(WR,{}):v.jsx($R,{computers:h,currentUser:n})),f==="maintenance"&&v.jsx(KR,{}),f==="sgi_indicators"&&v.jsx(XR,{tickets:r}),f==="sgi_processes"&&v.jsx(ZR,{}),f==="my_processes"&&v.jsx(JR,{})]})]})]})};class eI extends A3.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("ErrorBoundary caught an error:",t,e),this.setState({errorInfo:e})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?v.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#0f172a",color:"white",padding:"20px",textAlign:"center"},children:v.jsxs("div",{className:"glass-card",style:{padding:"40px",maxWidth:"500px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.05)"},children:[v.jsx(r4,{size:64,style:{color:"#ef4444",marginBottom:"20px"}}),v.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"Algo sali mal"}),v.jsx("p",{style:{color:"#94a3b8",marginBottom:"30px"},children:"La aplicacin ha encontrado un error inesperado al intentar cargar esta vista."}),v.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"8px",marginBottom:"30px",fontSize:"0.8rem",color:"#ef4444",maxHeight:"200px",overflow:"auto"},children:this.state.error&&this.state.error.toString()}),v.jsxs("button",{onClick:this.handleReload,style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"},children:[v.jsx(VT,{size:18})," Recargar Aplicacin"]})]})}):this.props.children}}function nI(){const{isAuthenticated:n}=Hf();return v.jsx("div",{className:"App",children:v.jsx(eI,{children:n?v.jsx(tI,{}):v.jsx(cC,{})})})}window.onerror=function(n,t,e,r,s){const o=`Error: ${n} at ${t}:${e}`;return console.error(o),!1};try{L3.createRoot(document.getElementById("root")).render(v.jsx(Zt.StrictMode,{children:v.jsx(nI,{})}))}catch(n){console.error("Render error:",n),document.body.innerHTML=`<div style="color: white; padding: 20px;">Error al cargar la aplicacin: ${n.message}</div>`}export{Qn as _,iI as c,x3 as g};
